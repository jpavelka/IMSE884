import{s as yt,n as se,b as xt,r as Sn,f as Rs,c as jt,u as Ut,g as qt,a as Ht,o as hu,y as H7,e as nn,z as Vn,i as Vc,d as VI,A as qu,B as G7}from"../chunks/scheduler.oslDIIsh.js";import{S as $t,i as _t,m as ct,j as S,g as $,e as ve,s as Se,c as ge,d as Pe,y as Ze,h as Ee,o as fe,k as oe,z as gt,t as z,q as Ji,n as Qi,a as L,A as Km,H as Xn,B as Kn,b as P,f as D,l as Gs,u as V,v as X,w as K,C as T_,x as Y,p as Ot,D as dm,E as XI}from"../chunks/index.CkuUemzc.js";import{r as wb,w as En}from"../chunks/index.SsoF0sMC.js";const KI=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ms(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function W7(r,t){const e={},i={},n={$$scope:1};let a=r.length;for(;a--;){const s=r[a],o=t[a];if(o){for(const l in s)l in o||(i[l]=1);for(const l in o)n[l]||(e[l]=o[l],n[l]=1);r[a]=o}else for(const l in s)n[l]=1}for(const s in i)s in e||(e[s]=void 0);return e}function YI(){return this.log.length}function JI(r=1){if(r<=0||r>this.currentVersion())return null;{const[t,e]=this.log[r-1],i=new this.constructor(JSON.parse(t),JSON.parse(e));return i.log=this.log.slice(0,r),i}}function QI(r=1){return this.retrieveVersion(this.currentVersion()-r)}function ZI(){return this.retrieveVersion(this.currentVersion())}function eC(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}const tC=Object.freeze(Object.defineProperty({__proto__:null,currentVersion:YI,retrieveLastVersion:ZI,retrieveVersion:JI,save:eC,undo:QI},Symbol.toStringTag,{value:"Module"})),O_=["real","string"],A_=["json","html","string","rtf"],I_=["csl","bibtex","bibtxt","citation-*","ris","ndjson"],C_=["string","function"];function Ym(r){if(typeof r!="object")throw new TypeError("Options not an object!");const{format:t,type:e,style:i,lang:n,append:a,prepend:s}=r;if(t&&!O_.includes(t))throw new TypeError(`Option format ("${t}") should be one of: ${O_}`);if(e&&!A_.includes(e))throw new TypeError(`Option type ("${e}") should be one of: ${A_}`);if(i&&!I_.includes(i)&&!/^citation/.test(i))throw new TypeError(`Option style ("${i}") should be one of: ${I_}`);if(n&&typeof n!="string")throw new TypeError(`Option lang should be a string, but is a ${typeof n}`);if(s&&!C_.includes(typeof s))throw new TypeError(`Option prepend should be a string or a function, but is a ${typeof s}`);if(a&&!C_.includes(typeof a))throw new TypeError(`Option append should be a string or a function, but is a ${typeof a}`);if(/^citation/.test(i)&&e==="json")throw new Error(`Combination type/style of json/citation-* is not valid: ${e}/${i}`);return!0}function rC(r){if(typeof r!="object")throw new TypeError("Options should be an object");if(r.output)Ym(r.output);else{if(r.maxChainLength&&typeof r.maxChainLength!="number")throw new TypeError("Option maxChainLength should be a number");if(r.forceType&&typeof r.forceType!="string")throw new TypeError("Option forceType should be a string");if(r.generateGraph!=null&&typeof r.generateGraph!="boolean")throw new TypeError("Option generateGraph should be a boolean");if(r.strict!=null&&typeof r.strict!="boolean")throw new TypeError("Option strict should be a boolean");if(r.target!=null&&typeof r.target!="string")throw new TypeError("Option target should be a boolean")}return!0}const iC={format:"real",type:"json",style:"csl",lang:"en-US"};function nC(r,t){return Ym(r),t&&this.save(),Object.assign(this._options,r),this}const aC=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:iC,options:nC},Symbol.toStringTag,{value:"Module"}));function Cg(r){switch(r){case void 0:return"Undefined";case null:return"Null";default:return r.constructor.name}}function V7(r){switch(typeof r){case"string":return"String";case"object":if(Array.isArray(r))return"Array";if(Cg(r)==="Object")return"SimpleObject";if(Cg(r)!=="Null")return"ComplexObject";default:return"Primitive"}}const sC=Object.freeze(Object.defineProperty({__proto__:null,dataTypeOf:V7,typeOf:Cg},Symbol.toStringTag,{value:"Module"}));function X7(r,t){if(r._graph){const e=t.findIndex(({type:i})=>i==="@else/list+object");e!==-1&&t.splice(e+1,0,...r._graph.slice(0,-1))}return r._graph=t,r}function K7(r){return delete r._graph,r}const oC=Object.freeze(Object.defineProperty({__proto__:null,applyGraph:X7,removeGraph:K7},Symbol.toStringTag,{value:"Module"})),_n={_output(r,t,e){this._log.push(t,e),!(this._levels.indexOf(r)<this._levels.indexOf(this.level))&&this._console.log(t,...e)},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"};for(const r of _n._levels)_n[r]=(t,...e)=>_n._output(r,t,e);typeof console.Console=="function"?_n._console=new console.Console(process.stderr):_n._console=console;const Un={},To={},hl={};function P_(r,t){switch(t){case"Array":return r.length===0||r.every(e=>Oo(e)==="@csl/object")?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}}function Y7(r=[],t){for(const e of r)if(Un[e].predicate(t))return Y7(Un[e].extensions,t)||e}function Oo(r){const t=V7(r);return t==="Array"&&r.length===0?P_(r,t):Y7(To[t],r)||P_(r,t)}function J7(r,{dataType:t,predicate:e,extends:i}){let n=[];r in hl&&(n=hl[r],delete hl[r],_n.debug("[core]",`Subclasses "${n}" finally registered to parent type "${r}"`));const a={predicate:e,extensions:n};if(Un[r]=a,i){const s=Un[i];s?s.extensions.push(r):(hl[i]||(hl[i]=[]),hl[i].push(r),_n.debug("[core]",`Subclass "${r}" is waiting on parent type "${i}"`))}else(To[t]||(To[t]=[])).push(r)}function lC(r){return Object.prototype.hasOwnProperty.call(Un,r)}function Q7(r){delete Un[r],[...Object.keys(To).map(e=>To[e]),...Object.keys(Un).map(e=>Un[e].extensions).filter(e=>e.length>0)].forEach(e=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)})}function uC(){return Object.keys(Un)}function fC(){const r=t=>({name:t,children:Un[t].extensions.map(r)});return{name:"Type tree",children:Object.keys(To).map(t=>({name:t,children:To[t].map(r)}))}}const Z7=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/;function cC(r,t,e){return t=hC(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function hC(r){var t=mC(r,"string");return typeof t=="symbol"?t:String(t)}function mC(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}class eS{constructor(t){cC(this,"validDataTypes",["String","Array","SimpleObject","ComplexObject","Primitive"]),this.data=t}validateDataType(){const t=this.data.dataType;if(t&&!this.validDataTypes.includes(t))throw new RangeError(`dataType was ${t}; expected one of ${this.validDataTypes}`)}validateParseType(){const t=this.data.predicate;if(t&&!(t instanceof RegExp||typeof t=="function"))throw new TypeError(`predicate was ${typeof t}; expected RegExp or function`)}validateTokenList(){const t=this.data.tokenList;if(t&&typeof t!="object")throw new TypeError(`tokenList was ${typeof t}; expected object or RegExp`)}validatePropertyConstraint(){const t=this.data.propertyConstraint;if(t&&typeof t!="object")throw new TypeError(`propertyConstraint was ${typeof t}; expected array or object`)}validateElementConstraint(){const t=this.data.elementConstraint;if(t&&typeof t!="string")throw new TypeError(`elementConstraint was ${typeof t}; expected string`)}validateExtends(){const t=this.data.extends;if(t&&typeof t!="string")throw new TypeError(`extends was ${typeof t}; expected string`)}validate(){if(this.data===null||typeof this.data!="object")throw new TypeError(`typeParser was ${typeof this.data}; expected object`);this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let t=this.data.tokenList;if(t)t instanceof RegExp&&(t={token:t});else return[];const{token:e,split:i=/\s+/,trim:n=!0,every:a=!0}=t,s=u=>n?u.trim():u,o=a?"every":"some";return[u=>s(u).split(i)[o](f=>e.test(f))]}parsePropertyConstraint(){return[].concat(this.data.propertyConstraint||[]).map(({props:e,match:i,value:n})=>{switch(e=[].concat(e),i){case"any":case"some":return a=>e.some(s=>s in a&&(!n||n(a[s])));case"none":return a=>!e.some(s=>s in a&&(!n||n(a[s])));case"every":default:return a=>e.every(s=>s in a&&(!n||n(a[s])))}})}parseElementConstraint(){const t=this.data.elementConstraint;return t?[e=>e.every(i=>Oo(i)===t)]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){const t=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return t.length===0?()=>!0:t.length===1?t[0]:e=>t.every(i=>i(e))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp||this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}class Pg{constructor(t,{async:e}={}){this.parser=t,this.async=e}validate(){const t=this.parser;if(typeof t!="function")throw new TypeError(`parser was ${typeof t}; expected function`)}}class tS{constructor(t,e={}){this.format=t,e.parseType&&(this.typeParser=new eS(e.parseType)),e.parse&&(this.dataParser=new Pg(e.parse,{async:!1})),e.parseAsync&&(this.asyncDataParser=new Pg(e.parseAsync,{async:!0}))}validateFormat(){const t=this.format;if(!Z7.test(t))throw new TypeError(`format name was "${t}"; didn't match expected pattern`)}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}const pC=Object.freeze(Object.defineProperty({__proto__:null,DataParser:Pg,FormatParser:tS,TypeParser:eS},Symbol.toStringTag,{value:"Module"}));var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sb={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.default=Bn.parse=Bn.types=Bn.scope=void 0;function D_(r,t){return gC(r)||vC(r,t)||dC()}function dC(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function vC(r,t){var e=[],i=!0,n=!1,a=void 0;try{for(var s=r[Symbol.iterator](),o;!(i=(o=s.next()).done)&&(e.push(o.value),!(t&&e.length===t));i=!0);}catch(l){n=!0,a=l}finally{try{!i&&s.return!=null&&s.return()}finally{if(n)throw a}}return e}function gC(r){if(Array.isArray(r))return r}const rS=r=>r.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1"),Eb=r=>`(?:${r.join("|")})\\b`,kb=(r,t)=>new RegExp(`(?:^| )(${r}$)`,t),bC=["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"],yC=["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"],$C=["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"],_C=Eb(bC.map(rS)),Dg=Eb(yC.map(rS)),wC=Eb($C),xC=new RegExp(`^((?:${_C} )*)(.*)$`,"i"),SC=kb(`(?:${Dg}, )*(?:${Dg})`,"i"),EC=kb(`${/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source}.*`),kC=kb(`(?:${/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source}.*|${wC}.*|\\S*)`),TC=function(t=""){typeof t!="string"&&(t=t+"");let e="",i="",n="";if(/[^.], /.test(t)){const d=t.split(", ");n=d.shift();const v=RegExp(Dg).exec(d.join(", "));e=d.splice(v&&v.index!==0?0:-1,1)[0],i=d.join(", ")}else{const d=t.split(SC,2),v=d.shift().split(kC,2);e=v[0],n=v[1],i=d.pop()}const a=e.match(xC),s=D_(a,3),o=s[1],l=s[2],u=i,f=n.split(EC,2).reverse(),h=D_(f,2),c=h[0],m=h[1];if(!l&&c)return c.includes(" ")?{literal:c}:{family:c};if(c){const d={"dropping-particle":o,given:l,suffix:u,"non-dropping-particle":m,family:c};return Object.keys(d).forEach(v=>{d[v]||delete d[v]}),d}else return{literal:t}};Bn.default=Bn.parse=TC;const OC="@name";Bn.scope=OC;const AC="@name";Bn.types=AC;var Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.default=void 0;const Wd=["dropping-particle","given"],Vd=["suffix"],N_=["non-dropping-particle","family"],IC=function(t,e=!1){const i=n=>n.map(a=>t[a]||"").filter(Boolean).join(" ");if(t.literal)return t.literal;if(e){const n=i(Vd)?`, ${i(Vd)}`:"",a=i(Wd)?`, ${i(Wd)}`:"";return i(N_)+n+a}else return`${i([...Wd,...Vd,...N_])}`};var CC=IC;Jm.default=CC;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"format",{enumerable:!0,get:function(){return e.default}});var t=i(Bn),e=i(Jm);function i(n){return n&&n.__esModule?n:{default:n}}})(Sb);function R_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function Ng(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(e),!0).forEach(function(i){PC(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):R_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function PC(r,t,e){return t=DC(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function DC(r){var t=NC(r,"string");return typeof t=="symbol"?t:String(t)}function NC(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const RC=1,Rt=2,vs=3,iS=4,Xd={article:!0,"article-journal":!0,"article-magazine":!0,"article-newspaper":!0,bill:!0,book:!0,broadcast:!0,chapter:!0,classic:!0,collection:!0,dataset:!0,document:!0,entry:!0,"entry-dictionary":!0,"entry-encyclopedia":!0,event:!0,figure:!0,graphic:!0,hearing:!0,interview:!0,legal_case:!0,legislation:!0,manuscript:!0,map:!0,motion_picture:!0,musical_score:!0,pamphlet:!0,"paper-conference":!0,patent:!0,performance:!0,periodical:!0,personal_communication:!0,post:!0,"post-weblog":!0,regulation:!0,report:!0,review:!0,"review-book":!0,software:!0,song:!0,speech:!0,standard:!0,thesis:!0,treaty:!0,webpage:!0,"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference",dissertation:"thesis"},M_={author:Rt,chair:Rt,"collection-editor":Rt,compiler:Rt,composer:Rt,"container-author":Rt,contributor:Rt,curator:Rt,director:Rt,editor:Rt,"editorial-director":Rt,"executive-producer":Rt,guest:Rt,host:Rt,interviewer:Rt,illustrator:Rt,narrator:Rt,organizer:Rt,"original-author":Rt,performer:Rt,producer:Rt,"reviewed-author":Rt,recipient:Rt,"script-writer":Rt,"series-creator":Rt,translator:Rt,accessed:vs,"available-date":vs,container:vs,"event-date":vs,issued:vs,"original-date":vs,submitted:vs,type:iS,categories:"object",custom:"object",id:["string","number"],language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_collection:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-key":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",division:"string",DOI:"string",edition:["string","number"],event:"string","event-title":"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string","part-number":["string","number"],"part-title":"string",PMCID:"string",PMID:"string",printing:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string","reviewed-genre":"string",scale:"string",section:"string",source:"string",status:"string",supplement:["string","number"],title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"volume-title":"string","volume-title-short":"string","year-suffix":"string"};function nS(r,t){if(typeof r=="object"&&r!==null&&(r.literal||r.given||r.family))return(r.ORCID||r.orcid||r._ORCID)&&(r=Ng({_orcid:r.ORCID||r.orcid||r._ORCID},r),delete r.ORCID,delete r.orcid,delete r._ORCID),r;if(t){if(typeof r=="string")return Sb.parse(r)}else return}function MC(r,t){if(r instanceof Array){const e=r.map(i=>nS(i,t)).filter(Boolean);return e.length?e:void 0}}function Kd(r,t){return r.every(e=>typeof e=="number")?r:!t||r.some(e=>isNaN(parseInt(e)))?void 0:r.map(e=>parseInt(e))}function BC(r,t){const e="date-parts";if(!(typeof r!="object"||r===null)){if(r[e]instanceof Array&&r[e].every(i=>i instanceof Array)){const i=r[e].map(n=>Kd(n,t)).filter(Boolean);return i.length?Ng(Ng({},r),{},{"date-parts":i}):void 0}else if(r instanceof Array&&r.every(i=>i[e]instanceof Array)){const i=r.map(n=>Kd(n[e],t)).filter(Boolean);return i.length?{"date-parts":i}:void 0}else if(r[e]instanceof Array){const i=Kd(r[e],t);return i&&{"date-parts":[i]}}else if("literal"in r||"raw"in r)return r}}function FC(r,t){return r=Tb("language",r,t),Xd[r]===!0?r:t&&r in Xd?Xd[r]:void 0}function Tb(r,t,e){const i=[].concat(M_[r]);switch(M_[r]){case RC:return nS(t,e);case Rt:return MC(t,e);case vs:return BC(t,e);case iS:return FC(t,e)}if(e){if(typeof t=="string"&&i.includes("number")&&!i.includes("string")&&!isNaN(+t))return parseFloat(t);if(typeof t=="number"&&i.includes("string")&&!i.includes("number"))return t.toString();if(Array.isArray(t)&&t.length)return Tb(r,t[0],e)}if(i.includes(typeof t))return t}function aS(r,t=!0){return r.map(function(e){const i={};for(const n in e){const a=Tb(n,e[n],t);a!==void 0&&(i[n]=a)}return i})}const zC=Object.freeze(Object.defineProperty({__proto__:null,clean:aS},Symbol.toStringTag,{value:"Module"}));function B_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function sS(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(e),!0).forEach(function(i){LC(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):B_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function LC(r,t,e){return t=jC(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function jC(r){var t=UC(r,"string");return typeof t=="symbol"?t:String(t)}function UC(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function oS(r){return Array.isArray(r)?r.map(oS):(r=sS({},r),"event"in r&&(r["event-title"]=r.event,delete r.event),r.type==="book"&&"version"in r&&(r.type="software"),r)}function yf(r){return Array.isArray(r)?r.map(yf):(r=sS({},r),"event-title"in r&&(r.event=r["event-title"],delete r["event-title"]),r.type==="software"&&(r.type="book"),r)}function Ao(r,t=new Set){if(typeof r!="object"||r===null||r.constructor!==Object&&r.constructor!==Array)return r;if(t.has(r))throw new TypeError("Recursively copying circular structure");t.add(r);let e;if(r.constructor===Array)e=r.map(i=>Ao(i,t));else{const i={};for(const n in r)i[n]=Ao(r[n],t);e=i}return t.delete(r),e}var lS={},Qm={};Qm.byteLength=GC;Qm.toByteArray=VC;Qm.fromByteArray=YC;var Rn=[],Gi=[],qC=typeof Uint8Array<"u"?Uint8Array:Array,Yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ml=0,HC=Yd.length;ml<HC;++ml)Rn[ml]=Yd[ml],Gi[Yd.charCodeAt(ml)]=ml;Gi[45]=62;Gi[95]=63;function uS(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var i=e===t?0:4-e%4;return[e,i]}function GC(r){var t=uS(r),e=t[0],i=t[1];return(e+i)*3/4-i}function WC(r,t,e){return(t+e)*3/4-e}function VC(r){var t,e=uS(r),i=e[0],n=e[1],a=new qC(WC(r,i,n)),s=0,o=n>0?i-4:i,l;for(l=0;l<o;l+=4)t=Gi[r.charCodeAt(l)]<<18|Gi[r.charCodeAt(l+1)]<<12|Gi[r.charCodeAt(l+2)]<<6|Gi[r.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return n===2&&(t=Gi[r.charCodeAt(l)]<<2|Gi[r.charCodeAt(l+1)]>>4,a[s++]=t&255),n===1&&(t=Gi[r.charCodeAt(l)]<<10|Gi[r.charCodeAt(l+1)]<<4|Gi[r.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function XC(r){return Rn[r>>18&63]+Rn[r>>12&63]+Rn[r>>6&63]+Rn[r&63]}function KC(r,t,e){for(var i,n=[],a=t;a<e;a+=3)i=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(r[a+2]&255),n.push(XC(i));return n.join("")}function YC(r){for(var t,e=r.length,i=e%3,n=[],a=16383,s=0,o=e-i;s<o;s+=a)n.push(KC(r,s,s+a>o?o:s+a));return i===1?(t=r[e-1],n.push(Rn[t>>2]+Rn[t<<4&63]+"==")):i===2&&(t=(r[e-2]<<8)+r[e-1],n.push(Rn[t>>10]+Rn[t>>4&63]+Rn[t<<2&63]+"=")),n.join("")}var Ob={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ob.read=function(r,t,e,i,n){var a,s,o=n*8-i-1,l=(1<<o)-1,u=l>>1,f=-7,h=e?n-1:0,c=e?-1:1,m=r[t+h];for(h+=c,a=m&(1<<-f)-1,m>>=-f,f+=o;f>0;a=a*256+r[t+h],h+=c,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=i;f>0;s=s*256+r[t+h],h+=c,f-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,i),a=a-u}return(m?-1:1)*s*Math.pow(2,a-i)};Ob.write=function(r,t,e,i,n,a){var s,o,l,u=a*8-n-1,f=(1<<u)-1,h=f>>1,c=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:a-1,d=i?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=c/l:t+=c*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=f?(o=0,s=f):s+h>=1?(o=(t*l-1)*Math.pow(2,n),s=s+h):(o=t*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;r[e+m]=o&255,m+=d,o/=256,n-=8);for(s=s<<n|o,u+=n;u>0;r[e+m]=s&255,m+=d,s/=256,u-=8);r[e+m-d]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){var t=Qm,e=Ob,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=o,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50;var n=2147483647;r.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var G=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(G,C),G.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(G){if(G>n)throw new RangeError('The value "'+G+'" is invalid for option "size"');var C=new Uint8Array(G);return Object.setPrototypeOf(C,o.prototype),C}function o(G,C,N){if(typeof G=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(G)}return l(G,C,N)}o.poolSize=8192;function l(G,C,N){if(typeof G=="string")return c(G,C);if(ArrayBuffer.isView(G))return d(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(ze(G,ArrayBuffer)||G&&ze(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(G,SharedArrayBuffer)||G&&ze(G.buffer,SharedArrayBuffer)))return v(G,C,N);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=G.valueOf&&G.valueOf();if(Z!=null&&Z!==G)return o.from(Z,C,N);var he=b(G);if(he)return he;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return o.from(G[Symbol.toPrimitive]("string"),C,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}o.from=function(G,C,N){return l(G,C,N)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function f(G,C,N){return u(G),G<=0?s(G):C!==void 0?typeof N=="string"?s(G).fill(C,N):s(G).fill(C):s(G)}o.alloc=function(G,C,N){return f(G,C,N)};function h(G){return u(G),s(G<0?0:g(G)|0)}o.allocUnsafe=function(G){return h(G)},o.allocUnsafeSlow=function(G){return h(G)};function c(G,C){if((typeof C!="string"||C==="")&&(C="utf8"),!o.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var N=_(G,C)|0,Z=s(N),he=Z.write(G,C);return he!==N&&(Z=Z.slice(0,he)),Z}function m(G){for(var C=G.length<0?0:g(G.length)|0,N=s(C),Z=0;Z<C;Z+=1)N[Z]=G[Z]&255;return N}function d(G){if(ze(G,Uint8Array)){var C=new Uint8Array(G);return v(C.buffer,C.byteOffset,C.byteLength)}return m(G)}function v(G,C,N){if(C<0||G.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<C+(N||0))throw new RangeError('"length" is outside of buffer bounds');var Z;return C===void 0&&N===void 0?Z=new Uint8Array(G):N===void 0?Z=new Uint8Array(G,C):Z=new Uint8Array(G,C,N),Object.setPrototypeOf(Z,o.prototype),Z}function b(G){if(o.isBuffer(G)){var C=g(G.length)|0,N=s(C);return N.length===0||G.copy(N,0,0,C),N}if(G.length!==void 0)return typeof G.length!="number"||Le(G.length)?s(0):m(G);if(G.type==="Buffer"&&Array.isArray(G.data))return m(G.data)}function g(G){if(G>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return G|0}function y(G){return+G!=G&&(G=0),o.alloc(+G)}o.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==o.prototype},o.compare=function(C,N){if(ze(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),ze(N,Uint8Array)&&(N=o.from(N,N.offset,N.byteLength)),!o.isBuffer(C)||!o.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===N)return 0;for(var Z=C.length,he=N.length,ke=0,Ne=Math.min(Z,he);ke<Ne;++ke)if(C[ke]!==N[ke]){Z=C[ke],he=N[ke];break}return Z<he?-1:he<Z?1:0},o.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(C,N){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return o.alloc(0);var Z;if(N===void 0)for(N=0,Z=0;Z<C.length;++Z)N+=C[Z].length;var he=o.allocUnsafe(N),ke=0;for(Z=0;Z<C.length;++Z){var Ne=C[Z];if(ze(Ne,Uint8Array))ke+Ne.length>he.length?o.from(Ne).copy(he,ke):Uint8Array.prototype.set.call(he,Ne,ke);else if(o.isBuffer(Ne))Ne.copy(he,ke);else throw new TypeError('"list" argument must be an Array of Buffers');ke+=Ne.length}return he};function _(G,C){if(o.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||ze(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);var N=G.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&N===0)return 0;for(var he=!1;;)switch(C){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Ie(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return W(G).length;default:if(he)return Z?-1:Ie(G).length;C=(""+C).toLowerCase(),he=!0}}o.byteLength=_;function w(G,C,N){var Z=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,C>>>=0,N<=C))return"";for(G||(G="utf8");;)switch(G){case"hex":return de(this,C,N);case"utf8":case"utf-8":return Q(this,C,N);case"ascii":return U(this,C,N);case"latin1":case"binary":return te(this,C,N);case"base64":return J(this,C,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,C,N);default:if(Z)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),Z=!0}}o.prototype._isBuffer=!0;function O(G,C,N){var Z=G[C];G[C]=G[N],G[N]=Z}o.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<C;N+=2)O(this,N,N+1);return this},o.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<C;N+=4)O(this,N,N+3),O(this,N+1,N+2);return this},o.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<C;N+=8)O(this,N,N+7),O(this,N+1,N+6),O(this,N+2,N+5),O(this,N+3,N+4);return this},o.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?Q(this,0,C):w.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(C){if(!o.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:o.compare(this,C)===0},o.prototype.inspect=function(){var C="",N=r.INSPECT_MAX_BYTES;return C=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(C+=" ... "),"<Buffer "+C+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(C,N,Z,he,ke){if(ze(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),!o.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(N===void 0&&(N=0),Z===void 0&&(Z=C?C.length:0),he===void 0&&(he=0),ke===void 0&&(ke=this.length),N<0||Z>C.length||he<0||ke>this.length)throw new RangeError("out of range index");if(he>=ke&&N>=Z)return 0;if(he>=ke)return-1;if(N>=Z)return 1;if(N>>>=0,Z>>>=0,he>>>=0,ke>>>=0,this===C)return 0;for(var Ne=ke-he,ot=Z-N,bt=Math.min(Ne,ot),mt=this.slice(he,ke),Wt=C.slice(N,Z),wt=0;wt<bt;++wt)if(mt[wt]!==Wt[wt]){Ne=mt[wt],ot=Wt[wt];break}return Ne<ot?-1:ot<Ne?1:0};function I(G,C,N,Z,he){if(G.length===0)return-1;if(typeof N=="string"?(Z=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,Le(N)&&(N=he?0:G.length-1),N<0&&(N=G.length+N),N>=G.length){if(he)return-1;N=G.length-1}else if(N<0)if(he)N=0;else return-1;if(typeof C=="string"&&(C=o.from(C,Z)),o.isBuffer(C))return C.length===0?-1:M(G,C,N,Z,he);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?he?Uint8Array.prototype.indexOf.call(G,C,N):Uint8Array.prototype.lastIndexOf.call(G,C,N):M(G,[C],N,Z,he);throw new TypeError("val must be string, number or Buffer")}function M(G,C,N,Z,he){var ke=1,Ne=G.length,ot=C.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(G.length<2||C.length<2)return-1;ke=2,Ne/=2,ot/=2,N/=2}function bt(Mr,yr){return ke===1?Mr[yr]:Mr.readUInt16BE(yr*ke)}var mt;if(he){var Wt=-1;for(mt=N;mt<Ne;mt++)if(bt(G,mt)===bt(C,Wt===-1?0:mt-Wt)){if(Wt===-1&&(Wt=mt),mt-Wt+1===ot)return Wt*ke}else Wt!==-1&&(mt-=mt-Wt),Wt=-1}else for(N+ot>Ne&&(N=Ne-ot),mt=N;mt>=0;mt--){for(var wt=!0,hr=0;hr<ot;hr++)if(bt(G,mt+hr)!==bt(C,hr)){wt=!1;break}if(wt)return mt}return-1}o.prototype.includes=function(C,N,Z){return this.indexOf(C,N,Z)!==-1},o.prototype.indexOf=function(C,N,Z){return I(this,C,N,Z,!0)},o.prototype.lastIndexOf=function(C,N,Z){return I(this,C,N,Z,!1)};function T(G,C,N,Z){N=Number(N)||0;var he=G.length-N;Z?(Z=Number(Z),Z>he&&(Z=he)):Z=he;var ke=C.length;Z>ke/2&&(Z=ke/2);for(var Ne=0;Ne<Z;++Ne){var ot=parseInt(C.substr(Ne*2,2),16);if(Le(ot))return Ne;G[N+Ne]=ot}return Ne}function E(G,C,N,Z){return ae(Ie(C,G.length-N),G,N,Z)}function q(G,C,N,Z){return ae(pe(C),G,N,Z)}function k(G,C,N,Z){return ae(W(C),G,N,Z)}function j(G,C,N,Z){return ae(be(C,G.length-N),G,N,Z)}o.prototype.write=function(C,N,Z,he){if(N===void 0)he="utf8",Z=this.length,N=0;else if(Z===void 0&&typeof N=="string")he=N,Z=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(Z)?(Z=Z>>>0,he===void 0&&(he="utf8")):(he=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ke=this.length-N;if((Z===void 0||Z>ke)&&(Z=ke),C.length>0&&(Z<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");for(var Ne=!1;;)switch(he){case"hex":return T(this,C,N,Z);case"utf8":case"utf-8":return E(this,C,N,Z);case"ascii":case"latin1":case"binary":return q(this,C,N,Z);case"base64":return k(this,C,N,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,C,N,Z);default:if(Ne)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),Ne=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(G,C,N){return C===0&&N===G.length?t.fromByteArray(G):t.fromByteArray(G.slice(C,N))}function Q(G,C,N){N=Math.min(G.length,N);for(var Z=[],he=C;he<N;){var ke=G[he],Ne=null,ot=ke>239?4:ke>223?3:ke>191?2:1;if(he+ot<=N){var bt,mt,Wt,wt;switch(ot){case 1:ke<128&&(Ne=ke);break;case 2:bt=G[he+1],(bt&192)===128&&(wt=(ke&31)<<6|bt&63,wt>127&&(Ne=wt));break;case 3:bt=G[he+1],mt=G[he+2],(bt&192)===128&&(mt&192)===128&&(wt=(ke&15)<<12|(bt&63)<<6|mt&63,wt>2047&&(wt<55296||wt>57343)&&(Ne=wt));break;case 4:bt=G[he+1],mt=G[he+2],Wt=G[he+3],(bt&192)===128&&(mt&192)===128&&(Wt&192)===128&&(wt=(ke&15)<<18|(bt&63)<<12|(mt&63)<<6|Wt&63,wt>65535&&wt<1114112&&(Ne=wt))}}Ne===null?(Ne=65533,ot=1):Ne>65535&&(Ne-=65536,Z.push(Ne>>>10&1023|55296),Ne=56320|Ne&1023),Z.push(Ne),he+=ot}return B(Z)}var R=4096;function B(G){var C=G.length;if(C<=R)return String.fromCharCode.apply(String,G);for(var N="",Z=0;Z<C;)N+=String.fromCharCode.apply(String,G.slice(Z,Z+=R));return N}function U(G,C,N){var Z="";N=Math.min(G.length,N);for(var he=C;he<N;++he)Z+=String.fromCharCode(G[he]&127);return Z}function te(G,C,N){var Z="";N=Math.min(G.length,N);for(var he=C;he<N;++he)Z+=String.fromCharCode(G[he]);return Z}function de(G,C,N){var Z=G.length;(!C||C<0)&&(C=0),(!N||N<0||N>Z)&&(N=Z);for(var he="",ke=C;ke<N;++ke)he+=Ge[G[ke]];return he}function me(G,C,N){for(var Z=G.slice(C,N),he="",ke=0;ke<Z.length-1;ke+=2)he+=String.fromCharCode(Z[ke]+Z[ke+1]*256);return he}o.prototype.slice=function(C,N){var Z=this.length;C=~~C,N=N===void 0?Z:~~N,C<0?(C+=Z,C<0&&(C=0)):C>Z&&(C=Z),N<0?(N+=Z,N<0&&(N=0)):N>Z&&(N=Z),N<C&&(N=C);var he=this.subarray(C,N);return Object.setPrototypeOf(he,o.prototype),he};function ee(G,C,N){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+C>N)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(C,N,Z){C=C>>>0,N=N>>>0,Z||ee(C,N,this.length);for(var he=this[C],ke=1,Ne=0;++Ne<N&&(ke*=256);)he+=this[C+Ne]*ke;return he},o.prototype.readUintBE=o.prototype.readUIntBE=function(C,N,Z){C=C>>>0,N=N>>>0,Z||ee(C,N,this.length);for(var he=this[C+--N],ke=1;N>0&&(ke*=256);)he+=this[C+--N]*ke;return he},o.prototype.readUint8=o.prototype.readUInt8=function(C,N){return C=C>>>0,N||ee(C,1,this.length),this[C]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(C,N){return C=C>>>0,N||ee(C,2,this.length),this[C]|this[C+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(C,N){return C=C>>>0,N||ee(C,2,this.length),this[C]<<8|this[C+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(C,N){return C=C>>>0,N||ee(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(C,N){return C=C>>>0,N||ee(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},o.prototype.readIntLE=function(C,N,Z){C=C>>>0,N=N>>>0,Z||ee(C,N,this.length);for(var he=this[C],ke=1,Ne=0;++Ne<N&&(ke*=256);)he+=this[C+Ne]*ke;return ke*=128,he>=ke&&(he-=Math.pow(2,8*N)),he},o.prototype.readIntBE=function(C,N,Z){C=C>>>0,N=N>>>0,Z||ee(C,N,this.length);for(var he=N,ke=1,Ne=this[C+--he];he>0&&(ke*=256);)Ne+=this[C+--he]*ke;return ke*=128,Ne>=ke&&(Ne-=Math.pow(2,8*N)),Ne},o.prototype.readInt8=function(C,N){return C=C>>>0,N||ee(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},o.prototype.readInt16LE=function(C,N){C=C>>>0,N||ee(C,2,this.length);var Z=this[C]|this[C+1]<<8;return Z&32768?Z|4294901760:Z},o.prototype.readInt16BE=function(C,N){C=C>>>0,N||ee(C,2,this.length);var Z=this[C+1]|this[C]<<8;return Z&32768?Z|4294901760:Z},o.prototype.readInt32LE=function(C,N){return C=C>>>0,N||ee(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},o.prototype.readInt32BE=function(C,N){return C=C>>>0,N||ee(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},o.prototype.readFloatLE=function(C,N){return C=C>>>0,N||ee(C,4,this.length),e.read(this,C,!0,23,4)},o.prototype.readFloatBE=function(C,N){return C=C>>>0,N||ee(C,4,this.length),e.read(this,C,!1,23,4)},o.prototype.readDoubleLE=function(C,N){return C=C>>>0,N||ee(C,8,this.length),e.read(this,C,!0,52,8)},o.prototype.readDoubleBE=function(C,N){return C=C>>>0,N||ee(C,8,this.length),e.read(this,C,!1,52,8)};function re(G,C,N,Z,he,ke){if(!o.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>he||C<ke)throw new RangeError('"value" argument is out of bounds');if(N+Z>G.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(C,N,Z,he){if(C=+C,N=N>>>0,Z=Z>>>0,!he){var ke=Math.pow(2,8*Z)-1;re(this,C,N,Z,ke,0)}var Ne=1,ot=0;for(this[N]=C&255;++ot<Z&&(Ne*=256);)this[N+ot]=C/Ne&255;return N+Z},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(C,N,Z,he){if(C=+C,N=N>>>0,Z=Z>>>0,!he){var ke=Math.pow(2,8*Z)-1;re(this,C,N,Z,ke,0)}var Ne=Z-1,ot=1;for(this[N+Ne]=C&255;--Ne>=0&&(ot*=256);)this[N+Ne]=C/ot&255;return N+Z},o.prototype.writeUint8=o.prototype.writeUInt8=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,1,255,0),this[N]=C&255,N+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,2,65535,0),this[N]=C&255,this[N+1]=C>>>8,N+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,2,65535,0),this[N]=C>>>8,this[N+1]=C&255,N+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,4,4294967295,0),this[N+3]=C>>>24,this[N+2]=C>>>16,this[N+1]=C>>>8,this[N]=C&255,N+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,4,4294967295,0),this[N]=C>>>24,this[N+1]=C>>>16,this[N+2]=C>>>8,this[N+3]=C&255,N+4},o.prototype.writeIntLE=function(C,N,Z,he){if(C=+C,N=N>>>0,!he){var ke=Math.pow(2,8*Z-1);re(this,C,N,Z,ke-1,-ke)}var Ne=0,ot=1,bt=0;for(this[N]=C&255;++Ne<Z&&(ot*=256);)C<0&&bt===0&&this[N+Ne-1]!==0&&(bt=1),this[N+Ne]=(C/ot>>0)-bt&255;return N+Z},o.prototype.writeIntBE=function(C,N,Z,he){if(C=+C,N=N>>>0,!he){var ke=Math.pow(2,8*Z-1);re(this,C,N,Z,ke-1,-ke)}var Ne=Z-1,ot=1,bt=0;for(this[N+Ne]=C&255;--Ne>=0&&(ot*=256);)C<0&&bt===0&&this[N+Ne+1]!==0&&(bt=1),this[N+Ne]=(C/ot>>0)-bt&255;return N+Z},o.prototype.writeInt8=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,1,127,-128),C<0&&(C=255+C+1),this[N]=C&255,N+1},o.prototype.writeInt16LE=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,2,32767,-32768),this[N]=C&255,this[N+1]=C>>>8,N+2},o.prototype.writeInt16BE=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,2,32767,-32768),this[N]=C>>>8,this[N+1]=C&255,N+2},o.prototype.writeInt32LE=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,4,2147483647,-2147483648),this[N]=C&255,this[N+1]=C>>>8,this[N+2]=C>>>16,this[N+3]=C>>>24,N+4},o.prototype.writeInt32BE=function(C,N,Z){return C=+C,N=N>>>0,Z||re(this,C,N,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[N]=C>>>24,this[N+1]=C>>>16,this[N+2]=C>>>8,this[N+3]=C&255,N+4};function ue(G,C,N,Z,he,ke){if(N+Z>G.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function Te(G,C,N,Z,he){return C=+C,N=N>>>0,he||ue(G,C,N,4),e.write(G,C,N,Z,23,4),N+4}o.prototype.writeFloatLE=function(C,N,Z){return Te(this,C,N,!0,Z)},o.prototype.writeFloatBE=function(C,N,Z){return Te(this,C,N,!1,Z)};function we(G,C,N,Z,he){return C=+C,N=N>>>0,he||ue(G,C,N,8),e.write(G,C,N,Z,52,8),N+8}o.prototype.writeDoubleLE=function(C,N,Z){return we(this,C,N,!0,Z)},o.prototype.writeDoubleBE=function(C,N,Z){return we(this,C,N,!1,Z)},o.prototype.copy=function(C,N,Z,he){if(!o.isBuffer(C))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!he&&he!==0&&(he=this.length),N>=C.length&&(N=C.length),N||(N=0),he>0&&he<Z&&(he=Z),he===Z||C.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),C.length-N<he-Z&&(he=C.length-N+Z);var ke=he-Z;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,Z,he):Uint8Array.prototype.set.call(C,this.subarray(Z,he),N),ke},o.prototype.fill=function(C,N,Z,he){if(typeof C=="string"){if(typeof N=="string"?(he=N,N=0,Z=this.length):typeof Z=="string"&&(he=Z,Z=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!o.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(C.length===1){var ke=C.charCodeAt(0);(he==="utf8"&&ke<128||he==="latin1")&&(C=ke)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(N<0||this.length<N||this.length<Z)throw new RangeError("Out of range index");if(Z<=N)return this;N=N>>>0,Z=Z===void 0?this.length:Z>>>0,C||(C=0);var Ne;if(typeof C=="number")for(Ne=N;Ne<Z;++Ne)this[Ne]=C;else{var ot=o.isBuffer(C)?C:o.from(C,he),bt=ot.length;if(bt===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Ne=0;Ne<Z-N;++Ne)this[Ne+N]=ot[Ne%bt]}return this};var xe=/[^+/0-9A-Za-z-_]/g;function Oe(G){if(G=G.split("=")[0],G=G.trim().replace(xe,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function Ie(G,C){C=C||1/0;for(var N,Z=G.length,he=null,ke=[],Ne=0;Ne<Z;++Ne){if(N=G.charCodeAt(Ne),N>55295&&N<57344){if(!he){if(N>56319){(C-=3)>-1&&ke.push(239,191,189);continue}else if(Ne+1===Z){(C-=3)>-1&&ke.push(239,191,189);continue}he=N;continue}if(N<56320){(C-=3)>-1&&ke.push(239,191,189),he=N;continue}N=(he-55296<<10|N-56320)+65536}else he&&(C-=3)>-1&&ke.push(239,191,189);if(he=null,N<128){if((C-=1)<0)break;ke.push(N)}else if(N<2048){if((C-=2)<0)break;ke.push(N>>6|192,N&63|128)}else if(N<65536){if((C-=3)<0)break;ke.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((C-=4)<0)break;ke.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return ke}function pe(G){for(var C=[],N=0;N<G.length;++N)C.push(G.charCodeAt(N)&255);return C}function be(G,C){for(var N,Z,he,ke=[],Ne=0;Ne<G.length&&!((C-=2)<0);++Ne)N=G.charCodeAt(Ne),Z=N>>8,he=N%256,ke.push(he),ke.push(Z);return ke}function W(G){return t.toByteArray(Oe(G))}function ae(G,C,N,Z){for(var he=0;he<Z&&!(he+N>=C.length||he>=G.length);++he)C[he+N]=G[he];return he}function ze(G,C){return G instanceof C||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===C.name}function Le(G){return G!==G}var Ge=function(){for(var G="0123456789abcdef",C=new Array(256),N=0;N<16;++N)for(var Z=N*16,he=0;he<16;++he)C[Z+he]=G[N]+G[he];return C}()})(lS);const{Buffer:Xf}=lS;function Bs(...r){const t=new Bs.Request(...r),e=new XMLHttpRequest;e.withCredentials=t.credentials==="include",e.timeout=t[Qe].timeout,e.open(t.method,t.url,!1);let i=!1;try{e.responseType="arraybuffer"}catch{e.overrideMimeType("text/plain; charset=x-user-defined"),i=!0}for(const o of t.headers)e.setRequestHeader(...o);e.send(t.body||null);let n=e.getAllResponseHeaders();n=n&&n.split(`\r
`).filter(Boolean).map(o=>o.split(": ",2));let a=e.response;if(i){const o=Xf.alloc(a.length);for(let l=0;l<a.length;l++)o[l]=a.charCodeAt(l)&255;a=o}const s=new Bs.Response(a,{headers:n,status:e.status,statusText:e.statusText});return s[Qe].url=e.responseURL,s[Qe].redirected=e.responseURL!==t.url,s}const Qe=Symbol("SyncFetch Internals"),JC=["mode","cache","redirect","referrer","integrity"],QC={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};class $f{constructor(t,e={}){for(const i of JC)if(i in e)throw new TypeError(`option ${i} not supported`);if(e.credentials==="same-origin")throw new TypeError("option credentials with value 'same-origin' not supported");if(this[Qe]={method:e.method||"GET",headers:new Bs.Headers(e.headers),body:e.body?Xf.from(e.body):null,credentials:e.credentials||"omit",timeout:e.timeout||0},typeof t=="string")this[Qe].url=t;else if(t instanceof $f)this[Qe].url=t.url,e.method||(this[Qe].method=t.method),e.headers||(this[Qe].headers=t.headers),e.body||(this[Qe].body=t[Qe].body),e.credentials||(this[Qe].credentials=t.credentials);else throw new TypeError("Request input should be a URL string or a Request object")}get cache(){return"default"}get credentials(){return this[Qe].credentials}get destination(){return""}get headers(){return this[Qe].headers}get integrity(){return""}get method(){return this[Qe].method}get mode(){return"cors"}get priority(){return"auto"}get redirect(){return"follow"}get referrer(){return"about:client"}get referrerPolicy(){return""}get url(){return this[Qe].url}clone(){return Ab(this),new $f(this.url,this[Qe])}}class Zm{constructor(t,e={}){this[Qe]={body:t?Xf.from(t):null,bodyUsed:!1,headers:new Bs.Headers(e.headers),status:e.status,statusText:e.statusText}}get headers(){return this[Qe].headers}get ok(){const t=this[Qe].status;return t>=200&&t<300}get redirected(){return this[Qe].redirected}get status(){return this[Qe].status}get statusText(){return this[Qe].statusText}get url(){return this[Qe].url}clone(){return this.redirect(this[Qe].url,this[Qe].status)}redirect(t,e){Ab(this);const i=new Zm(this[Qe].body,{headers:this[Qe].headers,status:e||this[Qe].status,statusText:QC[e]||this[Qe].statusText});return i[Qe].url=t||this[Qe].url,i[Qe].redirected=this[Qe].redirected,i}}class _f{constructor(t){this[Qe]={body:Xf.from(t),bodyUsed:!1}}get bodyUsed(){return this[Qe].bodyUsed}static mixin(t){for(const e of Object.getOwnPropertyNames(_f.prototype)){if(e==="constructor")continue;const i=Object.getOwnPropertyDescriptor(_f.prototype,e);Object.defineProperty(t,e,{...i,enumerable:!0})}}arrayBuffer(){const t=Hu(this);return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}blob(){const t=this.headers&&this.headers.get("content-type");return new Blob([Hu(this)],t&&{type:t})}text(){return Hu(this).toString()}json(){try{return JSON.parse(Hu(this).toString())}catch(t){throw new TypeError(`invalid json response body at ${this.url} reason: ${t.message}`,"invalid-json")}}buffer(){return Hu(this).clone()}}function Ab(r){if(r.bodyUsed)throw new TypeError(`body used already for: ${r.url}`)}function Hu(r){return Ab(r),r[Qe].bodyUsed=!0,r[Qe].body||Xf.alloc(0)}_f.mixin($f.prototype);_f.mixin(Zm.prototype);class ZC{constructor(t){if(t instanceof Bs.Headers)this[Qe]={...t[Qe]};else if(this[Qe]={},Array.isArray(t))for(const[e,i]of t)this.append(e,i);else if(typeof t=="object")for(const e in t)this.set(e,t[e])}append(t,e){t=t.toLowerCase(),this[Qe][t]||(this[Qe][t]=[]),this[Qe][t].push(e)}delete(t){delete this[Qe][t.toLowerCase()]}set(t,e){this[Qe][t.toLowerCase()]=[e]}entries(){const t=[];for(const e in this[Qe])for(const i of this[Qe][e])t.push([e,i]);return t}get(t){return t=t.toLowerCase(),t in this[Qe]?this[Qe][t].join(", "):null}keys(){return Object.keys(this[Qe])}has(t){return t.toLowerCase()in this[Qe]}values(){const t=[];for(const e in this[Qe])for(const i of this[Qe][e])t.push(i);return t}*[Symbol.iterator](){for(const t in this[Qe])for(const e of this[Qe][t])yield[t,e]}}Bs.Headers=ZC;Bs.Request=$f;Bs.Response=Zm;var Rg={exports:{}};(function(r,t){(function(e){function i(n){var a=n&&n.Promise||e.Promise,s=n&&n.XMLHttpRequest||e.XMLHttpRequest;return function(){var o=Object.create(e,{fetch:{value:void 0,writable:!0}});return function(l,u){u(t)}(this,function(l){var u=typeof o<"u"&&o||typeof self<"u"&&self||typeof u<"u"&&u,f={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function h(U){return U&&DataView.prototype.isPrototypeOf(U)}if(f.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(U){return U&&c.indexOf(Object.prototype.toString.call(U))>-1};function d(U){if(typeof U!="string"&&(U=String(U)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(U)||U==="")throw new TypeError("Invalid character in header field name");return U.toLowerCase()}function v(U){return typeof U!="string"&&(U=String(U)),U}function b(U){var te={next:function(){var de=U.shift();return{done:de===void 0,value:de}}};return f.iterable&&(te[Symbol.iterator]=function(){return te}),te}function g(U){this.map={},U instanceof g?U.forEach(function(te,de){this.append(de,te)},this):Array.isArray(U)?U.forEach(function(te){this.append(te[0],te[1])},this):U&&Object.getOwnPropertyNames(U).forEach(function(te){this.append(te,U[te])},this)}g.prototype.append=function(U,te){U=d(U),te=v(te);var de=this.map[U];this.map[U]=de?de+", "+te:te},g.prototype.delete=function(U){delete this.map[d(U)]},g.prototype.get=function(U){return U=d(U),this.has(U)?this.map[U]:null},g.prototype.has=function(U){return this.map.hasOwnProperty(d(U))},g.prototype.set=function(U,te){this.map[d(U)]=v(te)},g.prototype.forEach=function(U,te){for(var de in this.map)this.map.hasOwnProperty(de)&&U.call(te,this.map[de],de,this)},g.prototype.keys=function(){var U=[];return this.forEach(function(te,de){U.push(de)}),b(U)},g.prototype.values=function(){var U=[];return this.forEach(function(te){U.push(te)}),b(U)},g.prototype.entries=function(){var U=[];return this.forEach(function(te,de){U.push([de,te])}),b(U)},f.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(U){if(U.bodyUsed)return a.reject(new TypeError("Already read"));U.bodyUsed=!0}function _(U){return new a(function(te,de){U.onload=function(){te(U.result)},U.onerror=function(){de(U.error)}})}function w(U){var te=new FileReader,de=_(te);return te.readAsArrayBuffer(U),de}function O(U){var te=new FileReader,de=_(te);return te.readAsText(U),de}function I(U){for(var te=new Uint8Array(U),de=new Array(te.length),me=0;me<te.length;me++)de[me]=String.fromCharCode(te[me]);return de.join("")}function M(U){if(U.slice)return U.slice(0);var te=new Uint8Array(U.byteLength);return te.set(new Uint8Array(U)),te.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(U){this.bodyUsed=this.bodyUsed,this._bodyInit=U,U?typeof U=="string"?this._bodyText=U:f.blob&&Blob.prototype.isPrototypeOf(U)?this._bodyBlob=U:f.formData&&FormData.prototype.isPrototypeOf(U)?this._bodyFormData=U:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)?this._bodyText=U.toString():f.arrayBuffer&&f.blob&&h(U)?(this._bodyArrayBuffer=M(U.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(U)||m(U))?this._bodyArrayBuffer=M(U):this._bodyText=U=Object.prototype.toString.call(U):this._bodyText="",this.headers.get("content-type")||(typeof U=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var U=y(this);if(U)return U;if(this._bodyBlob)return a.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return a.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return a.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var U=y(this);return U||(ArrayBuffer.isView(this._bodyArrayBuffer)?a.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):a.resolve(this._bodyArrayBuffer))}else return this.blob().then(w)}),this.text=function(){var U=y(this);if(U)return U;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return a.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return a.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function q(U){var te=U.toUpperCase();return E.indexOf(te)>-1?te:U}function k(U,te){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');te=te||{};var de=te.body;if(U instanceof k){if(U.bodyUsed)throw new TypeError("Already read");this.url=U.url,this.credentials=U.credentials,te.headers||(this.headers=new g(U.headers)),this.method=U.method,this.mode=U.mode,this.signal=U.signal,!de&&U._bodyInit!=null&&(de=U._bodyInit,U.bodyUsed=!0)}else this.url=String(U);if(this.credentials=te.credentials||this.credentials||"same-origin",(te.headers||!this.headers)&&(this.headers=new g(te.headers)),this.method=q(te.method||this.method||"GET"),this.mode=te.mode||this.mode||null,this.signal=te.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&de)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(de),(this.method==="GET"||this.method==="HEAD")&&(te.cache==="no-store"||te.cache==="no-cache")){var me=/([?&])_=[^&]*/;if(me.test(this.url))this.url=this.url.replace(me,"$1_="+new Date().getTime());else{var ee=/\?/;this.url+=(ee.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function j(U){var te=new FormData;return U.trim().split("&").forEach(function(de){if(de){var me=de.split("="),ee=me.shift().replace(/\+/g," "),re=me.join("=").replace(/\+/g," ");te.append(decodeURIComponent(ee),decodeURIComponent(re))}}),te}function J(U){var te=new g,de=U.replace(/\r?\n[\t ]+/g," ");return de.split("\r").map(function(me){return me.indexOf(`
`)===0?me.substr(1,me.length):me}).forEach(function(me){var ee=me.split(":"),re=ee.shift().trim();if(re){var ue=ee.join(":").trim();te.append(re,ue)}}),te}T.call(k.prototype);function Q(U,te){if(!(this instanceof Q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');te||(te={}),this.type="default",this.status=te.status===void 0?200:te.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in te?te.statusText:"",this.headers=new g(te.headers),this.url=te.url||"",this._initBody(U)}T.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},Q.error=function(){var U=new Q(null,{status:0,statusText:""});return U.type="error",U};var R=[301,302,303,307,308];Q.redirect=function(U,te){if(R.indexOf(te)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:te,headers:{location:U}})},l.DOMException=u.DOMException;try{new l.DOMException}catch{l.DOMException=function(te,de){this.message=te,this.name=de;var me=Error(te);this.stack=me.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function B(U,te){return new a(function(de,me){var ee=new k(U,te);if(ee.signal&&ee.signal.aborted)return me(new l.DOMException("Aborted","AbortError"));var re=new s;function ue(){re.abort()}re.onload=function(){var we={status:re.status,statusText:re.statusText,headers:J(re.getAllResponseHeaders()||"")};we.url="responseURL"in re?re.responseURL:we.headers.get("X-Request-URL");var xe="response"in re?re.response:re.responseText;setTimeout(function(){de(new Q(xe,we))},0)},re.onerror=function(){setTimeout(function(){me(new TypeError("Network request failed"))},0)},re.ontimeout=function(){setTimeout(function(){me(new TypeError("Network request failed"))},0)},re.onabort=function(){setTimeout(function(){me(new l.DOMException("Aborted","AbortError"))},0)};function Te(we){try{return we===""&&u.location.href?u.location.href:we}catch{return we}}re.open(ee.method,Te(ee.url),!0),ee.credentials==="include"?re.withCredentials=!0:ee.credentials==="omit"&&(re.withCredentials=!1),"responseType"in re&&(f.blob?re.responseType="blob":f.arrayBuffer&&ee.headers.get("Content-Type")&&ee.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(re.responseType="arraybuffer")),te&&typeof te.headers=="object"&&!(te.headers instanceof g)?Object.getOwnPropertyNames(te.headers).forEach(function(we){re.setRequestHeader(we,v(te.headers[we]))}):ee.headers.forEach(function(we,xe){re.setRequestHeader(xe,we)}),ee.signal&&(ee.signal.addEventListener("abort",ue),re.onreadystatechange=function(){re.readyState===4&&ee.signal.removeEventListener("abort",ue)}),re.send(typeof ee._bodyInit>"u"?null:ee._bodyInit)})}B.polyfill=!0,u.fetch||(u.fetch=B,u.Headers=g,u.Request=k,u.Response=Q),l.Headers=g,l.Request=k,l.Response=Q,l.fetch=B,Object.defineProperty(l,"__esModule",{value:!0})}),{fetch:o.fetch,Headers:o.Headers,Request:o.Request,Response:o.Response,DOMException:o.DOMException}}()}r.exports=i})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Gh)})(Rg,Rg.exports);var eP=Rg.exports;const tP=xb(eP),rP="@citation-js/core",iP="0.7.9",nP="Convert different bibliographic metadata sources",aP=["citation-js","citation","bibliography"],sP="Lars Willighagen <lars.willighagen@gmail.com>",oP="MIT",lP="lib/index.js",uP="lib-mjs/index.js",fP={lib:"src",test:"__tests__"},cP="https://citation.js.org/",hP={type:"git",url:"https://github.com/citation-js/citation-js.git",directory:"packages/core"},mP={url:"https://github.com/citation-js/citation-js/issues"},pP={node:">=16.0.0"},dP=["lib","lib-mjs"],vP={test:"mocha -c -R dot test/*.spec.js"},gP={"@citation-js/date":"^0.5.0","@citation-js/name":"^0.4.2","fetch-ponyfill":"^7.1.0","sync-fetch":"^0.4.1"},bP="8fa1b9d3d420f489f9a8a57f9759b50a6369182c",yP={name:rP,version:iP,description:nP,keywords:aP,author:sP,license:oP,main:lP,module:uP,directories:fP,homepage:cP,repository:hP,bugs:mP,engines:pP,files:dP,scripts:vP,dependencies:gP,gitHead:bP};tP();const $P=typeof location<"u"&&typeof document<"u";$P||`${yP.version}${process.version}`;function fS(r,t){let e;for(;e===void 0||r.includes(e);)e=`${t}${Math.random().toString().slice(2)}`;return e}class ep{constructor(t={}){this.data=t}set(t,e){return this.data[t]=e,this}add(...t){return this.set(...t)}delete(t){return delete this.data[t],this}remove(...t){return this.delete(...t)}get(t){return this.data[t]}has(t){return Object.prototype.hasOwnProperty.call(this.data,t)}list(){return Object.keys(this.data)}}class cS{constructor(t,e){this.rules=t,this.defaultState=e,this.mainRule=Object.keys(t)[0],this.log=[]}parse(t,e){return this.lexer=t,this.token=this.lexer.next(),this.state=Ao(this.defaultState),this.log=[],this.consumeRule(e||this.mainRule)}matchEndOfFile(){return!this.token}matchToken(t){return this.token&&t===this.token.type}consumeToken(t,e){const i=this.token;if(!t||i&&i.type===t)return this.token=this.lexer.next(),i;if(e)return;{const n=i?`"${i.type}"`:"EOF",a=new SyntaxError(this.lexer.formatError(i,`expected "${t}", got ${n}`));throw a.message+=` (${this.log.join("->")})`,a}}consumeRule(t){this.log.push(t);const e=this.rules[t].call(this);return this.log.pop(),e}}function _P(r){return function(e){return typeof r=="boolean"?r:Object.keys(r).every(i=>{const n=r[i];return n===!0?i in e:n===!1?!(i in e):typeof n=="function"?n(e[i]):Array.isArray(n)?n.includes(e[i]):e[i]===n})}}function wP(r,t){let e,i,n,a;if(typeof r=="string")e=i=r;else if(r)e=t?r.target:r.source,i=t?r.source:r.target,r.convert&&(n=t?r.convert.toSource:r.convert.toTarget),r.when&&(a=t?r.when.target:r.when.source,a!=null&&(a=_P(a)));else return null;return e=[].concat(e).filter(Boolean),i=[].concat(i).filter(Boolean),{inputProp:e,outputProp:i,convert:n,condition:a}}function F_(r,t){return t=t===ba.CONVERT_TO_SOURCE,r=r.map(e=>wP(e,t)).filter(Boolean),function(i){const n={};for(const{inputProp:a,outputProp:s,convert:o,condition:l}of r){if(s.length===0)continue;if(l&&!l(i))continue;if(a.length!==0&&a.every(f=>!(f in i)))continue;let u=a.map(f=>i[f]);if(o)try{const f=o.apply(i,u);u=s.length===1?[f]:f}catch(f){throw new Error(`Failed to convert ${a} to ${s}`,{cause:f})}s.forEach((f,h)=>{const c=u[h];c!==void 0&&(n[f]=c)})}return n}}class ba{constructor(t){this.convertToSource=F_(t,ba.CONVERT_TO_SOURCE),this.convertToTarget=F_(t,ba.CONVERT_TO_TARGET)}}ba.CONVERT_TO_SOURCE=Symbol("convert to source");ba.CONVERT_TO_TARGET=Symbol("convert to target");function xP(r){return r.reduce((t,e)=>{const i=t[t.length-1];return i&&i.type===e.type?i.count=i.count+1||2:t.push(e),t},[]).map(t=>(t.count>1?t.count+"x ":"")+t.type).join(" -> ")}class hS{constructor(t,e={}){this.options=Object.assign({generateGraph:!0,forceType:Oo(t),maxChainLength:10,strict:!0,target:"@csl/list+object"},e),this.type=this.options.forceType,this.data=typeof t=="object"?Ao(t):t,this.graph=[{type:this.type,data:t}],this.iteration=0}iterate(){if(this.iteration!==0){const t=pS(this.type);t&&t.outputs?this.type=t.outputs:this.type=Oo(this.data),this.graph.push({type:this.type})}return this.error||this.type===this.options.target?!1:this.iteration>=this.options.maxChainLength?(this.error=new RangeError(`Max. number of parsing iterations reached (${xP(this.graph)})`),!1):(this.iteration++,!0)}end(){if(this.error){if(_n.error("[core]",this.error.message),this.options.strict!==!1)throw this.error;return[]}else return this.options.target==="@csl/list+object"?oS(this.data).map(this.options.generateGraph?t=>X7(t,this.graph):K7):this.data}}const Ib=(...r)=>{const t=new hS(...r);for(;t.iterate();)try{t.data=tp(t.data,t.type)}catch(e){t.error=e}return t.end()},SP=r=>{const t=Oo(r),e=t.match(/array|object/)?Ao(r):r;return tp(e,t)},Cb=async(...r)=>{const t=new hS(...r);for(;t.iterate();)t.data=await Pb(t.data,t.type).catch(e=>{t.error=e});return t.end()},EP=async r=>{const t=Oo(r),e=t.match(/array|object/)?Ao(r):r;return Pb(e,t)},Xl={},Kl={},Mg={"@csl/object":r=>[r],"@csl/list+object":r=>r,"@else/list+object":r=>r.map(Ib).flat(),"@invalid":()=>{throw new Error("This format is not supported or recognized")}},Bg={"@else/list+object":async r=>(await Promise.all(r.map(Cb))).flat()};function tp(r,t){if(typeof Xl[t]=="function")return Xl[t](r);if(typeof Mg[t]=="function")return Mg[t](r);throw new TypeError(`No synchronous parser found for ${t}`)}async function Pb(r,t){if(typeof Kl[t]=="function")return Kl[t](r);if(typeof Bg[t]=="function")return Bg[t](r);if(mS(t,!1))return tp(r,t);throw new TypeError(`No parser found for ${t}`)}function Fg(r,{parser:t,async:e}){e?Kl[r]=t:Xl[r]=t}function mS(r,t){return t?Kl[r]||Bg[r]:Xl[r]||Mg[r]}function zg(r,t){delete(t?Kl:Xl)[r]}function kP(r){return Object.keys(r?Kl:Xl)}const Io={};function TP(r,t){const e=new tS(r,t);e.validate();const i=Io[r]||(Io[r]={});e.typeParser&&(J7(r,e.typeParser),i.type=!0),e.dataParser&&(Fg(r,e.dataParser),i.data=!0),e.asyncDataParser&&(Fg(r,e.asyncDataParser),i.asyncData=!0),t.outputs&&(i.outputs=t.outputs)}function pS(r){return Io[r]}function OP(r){const t=Io[r];t&&(t.type&&Q7(r),t.data&&zg(r),t.asyncData&&zg(r,!0),delete Io[r])}function AP(r){return r in Io}function IP(){return Object.keys(Io)}const CP=Object.assign({},sC,oC,pC,zC),PP=Object.freeze(Object.defineProperty({__proto__:null,add:TP,addDataParser:Fg,addTypeParser:J7,chain:Ib,chainAsync:Cb,chainLink:SP,chainLinkAsync:EP,data:tp,dataAsync:Pb,get:pS,has:AP,hasDataParser:mS,hasTypeParser:lC,list:IP,listDataParser:kP,listTypeParser:uC,remove:OP,removeDataParser:zg,removeTypeParser:Q7,treeTypeParser:fC,type:Oo,typeMatcher:Z7,util:CP},Symbol.toStringTag,{value:"Module"}));function DP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data.push(...Ib(r,t)),this.data.filter(i=>!Object.prototype.hasOwnProperty.call(i,"id")).forEach(i=>{i.id=fS(this.getIds(),"temp_id_")}),this}async function NP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data.push(...await Cb(r,t)),this.data.filter(i=>!Object.prototype.hasOwnProperty.call(i,"id")).forEach(i=>{i.id=fS(this.getIds(),"temp_id_")}),this}function RP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data=[],typeof t!="boolean"?this.add(r,t):this.add(r)}async function MP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data=[],typeof t!="boolean"?this.addAsync(r,t):this.addAsync(r)}function BP(r){return r&&this.save(),this.data=[],this._options={},this}const FP=Object.freeze(Object.defineProperty({__proto__:null,add:DP,addAsync:NP,reset:BP,set:RP,setAsync:MP},Symbol.toStringTag,{value:"Module"}));function dS(r){if("citation-label"in r)return r["citation-label"];let t="";return r.author&&(t+=r.author[0].family||r.author[0].literal),r.issued&&r.issued["date-parts"]&&r.issued["date-parts"][0]&&(t+=r.issued["date-parts"][0][0]),r["year-suffix"]?t+=r["year-suffix"]:r.title&&(t+=r.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),t}const zP={label(r){return r.reduce((t,e)=>(t[e.id]=dS(e),t),{})}};function z_(r,t,e=t==="label"){let i=e?dS(r):r[t];switch(t){case"author":case"editor":return i.map(n=>n.literal||n.family||Sb.format(n));case"accessed":case"issued":return i["date-parts"][0];case"page":return i.split("-").map(n=>parseInt(n));case"edition":case"issue":case"volume":return i=parseInt(i),isNaN(i)?-1/0:i;default:return i||-1/0}}function LP(r,t,e,i=/^!/.test(e)){e=e.replace(/^!/,"");const n=z_(r,e),a=z_(t,e);return(i?-1:1)*(n>a?1:n<a?-1:0)}function jP(...r){return(t,e)=>{const i=r.slice();let n=0;for(;!n&&i.length;)n=LP(t,e,i.shift());return n}}function UP(r=[],t){return t&&this.save(),this.data.sort(typeof r=="function"?r:jP(...r,"label")),this}const qP=Object.freeze(Object.defineProperty({__proto__:null,sort:UP},Symbol.toStringTag,{value:"Module"}));function HP(r,t){if(typeof r!="string")throw new TypeError(`Invalid output format name, expected string, got ${typeof r}`);if(typeof t!="function")throw new TypeError(`Invalid formatter, expected function, got ${typeof t}`)}const Co=new ep;function GP(r,t){HP(r,t),Co.set(r,t)}function WP(r){Co.remove(r)}function VP(r){return Co.has(r)}function XP(){return Co.list()}function vS(r,t,...e){if(!Co.has(r))throw new Error(`Output format "${r}" unavailable`);return Co.get(r)(t,...e)}const KP=Object.freeze(Object.defineProperty({__proto__:null,add:GP,format:vS,has:VP,list:XP,register:Co,remove:WP},Symbol.toStringTag,{value:"Module"}));function YP(){return this.data.map(r=>r.id)}function JP(r,...t){return vS(r,aS(this.data),...t)}function QP(r={}){Ym(r);const t=Object.assign({},this.defaultOptions,this._options.output,r),{type:e,style:i}=t,[n,a]=i.split("-"),s=n==="citation"?"bibliography":n==="csl"?"data":n,o=e==="string"?"text":e==="json"?"object":e;let l;switch(s){case"bibliography":{const{lang:h,append:c,prepend:m}=t;l={template:a,lang:h,format:o,append:c,prepend:m};break}case"data":case"bibtex":case"bibtxt":case"ndjson":case"ris":l={type:o};break;default:throw new Error(`Invalid style "${s}"`)}const u=this.format(s,Object.assign(l,r._newOptions)),{format:f}=t;if(f==="real"&&o==="html"&&typeof document<"u"&&typeof document.createElement=="function"){const h=document.createElement("div");return h.innerHTML=u,h.firstChild}else return f==="string"&&typeof u=="object"?JSON.stringify(u):u}const ZP=Object.freeze(Object.defineProperty({__proto__:null,format:JP,get:QP,getIds:YP},Symbol.toStringTag,{value:"Module"}));function eD(r,t,e){typeof t=="function"&&!e&&(e=t,t=void 0);const i=new this().setAsync(r,t);if(typeof e=="function"){i.then(e);return}else return i}const tD=Object.freeze(Object.defineProperty({__proto__:null,async:eD,validateOptions:rC,validateOutputOptions:Ym},Symbol.toStringTag,{value:"Module"}));function Po(r,t={}){return this instanceof Po?(this._options=t,this.log=[],this.data=[],this.set(r,t),this.options(t),this):new Po(r,t)}Object.assign(Po.prototype,tC,aC,FP,qP,ZP);Po.prototype[Symbol.iterator]=function*(){yield*this.data};Object.assign(Po,tD);function rD(r,t){if(typeof r!="string")throw new TypeError(`Invalid dict name, expected string, got ${typeof r}`);if(typeof t!="object")throw new TypeError(`Invalid dict, expected object, got ${typeof t}`);for(const e in t){const i=t[e];if(!Array.isArray(i)||i.some(n=>typeof n!="string"))throw new TypeError(`Invalid dict entry "${e}", expected array of strings`)}}const Do=new ep({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["",`
`],entry:["",`
`],list:[`
`,""],listItem:["	",`
`]}});function iD(r,t){rD(r,t),Do.set(r,t)}function nD(r){Do.remove(r)}function gS(r){return Do.has(r)}function aD(){return Do.list()}function Db(r){if(!Do.has(r))throw new Error(`Dict "${r}" unavailable`);return Do.get(r)}const sD={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},oD={wr_start:"",wr_end:`
`,en_start:"",en_end:`
`,ul_start:`
`,ul_end:"",li_start:"	",li_end:`
`},lD=Object.freeze(Object.defineProperty({__proto__:null,add:iD,get:Db,has:gS,htmlDict:sD,list:aD,register:Do,remove:nD,textDict:oD},Symbol.toStringTag,{value:"Module"})),Kf={};function uD(r,t){Kf[r]=t}function fD(r){return Kf[r]}function cD(r){return Object.prototype.hasOwnProperty.call(Kf,r)}function hD(r){delete Kf[r]}function mD(){return Object.keys(Kf)}const pD=Object.freeze(Object.defineProperty({__proto__:null,add:uD,get:fD,has:cD,list:mD,remove:hD},Symbol.toStringTag,{value:"Module"})),L_={input:PP,output:KP,dict:lD,config:pD};function Nb(r,t={}){const e={};for(const i in t){if(i==="config"){e.config={[r]:t.config},L_.config.add(r,t.config);continue}const n=e[i]={},a=t[i];for(const s in a){const o=a[s];n[s]=!0,L_[i].add(s,o)}}}function Jd(){return[]}const dD=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];function vD(r){if(typeof r!="string")return JSON.parse(r);try{return JSON.parse(r)}catch{return _n.debug("[plugin-common]","Invalid JSON, switching to experimental parser"),dD.forEach(([e,i])=>{r=r.replace(e,i)}),JSON.parse(r)}}function gD(r){return r.val()||r.text()||r.html()}function bD(r){return r.value||r.textContent}const yD="@else",$D={"@empty/text":{parse:Jd,parseType:{dataType:"String",predicate:r=>r===""}},"@empty/whitespace+text":{parse:Jd,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:Jd,parseType:{dataType:"Primitive",predicate:r=>r==null}},"@else/json":{parse:vD,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:gD,parseType:{dataType:"ComplexObject",predicate(r){return typeof jQuery<"u"&&r instanceof jQuery}}},"@else/html":{parse:bD,parseType:{dataType:"ComplexObject",predicate(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}}}};function bS(r,t,e){return r+(t<e.length-1?",":"")}function yS(r,t){const e=Array.isArray(r);let i;return e?i=r.map(n=>j_(n,t)):i=Object.keys(r).filter(n=>JSON.stringify(r[n])).map(n=>`"${n}": ${j_(r[n],t)}`),i=i.map(bS).map(n=>t.listItem.join(n)),i=t.list.join(i.join("")),e?`[${i}]`:`{${i}}`}function j_(r,t){return typeof r=="object"&&r!==null?r.length===0?"[]":Object.keys(r).length===0?"{}":yS(r,t):JSON.stringify(r)}function _D(r,t){let e=r.map(i=>yS(i,t));return e=e.map(bS).map(i=>t.entry.join(i)),e=e.join(""),t.bibliographyContainer.join(`[${e}]`)}const wD={data(r,{type:t,format:e=t||"text",version:i="1.0.2"}={}){return i<"1.0.2"&&(r=yf(r)),e==="object"?Ao(r):e==="text"?JSON.stringify(r,null,2):(_n.warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),_D(r,Db(e)))},ndjson(r,{version:t="1.0.2"}={}){return t<"1.0.2"&&(r=yf(r)),r.map(e=>JSON.stringify(e)).join(`
`)}},xD=Object.assign({},wD,zP);Nb(yD,{input:$D,output:xD});var $S={exports:{}};(function(r){(function(t,e){r.exports?r.exports=e():t.moo=e()})(Gh,function(){var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,i=typeof new RegExp().sticky=="boolean";function n(k){return k&&e.call(k)==="[object RegExp]"}function a(k){return k&&typeof k=="object"&&!n(k)&&!Array.isArray(k)}function s(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(k){var j=new RegExp("|"+k);return j.exec("").length-1}function l(k){return"("+k+")"}function u(k){if(!k.length)return"(?!)";var j=k.map(function(J){return"(?:"+J+")"}).join("|");return"(?:"+j+")"}function f(k){if(typeof k=="string")return"(?:"+s(k)+")";if(n(k)){if(k.ignoreCase)throw new Error("RegExp /i flag not allowed");if(k.global)throw new Error("RegExp /g flag is implied");if(k.sticky)throw new Error("RegExp /y flag is implied");if(k.multiline)throw new Error("RegExp /m flag is implied");return k.source}else throw new Error("Not a pattern: "+k)}function h(k,j){return k.length>j?k:Array(j-k.length+1).join(" ")+k}function c(k,j){for(var J=k.length,Q=0;;){var R=k.lastIndexOf(`
`,J-1);if(R===-1||(Q++,J=R,Q===j)||J===0)break}var B=Q<j?0:J+1;return k.substring(B).split(`
`)}function m(k){for(var j=Object.getOwnPropertyNames(k),J=[],Q=0;Q<j.length;Q++){var R=j[Q],B=k[R],U=[].concat(B);if(R==="include"){for(var te=0;te<U.length;te++)J.push({include:U[te]});continue}var de=[];U.forEach(function(me){a(me)?(de.length&&J.push(v(R,de)),J.push(v(R,me)),de=[]):de.push(me)}),de.length&&J.push(v(R,de))}return J}function d(k){for(var j=[],J=0;J<k.length;J++){var Q=k[J];if(Q.include){for(var R=[].concat(Q.include),B=0;B<R.length;B++)j.push({include:R[B]});continue}if(!Q.type)throw new Error("Rule has no type: "+JSON.stringify(Q));j.push(v(Q.type,Q))}return j}function v(k,j){if(a(j)||(j={match:j}),j.include)throw new Error("Matching rules cannot also include states");var J={defaultType:k,lineBreaks:!!j.error||!!j.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Q in j)t.call(j,Q)&&(J[Q]=j[Q]);if(typeof J.type=="string"&&k!==J.type)throw new Error("Type transform cannot be a string (type '"+J.type+"' for token '"+k+"')");var R=J.match;return J.match=Array.isArray(R)?R:R?[R]:[],J.match.sort(function(B,U){return n(B)&&n(U)?0:n(U)?-1:n(B)?1:U.length-B.length}),J}function b(k){return Array.isArray(k)?d(k):m(k)}var g=v("error",{lineBreaks:!0,shouldThrow:!0});function y(k,j){for(var J=null,Q=Object.create(null),R=!0,B=null,U=[],te=[],de=0;de<k.length;de++)k[de].fallback&&(R=!1);for(var de=0;de<k.length;de++){var me=k[de];if(me.include)throw new Error("Inheritance is not allowed in stateless lexers");if(me.error||me.fallback){if(J)throw!me.fallback==!J.fallback?new Error("Multiple "+(me.fallback?"fallback":"error")+" rules not allowed (for token '"+me.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+me.defaultType+"')");J=me}var ee=me.match.slice();if(R)for(;ee.length&&typeof ee[0]=="string"&&ee[0].length===1;){var re=ee.shift();Q[re.charCodeAt(0)]=me}if(me.pop||me.push||me.next){if(!j)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+me.defaultType+"')");if(me.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+me.defaultType+"')")}if(ee.length!==0){R=!1,U.push(me);for(var ue=0;ue<ee.length;ue++){var Te=ee[ue];if(n(Te)){if(B===null)B=Te.unicode;else if(B!==Te.unicode&&me.fallback===!1)throw new Error("If one rule is /u then all must be")}}var we=u(ee.map(f)),xe=new RegExp(we);if(xe.test(""))throw new Error("RegExp matches empty string: "+xe);var Oe=o(we);if(Oe>0)throw new Error("RegExp has capture groups: "+xe+`
Use (?: … ) instead`);if(!me.lineBreaks&&xe.test(`
`))throw new Error("Rule should declare lineBreaks: "+xe);te.push(l(we))}}var Ie=J&&J.fallback,pe=i&&!Ie?"ym":"gm",be=i||Ie?"":"|";B===!0&&(pe+="u");var W=new RegExp(u(te)+be,pe);return{regexp:W,groups:U,fast:Q,error:J||g}}function _(k){var j=y(b(k));return new M({start:j},"start")}function w(k,j,J){var Q=k&&(k.push||k.next);if(Q&&!J[Q])throw new Error("Missing state '"+Q+"' (in token '"+k.defaultType+"' of state '"+j+"')");if(k&&k.pop&&+k.pop!=1)throw new Error("pop must be 1 (in token '"+k.defaultType+"' of state '"+j+"')")}function O(k,j){var J=k.$all?b(k.$all):[];delete k.$all;var Q=Object.getOwnPropertyNames(k);j||(j=Q[0]);for(var R=Object.create(null),B=0;B<Q.length;B++){var U=Q[B];R[U]=b(k[U]).concat(J)}for(var B=0;B<Q.length;B++)for(var U=Q[B],te=R[U],de=Object.create(null),me=0;me<te.length;me++){var ee=te[me];if(ee.include){var re=[me,1];if(ee.include!==U&&!de[ee.include]){de[ee.include]=!0;var ue=R[ee.include];if(!ue)throw new Error("Cannot include nonexistent state '"+ee.include+"' (in state '"+U+"')");for(var Te=0;Te<ue.length;Te++){var we=ue[Te];te.indexOf(we)===-1&&re.push(we)}}te.splice.apply(te,re),me--}}for(var xe=Object.create(null),B=0;B<Q.length;B++){var U=Q[B];xe[U]=y(R[U],!0)}for(var B=0;B<Q.length;B++){for(var Oe=Q[B],Ie=xe[Oe],pe=Ie.groups,me=0;me<pe.length;me++)w(pe[me],Oe,xe);for(var be=Object.getOwnPropertyNames(Ie.fast),me=0;me<be.length;me++)w(Ie.fast[be[me]],Oe,xe)}return new M(xe,j)}function I(k){for(var j=typeof Map<"u",J=j?new Map:Object.create(null),Q=Object.getOwnPropertyNames(k),R=0;R<Q.length;R++){var B=Q[R],U=k[B],te=Array.isArray(U)?U:[U];te.forEach(function(de){if(typeof de!="string")throw new Error("keyword must be string (in keyword '"+B+"')");j?J.set(de,B):J[de]=B})}return function(de){return j?J.get(de):J[de]}}var M=function(k,j){this.startState=j,this.states=k,this.buffer="",this.stack=[],this.reset()};M.prototype.reset=function(k,j){return this.buffer=k||"",this.index=0,this.line=j?j.line:1,this.col=j?j.col:1,this.queuedToken=j?j.queuedToken:null,this.queuedText=j?j.queuedText:"",this.queuedThrow=j?j.queuedThrow:null,this.setState(j?j.state:this.startState),this.stack=j&&j.stack?j.stack.slice():[],this},M.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},M.prototype.setState=function(k){if(!(!k||this.state===k)){this.state=k;var j=this.states[k];this.groups=j.groups,this.error=j.error,this.re=j.regexp,this.fast=j.fast}},M.prototype.popState=function(){this.setState(this.stack.pop())},M.prototype.pushState=function(k){this.stack.push(this.state),this.setState(k)};var T=i?function(k,j){return k.exec(j)}:function(k,j){var J=k.exec(j);return J[0].length===0?null:J};M.prototype._getGroup=function(k){for(var j=this.groups.length,J=0;J<j;J++)if(k[J+1]!==void 0)return this.groups[J];throw new Error("Cannot find token type for matched text")};function E(){return this.value}if(M.prototype.next=function(){var k=this.index;if(this.queuedGroup){var j=this._token(this.queuedGroup,this.queuedText,k);return this.queuedGroup=null,this.queuedText="",j}var J=this.buffer;if(k!==J.length){var U=this.fast[J.charCodeAt(k)];if(U)return this._token(U,J.charAt(k),k);var Q=this.re;Q.lastIndex=k;var R=T(Q,J),B=this.error;if(R==null)return this._token(B,J.slice(k,J.length),k);var U=this._getGroup(R),te=R[0];return B.fallback&&R.index!==k?(this.queuedGroup=U,this.queuedText=te,this._token(B,J.slice(k,R.index),k)):this._token(U,te,k)}},M.prototype._token=function(k,j,J){var Q=0;if(k.lineBreaks){var R=/\n/g,B=1;if(j===`
`)Q=1;else for(;R.exec(j);)Q++,B=R.lastIndex}var U={type:typeof k.type=="function"&&k.type(j)||k.defaultType,value:typeof k.value=="function"?k.value(j):j,text:j,toString:E,offset:J,lineBreaks:Q,line:this.line,col:this.col},te=j.length;if(this.index+=te,this.line+=Q,Q!==0?this.col=te-B+1:this.col+=te,k.shouldThrow){var de=new Error(this.formatError(U,"invalid syntax"));throw de}return k.pop?this.popState():k.push?this.pushState(k.push):k.next&&this.setState(k.next),U},typeof Symbol<"u"&&Symbol.iterator){var q=function(k){this.lexer=k};q.prototype.next=function(){var k=this.lexer.next();return{value:k,done:!k}},q.prototype[Symbol.iterator]=function(){return this},M.prototype[Symbol.iterator]=function(){return new q(this)}}return M.prototype.formatError=function(k,j){if(k==null)var J=this.buffer.slice(this.index),k={text:J,offset:this.index,lineBreaks:J.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var Q=2,R=Math.max(k.line-Q,1),B=k.line+Q,U=String(B).length,te=c(this.buffer,this.line-k.line+Q+1).slice(0,5),de=[];de.push(j+" at line "+k.line+" col "+k.col+":"),de.push("");for(var me=0;me<te.length;me++){var ee=te[me],re=R+me;de.push(h(String(re),U)+"  "+ee),re===k.line&&de.push(h("",U+k.col+1)+"^")}return de.join(`
`)},M.prototype.clone=function(){return new M(this.states,this.state)},M.prototype.has=function(k){return!0},{compile:_,states:O,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:I}})})($S);var SD=$S.exports;const _S=xb(SD),ED={article:"article-journal",book:"book",mvbook:"book",inbook:"chapter",bookinbook:"book",booklet:"book",collection:"book",mvcollection:"book",incollection:"chapter",dataset:"dataset",manual:"report",misc:"document",online:"webpage",patent:"patent",periodical:"periodical",proceedings:"book",mvproceedings:"book",inproceedings:"paper-conference",reference:"book",mvreference:"book",inreference:"entry",report:"report",software:"software",thesis:"thesis",unpublished:"manuscript",artwork:"graphic",audio:"song",image:"figure",jurisdiction:"legal_case",legislation:"legislation",legal:"treaty",letter:"personal_communication",movie:"motion_picture",music:"musical_score",performance:"performance",review:"review",standard:"standard",video:"motion_picture",conference:"paper-conference",electronic:"webpage",mastersthesis:"thesis",phdthesis:"thesis",techreport:"report",www:"webpage"},kD={article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",bill:"legislation",book:"book",broadcast:"audio",chapter:"inbook",classic:"unpublished",collection:"misc",dataset:"dataset",document:"misc",entry:"inreference","entry-dictionary":"inreference","entry-encyclopedia":"inreference",event:"misc",figure:"artwork",graphic:"artwork",hearing:"legal",interview:"audio",legal_case:"jurisdiction",legislation:"legislation",manuscript:"unpublished",motion_picture:"movie",musical_score:"music","paper-conference":"inproceedings",patent:"patent",performance:"performance",periodical:"periodical",personal_communication:"letter",post:"online","post-weblog":"online",regulation:"legal",report:"report",review:"review","review-book":"review",software:"software",song:"music",speech:"audio",standard:"standard",thesis:"thesis",treaty:"legal",webpage:"online"},Lg={source:ED,target:kD},TD={article:"article-journal",book:"book",booklet:"book",conference:"paper-conference",inbook:"chapter",incollection:"chapter",inproceedings:"paper-conference",manual:"report",mastersthesis:"thesis",misc:"document",phdthesis:"thesis",proceedings:"book",techreport:"report",unpublished:"manuscript"},OD={article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",book:"book",chapter:"inbook",manuscript:"unpublished","paper-conference":"inproceedings",report:"techreport",review:"article","review-book":"article"},jg={source:TD,target:OD},AD={article:["author","title","journaltitle",["year","date"]],book:["author","title",["year","date"]],mvbook:["author","title",["year","date"]],inbook:["author","title","booktitle",["year","date"]],booklet:[["author","editor"],"title",["year","date"]],collection:["editor","title",["year","date"]],mvcollection:["editor","title",["year","date"]],incollection:["author","title","booktitle",["year","date"]],dataset:[["author","editor"],"title",["year","date"]],online:[["author","editor"],"title",["year","date"],["doi","eprint","url"]],patent:["author","title","number",["year","date"]],periodical:["editor","title",["year","date"]],proceedings:["title",["year","date"]],mvproceedings:["title",["year","date"]],inproceedings:["author","title","booktitle",["year","date"]],report:["author","title","type","institution",["year","date"]],thesis:["author","title","type","institution",["year","date"]],unpublished:["author","title",["year","date"]],conference:["author","title","booktitle",["year","date"]],electronic:[["author","editor"],"title",["year","date"],["doi","eprint","url"]],mastersthesis:["author","title","institution",["year","date"]],phdthesis:["author","title","institution",["year","date"]],techreport:["author","title","institution",["year","date"]],www:[["author","editor"],"title",["year","date"],["doi","eprint","url"]]},ID={article:["author","title","journal","year"],book:[["author","editor"],"title","publisher","year"],booklet:["title"],inbook:[["author","editor"],"title",["chapter","pages"],"publisher","year"],incollection:["author","title","booktitle","publisher","year"],inproceedings:["author","title","booktitle","year"],mastersthesis:["author","title","school","year"],phdthesis:["author","title","school","year"],proceedings:["title","year"],techreport:["author","title","institution","year"],unpublished:["author","title","note"]},CD={biblatex:AD,bibtex:ID},PD=["field","literal"],DD=["field","literal"],ND=["list","name"],RD=["field","literal"],MD=["list","name"],BD=["list","name"],FD=["field","key"],zD=["list","name"],LD=["field","key"],jD=["field","literal"],UD=["field","title"],qD=["field","literal"],HD=["field","literal"],GD=["list","name"],WD=["field","date"],VD=["field","verbatim"],XD=["field","literal"],KD=["list","name"],YD=["list","name"],JD=["list","name"],QD=["list","name"],ZD=["field","key"],eN=["field","key"],tN=["field","key"],rN=["field","key"],iN=["field","literal"],nN=["field","literal"],aN=["field","verbatim"],sN=["field","literal"],oN=["field","literal"],lN=["field","date"],uN=["field","title"],fN=["field","literal"],cN=["field","verbatim"],hN=["list","name"],mN=["list","name"],pN=["field","literal"],dN=["field","literal"],vN=["list","literal"],gN=["list","name"],bN=["field","literal"],yN=["field","literal"],$N=["field","literal"],_N=["field","literal"],wN=["field","literal"],xN=["field","literal"],SN=["field","literal"],EN=["field","literal"],kN=["field","literal"],TN=["field","literal"],ON=["field","literal"],AN=["field","literal"],IN=["list","key"],CN=["field","literal"],PN=["list","literal"],DN=["field","literal"],NN=["field","title"],RN=["field","literal"],MN=["field","literal"],BN=["field","literal"],FN=["field","literal"],zN=["field","literal"],LN=["list","literal"],jN=["field","date"],UN=["list","key"],qN=["list","literal"],HN=["list","literal"],GN=["field","title"],WN=["field","range"],VN=["field","literal"],XN=["field","key"],KN=["field","literal"],YN=["list","literal"],JN=["field","key"],QN=["field","literal"],ZN=["field","title"],eR=["list","name"],tR=["list","name"],rR=["field","literal"],iR=["field","literal"],nR=["field","literal"],aR=["field","literal"],sR=["field","title"],oR=["field","literal"],lR=["field","title"],uR=["field","literal"],fR=["list","name"],cR=["field","title"],hR=["field","uri"],mR=["field","date"],pR=["field","literal"],dR=["field","literal"],vR=["field","integer"],gR=["field","integer"],bR=["field","literal"],yR=["field","entry key"],$R=["separated","literal"],_R=["field","code"],wR=["field","gender"],xR=["field","identifier"],SR=["field","literal"],ER=["separated","entry key"],kR=["field","literal"],TR=["separated","literal"],OR=["separated","options"],AR=["field","string"],IR=["separated","literal"],CR=["separated","literal"],PR=["field","identifier"],DR=["field","literal"],NR=["field","literal"],RR=["list","name"],MR=["field","literal"],BR=["field","literal"],FR=["field","integer"],zR=["separated","entry key"],LR=["field","entry key"],jR=["list","name"],UR=["list","name"],qR=["list","name"],HR=["field","key"],GR=["field","key"],WR=["field","key"],VR=["list","literal"],XR=["list","literal"],KR=["list","literal"],YR=["list","literal"],JR=["list","literal"],QR=["list","literal"],ZR=["field","literal"],eM=["field","literal"],tM=["field","literal"],rM=["field","literal"],iM=["field","literal"],nM=["field","literal"],aM=["field","literal"],sM=["field","literal"],oM=["field","literal"],lM=["list","literal"],uM=["field","literal"],fM=["field","literal"],cM=["field","literal"],hM=["field","literal"],mM=["field","verbatim"],pM=["field","literal"],dM=["list","literal"],vM=["field","integer"],gM=["field","literal"],bM=["field","literal"],yM={abstract:PD,addendum:DD,afterword:ND,annotation:RD,annotator:MD,author:BD,authortype:FD,bookauthor:zD,bookpagination:LD,booksubtitle:jD,booktitle:UD,booktitleaddon:qD,chapter:HD,commentator:GD,date:WD,doi:VD,edition:XD,editor:KD,editora:YD,editorb:JD,editorc:QD,editortype:ZD,editoratype:eN,editorbtype:tN,editorctype:rN,eid:iN,entrysubtype:nN,eprint:aN,eprintclass:sN,eprinttype:oN,eventdate:lN,eventtitle:uN,eventtitleaddon:fN,file:cN,foreword:hN,holder:mN,howpublished:pN,indextitle:dN,institution:vN,introduction:gN,isan:bN,isbn:yN,ismn:$N,isrn:_N,issn:wN,issue:xN,issuesubtitle:SN,issuetitle:EN,iswc:kN,journalsubtitle:TN,journaltitle:ON,label:AN,language:IN,library:CN,location:PN,mainsubtitle:DN,maintitle:NN,maintitleaddon:RN,month:MN,nameaddon:BN,note:FN,number:zN,organization:LN,origdate:jN,origlanguage:UN,origlocation:qN,origpublisher:HN,origtitle:GN,pages:WN,pagetotal:VN,pagination:XN,part:KN,publisher:YN,pubstate:JN,reprinttitle:QN,series:ZN,shortauthor:eR,shorteditor:tR,shorthand:rR,shorthandintro:iR,shortjournal:nR,shortseries:aR,shorttitle:sR,subtitle:oR,title:lR,titleaddon:uR,translator:fR,type:cR,url:hR,urldate:mR,venue:pR,version:dR,volume:vR,volumes:gR,year:bR,crossref:yR,entryset:$R,execute:_R,gender:wR,langid:xR,langidopts:SR,ids:ER,indexsorttitle:kR,keywords:TR,options:OR,presort:AR,related:IR,relatedoptions:CR,relatedtype:PR,relatedstring:DR,sortkey:NR,sortname:RR,sortshorthand:MR,sorttitle:BR,sortyear:FR,xdata:zR,xref:LR,namea:jR,nameb:UR,namec:qR,nameatype:HR,namebtype:GR,namectype:WR,lista:VR,listb:XR,listc:KR,listd:YR,liste:JR,listf:QR,usera:ZR,userb:eM,userc:tM,userd:rM,usere:iM,userf:nM,verba:aM,verbb:sM,verbc:oM,address:lM,annote:uM,archiveprefix:fM,journal:cM,key:hM,pdf:mM,primaryclass:pM,school:dM,numpages:vM,pmid:gM,pmcid:bM},$M={"`":"̀","'":"́","^":"̂","~":"̃","=":"̄",u:"̆",".":"̇",'"':"̈",r:"̊",H:"̋",v:"̌",b:"̲",d:"̣",c:"̧",k:"̨",t:"͡",textcommabelow:"̦"},_M={textquotesingle:"'",textasciigrave:"`",textquotedbl:'"',textdollar:"$",textless:"<",textgreater:">",textbackslash:"\\",textasciicircum:"^",textunderscore:"_",textbraceleft:"{",textbar:"|",textbraceright:"}",textasciitilde:"~",textexclamdown:"¡",textcent:"¢",textsterling:"£",textcurrency:"¤",textyen:"¥",textbrokenbar:"¦",textsection:"§",textasciidieresis:"¨",textcopyright:"©",textordfeminine:"ª",guillemetleft:"«",guillemotleft:"«",textlnot:"¬",textregistered:"®",textasciimacron:"¯",textdegree:"°",textpm:"±",texttwosuperior:"²",textthreesuperior:"³",textasciiacute:"´",textmu:"µ",textparagraph:"¶",textperiodcentered:"·",textonesuperior:"¹",textordmasculine:"º",guillemetright:"»",guillemotright:"»",textonequarter:"¼",textonehalf:"½",textthreequarters:"¾",textquestiondown:"¿",AE:"Æ",DH:"Ð",texttimes:"×",O:"Ø",TH:"Þ",ss:"ß",ae:"æ",dh:"ð",textdiv:"÷",o:"ø",th:"þ",DJ:"Đ",dj:"đ",i:"ı",IJ:"Ĳ",ij:"ĳ",L:"Ł",l:"ł",NG:"Ŋ",ng:"ŋ",OE:"Œ",oe:"œ",textflorin:"ƒ",j:"ȷ",textasciicaron:"ˇ",textasciibreve:"˘",textacutedbl:"˝",textgravedbl:"˵",texttildelow:"˷",textbaht:"฿",SS:"ẞ",textcompwordmark:"‌",textendash:"–",textemdash:"—",textbardbl:"‖",textquoteleft:"‘",textquoteright:"’",quotesinglbase:"‚",textquotedblleft:"“",textquotedblright:"”",quotedblbase:"„",textdagger:"†",textdaggerdbl:"‡",textbullet:"•",textellipsis:"…",textperthousand:"‰",textpertenthousand:"‱",guilsinglleft:"‹",guilsinglright:"›",textreferencemark:"※",textinterrobang:"‽",textfractionsolidus:"⁄",textlquill:"⁅",textrquill:"⁆",textdiscount:"⁒",textcolonmonetary:"₡",textlira:"₤",textnaira:"₦",textwon:"₩",textdong:"₫",texteuro:"€",textpeso:"₱",textcelsius:"℃",textnumero:"№",textcircledP:"℗",textrecipe:"℞",textservicemark:"℠",texttrademark:"™",textohm:"Ω",textmho:"℧",textestimated:"℮",textleftarrow:"←",textuparrow:"↑",textrightarrow:"→",textdownarrow:"↓",textminus:"−",Hwithstroke:"Ħ",hwithstroke:"ħ",textasteriskcentered:"∗",textsurd:"√",textlangle:"〈",textrangle:"〉",textblank:"␢",textvisiblespace:"␣",textopenbullet:"◦",textbigcircle:"◯",textmusicalnote:"♪",textmarried:"⚭",textdivorced:"⚮",textinterrobangdown:"⸘",textcommabelow:null,copyright:"©"},wM={Gamma:"Γ",Delta:"Δ",Theta:"Θ",Lambda:"Λ",Xi:"Ξ",Pi:"Π",Sigma:"Σ",Phi:"Φ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",varepsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",pi:"π",rho:"ρ",varsigma:"ς",sigma:"σ",tau:"τ",upsilon:"υ",varphi:"φ",chi:"χ",psi:"ψ",omega:"ω",vartheta:"ϑ",Upsilon:"ϒ",phi:"ϕ",varpi:"ϖ",varrho:"ϱ",epsilon:"ϵ"},Rb={diacritics:$M,commands:_M,mathCommands:wM},Mb=CD,vm=yM,wf=Rb.diacritics,xf=Rb.commands,Sf=Rb.mathCommands,wS={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"},Wh={it:"italics",itshape:"italics",sl:"italics",slshape:"italics",em:"italics",bf:"bold",bfseries:"bold",sc:"smallcaps",scshape:"smallcaps",rm:void 0,sf:void 0,tt:void 0},Ug={textit:"italics",textsl:"italics",emph:"italics",mkbibitalic:"italics",mkbibemph:"italics",textbf:"bold",strong:"bold",mkbibbold:"bold",textsc:"smallcaps",textsuperscript:"superscript",textsubscript:"subscript",enquote:"quotes",mkbibquote:"quotes",textmd:void 0,textrm:void 0,textsf:void 0,texttt:void 0,textup:void 0},gm={italics:["<i>","</i>"],bold:["<b>","</b>"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"],smallcaps:['<span style="font-variant:small-caps;">',"</span>"],nocase:['<span class="nocase">',"</span>"],quotes:["“","”"]},qg={ElsevierGlyph(r){return String.fromCharCode(parseInt(r,16))},href(r,t){return r},url(r){return r}},xS=/---?|''|``|~/g,Ef={"--":"–","---":"—","``":"“","''":"”","~":" "},Vh={"^":"superscript",sp:"superscript",_:"subscript",sb:"subscript",mathrm:void 0},Hg={"^":{0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻","=":"⁼","(":"⁽",")":"⁾",i:"ⁱ",n:"ⁿ"},_:{0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉","+":"₊","-":"₋","=":"₌","(":"₍",")":"₎",a:"ₐ",e:"ₑ",o:"ₒ",x:"ₓ",ə:"ₔ",h:"ₕ",k:"ₖ",l:"ₗ",m:"ₘ",n:"ₙ",s:"ₚ",p:"ₛ",t:"ₜ"}},SS=["american","british","canadian","english","australian","newzealand","usenglish","ukenglish","en","eng","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","anglais"],xM=Object.freeze(Object.defineProperty({__proto__:null,argumentCommands:qg,commands:xf,defaultStrings:wS,diacritics:wf,fieldTypes:vm,formatting:gm,formattingCommands:Ug,formattingEnvs:Wh,ligaturePattern:xS,ligatures:Ef,mathCommands:Sf,mathScriptFormatting:Vh,mathScripts:Hg,required:Mb,sentenceCaseLanguages:SS},Symbol.toStringTag,{value:"Module"})),hi={constants:xM,types:{biblatex:Lg,bibtex:jg},parse:{biblatex:!0,strict:!1,sentenceCase:"never"},format:{useIdAsLabel:!1,asciiOnly:!0},biber:{annotationMarker:"+an",namedAnnotationMarker:":"}};function U_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function na(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(e),!0).forEach(function(i){SM(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):U_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function SM(r,t,e){return t=EM(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function EM(r){var t=kM(r,"string");return typeof t=="symbol"?t:String(t)}function kM(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const q_=/[a-zA-Z_][a-zA-Z0-9_:+-]*/,Xc={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},TM=_S.states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:na(na({},Xc),{},{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:q_,next:"dataEntryContents"}}),otherEntryContents:na(na({},Xc),{},{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:na(na({},Xc),{},{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:na(na({},Xc),{},{identifier:q_,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},quote:{match:'"',pop:!0},text:{match:/(?:\\[\\{]|[^{"])+/,lineBreaks:!0}},bracedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:"}",pop:!0},text:{match:/(?:\\[\\{}]|[^{}])+/,lineBreaks:!0}}}),OM={"(":")","{":"}"},AM=new cS({Main(){const r=[];for(;;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;r.push(this.consumeRule("Entry"))}return r.filter(Boolean)},_(){let r;for(;r!==this.token;)r=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry(){this.consumeToken("at"),this.consumeRule("_");const r=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");const t=this.consumeToken("lbrace").value;this.consumeRule("_");let e;if(r==="string"){const[n,a]=this.consumeRule("Field");this.state.strings[n]=a}else if(r==="preamble")this.consumeRule("Expression");else{const n=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_");const a=this.consumeRule("EntryBody");e=na({type:r,label:n},a)}this.consumeRule("_");const i=this.consumeToken("rbrace").value;return i!==OM[t]&&_n.warn("[plugin-bibtex]",`entry started with "${t}", but ends with "${i}"`),e},EntryBody(){const r={properties:{}};for(;this.matchToken("identifier");){const[t,e]=this.consumeRule("Field");let i,n="default";if(t.endsWith(hi.biber.annotationMarker)?i=t.slice(0,-hi.biber.annotationMarker.length):t.includes(hi.biber.annotationMarker+hi.biber.namedAnnotationMarker)&&([i,n]=t.split(hi.biber.annotationMarker+hi.biber.namedAnnotationMarker)),i?(r.annotations||(r.annotations={}),r.annotations[i]||(r.annotations[i]={}),r.annotations[i][n]=e):r.properties[t]=e,this.consumeRule("_"),this.consumeToken("comma",!0))this.consumeRule("_");else break}return r},Field(){const r=this.consumeToken("identifier").value.toLowerCase();this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_");const t=this.consumeRule("Expression");return[r,t]},Expression(){let r=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),r+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return r},ExpressionPart(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value.toLowerCase()]||"":this.matchToken("number")?parseInt(this.consumeToken("number")):this.matchToken("quote")?this.consumeRule("QuoteString"):this.consumeRule("BracketString")},QuoteString(){let r="";for(this.consumeToken("quote");!this.matchToken("quote");)r+=this.consumeRule("Text");return this.consumeToken("quote"),r},BracketString(){let r="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)r+=this.consumeRule("Text");return this.consumeToken("rbrace"),r},Text(){return this.matchToken("lbrace")?`{${this.consumeRule("BracketString")}}`:this.consumeToken("text").value}},{strings:wS});function H_(r){return AM.parse(TM.reset(r))}const Xh={splitEntries:/\n\s*(?=\[)/g,parseEntry:/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,splitPairs:/((?=.)\s)*\n\s*/g,splitPair:/:(.*)/},IM=r=>{const[,t,e]=r.match(Xh.parseEntry)||[];if(!t||!e)return{};{const i={type:"book",label:t,properties:{}};return e.trim().split(Xh.splitPairs).filter(n=>n).forEach(n=>{let[a,s]=n.split(Xh.splitPair);s&&(a=a.trim(),s=s.trim(),a==="type"?i.type=s:i.properties[a]=s)}),i}},CM=r=>r.trim().split(Xh.splitEntries).map(IM),PM=new Set(["the","a","an"]),Gg=/(?:<\/?.*?>|[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F])+/g,DM=/[^\u0020-\u007F]+/g;function G_(r){return r?r.normalize("NFKD").replace(DM,"").split(Gg).find(t=>t.length&&!PM.has(t.toLowerCase())):""}const Kc=new ba([{source:"given",target:"given"},{source:"family",target:"family"},{source:"suffix",target:"suffix"},{source:"prefix",target:"non-dropping-particle"},{source:"family",target:"literal",when:{source:!1,target:{family:!1,given:!1}}}]),NM=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],kr="BibTeX type",kf="BibTeX label",pl={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},RM={bathesis:"Bachelor's thesis",mathesis:"Master's thesis",phdthesis:"PhD thesis",candthesis:"Candidate thesis",techreport:"technical report",resreport:"research report",software:"computer software",datacd:"data cd",audiocd:"audio cd",patent:"patent",patentde:"German patent",patenteu:"European patent",patentfr:"French patent",patentuk:"British patent",patentus:"U.S. patent",patreq:"patent request",patreqde:"German patent request",patreqeu:"European patent request",patreqfr:"French patent request",patrequk:"British patent request",patrequs:"U.S. patent request"},MM=/(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\d{9}|(?=[\d-]{11}$)\d+-\d+-\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\d{9}-?\d$)/i;function BM(r){const t=r.split("T")[0].replace(/[?~%]$/,"").split("-"),e=+t[0].replace(/^Y(?=-?\d{4}\d+)/,"").replace(/X/g,"0"),i=+t[1],n=+t[2];return!i||i>20?[e]:n?[e,i,n]:[e,i]}function FM(r){if(r==null)return[];if(+r)return[parseInt(r,10)];if(r=r.trim().toLowerCase(),r in pl)return[pl[r]];const t=r.split(/\s+/);let e,i;return t[0]in pl?(e=pl[t[0]],i=parseInt(t[1])):t[1]in pl&&(e=pl[t[1]],i=parseInt(t[0])),i?[e,i]:e?[e]:[]}function zM(r,t,e,i){let n="";return r&&r[0]&&(n+=G_(r[0].family||r[0].literal)),t&&t["date-parts"]&&t["date-parts"][0]&&(n+=t["date-parts"][0][0]),e?n+=e:i&&(n+=G_(i)),n}const ut={PICK:{toTarget(...r){return r.find(Boolean)},toSource(r){return[r]}},DATE:{toTarget(r){const t=r.split("/").map(e=>e&&e!==".."?BM(e):void 0);return isNaN(t[0][0])?{literal:r}:{"date-parts":t}},toSource(r){if("date-parts"in r)return r["date-parts"].map(t=>t.map(e=>e.toString().padStart(2,"0")).join("-")).join("/")}},YEAR_MONTH:{toTarget(r,t,e){return isNaN(+r)?{literal:r}:!isNaN(+e)&&!isNaN(+t)?{"date-parts":[[+r,+t,+e]]}:{"date-parts":[[+r,...FM(t)]]}},toSource(r){if("date-parts"in r){const[t,e,i]=r["date-parts"][0];return[t.toString(),e?i?`${NM[e-1]} ${i}`:e:void 0]}else return[]}},EPRINT:{toTarget(r,t){if(t==="pubmed")return r},toSource(r){return[r,"pubmed"]}},EVENT_TITLE:{toTarget(r,t){return t&&(r+=" ("+t+")"),r},toSource(r){return r.match(/^(.+)(?: \((.+)\))?$/).slice(1,3)}},HOW_PUBLISHED:{toTarget(r){if(r.startsWith("http"))return r}},KEYWORDS:{toTarget(r){return r.join(",")},toSource(r){return r.split(",")}},LABEL:{toTarget(r){return[r,r]},toSource(r,t,e,i,n,a){let s;return r===null?s="null":r===void 0?s="undefined":s=r.toString().replace(Gg,""),hi.format.useIdAsLabel?s:t&&!Gg.test(t)?t:zM(e,i,n,a)||s}},NAMES:{toTarget(r){return r.map(Kc.convertToTarget)},toSource(r){return r.map(Kc.convertToSource)}},NAMES_ORCID:{toTarget(r,t){return r.map((e,i)=>{var n;const a=Kc.convertToTarget(e);return typeof(t==null||(n=t.item)===null||n===void 0?void 0:n[i])=="string"&&(a._orcid=t.item[i]),a})},toSource(r){const t=[],e=[];for(let i=0;i<r.length;i++)t.push(Kc.convertToSource(r[i])),r[i]._orcid&&(e[i]=r[i]._orcid);return[t,e.length?{item:e}:void 0]}},PAGES:{toTarget(r){return r.replace(/[–—]/,"-")},toSource(r){return r.replace("-","--")}},STANDARD_NUMBERS:{toTarget(...r){return r.find(Boolean)},toSource(r){const t=r.toString().match(MM);return t?t.slice(1,5):[]}},STATUS:{toSource(r){if(/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(r))return r}},TITLE:{toTarget(r,t,e){return t&&(r+=": "+t),r},toSource(r){return[r]}}};var Bb={},rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.default=void 0;function Yl(r,t){return qM(r)||UM(r,t)||jM(r,t)||LM()}function LM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jM(r,t){if(r){if(typeof r=="string")return W_(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return W_(r,t)}}function W_(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function UM(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var i=[],n=!0,a=!1,s,o;try{for(e=e.call(r);!(n=(s=e.next()).done)&&(i.push(s.value),!(t&&i.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&e.return!=null&&e.return()}finally{if(a)throw o}}return i}}function qM(r){if(Array.isArray(r))return r}const HM={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},GM=/ (?:to|[-/]) | ?(?:--|[–—]) ?/,V_=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function co(r){return HM[r.toLowerCase().slice(0,3)]}function WM(r){const t=new Date(r);return typeof r=="number"&&!isNaN(t.valueOf())?[t.getFullYear(),t.getMonth()+1,t.getDate()]:null}const VM=function(t){const e=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if(typeof t!="string"||!e.test(t))return null;const i=t.match(e),n=Yl(i,4),a=n[1],s=n[2],o=n[3];return+s?+o?[a,s,o]:[a,s]:[a]},XM=function(t){const e=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if(typeof t!="string"||!e.test(t))return null;let i=t.match(e),n=Yl(i,4),a=n[1],s=n[2],o=n[3];return s=co(s),s?[o,s,a]:null};function KM(r){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if(typeof r!="string"||!t.test(r))return null;const e=r.match(t),i=Yl(e,4),n=i[1],a=i[2],s=i[3];return new Date(s,n,a).getMonth()===parseInt(n)?[s,n,a]:null}function YM(r){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,e=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let i,n,a;if(typeof r!="string")return null;if(t.test(r)){var s=r.match(t),o=Yl(s,4);a=o[1],n=o[2],i=o[3]}else if(e.test(r)){var l=r.match(e),u=Yl(l,4);i=u[1],n=u[2],a=u[3]}else return null;if(co(n))n=co(n);else if(isNaN(n))return null;return[i,n,a]}function JM(r){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if(typeof r=="string"&&t.test(r)){const e=r.match(t).slice(1,3);let i;if(co(e[1]))i=co(e.pop());else if(co(e[0]))i=co(e.shift());else{if(e.some(isNaN)||e.every(a=>+a<0))return null;+e[0]<0||+e[0]>+e[1]&&+e[1]>0?i=e.pop():i=e.shift()}return[e.pop(),i]}else return null}function QM(r){if(typeof r!="string")return null;const t=r.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=t.slice(1),i=Yl(e,2),n=i[0],a=i[1];return[n*(a.toLowerCase()[0]==="a"?1:-1)]}else return/^-?\d+$/.test(r)?[r]:null}function ZM(r){const t=WM(r)||VM(r)||XM(r)||KM(r)||YM(r)||JM(r)||QM(r);return t&&t.map(e=>parseInt(e))}function eB(r){return V_.test(r)?r.match(V_).slice(1,3):r.split(GM)}function tB(r,t){const e=[],i=typeof r=="string"&&eB(r);t?e.push(r,t):i&&i.length===2?e.push(...i):e.push(r);const n=e.map(ZM);return n.filter(Boolean).length===e.length?{"date-parts":n}:{raw:t?e.join("/"):r}}var rB=tB;rp.default=rB;var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.default=void 0;function Qd(r,t,e){if(r.length>=t)return r;for(;r.length<t;)r=e+r;return r.slice(-t)}const iB=function(t,e="-"){if(!t["date-parts"])return t.raw;const i=t["date-parts"][0].map(n=>n.toString());switch(i.length){case 3:i[2]=Qd(i[2],2,"0");case 2:i[1]=Qd(i[1],2,"0");case 1:i[0]=Qd(i[0],4,"0");break}return i.join(e)};var nB=iB;ip.default=nB;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"format",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return t.default}});var t=i(rp),e=i(ip);function i(n){return n&&n.__esModule?n:{default:n}}})(Bb);const aB=[{source:"note",target:"accessed",when:{source:!1,target:{note:!1,addendum:!1}},convert:{toSource(r){return`[Online; accessed ${Bb.format(r)}]`}}},{source:"numpages",target:"number-of-pages",when:{source:{pagetotal:!1},target:!1}},{source:"pmid",target:"PMID",when:{source:{eprinttype(r){return r!=="pmid"},archiveprefix(r){return r!=="pmid"}},target:!1}},{source:"pmcid",target:"PMCID",when:{target:!1}},{source:"s2id",target:"custom",convert:{toTarget(r){return{S2ID:r}},toSource({S2ID:r}){return r}}}],sB=[{source:"annote",target:"annote",when:{source:{annotation:!1},target:!1}},{source:"address",target:"publisher-place",convert:ut.PICK,when:{source:{location:!1},target:!1}},{source:["eprint","archiveprefix"],target:"PMID",convert:ut.EPRINT,when:{source:{eprinttype:!1},target:!1}},{source:"journal",target:"container-title",when:{source:{maintitle:!1,booktitle:!1,journaltitle:!1},target:!1}},{source:"school",target:"publisher",convert:ut.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:!1}}],ES=new ba([...sB,...aB,{source:"abstract",target:"abstract"},{source:"urldate",target:"accessed",convert:ut.DATE},{source:"annotation",target:"annote"},{source:["author","author+an:orcid"],target:"author",convert:ut.NAMES_ORCID},{source:"library",target:"call-number"},{source:"chapter",target:"chapter-number"},{source:"bookauthor",target:"container-author",convert:ut.NAMES},{source:["maintitle","mainsubtitle","maintitleaddon"],target:"container-title",when:{source:!0,target:{"number-of-volumes":!0}},convert:ut.TITLE},{source:["booktitle","booksubtitle","booktitleaddon"],target:"container-title",when:{source:{maintitle:!1},target:{"number-of-volumes":!1,type(r){return!r||!r.startsWith("article")}}},convert:ut.TITLE},{source:["journaltitle","journalsubtitle","journaltitleaddon"],target:"container-title",when:{source:{[kr]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}},convert:ut.TITLE},{source:"shortjournal",target:"container-title-short",when:{source:{[kr]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"shortjournal",target:"journalAbbreviation",when:{source:!1,target:{"container-title-short":!1}}},{source:"number",target:"collection-number",when:{source:{[kr]:["book","mvbook","inbook","bookinbook","suppbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"shortseries",target:"collection-title-short"},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:ut.NAMES},{source:[kr,"entrysubtype","type"],target:["type","genre"],convert:{toTarget(r,t,e){return e||(r==="mastersthesis"&&(e="mathesis"),r==="phdthesis"&&(e="phdthesis"),r==="techreport"&&(e="techreport")),[Lg.source[r]||"document",e||t]},toSource(r,t){const e=Lg.target[r]||"misc";return t in RM?[e,void 0,t]:[e,t]}}},{source:kr,when:{target:{type:!1}},convert:{toSource(){return"misc"}}},{source:"eventdate",target:"event-date",convert:ut.DATE},{source:"venue",target:"event-place"},{source:["eventtitle","eventtitleaddon"],target:"event-title",convert:ut.EVENT_TITLE},{source:["eventtitle","eventtitleaddon"],target:"event",convert:ut.EVENT_TITLE,when:{source:!1,target:{"event-title":!1}}},{source:kf,target:["id","citation-key","author","issued","year-suffix","title"],convert:ut.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"issue",target:"issue",when:{source:{number:!1,[kr]:["article","periodical"]},target:{issue(r){return typeof r=="string"&&!r.match(/\d+/)},type:["article","article-journal","article-newspaper","article-magazine","periodical"]}}},{source:"number",target:"issue",when:{source:{[kr]:["article","periodical","inproceedings"]},target:{issue(r){return r&&(typeof r=="number"||r.match(/\d+/))},type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:"date",target:"issued",convert:ut.DATE},{source:["year","month","day"],target:"issued",convert:ut.YEAR_MONTH,when:{source:{date:!1},target:!1}},{source:"location",target:"jurisdiction",when:{source:{type:"patent"},target:{type:"patent"}}},{source:"keywords",target:"keyword",convert:ut.KEYWORDS},{source:"language",target:"language",convert:ut.PICK},{source:"langid",target:"language",when:{source:{language:!1},target:!1}},{source:"note",target:"note"},{source:"addendum",target:"note",when:{source:{note:!1},target:!1}},{source:"eid",target:"number",when:{target:{type:["article-journal"]}}},{source:["isan","ismn","isrn","iswc"],target:"number",convert:ut.STANDARD_NUMBERS,when:{source:{[kr](r){return r!=="patent"}},target:{type(r){return r!=="patent"}}}},{source:"number",target:"number",when:{source:{[kr]:["patent","report","techreport","legislation"]},target:{type:["patent","report","legislation"]}}},{source:"origdate",target:"original-date",convert:ut.DATE},{source:"origlocation",target:"original-publisher-place",convert:ut.PICK},{source:"origpublisher",target:"original-publisher",convert:ut.PICK},{source:"origtitle",target:"original-title"},{source:"pages",target:"page",when:{source:{bookpagination:[void 0,"page"]}},convert:ut.PAGES},{source:"pagetotal",target:"number-of-pages"},{source:"part",target:"part-number"},{source:["eprint","eprinttype"],target:"PMID",convert:ut.EPRINT},{source:"location",target:"publisher-place",convert:ut.PICK},{source:"publisher",target:"publisher",convert:ut.PICK,when:{source:!0,target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty"]}}},{source:"organization",target:"publisher",convert:ut.PICK,when:{source:{publisher:!1},target:{type:"webpage"}}},{source:"institution",target:"publisher",convert:ut.PICK,when:{source:{publisher:!1,organization:!1},target:{type:["report","thesis"]}}},{source:"howpublished",target:"publisher",convert:ut.PICK,when:{source:{howpublished(r){return r&&!r.startsWith("http")},publisher:!1,organization:!1,institution:!1},target:{type:"manuscript"}}},{source:["pages","bookpagination"],target:"section",when:{source:{bookpagination:"section"},target:{page:!1}},convert:{toTarget(r){return r},toSource(r){return[r,"section"]}}},{source:"pubstate",target:"status",convert:ut.STATUS},{source:"shorttitle",target:"title-short"},{source:"shorttitle",target:"shortTitle",when:{source:!1,target:{"title-short":!1}}},{source:["title","subtitle","titleaddon"],target:"title",convert:ut.TITLE},{source:"translator",target:"translator",convert:ut.NAMES},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:ut.HOW_PUBLISHED,when:{source:{url:!1},target:!1}},{source:"version",target:"version"},{source:"volume",target:"volume"},{source:"volumes",target:"number-of-volumes"},{source:["issuetitle","issuesubtitle","issuetitleaddon"],target:"volume-title",convert:ut.TITLE}]),kS=new ba([{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource(r){return`[Online; accessed ${Bb.format(r)}]`}}},{source:"annote",target:"annote"},{source:"address",target:"publisher-place",convert:ut.PICK},{source:"author",target:"author",convert:ut.NAMES},{source:"chapter",target:"chapter-number"},{source:"number",target:"collection-number",when:{source:{[kr]:["book","mvbook","inbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"booktitle",target:"container-title",when:{target:{type:["chapter","paper-conference"]}}},{source:"journal",target:"container-title",when:{source:{[kr]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:ut.NAMES},{source:kf,target:["id","citation-key","author","issued","year-suffix","title"],convert:ut.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"number",target:"issue",when:{source:{[kr]:["article","periodical","inproceedings"]},target:{issue(r){return typeof r=="number"||typeof r=="string"&&r.match(/\d+/)},type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:["year","month","day"],target:"issued",convert:ut.YEAR_MONTH},{source:"note",target:"note"},{source:"number",target:"number",when:{source:{[kr]:["patent","report","techreport"]},target:{type:["patent","report"]}}},{source:"eid",target:"number",when:{source:{number:!1},target:{type:["article-journal"]}}},{source:"pages",target:"page",convert:ut.PAGES},{source:"publisher",target:"publisher",convert:ut.PICK,when:{target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","map","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty","webpage"]}}},{source:"organization",target:"publisher",convert:ut.PICK,when:{source:{publisher:!1},target:{type:"paper-conference"}}},{source:"institution",target:"publisher",convert:ut.PICK,when:{source:{publisher:!1,organization:!1},target:{type:"report"}}},{source:"school",target:"publisher",convert:ut.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:{type:"thesis"}}},{source:"howpublished",target:"publisher",convert:ut.PICK,when:{source:{howpublished(r){return r&&!r.startsWith("http")},publisher:!1,organization:!1,institution:!1,school:!1},target:{type:"manuscript"}}},{source:"title",target:"title"},{source:[kr,"type"],target:["type","genre"],convert:{toTarget(r,t){const e=jg.source[r]||"document";return t?[e,t]:r==="mastersthesis"?[e,"Master's thesis"]:r==="phdthesis"?[e,"PhD thesis"]:[e]},toSource(r,t){const e=jg.target[r]||"misc";return/^(master'?s|diploma) thesis$/i.test(t)?["mastersthesis"]:/^(phd|doctoral) thesis$/i.test(t)?["phdthesis"]:[e,t]}}},{source:kr,when:{target:{type:!1}},convert:{toSource(){return"misc"}}},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:ut.HOW_PUBLISHED,when:{target:{publisher:!1}}},{source:"volume",target:"volume"}]);function X_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function oB(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(e),!0).forEach(function(i){lB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):X_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function lB(r,t,e){return t=uB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function uB(r){var t=fB(r,"string");return typeof t=="symbol"?t:String(t)}function fB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const cB=new Set(["book","inbook","bookinbook","suppbook"]),TS=new Set(["inbook","bookinbook","suppbook"]),K_=new Set(["collection","reference","incollection","inreference","suppcollection"]),Y_=new Set(["incollection","inreference","suppcollection"]),hB=new Set(["proceedings","inproceedings"]),mB=new Set(["inproceedings"]),pB=new Set(["article","suppperiodical"]),J_={mvbook:["main",cB],mvcollection:["main",K_],mvreference:["main",K_],mvproceedings:["main",hB],book:["book",TS],collection:["book",Y_],reference:["book",Y_],proceedings:["book",mB],periodical:["journal",pB]};function OS(r,t,e){if(t.crossref in e){const i=e[t.crossref];if(i.properties===t)return t;const n=oB({},OS(i.type,i.properties,e));if(delete n.ids,delete n.crossref,delete n.xref,delete n.entryset,delete n.entrysubtype,delete n.execute,delete n.label,delete n.options,delete n.presort,delete n.related,delete n.relatedoptions,delete n.relatedstring,delete n.relatedtype,delete n.shortand,delete n.shortandintro,delete n.sortkey,(i.type==="mvbook"||i.type==="book")&&TS.has(r)&&(n.bookauthor=n.author),i.type in J_){const[a,s]=J_[i.type];s.has(r)&&(n[a+"title"]=n.title,n[a+"subtitle"]=n.subtitle,a!=="journal"&&(n[a+"titleaddon"]=n.titleaddon),delete n.title,delete n.subtitle,delete n.titleaddon,delete n.shorttitle,delete n.sorttitle,delete n.indextitle,delete n.indexsorttitle)}return Object.assign(n,t)}return t}function dB(r,t){if(r==null)return{};var e=vB(r,t),i,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)i=a[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(e[i]=r[i])}return e}function vB(r,t){if(r==null)return{};var e={},i=Object.keys(r),n,a;for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(e[n]=r[n]);return e}function Q_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function gB(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(e),!0).forEach(function(i){bB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Q_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function bB(r,t,e){return t=AS(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function AS(r){var t=yB(r,"string");return typeof t=="symbol"?t:String(t)}function yB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function IS(r,t){const e={};for(const i of r)e[i.label]=i;return r.map(({type:i,label:n,properties:a})=>t.convertToTarget(gB({[kr]:i,[kf]:n},OS(i,a,e))))}function CS(r,t){return r.map(e=>{const i=t.convertToSource(e),{[kr]:n,[kf]:a}=i,s=dB(i,[kr,kf].map(AS));return{type:n,label:a,properties:s}})}function $B(r){return IS(r,kS)}function _B(r){return CS(r,kS)}function wB(r){return IS(r,ES)}function xB(r){return CS(r,ES)}function SB(r){const t=r.toUpperCase(),e=r.toLowerCase();for(let i=0;i<r.length;i++)if(t[i]!==e[i])return t[i]===r[i];return null}function Ts(r){if(r.length===0)return;let t="";for(;r.length>1;){const{value:i,hyphenated:n}=r.shift();t+=i+(n?"-":" ")}const e=t+r[0].value;return e[0]&&e}function EB(r,t=!0){const e=[],i=[];if(t)for(;r.length>1&&r[0].upperCase!==!1;){for(e.push(...i),i.length=0;r.length>1&&r[0].upperCase!==!1&&!r[0].hyphenated;)e.push(r.shift());for(;r.length>0&&r[0].upperCase!==!1&&r[0].hyphenated;)i.push(r.shift())}const n=[],a=[];for(;r.length>1;){for(n.push(...a),a.length=0;r.length>1&&r[0].upperCase===!1;)n.push(r.shift());for(;r.length>0&&r[0].upperCase!==!1;)a.push(r.shift())}return i.length&&a.unshift(...i),r.length&&a.push(r[0]),[Ts(e),Ts(n),Ts(a)]}function kB(r){if(r[0][0].label){const a={};for(const[{value:s,label:o}]of r)a[o]=s;return a}const t={},[e,i,n]=EB(r[0],r.length===1);return n&&(t.family=n),i&&(t.prefix=i),r.length===3?(t.given=Ts(r[2]),t.suffix=Ts(r[1])):r.length===2?t.given=Ts(r[1]):e&&(t.given=e),t}function Z_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function Vr(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(e),!0).forEach(function(i){TB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Z_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function TB(r,t,e){return t=OB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function OB(r){var t=AB(r,"string");return typeof t=="symbol"?t:String(t)}function AB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const cs={commandBegin:{match:"\\begin",push:"environment"},command:{match:/\\(?:[a-zA-Z]+|.) */,value:r=>r.slice(1).trim()},lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/[\s]+|~/,lineBreaks:!0,value(r){return r==="~"?" ":" "}}},PS=_S.states({stringLiteral:Vr(Vr({},cs),{},{text:/[^{$}\s~\\]+/}),namesLiteral:Vr(Vr({and:/\s+[aA][nN][dD]\s+/,comma:",",hyphen:"-",equals:"="},cs),{},{text:/[^{$}\s~\\,=-]+/}),listLiteral:Vr(Vr({and:/\s+and\s+/},cs),{},{text:/[^{$}\s~\\]+/}),separatedLiteral:Vr(Vr({comma:","},cs),{},{text:/[^{$}\s~\\,]+/}),annotation:Vr(Vr({},cs),{},{colon:":",equals:"=",comma:",",semicolon:";",quote:'"',itemCount:/\d+/,text:/[^{$}\s~\\":;,=]+/}),bracedLiteral:Vr(Vr({},cs),{},{rbrace:{match:"}",pop:!0},text:/[^{$}\s~\\]+/}),mathLiteral:Vr(Vr({},cs),{},{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s~\\^_]+/}),environment:Vr(Vr({commandEnd:{match:"\\end",pop:!0}},cs),{},{text:/[^{$}\s~\\]+/})});function ao(r){return r[0],r}function Gu(r,t){return t in gm?r&&gm[t].join(r):r}const DS=new cS({String(){let r="";for(;!this.matchEndOfFile();)r+=this.consumeRule("Text");return ao(r)},StringNames(){const r=[];for(;;){if(this.consumeToken("whitespace",!0),r.push(this.consumeRule("Name")),this.consumeToken("whitespace",!0),this.matchEndOfFile())return r;this.consumeToken("and")}},Name(){const r=[];for(;;){if(r.push(this.consumeRule("NamePiece")),this.matchEndOfFile()||this.matchToken("and"))return kB(r);this.consumeToken("comma"),this.consumeToken("whitespace",!0)}},NamePiece(){const r=[];for(;;){const t=this.consumeRule("NameToken");if(t.label)return t.label=Ts([...r,{value:t.label}]),[t];if(r.push(t),this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma"))return r;for(;this.matchToken("hyphen")||this.matchToken("whitespace");)this.consumeToken()}},NameToken(){let r=null,t="";for(;;)if(r===null&&this.matchToken("text")){const e=this.consumeToken().value;t+=e,r=SB(e)}else{if(this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma")||this.matchToken("whitespace"))return{value:t,upperCase:r};if(this.matchToken("hyphen"))return{value:t,upperCase:r,hyphenated:!0};if(this.matchToken("equals")){this.consumeToken("equals");const e=this.consumeRule("NamePiece");return e[0].label&&(t+="="+e[0].label),{value:Ts(e),label:t}}else t+=this.consumeRule("Text")}},StringList(){const r=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("and");)t+=this.consumeRule("Text");r.push(ao(t)),this.consumeToken("and",!0)}return r.length===1?r[0]:r},StringSeparated(){const r=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("comma");)t+=this.consumeRule("Text");r.push(t.trim()),this.consumeToken("comma",!0),this.consumeToken("whitespace",!0)}return r},StringVerbatim(){let r="";for(;!this.matchEndOfFile();)r+=this.consumeToken().text;return ao(r)},StringUri(){const r=this.consumeRule("StringVerbatim");try{return decodeURI(r)===r?encodeURI(r):r}catch{return encodeURI(r)}},StringTitleCase(){this.state.sentenceCase=!0;let r="";for(;!this.matchEndOfFile();)r+=this.consumeRule("Text");return ao(r)},Annotations(){const r={};for(;;){const{scope:t,item:e,part:i,value:n}=this.consumeRule("Annotation");if(t==="part"?(r.part||(r.part=[]),r.part[e]||(r.part[e]={}),r.part[e][i]=n):t==="item"?(r.item||(r.item=[]),r.item[e]=n):r.field=n,this.matchEndOfFile())break;this.consumeToken("semicolon"),this.consumeRule("_")}return r},Annotation(){const r={};if(this.matchToken("itemCount")?(r.item=parseInt(this.consumeToken("itemCount"))-1,this.matchToken("colon")?(this.consumeToken("colon"),r.part=this.consumeToken("text"),r.scope="part"):r.scope="item"):r.scope="field",this.consumeToken("equals"),this.consumeRule("_"),this.matchToken("quote")){this.consumeToken("quote");let t="";for(;!this.matchToken("quote");)this.matchToken("itemCount")||this.matchToken("colon")||this.matchToken("comma")||this.matchToken("semicolon")||this.matchToken("equals")?(t+=this.token.value,this.token=this.lexer.next()):t+=this.consumeRule("Text");this.consumeToken("quote"),r.value=ao(t),this.consumeRule("_")}else{r.value=[];let t="";for(;;)if(t+=this.consumeRule("Text"),this.matchToken("comma"))this.consumeToken("comma"),this.consumeRule("_"),r.value.push(ao(t)),t="";else if(this.matchEndOfFile()||this.matchToken("semicolon")){r.value.push(ao(t));break}}return r},BracketString(){var r;let t="";this.consumeToken("lbrace");const e=this.state.sentenceCase;for(this.state.sentenceCase=e&&this.matchToken("command"),(r=this.state).partlyLowercase&&(r.partlyLowercase=this.state.sentenceCase);!this.matchToken("rbrace");)t+=this.consumeRule("Text");const n=e&&!this.state.sentenceCase&&this.state.partlyLowercase;return this.state.sentenceCase=e,this.consumeToken("rbrace"),n?Gu(t,"nocase"):t},MathString(){let r="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");){if(this.matchToken("script")){const t=this.consumeToken("script").value,e=this.consumeRule("Text").split("");if(e.every(i=>i in Hg[t]))r+=e.map(i=>Hg[t][i]).join("");else{const i=Vh[t];r+=gm[i].join(e.join(""))}continue}if(this.matchToken("command")){const t=this.token.value;if(t in Vh){this.consumeToken("command");const e=this.consumeRule("BracketString");r+=Gu(e,Vh[t]);continue}}r+=this.consumeRule("Text")}return this.consumeToken("mathShift"),r},Text(){if(this.matchToken("lbrace"))return this.consumeRule("BracketString");if(this.matchToken("mathShift"))return this.consumeRule("MathString");if(this.matchToken("whitespace"))return this.consumeToken("whitespace").value;if(this.matchToken("commandBegin"))return this.consumeRule("EnclosedEnv");if(this.matchToken("command"))return this.consumeRule("Command");const r=this.consumeToken("text").value.replace(xS,o=>Ef[o]),t=this.state.afterPunctuation;if(this.state.afterPunctuation=/[?!.:]$/.test(r),!this.state.sentenceCase){var e;return(e=this.state).partlyLowercase||(e.partlyLowercase=r===r.toLowerCase()&&r!==r.toUpperCase()),r}const[i,...n]=r,a=n.join(""),s=a.toLowerCase();return a!==s?r:t?i+s:r.toLowerCase()},Command(){const r=this.consumeToken("command"),t=r.value;if(t in Wh){const e=this.consumeRule("Env"),i=Wh[t];return Gu(e,i)}else if(t in Ug){const e=this.consumeRule("BracketString"),i=Ug[t];return Gu(e,i)}else{if(t in xf)return xf[t];if(t in Sf)return Sf[t];if(t in wf&&!this.matchEndOfFile()){const e=this.consumeRule("Text");return(e[0]+wf[t]).normalize("NFC")+e.slice(1)}else if(t in qg){const e=qg[t],i=[];let n=e.length;for(;n-- >0;)this.consumeToken("whitespace",!0),i.push(this.consumeRule("BracketString"));return e(...i)}else return/^[&%$#_{}]$/.test(t)?r.text.slice(1):r.text}},Env(){let r="";for(;!this.matchEndOfFile()&&!this.matchToken("rbrace");)r+=this.consumeRule("Text");return r},EnclosedEnv(){this.consumeToken("commandBegin");const r=this.consumeRule("BracketString");let t="";for(;!this.matchToken("commandEnd");)t+=this.consumeRule("Text");const e=this.consumeToken("commandEnd"),i=this.consumeRule("BracketString");if(r!==i)throw new SyntaxError(this.lexer.formatError(e,`environment started with "${r}", ended with "${i}"`));return Gu(t,Wh[r])},_(){for(;this.matchToken("whitespace");)this.consumeToken("whitespace")}},{sentenceCase:!1,partlyLowercase:!1,afterPunctuation:!0});function e2(r){return SS.includes(r.toLowerCase())}function IB(r){return Array.isArray(r)?r.every(e2):e2(r)}function CB(r,t){if(r[1]==="name")return r[0]==="list"?"StringNames":"Name";if(r[1]==="title"){const e=hi.parse.sentenceCase;return e==="always"||e==="english"&&IB(t)?"StringTitleCase":"String"}switch(r[0]==="field"?r[1]:r[0]){case"list":return"StringList";case"separated":return"StringSeparated";case"verbatim":return"StringVerbatim";case"uri":return"StringUri";case"title":case"literal":default:return"String"}}function PB(r){if(r[1]==="name")return"namesLiteral";switch(r[0]){case"list":return"listLiteral";case"separated":return"separatedLiteral";case"field":default:return"stringLiteral"}}function t2(r,t,e=[]){const i=vm[t]||[];return DS.parse(PS.reset(r,{state:PB(i),line:0,col:0}),CB(i,e))}function DB(r){return DS.parse(PS.reset(r,{state:"annotation",line:0,col:0}),"Annotations")}function r2(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function i2(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(e),!0).forEach(function(i){NB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):r2(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function NB(r,t,e){return t=RB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function RB(r){var t=MB(r,"string");return typeof t=="symbol"?t:String(t)}function MB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function NS(r,t){const e=[];for(const{type:i,label:n,properties:a}of r)if(i in t){const s=[];for(const o of t[i])Array.isArray(o)&&!o.some(l=>l in a)?s.push(o.join("/")):typeof o=="string"&&!(o in a)&&s.push(o);s.length&&e.push([n,`missing fields: ${s.join(", ")}`])}else e.push([n,`invalid type: "${i}"`]);if(e.length)throw new RangeError(["Invalid entries:"].concat(e.map(([i,n])=>`  - ${i} has ${n}`)).join(`
`))}function RS(r){const t={};"language"in r.properties&&(t.language=t2(r.properties.language,"language"));for(const e in r.properties){const i=r.properties[e];i!==""&&(t[e]=t2(i+"",e,t.language))}for(const e in r.annotations)for(const i in r.annotations[e])t[e+"+an:"+i]=DB(r.annotations[e][i]);return i2(i2({},r),{},{properties:t})}function n2(r){return hi.parse.strict&&NS(r,Mb.biblatex),wB(r.map(RS))}function a2(r){return hi.parse.strict&&NS(r,Mb.bibtex),$B(r.map(RS))}const BB="@bibtex",FB={"@biblatex/text":{parse:H_,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@biblatex/entry+object":{parse(r){return n2([r])},parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@biblatex/entries+list":{parse:n2,parseType:{elementConstraint:"@biblatex/entry+object"}},"@bibtex/text":{parse:H_,outputs:"@bibtex/entries+list"},"@bibtex/entry+object":{parse(r){return a2([r])}},"@bibtex/entries+list":{parse:a2},"@bibtxt/text":{parse:CM,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}}},ws={};for(const r in xf)ws[xf[r]]=r;for(const r in wf)ws[wf[r]]=r;for(const r in Ef)ws[Ef[r]]=r;const Wg={};for(const r in Sf)Wg[Sf[r]]=r;const zB=/[^a-zA-Z0-9\s!"#%&'()*+,\-./:;=?@[\]{}\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,LB=/.[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]+/g,jB=/[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,Fb={separated:",",list:" and "},s2={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};function UB(r){return r in ws?ws[r]in Ef?ws[r]:`\\${ws[r]}{}`:r in Wg?`$\\${Wg[r]}$`:""}function Tf(r){return hi.format.asciiOnly?r.normalize("NFKD").replace(zB,t=>UB(t)).replace(LB,t=>Array.from(t).reduce((e,i)=>`{\\${ws[i]} ${e}}`)).replace(jB,""):r}function MS(r){const t=[];let e=r.split(/<(\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);return e=e.map((i,n)=>n%2===0?Tf(i):i in s2?(t.push("/"+i.split(" ")[0]),s2[i]):i===t[t.length-1]?(t.pop(),"}"):""),e.join("")}function qB(r){if(r.family&&!r.prefix&&!r.given&!r.suffix)return r.family.includes(Fb.list)?r.family:`{${r.family}}`;const t=[""];return r.prefix&&r.family&&(t[0]+=r.prefix+" "),r.family&&(t[0]+=r.family),r.suffix?(t.push(r.suffix),t.push(r.given||"")):t.push(r.given),Tf(t.join(", ").trim())}function HB(r){return MS(r).split(/(:\s*)/).map((t,e)=>e%2?t:t.replace(/([^\\])\b([a-z]*[A-Z].*?)\b/g,"$1{$2}")).join("")}function Vg(r,t){switch(t){case"title":return HB(r);case"literal":return MS(r.toString());case"name":return qB(r);case"verbatim":case"uri":return r.toString();default:return Tf(r.toString())}}function GB(r,t,e){const i=Fb[e];return r.map(n=>{const a=Vg(n,t);return a.includes(i)?`{${a}}`:a}).join(i)}function Zd(r){return Array.isArray(r)?r.map(t=>Tf(t).replace(/([;,"])/g,"{$1}")).join(", "):'"'+Tf(r).replace(/(["])/g,"{$1}")+'"'}function WB(r,t){if(!(r in vm))return Vg(t,"verbatim");const[e,i]=vm[r];return e in Fb?GB(t,i,e):Vg(t,i)}function VB(r){const t=[];if(r.field&&t.push("="+Zd(r.field)),r.item)for(const[e,i]of Object.entries(r.item)){if(!i)continue;const n=parseInt(e)+1;t.push(n+"="+Zd(i))}if(r.part)for(const[e,i]of Object.entries(r.part)){if(!i)continue;const n=parseInt(e)+1;for(const a in i)i[a]&&t.push(n+":"+a+"="+Zd(i[a]))}return t.join("; ")}function BS({type:r,label:t,properties:e}){const i={type:r,label:t,properties:{}};for(const n in e){const a=e[n],[s,o]=n.split("+an:");o?(i.annotations||(i.annotations={}),i.annotations[s]||(i.annotations[s]={}),i.annotations[s][o]=VB(a)):i.properties[n]=WB(n,a)}return i}function XB(r){return xB(r).map(BS)}function o2(r){return _B(r).map(BS)}function l2(r,t,e){return e.listItem.join(`${r} = {${t}},`)}function KB(r,t){const e=[];for(const i in r.properties)if(e.push(l2(i,r.properties[i],t)),r.annotations&&r.annotations[i])for(const n in r.annotations[i]){let a=i+hi.biber.annotationMarker;n!=="default"&&(a+=hi.biber.namedAnnotationMarker+n),e.push(l2(a,r.annotations[i][n],t))}return t.entry.join(`@${r.type}{${r.label},${t.list.join(e.join(""))}}`)}function u2(r,t){const e=r.map(i=>KB(i,t)).join("");return t.bibliographyContainer.join(e)}function YB({type:r,label:t,properties:e},i){const n=Object.entries(e).concat([["type",r]]).map(([a,s])=>i.listItem.join(`${a}: ${s}`));return i.entry.join(`[${t}]${i.list.join(n.join(""))}`)}function JB(r,t){const e=r.map(i=>YB(i,t)).join(`
`);return t.bibliographyContainer.join(e)}const e0=function(r,t){return function(e,i={}){const{type:n,format:a=n||"text"}=i;if(e=r(e),a==="object")return e;if(gS(a))return t(e,Db(a),i);throw new RangeError(`Output dictionary "${a}" not available`)}},QB={bibtex:e0(o2,u2),biblatex:e0(XB,u2),bibtxt:e0(o2,JB)};Nb(BB,{input:FB,output:QB,config:hi});const ZB={"en-US":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><translator><name>Andrew Dunning</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Denis Meier</name></translator><translator><name>Brenton M. Wiernik</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">personal communication</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">personal communication</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">“</term><term name="close-quote">”</term><term name="open-inner-quote">‘</term><term name="close-inner-quote">’</term><term name="page-range-delimiter">–</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix" form="short">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator" form="short">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation" form="short">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation" form="short">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule" form="short">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene" form="short">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table" form="short">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp" form="short"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator" form="short">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term>
<!-- LONG MONTH FORMS --><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term>
<!-- SEASONS --><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms>
</locale>
`,"nl-NL":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze M. Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2017-04-01T12:00:00+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persoonlijke communicatie</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>druk</single><multiple>drukken</multiple></term><term name="edition" form="short">dr.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persoonlijke communicatie</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">‘</term><term name="close-quote">’</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">–</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio's</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple></term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina's</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina's</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">onder redactie van</term><term name="editorial-director" form="verb">onder redactie van</term><term name="illustrator" form="verb">geïllustreerd door</term><term name="interviewer" form="verb">geïnterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">onder redactie van</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">geïllustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>
<!-- LONG MONTH FORMS --><term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term>
<!-- SEASONS --><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms>
</locale>
`,"fr-FR":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>Grégoire Colly</name></translator><translator><name>Collectif Zotero francophone</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">publication en ligne anticipée</term><term name="album">album</term><term name="audio-recording">enregistrement audio</term><term name="film">film</term><term name="henceforth">désormais</term><term name="loc-cit">loc.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">sans lieu</term><term name="no-place" form="short">s.&#160;l.</term><term name="no-publisher">sans nom</term> <!-- sine nomine --><term name="no-publisher" form="short">s.&#160;n.</term><term name="on">sur</term><term name="op-cit">op.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">édition originale</term><term name="personal-communication">communication personnelle</term><term name="podcast">podcast</term><term name="podcast-episode">épisode de podcast</term><term name="preprint">prépublication</term><term name="radio-broadcast">émission de radio</term><term name="radio-series">série radiophonique</term><term name="radio-series-episode">épisode de série radiophonique</term><term name="special-issue">numéro spécial</term><term name="special-section">section spéciale</term><term name="television-broadcast">émission de télévision</term><term name="television-series">série télévisée</term><term name="television-series-episode">épisode de série télévisée</term><term name="video">vidéo</term><term name="working-paper">document de travail</term><term name="accessed">consulté le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">cité</term><term name="edition" gender="feminine"><single>édition</single><multiple>éditions</multiple></term><term name="edition" form="short">éd.</term><term name="et-al">et al.</term><term name="forthcoming">à paraître</term><term name="from">à l'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">présenté à</term><term name="reference"><single>référence</single><multiple>références</multiple></term><term name="reference" form="short"><single>réf.</single><multiple>réf.</multiple></term><term name="retrieved">consulté</term><term name="scale">échelle</term><term name="version">version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">article</term><term name="article-journal">article de revue</term><term name="article-magazine">article de magazine</term><term name="article-newspaper">article de presse</term><term name="bill">projet de loi</term><term name="book">livre</term><term name="broadcast">émission</term><term name="chapter">chapitre de livre</term><term name="classic">classique</term><term name="collection">collection</term><term name="dataset">jeu de données</term><term name="document">document</term><term name="entry">entrée</term><term name="entry-dictionary">entrée de dictionnaire</term><term name="entry-encyclopedia">entrée d'encyclopédie</term><term name="event">événement</term><!-- figure is in the list of locator terms --><term name="graphic">image</term><term name="hearing">audience</term><term name="interview">interview</term><term name="legal_case">affaire</term><term name="legislation">acte juridique</term><term name="manuscript">manuscrit</term><term name="map">carte</term><term name="motion_picture">enregistrement vidéo</term><term name="musical_score">partition</term><term name="pamphlet">pamphlet</term><term name="paper-conference">article de colloque</term><term name="patent">brevet</term><term name="performance">interprétation</term><term name="periodical">périodique</term><term name="personal_communication">communication personnelle</term><term name="post">billet</term><term name="post-weblog">billet de blog</term><term name="regulation">règlement</term><term name="report">rapport</term><term name="review">recension</term><term name="review-book">recension de livre</term><term name="software">logiciel</term><term name="song">chanson</term><term name="speech">présentation</term><term name="standard">norme</term><term name="thesis">thèse</term><term name="treaty">traité</term><term name="webpage">page web</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">art. de revue</term><term name="article-magazine" form="short">art. de mag.</term><term name="article-newspaper" form="short">art. de presse</term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap. de liv.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">ms</term><term name="motion_picture" form="short">enr. vidéo</term><term name="report" form="short">rap.</term><term name="review" form="short">recens.</term><term name="review-book" form="short">recens. de liv.</term><term name="song" form="short">enr. audio</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="bce">av. n. è.</term><term name="ce">n. è.</term>
<!-- PUNCTUATION --><term name="open-quote">«&#160;</term><term name="close-quote">&#160;»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">&#8209;</term> <!-- non-breaking hyphen --><term name="colon">&#160;:</term><term name="comma">,</term><term name="semicolon">&#160;;</term>
<!-- ORDINALS --><term name="ordinal">ᵉ</term><term name="ordinal-01" gender-form="feminine" match="whole-number">ʳᵉ</term><term name="ordinal-01" gender-form="masculine" match="whole-number">ᵉʳ</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxième</term><term name="long-ordinal-03">troisième</term><term name="long-ordinal-04">quatrième</term><term name="long-ordinal-05">cinquième</term><term name="long-ordinal-06">sixième</term><term name="long-ordinal-07">septième</term><term name="long-ordinal-08">huitième</term><term name="long-ordinal-09">neuvième</term><term name="long-ordinal-10">dixième</term>
<!-- LONG LOCATOR FORMS --><term name="act"><single>acte</single><multiple>actes</multiple></term><term name="appendix"><single>appendice</single><multiple>appendices</multiple></term><term name="article-locator"><single>article</single><multiple>articles</multiple></term><term name="canon"><single>canon</single><multiple>canons</multiple></term><term name="elocation"><single>emplacement</single><multiple>emplacements</multiple></term><term name="equation"><single>équation</single><multiple>équations</multiple></term><term name="rule"><single>règle</single><multiple>règles</multiple></term><term name="scene"><single>scène</single><multiple>scènes</multiple></term><term name="table"><single>tableau</single><multiple>tableaux</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>titre</single><multiple>titres</multiple></term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>numéro</single><multiple>numéros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix"><single>append.</single><multiple>append.</multiple></term><term name="article-locator"><single>art.</single><multiple>art.</multiple></term><term name="elocation"><single>emplact</single><multiple>emplact</multiple></term><term name="equation"><single>eq.</single><multiple>eq.</multiple></term><term name="rule"><single>règle</single><multiple>règles</multiple></term><term name="scene"><single>sc.</single><multiple>sc.</multiple></term><term name="table"><single>tab.</single><multiple>tab.</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>tit.</single><multiple>tit.</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>fᵒ</single><multiple>fᵒˢ</multiple></term><term name="issue" form="short"><single>nᵒ</single><multiple>nᵒˢ</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>président</single><multiple>présidents</multiple></term><term name="compiler"><single>compilateur</single><multiple>compilateurs</multiple></term><term name="contributor"><single>contributeur</single><multiple>contributeurs</multiple></term><term name="curator"><single>commissaire</single><multiple>commissaires</multiple></term><term name="executive-producer"><single>producteur exécutif</single><multiple>producteurs exécutifs</multiple></term><term name="guest"><single>invité</single><multiple>invités</multiple></term><term name="host"><single>hôte</single><multiple>hôtes</multiple></term><term name="narrator"><single>narrateur</single><multiple>narrateurs</multiple></term><term name="organizer"><single>organisateur</single><multiple>organisateurs</multiple></term><term name="performer"><single>interprète</single><multiple>interprètes</multiple></term><term name="producer"><single>producteur</single><multiple>producteurs</multiple></term><term name="script-writer"><single>scénariste</single><multiple>scénaristes</multiple></term><term name="series-creator"><single>créateur de série</single><multiple>créateurs de série</multiple></term><term name="director"><single>réalisateur</single><multiple>réalisateurs</multiple></term><term name="editor"><single>éditeur</single><multiple>éditeurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>éditeur et traducteur</single><multiple>éditeurs et traducteurs</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>compil.</single><multiple>compil.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contrib.</multiple></term><term name="curator" form="short"><single>commiss.</single><multiple>commiss.</multiple></term><term name="executive-producer" form="short"><single>prod. exé.</single><multiple>prod. exé.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narr.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>org.</multiple></term><term name="performer" form="short"><single>interpr.</single><multiple>interpr.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prod.</multiple></term><term name="script-writer" form="short"><single>scénar.</single><multiple>scénar.</multiple></term><term name="series-creator" form="short"><single>créat.</single><multiple>créat.</multiple></term><term name="director" form="short"><single>réal.</single><multiple>réal.</multiple></term><term name="editor" form="short"><single>éd.</single><multiple>éd.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>éd. et trad.</single><multiple>éd. et trad.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">présidé par</term><term name="compiler" form="verb">compilé par</term><term name="contributor" form="verb">avec</term><term name="curator" form="verb">organisé par</term><term name="executive-producer" form="verb">production exécutive par</term><term name="guest" form="verb">avec pour invité</term><term name="host" form="verb">animé par</term><term name="narrator" form="verb">lu par</term><term name="organizer" form="verb">organisé par</term><term name="performer" form="verb">interprété par</term><term name="producer" form="verb">produit par</term><term name="script-writer" form="verb">scénario de</term><term name="series-creator" form="verb">créé par</term><term name="container-author" form="verb">par</term><term name="director" form="verb">réalisé par</term><term name="editor" form="verb">édité par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustré par</term><term name="interviewer" form="verb">entretien réalisé par</term><term name="recipient" form="verb">à</term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">édité et traduit par</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">compil. par</term><term name="contributor" form="verb-short">ac</term><term name="curator" form="verb-short">org. par</term><term name="executive-producer" form="verb-short">prod. exé. par</term><term name="guest" form="verb-short">ac pr inv.</term><term name="host" form="verb-short">anim. par</term><term name="narrator" form="verb-short">lu par</term><term name="organizer" form="verb-short">org. par</term><term name="performer" form="verb-short">interpr. par</term><term name="producer" form="verb-short">prod. par</term><term name="script-writer" form="verb-short">scénar. de</term><term name="series-creator" form="verb-short">créé par</term><term name="director" form="verb-short">réal. par</term><term name="editor" form="verb-short">éd. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">éd. et trad. par</term>
<!-- LONG MONTH FORMS --><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">février</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">août</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">octobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">décembre</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">janv.</term><term name="month-02" form="short">févr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">août</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">déc.</term>
<!-- SEASONS --><term name="season-01">printemps</term><term name="season-02">été</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms>
</locale>
`,"de-DE":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><translator><name>Till A. Heilmann</name></translator><translator><name>Ulrich</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>jakov</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persönliche Kommunikation</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verfügbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">Maßstab</term><term name="version">Version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persönliche Kommunikation</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">&#160;n.&#160;Chr.</term><term name="bc">&#160;v.&#160;Chr.</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">„</term><term name="close-quote">“</term><term name="open-inner-quote">‚</term><term name="close-inner-quote">‘</term><term name="page-range-delimiter">–</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">.</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">fünfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>Buch</single><multiple>Bücher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>Blätter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>Absätze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>Bände</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">B.</term><term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>Übersetzer</single><multiple>Übersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; Übersetzer</single><multiple>Herausgeber&#160;&amp; Übersetzer</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>Übers.</single><multiple>Übers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; Übers.</single><multiple>Hrsg.&#160;&amp; Übers.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">übersetzt von</term><term name="editortranslator" form="verb">herausgegeben und übersetzt von</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">übers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; übers. von</term>
<!-- LONG MONTH FORMS --><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">März</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">März</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term>
<!-- SEASONS --><term name="season-01">Frühjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms>
</locale>
`,"es-ES":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><translator><name>javimat</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">comunicación personal</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">anónimo</term><term name="anonymous" form="short">anón.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>edición</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en línea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versión</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">comunicación personal</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">«</term><term name="close-quote">»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">-</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">.ª</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">séptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">décima</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>capítulo</single><multiple>capítulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>número</single><multiple>números</multiple></term><term name="line"><single>línea</single><multiple>líneas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>página</single><multiple>páginas</multiple></term><term name="number-of-pages"><single>página</single><multiple>páginas</multiple></term><term name="paragraph"><single>párrafo</single><multiple>párrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>sección</single><multiple>secciones</multiple></term><term name="sub-verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>volúmenes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">lib.</term><term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.º</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">párr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term>
<!-- LONG MONTH FORMS --><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dic.</term>
<!-- SEASONS --><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">otoño</term><term name="season-04">invierno</term></terms>
</locale>
`},Al=new ep(ZB),eF=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never" page-range-format="expanded"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://www.zotero.org/styles/apa-6th-edition" rel="template"/><link href="https://apastyle.apa.org/style-grammar-guidelines/references/examples" rel="documentation"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2022-01-31T14:43:56+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short">trans.</term><term name="interviewer" form="short"><single>interviewer</single><multiple>interviewers</multiple></term><term name="collection-editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="circa" form="short">ca.</term><term name="bc"> B.C.E.</term><term name="ad"> C.E.</term><term name="letter">personal communication</term><term name="letter" form="short">letter</term><term name="issue" form="long"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang="af"><terms><term name="letter">persoonlike kommunikasie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="ar"><terms><term name="letter">اتصال شخصي</term><term name="letter" form="short">خطاب</term></terms></locale><locale xml:lang="bg"><terms><term name="letter">лична комуникация</term><term name="letter" form="short">писмо</term></terms></locale><locale xml:lang="ca"><terms><term name="letter">comunicació personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="cs"><terms><term name="letter">osobní komunikace</term><term name="letter" form="short">dopis</term></terms></locale><locale xml:lang="cy"><terms><term name="letter">cyfathrebu personol</term><term name="letter" form="short">llythyr</term></terms></locale><locale xml:lang="da"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="de"><terms><term name="et-al">et al.</term><term name="letter">persönliche Kommunikation</term><term name="letter" form="short">Brief</term></terms></locale><locale xml:lang="el"><terms><term name="letter">προσωπική επικοινωνία</term><term name="letter" form="short">επιστολή</term></terms></locale><locale xml:lang="es"><terms><term name="from">de</term><term name="letter">comunicación personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="et"><terms><term name="letter">isiklik suhtlus</term><term name="letter" form="short">kiri</term></terms></locale><locale xml:lang="eu"><terms><term name="letter">komunikazio pertsonala</term><term name="letter" form="short">gutuna</term></terms></locale><locale xml:lang="fa"><terms><term name="letter">ارتباط شخصی</term><term name="letter" form="short">نامه</term></terms></locale><locale xml:lang="fi"><terms><term name="letter">henkilökohtainen viestintä</term><term name="letter" form="short">kirje</term></terms></locale><locale xml:lang="fr"><terms><term name="letter">communication personnelle</term><term name="letter" form="short">lettre</term><term name="editor" form="short"><single>éd.</single><multiple>éds.</multiple></term></terms></locale><locale xml:lang="he"><terms><term name="letter">תקשורת אישית</term><term name="letter" form="short">מכתב</term></terms></locale><locale xml:lang="hr"><terms><term name="letter">osobna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="hu"><terms><term name="letter">személyes kommunikáció</term><term name="letter" form="short">levél</term></terms></locale><locale xml:lang="id"><terms><term name="letter">komunikasi pribadi</term><term name="letter" form="short">surat</term></terms></locale><locale xml:lang="is"><terms><term name="letter">persónuleg samskipti</term><term name="letter" form="short">bréf</term></terms></locale><locale xml:lang="it"><terms><term name="letter">comunicazione personale</term><term name="letter" form="short">lettera</term></terms></locale><locale xml:lang="ja"><terms><term name="letter">個人的なやり取り</term><term name="letter" form="short">手紙</term></terms></locale><locale xml:lang="ko"><terms><term name="letter">개인 서신</term><term name="letter" form="short">편지</term></terms></locale><locale xml:lang="la"><terms><term name="letter"/><term name="letter" form="short">epistula</term></terms></locale><locale xml:lang="lt"><terms><term name="letter">communicationis personalis</term><term name="letter" form="short"/></terms></locale><locale xml:lang="lv"><terms><term name="letter">personīga komunikācija</term><term name="letter" form="short">vēstule</term></terms></locale><locale xml:lang="mn"><terms><term name="letter">хувийн харилцаа холбоо</term><term name="letter" form="short">захиа</term></terms></locale><locale xml:lang="nb"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="nl"><terms><term name="et-al">et al.</term><term name="letter">persoonlijke communicatie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="nn"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="pl"><terms><term name="letter">osobista komunikacja</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="pt"><terms><term name="letter">comunicação pessoal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="ro"><terms><term name="letter">comunicare personală</term><term name="letter" form="short">scrisoare</term></terms></locale><locale xml:lang="ru"><terms><term name="letter">личная переписка</term><term name="letter" form="short">письмо</term></terms></locale><locale xml:lang="sk"><terms><term name="letter">osobná komunikácia</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="sl"><terms><term name="letter">osebna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="sr"><terms><term name="letter">лична комуникација</term><term name="letter" form="short">писмо</term></terms></locale><locale xml:lang="sv"><terms><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="th"><terms><term name="letter">การสื่อสารส่วนบุคคล</term><term name="letter" form="short">จดหมาย</term></terms></locale><locale xml:lang="tr"><terms><term name="letter">kişisel iletişim</term><term name="letter" form="short">mektup</term></terms></locale><locale xml:lang="uk"><terms><term name="letter">особисте спілкування</term><term name="letter" form="short">лист</term></terms></locale><locale xml:lang="vi"><terms><term name="letter">giao tiếp cá nhân</term><term name="letter" form="short">thư</term></terms></locale><locale xml:lang="zh-CN"><terms><term name="letter">的私人交流</term><term name="letter" form="short">信函</term></terms></locale><locale xml:lang="zh-TW"><terms><term name="letter">私人通訊</term><term name="letter" form="short">信函</term></terms></locale><!-- General categories of item types:Periodical: article-journal article-magazine article-newspaper post-weblog review review-bookPeriodical or Booklike: paper-conferenceBooklike: article book broadcast chapter dataset entry entry-dictionary entry-encyclopedia figure graphic interview manuscript map motion_picture musical_score pamphlet patent personal_communication report song speech thesis post webpageLegal: bill legal_case legislation treaty--><!-- APA references contain four parts: author, date, title, source --><macro name="author-bib"><names variable="composer" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></if></choose></if></choose><!-- Test for editortranslator and put that first as that becomes available --><names variable="editor" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="editorial-director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="collection-editor"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></substitute></names></macro><macro name="author-intext"><choose><if type="bill legal_case legislation treaty" match="any"><text macro="title-intext"/></if><else-if type="interview personal_communication" match="any"><choose><!-- These variables indicate that the letter is retrievable by the reader. If not, then use the APA in-text-only personal communication format --><if variable="archive container-title DOI publisher URL" match="none"><group delimiter=", "><names variable="author"><name and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names><!-- Replace with term="personal-communication" if that becomes available --><text term="letter"/></group></if><else><names variable="author" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names></else></choose></else-if><else><names variable="composer" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"/><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><text macro="title-intext"/></if></choose></if></choose><names variable="editor"/><names variable="editorial-director"/><text macro="title-intext"/></substitute></names></else></choose></macro><macro name="date-bib"><group delimiter=" " prefix="(" suffix=")"><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage" match="any"><!-- Many video and audio examples in manual give full dates. Err on the side of too much information. --><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if><else-if type="paper-conference"><!-- Capture 'speech' stored as 'paper-conference' --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if></choose></else-if><!-- Only year: article article-journal book chapter entry entry-dictionary entry-encyclopedia dataset figure graphic manuscript map musical_score paper-conference[published] patent report review review-book thesis --></choose></if><else-if variable="status"><group><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></group></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></group></group></macro><macro name="date-sort-group"><!-- APA sorts 1. no-date items, 2. items with dates, 3. in-press (status) items --><choose><if variable="issued"><text value="1"/></if><else-if variable="status"><text value="2"/></else-if><else><text value="0"/></else></choose></macro><macro name="date-sort-date"><date variable="issued" form="numeric"/></macro><macro name="date-intext"><choose><if variable="issued"><group delimiter="/"><group delimiter=" "><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group><group delimiter=" "><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><!-- These variables indicate that the communication is retrievable by the reader. If not, then use the in-text-only personal communication format --><date variable="issued" form="text"/></if><else><date variable="issued"><date-part name="year"/></date></else></choose></if><else><date variable="issued"><date-part name="year"/></date></else></choose><text variable="year-suffix"/></group></group></group></if><else-if variable="status"><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><!-- APA has two description elements following the title:title (parenthetical) [bracketed]  --><macro name="title-and-descriptions"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/><text macro="bracketed"/></group></if><else><group delimiter=" "><text macro="bracketed"/><text macro="parenthetical"/></group></else></choose></macro><macro name="title"><choose><if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" font-style="italic"/></if><else-if variable="container-title" match="any"><!-- Other types are italicized based on presence of container-title.Assume that review and review-book are published in periodicals/blogs,not just on a web page (ex. 69) --><text variable="title"/></else-if><else><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text variable="title" font-style="italic"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></if><else><text variable="title" font-style="italic"/></else></choose></else-if><else><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></else></choose></else></choose></macro><macro name="title-intext"><choose><if variable="title" match="none"><text macro="bracketed-intext" prefix="[" suffix="]"/></if><else-if type="bill"><!-- If a bill has no number or container-title, assume it is a hearing; italic --><choose><if variable="number container-title" match="none"><text variable="title" form="short" font-style="italic" text-case="title"/></if><else-if variable="title"><text variable="title" form="short" text-case="title"/></else-if><else><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group></else></choose></else-if><else-if type="legal_case" match="any"><!-- Cases are italicized --><text variable="title" font-style="italic"/></else-if><else-if type="legislation treaty" match="any"><!-- Legislation and treaties not italicized or quoted --><text variable="title" form="short" text-case="title"/></else-if><else-if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" form="short" font-style="italic" text-case="title"/></else-if><else-if variable="container-title" match="any"><!-- Other types are italicized or quoted based on presence of container-title. As in title macro. --><text variable="title" form="short" quotes="true" text-case="title"/></else-if><else><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="parenthetical"><!-- (Secondary contributors; Database location; Genre no. 123; Report Series 123, Version, Edition, Volume, Page) --><group prefix="(" suffix=")"><choose><if type="patent"><!-- authority: U.S. ; genre: patent ; number: 123,445 --><group delimiter=" "><text variable="authority" form="short"/><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else><!-- This should be localized --><text value="patent" text-case="capitalize-first"/></else></choose><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></group></if><else-if type="post webpage" match="any"><!-- For post webpage, container-title is treated as publisher --><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else-if><else-if variable="container-title"><group delimiter="; "><text macro="secondary-contributors"/><choose><if type="broadcast graphic map motion_picture song" match="any"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose></group></else-if><else><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else></choose></group></macro><macro name="parenthetical-container"><choose><if variable="container-title" match="any"><group prefix="(" suffix=")"><group delimiter="; "><text macro="database-location"/><choose><if type="broadcast graphic map motion_picture song" match="none"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose><text macro="locators-booklike"/></group></group></if></choose></macro><macro name="bracketed"><!-- [Descriptive information] --><!-- If there is a number, genre is already printed in macro="number" --><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- Reviewed item --><group delimiter="; "><group delimiter=", "><group delimiter=" "><!-- Assume that genre is entered as 'Review of the book' or similar --><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></else></choose><text macro="reviewed-title"/></group><names variable="reviewed-author"><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else-if type="thesis"><!-- Thesis type and institution --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=", "><text variable="genre" text-case="capitalize-first"/><choose><if variable="archive DOI URL" match="any"><!-- Include the university in brackets if thesis is published --><text variable="publisher"/></if></choose></group></if></choose><text variable="medium" text-case="capitalize-first"/></group></else-if><else-if variable="interviewer" type="interview" match="any"><!-- Interview information --><choose><if variable="title"><text macro="format"/></if><else-if variable="genre"><group delimiter="; "><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><group delimiter=" "><text term="author" form="verb"/><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></group></else-if><else-if variable="interviewer"><group delimiter="; "><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/></names><text variable="medium" text-case="capitalize-first"/></group></else-if><else><text macro="format"/></else></choose></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter="; "><group delimiter=" "><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else><text macro="format"/></else></choose></else-if><else-if variable="composer" type="song" match="all"><!-- Performer of classical music works --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=" "><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else-if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></if><else><group delimiter=" "><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></else></choose><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></else-if><else-if variable="container-title" match="none"><!-- Other description --><text macro="format"/></else-if><else><!-- For conference presentations, chapters in reports, software, place bracketed after the container title --><choose><if type="paper-conference speech" match="any"><choose><if variable="collection-editor editor editorial-director issue page volume" match="any"><text macro="format"/></if></choose></if><else-if type="book"><choose><if variable="version" match="none"><text macro="format"/></if></choose></else-if><else-if type="report" match="none"><text macro="format"/></else-if></choose></else></choose></group></macro><macro name="bracketed-intext"><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- This should be localized --><text macro="reviewed-title-intext" prefix="Review of "/></if><else-if variable="interviewer" type="interview" match="any"><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/><substitute><text macro="format-intext"/></substitute></names></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter=" "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group></if><else><text macro="format-intext"/></else></choose></else-if><else><text macro="format-intext"/></else></choose></group></macro><macro name="bracketed-container"><group prefix="[" suffix="]"><choose><if type="paper-conference speech" match="any"><!-- Conference presentations should describe the session [container] in bracketed unless published in a proceedings --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><text macro="format"/></if></choose></if><else-if type="book" variable="version" match="all"><!-- For entries in mobile app reference works, place bracketed after the container-title --><text macro="format"/></else-if><else-if type="report"><!-- For chapters in reports, place bracketed after the container title --><text macro="format"/></else-if></choose></group></macro><macro name="secondary-contributors"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text macro="secondary-contributors-periodical"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><text macro="secondary-contributors-booklike"/></if><else><text macro="secondary-contributors-periodical"/></else></choose></else-if><else><text macro="secondary-contributors-booklike"/></else></choose></macro><macro name="secondary-contributors-periodical"><group delimiter="; "><choose><if variable="title"><names variable="interviewer" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><names variable="translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></macro><macro name="secondary-contributors-booklike"><group delimiter="; "><choose><if variable="title"><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><!-- When editortranslator becomes available, add a test: variable="editortranslator" match="none"; then print translator --><choose><if type="post webpage" match="none"><!-- Webpages treat container-title like publisher --><choose><if variable="container-title" match="none"><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></if><else><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></else></choose></group></macro><macro name="database-location"><choose><if variable="archive-place" match="none"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- Add archive_collection as that becomes available --><text variable="archive_location"/></if></choose></macro><macro name="number"><choose><if variable="number"><group delimiter=", "><group delimiter=" "><text variable="genre" text-case="title"/><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></if><else><text variable="number"/></else></choose></group><choose><if type="thesis"><choose><!-- Include the university in brackets if thesis is published --><if variable="archive DOI URL" match="any"><text variable="publisher"/></if></choose></if></choose></group></if></choose></macro><macro name="locators-booklike"><choose><if type="article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage" match="any"/><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></if></choose></else-if><else><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></else></choose></macro><macro name="version"><choose><if is-numeric="version"><group delimiter=" "><!-- replace with label variable="version" if that becomes available --><text term="version" text-case="capitalize-first"/><text variable="version"/></group></if><else><text variable="version"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><label variable="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="volume-booklike"><group delimiter=", "><!-- Report series [ex. 52] --><choose><if type="report"><group delimiter=" "><text variable="collection-title" text-case="title"/><text variable="collection-number"/></group></if></choose><choose><if variable="volume" match="any"><choose><!-- Non-numeric volumes are already printed as part of the book title --><if is-numeric="volume" match="none"/><else><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><number variable="volume" form="numeric"/></group></else></choose></if><else><group><!-- Replace with label variable="number-of-volumes" if that becomes available --><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><text term="page-range-delimiter" prefix="1"/><number variable="number-of-volumes" form="numeric"/></group></else></choose><group delimiter=" "><label variable="issue" text-case="capitalize-first"/><text variable="issue"/></group><group delimiter=" "><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></macro><macro name="reviewed-title"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" font-style="italic"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" font-style="italic"/></else></choose></macro><macro name="reviewed-title-intext"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" form="short" font-style="italic" text-case="title"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="format"><choose><if variable="genre medium" match="any"><group delimiter="; "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if></choose><text variable="medium" text-case="capitalize-first"/></group></if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><macro name="format-intext"><choose><if variable="genre" match="any"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><!-- APA 'source' element contains four parts:container, event, publisher, access --><macro name="container"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><!-- Periodical items --><text macro="container-periodical"/></if><else-if type="paper-conference"><!-- Determine if paper-conference is a periodical or booklike --><choose><if variable="editor editorial-director collection-editor container-author" match="any"><text macro="container-booklike"/></if><else><text macro="container-periodical"/></else></choose></else-if><else-if type="post webpage" match="none"><!-- post and webpage treat container-title like publisher --><text macro="container-booklike"/></else-if></choose></macro><macro name="container-periodical"><group delimiter=". "><group delimiter=", "><text variable="container-title" font-style="italic" text-case="title"/><choose><if variable="volume"><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group></if><else><text variable="issue" font-style="italic"/></else></choose><choose><if variable="page"><text variable="page"/></if><else><!-- Ex. 6: Journal article with article number or eLocator --><!-- This should be localized --><text variable="number" prefix="Article "/></else></choose></group><choose><if variable="issued"><choose><if variable="issue page volume" match="none"><text variable="status" text-case="capitalize-first"/></if></choose></if></choose></group></macro><macro name="container-booklike"><choose><if variable="container-title" match="any"><group delimiter=" "><text term="in" text-case="capitalize-first"/><group delimiter=", "><names variable="editor translator" delimiter=", &amp; "><!-- Change to editortranslator and move editor to substitute as that becomes available --><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" text-case="title" prefix=" (" suffix=")"/><substitute><names variable="editorial-director"/><names variable="collection-editor"/><names variable="container-author"/></substitute></names><group delimiter=": " font-style="italic"><text variable="container-title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></group><text macro="parenthetical-container"/><text macro="bracketed-container"/></group></if></choose></macro><macro name="publisher"><group delimiter="; "><choose><if type="thesis"><choose><if variable="archive DOI URL" match="none"><text variable="publisher"/></if></choose></if><else-if type="post webpage" match="any"><!-- For websites, treat container title like publisher --><group delimiter="; "><text variable="container-title" text-case="title"/><text variable="publisher"/></group></else-if><else-if type="paper-conference"><!-- For paper-conference, don't print publisher if in a journal-like proceedings --><choose><if variable="collection-editor editor editorial-director" match="any"><text variable="publisher"/></if></choose></else-if><else-if type="article-journal article-magazine article-newspaper post-weblog" match="none"><text variable="publisher"/></else-if></choose><group delimiter=", "><choose><if variable="archive-place"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- For physical archives, print the location before the archive name.For electronic archives, these are printed in macro="description". --><!-- Split "archive_location" into "archive_collection" and "archive_location" as that becomes available --><!-- Must test for archive_collection:With collection: archive_collection (archive_location), archive, archive-placeNo collection: archive (archive_location), archive-place--><text variable="archive_location"/></if></choose><text variable="archive"/><text variable="archive-place"/></group></group></macro><macro name="access"><choose><if variable="DOI" match="any"><text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="URL"><group delimiter=" "><choose><if variable="issued status" match="none"><group delimiter=" "><text term="retrieved" text-case="capitalize-first"/><date variable="accessed" form="text" suffix=","/><text term="from"/></group></if></choose><text variable="URL"/></group></else-if></choose></macro><macro name="event"><choose><if variable="event"><!-- To prevent Zotero from printing event-place due to its double-mapping of all 'place' toboth publisher-place and event-place. Remove this 'choose' when that is changed. --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><!-- Don't print event info if published in a proceedings --><group delimiter=", "><text variable="event"/><text variable="event-place"/></group></if></choose></if></choose></macro><!-- After 'source', APA also prints publication history (original publication, reprint info, retraction info) --><macro name="publication-history"><choose><if type="patent" match="none"><group prefix="(" suffix=")"><choose><if variable="references"><!-- This provides the option for more elaborate description of publication history, such as full "reprinted" references(examples 11, 43, 44) or retracted references --><text variable="references"/></if><else><group delimiter=" "><text value="Original work published"/><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group></else></choose></group></if><else><text variable="references" prefix="(" suffix=")"/></else></choose></macro><!-- Legal citations have their own rules --><macro name="legal-cites"><choose><if type="legal_case"><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/></group><text variable="references"/></group><text macro="access"/></group></if><else-if type="bill"><!-- Currently designed to handle bills, resolutions, hearings, rederal reports. --><group delimiter=". "><group delimiter=", "><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><names variable="author" prefix="(testimony of " suffix=")"><name and="symbol" delimiter=", "/></names></if><else><text variable="status" prefix="(" suffix=")"/></else></choose></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="legislation"><!-- Currently designed to handle statutes, codified regulations, executive orders.For uncodified regulations, assume future code section is in status. --><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><text variable="status" prefix="(" suffix=")"/></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="treaty"><!-- APA generally defers to Bluebook for legal citations, but diverges withoutexplanation for treaty items. The Bluebook format that was used in APA 6thed. is used here. --><group delimiter=", "><text variable="title" text-case="title"/><names variable="author"><name initialize-with="." form="short" delimiter="-"/></names><text macro="date-legal"/><text macro="container-legal"/><text macro="access"/></group></else-if></choose></macro><macro name="date-legal"><choose><if type="legal_case"><group prefix="(" suffix=")" delimiter=" "><text variable="authority"/><choose><if variable="container-title" match="any"><!-- Print only year for cases published in reporters--><date variable="issued" form="numeric" date-parts="year"/></if><else><date variable="issued" form="text"/></else></choose></group></if><else-if type="bill legislation" match="any"><group prefix="(" suffix=")" delimiter=" "><group delimiter=" "><date variable="original-date"><date-part name="year"/></date><text term="and" form="symbol"/></group><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="treaty"><date variable="issued" form="text"/></else-if></choose></macro><macro name="container-legal"><!-- Expect legal item container-titles to be stored in short form --><choose><if type="legal_case"><group delimiter=" "><choose><if variable="container-title"><group delimiter=" "><text variable="volume"/><text variable="container-title"/><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><text value="___"/></else></choose></group></if><else><group delimiter=" "><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/></if></choose><text variable="number"/></group></else></choose></group></if><else-if type="bill"><group delimiter=", "><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group><text variable="authority"/><text variable="chapter-number"/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></else-if><else-if type="legislation"><choose><if variable="number"><!--There's a public law number--><group delimiter=", "><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></if><else><group delimiter=" "><text variable="volume"/><text variable="container-title"/><choose><if variable="section"><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group></if><else><text variable="page-first"/></else></choose></group></else></choose></else-if><else-if type="treaty"><group delimiter=" "><number variable="volume"/><text variable="container-title"/><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></else></choose></group></else-if></choose></macro><macro name="citation-locator"><group delimiter=" "><choose><if locator="chapter"><label variable="locator" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name-with-initials"><sort><key macro="author-bib" names-min="3" names-use-first="1"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-intext"/><text macro="date-intext"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="21" et-al-use-first="19" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author-bib"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/><key macro="title"/></sort><layout><choose><if type="bill legal_case legislation treaty" match="any"><!-- Legal items have different orders and delimiters --><choose><if variable="DOI URL" match="any"><text macro="legal-cites"/></if><else><text macro="legal-cites" suffix="."/></else></choose></if><else><group delimiter=" "><group delimiter=". " suffix="."><text macro="author-bib"/><text macro="date-bib"/><text macro="title-and-descriptions"/><text macro="container"/><text macro="event"/><text macro="publisher"/></group><text macro="access"/><text macro="publication-history"/></group></else></choose></layout></bibliography>
</style>
`,tF=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" initialize-with-hyphen="false" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_requirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2022-04-14T13:48:43+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><!--discard publisher info for articles--><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><!--add event-name and event-place once they become available--><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech"><group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number"><sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography>
</style>
`,rF=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" default-locale="en-GB"><info><title>Cite Them Right 11th edition - Harvard</title><id>http://www.zotero.org/styles/harvard-cite-them-right</id><link href="http://www.zotero.org/styles/harvard-cite-them-right" rel="self"/><link href="http://www.zotero.org/styles/harvard-cite-them-right-10th-edition" rel="template"/><link href="http://www.citethemrightonline.com/" rel="documentation"/><author><name>Patrick O'Brien</name></author><category citation-format="author-date"/><category field="generic-base"/><summary>Harvard according to Cite Them Right, 11th edition.</summary><updated>2021-09-01T10:12:20+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en-GB"><terms><term name="editor" form="short"><single>ed.</single><multiple>eds</multiple></term><term name="editortranslator" form="verb">edited and translated by</term><term name="edition" form="short">edn.</term></terms></locale><macro name="editor"><choose><if type="chapter paper-conference" match="any"><names variable="container-author" delimiter=", " suffix=", "><name and="text" initialize-with=". " delimiter=", " sort-separator=", " name-as-sort-order="all"/></names><choose><if variable="container-author" match="none"><names variable="editor translator" delimiter=", "><name and="text" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/></names></if></choose></if></choose></macro><macro name="secondary-contributors"><choose><if type="chapter paper-conference" match="none"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with="."/></names></if><else-if variable="container-author" match="any"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with=". " delimiter=", "/></names></else-if></choose></macro><macro name="author"><names variable="author"><name and="text" delimiter-precedes-last="never" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="text" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="access"><choose><if variable="DOI"><text variable="DOI" prefix="doi:"/></if><else-if variable="URL"><text term="available at" suffix=": " text-case="capitalize-first"/><text variable="URL"/><group prefix=" (" delimiter=": " suffix=")"><text term="accessed" text-case="capitalize-first"/><date form="text" variable="accessed"><date-part name="day"/><date-part name="month"/><date-part name="year"/></date></group></else-if></choose></macro><macro name="number-volumes"><choose><if variable="volume" match="none"><group delimiter=" " prefix="(" suffix=")"><text variable="number-of-volumes"/><label variable="volume" form="short" strip-periods="true"/></group></if></choose></macro><macro name="title"><choose><if type="bill book legal_case legislation motion_picture report song thesis webpage graphic" match="any"><group delimiter=". "><group delimiter=" "><group delimiter=" "><text variable="title" font-style="italic"/><text variable="medium" prefix="[" suffix="]"/></group><text macro="number-volumes"/></group><text macro="edition"/></group></if><else><text variable="title" form="long" quotes="true"/></else></choose></macro><macro name="publisher"><choose><if type="thesis"><group delimiter=". "><text variable="genre"/><text variable="publisher"/></group></if><else-if type="report"><group delimiter=". "><group delimiter=" "><text variable="genre"/><text variable="number"/></group><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group></else-if><else-if type="article-journal article-newspaper article-magazine" match="none"><group delimiter=" "><group delimiter=", "><choose><if type="speech" variable="event" match="any"><text variable="event" font-style="italic"/></if></choose><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group><group prefix="(" suffix=")" delimiter=", "><text variable="collection-title"/><text variable="collection-number"/></group></group></else-if></choose></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></if><else><text term="no date"/><text variable="year-suffix" prefix=" "/></else></choose></macro><macro name="locator"><choose><if type="article-journal"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="published-date"><choose><if type="article-newspaper article-magazine post-weblog speech" match="any"><date variable="issued"><date-part name="day" suffix=" "/><date-part name="month" form="long"/></date></if></choose></macro><macro name="pages"><choose><if type="chapter paper-conference article-journal article article-magazine article-newspaper book review review-book report" match="any"><group delimiter=" "><label variable="page" form="short"/><text variable="page"/></group></if></choose></macro><macro name="container-title"><choose><if variable="container-title"><group delimiter=". "><group delimiter=" "><text variable="container-title" font-style="italic"/><choose><if type="article article-journal" match="any"><choose><if match="none" variable="page volume"><text value="Preprint" prefix="[" suffix="]"/></if></choose></if></choose></group><text macro="edition"/></group></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short" strip-periods="true"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="container-prefix"><choose><if type="chapter paper-conference" match="any"><text term="in"/></if></choose></macro><citation et-al-min="4" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year"><sort><key macro="year-date"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=", "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short" suffix=" "/><text variable="locator"/></group></group></layout></citation><bibliography and="text" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key macro="year-date"/><key variable="title"/></sort><layout suffix="."><group delimiter=". "><group delimiter=" "><text macro="author"/><text macro="year-date" prefix="(" suffix=")"/><group delimiter=", "><text macro="title"/><group delimiter=" "><text macro="container-prefix"/><text macro="editor"/><text macro="container-title"/></group></group></group><text macro="secondary-contributors"/><text macro="publisher"/></group><group delimiter=", " prefix=", "><text macro="locator"/><text macro="published-date"/><text macro="pages"/></group><text macro="access" prefix=". "/></layout></bibliography>
</style>
`,iF={apa:eF,vancouver:tF,harvard1:rF},Xg=new ep(iF);var p={PROCESSOR_VERSION:"1.4.61",error:function(r){throw typeof Error>"u"?new Error("citeproc-js error: "+r):"citeproc-js error: "+r},debug:function(r){typeof console>"u"?dump("CSL: "+r+`
`):console.log("citeproc-js warning: "+r)},toLocaleUpperCase(r){var t=this.tmp.lang_array;try{r=r.toLocaleUpperCase(t)}catch{r=r.toUpperCase()}return r},toLocaleLowerCase(r){var t=this.tmp.lang_array;try{r=r.toLocaleLowerCase(t)}catch{r=r.toLowerCase()}return r},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(r){r.opt.xclass==="note"?(this.depth=0,this.update=function(e){for(var e=e||"",i=e.split(/([\(\)])/),n=1,a=i.length;n<a;n+=2)i[n]==="("?(this.depth%2===1&&(i[n]="["),this.depth+=1):i[n]===")"&&(this.depth%2===0&&(i[n]="]"),this.depth-=1);var s=i.join("");return s}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(r,t,e){var i=null;if(r.opt.availableAbbrevDomains&&t&&t!=="default"){var n=r.locale[r.opt.lang].opts["jurisdiction-preference"],a=null;if(r.locale[e]&&(a=r.locale[e].opts["jurisdiction-preference"]),a){for(var s=a.length-1;s>-1;s--)if(r.opt.availableAbbrevDomains[t].indexOf(a[s])>-1){i=a[s];break}}if(!i&&n){for(var s=n.length-1;s>-1;s--)if(r.opt.availableAbbrevDomains[t].indexOf(n[s])>-1){i=n[s];break}}}return i},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(r){if(this.opt.development_extensions.locator_date_and_revision&&r.locator){r.locator=""+r.locator;var t=r.locator.indexOf("|");if(t>-1){var e=r.locator;r.locator=e.slice(0,t),e=e.slice(t+1);var i=e.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);i&&(r["locator-date"]=this.fun.dateparser.parseDateToObject(i[1]),e=e.slice(i[1].length)),r["locator-extra"]=e.replace(/^\s+/,"").replace(/\s+$/,"")}}return r.locator&&(r.locator=(""+r.locator).replace(/\s+$/,"")),r},normalizeLocaleStr:function(r){if(r){var t=r.split("-");return t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),t.join("-")}},parseNoteFieldHacks:function(r,t,e){if(typeof r.note=="string"){for(var i=[],n=r.note.split(`
`),a=0,s=n.length;a<s;a++){var o=n[a],i=[],l=o.match(p.NOTE_FIELDS_REGEXP);if(l){for(var u=o.split(p.NOTE_FIELDS_REGEXP),f=0,h=u.length-1;f<h;f++)i.push(u[f]),i.push(l[f]);i.push(u[u.length-1]);for(var f=1,h=i.length;f<h&&!(i[f-1].trim()&&(a>0||f>1)&&!i[f-1].match(p.NOTE_FIELD_REGEXP));f+=2)i[f]=`
`+i[f].slice(2,-1).trim()+`
`;n[a]=i.join("")}}n=n.join(`
`).split(`
`);for(var c=0,m={},a=0,s=n.length;a<s;a++){var o=n[a],d=o.match(p.NOTE_FIELD_REGEXP);if(o.trim()){if(!d){if(a===0)continue;c=a;break}}else continue;var v=d[1],b=d[2].replace(/^\s+/,"").replace(/\s+$/,"");if(v==="type")r.type=b,n[a]="";else if(p.DATE_VARIABLES.indexOf(v.replace(/^alt-/,""))>-1)(!r[v]||e)&&(r[v]=p.DateParser.parseDateToArray(b),(!t||t[v]&&this.isDateString(b))&&(n[a]=""));else if(!r[v]){if(p.NAME_VARIABLES.indexOf(v.replace(/^alt-/,""))>-1){m[v]||(m[v]=[]);var g=b.split(/\s*\|\|\s*/);if(g.length===1)m[v].push({literal:g[0]});else if(g.length===2){var y={family:g[0],given:g[1]};p.parseParticles(y),m[v].push(y)}}else r[v]=b;(!t||t[v])&&(n[a]="")}}for(var v in m)r[v]=m[v];if(t){n[c].trim()&&(n[c]=`
`+n[c]);for(var a=c-1;a>-1;a--)n[a].trim()||(n=n.slice(0,a).concat(n.slice(a+1)))}r.note=n.join(`
`).trim()}},checkPrefixSpaceAppend:function(r,a){a||(a="");var e="",i=a.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),n=i.slice(-1);(i.match(p.ENDSWITH_ROMANESQUE_REGEXP)||p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(n)>-1||n.match(/[\)\],0-9]/))&&(e=" ");var a=(a+e).replace(/\s+/g," ");return a},checkIgnorePredecessor:function(r,t){var e=t.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),i=e.slice(-1);return p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(i)>-1&&t.trim().indexOf(" ")>-1?(r.tmp.term_predecessor=!1,!0):!1},checkSuffixSpacePrepend:function(r,t){return t?((t.match(p.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(t.slice(0,1))>-1)&&(t=" "+t),t):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(r){for(var t=["title","short","main","sub","subjoin"],e={},i=0,n=t.length;i<n;i++)e[t[i]]=r+"title"+(t[i]==="title"?"":"-"+t[i]);return e},demoteNoiseWords:function(r,t,e){var i=r.locale[r.opt.lang].opts["leading-noise-words"];if(t&&e){t=t.split(/\s+/),t.reverse();for(var n=[],a=t.length-1;a>-1&&i.indexOf(t[a].toLowerCase())>-1;a+=-1)n.push(t.pop());t.reverse();var s=t.join(" "),o=n.join(" ");e==="drop"||!o?t=s:e==="demote"&&(t=[s,o].join(", "))}return t},extractTitleAndSubtitle:function(r,t){var e=t?" ":"",i=[""];this.opt.development_extensions.split_container_title&&i.push("container-");for(var n=0,a=i.length;n<a;n++){var s=i[n],o=p.TITLE_FIELD_SPLITS(s),l=[!1];if(r.multi)for(var u in r.multi._keys[o.short])l.push(u);for(var f=0,h=l.length;f<h;f++){var u=l[f],c={};u?(r.multi._keys[o.title]&&(c[o.title]=r.multi._keys[o.title][u]),r.multi._keys[o.short]&&(c[o.short]=r.multi._keys[o.short][u])):(c[o.title]=r[o.title],c[o.short]=r[o.short]),c[o.main]=c[o.title],c[o.sub]=!1;var m=c[o.short];if(c[o.title]){if(m&&m.toLowerCase()===c[o.title].toLowerCase())c[o.main]=c[o.title],c[o.subjoin]="",c[o.sub]="";else if(m){var d=c[o.title].slice(m.replace(/[\?\!]+$/,"").length),v=c[o.title].replace(d.replace(/^[\?\!]+/,""),"").trim(),b=p.TITLE_SPLIT_REGEXP.matchfirst.exec(d);if(b&&v.toLowerCase()===m.toLowerCase())c[o.main]=v,c[o.subjoin]=b[1].replace(/[\?\!]+(\s*)$/,"$1"),c[o.sub]=d.replace(p.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(c[o.short]=c[o.main]);else{var g=p.TITLE_SPLIT(c[o.title]);g.length==3?(c[o.main]=g[0],c[o.subjoin]=g[1],c[o.sub]=g[2]):(c[o.main]=c[o.title],c[o.subjoin]="",c[o.sub]="")}}else{var g=p.TITLE_SPLIT(c[o.title]);if(g.length==3){if(c[o.main]=g[0],c[o.subjoin]=g[1],c[o.sub]=g[2],this.opt.development_extensions.implicit_short_title&&r.type!=="legal_case"&&!r[o.short]&&!c[o.main].match(/^[\-\.[0-9]+$/)){var y=c[o.subjoin].trim();["?","!"].indexOf(y)===-1&&(y=""),c[o.short]=c[o.main]+y}}else c[o.main]=c[o.title],c[o.subjoin]="",c[o.sub]=""}if(c[o.subjoin]&&c[o.subjoin].match(/([\?\!])/)){var b=c[o.subjoin].match(/(\s*)$/);c[o.main]=c[o.main]+e+c[o.subjoin].trim(),c[o.subjoin]=b[1]}}if(c[o.subjoin]&&(c[o.subjoin].indexOf(":")>-1&&(c[o.subjoin]=e+": "),(c[o.subjoin].indexOf("-")>-1||c[o.subjoin].indexOf("—")>-1)&&(c[o.subjoin]="—")),u)for(var _ in c)r.multi._keys[_]||(r.multi._keys[_]={}),r.multi._keys[_][u]=c[_];else for(var _ in c)r[_]=c[_]}}},titlecaseSentenceOrNormal:function(r,t,e,i,n){var a=p.TITLE_FIELD_SPLITS(e),s={};if(i&&t.multi?(t.multi._keys[a.title]&&(s[a.title]=t.multi._keys[a.title][i]),t.multi._keys[a.main]&&(s[a.main]=t.multi._keys[a.main][i]),t.multi._keys[a.sub]&&(s[a.sub]=t.multi._keys[a.sub][i]),t.multi._keys[a.subjoin]&&(s[a.subjoin]=t.multi._keys[a.subjoin][i])):(s[a.title]=t[a.title],s[a.main]=t[a.main],s[a.sub]=t[a.sub],s[a.subjoin]=t[a.subjoin]),s[a.main]&&s[a.sub]){var o=s[a.main],l=s[a.subjoin],u=s[a.sub];return n?(o=p.Output.Formatters.sentence(r,o),u=p.Output.Formatters.sentence(r,u)):r.opt.development_extensions.uppercase_subtitles&&(u=p.Output.Formatters["capitalize-first"](r,u)),[o,l,u].join("")}else if(s[a.title]){if(n)return p.Output.Formatters.sentence(r,s[a.title]);if(r.opt.development_extensions.uppercase_subtitles){for(var f=p.TITLE_SPLIT(s[a.title]),h=0,c=f.length;h<c;h+=2)f[h]=p.Output.Formatters["capitalize-first"](r,f[h]);for(var h=1,c=f.length-1;h<c;h+=2){var m=f[h].match(/([:\?\!] )/);if(m){var d=r.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr"?" ":"";f[h]=d+m[1]}(f[h].indexOf("-")>-1||f[h].indexOf("—")>-1)&&(f[h]="—")}return s[a.title]=f.join(""),s[a.title]}else return s[a.title]}else return""},getSafeEscape:function(r){if(["bibliography","citation"].indexOf(r.tmp.area)>-1){var t=[];return r.opt.development_extensions.thin_non_breaking_space_html_hack&&r.opt.mode==="html"&&t.push(function(e){return e.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),t.length?function(e){for(var i=0,n=t.length;i<n;i+=1)e=t[i](e);return p.Output.Formats[r.opt.mode].text_escape(e)}:p.Output.Formats[r.opt.mode].text_escape}else return function(e){return e}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-à-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokmål)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{ª:"a","²":"2","³":"3","¹":"1",º:"o",ʰ:"h",ʱ:"ɦ",ʲ:"j",ʳ:"r",ʴ:"ɹ",ʵ:"ɻ",ʶ:"ʁ",ʷ:"w",ʸ:"y",ˠ:"ɣ",ˡ:"l",ˢ:"s",ˣ:"x",ˤ:"ʕ","ᴬ":"A","ᴭ":"Æ","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴲ":"Ǝ","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴽ":"Ȣ","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ᵂ":"W","ᵃ":"a","ᵄ":"ɐ","ᵅ":"ɑ","ᵆ":"ᴂ","ᵇ":"b","ᵈ":"d","ᵉ":"e","ᵊ":"ə","ᵋ":"ɛ","ᵌ":"ɜ","ᵍ":"g","ᵏ":"k","ᵐ":"m","ᵑ":"ŋ","ᵒ":"o","ᵓ":"ɔ","ᵔ":"ᴖ","ᵕ":"ᴗ","ᵖ":"p","ᵗ":"t","ᵘ":"u","ᵙ":"ᴝ","ᵚ":"ɯ","ᵛ":"v","ᵜ":"ᴥ","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"φ","ᵡ":"χ","⁰":"0","ⁱ":"i","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","⁺":"+","⁻":"−","⁼":"=","⁽":"(","⁾":")",ⁿ:"n","℠":"SM","™":"TM","㆒":"一","㆓":"二","㆔":"三","㆕":"四","㆖":"上","㆗":"中","㆘":"下","㆙":"甲","㆚":"乙","㆛":"丙","㆜":"丁","㆝":"天","㆞":"地","㆟":"人",ˀ:"ʔ",ˁ:"ʕ",ۥ:"و",ۦ:"ي"},SUPERSCRIPTS_REGEXP:new RegExp("[ª²³¹ºʰʱʲʳʴʵʶʷʸˠˡˢˣˤᴬᴭᴮᴰᴱᴲᴳᴴᴵᴶᴷᴸᴹᴺᴼᴽᴾᴿᵀᵁᵂᵃᵄᵅᵆᵇᵈᵉᵊᵋᵌᵍᵏᵐᵑᵒᵓᵔᵕᵖᵗᵘᵙᵚᵛᵜᵝᵞᵟᵠᵡ⁰ⁱ⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿ℠™㆒㆓㆔㆕㆖㆗㆘㆙㆚㆛㆜㆝㆞㆟ˀˁۥۦ]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(r,t,e,i,n){if(r.opt.use_context_condition){var a=r.tmp.group_context.tip;a.condition?(a.condition.termtxt||(a.condition.termtxt=t,a.condition.valueTerm=e),!a.value_seen&&a.condition.test==="comma-safe-numbers-only"&&n&&(a.value_seen=!0,n.match(/^[0-9]/)||(r.tmp.just_did_number=!1))):i&&i.decorations.filter(s=>s[0]==="@vertical-align").length>0||i&&i.strings.suffix?r.tmp.just_did_number=!1:t&&(t.match(/[0-9]$/)?r.tmp.just_did_number=!0:r.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(r,t){if(r.opt.use_context_condition){var e,i=t.condition.test==="comma-safe-numbers-only";if(t.condition.test==="empty-label")e=!t.condition.termtxt;else if(t.condition.test==="empty-label-no-decor")e=!t.condition.termtxt||t.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(t.condition.test)>-1){var n=t.condition.termtxt,a=!1;t.condition.termtxt&&(a=t.condition.termtxt.slice(0,1).match(p.ALL_ROMANESQUE_REGEXP));var s=r.tmp.just_did_number;s?t.condition.valueTerm?e=!i:n?a?e=!i:["always","after-number"].indexOf(r.opt.require_comma_on_symbol)>-1?e=!0:e=!1:e=!0:t.condition.valueTerm?e=!1:n?a?e=!i:r.opt.require_comma_on_symbol==="always"?e=!0:e=!1:e=!1}if(e)var o=!1;else var o=!0;return t.condition.not&&(o=!o),o}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:function(){var r=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*—\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"];return{match:new RegExp("("+r.join("|")+")","g"),matchfirst:new RegExp("^("+r.join("|")+")"),split:new RegExp("(?:"+r.join("|")+")")}}(),TITLE_SPLIT:function(r){if(!r)return r;for(var t=r.match(p.TITLE_SPLIT_REGEXP.match),e=r.split(p.TITLE_SPLIT_REGEXP.split),i=e.length-2;i>-1;i--)e[i]=e[i].trim(),e[i]&&e[i].slice(-1).toLowerCase()!==e[i].slice(-1)?(e[i]=e[i]+t[i]+e[i+1],e=e.slice(0,i+1).concat(e.slice(i+2))):e=e.slice(0,i+1).concat([t[i]]).concat(e.slice(i+1));return e},GET_COURT_CLASS:function(r,t,e){var i="",n=null,a=t.jurisdiction?t.jurisdiction.split(":")[0]:null,s="court_condition_classes";return e&&(s="court_key_classes"),a&&t.authority&&(typeof t.authority=="string"?n=t.authority:t.authority[0]&&t.authority[0].literal&&(n=t.authority[0].literal)),n&&(this.lang&&r.locale[this.lang].opts[s]&&r.locale[this.lang].opts[s][a]&&r.locale[this.lang].opts[s][a][n]?i=r.locale[this.lang].opts[s][a][n]:r.locale[r.opt["default-locale"][0]].opts[s]&&r.locale[r.opt["default-locale"][0]].opts[s][a]&&r.locale[r.opt["default-locale"][0]].opts[s][a][n]&&(i=r.locale[r.opt["default-locale"][0]].opts[s][a][n])),i},SET_COURT_CLASSES:function(r,t,e,i){for(var n=e.getNodesByName(i,"court-class"),a=0,s=e.numberofnodes(n);a<s;a+=1){var o=n[a],l=e.attributes(o),u=l["@name"],f=l["@country"],h=l["@courts"],c="court_key_classes";if(r.registry&&(c="court_condition_classes"),u&&f&&h){h=h.trim().split(/\s+/),r.locale[t].opts[c]||(r.locale[t].opts[c]={}),r.locale[t].opts[c][f]||(r.locale[t].opts[c][f]={});for(var m=0,d=h.length;m<d;m++)r.locale[t].opts[c][f][h[m]]=u}}},INIT_JURISDICTION_MACROS:function(r,t,e,i){if(t["best-jurisdiction"])return!0;if(!r.sys.retrieveStyleModule||!p.MODULE_MACROS[i]||!t.jurisdiction)return!1;var o=r.getJurisdictionList(t.jurisdiction);if(!r.opt.jurisdictions_seen[o[0]]){var n=r.retrieveAllStyleModules(o);for(var a in n){var s=r.loadStyleModule(a,n[a]);s&&(n[s]||(Object.assign(n,r.retrieveAllStyleModules([s])),r.loadStyleModule(s,n[s],!0)))}}var o=r.getJurisdictionList(t.jurisdiction);r.opt.parallel.enable&&(r.parallel||(r.parallel=new p.Parallel(r)));for(var l=0,u=o.length;l<u;l++){var a=o[l];if(e&&r.juris[a]&&!e["best-jurisdiction"]&&r.juris[a].types.locator&&(t["best-jurisdiction"]=a),r.juris[a]&&r.juris[a].types[t.type])return t["best-jurisdiction"]=a,!0}return!1}};p.XmlJSON=function(r){this.dataObj=r,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}};p.XmlJSON.prototype.clean=function(r){return r};p.XmlJSON.prototype.getStyleId=function(r,t){var e="id";t&&(e="title");for(var i="",n=r.children,a=0,s=n.length;a<s;a++)if(n[a].name==="info")for(var o=n[a].children,l=0,u=o.length;l<u;l++)o[l].name===e&&(i=o[l].children[0]);return i};p.XmlJSON.prototype.children=function(r){return r&&r.children.length?r.children.slice():!1};p.XmlJSON.prototype.nodename=function(r){return r?r.name:null};p.XmlJSON.prototype.attributes=function(r){var t={};for(var e in r.attrs)t["@"+e]=r.attrs[e];return t};p.XmlJSON.prototype.content=function(r){var t="";if(!r||!r.children)return t;for(var e=0,i=r.children.length;e<i;e+=1)typeof r.children[e]=="string"&&(t+=r.children[e]);return t};p.XmlJSON.prototype.namespace={};p.XmlJSON.prototype.numberofnodes=function(r){return r&&typeof r.length=="number"?r.length:0};p.XmlJSON.prototype.getAttributeValue=function(r,t,e){var i="";return e&&(t=e+":"+t),r&&r.attrs&&(r.attrs[t]?i=r.attrs[t]:i=""),i};p.XmlJSON.prototype.getNodeValue=function(r,t){var e="";if(t)for(var i=0,n=r.children.length;i<n;i+=1)r.children[i].name===t&&(r.children[i].children.length?e=r.children[i]:e="");else r&&(e=r);return e&&e.children&&e.children.length==1&&typeof e.children[0]=="string"&&(e=e.children[0]),e};p.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(r,t,e,i,n){i.slice(0,1)==="@"&&(i=i.slice(1));for(var a=0,s=r.children.length;a<s;a+=1)r.children[a].name===t&&r.children[a].attrs.name===e&&(r.children[a].attrs[i]=n)};p.XmlJSON.prototype.deleteNodeByNameAttribute=function(r,t){var e,i;for(e=0,i=r.children.length;e<i;e+=1)!r.children[e]||typeof r.children[e]=="string"||r.children[e].attrs.name==t&&(r.children=r.children.slice(0,e).concat(r.children.slice(e+1)))};p.XmlJSON.prototype.deleteAttribute=function(r,t){typeof r.attrs[t]<"u"&&r.attrs.pop(t)};p.XmlJSON.prototype.setAttribute=function(r,t,e){return r.attrs[t]=e,!1};p.XmlJSON.prototype.nodeCopy=function(r,t){if(!t)var t={};if(typeof t=="object"&&typeof t.length>"u")for(var e in r)typeof r[e]=="string"?t[e]=r[e]:typeof r[e]=="object"&&(typeof r[e].length>"u"?t[e]=this.nodeCopy(r[e],{}):t[e]=this.nodeCopy(r[e],[]));else for(var i=0,n=r.length;i<n;i+=1)typeof r[i]=="string"?t[i]=r[i]:t[i]=this.nodeCopy(r[i],{});return t};p.XmlJSON.prototype.getNodesByName=function(r,t,e,i){if(!i)var i=[];if(!r||!r.children)return i;t===r.name&&(e?e===r.attrs.name&&i.push(r):i.push(r));for(var n=0,a=r.children.length;n<a;n+=1)typeof r.children[n]=="object"&&this.getNodesByName(r.children[n],t,e,i);return i};p.XmlJSON.prototype.nodeNameIs=function(r,t){return typeof r>"u"?!1:t==r.name};p.XmlJSON.prototype.makeXml=function(r){return typeof r=="string"&&(r.slice(0,1)==="<"?r=this.jsonStringWalker.walkToObject(r):r=JSON.parse(r)),r};p.XmlJSON.prototype.insertChildNodeAfter=function(r,t,e,i){for(var n=0,a=r.children.length;n<a;n+=1)if(t===r.children[n]){r.children=r.children.slice(0,n).concat([i]).concat(r.children.slice(n+1));break}return r};p.XmlJSON.prototype.insertPublisherAndPlace=function(r){if(r.name==="group"){for(var t=!0,e=["publisher","publisher-place"],i=0,n=r.children.length;i<n;i+=1){var a=e.indexOf(r.children[i].attrs.variable),s=r.children[i].name==="text";if(s&&a>-1&&!r.children[i].attrs.prefix&&!r.children[i].attrs.suffix)e=e.slice(0,a).concat(e.slice(a+1));else{t=!1;break}}t&&!e.length&&(r.attrs["has-publisher-and-publisher-place"]=!0)}for(var i=0,n=r.children.length;i<n;i+=1)typeof r.children[i]=="object"&&this.insertPublisherAndPlace(r.children[i])};p.XmlJSON.prototype.isChildOfSubstitute=function(r){if(r.length>0){var t=r.slice(),e=t.pop();return e==="substitute"?!0:this.isChildOfSubstitute(t)}return!1};p.XmlJSON.prototype.addMissingNameNodes=function(r,t){if(t||(t=[]),r.name==="names"&&!this.isChildOfSubstitute(t)){for(var e=!0,i=0,n=r.children.length;i<n;i++)if(r.children[i].name==="name"){e=!1;break}e&&(r.children=[{name:"name",attrs:{},children:[]}].concat(r.children))}t.push(r.name);for(var i=0,n=r.children.length;i<n;i+=1)typeof r.children[i]=="object"&&this.addMissingNameNodes(r.children[i],t);t.pop()};p.XmlJSON.prototype.addInstitutionNodes=function(r){var t;if(r.name==="names"){for(var e={},i=-1,n=0,a=r.children.length;n<a;n+=1){if(r.children[n].name=="name"){for(var s in r.children[n].attrs)e[s]=r.children[n].attrs[s];e.delimiter=r.children[n].attrs.delimiter,e.and=r.children[n].attrs.and,i=n;for(var o=0,l=r.children[n].children.length;o<l;o+=1)if(r.children[n].children[o].attrs.name==="family")for(var s in r.children[n].children[o].attrs)e[s]=r.children[n].children[o].attrs[s]}if(r.children[n].name=="institution"){i=-1;break}}if(i>-1){for(var t=this.nodeCopy(this.institution),n=0,a=p.INSTITUTION_KEYS.length;n<a;n+=1){var u=p.INSTITUTION_KEYS[n];typeof e[u]<"u"&&(t.children[0].attrs[u]=e[u]),e.delimiter&&(t.attrs.delimiter=e.delimiter),e.and&&(t.attrs.and=e.and)}r.children=r.children.slice(0,i+1).concat([t]).concat(r.children.slice(i+1))}}for(var n=0,a=r.children.length;n<a;n+=1)typeof r.children[n]!="string"&&this.addInstitutionNodes(r.children[n])};p.XmlJSON.prototype.flagDateMacros=function(r){for(var t=0,e=r.children.length;t<e;t+=1)r.children[t].name==="macro"&&this.inspectDateMacros(r.children[t])&&(r.children[t].attrs["macro-has-date"]="true")};p.XmlJSON.prototype.inspectDateMacros=function(r){if(!r||!r.children)return!1;if(r.name==="date")return!0;for(var t=0,e=r.children.length;t<e;t+=1)if(this.inspectDateMacros(r.children[t]))return!0;return!1};p.stripXmlProcessingInstruction=function(r){return r&&(r=r.replace(/^<\?[^?]+\?>/,""),r=r.replace(/<!--[^>]+-->/g,""),r=r.replace(/^\s+/g,""),r=r.replace(/\s+$/g,""),r)};p.parseXml=function(r){var t={children:[]},e=[t.children];function i(g){g=g.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"");for(var y=g.split("><"),_=null,w=0,O=y.length;w<O;w++)w>0&&(y[w]="<"+y[w]),w<y.length-1&&(y[w]=y[w]+">"),typeof _!="number"&&(y[w].slice(0,7)==="<style "||y[w].slice(0,8)=="<locale ")&&(_=w);y=y.slice(_);for(var w=y.length-2;w>-1;w--)if(y[w].slice(1).indexOf("<")===-1){var I=y[w].slice(0,5);y[w].slice(-2)!=="/>"&&(I==="<term"?y[w+1].slice(0,6)==="</term"&&(y[w]=y[w]+y[w+1],y=y.slice(0,w+1).concat(y.slice(w+2))):["<sing","<mult"].indexOf(I)>-1&&y[w].slice(-2)!=="/>"&&y[w+1].slice(0,1)==="<"&&(y[w]=y[w]+y[w+1],y=y.slice(0,w+1).concat(y.slice(w+2))))}return y}function n(g){return g.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(y,_){var w=parseInt(_,10);return String.fromCharCode(w)}).replace(/&#x([a-f0-9]{1,6});/gi,function(y,_){var w=parseInt(_,16);return String.fromCharCode(w)})}function a(g){var y=g.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(y)for(var _=0,w=y.length;_<w;_++)y[_]=y[_].replace(/=.*/,"");return y}function s(g,y){var _=RegExp("^.*[	 ]+"+y+`=("(?:[^"]*)"|'(?:[^']*)').*$`),w=g.match(_);return w?w[1].slice(1,-1):null}function o(g){var y=RegExp("^<([^	 />]+)"),_=g.match(y);return _?_[1]:null}function l(g){var y={};y.name=o(g),y.attrs={};var _=a(g);if(_)for(var w=0,O=_.length;w<O;w++){var I={name:_[w],value:s(g,_[w])};y.attrs[I.name]=n(I.value)}return y.children=[],y}function u(g){var y=g.match(/^.*>([^<]*)<.*$/);return n(y[1])}function f(g){e.slice(-1)[0].push(g)}function h(g){e.push(g.children)}function c(g){var y;if(g.slice(1).indexOf("<")>-1){var _=g.slice(0,g.indexOf(">")+1);y=l(_),y.children=[u(g)],f(y)}else g.slice(-2)==="/>"?(y=l(g),o(g)==="term"&&y.children.push(""),f(y)):g.slice(0,2)==="</"?e.pop():(y=l(g),f(y),h(y))}for(var m=i(r),d=0,v=m.length;d<v;d++){var b=m[d];c(b)}return t.children[0]};p.XmlDOM=function(r){this.dataObj=r,typeof DOMParser>"u"?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(a,s){if(typeof ActiveXObject<"u"){var o=new ActiveXObject("MSXML.DomDocument");return o.async=!1,o.loadXML(a),o}else if(typeof XMLHttpRequest<"u"){var o=new XMLHttpRequest;return s||(s="text/xml"),o.open("GET","data:"+s+";charset=utf-8,"+encodeURIComponent(a),!1),o.overrideMimeType&&o.overrideMimeType(s),o.send(null),o.responseXML}else if(typeof marknote<"u"){var l=new marknote.Parser;return l.parse(a)}},this.hasAttributes=function(a){var s;return a.attributes&&a.attributes.length?s=!0:s=!1,s}):this.hasAttributes=function(a){var s;return a.attributes&&a.attributes.length?s=!0:s=!1,s},this.importNode=function(a,s){var o;return typeof a.importNode>"u"?o=this._importNode(a,s,!0):o=a.importNode(s,!0),o},this._importNode=function(a,s,o){switch(s.nodeType){case 1:var l=a.createElement(s.nodeName);if(s.attributes&&s.attributes.length>0)for(var u=0,f=s.attributes.length;u<f;)l.setAttribute(s.attributes[u].nodeName,s.getAttribute(s.attributes[u++].nodeName));if(o&&s.childNodes&&s.childNodes.length>0)for(var u=0,f=s.childNodes.length;u<f;)l.appendChild(this._importNode(a,s.childNodes[u++],o));return l}},this.parser=new DOMParser;var t='<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',e=this.parser.parseFromString(t,"text/xml"),i=e.getElementsByTagName("institution");this.institution=i.item(0);var n=e.getElementsByTagName("institution-part");this.institutionpart=n.item(0),this.ns="http://purl.org/net/xbiblio/csl"};p.XmlDOM.prototype.clean=function(r){return r=r.replace(/<\?[^?]+\?>/g,""),r=r.replace(/<![^>]+>/g,""),r=r.replace(/^\s+/,""),r=r.replace(/\s+$/,""),r=r.replace(/^\n*/,""),r};p.XmlDOM.prototype.getStyleId=function(r,t){var e="",i="id";t&&(i="title");var n=r.getElementsByTagName(i);return n&&n.length&&(n=n.item(0)),n&&(e=n.textContent),e||(e=n.innerText),e||(e=n.innerHTML),e};p.XmlDOM.prototype.children=function(r){var t,e,i,n;if(r){for(n=[],t=r.childNodes,e=0,i=t.length;e<i;e+=1)t[e].nodeName!="#text"&&n.push(t[e]);return n}else return[]};p.XmlDOM.prototype.nodename=function(r){var t=r.nodeName;return t};p.XmlDOM.prototype.attributes=function(r){var t,e,i,n,a;if(t=new Object,r&&this.hasAttributes(r))for(e=r.attributes,n=0,a=e.length;n<a;n+=1)i=e[n],t["@"+i.name]=i.value;return t};p.XmlDOM.prototype.content=function(r){var t;return typeof r.textContent<"u"?t=r.textContent:typeof r.innerText<"u"?t=r.innerText:t=r.txt,t};p.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"};p.XmlDOM.prototype.numberofnodes=function(r){return r?r.length:0};p.XmlDOM.prototype.getAttributeName=function(r){var t=r.name;return t};p.XmlDOM.prototype.getAttributeValue=function(r,t,e){var i="";return e&&(t=e+":"+t),r&&this.hasAttributes(r)&&r.getAttribute(t)&&(i=r.getAttribute(t)),i};p.XmlDOM.prototype.getNodeValue=function(r,t){var e=null;if(t){var i=r.getElementsByTagName(t);i.length>0&&(typeof i[0].textContent<"u"?e=i[0].textContent:typeof i[0].innerText<"u"?e=i[0].innerText:e=i[0].text)}return e===null&&r&&r.childNodes&&(r.childNodes.length==0||r.childNodes.length==1&&r.firstChild.nodeName=="#text")&&(typeof r.textContent<"u"?e=r.textContent:typeof r.innerText<"u"?e=r.innerText:e=r.text),e===null&&(e=r),e};p.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(r,t,e,i,n){var a,s,o,l;for(i.slice(0,1)==="@"&&(i=i.slice(1)),o=r.getElementsByTagName(t),a=0,s=o.length;a<s;a+=1)l=o[a],l.getAttribute("name")==e&&l.setAttribute(i,n)};p.XmlDOM.prototype.deleteNodeByNameAttribute=function(r,t){var e,i,n,a;for(a=r.childNodes,e=0,i=a.length;e<i;e+=1)n=a[e],!(!n||n.nodeType==n.TEXT_NODE)&&this.hasAttributes(n)&&n.getAttribute("name")==t&&r.removeChild(a[e])};p.XmlDOM.prototype.deleteAttribute=function(r,t){r.removeAttribute(t)};p.XmlDOM.prototype.setAttribute=function(r,t,e){return r.ownerDocument||(r=r.firstChild),["function","unknown"].indexOf(typeof r.setAttribute)>-1&&r.setAttribute(t,e),!1};p.XmlDOM.prototype.nodeCopy=function(r){var t=r.cloneNode(!0);return t};p.XmlDOM.prototype.getNodesByName=function(r,t,e){var i,n,a,s,o;for(i=[],n=r.getElementsByTagName(t),s=0,o=n.length;s<o;s+=1)a=n.item(s),!(e&&!(this.hasAttributes(a)&&a.getAttribute("name")==e))&&i.push(a);return i};p.XmlDOM.prototype.nodeNameIs=function(r,t){return t==r.nodeName};p.XmlDOM.prototype.makeXml=function(r){r||(r="<docco><bogus/></docco>"),r=r.replace(/\s*<\?[^>]*\?>\s*\n*/g,"");var t=this.parser.parseFromString(r,"application/xml");return t.firstChild};p.XmlDOM.prototype.insertChildNodeAfter=function(r,t,e,i){var n;return n=this.importNode(t.ownerDocument,i),r.replaceChild(n,t),r};p.XmlDOM.prototype.insertPublisherAndPlace=function(r){for(var t=r.getElementsByTagName("group"),e=0,i=t.length;e<i;e+=1){for(var n=t.item(e),a=[],s=0,o=n.childNodes.length;s<o;s+=1)n.childNodes.item(s).nodeType!==1&&a.push(s);if(n.childNodes.length-a.length===2){for(var l=[],s=0,o=2;s<o;s+=1)if(!(a.indexOf(s)>-1)){for(var u=n.childNodes.item(s),f=[],h=0,c=u.childNodes.length;h<c;h+=1)u.childNodes.item(h).nodeType!==1&&f.push(h);if(u.childNodes.length-f.length===0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&n.setAttribute("has-publisher-and-publisher-place",!0)}}};p.XmlDOM.prototype.isChildOfSubstitute=function(r){return r.parentNode?r.parentNode.tagName.toLowerCase()==="substitute"?!0:this.isChildOfSubstitute(r.parentNode):!1};p.XmlDOM.prototype.addMissingNameNodes=function(r){for(var t=r.getElementsByTagName("names"),e=0,i=t.length;e<i;e+=1){var n=t.item(e),a=n.getElementsByTagName("name");if((!a||a.length===0)&&!this.isChildOfSubstitute(n)){var s=n.ownerDocument,o=s.createElement("name");n.appendChild(o)}}};p.XmlDOM.prototype.addInstitutionNodes=function(r){var t,e,i,n,a,s,o,l,u;for(t=r.getElementsByTagName("names"),l=0,u=t.length;l<u;l+=1)if(e=t.item(l),s=e.getElementsByTagName("name"),s.length!=0&&(i=e.getElementsByTagName("institution"),i.length==0)){n=this.importNode(r.ownerDocument,this.institution),a=n.getElementsByTagName("institution-part").item(0),o=s.item(0),e.insertBefore(n,o.nextSibling);for(var f=0,h=p.INSTITUTION_KEYS.length;f<h;f+=1){var c=p.INSTITUTION_KEYS[f],m=o.getAttribute(c);m&&a.setAttribute(c,m)}for(var d=o.getElementsByTagName("name-part"),f=0,h=d.length;f<h;f+=1)if(d[f].getAttribute("name")==="family")for(var v=0,b=p.INSTITUTION_KEYS.length;v<b;v+=1){var c=p.INSTITUTION_KEYS[v],m=d[f].getAttribute(c);m&&a.setAttribute(c,m)}}};p.XmlDOM.prototype.flagDateMacros=function(r){var t,e,i,n,a=r.getElementsByTagName("macro");for(t=0,e=a.length;t<e;t+=1)i=a.item(t),n=i.getElementsByTagName("date"),n.length&&i.setAttribute("macro-has-date","true")};p.setupXml=function(r){var t={},e=null;return typeof r<"u"?typeof r=="string"?(r=r.replace("^\uFEFF","").replace(/^\s+/,""),r.slice(0,1)==="<"?t=p.parseXml(r):t=JSON.parse(r),e=new p.XmlJSON(t)):typeof r.getAttribute<"u"?e=new p.XmlDOM(r):typeof r.toXMLString<"u"?e=new p.XmlE4X(r):e=new p.XmlJSON(r):p.error("unable to parse XML input"),e||p.error("citeproc-js error: unable to parse CSL style or locale object"),e};p.getSortCompare=function(r){if(p.stringCompare)return p.stringCompare;var t=this,e,i={sensitivity:"base",ignorePunctuation:!0,numeric:!0};r||(r="en-US"),e=function(l,u){return p.toLocaleLowerCase.call(t,l).localeCompare(p.toLocaleLowerCase.call(t,u),r,i)};var n=function(l){return l.replace(/^[\[\]\'\"]*/g,"")},a=function(){return e("[x","x")?function(l,u){return e(n(l),n(u))}:!1},s=a(),o=function(l,u){return s?s(l,u):e(l,u)};return o};p.ambigConfigDiff=function(r,t){var e,i,n,a;if(r.names.length!==t.names.length)return 1;for(e=0,i=r.names.length;e<i;e+=1){if(r.names[e]!==t.names[e])return 1;for(n=0,a=r.givens[e];n<a;n+=1)if(r.givens[e][n]!==t.givens[e][n])return 1}return r.disambiguate!=t.disambiguate||r.year_suffix!==t.year_suffix?1:0};p.cloneAmbigConfig=function(r,t){var e,i,n,a,s,o={};for(o.names=[],o.givens=[],o.year_suffix=!1,o.disambiguate=!1,e=0,i=r.names.length;e<i;e+=1)s=r.names[e],o.names[e]=s;for(e=0,i=r.givens.length;e<i;e+=1){for(s=[],n=0,a=r.givens[e].length;n<a;n+=1)s.push(r.givens[e][n]);o.givens.push(s)}return t?(o.year_suffix=t.year_suffix,o.disambiguate=t.disambiguate):(o.year_suffix=r.year_suffix,o.disambiguate=r.disambiguate),o};p.getAmbigConfig=function(){var r,t;r=this.tmp.disambig_request,r||(r=this.tmp.disambig_settings);var t=p.cloneAmbigConfig(r);return t};p.getMaxVals=function(){return this.tmp.names_max.mystack.slice()};p.getMinVal=function(){return this.tmp["et-al-min"]};p.tokenExec=function(r,t,e){var i,n,a,s;s=!1,i=r.next,n=!1;var o=function(f){return f?(this.tmp.jump.replace("succeed"),r.succeed):(this.tmp.jump.replace("fail"),r.fail)};r.test&&(i=o.call(this,r.test(t,e)));for(var l=0,u=r.execs.length;l<u;l++)a=r.execs[l],n=a.call(r,this,t,e),n&&(i=n);return s&&p.debug(r.name+" ("+r.tokentype+") ---> done"),i};p.expandMacro=function(r,t){var e,i,n,a;e=r.postponed_macro;var s=r.strings.sort_direction;r=new p.Token("group",p.START);var o=!1,l=!1;i=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",e),i.length&&(l=this.cslXml.getAttributeValue(i[0],"cslid"),o=this.cslXml.getAttributeValue(i[0],"macro-has-date")),o&&(e=e+"@"+this.build.current_default_locale,a=function(h){h.tmp.extension&&(h.tmp["doing-macro-with-date"]=!0)},r.execs.push(a)),this.build.macro_stack.indexOf(e)>-1?p.error('CSL processor error: call to macro "'+e+'" would cause an infinite loop'):this.build.macro_stack.push(e),r.cslid=l,p.MODULE_MACROS[e]&&(r.juris=e,this.opt.update_mode=p.POSITION),p.Node.group.build.call(r,this,t,!0),this.cslXml.getNodeValue(i)||p.error('CSL style error: undefined macro "'+e+'"');var u=p.getMacroTarget.call(this,e);if(u&&(p.buildMacro.call(this,u,i),p.configureMacro.call(this,u)),!this.build.extension){var a=function(c){return function(m,d,v){for(var b=0;b<m.macros[c].length;)b=p.tokenExec.call(m,m.macros[c][b],d,v)}}(e),f=new p.Token("text",p.SINGLETON);f.execs.push(a),t.push(f)}n=new p.Token("group",p.END),n.strings.sort_direction=s,o&&(a=function(h){h.tmp.extension&&(h.tmp["doing-macro-with-date"]=!1)},n.execs.push(a)),r.juris&&(n.juris=e),p.Node.group.build.call(n,this,t,!0),this.build.macro_stack.pop()};p.getMacroTarget=function(r){var t=!1;return this.build.extension?t=this[this.build.root+this.build.extension].tokens:this.macros[r]||(t=[],this.macros[r]=t),t};p.buildMacro=function(r,t){var e=p.makeBuilder(this,r),i;typeof t.length>"u"?i=t:i=t[0],e(i)};p.configureMacro=function(r){this.build.extension||this.configureTokenList(r)};p.XmlToToken=function(r,t,e,i){var n,a,s,o,l,u,f;if(n=r.cslXml.nodename(this),!(r.build.skip&&r.build.skip!==n)){if(!n){a=r.cslXml.content(this),a&&(r.build.text=a);return}if(p.Node[r.cslXml.nodename(this)]||p.error('Undefined node name "'+n+'".'),s=r.cslXml.attributes(this),o=p.setDecorations.call(this,r,s),l=new p.Token(n,t),t!==p.END||n==="if"||n==="else-if"||n==="layout"){for(var u in s)if(s.hasOwnProperty(u)){if(t===p.END&&u!=="@language"&&u!=="@locale")continue;if(s.hasOwnProperty(u))if(p.Attributes[u])try{p.Attributes[u].call(l,r,""+s[u])}catch(c){p.error(u+" attribute: "+c)}else p.debug('warning: undefined attribute "'+u+'" in style')}l.decorations=o,p.DATE_VARIABLES.indexOf(s["@variable"])>-1&&i.push(l.variables)}else t===p.END&&s["@variable"]&&(l.hasVariable=!0,p.DATE_VARIABLES.indexOf(s["@variable"])>-1&&(l.variables=i.pop()));e?f=e:f=r[r.build.area].tokens,p.Node[n].build.call(l,r,f,!0)}};p.DateParser=function(){for(var r=[["明治",1867],["大正",1911],["昭和",1925],["平成",1988]],t=0,e=r.length;t<e;t++){r[t][0];var i=r[t][1]}for(var n=[],a={},t=0,e=r.length;t<e;t++){var s=r[t],i=s[0];n.push(i),a[s[0]]=s[1]}var o=n.join("|"),l=new RegExp("(?:"+o+")(?:[0-9]+)"),u=new RegExp("(?:"+o+")(?:[0-9]+)","g"),f=/(\u6708|\u5E74)/g,h=/\u65E5/g,c=/\u301c/g,m="(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])",d="[?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])",v="[?0-9]{1,3}",b="[%%DATED%%]",g="[?~]",y="[^-/~?0-9]+",_="("+d+"|"+m+"|"+v+"|"+b+"|"+g+"|"+y+")",w=new RegExp(_.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),O=new RegExp(_.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),I=new RegExp(_.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-")),M="january february march april may june july august september october november december spring summer fall winter spring summer";this.monthStrings=M.split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var T=0,E=this.monthStrings.length;T<E;T++)this.monthSets.push([this.monthStrings[T]]);this.monthAbbrevs=[];for(var T=0,E=this.monthSets.length;T<E;T++){this.monthAbbrevs.push([]);for(var q=0,k=this.monthSets[T].length;q<k;q++)this.monthAbbrevs[T].push(this.monthSets[T][0].slice(0,3))}this.monthRexes=[];for(var T=0,E=this.monthAbbrevs.length;T<E;T++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[T].join("|")+")"))},this.addDateParserMonths=function(T){if(typeof T=="string"&&(T=T.split(/\s+/)),T.length!==12&&T.length!==16){p.debug("month [+season] list of "+T.length+", expected 12 or 16. Ignoring.");return}for(var E=0,q=T.length;E<q;E++){for(var k=null,j=!1,J=3,Q={},R=0,B=this.monthAbbrevs.length;R<B;R++){if(Q[R]={},R===E){for(var U=0,te=this.monthAbbrevs[E].length;U<te;U++)if(this.monthAbbrevs[E][U]===T[E].slice(0,this.monthAbbrevs[E][U].length)){j=!0;break}}else for(var U=0,te=this.monthAbbrevs[R].length;U<te;U++)if(k=this.monthAbbrevs[R][U].length,this.monthAbbrevs[R][U]===T[E].slice(0,k)){for(;this.monthSets[R][U].slice(0,k)===T[E].slice(0,k);)if(k>T[E].length||k>this.monthSets[R][U].length){p.debug("unable to disambiguate month string in date parser: "+T[E]);break}else k+=1;J=k,Q[R][U]=k}for(var de in Q)for(var me in Q[de])k=Q[de][me],de=parseInt(de,10),me=parseInt(me,10),this.monthAbbrevs[de][me]=this.monthSets[de][me].slice(0,k)}j||(this.monthSets[E].push(T[E]),this.monthAbbrevs[E].push(T[E].slice(0,J)))}this.monthRexes=[],this.monthRexStrs=[];for(var E=0,q=this.monthAbbrevs.length;E<q;E++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[E].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[E].join("|")+")");if(this.monthAbbrevs.length===18)for(var E=12,q=14;E<q;E++)this.monthRexes[E+4]=new RegExp("^(?:"+this.monthAbbrevs[E].join("|")+")"),this.monthRexStrs[E+4]="^(?:"+this.monthAbbrevs[E].join("|")+")"},this.convertDateObjectToArray=function(T){T["date-parts"]=[],T["date-parts"].push([]);for(var E=0,q,k=0,j=3;k<j&&(q=["year","month","day"][k],!!T[q]);k++)E+=1,T["date-parts"][0].push(T[q]),delete T[q];T["date-parts"].push([]);for(var k=0,j=E;k<j&&(q=["year_end","month_end","day_end"][k],!!T[q]);k++)T["date-parts"][1].push(T[q]),delete T[q];return T["date-parts"][0].length!==T["date-parts"][1].length&&T["date-parts"].pop(),T},this.convertDateObjectToString=function(T){for(var E=[],q=0,k=3;q<k&&T[p.DATE_PARTS_ALL[q]];q+=1)E.push(T[p.DATE_PARTS_ALL[q]]);return E.join("-")},this._parseNumericDate=function(T,E,q,k){q||(q="");for(var j=k.split(E),J=0,Q=j.length;J<Q;J++)if(j[J].length===4){T["year"+q]=j[J].replace(/^0*/,""),J?j=j.slice(0,J):j=j.slice(1);break}for(var J=0,Q=j.length;J<Q;J++)j[J]=parseInt(j[J],10);if(j.length===1||j.length===2&&!j[1]){var R=j[0];R&&(T["month"+q]=""+j[0])}else if(j.length===2)if(j[this.monthGuess]>12){var R=j[this.dayGuess],B=j[this.monthGuess];R&&(T["month"+q]=""+R,B&&(T["day"+q]=""+B))}else{var R=j[this.monthGuess],B=j[this.dayGuess];R&&(T["month"+q]=""+R,B&&(T["day"+q]=""+B))}},this.parseDateToObject=function(T){var E=T,q=-1,k=-1,j=!1,J;if(T){if(T=T.replace(/^(.*[0-9])T[0-9].*/,"$1"),T.slice(0,1)==="-"&&(j=!0,T=T.slice(1)),T.match(/^[0-9]{1,3}$/))for(;T.length<4;)T="0"+T;T=""+T,T=T.replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"");var Q=T.match(f);if(Q){T=T.replace(/\s+/g,""),T=T.replace(h,""),T=T.replace(f,"-"),T=T.replace(c,"/"),T=T.replace(/\-\//g,"/"),T=T.replace(/-$/g,"");var R=T.split(l);J=[];var B=T.match(u);if(B){for(var U=[],te=0,de=B.length;te<de;te++)U=U.concat(B[te].match(/([^0-9]+)([0-9]+)/).slice(1));for(var te=0,de=R.length;te<de;te++)if(J.push(R[te]),te!==de-1){var me=te*2;J.push(U[me]),J.push(U[me+1])}}else J=R;for(var te=1,de=J.length;te<de;te+=3)J[te+1]=a[J[te]]+parseInt(J[te+1],10),J[te]="";T=J.join(""),T=T.replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/"),T=T.replace(/\.\s*$/,""),T=T.replace(/\.(?! )/,""),q=T.indexOf("/"),k=T.indexOf("-")}}T=T.replace(/([A-Za-z])\./g,"$1");var ee="",re="",ue={},Te,we;if(T.slice(0,1)==='"'&&T.slice(-1)==='"')return ue.literal=T.slice(1,-1),ue;if(q>-1&&k>-1){var xe=T.split("/");xe.length>3?(Te="-",T=T.replace(/\_/g,"-"),we="/",J=T.split(I)):(Te="/",T=T.replace(/\_/g,"/"),we="-",J=T.split(O))}else T=T.replace(/\//g,"-"),T=T.replace(/\_/g,"-"),Te="-",we="-",J=T.split(w);for(var Oe=[],te=0,de=J.length;te<de;te++){var Q=J[te].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/);Q&&Oe.push(Q[1])}var Ie=Oe.indexOf(Te),pe=[],be=!1;Ie>-1?(pe.push([0,Ie]),pe.push([Ie+1,Oe.length]),be=!0):pe.push([0,Oe.length]);for(var W="",te=0,de=pe.length;te<de;te++){var ae=pe[te],ze=Oe.slice(ae[0],ae[1]);e:for(var Le=0,Ge=ze.length;Le<Ge;Le++){var G=ze[Le];if(G.indexOf(we)>-1){this._parseNumericDate(ue,we,W,G);continue}if(G.match(/[0-9]{4}/)){ue["year"+W]=G.replace(/^0*/,"");continue}(G==="~"||G==="?"||G==="c"||G.match(/^cir/))&&(ue.circa=!0);for(var C=0,N=this.monthRexes.length;C<N;C++)if(G.toLocaleLowerCase().match(this.monthRexes[C])){ue["month"+W]=""+(parseInt(C,10)+1);continue e}if(G.match(/^[0-9]+$/)&&(ee=G),G.toLocaleLowerCase().match(/^bc/)&&ee){ue["year"+W]=""+ee*-1,ee="";continue}if(G.toLocaleLowerCase().match(/^ad/)&&ee){ue["year"+W]=""+ee,ee="";continue}if(G.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)&&!ue["season"+W]){re=G;continue}}ee&&(ue["day"+W]=ee,ee=""),re&&!ue["season"+W]&&(ue["season"+W]=re.trim(),re=""),W="_end"}if(be)for(var Le=0,Ge=p.DATE_PARTS_ALL.length;Le<Ge;Le++){var Z=p.DATE_PARTS_ALL[Le];ue[Z]&&!ue[Z+"_end"]?ue[Z+"_end"]=ue[Z]:!ue[Z]&&ue[Z+"_end"]&&(ue[Z]=ue[Z+"_end"])}(!ue.year||ue.year&&ue.day&&!ue.month)&&(ue={literal:E});for(var he=["year","month","day","year_end","month_end","day_end"],te=0,de=he.length;te<de;te++){var ke=he[te];typeof ue[ke]=="string"&&ue[ke].match(/^[0-9]+$/)&&(ue[ke]=parseInt(ue[ke],10))}return j&&Object.keys(ue).indexOf("year")>-1&&(ue.year=ue.year*-1),ue},this.parseDateToArray=function(T){return this.convertDateObjectToArray(this.parseDateToObject(T))},this.parseDateToString=function(T){return this.convertDateObjectToString(this.parseDateToObject(T))},this.parse=function(T){return this.parseDateToObject(T)},this.setOrderMonthDay(),this.resetDateParserMonths()};p.DateParser=new p.DateParser;p.Engine=function(r,t,e,i){var n,a;this.processor_version=p.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=r,typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(h),m=1;m<arguments.length;m++){var d=arguments[m];if(d!=null)for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(c[v]=d[v])}return c},writable:!0,configurable:!0}),r.variableWrapper&&(p.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(p.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),p.retrieveStyleModule&&(this.sys.retrieveStyleModule=p.retrieveStyleModule),p.getAbbreviation&&(this.sys.getAbbreviation=p.getAbbreviation),this.sys.stringCompare&&(p.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=p.AbbreviationSegments,this.transform=new p.Transform(this),this.setParseNames=function(f){this.opt["parse-names"]=f},this.opt=new p.Engine.Opt,this.tmp=new p.Engine.Tmp,this.build=new p.Engine.Build,this.fun=new p.Engine.Fun(this),this.configure=new p.Engine.Configure,this.citation_sort=new p.Engine.CitationSort,this.bibliography_sort=new p.Engine.BibliographySort,this.citation=new p.Engine.Citation(this),this.bibliography=new p.Engine.Bibliography,this.intext=new p.Engine.InText,this.output=new p.Output.Queue(this),this.dateput=new p.Output.Queue(this),this.cslXml=p.setupXml(t);for(var s in p.SYS_OPTIONS){var o=p.SYS_OPTIONS[s];typeof this.sys[o]=="boolean"&&(this.opt.development_extensions[o]=this.sys[o])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(f,h){var c=this.cslXml.children(f);this.cslXml.setAttribute(f,"cslid",this.build.cslNodeId),this.opt.nodenames.push(h),this.build.cslNodeId+=1;for(var m=0,d=this.cslXml.numberofnodes(c);m<d;m+=1)h=this.cslXml.nodename(c[m]),h&&this.setCslNodeIds(c[m],h)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),n=this.cslXml.attributes(this.cslXml.dataObj),typeof n["@sort-separator"]>"u"&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),this.opt.version.slice(0,4)==="1.1m"&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),e&&(e=e.replace("_","-"),e=p.normalizeLocaleStr(e)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=p.normalizeLocaleStr(this.opt["default-locale"][0])),e&&i&&(this.opt["default-locale"]=[e]),e&&!i&&this.opt["default-locale"][0]&&(e=this.opt["default-locale"][0]),this.opt["default-locale"].length===0&&(e||(e="en-US"),this.opt["default-locale"].push("en-US")),e||(e=this.opt["default-locale"][0]),a=p.localeResolve(e),this.opt.lang=a.best,this.opt["default-locale"][0]=a.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(a);function l(h){var h=h.slice(),c=new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+h.join("|")+")(?=[!?:]*\\s+|-|$))","g");return c}this.locale[this.opt.lang].opts["skip-words-regexp"]=l(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new p.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new p.Registry(this),this.macros={},this.build.area="citation";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="bibliography";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="intext";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new p.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new p.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=p.DateParser,this.fun.flipflopper=new p.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=p.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=p.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")};p.Engine.prototype.setCloseQuotesArray=function(){var r;r=[],r.push(this.getTerm("close-quote")),r.push(this.getTerm("close-inner-quote")),r.push('"'),r.push("'"),this.opt.close_quotes_array=r};p.makeBuilder=function(r,t){var e=[],i=[];function n(l){i.push(l),p.XmlToToken.call(l,r,p.START,t,e)}function a(){var l=i.pop();p.XmlToToken.call(l,r,p.END,t,e)}function s(l){p.XmlToToken.call(l,r,p.SINGLETON,t,e)}function o(l,u,f){l||(l=[]),typeof l.length>"u"&&(l=[l]);for(var h=0;h<l.length;h++){var c=l[h];r.cslXml.nodename(c)!==null&&(u&&r.cslXml.nodename(c)==="date"&&(p.Util.fixDateNode.call(r,u,h,c),c=r.cslXml.children(u)[h]),r.cslXml.numberofnodes(r.cslXml.children(c))?(n(c),o(r.cslXml.children(c),c),a()):s(c))}}return o};p.Engine.prototype.buildTokenLists=function(r,t){if(this.cslXml.getNodeValue(r)){var e=p.makeBuilder(this,t),i;typeof r.length>"u"?i=r:i=r[0],e(i)}};p.Engine.prototype.setStyleAttributes=function(){var e,r,t,e={};e.name=this.cslXml.nodename(this.cslXml.dataObj),r=this.cslXml.attributes(this.cslXml.dataObj);for(t in r)r.hasOwnProperty(t)&&p.Attributes[t].call(e,this,r[t])};p.Engine.prototype.getTerm=function(r,t,e,i,n,a){r&&r.match(/[A-Z]/)&&r===r.toUpperCase()&&(p.debug("Warning: term key is in uppercase form: "+r),r=r.toLowerCase());var s;a?s=this.opt["default-locale"][0]:s=this.opt.lang;var o=p.Engine.getField(p.LOOSE,this.locale[s].terms,r,t,e,i);return!o&&r==="range-delimiter"&&(o="–"),typeof o>"u"&&(n===p.STRICT?p.error('Error in getTerm: term "'+r+'" does not exist.'):n===p.TOLERANT&&(o="")),o&&(this.tmp.cite_renders_content=!0),o};p.Engine.prototype.getDate=function(r,t){var e;return t?e=this.opt["default-locale"]:e=this.opt.lang,this.locale[e].dates[r]?this.locale[e].dates[r]:!1};p.Engine.prototype.getOpt=function(r){return typeof this.locale[this.opt.lang].opts[r]<"u"?this.locale[this.opt.lang].opts[r]:!1};p.Engine.prototype.getVariable=function(r,t,e,i){return p.Engine.getField(p.LOOSE,r,t,e,i)};p.Engine.prototype.getDateNum=function(r,t){return typeof r>"u"?0:r[t]};p.Engine.getField=function(r,t,e,i,n,a){var s,o,l,u,f,h;if(s="",typeof t[e]>"u")if(r===p.STRICT)p.error('Error in getField: term "'+e+'" does not exist.');else return;for(a&&t[e][a]?h=t[e][a]:h=t[e],o=[],i==="symbol"?o=["symbol","short"]:i==="verb-short"?o=["verb-short","verb"]:i!=="long"&&(o=[i]),o=o.concat(["long"]),f=o.length,u=0;u<f;u+=1)if(l=o[u],typeof h=="string"||typeof h=="number")s=h;else if(typeof h[l]<"u"){typeof h[l]=="string"||typeof h[l]=="number"?s=h[l]:typeof n=="number"?s=h[l][n]:s=h[l][0];break}return s};p.Engine.prototype.configureTokenLists=function(){var r,t,e;for(e=p.AREAS.length,t=0;t<e;t+=1){r=p.AREAS[t];var i=this[r].tokens;this.configureTokenList(i)}return this.version=p.version,this.state};p.Engine.prototype.configureTokenList=function(r){var t,e,i,n,a,s,o,l;for(t=["year","month","day"],o=r.length-1,a=o;a>-1;a+=-1){if(e=r[a],e.name==="date"&&p.END===e.tokentype&&(i=[]),e.name==="date-part"&&e.strings.name)for(l=t.length,s=0;s<l;s+=1)n=t[s],n===e.strings.name&&i.push(e.strings.name);e.name==="date"&&p.START===e.tokentype&&(i.reverse(),e.dateparts=i),e.next=a+1,e.name&&p.Node[e.name].configure&&p.Node[e.name].configure.call(e,this,a)}};p.Engine.prototype.refetchItems=function(r){for(var t=[],e=0,i=r.length;e<i;e+=1)t.push(this.refetchItem(""+r[e]));return t};p.ITERATION=0;p.Engine.prototype.retrieveItem=function(r){var t,e,i;if(!this.tmp.loadedItemIDs[r])this.tmp.loadedItemIDs[r]=!0;else return this.registry.refhash[r];if(this.opt.development_extensions.normalize_lang_keys_to_lowercase&&typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase=="boolean"){for(var i=0,n=this.opt["default-locale"].length;i<n;i+=1)this.opt["default-locale"][i]=this.opt["default-locale"][i].toLowerCase();for(var i=0,n=this.opt["locale-translit"].length;i<n;i+=1)this.opt["locale-translit"][i]=this.opt["locale-translit"][i].toLowerCase();for(var i=0,n=this.opt["locale-translat"].length;i<n;i+=1)this.opt["locale-translat"][i]=this.opt["locale-translat"][i].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(p.ITERATION+=1,t=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+r))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(t.multi){if(t.multi._keys)for(var a in t.multi._keys)for(var s in t.multi._keys[a])s!==s.toLowerCase()&&(t.multi._keys[a][s.toLowerCase()]=t.multi._keys[a][s],delete t.multi._keys[a][s]);if(t.multi.main)for(var a in t.multi.main)t.multi.main[a]=t.multi.main[a].toLowerCase()}for(var i=0,n=p.NAME_VARIABLES.length;i>n;i+=1){var o=p.NAME_VARIABLES[i];if(t[o]&&t[o].multi)for(var l=0,u=t[o].length;l<u;l+=1){var f=t[o][l];if(f.multi){if(f.multi._key)for(var s in f.multi._key)s!==s.toLowerCase()&&(f.multi._key[s.toLowerCase()]=f.multi._key[s],delete f.multi._key[s]);f.multi.main&&(f.multi.main=f.multi.main.toLowerCase())}}}}if(t.language&&t.language.match(/[><]/)){var e=t.language.match(/(.*?)([<>])(.*)/);e[2]==="<"?(t["language-name"]=e[1],t["language-name-original"]=e[3]):(t["language-name"]=e[3],t["language-name-original"]=e[1]),this.opt.multi_layout?t["language-name-original"]&&(t.language=t["language-name-original"]):t["language-name"]&&(t.language=t["language-name"])}if(t.page){t["page-first"]=t.page;var h=""+t.page,e=h.split(/\s*(?:&|, |-|\u2013)\s*/);e[0].slice(-1)!=="\\"&&(t["page-first"]=e[0])}this.opt.development_extensions.field_hack&&t.note&&p.parseNoteFieldHacks(t,!1,this.opt.development_extensions.allow_field_hack_date_override);for(var s in t)if(p.DATE_VARIABLES.indexOf(s.replace(/^alt-/,""))>-1){var c=t[s];c&&(this.opt.development_extensions.raw_date_parsing&&c.raw&&(!c["date-parts"]||c["date-parts"].length===0)&&(c=this.fun.dateparser.parseDateToObject(c.raw)),t[s]=this.dateParseArray(c))}if(this.opt.development_extensions.consolidate_legal_items&&t.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1){for(var m,d=["type","title","jurisdiction","genre","volume","container-title"],v=[],i=0,n=d.length;i<n;i+=1)m=d[i],t[m]&&v.push(t[m]);d=["original-date","issued"];for(var i=0,n=d.length;i<n;i+=1)if(m=d[i],t[m]&&t[m].year){var b=t[m].year;v.push(b);break}t.legislation_id=v.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(t.type)>-1){for(var m,d=["type","container-title","publisher","edition"],g=[],i=0,n=d.length;i<n;i+=1)m=d[i],t[m]&&g.push(t[m]);t.container_id=g.join("::")}if(this.opt.development_extensions.force_jurisdiction&&typeof t.authority=="string"&&(t.authority=[{literal:t.authority,multi:{_key:{}}}],t.multi&&t.multi._keys&&t.multi._keys.authority)){t.authority[0].multi._key={};for(var s in t.multi._keys.authority)t.authority[0].multi._key[s]={literal:t.multi._keys.authority[s]}}if(t["title-short"]||(t["title-short"]=t.shortTitle),this.opt.development_extensions.main_title_from_short_title){var y=this.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr";p.extractTitleAndSubtitle.call(this,t,y)}var _=["bill","legal_case","legislation","gazette","regulation"].indexOf(t.type)>-1;this.opt.development_extensions.force_jurisdiction&&_&&(t.jurisdiction||(t.jurisdiction="us"));var w;if(!_&&t.title&&this.sys.getAbbreviation){t.jurisdiction,this.sys.normalizeAbbrevsKey?w=this.sys.normalizeAbbrevsKey("title",t.title):w=t.title;var O=this.transform.loadAbbreviation(t.jurisdiction,"title",w,t.language);this.transform.abbrevs[O].title&&this.transform.abbrevs[O].title[w]&&(t["title-short"]=this.transform.abbrevs[O].title[w])}if(t["container-title-short"]||(t["container-title-short"]=t.journalAbbreviation),t["container-title"]&&this.sys.getAbbreviation){this.sys.normalizeAbbrevsKey?w=this.sys.normalizeAbbrevsKey(t["container-title"]):w=t["container-title"];var O=this.transform.loadAbbreviation(t.jurisdiction,"container-title",w,t.language);this.transform.abbrevs[O]["container-title"]&&this.transform.abbrevs[O]["container-title"][w]&&(t["container-title-short"]=this.transform.abbrevs[O]["container-title"][w])}if(t.jurisdiction&&(t.country=t.jurisdiction.split(":")[0]),this.registry.refhash[r]){if(JSON.stringify(this.registry.refhash[r])!=JSON.stringify(t)){for(var s in this.registry.refhash[r])delete this.registry.refhash[r][s];this.tmp.taintedItemIDs[t.id]=!0,Object.assign(this.registry.refhash[r],t)}}else this.registry.refhash[r]=t;return this.registry.refhash[r]};p.Engine.prototype.refetchItem=function(r){return this.registry.refhash[r]};p.Engine.prototype.setOpt=function(r,t,e){r.name==="style"||r.name==="cslstyle"?(this.opt.inheritedAttributes[t]=e,this.citation.opt.inheritedAttributes[t]=e,this.bibliography.opt.inheritedAttributes[t]=e):["citation","bibliography"].indexOf(r.name)>-1?this[r.name].opt.inheritedAttributes[t]=e:r.strings[t]=e};p.Engine.prototype.inheritOpt=function(r,t,e,i){if(typeof r.strings[t]<"u")return r.strings[t];var n=this[this.tmp.root].opt.inheritedAttributes[e||t];return typeof n<"u"?n:i};p.Engine.prototype.remapSectionVariable=function(r){for(var t=0,e=r.length;t<e;t+=1){var i=r[t][0],n=r[t][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(i.type)>-1){if(n.locator){n.locator=n.locator.trim();var a=n.locator.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);a||(n.label?n.locator=p.STATUTE_SUBDIV_STRINGS_REVERSE[n.label]+" "+n.locator:n.locator="p. "+n.locator)}var s=null;if(i.section){i.section=i.section.trim();var a=i.section.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);a?s=a[0].trim():(i.section="sec. "+i.section,s="sec.")}if(i.section)if(!n.locator)n.locator=i.section;else{var a=n.locator.match(/^([^ ]*)\s*(.*)/),o=" ";a?(a[1]==="p."&&s!=="p."&&(n.locator=a[2]),["[","(",".",",",";",":","?"].indexOf(n.locator.slice(0,1))>-1&&(o="")):o="",n.locator=i.section+o+n.locator}n.label=""}}};p.Engine.prototype.setNumberLabels=function(r){if(r.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(r.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var t=""+r.number;t=t.split("\\").join("");var e=t.split(/\s+/)[0],i=p.STATUTE_SUBDIV_STRINGS[e];if(i){var n=t.split(p.STATUTE_SUBDIV_PLAIN_REGEX);if(n.length>1){for(var a=[],s=1,o=n.length;s<o;s+=1)a.push(n[s].replace(/\s*$/,"").replace(/^\s*/,""));t=a.join(" ")}else t=n[0];this.tmp.shadow_numbers.number.label=i,this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!0}};p.substituteOne=function(r){return function(t,e){return e?r.replace("%%STRING%%",e):""}};p.substituteTwo=function(r){return function(t){var e=r.replace("%%PARAM%%",t);return function(i,n){return n?e.replace("%%STRING%%",n):""}}};p.Mode=function(r){var t,e,i,n,a,s;t={},e=p.Output.Formats[r];for(i in e){if(i.slice(0,1)!=="@"){t[i]=e[i];continue}n=!1,a=e[i],s=i.split("/"),typeof a=="string"&&a.indexOf("%%STRING%%")>-1?a.indexOf("%%PARAM%%")>-1?n=p.substituteTwo(a):n=p.substituteOne(a):typeof a=="boolean"&&!a?n=p.Output.Formatters.passthrough:typeof a=="function"?n=a:p.error("Bad "+r+" config entry for "+i+": "+a),s.length===1?t[s[0]]=n:s.length===2&&(t[s[0]]||(t[s[0]]={}),t[s[0]][s[1]]=n)}return t};p.setDecorations=function(r,t){var e,i,n;e=[];for(n in p.FORMAT_KEY_SEQUENCE){var i=p.FORMAT_KEY_SEQUENCE[n];t[i]&&(e.push([i,t[i]]),delete t[i])}return e};p.Doppeler=function(r,t){var e=new RegExp("("+r+")","g"),i=new RegExp(r,"g");this.split=function(n){t&&(n=t(n));var a=n.match(e);if(!a)return{tags:[],strings:[n]};for(var s=n.split(i),o=a.length-1;o>-1;o--){typeof a[o]=="number"&&(a[o]="");var l=a[o];l==="'"&&s[o+1].length>0&&(s[o+1]=a[o]+s[o+1],a[o]="")}return{tags:a,strings:s,origStrings:s.slice()}},this.join=function(n){for(var a=n.strings.slice(-1),s=n.tags.length-1;s>-1;s--)a.push(n.tags[s]),a.push(n.strings[s]);return a.reverse(),a.join("")}};p.Engine.prototype.normalDecorIsOrphan=function(r,t){if(t[1]==="normal"){var e=!1,i;this.tmp.area==="citation"?i=[this.citation.opt.layout_decorations].concat(r.alldecor):i=r.alldecor;for(var n=i.length-1;n>-1;n+=-1)for(var a=i[n].length-1;a>-1;a+=-1)i[n][a][0]===t[0]&&i[n][a][1]!=="normal"&&(e=!0);if(!e)return!0}return!1};p.Engine.prototype.getCitationLabel=function(r){var t="",e=this.getTrigraphParams(),i=e[0],n=this.getTerm("reference","short",0);typeof n>"u"&&(n="reference"),n=n.replace(".",""),n=n.slice(0,1).toUpperCase()+n.slice(1);for(var a=0,s=p.NAME_VARIABLES.length;a<s;a+=1){var o=p.NAME_VARIABLES[a];if(r[o]){var l=r[o];l.length>e.length?i=e[e.length-1]:i=e[l.length-1];for(var u=0,f=l.length;u<f&&u!==i.authors.length;u+=1){var h=this.nameOutput.getName(l[u],"locale-translit",!0),c=h.name;c&&c.family?(n=c.family,n=n.replace(/^([ \'\u2019a-z]+\s+)/,"")):c&&c.literal&&(n=c.literal);var m=n.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(m&&(n=n.slice(m[1].length)),n=n.replace(p.ROMANESQUE_NOT_REGEXP,""),!n)break;n=n.slice(0,i.authors[u]),n.length>1?n=n.slice(0,1).toUpperCase()+n.slice(1).toLowerCase():n.length===1&&(n=n.toUpperCase()),t+=n}break}}if(!t&&r.title){for(var d=this.locale[this.opt.lang].opts["skip-words"],v=r.title.split(/\s+/),a=v.length-1;a>-1;a--)d.indexOf(v[a])>-1&&(v=v.slice(0,a).concat(v.slice(a+1)));var b=v.join("");b=b.slice(0,e[0].authors[0]),b.length>1?b=b.slice(0,1).toUpperCase()+b.slice(1).toLowerCase():b.length===1&&(b=b.toUpperCase()),t=b}var g="0000";return r.issued&&r.issued.year&&(g=""+r.issued.year),g=g.slice(i.year*-1),t=t+g,t};p.Engine.prototype.getTrigraphParams=function(){var r=[],t=this.opt.trigraph.split(":");(!this.opt.trigraph||this.opt.trigraph.slice(0,1)!=="A")&&p.error("Bad trigraph definition: "+this.opt.trigraph);for(var e=0,i=t.length;e<i;e+=1){for(var n=t[e],a={authors:[],year:0},s=0,o=n.length;s<o;s+=1)switch(n.slice(s,s+1)){case"A":a.authors.push(1);break;case"a":a.authors[a.authors.length-1]+=1;break;case"0":a.year+=1;break;default:p.error("Invalid character in trigraph definition: "+this.opt.trigraph)}r.push(a)}return r};p.Engine.prototype.setOutputFormat=function(r){this.opt.mode=r,this.fun.decorate=p.Mode(r),this.output[r]||(this.output[r]={},this.output[r].tmp={})};p.Engine.prototype.getSortFunc=function(){return function(r,t){return r=r.split("-"),t=t.split("-"),r.length<t.length?1:r.length>t.length?-1:(r=r.slice(-1)[0],t=t.slice(-1)[0],r.length<t.length?1:r.length>t.length?-1:0)}};p.Engine.prototype.setLangTagsForCslSort=function(r){var t,e;if(r)for(this.opt["locale-sort"]=[],t=0,e=r.length;t<e;t+=1)this.opt["locale-sort"].push(r[t]);this.opt["locale-sort"].sort(this.getSortFunc())};p.Engine.prototype.setLangTagsForCslTransliteration=function(r){var t,e;if(this.opt["locale-translit"]=[],r)for(t=0,e=r.length;t<e;t+=1)this.opt["locale-translit"].push(r[t]);this.opt["locale-translit"].sort(this.getSortFunc())};p.Engine.prototype.setLangTagsForCslTranslation=function(r){var t,e;if(this.opt["locale-translat"]=[],r)for(t=0,e=r.length;t<e;t+=1)this.opt["locale-translat"].push(r[t]);this.opt["locale-translat"].sort(this.getSortFunc())};p.Engine.prototype.setLangPrefsForCites=function(r,t){var e=this.opt["cite-lang-prefs"];t||(t=function(m){return m.toLowerCase()});for(var i=["Persons","Institutions","Titles","Journals","Publishers","Places"],n=0,a=i.length;n<a;n+=1){var s=t(i[n]),o=i[n].toLowerCase();if(r[s]){for(var l=[];r[s].length>1;)l.push(r[s].pop());var u={orig:1,translit:2,translat:3};for(l.length===2&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)r[s].push(l.pop());for(var f=e[o];f.length;)f.pop();for(var h=0,c=r[s].length;h<c;h+=1)f.push(r[s][h])}}};p.Engine.prototype.setLangPrefsForCiteAffixes=function(r){if(r&&r.length===48){for(var t=this.opt.citeAffixes,e=0,i=["persons","institutions","titles","journals","publishers","places"],n=["translit","orig","translit","translat"],a,s=0,o=i.length;s<o;s+=1)for(var l=0,u=n.length;l<u;l+=1)a="",e%8===4?!t[i[s]]["locale-"+n[l]].prefix&&!t[i[s]]["locale-"+n[l]].suffix&&(a=r[e]?r[e]:"",t[i[s]]["locale-"+n[l]].prefix=a,a=r[e]?r[e+1]:"",t[i[s]]["locale-"+n[l]].suffix=a):(a=r[e]?r[e]:"",t[i[s]]["locale-"+n[l]].prefix=a,a=r[e]?r[e+1]:"",t[i[s]]["locale-"+n[l]].suffix=a),e+=2;this.opt.citeAffixes=t}};p.Engine.prototype.setAutoVietnameseNamesOption=function(r){r?this.opt["auto-vietnamese-names"]=!0:this.opt["auto-vietnamese-names"]=!1};p.Engine.prototype.setAbbreviations=function(r){this.sys.setAbbreviations&&this.sys.setAbbreviations(r)};p.Engine.prototype.setSuppressTrailingPunctuation=function(r){this.citation.opt.suppressTrailingPunctuation=!!r};p.Output={};p.Output.Queue=function(r){this.levelname=["top"],this.state=r,this.queue=[],this.empty=new p.Token("empty");var t={};t.empty=this.empty,this.formats=new p.Stack(t),this.current=new p.Stack(this.queue)};p.Output.Queue.prototype.pop=function(){var r=this.current.value();return r.length?r.pop():r.blobs.pop()};p.Output.Queue.prototype.getToken=function(r){var t=this.formats.value()[r];return t};p.Output.Queue.prototype.mergeTokenStrings=function(r,t){var e,i,n,a;if(e=this.formats.value()[r],i=this.formats.value()[t],n=e,i){e||(e=new p.Token(r,p.SINGLETON),e.decorations=[]),n=new p.Token(r,p.SINGLETON);var a="";for(var a in e.strings)e.strings.hasOwnProperty(a)&&(n.strings[a]=e.strings[a]);for(var a in i.strings)i.strings.hasOwnProperty(a)&&(n.strings[a]=i.strings[a]);n.decorations=e.decorations.concat(i.decorations)}return n};p.Output.Queue.prototype.addToken=function(r,t,e){var i,n;if(i=new p.Token("output"),typeof e=="string"&&(e=this.formats.value()[e]),e&&e.strings){for(n in e.strings)e.strings.hasOwnProperty(n)&&(i.strings[n]=e.strings[n]);i.decorations=e.decorations}typeof t=="string"&&(i.strings.delimiter=t),this.formats.value()[r]=i};p.Output.Queue.prototype.pushFormats=function(r){r||(r={}),r.empty=this.empty,this.formats.push(r)};p.Output.Queue.prototype.popFormats=function(){this.formats.pop()};p.Output.Queue.prototype.startTag=function(r,t){var e={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(t=this.empty,r="empty"),e[r]=t,this.pushFormats(e),this.openLevel(r)};p.Output.Queue.prototype.endTag=function(r){this.closeLevel(r),this.popFormats()};p.Output.Queue.prototype.openLevel=function(r){var t,e;typeof r=="object"?t=new p.Blob(void 0,r):typeof r>"u"?t=new p.Blob(void 0,this.formats.value().empty,"empty"):((!this.formats.value()||!this.formats.value()[r])&&p.error('CSL processor error: call to nonexistent format token "'+r+'"'),t=new p.Blob(void 0,this.formats.value()[r],r)),e=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.prefix=this.checkNestedBrace.update(t.strings.prefix)),e.push(t),this.current.push(t)};p.Output.Queue.prototype.closeLevel=function(r){r&&r!==this.current.value().levelname&&p.error("Level mismatch error:  wanted "+r+" but found "+this.current.value().levelname);var t=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.suffix=this.checkNestedBrace.update(t.strings.suffix))};p.Output.Queue.prototype.append=function(r,t,e,i,n){var a,s,o,l=!0;if(e&&(i=!0),this.state.tmp["doing-macro-with-date"]&&!e){if(t!=="macro-with-date")return!1;t==="macro-with-date"&&(t="empty")}if(typeof r>"u"||(typeof r=="number"&&(r=""+r),!e&&this.state.tmp.element_trace&&this.state.tmp.element_trace.value()==="suppress-me"))return!1;if(s=!1,t?t==="literal"?(a=!0,l=!1):typeof t=="string"?a=this.formats.value()[t]:a=t:a=this.formats.value().empty,a||p.error("CSL processor error: unknown format token name: "+t),a.strings&&typeof a.strings.delimiter>"u"&&(a.strings.delimiter=""),typeof r=="string"&&r.length&&(r=r.replace(/ ([:;?!\u00bb])/g," $1").replace(/\u00ab /g,"« "),this.last_char_rendered=r.slice(-1),r=r.replace(/\s+'/g," '"),e||(r=r.replace(/^'/g," '")),i?e&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),s=new p.Blob(r,a),o=this.current.value(),typeof o>"u"&&this.current.mystack.length===0&&(this.current.mystack.push([]),o=this.current.value()),typeof s.blobs=="string"&&(i?e&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),typeof r=="string"){if(typeof s.blobs=="string"&&s.blobs.slice(0,1)!==" "){for(var u="",f=s.blobs;p.TERMINAL_PUNCTUATION.indexOf(f.slice(0,1))>-1;)u=u+f.slice(0,1),f=f.slice(1);f&&u&&(s.strings.prefix=s.strings.prefix+u,s.blobs=f)}s.strings["text-case"]&&(s.blobs=p.Output.Formatters[s.strings["text-case"]](this.state,r)),this.state.tmp.strip_periods&&!n&&(s.blobs=s.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var h=s.decorations.length-1;h>-1;h+=-1)s.decorations[h][0]==="@quotes"&&s.decorations[h][1]!=="false"&&(s.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),s.blobs.match(p.ROMANESQUE_REGEXP)||s.decorations[h][0]==="@font-style"&&(s.decorations=s.decorations.slice(0,h).concat(s.decorations.slice(h+1)));o.push(s),this.state.fun.flipflopper.processTags(s)}else l?o.push(s):o.push(r);return!0};p.Output.Queue.prototype.string=function(r,t,e){var i,n,a,s,o,l=p.getSafeEscape(this.state),u=t.slice(),f=[];if(u.length===0)return f;var h="";e?h=e.strings.delimiter:(r.tmp.count_offset_characters=!1,r.tmp.offset_characters=0),e&&e.new_locale&&(e.old_locale=r.opt.lang,r.opt.lang=e.new_locale);for(var c,m,d,v,i=0,n=u.length;i<n;i+=1){if(c=u[i],c.strings.first_blob&&(r.tmp.count_offset_characters=c.strings.first_blob),typeof c.blobs=="string"){if(typeof c.num=="number")f.push(c);else if(c.blobs){c.particle&&(c.blobs=c.particle+c.blobs,c.particle=""),o=l(c.blobs);var b=o.length;if(!r.tmp.suppress_decorations)for(a=0,s=c.decorations.length;a<s;a+=1)v=c.decorations[a],v[0]!=="@showid"&&(r.normalDecorIsOrphan(c,v)||(o=r.fun.decorate[v[0]][v[1]].call(c,r,o,v[2])));if(o&&o.length){if(o=l(c.strings.prefix)+o+l(c.strings.suffix),r.opt.development_extensions.csl_reverse_lookup_support&&!r.tmp.suppress_decorations)for(a=0,s=c.decorations.length;a<s;a+=1)v=c.decorations[a],v[0]==="@showid"&&(o=r.fun.decorate[v[0]][v[1]].call(c,r,o,v[2]));f.push(o),r.tmp.count_offset_characters&&(r.tmp.offset_characters+=b+c.strings.suffix.length+c.strings.prefix.length)}}}else if(c.blobs.length){var g=r.output.string(r,c.blobs,c);if(e&&g!=="string"&&g.length>1&&c.strings.delimiter)for(var y=!1,a=0,s=g.length;a<s;a++)typeof g[a]!="string"?y=!0:y&&(g[a]=c.strings.delimiter+g[a]);f=f.concat(g)}c.strings.first_blob&&r.registry.registry[c.strings.first_blob]&&(r.registry.registry[c.strings.first_blob].offset=r.tmp.offset_characters,r.tmp.count_offset_characters=!1)}for(i=0,n=f.length-1;i<n;i+=1)typeof f[i].num=="number"&&typeof f[i+1].num=="number"&&!f[i+1].UGLY_DELIMITER_SUPPRESS_HACK&&(f[i].strings.suffix=f[i].strings.suffix+(h||""),f[i+1].successor_prefix="",f[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);for(var _=0,i=0,n=f.length;i<n;i+=1)typeof f[i]=="string"&&(_=parseInt(i,10)+1,i<f.length-1&&typeof f[i+1]=="object"&&(h&&!f[i+1].UGLY_DELIMITER_SUPPRESS_HACK&&(f[i]+=l(h)),f[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(e&&(e.decorations.length||e.strings.suffix))_=f.length;else if(e&&e.strings.prefix){for(var i=0,n=f.length;i<n;i++)if(typeof f[i].num<"u"){_=i,i===0&&(f[i].strings.prefix=e.strings.prefix+f[i].strings.prefix);break}}var w=r.output.renderBlobs(f.slice(0,_),h,!1,e);if(w&&e&&(e.decorations.length||e.strings.suffix||e.strings.prefix)){if(!r.tmp.suppress_decorations)for(var i=0,n=e.decorations.length;i<n;i+=1)v=e.decorations[i],!(["@cite","@bibliography","@display","@showid"].indexOf(v[0])>-1)&&(r.normalDecorIsOrphan(c,v)||v[0]&&typeof w=="string"&&(w=r.fun.decorate[v[0]][v[1]].call(e,r,w,v[2])));if(o=w,m=e.strings.suffix,o&&o.length&&(d=e.strings.prefix,o=l(d)+o+l(m),r.tmp.count_offset_characters&&(r.tmp.offset_characters+=d.length+m.length)),w=o,!r.tmp.suppress_decorations)for(var i=0,n=e.decorations.length;i<n;i+=1)v=e.decorations[i],["@cite","@bibliography","@display","@showid"].indexOf(v[0])!==-1&&typeof w=="string"&&(w=r.fun.decorate[v[0]][v[1]].call(e,r,w,v[2]))}var O=f.slice(_,f.length);return!O.length&&w?f=[w]:O.length&&!w?f=O:w&&O.length&&(f=[w].concat(O)),typeof e>"u"?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),r.tmp.suppress_decorations&&(f=r.output.renderBlobs(f,void 0,!1))):typeof e=="boolean"&&(f=r.output.renderBlobs(f,void 0,!0)),e&&e.new_locale&&(r.opt.lang=e.old_locale),f};p.Output.Queue.prototype.clearlevel=function(){var r,t,e;for(r=this.current.value(),e=r.blobs.length,t=0;t<e;t+=1)r.blobs.pop()};p.Output.Queue.prototype.renderBlobs=function(r,t,e,i){var n,a,s,o,l,u,f,h,c,m,d;if(d=p.getSafeEscape(this.state),t||(t=""),n=this.state,a="",s="",u=r.length,this.state.tmp.area==="citation"&&!this.state.tmp.just_looking&&u===1&&typeof r[0]=="object"&&i)return r[0].strings.prefix=i.strings.prefix+r[0].strings.prefix,r[0].strings.suffix=r[0].strings.suffix+i.strings.suffix,r[0].decorations=r[0].decorations.concat(i.decorations),r[0].params=i.params,r[0];var v=!0;for(l=0;l<u;l+=1)r[l].checkNext?(r[l].checkNext(r[l+1],v),v=!1):r[l+1]&&r[l+1].splice_prefix?v=!1:v=!0;var b=!0;for(l=r.length-1;l>0;l+=-1)r[l].checkLast?b&&r[l].checkLast(r[l-1])&&(b=!1):b=!0;for(u=r.length,l=0;l<u;l+=1)if(o=r[l],a&&(s=t),typeof o=="string")a+=d(s),a+=o,n.tmp.count_offset_characters&&(n.tmp.offset_characters+=s.length);else if(e)a?a=[a,o]:a=[o];else if(o.status!==p.SUPPRESS){o.particle?c=o.particle+o.num:c=o.formatter.format(o.num,o.gender);var g=c.replace(/<[^>]*>/g,"").length;this.append(c,"empty",!0);var y=this.pop(),_=n.tmp.count_offset_characters;if(c=this.string(n,[y],!1),n.tmp.count_offset_characters=_,o.strings["text-case"]&&(c=p.Output.Formatters[o.strings["text-case"]](this.state,c)),c&&this.state.tmp.strip_periods&&(c=c.replace(/\.([^a-z]|$)/g,"$1")),!n.tmp.suppress_decorations)for(h=o.decorations.length,f=0;f<h;f+=1)m=o.decorations[f],!n.normalDecorIsOrphan(o,m)&&(c=n.fun.decorate[m[0]][m[1]].call(o,n,c,m[2]));c=d(o.strings.prefix)+c+d(o.strings.suffix);var w="";o.status===p.END?w=d(o.range_prefix):o.status===p.SUCCESSOR?w=d(o.successor_prefix):o.status===p.START?l>0&&!o.suppress_splice_prefix?w=d(o.splice_prefix):w="":o.status===p.SEEN&&(w=d(o.splice_prefix)),a+=w,a+=c,n.tmp.count_offset_characters&&(n.tmp.offset_characters+=w.length+o.strings.prefix.length+g+o.strings.suffix.length)}return a};p.Output.Queue.purgeEmptyBlobs=function(r){if(!(typeof r!="object"||typeof r.blobs!="object"||!r.blobs.length))for(var t=r.blobs.length-1;t>-1;t--){p.Output.Queue.purgeEmptyBlobs(r.blobs[t]);var e=r.blobs[t];if(!e||!e.blobs||!e.blobs.length){for(var i=[];r.blobs.length-1>t;)i.push(r.blobs.pop());for(r.blobs.pop();i.length;)r.blobs.push(i.pop())}}};p.Output.Queue.adjust=function(r){var t={";":!0,":":!0},e={".":!0,"!":!0,"?":!0},i={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},n={},a={},s={},o={};for(var l in i)s[l]=!0,o[l]=!0,t[l]||(n[l]=!0),e[l]||(a[l]=!0);o[" "]=!0,o[" "]=!0;var u={};for(var l in i)for(var f in i[l])u[f]||(u[f]={}),u[f][l]=i[l][f];function h(T){return typeof T.num=="number"||T.blobs&&T.blobs.length===1&&typeof T.blobs[0].num=="number"}function c(T){if(typeof T.num=="number")return!0;if(!T.blobs||typeof T.blobs!="object")return!1;if(c(T.blobs[T.blobs.length-1]))return!0}function m(T,E){var q=!1,k=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(E&&k.push("@quotes"),T.decorations){for(var j=0,J=T.decorations.length;j<J;j++)if(k.indexOf(T.decorations[j][0])>-1){q=!0;break}}return q}function d(T){if(T.decorations){for(var E=0,q=T.decorations.length;E<q;E++)if(T.decorations[E][0]==="@quotes"&&T.decorations[E][1]!=="false")return!0}return typeof T.blobs!="object"?!1:d(T.blobs[T.blobs.length-1])}function v(T,E){var q=E.strings.suffix.slice(-1);!q&&typeof E.blobs=="string"&&(q=E.blobs.slice(-1));var k=u[T][q];return k&&k.length===1?!0:typeof E.blobs!="object"?!1:!!v(T,E.blobs[E.blobs.length-1])}function b(T,E){if(!s[E])return!1;if(typeof T.blobs=="string")return T.blobs.slice(-1)===E;var q=T.blobs[T.blobs.length-1];if(q){var k=q.strings.suffix.slice(-1);return k?q.strings.suffix.slice(-1)==E:b(q,E)}else return!1}function g(T,E,q,k,j){var J=E==="blobs"?T:T.strings,Q=k==="blobs"?q:q.strings,R=J[E].slice(-1),B=Q[k].slice(0,1);function U(){Q[k]=Q[k].slice(1)}function te(){J[E]=J[E].slice(0,-1)}function de(pe){Q[k]=pe+Q[k]}function me(pe){J[E]+=pe}var ee=j?te:U;function re(){return u[B]}function ue(){return i[R]}var Te=j?ue:re;function we(){var pe=i[R][B];typeof pe=="string"?(te(),U(),de(pe)):(de(R),te())}function xe(){var pe=u[B][R];typeof pe=="string"?(te(),U(),me(pe)):(me(B),U())}var Oe=j?we:xe,Ie=R===B;Ie?ee():Te()&&Oe()}function y(T){if(T.blobs&&typeof T.blobs=="string"){s[T.strings.suffix.slice(0,1)]&&T.strings.suffix.slice(0,1)===T.blobs.slice(-1)&&(T.strings.suffix=T.strings.suffix.slice(1));return}else if(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)return;for(var E=m(T,!0),q=T.blobs.length-1;q>-1;q--){this.upward(T.blobs[q]);var k=T.strings,j=T.blobs[q].strings;if(q===0){k.prefix.slice(-1)===" "&&j.prefix.slice(0,1)===" "&&(j.prefix=j.prefix.slice(1));var J=j.prefix.slice(0,1);!E&&o[J]&&!k.prefix&&(k.prefix+=J,j.prefix=j.prefix.slice(1))}if(q===T.blobs.length-1){var J=j.suffix.slice(-1);!E&&[" "].indexOf(J)>-1&&(k.suffix.slice(0,1)!==J&&(k.suffix=J+k.suffix),j.suffix=j.suffix.slice(0,-1))}k.delimiter&&q>0&&o[k.delimiter.slice(-1)]&&k.delimiter.slice(-1)===j.prefix.slice(0,1)&&(j.prefix=j.prefix.slice(1))}}function _(T){if(!(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)){for(var E=T.blobs.length-1;E>-1;E--)if(this.leftward(T.blobs[E]),E<T.blobs.length-1&&!T.strings.delimiter){var q=T.blobs[E],k=q.strings.suffix.slice(-1),j=T.blobs[E+1],J=j.strings.prefix.slice(0,1),Q=m(q)||m(j),R=typeof k=="number"||typeof J=="number";if(!Q&&!R&&s[J]&&!R){var B=J===q.strings.suffix.slice(-1),U=!q.strings.suffix&&typeof q.blobs=="string"&&q.blobs.slice(-1)===J;!B&&!U?g(q,"suffix",j,"prefix"):j.strings.prefix=j.strings.prefix.slice(1)}}}}function w(T){if(T.blobs&&typeof T.blobs=="string"){s[T.strings.suffix.slice(0,1)]&&T.strings.suffix.slice(0,1)===T.blobs.slice(-1)&&(T.strings.suffix=T.strings.suffix.slice(1));return}else if(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)return;for(var E=T.strings,q=0,k=T.blobs.length;q<k&&!h(T.blobs[q]);q++);if(E.delimiter&&s[E.delimiter.slice(0,1)]){for(var j=E.delimiter.slice(0,1),q=T.blobs.length-2;q>-1;q--){var J=T.blobs[q].strings;J.suffix.slice(-1)!==j&&(J.suffix+=j)}E.delimiter=E.delimiter.slice(1)}for(var q=T.blobs.length-1;q>-1;q--){var Q=T.blobs[q],J=T.blobs[q].strings,R=m(Q,!0),B=h(Q);if(q===T.blobs.length-1){{var U=E.suffix.slice(0,1),te=!1;s[U]&&(te=v(U,Q),!te&&r&&(te=d(Q))),te&&s[U]&&(c(Q)||(typeof Q.blobs=="string"?g(Q,"blobs",T,"suffix"):g(Q,"suffix",T,"suffix"),E.suffix.slice(0,1)==="."&&(J.suffix+=E.suffix.slice(0,1),E.suffix=E.suffix.slice(1)))),J.suffix.slice(-1)===" "&&E.suffix.slice(0,1)===" "&&(E.suffix=E.suffix.slice(1)),o[J.suffix.slice(0,1)]&&(typeof Q.blobs=="string"&&Q.blobs.slice(-1)===J.suffix.slice(0,1)&&(J.suffix=J.suffix.slice(1)),J.suffix.slice(-1)===E.suffix.slice(0,1)&&(E.suffix=E.suffix.slice(0,-1)))}b(T,T.strings.suffix.slice(0,1))&&(T.strings.suffix=T.strings.suffix.slice(1))}else if(E.delimiter)o[E.delimiter.slice(0,1)]&&E.delimiter.slice(0,1)===J.suffix.slice(-1)&&(T.blobs[q].strings.suffix=T.blobs[q].strings.suffix.slice(0,-1));else{var de=T.blobs[q+1].strings;!h(Q)&&!R&&o[J.suffix.slice(-1)]&&J.suffix.slice(-1)===de.prefix.slice(0,1)&&(de.prefix=de.prefix.slice(1))}!B&&!R&&s[J.suffix.slice(0,1)]&&typeof Q.blobs=="string"&&g(Q,"blobs",Q,"suffix"),this.downward(T.blobs[q])}}function O(T){var E=T.strings.suffix.slice(0,1);if(typeof T.blobs=="string")for(;n[E];)g(T,"blobs",T,"suffix"),E=T.strings.suffix.slice(0,1);else for(;n[E];)g(T.blobs[T.blobs.length-1],"suffix",T,"suffix"),E=T.strings.suffix.slice(0,1)}function I(T){if(typeof T.blobs=="string")for(var E=T.blobs.slice(-1);a[E];)g(T,"blobs",T,"suffix",!0),E=T.blobs.slice(-1);else for(var E=T.blobs[T.blobs.length-1].strings.suffix.slice(-1);a[E];)g(T.blobs[T.blobs.length-1],"suffix",T,"suffix",!0),E=T.blobs[T.blobs.length-1].strings.suffix.slice(-1)}function M(T){if(!(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)){for(var E,q=0,k=T.blobs.length;q<k;q++){for(var j=T.blobs[q],J=!1,Q=0,R=j.decorations.length;Q<R;Q++){var B=j.decorations[Q];B[0]==="@quotes"&&B[1]!=="false"&&(J=!0)}J&&(r?O(j):I(j)),E=this.fix(T.blobs[q]),j.blobs&&typeof j.blobs=="string"&&(E=j.blobs.slice(-1))}return E}}this.upward=y,this.leftward=_,this.downward=w,this.fix=M};p.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=p.NONE,this.bib_mode=p.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1};p.Engine.Tmp=function(){this.names_max=new p.Stack,this.names_base=new p.Stack,this.givens_base=new p.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new p.Stack(0,p.LITERAL),this.element_rendered_ok=!1,this.element_trace=new p.Stack("style"),this.nameset_counter=0,this.group_context=new p.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new p.Stack(0,p.LITERAL),this.decorations=new p.Stack,this.tokenstore_stack=new p.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new p.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new p.AmbigConfig,this.bib_sort_keys=[],this.prefix=new p.Stack("",p.LITERAL),this.suffix=new p.Stack("",p.LITERAL),this.delimiter=new p.Stack("",p.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]};p.Engine.Fun=function(r){this.match=new p.Util.Match,this.suffixator=new p.Util.Suffixator(p.SUFFIX_CHARS),this.romanizer=new p.Util.Romanizer,this.ordinalizer=new p.Util.Ordinalizer(r),this.long_ordinalizer=new p.Util.LongOrdinalizer};p.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new p.Stack(0,p.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0};p.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]};p.Engine.Citation=function(r){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new p.Registry.Comparifier(r,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"};p.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"};p.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=p.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"};p.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"};p.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"};p.Engine.prototype.previewCitationCluster=function(r,t,e,i){var n=this.opt.mode;this.setOutputFormat(i),r.citationID&&delete r.citationID;var a=this.processCitationCluster(r,t,e,p.PREVIEW);return this.setOutputFormat(n),a[1]};p.Engine.prototype.appendCitationCluster=function(r){for(var t=[],e=this.registry.citationreg.citationByIndex.length,i=0;i<e;i+=1){var n=this.registry.citationreg.citationByIndex[i];t.push([""+n.citationID,n.properties.noteIndex])}return this.processCitationCluster(r,t,[])[1]};p.Engine.prototype.processCitationCluster=function(r,t,e,i){var n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(r);var I,M,T;if(i===p.PREVIEW){this.debug&&p.debug("****** start state save *********"),I=this.registry.citationreg.citationByIndex.slice(),M=this.registry.reflist.slice();for(var E=t.concat(e),q={},k=[],o=0,l=E.length;o<l;o+=1)for(n=this.registry.citationreg.citationById[E[o][0]],u=0,f=n.citationItems.length;u<f;u+=1)q[n.citationItems[u].id]=!0,k.push(""+n.citationItems[u].id);for(u=0,f=r.citationItems.length;u<f;u+=1)q[r.citationItems[u].id]=!0,k.push(""+r.citationItems[u].id);T={};for(var o=0,l=M.length;o<l;o+=1)if(!q[M[o].id]){var j=this.registry.registry[M[o].id].ambig,J=this.registry.ambigcites[j];if(J)for(u=0,f=J.length;u<f;u+=1)T[J[u]]=p.cloneAmbigConfig(this.registry.registry[J[u]].disambig)}this.debug&&p.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};for(var Q=[],R={},o=0,l=r.citationItems.length;o<l;o+=1){g={};for(var v in r.citationItems[o])g[v]=r.citationItems[o][v];if(b=this.retrieveItem(""+g.id),b.id&&this.transform.loadAbbreviation("default","hereinafter",b.id,b.language),g=p.parseLocator.call(this,g),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[b,g]]),this.opt.development_extensions.locator_label_parse&&g.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(b.type)===-1&&(!g.label||g.label==="page")){var w=p.LOCATOR_LABELS_REGEXP.exec(g.locator);if(w){var B=p.LOCATOR_LABELS_MAP[w[2]];this.getTerm(B)&&(g.label=B,g.locator=w[3])}}var U=[b,g];Q.push(U),r.citationItems[o].item=b}r.sortedItems=Q;var te=[],de={},me;for(o=0,l=t.length;o<l;o+=1)a=t[o],this.opt.development_extensions.strict_inputs&&(de[a[0]]&&p.error("Previously referenced citationID "+a[0]+" encountered in citationsPre"),a[1]&&(me>a[1]&&p.debug("Note index sequence is not sane at citationsPre["+o+"]"),me=a[1])),this.registry.citationreg.citationById[a[0]].properties.noteIndex=a[1],te.push(this.registry.citationreg.citationById[a[0]]),de[a[0]]=this.registry.citationreg.citationById[a[0]];for(r.properties||(r.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(de[r.citationID]&&p.error("Citation with previously referenced citationID "+r.citationID),r.properties.noteIndex&&(me>r.properties.noteIndex&&p.debug("Note index sequence is not sane for citation "+r.citationID),me=r.properties.noteIndex)),te.push(r),de[r.citationID]=r,o=0,l=e.length;o<l;o+=1)s=e[o],this.opt.development_extensions.strict_inputs&&(de[s[0]]&&p.error("Previously referenced citationID "+s[0]+" encountered in citationsPost"),s[1]&&(me>s[1]&&p.debug("Note index sequence is not sane at postCitation["+o+"]"),me=s[1])),this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1],te.push(this.registry.citationreg.citationById[s[0]]),de[s[0]]=this.registry.citationreg.citationById[s[0]];this.registry.citationreg.citationByIndex=te,this.registry.citationreg.citationById=de,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===p.POSITION&&(_=[],y=[],O={});for(var ee=[],o=0,l=te.length;o<l;o+=1){for(te[o].properties.index=o,u=0,f=te[o].sortedItems.length;u<f;u+=1)g=te[o].sortedItems[u],this.registry.citationreg.citationsByItemId[g[1].id]||(this.registry.citationreg.citationsByItemId[g[1].id]=[],ee.push(""+g[1].id)),this.registry.citationreg.citationsByItemId[g[1].id].indexOf(te[o])===-1&&this.registry.citationreg.citationsByItemId[g[1].id].push(te[o]);this.opt.update_mode===p.POSITION&&(te[o].properties.noteIndex?y.push(te[o]):(te[o].properties.noteIndex=0,_.push(te[o])))}if(i!==p.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&p.debug("****** start update items *********"),this.updateItems(ee,null,null,!0),this.debug&&p.debug("****** endo update items *********")),!this.opt.citation_number_sort&&Q&&Q.length>1&&this.citation_sort.tokens.length>0){for(var o=0,l=Q.length;o<l;o+=1)Q[o][1].sortkeys=p.getSortKeys.call(this,Q[o][0],"citation_sort");if(this.opt.grouped_sort&&!r.properties.unsorted){for(var o=0,l=Q.length;o<l;o+=1){var re=Q[o][1].sortkeys;this.tmp.authorstring_request=!0;var ue=this.registry.registry[Q[o][0].id].disambig;this.tmp.authorstring_request=!0,p.getAmbiguousCite.call(this,Q[o][0],ue);var Te=this.registry.authorstrings[Q[o][0].id];this.tmp.authorstring_request=!1,Q[o][1].sortkeys=[Te].concat(re)}Q.sort(this.citation.srt.compareCompositeKeys);for(var we=!1,xe=!1,Oe=!1,o=0,l=Q.length;o<l;o+=1)Q[o][1].sortkeys[0]!==we&&(Oe=Q[o][1].sortkeys[0],xe=Q[o][1].sortkeys[1]),Q[o][1].sortkeys[0]=""+xe+o,we=Oe}r.properties.unsorted||Q.sort(this.citation.srt.compareCompositeKeys)}this.opt.parallel.enable&&this.parallel.StartCitation(r.sortedItems);var Ie;if(this.opt.update_mode===p.POSITION)for(var o=0;o<2;o+=1){var pe={},be={},W={};for(Ie=[_,y][o],u=0,f=Ie.length;u<f;u+=1){var ae=Ie[u];for(Ie[u].properties.noteIndex||(Ie[u].properties.noteIndex=0),Ie[u].properties.noteIndex=parseInt(Ie[u].properties.noteIndex,10),u>0&&ae.properties.noteIndex&&Ie[u-1].properties.noteIndex>ae.properties.noteIndex&&(O={},pe={},be={},W={}),h=0,c=ae.sortedItems.length;h<c;h+=1)ae.sortedItems[h][1].parallel&&ae.sortedItems[h][1].parallel!=="first"||(O[ae.properties.noteIndex]?O[ae.properties.noteIndex]+=1:O[ae.properties.noteIndex]=1);for(h=0,c=Ie[u].sortedItems.length;h<c;h+=1){g=Ie[u].sortedItems[h];var ze=g[0].id,Le=g[0].legislation_id?g[0].legislation_id:g[0].id,Ge=g[0].legislation_id?g[0].legislation_id:g[0].container_id?g[0].container_id:g[0].id,G=g[1]["locator-extra"],C=g[1].locator,N=g[1].label,Z,he;if(h>0)if(ae.sortedItems[h-1][0].legislation_id)Z=ae.sortedItems[h-1][0].legislation_id;else{Z=ae.sortedItems[h-1][1].id,he=ae.sortedItems[h-1][1]["locator-extra"];for(var ke=h-2;ke>-1;ke--)ae.sortedItems[ke][1].parallel==="first"&&(Z=ae.sortedItems[ke][1].id,he=ae.sortedItems[ke][1]["locator-extra"])}if(i===p.PREVIEW&&ae.citationID!=r.citationID){typeof pe[g[1].id]>"u"&&(pe[Le]=ae.properties.noteIndex),be[Ge]=ae.properties.noteIndex;continue}var Ne={};if(Ne.position=g[1].position,Ne["first-reference-note-number"]=g[1]["first-reference-note-number"],Ne["first-container-reference-note-number"]=g[1]["first-container-reference-note-number"],Ne["near-note"]=g[1]["near-note"],g[1]["first-reference-note-number"]=0,g[1]["first-container-reference-note-number"]=0,g[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[ze]&&this.opt.xclass==="note"&&this.opt.has_disambiguate){var ot=this.registry.registry[g[0].id]["citation-count"],bt=this.registry.citationreg.citationsByItemId[ze].length;if(this.registry.registry[g[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[ze].length,typeof ot=="number"){var mt=ot<2,Wt=bt<2;if(mt!==Wt)for(var ke=0,wt=this.registry.citationreg.citationsByItemId[ze].length;ke<wt;ke++)R[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[ze][ke].citationID]=!0}else for(var ke=0,wt=this.registry.citationreg.citationsByItemId[ze].length;ke<wt;ke++)R[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[ze][ke].citationID]=!0}var hr,Mr;if(typeof be[Ge]>"u"&&ae.properties.mode!=="author-only")pe[Le]=ae.properties.noteIndex,be[Ge]=ae.properties.noteIndex,W[Ge]=ae.properties.noteIndex,g[1].position=p.POSITION_FIRST;else{var yr=!1,wr=!1,$r=null;if(u>0)var $r=Ie[u-1];var Ia=Ie[u];if(u>0){var kn=1;$r.properties.mode==="author-only"&&u>1&&(kn=2);var cn=u-kn;Ie[cn].sortedItems.length&&(hr=Ie[cn].sortedItems.slice(-1)[0][1].id,Mr=Ie[u-kn].sortedItems.slice(-1)[0][1]["locator-extra"]),$r.sortedItems.length&&$r.sortedItems[0].slice(-1)[0].legislation_id&&(hr=$r.sortedItems[0].slice(-1)[0].legislation_id)}if(u>0&&h===0&&$r.properties.noteIndex!==Ia.properties.noteIndex){var sl=!1,ol=$r.sortedItems[0][0].id;if($r.sortedItems[0][0].legislation_id&&(ol=$r.sortedItems[0][0].legislation_id),ol==Le&&$r.properties.noteIndex>=Ia.properties.noteIndex-1){var zi=$r.sortedItems[0][1]["locator-extra"],Tn=Ia.sortedItems[0][1]["locator-extra"];(O[$r.properties.noteIndex]===1||$r.properties.noteIndex===0)&&zi===Tn&&(sl=!0)}sl?yr=!0:wr=!0}else h>0&&Z==Le&&he==G||h===0&&u>0&&$r.properties.noteIndex==Ia.properties.noteIndex&&$r.sortedItems.length&&hr==Le&&Mr==G?yr=!0:wr=!0;var hn,xr,to,Br,ro;yr&&(h>0?hn=ae.sortedItems[h-1][1]:hn=Ie[u-1].sortedItems[0][1],hn.locator?(hn.label?to=hn.label:to="",xr=""+hn.locator+to):xr=hn.locator,C?(N?ro=N:ro="",Br=""+C+ro):Br=C),yr&&xr&&!Br&&(yr=!1,wr=!0),yr&&(!xr&&Br?g[1].position=p.POSITION_IBID_WITH_LOCATOR:!xr&&!Br||xr&&Br===xr?g[1].position=p.POSITION_IBID:xr&&Br&&Br!==xr?g[1].position=p.POSITION_IBID_WITH_LOCATOR:(yr=!1,wr=!0)),wr&&(g[1].position=p.POSITION_CONTAINER_SUBSEQUENT,typeof pe[Le]>"u"?pe[Le]=ae.properties.noteIndex:g[1].position=p.POSITION_SUBSEQUENT),(wr||yr)&&(ae.properties.mode==="author-only"&&(g[1].position=p.POSITION_FIRST),W[Ge]!=ae.properties.noteIndex&&(g[1]["first-container-reference-note-number"]=W[Ge],this.registry.registry[g[0].id]&&(this.registry.registry[g[0].id]["first-container-reference-note-number"]=W[Ge])),pe[Le]!=ae.properties.noteIndex&&(g[1]["first-reference-note-number"]=pe[Le],this.registry.registry[g[0].id]&&(this.registry.registry[g[0].id]["first-reference-note-number"]=pe[Le])))}if(ae.properties.noteIndex){var Uu=parseInt(ae.properties.noteIndex,10)-parseInt(be[Ge],10);g[1].position!==p.POSITION_FIRST&&Uu<=this.citation.opt["near-note-distance"]&&(g[1]["near-note"]=!0),be[Ge]=ae.properties.noteIndex}else g[1].position!==p.POSITION_FIRST&&(g[1]["near-note"]=!0);if(ae.citationID!=r.citationID)for(m=0,d=p.POSITION_TEST_VARS.length;m<d;m+=1){var Fr=p.POSITION_TEST_VARS[m];g[1][Fr]!==Ne[Fr]&&(this.registry.registry[g[0].id]&&Fr==="first-reference-note-number"&&(R[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedItemIDs[g[0].id]=!0),this.tmp.taintedCitationIDs[ae.citationID]=!0)}this.sys.variableWrapper&&(g[1].index=ae.properties.index,g[1].noteIndex=ae.properties.noteIndex)}}}if(this.opt.citation_number_sort&&Q&&Q.length>1&&this.citation_sort.tokens.length>0&&!r.properties.unsorted){for(var o=0,l=Q.length;o<l;o+=1)Q[o][1].sortkeys=p.getSortKeys.call(this,Q[o][0],"citation_sort");Q.sort(this.citation.srt.compareCompositeKeys)}for(var v in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(v)&&(Ie=this.registry.citationreg.citationsByItemId[v],Ie))for(var o=0,l=Ie.length;o<l;o+=1)this.tmp.taintedCitationIDs[Ie[o].citationID]=!0;var si=[];if(i===p.PREVIEW){this.debug&&p.debug("****** start run processor *********");try{si=this.process_CitationCluster.call(this,r.sortedItems,r)}catch(Ca){p.error("Error running CSL processor for preview: "+Ca)}this.debug&&(p.debug("****** end run processor *********"),p.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=I,this.registry.citationreg.citationById={};for(var o=0,l=I.length;o<l;o+=1)this.registry.citationreg.citationById[I[o].citationID]=I[o];this.debug&&p.debug("****** start final update *********");for(var ll=[],o=0,l=M.length;o<l;o+=1)ll.push(""+M[o].id);this.updateItems(ll,null,null,!0),this.debug&&p.debug("****** end final update *********");for(var v in T)T.hasOwnProperty(v)&&(this.registry.registry[v].disambig=T[v]);this.debug&&p.debug("****** end state restore *********")}else{for(var On in R)this.disambiguate.run(On,r);var oi;for(var v in this.tmp.taintedCitationIDs)if(v!=r.citationID){var lr=this.registry.citationreg.citationById[v];if(!lr.properties.unsorted){for(var o=0,l=lr.sortedItems.length;o<l;o+=1)lr.sortedItems[o][1].sortkeys=p.getSortKeys.call(this,lr.sortedItems[o][0],"citation_sort");lr.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=lr.properties.index,this.tmp.citation_note_index=lr.properties.noteIndex,this.tmp.citation_id=""+lr.citationID,oi=[],oi.push(lr.properties.index),oi.push(this.process_CitationCluster.call(this,lr.sortedItems,lr)),oi.push(lr.citationID),si.push(oi)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=r.properties.index,this.tmp.citation_note_index=r.properties.noteIndex,this.tmp.citation_id=""+r.citationID,oi=[],oi.push(t.length),oi.push(this.process_CitationCluster.call(this,Q,r)),oi.push(r.citationID),si.push(oi),si.sort(function(Ca,mn){return Ca[0]>mn[0]?1:Ca[0]<mn[0]?-1:0})}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,si]};p.Engine.prototype.process_CitationCluster=function(r,t){var e="";if(t&&t.properties&&t.properties.mode==="composite"){t.properties.mode="author-only";var i=p.getCitationCluster.call(this,r,t);t.properties.mode="suppress-author";var n="";t.properties.infix&&(this.output.append(t.properties.infix),n=this.output.string(this,this.output.queue),typeof n=="object"&&(n=n.join("")));var a=p.getCitationCluster.call(this,r,t);t.properties.mode="composite",i&&n&&p.SWAPPING_PUNCTUATION.concat(["’","'"]).indexOf(n[0])>-1&&(i+=n,n=!1),e=[i,n,a].filter(function(s){return s}).join(" ")}else e=p.getCitationCluster.call(this,r,t);return e};p.Engine.prototype.makeCitationCluster=function(r){var t,e,f,i,n,a,s;for(t=[],n=r.length,i=0;i<n;i+=1){a={};for(var o in r[i])a[o]=r[i][o];if(s=this.retrieveItem(""+a.id),this.opt.development_extensions.locator_label_parse&&a.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(s.type)===-1&&(!a.label||a.label==="page")){var l=p.LOCATOR_LABELS_REGEXP.exec(a.locator);if(l){var u=p.LOCATOR_LABELS_MAP[l[2]];this.getTerm(u)&&(a.label=u,a.locator=l[3])}}a.locator&&(a.locator=(""+a.locator).replace(/\s+$/,"")),e=[s,a],t.push(e)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(t),t&&t.length>1&&this.citation_sort.tokens.length>0){for(n=t.length,i=0;i<n;i+=1)t[i][1].sortkeys=p.getSortKeys.call(this,t[i][0],"citation_sort");t.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_errors=[];var f=p.getCitationCluster.call(this,t);return f};p.getAmbiguousCite=function(r,t,e,i){var c,n=this.tmp.group_context.tip,a={term_intended:n.term_intended,variable_attempt:n.variable_attempt,variable_success:n.variable_success,output_tip:n.output_tip,label_form:n.label_form,non_parallel:n.non_parallel,parallel_last:n.parallel_last,parallel_first:n.parallel_first,parallel_last_override:n.parallel_last_override,parallel_delimiter_override:n.parallel_delimiter_override,parallel_delimiter_override_on_suppress:n.parallel_delimiter_override_on_suppress,condition:n.condition,force_suppress:n.force_suppress,done_vars:n.done_vars.slice()};t?this.tmp.disambig_request=t:this.tmp.disambig_request=!1;var s={position:p.POSITION_SUBSEQUENT,"near-note":!0};i&&(s.locator=i.locator,s.label=i.label),this.registry.registry[r.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[r.id]&&this.registry.citationreg.citationsByItemId[r.id].length&&e&&this.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(s["first-reference-note-number"]=this.registry.registry[r.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var o=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,p.getCite.call(this,r,s,null,!1);for(var l=0,u=this.output.queue.length;l<u;l+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[l]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var f=0,h=this.output.queue.length;f<h;f+=1)this.output.adjust.upward(this.output.queue[f]),this.output.adjust.leftward(this.output.queue[f]),this.output.adjust.downward(this.output.queue[f]),this.output.adjust.fix(this.output.queue[f]);var c=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=o,this.tmp.group_context.replace(a),c};p.getSpliceDelimiter=function(r,t,e){if(this.citation.opt["after-collapse-delimiter"]!==void 0)r?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:t&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:!t&&!this.tmp.have_collapsed&&this.citation.opt.collapse!=="year-suffix"?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:this.tmp.splice_delimiter=this.citation.opt.layout_delimiter;else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&this.opt.xclass==="in-text"&&this.opt.update_mode!==p.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[e-1]){var i=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[e-1]];i&&i.delimiter&&(this.tmp.splice_delimiter=i.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter};p.getCitationCluster=function(r,t){var e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I,M="";this.output.checkNestedBrace=new p.checkNestedBrace(this),t&&(w=t.citationID,O=t.properties.mode==="author-only"?!!t.properties.mode:!1,this.opt.xclass!=="note"&&(I=t.properties.mode==="suppress-author"?!!t.properties.mode:!1),t.properties.prefix&&(M=p.checkPrefixSpaceAppend(this,t.properties.prefix))),r=r||[],this.tmp.last_primary_names_string=!1,y=p.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",e="",i=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var T=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+M),E=!1;if(this.citation.opt.suppressTrailingPunctuation&&(E=!0),w&&this.registry.citationreg.citationById[w].properties["suppress-trailing-punctuation"]&&(E=!0),this.opt.xclass==="note"){for(var q=[],k=!1,j=!1,J=[],Q=0,R=r.length;Q<R;Q+=1){var B=r[Q][0].type,U=r[Q][0].title,te=r[Q][1].position,de=r[Q][0].id;U&&B==="legal_case"&&de!==j&&te&&((U!==k||q.length===0)&&(J=[],q.push(J)),J.push(r[Q][1])),k=U,j=de}for(Q=0,R=q.length;Q<R;Q+=1)if(J=q[Q],!(J.length<2)){var me=J.slice(-1)[0].locator;if(me)for(var ee=0,re=J.length-1;ee<re;ee+=1)J[ee].locator&&(me=!1);me&&(J[0].locator=me,delete J.slice(-1)[0].locator,J[0].label=J.slice(-1)[0].label,J.slice(-1)[0].label&&delete J.slice(-1)[0].label)}}for(n=[],a=r.length,r[0]&&r[0][1]&&(O?(delete r[0][1]["suppress-author"],r[0][1]["author-only"]=!0):I&&(delete r[0][1]["author-only"],r[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(r),s=0;s<a;s+=1){this.tmp.cite_index=s,m=r[s][0],o=r[s][1],o=p.parseLocator.call(this,o),l=this.tmp.have_collapsed;var ue=!1;if(s>0&&r[s-1][1]&&(ue=!!r[s-1][1].locator),u={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var Te=this.output;this.output=new p.Output.Queue(this),this.output.adjust=new p.Output.Queue.adjust,p.getAmbiguousCite.call(this,m,null,!1,o),this.output=Te}if(this.tmp.in_cite_predecessor=!1,s>0?p.getCite.call(this,m,o,""+r[s-1][0].id,!0):(this.tmp.term_predecessor=!1,p.getCite.call(this,m,o,null,!0)),this.tmp.cite_renders_content||(_={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+m.id,citationItems_pos:s,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(_)),u.splice_delimiter=p.getSpliceDelimiter.call(this,ue,l,s),o&&o["author-only"]&&(this.tmp.suppress_decorations=!0),s>0){g=r[s-1][1];var we=g.suffix&&[";",".",","].indexOf(g.suffix.slice(-1))>-1,xe=!g.suffix&&o.prefix&&[";",".",","].indexOf(o.prefix.slice(0,1))>-1;if(we||xe){var Oe=u.splice_delimiter.indexOf(" ");Oe>-1&&!xe?u.splice_delimiter=u.splice_delimiter.slice(Oe):u.splice_delimiter=""}}if(u.suppress_decorations=this.tmp.suppress_decorations,u.have_collapsed=this.tmp.have_collapsed,n.push(u),o["author-only"])break}c=this.output.queue.slice();var Ie="";t&&(Ie=p.checkSuffixSpacePrepend(this,t.properties.suffix));var pe=this.citation.opt.layout_suffix,be=this.tmp.cite_locales[this.tmp.cite_locales.length-1];be&&this.tmp.cite_affixes[this.tmp.area][be]&&this.tmp.cite_affixes[this.tmp.area][be].suffix&&(pe=this.tmp.cite_affixes[this.tmp.area][be].suffix),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(pe.slice(0,1))>-1&&(pe=pe.slice(0,1)),pe=this.output.checkNestedBrace.update(Ie+pe);for(var Q=0,R=this.output.queue.length;Q<R;Q+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[Q]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&this.tmp.area==="citation"||(E||(this.output.queue[this.output.queue.length-1].strings.suffix=pe),this.output.queue[0].strings.prefix=T)),this.opt.development_extensions.clean_up_csl_flaws)for(var ee=0,re=this.output.queue.length;ee<re;ee+=1)this.output.adjust.upward(this.output.queue[ee]),this.output.adjust.leftward(this.output.queue[ee]),this.output.adjust.downward(this.output.queue[ee]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[ee]);for(s=0,a=c.length;s<a;s+=1){var W=[];if(this.output.queue=[c[s]],this.tmp.suppress_decorations=n[s].suppress_decorations,this.tmp.splice_delimiter=n[s].splice_delimiter,c[s].parallel_delimiter&&(this.tmp.splice_delimiter=c[s].parallel_delimiter),this.tmp.have_collapsed=n[s].have_collapsed,f=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,typeof f=="string")return this.tmp.suppress_decorations=!1,f||(this.opt.development_extensions.throw_on_empty?p.error("Citation would render no content"):f="[NO_PRINTED_FORM]"),f;if(typeof f=="object"&&f.length===0&&!o["suppress-author"]){if(s===0){var ae="[CSL STYLE ERROR: reference with no printed form.]",ze=s===0?y(this.citation.opt.layout_prefix):"",Le=s===c.length-1?y(this.citation.opt.layout_suffix):"";f.push(ze+ae+Le)}else if(s===c.length-1){var Ge=i[i.length-1];typeof Ge=="string"?i[i.length-1]+=y(this.citation.opt.layout_suffix):typeof Ge=="object"&&(Ge.strings.suffix+=y(this.citation.opt.layout_suffix))}}if(W.length&&typeof f[0]=="string"){f.reverse();var G=f.pop();G&&G.slice(0,1)===","?W.push(G):typeof W.slice(-1)[0]=="string"&&W.slice(-1)[0].slice(-1)===","?W.push(" "+G):G&&W.push(y(this.tmp.splice_delimiter)+G)}else f.reverse(),h=f.pop(),typeof h<"u"&&(W.length&&typeof W[W.length-1]=="string"&&(W[W.length-1]+=h.successor_prefix),W.push(h));for(d=f.length,v=0;v<d;v+=1){if(b=f[v],typeof b=="string"){W.push(y(this.tmp.splice_delimiter)+b);continue}h=f.pop(),typeof h<"u"&&W.push(h)}W.length===0&&r[s][1]["suppress-author"],W.length>1&&typeof W[0]!="string"&&(W=[this.output.renderBlobs(W)]),W.length&&(typeof W[0]=="string"?s>0&&(W[0]=y(this.tmp.splice_delimiter)+W[0]):s>0?W[0].splice_prefix=this.tmp.splice_delimiter:W[0].splice_prefix=""),i=i.concat(W)}if(e+=this.output.renderBlobs(i),e&&!this.tmp.suppress_decorations)for(a=this.citation.opt.layout_decorations.length,s=0;s<a;s+=1)u=this.citation.opt.layout_decorations[s],u[1]!=="normal"&&(!o||!o["author-only"])&&(e=this.fun.decorate[u[0]][u[1]](this,e));return this.tmp.suppress_decorations=!1,e||(this.opt.development_extensions.throw_on_empty?p.error("Citation would render no content"):e="[NO_PRINTED_FORM]"),e};p.getCite=function(r,t,e,i){var n,a,s=this.tmp.area;for(t&&t["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=e,p.citeStart.call(this,r,t,i),n=0,this.tmp.name_node={},this.nameOutput=new p.NameOutput(this,r,t);n<this[this.tmp.area].tokens.length;)n=p.tokenExec.call(this,this[this.tmp.area].tokens[n],r,t);return p.citeEnd.call(this,r,t),!this.tmp.cite_renders_content&&!this.tmp.just_looking&&this.tmp.area==="bibliography"&&(a={index:this.tmp.bibliography_pos,itemID:""+r.id,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(a)),this.tmp.area=s,""+r.id};p.citeStart=function(r,t,e){if(this.tmp.lang_array=[],r.language){var i=r.language.match(/^([a-zA-Z]+).*/);i&&this.tmp.lang_array.push(i[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),e||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="",this.tmp.area==="citation"&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[r.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[r.id].disambig,this.tmp.disambig_settings=this.registry.registry[r.id].disambig):this.tmp.disambig_settings=new p.AmbigConfig,this.tmp.area!=="citation"){if(!this.registry.registry[r.id])this.tmp.disambig_restore=new p.AmbigConfig;else if(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[r.id].disambig),this.tmp.area==="bibliography"&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[r.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[r.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[r.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[r.id].disambig.givens.slice();for(var n=0,a=this.tmp.disambig_settings.givens.length;n<a;n+=1)this.tmp.disambig_settings.givens[n]=this.registry.registry[r.id].disambig.givens[n].slice();for(var n=0,a=this.tmp.disambig_request.givens.length;n<a;n+=1)this.tmp.disambig_request.givens[n]=this.registry.registry[r.id].disambig.givens[n].slice()}}this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||(!t||t.parallel==="first"||!t.parallel)&&(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&t&&!t.position&&this.registry.registry[r.id]&&(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[r.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0};p.citeEnd=function(r,t){if(this.tmp.disambig_restore&&this.registry.registry[r.id]){this.registry.registry[r.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[r.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var e=0,i=this.registry.registry[r.id].disambig.givens.length;e<i;e+=1)this.registry.registry[r.id].disambig.givens[e]=this.tmp.disambig_restore.givens[e].slice()}if(this.tmp.disambig_restore=!1,t&&t.suffix?this.tmp.last_suffix_used=t.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){for(var n=[],e=this.tmp.issued_date.list.length-1;e>this.tmp.issued_date.pos;e+=-1)n.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),e=n.length-1;e>-1;e+=-1)this.tmp.issued_date.list.push(n.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1};p.Engine.prototype.makeBibliography=function(r){var t,e,i,n,a,s,o,l,u;if(t=!1,!r&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(r={exclude:[]},this.bibliography.opt.exclude_types)for(var f in this.bibliography.opt.exclude_types){var h=this.bibliography.opt.exclude_types[f];r.exclude.push({field:"type",value:h})}if(this.bibliography.opt.exclude_with_fields)for(var f in this.bibliography.opt.exclude_with_fields){var c=this.bibliography.opt.exclude_with_fields[f];r.exclude.push({field:c,value:!0})}}if(!this.bibliography.tokens.length)return!1;if(typeof r=="string"&&(this.opt.citation_number_slug=r,r=!1),t){for(a=this.bibliography.tokens.length,s=0;s<a;s+=1)o=this.bibliography.tokens[s],p.debug("bibtok: "+o.name);for(p.debug("---"),a=this.citation.tokens.length,s=0;s<a;s+=1)this.citation.tokens[s],p.debug("cittok: "+o.name);for(p.debug("---"),a=this.bibliography_sort.tokens.length,s=0;s<a;s+=1)this.bibliography_sort.tokens[s],p.debug("bibsorttok: "+o.name)}e=p.getBibliographyEntries.call(this,r),l=e[0],u=e[1];var m=e[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:l,bibliography_errors:this.tmp.bibliography_errors.slice(),done:m},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),a=this.registry.reflist.length,s=0;s<a;s+=1)n=this.registry.reflist[s],n.offset>i.maxoffset&&(i.maxoffset=n.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,u]};p.getBibliographyEntries=function(r){var t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O;t=[],_=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,r&&r.page_start&&r.page_length?e=this.registry.getSortedIds():e=this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0;function I(B,U){return B===U}function M(B,U){for(f=U.length,h=0;h<f;h+=1)if(I(B,U[h]))return!0;return!1}function T(B,U){return typeof B=="boolean"||!B?B?!!U:!U:typeof U=="string"?I(B,U):U?M(B,U):!1}g={};var E;if(r&&r.page_start&&r.page_length&&(E=0,r.page_start!==!0))for(d=0,v=e.length;d<v&&(g[e[d]]=!0,r.page_start!=e[d]);d+=1);var q=[],k={};for(this.tmp.container_item_count={},e=e.filter(B=>{var U=B;return B.legislation_id?k[B.legislation_id]?U=!1:k[B.legislation_id]=!0:B.container_id&&(this.tmp.container_item_count[B.container_id]||(this.tmp.container_item_count[B.container_id]=0),this.tmp.container_item_count[B.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(B.type)>-1&&(k[B.container_id]?U=!1:k[B.container_id]=!0)),U}),this.tmp.container_item_pos={},d=0,v=e.length;d<v;d+=1){if(r&&r.page_start&&r.page_length){if(g[e[d]])continue;if(l=this.refetchItem(e[d]),E===r.page_length)break}else if(l=e[d],g[l.id])continue;if(r){if(i=!0,r.include){for(i=!1,w=0,O=r.include.length;w<O;w+=1)if(u=r.include[w],T(u.value,l[u.field])){i=!0;break}}else if(r.exclude){for(n=!1,w=0,O=r.exclude.length;w<O;w+=1)if(u=r.exclude[w],T(u.value,l[u.field])){n=!0;break}n&&(i=!1)}else if(r.select){for(i=!1,a=!0,w=0,O=r.select.length;w<O;w+=1)u=r.select[w],T(u.value,l[u.field])||(a=!1);a&&(i=!0)}if(r.quash){for(a=!0,w=0,O=r.quash.length;w<O;w+=1)u=r.quash[w],T(u.value,l[u.field])||(a=!1);a&&(i=!1)}if(!i)continue}if(l.container_id&&(this.tmp.container_item_pos[l.container_id]||(this.tmp.container_item_pos[l.container_id]=0),this.tmp.container_item_pos[l.container_id]++),s=new p.Token("group",p.START),s.decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",s),l.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=l.system_id:this.output.current.value().system_id=l.id,m=[],this.registry.registry[l.id].master&&!(r&&r.page_start&&r.page_length)){y=[[l,{id:l.id}]],b=this.registry.registry[l.id].siblings;for(var w=0,O=b.length;w<O;w++)y.push([this.refetchItem(b[w]),{id:b[w]}]);for(this.parallel.StartCitation(y),this.registry.registry[l.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[l.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,w=0,O=y.length;w<O;w+=1)w<y.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,m.push(""+p.getCite.call(this,y[w][0],y[w][1])),this.tmp.cite_index++,g[y[w][0].id]=!0}else this.registry.registry[l.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,m.push(""+p.getCite.call(this,l)),r&&r.page_start&&r.page_length&&(E+=1));for(_.push(""),this.tmp.bibliography_pos+=1,q.push(m),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(this.output.queue[0].blobs[0].blobs[0].strings?c=this.output.queue[0].blobs[0].blobs:c=this.output.queue[0].blobs,c[0].strings.prefix=this.bibliography.opt.layout_prefix+c[0].strings.prefix),w=0,O=this.output.queue.length;w<O;w+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[w]);for(w=0,O=this.output.queue.length;w<O;w+=1)this.output.adjust.upward(this.output.queue[w]),this.output.adjust.leftward(this.output.queue[w]),this.output.adjust.downward(this.output.queue[w],!0),this.output.adjust.fix(this.output.queue[w]);if(o=this.output.string(this,this.output.queue)[0],!o&&this.opt.update_mode===p.NUMERIC){var j=t.length+1+". [CSL STYLE ERROR: reference with no printed form.]";o=p.Output.Formats[this.opt.mode]["@bibliography/entry"](this,j)}o&&t.push(o)}var J=!1;if(r&&r.page_start&&r.page_length){var Q=e.slice(-1)[0],R=q.slice(-1)[0];(!Q||!R||Q==R)&&(J=!0)}return this.tmp.disambig_override=!1,[q,t,J]};p.Engine.prototype.setCitationId=function(r,t){var e,i,n;if(e=!1,!r.citationID||t){for(i=Math.floor(Math.random()*1e14);;){if(n=0,this.registry.citationreg.citationById[i])!n&&i<5e13?n=1:n=-1;else{r.citationID="a"+i.toString(32);break}n===1?i+=1:i+=-1}e=""+i}return this.registry.citationreg.citationById[r.citationID]=r,e};p.Engine.prototype.rebuildProcessorState=function(r,t,e){r||(r=[]),t||(t="html");for(var i={},n=[],a=0,s=r.length;a<s;a+=1)for(var o=0,l=r[a].citationItems.length;o<l;o+=1){var u=""+r[a].citationItems[o].id;i[u]||n.push(u),i[u]=!0}this.updateItems(n);var f=[],h=[],c=[],m=this.opt.mode;this.setOutputFormat(t);for(var a=0,s=r.length;a<s;a+=1){var d=this.processCitationCluster(r[a],f,h,p.ASSUME_ALL_ITEMS_REGISTERED);f.push([r[a].citationID,r[a].properties.noteIndex]);for(var o=0,l=d[1].length;o<l;o+=1){var v=d[1][o][0];c[v]=[f[v][0],f[v][1],d[1][o][1]]}}return this.updateUncitedItems(e),this.setOutputFormat(m),c};p.Engine.prototype.restoreProcessorState=function(r){var t,e,i,n,a,s,o,l,u,f;l=[],u=[],r||(r=[]);var h=[],c={};for(t=0,e=r.length;t<e;t+=1)c[r[t].citationID]&&this.setCitationId(r[t],!0),c[r[t].citationID]=!0,h.push(r[t].properties.index);var m=r.slice();for(m.sort(function(v,b){return v.properties.index<b.properties.index?-1:v.properties.index>b.properties.index?1:0}),t=0,e=m.length;t<e;t+=1)m[t].properties.index=t;for(t=0,e=m.length;t<e;t+=1){for(f=[],i=0,n=m[t].citationItems.length;i<n;i+=1)a=m[t].citationItems[i],typeof a.sortkeys>"u"&&(a.sortkeys=[]),s=this.retrieveItem(""+a.id),o=[s,a],f.push(o),m[t].citationItems[i].item=s,u.push(""+a.id);m[t].properties.unsorted||f.sort(this.citation.srt.compareCompositeKeys),m[t].sortedItems=f,this.registry.citationreg.citationById[m[t].citationID]=m[t]}for(this.updateItems(u),t=0,e=r.length;t<e;t+=1)l.push([""+r[t].citationID,r[t].properties.noteIndex]);var d=[];return r&&r.length?d=this.processCitationCluster(r[0],[],l.slice(1)):(this.registry=new p.Registry(this),this.tmp=new p.Engine.Tmp,this.disambiguate=new p.Disambiguation(this)),d};p.Engine.prototype.updateItems=function(r,t,e,i){var n=this.tmp.area,a=this.tmp.root,s=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",i||(this.tmp.loadedItemIDs={}),this.registry.init(r),e)for(var o in this.registry.ambigcites)this.registry.ambigsTouched[o]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=s,this.tmp.area=n,this.tmp.root=a,this.registry.getSortedIds()};p.Engine.prototype.updateUncitedItems=function(r,t){var e,i=this.tmp.area,n=this.tmp.root,a=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},r||(r=[]),typeof r=="object"){if(typeof r.length>"u"){e=r,r=[];for(var s in e)r.push(s)}else if(typeof r.length=="number"){e={};for(var o=0,l=r.length;o<l;o+=1)e[r[o]]=!0}}return this.registry.init(r,!0),this.registry.dopurge(e),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=a,this.tmp.area=i,this.tmp.root=n,this.registry.getSortedIds()};p.localeResolve=function(r,t){var e,i;return t||(t="en-US"),r||(r=t),e={},i=r.split(/[\-_]/),e.base=p.LANG_BASES[i[0]],typeof e.base>"u"?{base:t,best:r,bare:i[0]}:(i.length===1&&(e.generic=!0),i.length===1||i[1]==="x"?e.best=e.base.replace("_","-"):e.best=i.slice(0,2).join("-"),e.base=e.base.replace("_","-"),e.bare=i[0],e)};p.Engine.prototype.localeConfigure=function(r,t){var e;if(!(t&&this.locale[r.best])&&(r.best==="en-US"?(e=p.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(e,"en-US",r.best)):r.best!=="en-US"&&(r.base!==r.best&&(e=p.setupXml(this.sys.retrieveLocale(r.base)),this.localeSet(e,r.base,r.best)),e=p.setupXml(this.sys.retrieveLocale(r.best)),this.localeSet(e,r.best,r.best)),this.localeSet(this.cslXml,"",r.best),this.localeSet(this.cslXml,r.bare,r.best),r.base!==r.best&&this.localeSet(this.cslXml,r.base,r.best),this.localeSet(this.cslXml,r.best,r.best),typeof this.locale[r.best].terms["page-range-delimiter"]>"u"&&(["fr","pt"].indexOf(r.best.slice(0,2).toLowerCase())>-1?this.locale[r.best].terms["page-range-delimiter"]="-":this.locale[r.best].terms["page-range-delimiter"]="–"),typeof this.locale[r.best].terms["year-range-delimiter"]>"u"&&(this.locale[r.best].terms["year-range-delimiter"]="–"),typeof this.locale[r.best].terms["citation-range-delimiter"]>"u"&&(this.locale[r.best].terms["citation-range-delimiter"]="–"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var i=["default-locale","locale-sort","locale-translit","locale-translat"],n=0,a=i.length;n<a;n+=1)for(var s=0,o=this.opt[i[n]].length;s<o;s+=1)this.opt[i[n]][s]=this.opt[i[n]][s].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}};p.Engine.prototype.localeSet=function(r,t,e){var i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y;if(t=t.replace("_","-"),e=e.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(t=t.toLowerCase(),e=e.toLowerCase()),this.locale[e]||(this.locale[e]={},this.locale[e].terms={},this.locale[e].opts={},this.locale[e].opts["skip-words"]=p.SKIP_WORDS,this.locale[e].opts["leading-noise-words"]||(this.locale[e].opts["leading-noise-words"]=[]),this.locale[e].dates={},this.locale[e].ord={"1.0.1":!1,keys:{}},this.locale[e]["noun-genders"]={}),n=r.makeXml(),r.nodeNameIs(r.dataObj,"locale"))n=r.dataObj;else{a=r.getNodesByName(r.dataObj,"locale");var _=!1;for(o=0,d=r.numberofnodes(a);o<d;o+=1)if(i=a[o],!_&&r.getAttributeValue(i,"lang","xml")===t)n=i,_=!0;else{var w=r.getAttributeValue(i,"lang","xml"),O=r.getNodesByName(i,"style-options");if(w&&O&&O.length){var I=r.getAttributeValue(O[0],"jurisdiction-preference");I&&(this.locale[w]||(this.locale[w]={opts:{}}),this.locale[w].opts["jurisdiction-preference"]=I.split(/\s+/))}}}for(a=r.getNodesByName(n,"type"),g=0,y=r.numberofnodes(a);g<y;g+=1){var M=a[g],T=r.getAttributeValue(M,"name"),E=r.getAttributeValue(M,"gender");this.opt.gender[T]=E}var q=r.getNodesByName(n,"term","ordinal").length;if(q){for(var k in this.locale[e].ord.keys)delete this.locale[e].terms[k];this.locale[e].ord={"1.0.1":!1,keys:{}}}a=r.getNodesByName(n,"term");var j={"last-digit":{},"last-two-digits":{},"whole-number":{}},J=!1,Q={};for(o=0,d=r.numberofnodes(a);o<d;o+=1){if(l=a[o],f=r.getAttributeValue(l,"name"),f==="sub verbo"&&(f="sub-verbo"),f.slice(0,7)==="ordinal"){if(f==="ordinal")J=!0;else{var R=r.getAttributeValue(l,"match"),B=f.slice(8),v=r.getAttributeValue(l,"gender-form");v||(v="neuter"),R||(R="last-two-digits",B.slice(0,1)==="0"&&(R="last-digit")),B.slice(0,1)==="0"&&(B=B.slice(1)),j[R][B]||(j[R][B]={}),j[R][B][v]=f}this.locale[e].ord.keys[f]=!0}typeof this.locale[e].terms[f]>"u"&&(this.locale[e].terms[f]={}),u="long",v=!1,r.getAttributeValue(l,"form")&&(u=r.getAttributeValue(l,"form")),r.getAttributeValue(l,"gender-form")&&(v=r.getAttributeValue(l,"gender-form")),r.getAttributeValue(l,"gender")&&(this.locale[e]["noun-genders"][f]=r.getAttributeValue(l,"gender")),v?(this.locale[e].terms[f][v]={},this.locale[e].terms[f][v][u]=[],b=this.locale[e].terms[f][v],Q[f]=!0):(this.locale[e].terms[f][u]=[],b=this.locale[e].terms[f]),r.numberofnodes(r.getNodesByName(l,"multiple"))?(b[u][0]=r.getNodeValue(l,"single"),b[u][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),b[u][1]=r.getNodeValue(l,"multiple"),b[u][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(b[u]=r.getNodeValue(l),b[u].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[e].terms.supplement||(this.locale[e].terms.supplement={}),this.locale[e].terms.supplement.long||(this.locale[e].terms.supplement.long=["supplement","supplements"]),J){for(var U in Q){var te={},de=0;for(var me in this.locale[e].terms[U])["masculine","feminine"].indexOf(me)>-1?te[me]=this.locale[e].terms[U][me]:de+=1;if(!de){if(te.feminine)for(var me in te.feminine)this.locale[e].terms[U][me]=te.feminine[me];else if(te.masculine)for(var me in te.masculine)this.locale[e].terms[U][me]=te.masculine[me]}}this.locale[e].ord["1.0.1"]=j}for(f in this.locale[e].terms)for(g=0,y=2;g<y;g+=1)if(v=p.GENDERS[g],this.locale[e].terms[f][v])for(u in this.locale[e].terms[f])this.locale[e].terms[f][v][u]||(this.locale[e].terms[f][v][u]=this.locale[e].terms[f][u]);for(a=r.getNodesByName(n,"style-options"),o=0,d=r.numberofnodes(a);o<d;o+=1){h=a[o],s=r.attributes(h);for(m in s)if(s.hasOwnProperty(m)){if(m==="@punctuation-in-quote"||m==="@limit-day-ordinals-to-day-1")s[m]==="true"?this.locale[e].opts[m.slice(1)]=!0:this.locale[e].opts[m.slice(1)]=!1;else if(m==="@jurisdiction-preference"){var ee=s[m].split(/\s+/);this.locale[e].opts[m.slice(1)]=ee}else if(m==="@skip-words"){var re=s[m].split(/\s*,\s*/);this.locale[e].opts[m.slice(1)]=re}else if(m==="@leading-noise-words"){var ue=s[m].split(/\s*,\s*/);this.locale[e].opts["leading-noise-words"]=ue}else if(m==="@name-as-sort-order"){this.locale[e].opts["name-as-sort-order"]={};for(var Te=s[m].split(/\s+/),g=0,y=Te.length;g<y;g+=1)this.locale[e].opts["name-as-sort-order"][Te[g]]=!0}else if(m==="@name-as-reverse-order"){this.locale[e].opts["name-as-reverse-order"]={};for(var Te=s[m].split(/\s+/),g=0,y=Te.length;g<y;g+=1)this.locale[e].opts["name-as-reverse-order"][Te[g]]=!0}else if(m==="@name-never-short"){this.locale[e].opts["name-never-short"]={};for(var Te=s[m].split(/\s+/),g=0,y=Te.length;g<y;g+=1)this.locale[e].opts["name-never-short"][Te[g]]=!0}}}for(a=r.getNodesByName(n,"date"),o=0,d=r.numberofnodes(a);o<d;o+=1){var c=a[o];this.locale[e].dates[r.getAttributeValue(c,"form")]=c}p.SET_COURT_CLASSES(this,e,r,n)};p.getLocaleNames=function(r,t){var e=p.setupXml(r);function i(h,c){var m=["base","best"];if(c)for(var d=p.localeResolve(c),v=0,b=m.length;v<b;v++)d[m[v]]&&h.indexOf(d[m[v]])===-1&&h.push(d[m[v]])}var n=["en-US"];function a(h){for(var c=e.getNodesByName(e.dataObj,h),m=0,d=c.length;m<d;m++){var v=e.getAttributeValue(c[m],"locale");if(v){v=v.split(/ +/);for(var b=0,g=v.length;b<g;b++)this.extendLocaleList(n,v[b])}}}i(n,t);var s=e.getNodesByName(e.dataObj,"style")[0],o=e.getAttributeValue(s,"default-locale");i(n,o);for(var l=["layout","if","else-if","condition"],u=0,f=l.length;u<f;u++)a(e);return n};p.Node={};p.Node.bibliography={build:function(r,t){if(this.tokentype===p.START){r.build.area="bibliography",r.build.root="bibliography",r.build.extension="";var e=function(i){i.tmp.area="bibliography",i.tmp.root="bibliography",i.tmp.extension=""};this.execs.push(e)}t.push(this)}};p.Node.choose={build:function(r,t){var e;this.tokentype===p.START&&(e=function(i){i.tmp.jump.push(void 0,p.LITERAL)}),this.tokentype===p.END&&(e=function(i){i.tmp.jump.pop()}),this.execs.push(e),t.push(this)},configure:function(r,t){this.tokentype===p.END?(r.configure.fail.push(t),r.configure.succeed.push(t)):(r.configure.fail.pop(),r.configure.succeed.pop())}};p.Node.citation={build:function(r,t){if(this.tokentype===p.START){r.build.area="citation",r.build.root="citation",r.build.extension="";var e=function(n){n.tmp.area="citation",n.tmp.root="citation",n.tmp.extension=""};this.execs.push(e)}if(this.tokentype===p.END){if(r.opt.grouped_sort=r.opt.xclass==="in-text"&&r.citation.opt.collapse&&r.citation.opt.collapse.length||r.citation.opt.cite_group_delimiter&&r.citation.opt.cite_group_delimiter.length&&r.opt.update_mode!==p.POSITION&&r.opt.update_mode!==p.NUMERIC,r.opt.grouped_sort&&r.citation_sort.opt.sort_directions.length){var i=r.citation_sort.opt.sort_directions[0].slice();r.citation_sort.opt.sort_directions=[i].concat(r.citation_sort.opt.sort_directions)}r.citation.srt=new p.Registry.Comparifier(r,"citation_sort")}t.push(this)}};p.Node["#comment"]={build:function(){}};p.Node.date={build:function(r,t){var e,i,n,a,s,o,l,u,f,h;(this.tokentype===p.START||this.tokentype===p.SINGLETON)&&(r.dateput.string(r,r.dateput.queue),r.tmp.date_token=p.Util.cloneToken(this),r.tmp.date_token.strings.prefix="",r.tmp.date_token.strings.suffix="",r.dateput.openLevel(this),r.build.date_parts=[],r.build.date_variables=this.variables,r.build.extension||p.Util.substituteStart.call(this,r,t),r.build.extension?e=p.dateMacroAsSortKey:e=function(c,m,d){var v;if(c.tmp.element_rendered_ok=!1,c.tmp.donesies=[],c.tmp.dateparts=[],v=[],this.variables.length&&!(c.tmp.just_looking&&this.variables[0]==="accessed")){for(i=m[this.variables[0]],typeof i>"u"&&(i={"date-parts":[[0]]},c.opt.development_extensions.locator_date_and_revision&&d&&this.variables[0]==="locator-date"&&d["locator-date"]&&(i=d["locator-date"])),c.tmp.date_object=i,n=this.dateparts.length,a=0;a<n;a+=1)s=this.dateparts[a],(typeof c.tmp.date_object[s+"_end"]<"u"||s==="month"&&typeof c.tmp.date_object.season_end<"u")&&v.push(s);for(o=[],l=["year","month","day"],n=l.length,a=0;a<n;a+=1)v.indexOf(l[a])>-1&&o.push(l[a]);for(v=o.slice(),u=2,n=v.length,a=0;a<n;a+=1)if(s=v[a],f=c.tmp.date_object[s],h=c.tmp.date_object[s+"_end"],f!==h){u=a;break}c.tmp.date_collapse_at=v.slice(u)}else c.tmp.date_object=!1},this.execs.push(e),e=function(c,m){if(m[this.variables[0]]&&(c.output.startTag("date",this),this.variables[0]==="issued"&&(m.type==="legal_case"||m.type==="legislation")&&c.opt.disable_duplicate_year_suppression.indexOf(m.country)===-1&&!c.tmp.extension&&""+m["collection-number"]==""+c.tmp.date_object.year&&this.dateparts.length===1&&this.dateparts[0]==="year")){for(var d in c.tmp.date_object)if(c.tmp.date_object.hasOwnProperty(d)&&d.slice(0,4)==="year"){c.tmp.issued_date={};var v=c.output.current.mystack.slice(-2)[0].blobs;c.tmp.issued_date.list=v,c.tmp.issued_date.pos=v.length-1}}},this.execs.push(e)),!r.build.extension&&(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(e=function(c,m){m[this.variables[0]]&&c.output.endTag()},this.execs.push(e)),t.push(this),(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(r.build.extension||p.Util.substituteEnd.call(this,r,t))}};p.Node["date-part"]={build:function(r,t){var e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I;this.strings.form||(this.strings.form="long"),r.build.date_parts.push(this.strings.name);var M=r.build.date_variables[0];function T(E,q,k){if(!k)return k;if(k=""+p.Util.Dates[this.strings.name][E](r,k,q,this.default_locale),this.strings.name==="month"){if(r.tmp.strip_periods)k=k.replace(/\./g,"");else for(var j=0,J=this.decorations.length;j<J;j+=1)if(this.decorations[j][0]==="@strip-periods"&&this.decorations[j][1]==="true"){k=k.replace(/\./g,"");break}}return k}e=function(E,q){if(E.tmp.date_object)E.tmp.probably_rendered_something=!0;else return;var k="";if(a=!0,s="",o="",E.tmp.donesies.push(this.strings.name),E.tmp.date_object.literal&&this.strings.name==="year"&&(k=E.tmp.date_object.literal,E.output.append(E.tmp.date_object.literal,this)),E.tmp.date_object&&(s=E.tmp.date_object[this.strings.name],o=E.tmp.date_object[this.strings.name+"_end"]),this.strings.name==="year"&&s===0&&!E.tmp.suppress_decorations&&(s=!1),l=!E.tmp.suppress_decorations,u=E.tmp.have_collapsed,f=E[E.tmp.area].opt.collapse==="year-suffix"||E[E.tmp.area].opt.collapse==="year-suffix-ranged",h=E.opt["disambiguate-add-year-suffix"],l&&h&&f&&(E.tmp.years_used.push(s),c=E.tmp.last_years_used.length>=E.tmp.years_used.length,c&&u&&E.tmp.last_years_used[E.tmp.years_used.length-1]===s&&(s=!1)),typeof s<"u"){m=!1,d=!1,this.strings.name==="year"&&(parseInt(s,10)<500&&parseInt(s,10)>0&&(d=E.getTerm("ad")),parseInt(s,10)<0&&(m=E.getTerm("bc"),s=parseInt(s,10)*-1),o&&(parseInt(o,10)<500&&parseInt(o,10)>0&&E.getTerm("ad"),parseInt(o,10)<0&&(E.getTerm("bc"),o=parseInt(o,10)*-1)));for(var j=""+E.tmp.date_object.month;j.length<2;)j="0"+j;j="month-"+j;var J=E.locale[E.opt.lang]["noun-genders"][j];if(this.strings.form){var Q=this.strings.form,R=this.strings.form;this.strings.name==="day"&&Q==="ordinal"&&E.locale[E.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(s!=1&&(Q="numeric"),o!=1&&(R="numeric")),s=T.call(this,Q,J,s),o=T.call(this,R,J,o)}if(E.output.openLevel("empty"),E.tmp.date_collapse_at.length){for(v=!0,n=E.tmp.date_collapse_at.length,i=0;i<n;i+=1)if(O=E.tmp.date_collapse_at[i],E.tmp.donesies.indexOf(O)===-1){v=!1;break}if(v){if(""+o!="0"){if(E.dateput.queue.length===0&&(a=!0),E.opt["year-range-format"]&&E.opt["year-range-format"]!=="expanded"&&!E.tmp.date_object.day&&!E.tmp.date_object.month&&!E.tmp.date_object.season&&this.strings.name==="year"&&s&&o){o=E.fun.year_mangler(s+"-"+o,!0);var B=E.getTerm("year-range-delimiter");o=o.slice(o.indexOf(B)+1)}k=o,E.dateput.append(o,this),a&&(I=E.dateput.current.value().blobs[0],I&&(I.strings.prefix=""))}k=s,E.output.append(s,this),b=E.output.current.value(),I=b.blobs[b.blobs.length-1],I&&(I.strings.suffix=""),this.strings["range-delimiter"]?E.output.append(this.strings["range-delimiter"]):E.output.append(E.getTerm("year-range-delimiter"),"empty"),E.dateput.closeLevel(),g=E.dateput.current.value(),b.blobs=b.blobs.concat(g),E.dateput.string(E,E.dateput.queue),E.dateput.openLevel(E.tmp.date_token),E.tmp.date_collapse_at=[]}else k=s,E.output.append(s,this),E.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+o!="0"&&(E.dateput.queue.length===0&&(a=!0),E.dateput.openLevel("empty"),k=o,E.dateput.append(o,this),a&&(I=E.dateput.current.value().blobs[0],I&&(I.strings.prefix="")),m&&(k=m,E.dateput.append(m)),d&&(k=d,E.dateput.append(d)),E.dateput.closeLevel())}else k=s,E.output.append(s,this);m&&(k=m,E.output.append(m)),d&&(k=d,E.output.append(d)),E.output.closeLevel()}else this.strings.name==="month"&&E.tmp.date_object.season&&(s=""+E.tmp.date_object.season,s&&s.match(/^[1-4]$/)?(E.tmp.group_context.tip.variable_success=!0,k="winter",E.output.append(E.getTerm("season-0"+s),this)):s&&(k=s,E.output.append(s,this)));E.tmp.value=[],q[M]&&(s||E.tmp.have_collapsed)&&!E.opt.has_year_suffix&&this.strings.name==="year"&&!E.tmp.just_looking&&E.registry.registry[q.id]&&E.registry.registry[q.id].disambig.year_suffix!==!1&&!E.tmp.has_done_year_suffix&&(E.tmp.has_done_year_suffix=!0,k="x",_=parseInt(E.registry.registry[q.id].disambig.year_suffix,10),y=new p.NumericBlob(E,!1,_,this,q.id),this.successor_prefix=E[E.build.area].opt.layout_delimiter,this.splice_prefix=E[E.build.area].opt.layout_delimiter,w=new p.Util.Suffixator(p.SUFFIX_CHARS),y.setFormatter(w),E[E.tmp.area].opt.collapse==="year-suffix-ranged"&&(y.range_prefix=E.getTerm("citation-range-delimiter")),E[E.tmp.area].opt.cite_group_delimiter?y.successor_prefix=E[E.tmp.area].opt.cite_group_delimiter:E[E.tmp.area].opt["year-suffix-delimiter"]?y.successor_prefix=E[E.tmp.area].opt["year-suffix-delimiter"]:y.successor_prefix=E[E.tmp.area].opt.layout_delimiter,y.UGLY_DELIMITER_SUPPRESS_HACK=!0,E.output.append(y,"literal")),k&&!E.tmp.group_context.tip.condition&&(E.tmp.just_did_number=k.match(/[0-9]$/),E.output.current.tip.strings.suffix&&(E.tmp.just_did_number=!1))},this.execs.push(e),t.push(this)}};p.Node["else-if"]={build:function(r,t){p.Conditions.TopNode.call(this,r,t),t.push(this)},configure:function(r,t){p.Conditions.Configure.call(this,r,t)}};p.Node.else={build:function(r,t){t.push(this)},configure:function(r,t){this.tokentype===p.START&&(r.configure.fail[r.configure.fail.length-1]=t)}};p.Node["et-al"]={build:function(r,t){if(r.build.area==="citation"||r.build.area==="bibliography"){var e=function(i){i.tmp.etal_node=this,typeof this.strings.term=="string"&&(i.tmp.etal_term=this.strings.term)};this.execs.push(e)}t.push(this)}};p.Node.group={build:function(r,t,e){var i,n;if(this.realGroup=e,this.tokentype===p.START&&(p.Util.substituteStart.call(this,r,t),r.build.substitute_level.value()&&r.build.substitute_level.replace(r.build.substitute_level.value()+1),this.juris||t.push(this),i=function(c){if(c.output.startTag("group",this),this.strings.label_form_override&&(c.tmp.group_context.tip.label_form||(c.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(c.tmp.group_context.tip.label_capitalize_if_first||(c.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){c.tmp.group_context.tip.condition&&p.UPDATE_GROUP_CONTEXT_CONDITION(c,this.strings.prefix,null,this);var m=!1,d=!1;c.tmp.group_context.mystack.length&&(c.output.current.value().parent=c.tmp.group_context.tip.output_tip);var v=c.tmp.group_context.tip.label_form;v||(v=this.strings.label_form_override);var b=c.tmp.group_context.tip.label_capitalize_if_first;b||(b=this.strings.label_capitalize_if_first),c.tmp.group_context.tip.condition?(m=c.tmp.group_context.tip.condition,d=c.tmp.group_context.tip.force_suppress):this.strings.reject?m={test:this.strings.reject,not:!0}:this.strings.require&&(m={test:this.strings.require,not:!1});var g={old_term_predecessor:c.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:c.tmp.group_context.tip.variable_success,output_tip:c.output.current.tip,label_form:v,label_static:c.tmp.group_context.tip.label_static,label_capitalize_if_first:b,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:m,force_suppress:d,done_vars:c.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var y=c.tmp.group_context.tip.non_parallel;y||(y={}),Object.assign(y,this.non_parallel),g.non_parallel=y}if(this.parallel_first){var _=c.tmp.group_context.tip.parallel_first;_||(_={}),Object.assign(_,this.parallel_first),g.parallel_first=_}if(this.parallel_last){var w=c.tmp.group_context.tip.parallel_last;w||(w={}),Object.assign(w,this.parallel_last),g.parallel_last=w}if(c.tmp.abbrev_trimmer&&c.tmp.abbrev_trimmer.LAST_TO_FIRST&&g.parallel_last){g.parallel_first||(g.parallel_first={});for(var O in c.tmp.abbrev_trimmer.LAST_TO_FIRST)g.parallel_last[O]&&(g.parallel_first[O]=!0,delete g.parallel_last[O])}if(c.tmp.group_context.push(g),c.tmp.abbrev_trimmer&&this.parallel_last_to_first){c.tmp.abbrev_trimmer.LAST_TO_FIRST||(c.tmp.abbrev_trimmer.LAST_TO_FIRST={});for(var O in this.parallel_last_to_first)c.tmp.abbrev_trimmer.LAST_TO_FIRST[O]=!0}}},n=[],n.push(i),this.execs=n.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(r.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(i=function(c,m){if(m.publisher&&m["publisher-place"]){var d=m.publisher.split(/;\s*/),v=m["publisher-place"].split(/;\s*/);d.length>1&&d.length===v.length&&(c.publisherOutput=new p.PublisherOutput(c,this),c.publisherOutput["publisher-list"]=d,c.publisherOutput["publisher-place-list"]=v)}},this.execs.push(i))),this.juris)){var a=new p.Token("choose",p.START);p.Node.choose.build.call(a,r,t);var s=new p.Token("if",p.START);i=function(c){return function(m,d){return p.INIT_JURISDICTION_MACROS(r,m,d,c)}}(this.juris),s.tests||(s.tests=[]),s.tests.push(i),s.test=r.fun.match.any(s,r,s.tests),t.push(s);var o=new p.Token("text",p.SINGLETON);i=function(c,m,d){var v=m;d&&d["best-jurisdiction"]&&this.juris==="juris-locator"&&(v=d);var b=0;if(c.juris[v["best-jurisdiction"]][this.juris])for(;b<c.juris[v["best-jurisdiction"]][this.juris].length;)b=p.tokenExec.call(c,c.juris[v["best-jurisdiction"]][this.juris][b],m,d)},o.juris=this.juris,o.execs.push(i),t.push(o);var l=new p.Token("if",p.END);p.Node.if.build.call(l,r,t);var u=new p.Token("else",p.START);p.Node.else.build.call(u,r,t)}if(this.tokentype===p.END&&(r.build["publisher-special"]&&(r.build["publisher-special"]=!1,i=function(c){c.publisherOutput&&(c.publisherOutput.render(),c.publisherOutput=!1)},this.execs.push(i)),i=function(c,m,d){if(c.tmp.group_context.tip.condition||c.output.current.tip.strings.suffix&&(c.tmp.just_did_number=!1),c.output.endTag(),this.realGroup){var v=c.tmp.group_context.pop();if(v.parallel_delimiter_override&&(c.tmp.group_context.tip.parallel_delimiter_override=v.parallel_delimiter_override,!c.tmp.just_looking&&c.registry.registry[m.id].master&&(c.registry.registry[m.id].parallel_delimiter_override=v.parallel_delimiter_override)),v.parallel_delimiter_override_on_suppress&&(c.tmp.group_context.tip.parallel_delimiter_override_on_suppress=v.parallel_delimiter_override_on_suppress),c.tmp.area==="bibliography_sort"){var b=v.done_vars.indexOf("citation-number");this.strings.sort_direction&&b>-1&&c.tmp.group_context.length()==1&&(this.strings.sort_direction===p.DESCENDING?c.bibliography_sort.opt.citation_number_sort_direction=p.DESCENDING:c.bibliography_sort.opt.citation_number_sort_direction=p.ASCENDING,v.done_vars=v.done_vars.slice(0,b).concat(v.done_vars.slice(b+1)))}if(v.condition&&(v.force_suppress=p.EVALUATE_GROUP_CONDITION(c,v)),c.tmp.group_context.tip.condition&&(c.tmp.group_context.tip.force_suppress=v.force_suppress),!v.force_suppress&&(v.variable_success||v.term_intended&&!v.variable_attempt)){this.isJurisLocatorLabel||(c.tmp.group_context.tip.variable_success=!0);var g=c.output.current.value().blobs;if(c.output.current.value().blobs.length-1,!c.tmp.just_looking&&(v.non_parallel||v.parallel_last||v.parallel_first||v.parallel_delimiter_override||v.parallel_delimiter_override_on_suppress)){var y=c.parallel.checkRepeats(v);if(y&&g&&g.pop(),c.tmp.cite_index>0&&(y||!v.parallel_first&&!v.parallel_last&&!v.non_parallel)){var _=c.tmp.suppress_repeats[c.tmp.cite_index-1];y&&v.parallel_delimiter_override_on_suppress&&(_.SIBLING||_.ORPHAN)?c.output.queue.slice(-1)[0].parallel_delimiter=v.parallel_delimiter_override_on_suppress:v.parallel_delimiter_override&&_.SIBLING&&(c.output.queue.slice(-1)[0].parallel_delimiter=v.parallel_delimiter_override)}}}else{if(c.tmp.term_predecessor=v.old_term_predecessor,c.tmp.group_context.tip.variable_attempt=v.variable_attempt,v.force_suppress&&!c.tmp.group_context.tip.condition&&(c.tmp.group_context.tip.variable_attempt=!0,c.tmp.group_context.tip.variable_success=v.variable_success_parent),v.force_suppress)for(var w=0,O=v.done_vars.length;w<O;w++)for(var I=v.done_vars[w],M=0,T=c.tmp.done_vars.length;M<T;M++)c.tmp.done_vars[M]===I&&(c.tmp.done_vars=c.tmp.done_vars.slice(0,M).concat(c.tmp.done_vars.slice(M+1)));c.output.current.value().blobs&&c.output.current.value().blobs.pop()}}},this.execs.push(i),this.juris)){var f=new p.Token("else",p.END);p.Node.else.build.call(f,r,t);var h=new p.Token("choose",p.END);p.Node.choose.build.call(h,r,t)}this.tokentype===p.END&&(this.juris||t.push(this),r.build.substitute_level.value()&&r.build.substitute_level.replace(r.build.substitute_level.value()-1),p.Util.substituteEnd.call(this,r,t))}};p.Node.if={build:function(r,t){p.Conditions.TopNode.call(this,r,t),t.push(this)},configure:function(r,t){p.Conditions.Configure.call(this,r,t)}};p.Node.conditions={build:function(r){this.tokentype===p.START&&r.tmp.conditions.addMatch(this.match),this.tokentype===p.END&&r.tmp.conditions.matchCombine()}};p.Node.condition={build:function(r){if(this.tokentype===p.SINGLETON){var t=r.fun.match[this.match](this,r,this.tests);r.tmp.conditions.addTest(t)}}};p.Conditions={};p.Conditions.TopNode=function(r){var t;(this.tokentype===p.START||this.tokentype===p.SINGLETON)&&(this.locale&&(r.opt.lang=this.locale),!this.tests||!this.tests.length?r.tmp.conditions=new p.Conditions.Engine(r,this):this.test=r.fun.match[this.match](this,r,this.tests),r.build.substitute_level.value()===0&&(t=function(e){e.tmp.condition_counter++},this.execs.push(t))),(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(r.build.substitute_level.value()===0&&(t=function(e){if(e.tmp.condition_counter--,e.tmp.condition_lang_counter_arr.length>0){var i=e.tmp.condition_lang_counter_arr.slice(-1)[0];i===e.tmp.condition_counter&&(e.opt.lang=e.tmp.condition_lang_val_arr.pop(),e.tmp.condition_lang_counter_arr.pop())}this.locale_default&&(e.output.current.value().old_locale=this.locale_default,e.output.closeLevel("empty"),e.opt.lang=this.locale_default)},this.execs.push(t)),t=function(e){var i=this[e.tmp.jump.value()];return i},this.execs.push(t),this.locale_default&&(r.opt.lang=this.locale_default))};p.Conditions.Configure=function(r,t){this.tokentype===p.START?(this.fail=r.configure.fail.slice(-1)[0],this.succeed=this.next,r.configure.fail[r.configure.fail.length-1]=t):this.tokentype===p.SINGLETON?(this.fail=this.next,this.succeed=r.configure.succeed.slice(-1)[0],r.configure.fail[r.configure.fail.length-1]=t):(this.succeed=r.configure.succeed.slice(-1)[0],this.fail=this.next)};p.Conditions.Engine=function(r,t){this.token=t,this.state=r};p.Conditions.Engine.prototype.addTest=function(r){this.token.tests||(this.token.tests=[]),this.token.tests.push(r)};p.Conditions.Engine.prototype.addMatch=function(r){this.token.match=r};p.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)};p.Node.info={build:function(r){this.tokentype===p.START?r.build.skip="info":r.build.skip=!1}};p.Node.institution={build:function(r,t){if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){var e=function(i){typeof this.strings.delimiter=="string"?i.tmp.institution_delimiter=this.strings.delimiter:i.tmp.institution_delimiter=i.tmp.name_delimiter,i.inheritOpt(this,"and")==="text"?this.and_term=i.getTerm("and","long",0):i.inheritOpt(this,"and")==="symbol"?i.opt.development_extensions.expect_and_symbol_form?this.and_term=i.getTerm("and","symbol",0):this.and_term="&":i.inheritOpt(this,"and")==="none"&&(this.and_term=i.tmp.institution_delimiter),typeof this.and_term>"u"&&i.tmp.and_term&&(this.and_term=i.tmp.and_term),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof i.tmp.institution_delimiter=="string"&&(this.and_prefix_multiple=i.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),i.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=i.tmp.institution_delimiter:i.inheritOpt(this,"delimiter-precedes-last")==="never"&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},typeof this.and_term<"u"?(i.output.append(this.and_term,"empty",!0),this.and.single=i.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,i.output.append(this.and_term,"empty",!0),this.and.multiple=i.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):this.strings.delimiter!=="undefined"&&(this.and.single=new p.Blob(i.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(i.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),i.nameOutput.institution=this};this.execs.push(e)}t.push(this)},configure:function(r){[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(r.build.has_institution=!0)}};p.Node["institution-part"]={build:function(r,t){var e;this.strings.name==="long"?this.strings["if-short"]?e=function(i){i.nameOutput.institutionpart["long-with-short"]=this}:e=function(i){i.nameOutput.institutionpart.long=this}:this.strings.name==="short"&&(e=function(i){i.nameOutput.institutionpart.short=this}),this.execs.push(e),t.push(this)}};p.Node.key={build:function(r,t){t=r[r.build.root+"_sort"].tokens;var e,i=new p.Token("key",p.START);r.tmp.root=r.build.root,i.strings["et-al-min"]=r.inheritOpt(this,"et-al-min"),i.strings["et-al-use-first"]=r.inheritOpt(this,"et-al-use-first"),i.strings["et-al-use-last"]=r.inheritOpt(this,"et-al-use-last"),e=function(g){g.tmp.done_vars=[]},i.execs.push(e),e=function(g){g.output.openLevel("empty")},i.execs.push(e);var n=[];if(this.strings.sort_direction===p.DESCENDING?(n.push(1),n.push(-1)):(n.push(-1),n.push(1)),r[r.build.area].opt.sort_directions.push(n),p.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(r.build.date_key=!0),e=function(g){g.tmp.sort_key_flag=!0,g.inheritOpt(this,"et-al-min")&&(g.tmp["et-al-min"]=g.inheritOpt(this,"et-al-min")),g.inheritOpt(this,"et-al-use-first")&&(g.tmp["et-al-use-first"]=g.inheritOpt(this,"et-al-use-first")),typeof g.inheritOpt(this,"et-al-use-last")=="boolean"&&(g.tmp["et-al-use-last"]=g.inheritOpt(this,"et-al-use-last"))},i.execs.push(e),t.push(i),this.variables.length){var a=this.variables[0];if(p.NAME_VARIABLES.indexOf(a)>-1){var s=new p.Token("names",p.START);s.tokentype=p.START,s.variables=this.variables,p.Node.names.build.call(s,r,t);var o=new p.Token("name",p.SINGLETON);o.tokentype=p.SINGLETON,o.strings["name-as-sort-order"]="all",o.strings["sort-separator"]=" ",o.strings["et-al-use-last"]=r.inheritOpt(this,"et-al-use-last"),o.strings["et-al-min"]=r.inheritOpt(this,"et-al-min"),o.strings["et-al-use-first"]=r.inheritOpt(this,"et-al-use-first"),p.Node.name.build.call(o,r,t);var l=new p.Token("institution",p.SINGLETON);l.tokentype=p.SINGLETON,p.Node.institution.build.call(l,r,t);var u=new p.Token("names",p.END);u.tokentype=p.END,p.Node.names.build.call(u,r,t)}else{var f=new p.Token("text",p.SINGLETON);if(f.strings.sort_direction=this.strings.sort_direction,f.dateparts=this.dateparts,p.NUMERIC_VARIABLES.indexOf(a)>-1)a==="citation-number"?e=function(g,y){if(g.tmp.area==="bibliography_sort"&&(this.strings.sort_direction===p.DESCENDING?g.bibliography_sort.opt.citation_number_sort_direction=p.DESCENDING:g.bibliography_sort.opt.citation_number_sort_direction=p.ASCENDING),g.tmp.area==="citation_sort"&&g.bibliography_sort.tmp.citation_number_map)var _=g.bibliography_sort.tmp.citation_number_map[g.registry.registry[y.id].seq];else var _=g.registry.registry[y.id].seq;_&&(_=p.Util.padding(""+_)),g.output.append(_,this)}:e=function(g,y){var _=!1;_=y[a],_&&(_=p.Util.padding(_)),g.output.append(_,this)};else if(a==="citation-label")e=function(g,y){var _=g.getCitationLabel(y);g.output.append(_,this)};else if(p.DATE_VARIABLES.indexOf(a)>-1)e=p.dateAsSortKey,f.variables=this.variables;else if(a==="title"){var h="title",c=!1,m=!1,d=!0;e=r.transform.getOutputFunction(this.variables,h,c,m,d)}else a==="court-class"?e=function(g,y,_){p.INIT_JURISDICTION_MACROS(g,y,_,"juris-main");var w=p.GET_COURT_CLASS(g,y,!0);g.output.append(w,"empty")}:e=function(g,y){var _=y[a];g.output.append(_,"empty")};f.execs.push(e),t.push(f)}}else{var v=new p.Token("text",p.SINGLETON);v.strings.sort_direction=this.strings.sort_direction,v.postponed_macro=this.postponed_macro,p.expandMacro.call(r,v,t)}var b=new p.Token("key",p.END);e=function(g){var y=g.output.string(g,g.output.queue);g.sys.normalizeUnicode&&(y=g.sys.normalizeUnicode(y)),y=y?y.split(" ").join(g.opt.sort_sep)+g.opt.sort_sep:"",y===""&&(y=void 0),typeof y!="string"&&(y=void 0),g[g[g.tmp.area].root+"_sort"].keys.push(y),g.tmp.value=[]},b.execs.push(e),r.build.date_key&&(r.build.area==="citation"&&r.build.extension==="_sort"&&(r[r.build.area].opt.sort_directions.push([-1,1]),e=function(g,y){var _=g.registry.registry[y.id].disambig.year_suffix;_||(_=0);var w=p.Util.padding(""+_);g[g.tmp.area].keys.push(w)},b.execs.push(e)),r.build.date_key=!1),e=function(g){g.tmp["et-al-min"]=void 0,g.tmp["et-al-use-first"]=void 0,g.tmp["et-al-use-last"]=void 0,g.tmp.sort_key_flag=!1},b.execs.push(e),t.push(b)}};p.Node.label={build:function(r,t){if(this.strings.term){var e=function(o,l,u){var f=p.evaluateLabel(this,o,l,u);u&&this.strings.term==="locator"&&(u.section_form_override=this.strings.form),f&&(o.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(o,f,null,this),f.indexOf("%s")===-1&&(this.strings.capitalize_if_first&&!o.tmp.term_predecessor&&!(o.opt.class==="in-text"&&o.tmp.area==="citation")&&(f=p.Output.Formatters["capitalize-first"](o,f)),o.output.append(f,this))};this.execs.push(e)}else{this.strings.form||(this.strings.form="long");for(var i=r.build.names_variables[r.build.names_variables.length-1],n=r.build.name_label[r.build.name_label.length-1],a=0,s=i.length;a<s;a+=1)n[i[a]]||(n[i[a]]={});if(r.build.name_flag)for(var a=0,s=i.length;a<s;a+=1)n[i[a]].after=this;else for(var a=0,s=i.length;a<s;a+=1)n[i[a]].before=this}t.push(this)}};p.Node.layout={build:function(r,t){var e,i,n,a;function s(){r.build.area==="bibliography"&&(n=new p.Token("text",p.SINGLETON),e=function(u){if(!u.tmp.parallel_and_not_last){var f;u.tmp.cite_affixes[u.tmp.area][u.tmp.last_cite_locale]?f=u.tmp.cite_affixes[u.tmp.area][u.tmp.last_cite_locale].suffix:f=u.bibliography.opt.layout_suffix;var h=u.output.current.value();u.opt.using_display?h.blobs[h.blobs.length-1].strings.suffix=f:h.strings.suffix=f}u.bibliography.opt["second-field-align"]&&u.output.endTag("bib_other")},n.execs.push(e),t.push(n))}this.tokentype===p.START&&(this.locale_raw?r.build.current_default_locale=this.locale_raw:r.build.current_default_locale=r.opt["default-locale"],e=function(u,f,h){if(u.opt.development_extensions.apply_citation_wrapper&&u.sys.wrapCitationEntry&&!u.tmp.just_looking&&f.system_id&&u.tmp.area==="citation"){var c=new p.Token("group",p.START);c.decorations=[["@cite","entry"]],u.output.startTag("cite_entry",c),u.output.current.value().item_id=f.system_id,h&&(u.output.current.value().locator_txt=h.locator_txt,u.output.current.value().suffix_txt=h.suffix_txt)}},this.execs.push(e)),this.tokentype===p.START&&!r.tmp.cite_affixes[r.build.area]&&(e=function(u,f,h){if(u.tmp.done_vars=[],h&&h["author-only"]&&u.tmp.done_vars.push("locator"),u.opt.suppressedJurisdictions[f.country]&&f.country&&["treaty","patent"].indexOf(f.type)===-1&&u.tmp.done_vars.push("country"),!u.tmp.just_looking&&u.registry.registry[f.id]&&u.registry.registry[f.id].parallel&&u.tmp.done_vars.push("first-reference-note-number"),!u.tmp.just_looking&&u.tmp.abbrev_trimmer&&f.jurisdiction)for(var c in u.tmp.abbrev_trimmer.QUASHES[f.jurisdiction])u.tmp.done_vars.push(c);u.tmp.rendered_name=!1},this.execs.push(e),e=function(u){u.tmp.sort_key_flag=!1},this.execs.push(e),e=function(u){u.tmp.nameset_counter=0},this.execs.push(e),e=function(u,f){var h=new p.Token;u.output.openLevel(h)},this.execs.push(e),t.push(this),r.build.area==="citation"&&(i=new p.Token("text",p.SINGLETON),e=function(u,f,h){if(h&&h.prefix){var c=p.checkPrefixSpaceAppend(u,h.prefix);u.tmp.just_looking||(c=u.output.checkNestedBrace.update(c));var m=p.checkIgnorePredecessor(u,c);u.output.append(c,this,!1,m)}},i.execs.push(e),t.push(i)));var o;if(this.locale_raw&&(o=new p.Token("dummy",p.START),o.locale=this.locale_raw,o.strings.delimiter=this.strings.delimiter,o.strings.suffix=this.strings.suffix,r.tmp.cite_affixes[r.build.area]||(r.tmp.cite_affixes[r.build.area]={})),this.tokentype===p.START&&(r.build.layout_flag=!0,this.locale_raw||(r[r.tmp.area].opt.topdecor=[this.decorations],r[r.tmp.area+"_sort"].opt.topdecor=[this.decorations],r[r.build.area].opt.layout_prefix=this.strings.prefix,r[r.build.area].opt.layout_suffix=this.strings.suffix,r[r.build.area].opt.layout_delimiter=this.strings.delimiter,r[r.build.area].opt.layout_decorations=this.decorations,r.tmp.cite_affixes[r.build.area]&&(a=new p.Token("else",p.START),p.Node.else.build.call(a,r,t))),this.locale_raw)){if(r.build.layout_locale_flag)o.name="else-if",p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node["else-if"].build.call(o,r,t);else{var l=new p.Token("choose",p.START);p.Node.choose.build.call(l,r,t),o.name="if",p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node.if.build.call(o,r,t)}r.tmp.cite_affixes[r.build.area][o.locale]={},r.tmp.cite_affixes[r.build.area][o.locale].delimiter=this.strings.delimiter,r.tmp.cite_affixes[r.build.area][o.locale].suffix=this.strings.suffix}this.tokentype===p.END&&(this.locale_raw&&(s(),r.build.layout_locale_flag?(o.name="else-if",o.tokentype=p.END,p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node["else-if"].build.call(o,r,t)):(o.name="if",o.tokentype=p.END,p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node.if.build.call(o,r,t),r.build.layout_locale_flag=!0)),this.locale_raw||(s(),r.tmp.cite_affixes[r.build.area]&&r.build.layout_locale_flag&&(a=new p.Token("else",p.END),p.Node.else.build.call(a,r,t),a=new p.Token("choose",p.END),p.Node.choose.build.call(a,r,t)),r.build_layout_locale_flag=!0,r.build.area==="citation"&&(n=new p.Token("text",p.SINGLETON),e=function(u,f,h){if(h&&h.suffix){var c=p.checkSuffixSpacePrepend(u,h.suffix);u.tmp.just_looking||(c=u.output.checkNestedBrace.update(c)),u.output.append(c,this)}},n.execs.push(e),t.push(n)),e=function(u){u.output.closeLevel()},this.execs.push(e),e=function(u,f){u.opt.development_extensions.apply_citation_wrapper&&u.sys.wrapCitationEntry&&!u.tmp.just_looking&&f.system_id&&u.tmp.area==="citation"&&u.output.endTag()},this.execs.push(e),t.push(this),r.build.layout_flag=!1,r.build.layout_locale_flag=!1))}};p.Node.macro={build:function(){}};p.Node.alternative={build:function(r,t){if(this.tokentype===p.START){var e=new p.Token("choose",p.START);p.Node.choose.build.call(e,r,t);var i=new p.Token("if",p.START);p.Attributes["@alternative-node-internal"].call(i,r),p.Node.if.build.call(i,r,t);var n=function(a,s){if(a.tmp.oldItem=s,a.tmp.oldLang=a.opt.lang,a.tmp.abort_alternative=!0,s["language-name"]&&s["language-name-original"]){var o=JSON.parse(JSON.stringify(s));o.language=o["language-name"];var l=p.localeResolve(o.language,a.opt["default-locale"][0]);if(a.opt.multi_layout)for(var u in a.opt.multi_layout){var f=a.opt.multi_layout[u],h=!1;for(var c in f){var m=f[c];if(l.best===m.best||l.base===m.base||l.bare===m.bare){h=f[0].best;break}}h||(h=a.opt["default-locale"][0]),a.opt.lang=h}for(var d in o)if(["id","type","language","multi"].indexOf(d)===-1&&d.slice(0,4)!=="alt-")if(o.multi&&o.multi._keys[d]){var v=!0;for(var b in o.multi._keys[d])if(l.bare===b.replace(/^([a-zA-Z]+).*/,"$1")){v=!1;break}v&&delete o[d]}else delete o[d];for(var d in o)d.slice(0,4)==="alt-"?(o[d.slice(4)]=o[d],a.tmp.abort_alternative=!1):o.multi&&o.multi._keys&&!o["alt-"+d]&&o.multi._keys[d]&&(o.multi._keys[d][l.best]?(o[d]=o.multi._keys[d][l.best],a.tmp.abort_alternative=!1):o.multi._keys[d][l.base]?(o[d]=o.multi._keys[d][l.base],a.tmp.abort_alternative=!1):o.multi._keys[d][l.bare]&&(o[d]=o.multi._keys[d][l.bare],a.tmp.abort_alternative=!1))}a.output.openLevel(this),a.registry.refhash[s.id]=o,a.nameOutput=new p.NameOutput(a,o)};this.execs.push(n),t.push(this);var e=new p.Token("choose",p.START);p.Node.choose.build.call(e,r,t);var i=new p.Token("if",p.START);p.Attributes["@alternative-node-internal"].call(i,r);var n=function(a){a.tmp.abort_alternative=!0};i.execs.push(n),p.Node.if.build.call(i,r,t)}else if(this.tokentype===p.END){var i=new p.Token("if",p.END);p.Node.if.build.call(i,r,t);var e=new p.Token("choose",p.END);p.Node.choose.build.call(e,r,t);var n=function(l,u){l.output.closeLevel(),l.registry.refhash[u.id]=l.tmp.oldItem,l.opt.lang=l.tmp.oldLang,l.nameOutput=new p.NameOutput(l,l.tmp.oldItem),l.tmp.abort_alternative=!1};this.execs.push(n),t.push(this);var i=new p.Token("if",p.END);p.Node.if.build.call(i,r,t);var e=new p.Token("choose",p.END);p.Node.choose.build.call(e,r,t)}}};p.Node["alternative-text"]={build:function(r,t){if(this.tokentype===p.SINGLETON){var e=function(i,a){var a=i.refetchItem(a.id);p.getCite.call(i,a)};this.execs.push(e)}t.push(this)}};p.NameOutput=function(r,t,e){this.debug=!1,this.state=r,this.debug&&this.state.sys.print("(1)"),this.Item=t,this.item=e,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1};p.NameOutput.prototype.init=function(r){this.requireMatch=r.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=r,this.variables=r.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var t=0,e=this.variables.length;t<e;t+=1)this.Item[this.variables[t]]&&this.Item[this.variables[t]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[t]]));if(this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],!!this.state.tmp.value.length){var i=this.checkCommonAuthor(this.requireMatch);if(i){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var t in this.variables){var n=this.state.tmp.done_vars.indexOf(this.variables[t]);n>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,n).concat(this.state.tmp.done_vars.slice(t+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}}};p.NameOutput.prototype.reinit=function(r,t){if(this.requireMatch=r.requireMatch,this.labelVariable=t,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=r.variables;var e=this.state.tmp.value.slice();this.state.tmp.value=[];for(var i=0,n=this.variables.length;i<n;i+=1)this.Item[this.variables[i]]&&this.Item[this.variables[i]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[i]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.value=e}var a=this.checkCommonAuthor(this.requireMatch);if(a){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var i in this.variables){var s=this.state.tmp.done_vars.indexOf(this.variables[i]);s>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,s).concat(this.state.tmp.done_vars.slice(i+1)))}this.variables=[]}};p.NameOutput.prototype.outputNames=function(){var r,t,e=this.variables;if(this.institution.and&&((!this.institution.and.single.blobs||!this.institution.and.single.blobs.length)&&(this.institution.and.single.blobs=this.name.and.single.blobs),(!this.institution.and.multiple.blobs||!this.institution.and.multiple.blobs.length)&&(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=p.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",r=0,t=this.family.execs.length;r<t;r+=1)this.family.execs[r].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=p.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",r=0,t=this.given.execs.length;r<t;r+=1)this.given.execs[r].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&this.state.sys.print("(2)"),this.getEtAlConfig(),this.debug&&this.state.sys.print("(3)"),this.divideAndTransliterateNames(),this.debug&&this.state.sys.print("(4)"),this.truncatePersonalNameLists(),this.debug&&this.state.sys.print("(5)"),this.debug&&this.state.sys.print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&this.state.sys.print("(7)"),this.name.strings.form==="count"){(this.state.tmp.extension||this.names_count!=0)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0);return}this.debug&&this.state.sys.print("(8)"),this.setEtAlParameters(),this.debug&&this.state.sys.print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&this.state.sys.print("(10)"),this.renderAllNames(),this.debug&&this.state.sys.print("(11)");var i=[];for(r=0,t=e.length;r<t;r+=1){var n=e[r],a=[],s=!1,o=null;if(!this.state.opt.development_extensions.spoof_institutional_affiliations)o=this._join([this.freeters[n]],"");else{this.debug&&this.state.sys.print("(11a)");for(var l=0,u=this.institutions[n].length;l<u;l+=1)a.push(this.joinPersonsAndInstitutions([this.persons[n][l],this.institutions[n][l]]));if(this.debug&&this.state.sys.print("(11b)"),this.institutions[n].length){var f=this.nameset_base+this.variable_offset[n];this.freeters[n].length&&(f+=1),s=this.joinInstitutionSets(a,f)}this.debug&&this.state.sys.print("(11c)");var o=this.joinFreetersAndInstitutionSets([this.freeters[n],s]);this.debug&&this.state.sys.print("(11d)")}if(o&&(this.state.tmp.extension||(o=this._applyLabels(o,n)),i.push(o)),this.debug&&this.state.sys.print("(11e)"),this.common_term)break}for(this.debug&&this.state.sys.print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&this.state.sys.print("(13)"),r=0,t=i.length;r<t;r+=1)this.state.output.append(i[r],"literal",!0);!this.state.tmp.just_looking&&i.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&this.state.sys.print("(14)"),this.state.output.closeLevel("empty"),this.debug&&this.state.sys.print("(15)");var h=this.state.output.pop();this.state.tmp.name_node.top=h,this.debug&&this.state.sys.print("(16)");var c=p.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&p.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(h,c),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&this.state.sys.print("(17)"),this.debug&&this.state.sys.print("(18)"),e[0]!=="authority"){var m=[],d=this.Item[e[0]];if(d)for(var r=0,t=d.length;r<t;r+=1){var v=p.Util.Names.getRawName(d[r]);v&&m.push(v)}m=m.join(", "),m&&(this.state.tmp.name_node.string=m)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),this.Item.type==="classic"&&this.state.tmp.first_name_string){var b=[];b.push(this.state.tmp.first_name_string),this.Item.title&&b.push(this.Item.title),b=b.join(", "),b&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(b=this.state.sys.normalizeAbbrevsKey("classic",b)),this.state.transform.loadAbbreviation("default","classic",b,this.Item.language),this.state.transform.abbrevs.default.classic[b]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[b],"empty",!0),h=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(h)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&this.state.sys.print("(19)")};p.NameOutput.prototype._applyLabels=function(r,t){var e;if(!this.label||!this.label[this.labelVariable])return r;var i=0,n=this.freeters_count[t]+this.institutions_count[t];if(n>1)i=1;else{for(var a=0,s=this.persons[t].length;a<s;a+=1)n+=this.persons_count[t][a];n>1&&(i=1)}return this.label[this.labelVariable].before?(typeof this.label[this.labelVariable].before.strings.plural=="number"&&(i=this.label[this.labelVariable].before.strings.plural),e=this._buildLabel(t,i,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(e,this.label[this.labelVariable].before,!0),this.state.output.append(r,"literal",!0),this.state.output.closeLevel("empty"),r=this.state.output.pop()):this.label[this.labelVariable].after&&(typeof this.label[this.labelVariable].after.strings.plural=="number"&&(i=this.label[this.labelVariable].after.strings.plural),e=this._buildLabel(t,i,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(r,"literal",!0),this.state.output.append(e,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),r=this.state.output.pop()),r};p.NameOutput.prototype._buildLabel=function(r,t,e,i){this.common_term&&(r=this.common_term);var n=!1,a=this.label[i][e];return a&&(n=p.castLabel(this.state,a,r,t,p.TOLERANT)),n};p.NameOutput.prototype._collapseAuthor=function(){var r,t,e;this.state.tmp.name_node.top.blobs.length!==0&&(this.nameset_base===0&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(t="",r=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,e=this.state.tmp.offset_characters,r&&(t=this.state.output.string(this.state,r,!1)),this.state.tmp.offset_characters=e,this.state.registry.authorstrings[this.Item.id]=t):!this.state.tmp.just_looking&&!this.state.tmp.suppress_decorations&&(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)&&(t="",r=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,e=this.state.tmp.offset_characters,r&&(t=this.state.output.string(this.state,r,!1)),t===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=e),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=t,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&this.Item.type!=="legal_case"&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=e,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))};p.NameOutput.prototype.isPerson=function(r){return!(r.literal||!r.given&&r.family&&r.isInstitution)};p.NameOutput.prototype.truncatePersonalNameLists=function(){var r,t,e,i,n,a;this.freeters_count={},this.persons_count={},this.institutions_count={};for(r in this.freeters)this.freeters.hasOwnProperty(r)&&(this.freeters_count[r]=this.freeters[r].length,this.freeters[r]=this._truncateNameList(this.freeters,r));for(r in this.persons)if(this.persons.hasOwnProperty(r))for(this.institutions_count[r]=this.institutions[r].length,this._truncateNameList(this.institutions,r),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.persons_count[r]=[],i=0,n=this.persons[r].length;i<n;i+=1)this.persons_count[r][i]=this.persons[r][i].length,this.persons[r][i]=this._truncateNameList(this.persons,r,i);if(this.state.opt.development_extensions.etal_min_etal_usefirst_hack&&this.etal_min===1&&this.etal_use_first===1&&!(this.state.tmp.extension||this.state.tmp.just_looking)?a=r:a=!1,a||this._please_chop)for(t=0,e=this.variables.length;t<e;t+=1){r=this.variables[t],this.freeters[r].length&&(this._please_chop===r?(this.freeters[r]=this.freeters[r].slice(1),this.freeters_count[r]+=-1,this._please_chop=!1):a&&!this._please_chop&&(this.freeters[r]=this.freeters[r].slice(0,1),this.freeters_count[r]=1,this.institutions[r]=[],this.persons[r]=[],this._please_chop=a));for(var i=0,n=this.persons[r].length;i<n;i++)if(this.persons[r][i].length){if(this._please_chop===r){this.persons[r][i]=this.persons[r][i].slice(1),this.persons_count[r][i]+=-1,this._please_chop=!1;break}else if(a&&!this._please_chop){this.freeters[r]=this.persons[r][i].slice(0,1),this.freeters_count[r]=1,this.institutions[r]=[],this.persons[r]=[],this._please_chop=a;break}}this.institutions[r].length&&(this._please_chop===r?(this.institutions[r]=this.institutions[r].slice(1),this.institutions_count[r]+=-1,this._please_chop=!1):a&&!this._please_chop&&(this.institutions[r]=this.institutions[r].slice(0,1),this.institutions_count[r]=1,this._please_chop=a))}for(t=0,e=this.variables.length;t<e;t+=1){this.institutions[r].length&&(this.nameset_offset+=1);for(var i=0,n=this.persons[r].length;i<n;i++)this.persons[r][i].length&&(this.nameset_offset+=1)}};p.NameOutput.prototype._truncateNameList=function(r,t,e){var i;if(typeof e>"u"?i=r[t]:i=r[t][e],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&i.length>50&&i.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var n=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;i=i.slice(0,n+1).concat(i.slice(-1))}return i};p.NameOutput.prototype.divideAndTransliterateNames=function(){var r,t,e,i,n=this.Item,a=this.variables;for(this.varnames=a.slice(),this.freeters={},this.persons={},this.institutions={},r=0,t=a.length;r<t;r+=1){var s=a[r];this.variable_offset[s]=this.nameset_offset;var o=this._normalizeVariableValue(n,s);if(this.name.strings["suppress-min"]&&o.length>=this.name.strings["suppress-min"]&&(o=[]),this.name.strings["suppress-max"]&&o.length<=this.name.strings["suppress-max"]&&(o=[]),this._getFreeters(s,o),this._getPersonsAndInstitutions(s,o),this.state.opt.development_extensions.spoof_institutional_affiliations){if(this.name.strings["suppress-min"]===0)for(this.freeters[s]=[],e=0,i=this.persons[s].length;e<i;e+=1)this.persons[s][e]=[];else if(this.institution.strings["suppress-min"]===0){for(this.institutions[s]=[],this.freeters[s]=this.freeters[s].concat(this.persons[s]),e=0,i=this.persons[s].length;e<i;e+=1)for(var l=0,u=this.persons[s][e].length;l<u;l+=1)this.freeters[s].push(this.persons[s][e][l]);this.persons[s]=[]}}}};p.NameOutput.prototype._normalizeVariableValue=function(r,t){var e;return typeof r[t]=="string"||typeof r[t]=="number"?(p.debug('name variable "'+t+'" is string or number, not array. Attempting to fix.'),e=[{literal:r[t]+""}]):r[t]?(typeof r[t].length!="number"&&(p.debug('name variable "'+t+'" is object, not array. Attempting to fix.'),r[t]=[r[t]]),e=r[t].slice()):e=[],e};p.NameOutput.prototype._getFreeters=function(r,t){if(this.freeters[r]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var e=t.length-1;e>-1&&this.isPerson(t[e]);e--){var i=this._checkNickname(t.pop());i&&this.freeters[r].push(i)}else for(var e=t.length-1;e>-1;e--){var i=t.pop();if(this.isPerson(i))var i=this._checkNickname(i);this.freeters[r].push(i)}this.freeters[r].reverse(),this.freeters[r].length&&(this.nameset_offset+=1)};p.NameOutput.prototype._getPersonsAndInstitutions=function(r,t){if(this.persons[r]=[],this.institutions[r]=[],!!this.state.opt.development_extensions.spoof_institutional_affiliations){for(var e=[],i=!1,n=!0,a=t.length-1;a>-1;a+=-1)if(this.isPerson(t[a])){var s=this._checkNickname(t[a]);s&&e.push(s)}else i=!0,this.institutions[r].push(t[a]),n||(e.reverse(),this.persons[r].push(e),e=[]),n=!1;i&&(e.reverse(),this.persons[r].push(e),this.persons[r].reverse(),this.institutions[r].reverse())}};p.NameOutput.prototype._clearValues=function(r){for(var t=r.length-1;t>-1;t+=-1)r.pop()};p.NameOutput.prototype._checkNickname=function(r){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var t="";if(t=p.Util.Names.getRawName(r),t&&this.state.sys.getAbbreviation&&!(this.item&&this.item["suppress-author"])){var e=t;this.state.sys.normalizeAbbrevsKey&&(e=this.state.sys.normalizeAbbrevsKey("author",t)),this.state.transform.loadAbbreviation("default","nickname",e,this.Item.language);var i=this.state.transform.abbrevs.default.nickname[e];i&&(i==="!here>>>"?r=!1:r={family:i,given:""})}}return r};p.NameOutput.prototype._purgeEmptyBlobs=function(r){for(var t=r.length-1;t>-1;t+=-1)(!r[t]||r[t].length===0||!r[t].blobs.length)&&(r=r.slice(0,t).concat(r.slice(t+1)));return r};p.NameOutput.prototype.joinPersons=function(r,t,e,i){var n;return r=this._purgeEmptyBlobs(r),typeof e>"u"?this.etal_spec[t].freeters===1?n=this._joinEtAl(r):this.etal_spec[t].freeters===2?n=this._joinEllipsis(r):this.state.tmp.sort_key_flag?n=this._join(r,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):n=this._joinAnd(r):this.etal_spec[t].persons[e]===1?n=this._joinEtAl(r):this.etal_spec[t].persons[e]===2?n=this._joinEllipsis(r):this.state.tmp.sort_key_flag?n=this._join(r,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):n=this._joinAnd(r),n};p.NameOutput.prototype.joinInstitutionSets=function(r,t){var e;return r=this._purgeEmptyBlobs(r),this.etal_spec[t].institutions===1?e=this._joinEtAl(r,"institution"):this.etal_spec[t].institutions===2?e=this._joinEllipsis(r,"institution"):e=this._joinAnd(r),e};p.NameOutput.prototype.joinPersonsAndInstitutions=function(r){r=this._purgeEmptyBlobs(r);var t=this._join(r,this.state.tmp.name_delimiter);return t.isInstitution=!0,t};p.NameOutput.prototype.joinFreetersAndInstitutionSets=function(r){r=this._purgeEmptyBlobs(r);var t=this._join(r,"[never here]",this.with.single,this.with.multiple);return t};p.NameOutput.prototype._getAfterInvertedName=function(r,t,e){if(e&&r.length>1&&this.state.inheritOpt(this.name,"delimiter-precedes-last")==="after-inverted-name"){var i=r[r.length-2];i.blobs.length>0&&i.blobs[0].isInverted&&(e.strings.prefix=t)}return e};p.NameOutput.prototype._getAndJoin=function(r,t){var e=!1;if(r.length>1){var i="single";r.length>2&&(i="multiple"),r[r.length-1].isInstitution?e=this.institution.and[i]:e=this.name.and[i],e=JSON.parse(JSON.stringify(e)),e=this._getAfterInvertedName(r,t,e)}return e};p.NameOutput.prototype._joinEtAl=function(r){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),e=this._join(r,t);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(e,"literal",!0),r.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):r.length===1&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()};p.NameOutput.prototype._joinEllipsis=function(r){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),e=!1;if(r.length>1){var i="single";r.length>2&&(i="multiple"),e=JSON.parse(JSON.stringify(this.name.ellipsis[i])),e=this._getAfterInvertedName(r,t,e)}return this._join(r,t,e)};p.NameOutput.prototype._joinAnd=function(r){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),e=this._getAndJoin(r,t);return this._join(r,t,e)};p.NameOutput.prototype._join=function(r,t,e){var i,n;if(!r||(r=this._purgeEmptyBlobs(r),!r.length))return!1;if(r.length>1)if(r.length===2)e?r=[r[0],e,r[1]]:r[0].strings.suffix+=t;else{var a;e?a=1:a=0;for(var s=r.pop(),i=0,n=r.length-a;i<n;i++)r[i].strings.suffix+=t;r.push(e),r.push(s)}for(this.state.output.openLevel(),i=0,n=r.length;i<n;i+=1)this.state.output.append(r[i],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()};p.NameOutput.prototype._getToken=function(r){var t=this[r];if(r==="institution"){var e=new p.Token;return e}return t};p.NameOutput.prototype.checkCommonAuthor=function(r){if(!r)return!1;var t=!1;if(this.variables.length===2){var e=this.variables,i=e.slice();i.sort(),t=i.join("")}if(!t)return!1;var n=!1;if(this.state.locale[this.state.opt.lang].terms[t]&&(n=!0),!n)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var a=this.Item[this.variables[0]],s=this.Item[this.variables[1]],o=this._compareNamesets(a,s);return o===!0&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!o};p.NameOutput.prototype.setCommonTerm=function(){var r=this.variables,t=r.slice();if(t.sort(),this.common_term=t.join(""),!!this.common_term){var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2){this.common_term=!1;return}for(var i=0,n=this.variables.length-1;i<n;i+=1){var a=this.variables[i],s=this.variables[i+1];if((this.freeters[a].length||this.freeters[s].length)&&(this.etal_spec[a].freeters!==this.etal_spec[s].freeters||!this._compareNamesets(this.freeters[a],this.freeters[s]))){this.common_term=!1;return}if(this.persons[a].length!==this.persons[s].length){this.common_term=!1;return}for(var o=0,l=this.persons[a].length;o<l;o+=1)if(this.etal_spec[a].persons[o]!==this.etal_spec[s].persons[o]||!this._compareNamesets(this.persons[a][o],this.persons[s][o])){this.common_term=!1;return}}}};p.NameOutput.prototype._compareNamesets=function(r,t){if(!r||!t||r.length!==t.length)return!1;for(var e=0,i=t.length;e<i;e+=1)for(var n=0,a=p.NAME_PARTS.length;n<a;n+=1){var s=p.NAME_PARTS[n];if(!r[e]||r[e][s]!=t[e][s])return!1}return!0};p.NameOutput.prototype.constrainNames=function(){this.names_count=0;for(var r,t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];r=this.nameset_base+t,this.freeters[i].length&&(this.state.tmp.names_max.push(this.freeters[i].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,i,r),this.names_count+=this.freeters[i].length),this.institutions[i].length&&(this.state.tmp.names_max.push(this.institutions[i].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,i,r),this.persons[i]=this.persons[i].slice(0,this.institutions[i].length),this.names_count+=this.institutions[i].length);for(var n=0,a=this.persons[i].length;n<a;n+=1)this.persons[i][n].length&&(this.state.tmp.names_max.push(this.persons[i][n].length,"literal"),this._imposeNameConstraints(this.persons[i],this.persons_count[i],n,r),this.names_count+=this.persons[i][n].length)}};p.NameOutput.prototype._imposeNameConstraints=function(r,t,e,i){var n=r[e],a=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]?a=this.state.tmp.disambig_request.names[i]:t[e]>=this.etal_min&&(a=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]>this.etal_use_first?t[e]<this.etal_min?a=t[e]:a=this.state.tmp.disambig_request.names[i]:t[e]>=this.etal_min&&(a=this.etal_use_first),this.etal_use_last&&a>this.etal_min-2&&(a=this.etal_min-2));var s=this.etal_min>=this.etal_use_first,o=t[e]>a;a>t[e]&&(a=n.length),s&&o&&(this.etal_use_last?r[e]=n.slice(0,a).concat(n.slice(-1)):r[e]=n.slice(0,a)),this.state.tmp.disambig_settings.names[i]=r[e].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)};p.NameOutput.prototype.disambigNames=function(){for(var r,t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];if(r=this.nameset_base+t,this.freeters[i].length&&this._runDisambigNames(this.freeters[i],r),this.institutions[i].length){typeof this.state.tmp.disambig_settings.givens[r]>"u"&&(this.state.tmp.disambig_settings.givens[r]=[]);for(var n=0,a=this.institutions[i].length;n<a;n+=1)typeof this.state.tmp.disambig_settings.givens[r][n]>"u"&&this.state.tmp.disambig_settings.givens[r].push(2)}for(var n=0,a=this.persons[i].length;n<a;n+=1)this.persons[i][n].length&&this._runDisambigNames(this.persons[i][n],r)}};p.NameOutput.prototype._runDisambigNames=function(r,t){var e,i,n,a,s,o,l;for(s=0,o=r.length;s<o;s+=1)if(!(!r[s].given&&!r[s].family)){if(n=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,r[s],s),e=this.state.tmp.disambig_settings.givens[t],typeof e>"u")for(var u=0,f=t+1;u<f;u+=1)this.state.tmp.disambig_settings.givens[u]||(this.state.tmp.disambig_settings.givens[u]=[]);if(e=this.state.tmp.disambig_settings.givens[t][s],typeof e>"u"&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),a=this.state.registry.namereg.evalname(""+this.Item.id,r[s],s,0,i,n),this.state.tmp.disambig_settings.givens[t].push(a)),i=this.state.inheritOpt(this.name,"form","name-form","long"),l=this.state.registry.namereg.evalname(""+this.Item.id,r[s],s,0,i,n),this.state.tmp.disambig_request){var h=this.state.tmp.disambig_settings.givens[t][s];h===1&&this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(typeof this.state.inheritOpt(this.name,"initialize-with")>"u"||typeof r[s].given>"u")&&(h=2),a=h,this.state.opt["disambiguate-add-givenname"]&&r[s].given&&(a=this.state.registry.namereg.evalname(""+this.Item.id,r[s],s,a,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else a=l;!this.state.tmp.just_looking&&this.item&&this.item.position===p.POSITION_FIRST&&l>a&&(a=l),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[t][s]=a,typeof n=="string"&&(typeof this.name.strings.initialize>"u"||this.name.strings.initialize===!0)&&(this.state.tmp.disambig_settings.use_initials=!0))}};p.NameOutput.prototype.getEtAlConfig=function(){var r=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,typeof r>"u"&&(r={}),r.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),typeof this.state.tmp["et-al-use-last"]=="boolean"?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)};p.NameOutput.prototype.setEtAlParameters=function(){var r,t,e,i;for(r=0,t=this.variables.length;r<t;r+=1){var n=this.variables[r];for(typeof this.etal_spec[n]>"u"&&(this.etal_spec[n]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+r]=this.etal_spec[n],this.freeters[n].length&&this._setEtAlParameter("freeters",n),e=0,i=this.persons[n].length;e<i;e+=1)typeof this.etal_spec[n][e]>"u"&&(this.etal_spec[n].persons[e]=0),this._setEtAlParameter("persons",n,e);this.institutions[n].length&&this._setEtAlParameter("institutions",n)}};p.NameOutput.prototype._setEtAlParameter=function(r,t,e){var i,n;r==="persons"?(i=this.persons[t][e],n=this.persons_count[t][e]):(i=this[r][t],n=this[r+"_count"][t]),i.length<n&&!this.state.tmp.sort_key_flag?this.etal_use_last?r==="persons"?this.etal_spec[t].persons[e]=2:this.etal_spec[t][r]=2:r==="persons"?this.etal_spec[t].persons[e]=1:this.etal_spec[t][r]=1:r==="persons"?this.etal_spec[t].persons[e]=0:this.etal_spec[t][r]=0};p.NameOutput.prototype.renderAllNames=function(){for(var r,t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];(this.freeters[i].length||this.institutions[i].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),r=this.nameset_base+t,this.freeters[i].length&&(this.freeters[i]=this._renderNames(i,this.freeters[i],r));for(var n=0,a=this.institutions[i].length;n<a;n+=1)this.persons[i][n]=this._renderNames(i,this.persons[i][n],r,n)}this.renderInstitutionNames()};p.NameOutput.prototype.renderInstitutionNames=function(){for(var r=0,t=this.variables.length;r<t;r+=1)for(var e=this.variables[r],i=0,n=this.institutions[e].length;i<n;i+=1){var h,a=this.institutions[e][i],i,n,s;this.state.tmp.extension?s=["sort"]:a.isInstitution||a.literal?s=this.state.opt["cite-lang-prefs"].institutions:s=this.state.opt["cite-lang-prefs"].persons;var o={primary:"locale-orig",secondary:!1,tertiary:!1};if(s)for(var l=["primary","secondary","tertiary"],u=0,f=l.length;u<f&&!(s.length-1<u);u+=1)s[u]&&(o[l[u]]="locale-"+s[u]);else o.primary="locale-translat";this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position)&&(o.secondary=!1,o.tertiary=!1),this.setRenderedName(a);var h=this._renderInstitutionName(e,a,o,i);this.institutions[e][i]=h}};p.NameOutput.prototype._renderInstitutionName=function(r,t,e,i){var n,a,s,o,l,u,f,h=this.getName(t,e.primary,!0),c=h.name,m=h.usedOrig;if(c&&(c=this.fixupInstitution(c,r,i)),n=!1,e.secondary){h=this.getName(t,e.secondary,!1,m);var n=h.name;m=h.usedOrig,n&&(n=this.fixupInstitution(n,r,i))}a=!1,e.tertiary&&(h=this.getName(t,e.tertiary,!1,m),a=h.name,a&&(a=this.fixupInstitution(a,r,i)));var d={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(c&&(d.l.pri=c.long,d.s.pri=c.short.length?c.short:c.long),n&&(d.l.sec=n.long,d.s.sec=n.short.length?n.short:n.long),a&&(d.l.ter=a.long,d.s.ter=a.short.length?a.short:a.long),this.institution.strings["institution-parts"]){case"short":c.short.length?(o=this._getShortStyle(),l=[this._composeOneInstitutionPart([d.s.pri,d.s.sec,d.s.ter],e,o,r)]):(s=this._getLongStyle(c,r,i),l=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],e,s,r)]);break;case"short-long":s=this._getLongStyle(c,r,i),o=this._getShortStyle(),u=this._renderOneInstitutionPart(c.short,o),f=this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],e,s,r),l=[u,f];break;case"long-short":s=this._getLongStyle(c,r,i),o=this._getShortStyle(),u=this._renderOneInstitutionPart(c.short,o),f=this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],e,s,r),l=[f,u];break;default:s=this._getLongStyle(c,r,i),l=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],e,s,r)];break}var v=this._join(l," ");return v&&(v.isInstitution=!0),this.state.tmp.name_node.children.push(v),v};p.NameOutput.prototype._composeOneInstitutionPart=function(r,t,e){var i=!1,n=!1,a=!1,s,o,l;if(r[0]){if(s=p.Util.cloneToken(e),this.state.opt.citeAffixes[t.primary]&&this.state.opt.citeAffixes.institutions[t.primary].prefix==="<i>"){for(var u=!1,f=0,h=s.decorations.length;f<h;f+=1)e.decorations[f][0]==="@font-style"&&s.decorations[f][1]==="italic"&&(u=!0);u||s.decorations.push(["@font-style","italic"])}i=this._renderOneInstitutionPart(r[0],s)}r[1]&&(n=this._renderOneInstitutionPart(r[1],e)),r[2]&&(a=this._renderOneInstitutionPart(r[2],e));var c;if(n||a){this.state.output.openLevel("empty"),this.state.output.append(i),o=p.Util.cloneToken(e),t.secondary&&(o.strings.prefix=this.state.opt.citeAffixes.institutions[t.secondary].prefix,o.strings.suffix=this.state.opt.citeAffixes.institutions[t.secondary].suffix,o.strings.prefix||(o.strings.prefix=" "));var m=new p.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(n,o),this.state.output.closeLevel(),l=p.Util.cloneToken(e),t.tertiary&&(l.strings.prefix=this.state.opt.citeAffixes.institutions[t.tertiary].prefix,l.strings.suffix=this.state.opt.citeAffixes.institutions[t.tertiary].suffix,l.strings.prefix||(l.strings.prefix=" "));var d=new p.Token;d.decorations.push(["@font-style","normal"]),d.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(d),this.state.output.append(a,l),this.state.output.closeLevel(),this.state.output.closeLevel(),c=this.state.output.pop()}else c=i;return c};p.NameOutput.prototype._renderOneInstitutionPart=function(r,t){for(var e=0,i=r.length;e<i;e+=1)if(r[e]){var n=r[e];if(this.state.tmp.strip_periods)n=n.replace(/\./g,"");else for(var a=0,s=t.decorations.length;a<s;a+=1)if(t.decorations[a][0]==="@strip-periods"&&t.decorations[a][1]==="true"){n=n.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),n==="!here>>>"?r[e]=!1:(this.state.output.append(n,t,!0),r[e]=this.state.output.pop())}return typeof this.institution.strings["part-separator"]>"u"&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(r,this.institution.strings["part-separator"])};p.NameOutput.prototype._renderNames=function(r,t,e,i){var n=!1;if(t.length){for(var a=[],s=0,o=t.length;s<o;s+=1){var l=t[s],n,u;this.state.tmp.extension?u=["sort"]:l.isInstitution||l.literal?u=this.state.opt["cite-lang-prefs"].institutions:u=this.state.opt["cite-lang-prefs"].persons;var f={primary:"locale-orig",secondary:!1,tertiary:!1};if(u)for(var h=["primary","secondary","tertiary"],c=0,m=h.length;c<m&&!(u.length-1<c);c+=1)f[h[c]]="locale-"+u[c];else f.primary="locale-translat";if((this.state.tmp.sort_key_flag||this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position))&&(f.secondary=!1,f.tertiary=!1),this.setRenderedName(l),!l.literal&&!l.isInstitution){var d=this._renderPersonalName(r,l,f,e,s,i),v=p.Util.cloneToken(this.name);this.state.output.append(d,v,!0),a.push(this.state.output.pop())}else a.push(this._renderInstitutionName(r,l,f,i))}n=this.joinPersons(a,e,i)}return n};p.NameOutput.prototype._renderPersonalName=function(r,t,e,i,n,a){var s=this.getName(t,e.primary,!0),o=this._renderOnePersonalName(s.name,i,n,a),l=!1;e.secondary&&(s=this.getName(t,e.secondary,!1,s.usedOrig),s.name&&(l=this._renderOnePersonalName(s.name,i,n,a)));var u=!1;e.tertiary&&(s=this.getName(t,e.tertiary,!1,s.usedOrig),s.name&&(u=this._renderOnePersonalName(s.name,i,n,a)));var f;if(l||u){this.state.output.openLevel("empty"),this.state.output.append(o);var h=new p.Token;e.secondary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[e.secondary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[e.secondary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(l,h);var c=new p.Token;e.tertiary&&(c.strings.prefix=this.state.opt.citeAffixes.persons[e.tertiary].prefix,c.strings.suffix=this.state.opt.citeAffixes.persons[e.tertiary].suffix,c.strings.prefix||(c.strings.prefix=" ")),this.state.output.append(u,c),this.state.output.closeLevel(),f=this.state.output.pop()}else f=o;return f};p.NameOutput.prototype._isRomanesque=function(r){var t=2;r.family.replace(/\"/g,"").match(p.ROMANESQUE_REGEXP)||(t=0),!t&&r.given&&r.given.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&(t=1);var e;return t==2&&(r.multi&&r.multi.main?e=r.multi.main.slice(0,2):this.Item.language&&(e=this.Item.language.slice(0,2)),["ja","zh"].indexOf(e)>-1&&(t=1)),t};p.NameOutput.prototype._renderOnePersonalName=function(r,t,e,i){var n=r,a=this._droppingParticle(n,t,i),s=this._familyName(n),o=this._nonDroppingParticle(n),l=this._givenName(n,t,e),u=l.blob,f=this._nameSuffix(n);u===!1&&(a=!1,f=!1);var h=this.state.inheritOpt(this.name,"sort-separator");h||(h="");var c;n["comma-suffix"]?c=", ":c=" ";var m=this._isRomanesque(n);function d(T){return T?typeof T.blobs=="string"?["’","'","-"," "].indexOf(T.blobs.slice(-1))>-1:d(T.blobs[T.blobs.length-1]):!1}var v=d(o),b;["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?b=" ":b=" ";var g,y,_,w;if(m===0)g=this._join([o,s,u],"");else if(m===1||n["static-ordering"])y=this._join([o,s],b),g=this._join([y,u]," ");else if(n["reverse-ordering"])y=this._join([o,s],b),g=this._join([u,y]," ");else if(this.state.tmp.sort_key_flag)this.state.opt["demote-non-dropping-particle"]==="never"?(y=this._join([o,s],b),y=this._join([y,a]," "),y=this._join([y,u],this.state.opt.sort_sep),g=this._join([y,f]," ")):(w=this._join([u,a,o]," "),y=this._join([s,w],this.state.opt.sort_sep),g=this._join([y,f]," "));else if(this.state.inheritOpt(this.name,"name-as-sort-order")==="all"||this.state.inheritOpt(this.name,"name-as-sort-order")==="first"&&e===0&&(i===0||typeof i>"u"))["Lord","Lady"].indexOf(n.given)>-1&&(h=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(w=this._join([u,a],n["comma-dropping-particle"]+" "),w=this._join([w,o]," "),w&&this.given&&(w.strings.prefix=this.given.strings.prefix,w.strings.suffix=this.given.strings.suffix),s&&this.family&&(s.strings.prefix=this.family.strings.prefix,s.strings.suffix=this.family.strings.suffix),y=this._join([s,w],h),g=this._join([y,f],h)):(v?_=this._join([o,s],""):_=this._join([o,s],b),_&&this.family&&(_.strings.prefix=this.family.strings.prefix,_.strings.suffix=this.family.strings.suffix),w=this._join([u,a],n["comma-dropping-particle"]+" "),w&&this.given&&(w.strings.prefix=this.given.strings.prefix,w.strings.suffix=this.given.strings.suffix),y=this._join([_,w],h),g=this._join([y,f],h)),g.isInverted=!0;else{if(n["dropping-particle"]&&n.family&&!n["non-dropping-particle"]){var O=n["dropping-particle"],I=["'","ʼ","’","-"];I.indexOf(O.slice(-1))>-1&&O.slice(0,-1)!=="de"&&(s=this._join([a,s],""),a=!1)}v?(w=this._join([o,s],""),w=this._join([a,w],b)):w=this._join([a,o,s],b),w=this._join([w,f],c),w&&this.family&&(w.strings.prefix=this.family.strings.prefix,w.strings.suffix=this.family.strings.suffix),u&&this.given&&(u.strings.prefix=this.given.strings.prefix,u.strings.suffix=this.given.strings.suffix),w.strings.prefix&&(n["comma-dropping-particle"]="");var M;this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&l.initializationLevel===1?M=b:M=" ",g=this._join([u,w],n["comma-dropping-particle"]+M)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(g),g};p.NameOutput.prototype._normalizeNameInput=function(r){var t={literal:r.literal,family:r.family,isInstitution:r.isInstitution,given:r.given,suffix:r.suffix,"comma-suffix":r["comma-suffix"],"non-dropping-particle":r["non-dropping-particle"],"dropping-particle":r["dropping-particle"],"static-ordering":r["static-ordering"],"static-particles":r["static-particles"],"reverse-ordering":r["reverse-ordering"],"full-form-always":r["full-form-always"],"parse-names":r["parse-names"],"comma-dropping-particle":"",block_initialize:r.block_initialize,multi:r.multi};return this._parseName(t),t};p.NameOutput.prototype._stripPeriods=function(r,t){var e=this[r+"_decor"];if(t){if(this.state.tmp.strip_periods)t=t.replace(/\./g,"");else if(e){for(var i=0,n=e.decorations.length;i<n;i+=1)if(e.decorations[i][0]==="@strip-periods"&&e.decorations[i][1]==="true"){t=t.replace(/\./g,"");break}}}return t};p.NameOutput.prototype._nonDroppingParticle=function(r){var t=r["non-dropping-particle"];t&&this.state.tmp.sort_key_flag&&(t=t.replace(/[\'\u2019]/,""));var e=this._stripPeriods("family",t);return this.state.output.append(e,this.family_decor,!0)?this.state.output.pop():!1};p.NameOutput.prototype._droppingParticle=function(r,t,e){var i=r["dropping-particle"];i&&this.state.tmp.sort_key_flag&&(i=i.replace(/[\'\u2019]/,""));var n=this._stripPeriods("given",i);if(r["dropping-particle"]&&r["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?typeof e>"u"?this.etal_spec[t].freeters=2:this.etal_spec[t].persons=2:typeof e>"u"?this.etal_spec[t].freeters=1:this.etal_spec[t].persons=1,r["comma-dropping-particle"]="";else if(this.state.output.append(n,this.given_decor,!0))return this.state.output.pop();return!1};p.NameOutput.prototype._familyName=function(r){var t=this._stripPeriods("family",r.family);return this.state.output.append(t,this.family_decor,!0)?this.state.output.pop():!1};p.NameOutput.prototype._givenName=function(r,t,e){var i,n=this.state.inheritOpt(this.name,"form","name-form","long")!=="long",a=this.state.inheritOpt(this.name,"initialize")!==!1,s=typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&!r.block_initialize,o,l;if(r["full-form-always"])l=2;else{n?o=0:s?o=1:o=2;var u=this.state.tmp.disambig_settings.givens[t][e];u>o?l=u:l=o}var f=this.state.citation.opt["givenname-disambiguation-rule"];if(f&&f.slice(-14)==="-with-initials"&&(s=!0),r.family&&l===1)if(s){var h=this.state.inheritOpt(this.name,"initialize-with",!1,"");r.given=p.Util.Names.initializeWith(this.state,r.given,h,!a)}else r.given=p.Util.Names.unInitialize(this.state,r.given);else{if(l===0)return{blob:!1};l===2&&(r.given=p.Util.Names.unInitialize(this.state,r.given))}var c=this._stripPeriods("given",r.given),m=this.state.output.append(c,this.given_decor,!0);return m?(i=this.state.output.pop(),{blob:i,initializationLevel:l}):{blob:!1}};p.NameOutput.prototype._nameSuffix=function(r){var t=r.suffix,e;t&&typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&(t=p.Util.Names.initializeWith(this.state,t,this.state.inheritOpt(this.name,"initialize-with"),!0)),t=this._stripPeriods("family",t);var i="";t&&t.slice(-1)==="."&&(t=t.slice(0,-1),i=".");var n=this.state.output.append(t,"empty",!0);return n?(e=this.state.output.pop(),e.strings.suffix=i+e.strings.suffix,e):!1};p.NameOutput.prototype._getLongStyle=function(r){var t;return r.short.length?this.institutionpart["long-with-short"]?t=this.institutionpart["long-with-short"]:t=this.institutionpart.long:t=this.institutionpart.long,t||(t=new p.Token),t};p.NameOutput.prototype._getShortStyle=function(){var r;return this.institutionpart.short?r=this.institutionpart.short:r=new p.Token,r};p.NameOutput.prototype._parseName=function(r){if(!r["parse-names"]&&typeof r["parse-names"]<"u")return r;r.family&&!r.given&&r.isInstitution&&(r.literal=r.family,r.family=void 0,r.isInstitution=void 0);var t;r.family&&r.family.slice(0,1)==='"'&&r.family.slice(-1)==='"'||!r["parse-names"]&&typeof r["parse-names"]<"u"?(r.family=r.family.slice(1,-1),t=!0,r["parse-names"]=0):t=!1,this.state.opt.development_extensions.parse_names&&!r["non-dropping-particle"]&&r.family&&!t&&r.given&&(r["static-particles"]||p.parseParticles(r,!0))};p.NameOutput.prototype.getName=function(r,t,e,i){if(i&&t==="locale-orig")return{name:!1,usedOrig:i};r.family||(r.family=""),r.given||(r.given="");var n={};n["static-ordering"]=this.getStaticOrder(r);var a=!0,s;if(t!=="locale-orig"&&(a=!1,r.multi)){for(var o=this.state.opt[t],l=0,u=o.length;l<u;l+=1)if(s=o[l],r.multi._key[s]){a=!0;var f=r.isInstitution;r=r.multi._key[s],r.isInstitution=f,n=this.getNameParams(s),n.transliterated=!0;break}}if(a||(s=!1,r.multi&&r.multi.main?s=r.multi.main:this.Item.language&&(s=this.Item.language),s&&(n=this.getNameParams(s))),!e&&!a)return{name:!1,usedOrig:i};r.family||(r.family=""),r.given||(r.given=""),r.literal&&(delete r.family,delete r.given),r={family:r.family,given:r.given,"non-dropping-particle":r["non-dropping-particle"],"dropping-particle":r["dropping-particle"],suffix:r.suffix,"static-ordering":n["static-ordering"],"static-particles":r["static-particles"],"reverse-ordering":n["reverse-ordering"],"full-form-always":n["full-form-always"],"parse-names":r["parse-names"],"comma-suffix":r["comma-suffix"],"comma-dropping-particle":r["comma-dropping-particle"],transliterated:n.transliterated,block_initialize:n["block-initialize"],literal:r.literal,isInstitution:r.isInstitution,multi:r.multi},!r.literal&&!r.given&&r.family&&r.isInstitution&&(r.literal=r.family),r.literal&&(delete r.family,delete r.given),r=this._normalizeNameInput(r);var h;return i?h=i:h=!a,{name:r,usedOrig:h}};p.NameOutput.prototype.getNameParams=function(r){var t={},e=p.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),i=this.state.locale[e.best]?e.best:this.state.opt["default-locale"][0],n=this.state.locale[i].opts["name-as-sort-order"],a=this.state.locale[i].opts["name-as-reverse-order"],s=this.state.locale[i].opts["name-never-short"],o=r.split("-")[0];return n&&n[o]&&(t["static-ordering"]=!0,t["reverse-ordering"]=!1),a&&a[o]&&(t["reverse-ordering"]=!0,t["static-ordering"]=!1),s&&s[o]&&(t["full-form-always"]=!0),t["static-ordering"]&&(t["block-initialize"]=!0),t};p.NameOutput.prototype.setRenderedName=function(r){if(this.state.tmp.area==="bibliography"){for(var t="",e=0,i=p.NAME_PARTS.length;e<i;e+=1)r[p.NAME_PARTS[e]]&&(t+=r[p.NAME_PARTS[e]]);this.state.tmp.rendered_name.push(t)}};p.NameOutput.prototype.fixupInstitution=function(r,t,e){!r.literal&&r.family&&(r.literal=r.family,delete r.family);var i=r.literal,n=i,a={long:i.split(/\s*\|\s*/),short:n.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if(this.institution.strings.form==="short"){let c=this.Item.jurisdiction;c=this.state.transform.loadAbbreviation(c,"institution-entire",i,this.Item.language),this.state.transform.abbrevs[c]["institution-entire"][i]?i=this.state.transform.abbrevs[c]["institution-entire"][i]:(c=this.Item.jurisdiction,c=this.state.transform.loadAbbreviation(c,"institution-part",i,this.Item.language),this.state.transform.abbrevs[c]["institution-part"][i]&&(i=this.state.transform.abbrevs[c]["institution-part"][i])),i=this._quashChecks(c,i)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let c=this.Item.jurisdiction;c=this.state.transform.loadAbbreviation(c,"institution-part",n,this.Item.language),this.state.transform.abbrevs[c]["institution-part"][n]&&(n=this.state.transform.abbrevs[c]["institution-part"][n]),n=this._quashChecks(c,n),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&n===i&&(n="")}if(a.long=i.split(/\s*\|\s*/),a.short=n.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var s=a.short.length-1;s>-1;s--){let c=this.Item.jurisdiction;var o=a.short[s];if(c=this.state.transform.loadAbbreviation(c,"institution-part",o,this.Item.language),this.state.transform.abbrevs[c]["institution-part"][o]&&(a.short[s]=this.state.transform.abbrevs[c]["institution-part"][o]),a.short[s].indexOf("|")>-1){let m=a.short,d=m[s].split(/\s*\|\s*/);a.short=m.slice(0,s).concat(d).concat(m.slice(s+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&a.short.reverse(),a.short=this._trimInstitution(a.short),this.institution.strings["reverse-order"]&&a.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let c=this.Item.jurisdiction;var l=this.state.tmp.abbrev_trimmer;if(l&&l[c]&&l[c][t])for(var u=0,f=a.short.length;u<f;u++){var h=a.short[u];a.short[u]=h.replace(l[c][t],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&a.long.reverse(),a.long=this._trimInstitution(a.long),this.institution.strings["reverse-order"]&&a.long.reverse(),a};p.NameOutput.prototype.getStaticOrder=function(r,t){var e=!1;return(!t&&r["static-ordering"]||this._isRomanesque(r)===0||(!r.multi||!r.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||r.multi&&r.multi.main&&["vi","hu"].indexOf(r.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&p.VIETNAMESE_NAMES.exec(r.family+" "+r.given)&&p.VIETNAMESE_SPECIALS.exec(r.family+r.given))&&(e=!0),e};p.NameOutput.prototype._quashChecks=function(r,e){var e=this.state.transform.quashCheck(r,e),i=e.split(/>>[0-9]{4}>>/),n=e.match(/>>([0-9]{4})>>/);e=i.pop();var a=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(a&&(a=parseInt(a.year,10),a=isNaN(a)?!1:a),a){if(i.length>0)for(var s=n.length-1;s>0&&!(a>=parseInt(n[s],10));s--)e=i.pop();e=e.replace(/\s*\|\s*/g,"|")}return e};p.NameOutput.prototype._trimInstitution=function(r){var t=!1,e=!1,i=!1,n=!1,a=r.slice();if(this.institution){if(typeof this.institution.strings["use-first"]<"u"&&(t=this.institution.strings["use-first"]),typeof this.institution.strings["use-last"]<"u"&&(i=this.institution.strings["use-last"]),typeof this.institution.strings["stop-first"]<"u"&&(n=this.institution.strings["stop-first"]),typeof this.institution.strings["stop-last"]<"u"&&(e=this.institution.strings["stop-last"]),t&&(e&&(a=a.slice(0,e*-1)),a=a.slice(0,t)),i){var s=r.slice();t?n=t:a=[],n&&(s=s.slice(n)),s=s.slice(i*-1),a=a.concat(s)}r=a}return r};p.PublisherOutput=function(r,t){this.state=r,this.group_tok=t,this.varlist=[]};p.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()};p.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var r=!1;this.group_tok.strings.and==="text"?r=this.state.getTerm("and"):this.group_tok.strings.and==="symbol"&&(r="&");var t=new p.Token;t.strings.suffix=" ",t.strings.prefix=" ",this.state.output.append(r,t,!0);var e=this.state.output.pop();t.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(r,t,!0);var i=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,r&&(this.group_tok.strings["subgroup-delimiter-precedes-last"]==="always"?this.and_blob.single=i:this.group_tok.strings["subgroup-delimiter-precedes-last"]==="never"?(this.and_blob.single=e,this.and_blob.multiple=e):(this.and_blob.single=e,this.and_blob.multiple=i))};p.PublisherOutput.prototype.composeElements=function(){for(var r=0,t=2;r<t;r+=1)for(var e=["publisher","publisher-place"][r],i=0,n=this["publisher-list"].length;i<n;i+=1){var a=this[e+"-list"][i],s=this[e+"-token"];this.state.output.append(a,s,!0),this[e+"-list"][i]=this.state.output.pop()}};p.PublisherOutput.prototype.composePublishers=function(){for(var r,t=0,e=this["publisher-list"].length;t<e;t+=1)r=[this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this["publisher-list"][t]=this._join(r,this.group_tok.strings.delimiter)};p.PublisherOutput.prototype.joinPublishers=function(){var r=this["publisher-list"],t=this._join(r,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")};p.PublisherOutput.prototype._join=p.NameOutput.prototype._join;p.PublisherOutput.prototype._getToken=p.NameOutput.prototype._getToken;p.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1};p.evaluateLabel=function(r,t,e,i){var n;r.strings.term==="locator"?(i&&i.label&&(i.label==="sub verbo"?n="sub-verbo":n=i.label),n||(n="page")):n=r.strings.term;var a=r.strings.plural;if(typeof a!="number"){var s=i&&r.strings.term==="locator"?i:e;s[r.strings.term]&&(t.processNumber(!1,s,r.strings.term,e.type),a=t.tmp.shadow_numbers[r.strings.term].plural,!t.tmp.shadow_numbers[r.strings.term].labelForm&&!t.tmp.shadow_numbers[r.strings.term].labelDecorations&&(r.strings.form?t.tmp.shadow_numbers[r.strings.term].labelForm=r.strings.form:t.tmp.group_context.tip.label_form&&(t.tmp.shadow_numbers[r.strings.term].labelForm=t.tmp.group_context.tip.label_form),t.tmp.shadow_numbers[r.strings.term].labelCapitalizeIfFirst=r.strings.capitalize_if_first,t.tmp.shadow_numbers[r.strings.term].labelDecorations=r.decorations.slice()),["locator","number","page"].indexOf(r.strings.term)>-1&&t.tmp.shadow_numbers[r.strings.term].label&&(n=t.tmp.shadow_numbers[r.strings.term].label),r.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(r.decorations.reverse(),r.decorations.push(["@showid","true",r.cslid]),r.decorations.reverse()))}return p.castLabel(t,r,n,a,p.TOLERANT)};p.castLabel=function(r,t,e,i,n){var a=t.strings.form,s=t.strings.capitalize_if_first;r.tmp.group_context.tip.label_form&&(a==="static"?r.tmp.group_context.tip.label_static=!0:a=r.tmp.group_context.tip.label_form),r.tmp.group_context.tip.label_capitalize_if_first&&(s=r.tmp.group_context.tip.label_capitalize_if_first);var o=r.getTerm(e,a,i,!1,n,t.default_locale);if(s&&(o=p.Output.Formatters["capitalize-first"](r,o)),r.tmp.strip_periods)o=o.replace(/\./g,"");else for(var l=0,u=t.decorations.length;l<u;l+=1)if(t.decorations[l][0]==="@strip-periods"&&t.decorations[l][1]==="true"){o=o.replace(/\./g,"");break}return o};p.Node.name={build:function(r,t){var e;if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){var i;typeof r.tmp.root>"u"?(i=void 0,r.tmp.root="citation"):i=r.tmp.root,r.inheritOpt(this,"et-al-subsequent-min")&&r.inheritOpt(this,"et-al-subsequent-min")!==r.inheritOpt(this,"et-al-min")&&(r.opt.update_mode=p.POSITION),r.inheritOpt(this,"et-al-subsequent-use-first")&&r.inheritOpt(this,"et-al-subsequent-use-first")!==r.inheritOpt(this,"et-al-use-first")&&(r.opt.update_mode=p.POSITION),r.tmp.root=i,e=function(n){n.tmp.etal_term="et-al",n.tmp.name_delimiter=n.inheritOpt(this,"delimiter","name-delimiter",", "),n.tmp["delimiter-precedes-et-al"]=n.inheritOpt(this,"delimiter-precedes-et-al"),n.inheritOpt(this,"and")==="text"?this.and_term=n.getTerm("and","long",0):n.inheritOpt(this,"and")==="symbol"&&(n.opt.development_extensions.expect_and_symbol_form?this.and_term=n.getTerm("and","symbol",0):this.and_term="&"),n.tmp.and_term=this.and_term,p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof n.tmp.name_delimiter=="string"&&(this.and_prefix_multiple=n.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),n.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=n.tmp.name_delimiter:n.inheritOpt(this,"delimiter-precedes-last")==="never"?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):n.inheritOpt(this,"delimiter-precedes-last")==="after-inverted-name"&&(this.and_prefix_single&&(this.and_prefix_single=n.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},n.inheritOpt(this,"and")?(n.output.append(this.and_term,"empty",!0),this.and.single=n.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,n.output.append(this.and_term,"empty",!0),this.and.multiple=n.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):n.tmp.name_delimiter&&(this.and.single=new p.Blob(n.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(n.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},n.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="…",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=n.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new p.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new p.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),typeof n.tmp["et-al-min"]>"u"&&(n.tmp["et-al-min"]=n.inheritOpt(this,"et-al-min")),typeof n.tmp["et-al-use-first"]>"u"&&(n.tmp["et-al-use-first"]=n.inheritOpt(this,"et-al-use-first")),typeof n.tmp["et-al-use-last"]>"u"&&(n.tmp["et-al-use-last"]=n.inheritOpt(this,"et-al-use-last")),n.nameOutput.name=this},r.build.name_flag=!0,this.execs.push(e)}t.push(this)}};p.Node["name-part"]={build:function(r){r.build[this.strings.name]=this}};p.Node.names={build:function(r,t){var e;if((this.tokentype===p.START||this.tokentype===p.SINGLETON)&&(p.Util.substituteStart.call(this,r,t),r.build.substitute_level.push(1)),this.tokentype===p.SINGLETON){r.build.names_variables[r.build.names_variables.length-1].concat(this.variables);for(var i in this.variables){var n=this.variables[i],a=r.build.name_label[r.build.name_label.length-1];Object.keys(a).length&&(a[n]=a[Object.keys(a)[0]])}e=function(l){l.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(e)}if(this.tokentype===p.START&&(r.build.names_flag=!0,r.build.name_flag=!1,r.build.names_level+=1,r.build.names_variables.push(this.variables),r.build.name_label.push({}),e=function(l){l.tmp.can_substitute.push(!0),l.tmp.name_node={},l.tmp.name_node.children=[],l.nameOutput.init(this)},this.execs.push(e)),this.tokentype===p.END){for(var i=0,s=3;i<s;i+=1){var o=["family","given","et-al"][i];this[o]=r.build[o],r.build.names_level===1&&(r.build[o]=void 0)}this.label=r.build.name_label[r.build.name_label.length-1],r.build.names_level+=-1,r.build.names_variables.pop(),r.build.name_label.pop(),e=function(l){l.tmp.etal_node?this.etal_style=l.tmp.etal_node:this.etal_style="empty",this.etal_term=l.getTerm(l.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=l.tmp.name_delimiter,l.tmp["delimiter-precedes-et-al"]==="always"?this.etal_prefix_single=l.tmp.name_delimiter:l.tmp["delimiter-precedes-et-al"]==="never"?this.etal_prefix_multiple=" ":l.tmp["delimiter-precedes-et-al"]==="after-inverted-name"&&(this.etal_prefix_single=l.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",p.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(this.etal_prefix_single===" "&&(this.etal_prefix_single=""),this.etal_prefix_multiple===" "&&(this.etal_prefix_multiple=""),this.etal_suffix===" "&&(this.etal_suffix=""));for(var u=0,f=3;u<f;u+=1){var h=["family","given"][u];l.nameOutput[h]=this[h]}l.nameOutput.with=this.with;var c="with",m="",d="";p.STARTSWITH_ROMANESQUE_REGEXP.test(c)&&(m=" ",d=" ");var v={};v.single=new p.Blob(c),v.single.strings.suffix=d,v.multiple=new p.Blob(c),v.multiple.strings.suffix=d,l.inheritOpt(l.nameOutput.name,"delimiter-precedes-last")==="always"?(v.single.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter"),v.multiple.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter")):l.inheritOpt(l.nameOutput.name,"delimiter-precedes-last")==="contextual"?(v.single.strings.prefix=m,v.multiple.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter")):l.inheritOpt(l.nameOutput.name,"delimiter-precedes-last")==="after-inverted-name"?(v.single.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter"),v.multiple.strings.prefix=m):(v.single.strings.prefix=m,v.multiple.strings.prefix=m),l.nameOutput.with=v,l.nameOutput.label=this.label,l.nameOutput.etal_style=this.etal_style,l.nameOutput.etal_term=this.etal_term,l.nameOutput.etal_prefix_single=this.etal_prefix_single,l.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,l.nameOutput.etal_suffix=this.etal_suffix,l.nameOutput.outputNames(),l.tmp["et-al-use-first"]=void 0,l.tmp["et-al-min"]=void 0,l.tmp["et-al-use-last"]=void 0},this.execs.push(e),e=function(l){l.tmp.can_substitute.pop()||l.tmp.can_substitute.replace(!1,p.LITERAL),l.tmp.can_substitute.mystack.length===1&&(l.tmp.can_block_substitute=!1)},this.execs.push(e),r.build.name_flag=!1}t.push(this),(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(r.build.substitute_level.pop(),p.Util.substituteEnd.call(this,r,t))}};p.Node.number={build:function(r,t){var e;p.Util.substituteStart.call(this,r,t),this.strings.form==="roman"?this.formatter=r.fun.romanizer:this.strings.form==="ordinal"?this.formatter=r.fun.ordinalizer:this.strings.form==="long-ordinal"&&(this.formatter=r.fun.long_ordinalizer),typeof this.successor_prefix>"u"&&(this.successor_prefix=r[r.build.area].opt.layout_delimiter),typeof this.splice_prefix>"u"&&(this.splice_prefix=r[r.build.area].opt.layout_delimiter),e=function(i,n,a){if(this.variables.length!==0){var s;if(s=this.variables[0],typeof a>"u")var a={};if(["locator","locator-extra"].indexOf(s)>-1){if(i.tmp.just_looking||!a[s])return}else if(!n[s])return;s==="collection-number"&&n.type==="legal_case"&&(i.tmp.renders_collection_number=!0);var o=this;if(i.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(s)>-1?i.processNumber.call(i,o,a,s,n.type):(!i.tmp.group_context.tip.condition&&n[s]&&(i.tmp.just_did_number=(""+n[s]).match(/[0-9]$/)),i.processNumber.call(i,o,n,s,n.type)),this.substring){var l=n[s].slice(this.substring);i.output.append(l,o)}else p.Util.outputNumericField(i,s,n.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!i.tmp.just_looking&&(i.tmp.done_vars.push(this.variables_real[0]),i.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(e),t.push(this),p.Util.substituteEnd.call(this,r,t)}};p.Node.sort={build:function(r,t){if(t=r[r.build.root+"_sort"].tokens,this.tokentype===p.START){r.build.area==="citation"&&(r.opt.sort_citations=!0),r.build.area=r.build.root+"_sort",r.build.extension="_sort";var e=function(i,n){if(i.opt.has_layout_locale){for(var a=p.localeResolve(n.language,i.opt["default-locale"][0]),s=i[i.tmp.area.slice(0,-5)].opt.sort_locales,o,l=0,u=s.length;l<u&&(o=s[l][a.bare],o||(o=s[l][a.best]),!o);l+=1);o||(o=i.opt["default-locale"][0]),i.tmp.lang_sort_hold=i.opt.lang,i.opt.lang=o}};this.execs.push(e)}if(this.tokentype===p.END){r.build.area=r.build.root,r.build.extension="";var e=function(n){n.opt.has_layout_locale&&(n.opt.lang=n.tmp.lang_sort_hold,delete n.tmp.lang_sort_hold)};this.execs.push(e)}t.push(this)}};p.Node.substitute={build:function(r,t){var e;if(this.tokentype===p.START){var i=new p.Token("choose",p.START);p.Node.choose.build.call(i,r,t);var n=new p.Token("if",p.SINGLETON);e=function(){return!!(r.tmp.value.length&&!r.tmp.common_term_match_fail)},n.tests=[e],n.test=r.fun.match.any(n,r,n.tests),t.push(n),e=function(s){s.tmp.can_block_substitute=!0,s.tmp.value.length&&!s.tmp.common_term_match_fail&&s.tmp.can_substitute.replace(!1,p.LITERAL),s.tmp.common_term_match_fail=!1},this.execs.push(e),t.push(this)}if(this.tokentype===p.END){t.push(this);var a=new p.Token("choose",p.END);p.Node.choose.build.call(a,r,t)}}};p.Node.text={build:function(r,t){var e,i,n,a,s,o,l,u,f,h,c;if(this.postponed_macro){var m=p.Util.cloneToken(this);m.name="group",m.tokentype=p.START,p.Node.group.build.call(m,r,t),p.expandMacro.call(r,this,t);var d=p.Util.cloneToken(this);d.name="group",d.tokentype=p.END,this.postponed_macro==="juris-locator-label"&&(d.isJurisLocatorLabel=!0),p.Node.group.build.call(d,r,t)}else{if(p.Util.substituteStart.call(this,r,t),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),i="long",n=0,this.strings.form&&(i=this.strings.form),this.strings.plural&&(n=this.strings.plural),this.variables_real[0]==="citation-number"||this.variables_real[0]==="year-suffix"||this.variables_real[0]==="citation-label")this.variables_real[0]==="citation-number"?(r.build.root==="citation"&&(r.opt.update_mode=p.NUMERIC),r.build.root==="bibliography"&&(r.opt.bib_mode=p.NUMERIC),r[r.tmp.area].opt.collapse==="citation-number"&&(this.range_prefix=r.getTerm("citation-range-delimiter")),this.successor_prefix=r[r.build.area].opt.layout_delimiter,this.splice_prefix=r[r.build.area].opt.layout_delimiter,e=function(_,w,O){if(a=""+w.id,!_.tmp.just_looking){if(_.tmp.area.slice(-5)==="_sort"&&this.variables[0]==="citation-number"){if(_.tmp.area==="bibliography_sort"&&_.tmp.group_context.tip.done_vars.push("citation-number"),_.tmp.area==="citation_sort"&&_.bibliography_sort.tmp.citation_number_map)var I=_.bibliography_sort.tmp.citation_number_map[_.registry.registry[w.id].seq];else var I=_.registry.registry[w.id].seq;I&&(I=p.Util.padding(""+I)),_.output.append(I,this);return}O&&O["author-only"]&&_.tmp.element_trace.replace("suppress-me"),_.tmp.area!=="bibliography_sort"&&_.bibliography_sort.tmp.citation_number_map&&_.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING?I=_.bibliography_sort.tmp.citation_number_map[_.registry.registry[a].seq]:I=_.registry.registry[a].seq,_.opt.citation_number_slug?_.output.append(_.opt.citation_number_slug,this):(o=new p.NumericBlob(_,!1,I,this,w.id),_.tmp.in_cite_predecessor&&(o.suppress_splice_prefix=!0),_.output.append(o,"literal"))}},this.execs.push(e)):this.variables_real[0]==="year-suffix"?(r.opt.has_year_suffix=!0,r[r.tmp.area].opt.collapse==="year-suffix-ranged"&&(this.range_prefix=r.getTerm("citation-range-delimiter")),this.successor_prefix=r[r.build.area].opt.layout_delimiter,r[r.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=r[r.build.area].opt["year-suffix-delimiter"]),e=function(_,w){if(_.registry.registry[w.id]&&_.registry.registry[w.id].disambig.year_suffix!==!1&&!_.tmp.just_looking){s=parseInt(_.registry.registry[w.id].disambig.year_suffix,10),_[_.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=_[_.tmp.area].opt.cite_group_delimiter),o=new p.NumericBlob(_,!1,s,this,w.id),l=new p.Util.Suffixator(p.SUFFIX_CHARS),o.setFormatter(l),_.output.append(o,"literal"),u=!1;for(var O=0,I=_.tmp.group_context.mystack.length;O<I;O++){var M=_.tmp.group_context.mystack[O];if(!M.variable_success&&(M.variable_attempt||!M.variable_attempt&&!M.term_intended)){u=!0;break}}f=_[_.tmp.area].opt["year-suffix-delimiter"],u&&f&&!_.tmp.sort_key_flag&&(_.tmp.splice_delimiter=_[_.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(e)):this.variables_real[0]==="citation-label"&&(r.build.root==="bibliography"&&(r.opt.bib_mode=p.TRIGRAPH),r.opt.has_year_suffix=!0,e=function(_,w){h=w["citation-label"],h||(h=_.getCitationLabel(w)),_.tmp.just_looking||(c="",_.registry.registry[w.id]&&_.registry.registry[w.id].disambig.year_suffix!==!1&&(s=parseInt(_.registry.registry[w.id].disambig.year_suffix,10),c=_.fun.suffixator.format(s)),h+=c),_.output.append(h,this)},this.execs.push(e));else if(this.strings.term)e=function(_,w){var O=_.opt.gender[w.type],I=this.strings.term;I=_.getTerm(I,i,n,O,p.TOLERANT,this.default_locale);var M;if(I!==""&&(_.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(_,I,null,this),!_.tmp.term_predecessor&&!(_.opt.class==="in-text"&&_.tmp.area==="citation")?M=p.Output.Formatters["capitalize-first"](_,I):M=I,_.tmp.strip_periods)M=M.replace(/\./g,"");else for(var T=0,E=this.decorations.length;T<E;T+=1)if(this.decorations[T][0]==="@strip-periods"&&this.decorations[T][1]==="true"){M=M.replace(/\./g,"");break}_.output.append(M,this),_.tmp.can_block_substitute&&_.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(e),r.build.term=!1,r.build.form=!1,r.build.plural=!1;else if(this.variables_real.length){if(e=function(_,w){this.variables_real[0]!=="locator"&&(_.tmp.have_collapsed=!1),!_.tmp.group_context.tip.condition&&w[this.variables[0]]&&(_.tmp.just_did_number=!1);var O=w[this.variables[0]];O&&!_.tmp.group_context.tip.condition&&((""+O).slice(-1).match(/[0-9]/)?_.tmp.just_did_number=!0:_.tmp.just_did_number=!1)},this.execs.push(e),p.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var v=this.variables[0],b=!1,g=!1,y=!1;i==="short"?this.variables_real[0].slice(-6)!=="-short"&&(g=this.variables_real[0]+"-short"):v=!1,r.build.extension?y=!0:(y=!0,b=!0),e=r.transform.getOutputFunction(this.variables,v,b,g,y)}else p.CITE_FIELDS.indexOf(this.variables_real[0])>-1?e=function(_,w,O){O&&O[this.variables[0]]&&(_.processNumber(this,O,this.variables[0],w.type),p.Util.outputNumericField(_,this.variables[0],w.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!_.tmp.just_looking&&_.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?e=function(_,w){_.processNumber(this,w,this.variables[0],w.type),p.Util.outputNumericField(_,this.variables[0],w.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?e=function(_,w){var O;if(this.variables[0]&&(O=_.getVariable(w,this.variables[0],i),O))if(this.variables[0]==="URL"&&i==="short"&&(O=O.replace(/(.*\.[^\/]+)\/.*/,"$1"),O.match(/\/\/www\./)&&(O=O.replace(/https?:\/\//,""))),_.opt.development_extensions.wrap_url_and_doi)if(!this.decorations.length||this.decorations[0][0]!=="@"+this.variables[0]){var I=p.Util.cloneToken(this),M=new p.Blob(null,null,"url-wrapper");if(M.decorations.push(["@DOI","true"]),this.variables_real[0]==="DOI"){var T;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(O=O.replace(/^https?:\/\/doi\.org\//,""),O.match(/^https?:\/\//)?T="":T="https://doi.org/",I.strings.prefix=this.strings.prefix.slice(0,I.strings.prefix.length-16));var E=new p.Blob(T),q=new p.Blob(O);M.push(E),M.push(q),_.output.append(M,I,!1,!1,!0)}else{var q=new p.Blob(O);M.push(q),_.output.append(M,I,!1,!1,!0)}}else _.output.append(O,this,!1,!1,!0);else{if(this.decorations.length)for(var k=this.decorations.length-1;k>-1;k--)this.decorations[k][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,k).concat(this.decorations.slice(k+1)));_.output.append(O,this,!1,!1,!0)}}:this.variables_real[0]==="section"?e=function(_,w){var O;O=_.getVariable(w,this.variables[0],i),O&&_.output.append(O,this)}:this.variables_real[0]==="hereinafter"?e=function(_,w){var O=_.transform.abbrevs.default.hereinafter[w.id];O&&(_.output.append(O,this),_.tmp.group_context.tip.variable_success=!0)}:e=function(_,w){var O;this.variables[0]&&(O=_.getVariable(w,this.variables[0],i),O&&(O=""+O,O=O.split("\\").join(""),_.output.append(O,this)))};this.execs.push(e)}else this.strings.value&&(e=function(_){_.tmp.group_context.tip.term_intended=!0,p.UPDATE_GROUP_CONTEXT_CONDITION(_,this.strings.value,!0,this),_.output.append(this.strings.value,this),_.tmp.can_block_substitute&&_.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(e));t.push(this),p.Util.substituteEnd.call(this,r,t)}}};p.Node.intext={build:function(r,t){if(this.tokentype===p.START){r.build.area="intext",r.build.root="intext",r.build.extension="";var e=function(i,n){i.tmp.area="intext",i.tmp.root="intext",i.tmp.extension=""};this.execs.push(e)}this.tokentype===p.END&&(r.intext_sort={opt:{sort_directions:r.citation_sort.opt.sort_directions}},r.intext.srt=r.citation.srt),t.push(this)}};p.Attributes={};p.Attributes["@disambiguate"]=function(r,t){if(this.tests||(this.tests=[]),t==="true"){r.opt.has_disambiguate=!0;var e=function(i){if(r.tmp.area==="bibliography"){if(r.tmp.disambiguate_count<r.registry.registry[i.id].disambig.disambiguate)return r.tmp.disambiguate_count+=1,!0}else if(r.tmp.disambiguate_maxMax+=1,r.tmp.disambig_settings.disambiguate&&r.tmp.disambiguate_count<r.tmp.disambig_settings.disambiguate)return r.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(e)}else if(t==="check-ambiguity-and-backreference"){var e=function(n){return!!(r.registry.registry[n.id].disambig.disambiguate&&r.registry.registry[n.id]["citation-count"]>1)};this.tests.push(e)}};p.Attributes["@is-numeric"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(a){return function(s,o){var l=s;if(o&&["locator","locator-extra"].indexOf(a)>-1&&(l=o),!l[a])return!1;if(p.NUMERIC_VARIABLES.indexOf(a)>-1){if(r.tmp.shadow_numbers[a]||r.processNumber(!1,l,a,s.type),r.tmp.shadow_numbers[a].numeric)return!0}else if(["title","version"].indexOf(a)>-1&&l[a].slice(-1)===""+parseInt(l[a].slice(-1),10))return!0;return!1}},n=0;n<e.length;n+=1)this.tests.push(i(e[n]))};p.Attributes["@is-uncertain-date"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){return!!(o[s]&&o[s].circa)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@locator"]=function(r,t){this.tests||(this.tests=[]);var e=t.replace("sub verbo","sub-verbo");e=e.split(/\s+/);for(var i=function(s){return function(o,l){var u;return r.processNumber(!1,l,"locator"),u=r.tmp.shadow_numbers.locator.label,!!(u&&s===u)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@position"]=function(r,t){this.tests||(this.tests=[]);var e;r.opt.update_mode=p.POSITION;for(var i=t.split(/\s+/),n=function(u,f){return!!(f&&p.POSITION_MAP[f.position]>=p.POSITION_MAP[p.POSITION_SUBSEQUENT]&&f["near-note"])},a=function(u,f){return!!(f&&p.POSITION_MAP[f.position]==p.POSITION_MAP[p.POSITION_SUBSEQUENT]&&!f["near-note"])},s=function(u){return function(f,h){if(r.tmp.area==="bibliography")return!1;if(h&&typeof h.position>"u"&&(h.position=0),h&&typeof h.position=="number"){if(h.position===0&&u===0)return!0;if(u>0&&p.POSITION_MAP[h.position]>=p.POSITION_MAP[u])return!0}else if(u===0)return!0;return!1}},o=0,l=i.length;o<l;o+=1){var e=i[o];e==="first"?e=p.POSITION_FIRST:e==="container-subsequent"?e=p.POSITION_CONTAINER_SUBSEQUENT:e==="subsequent"?e=p.POSITION_SUBSEQUENT:e==="ibid"?e=p.POSITION_IBID:e==="ibid-with-locator"&&(e=p.POSITION_IBID_WITH_LOCATOR),e==="near-note"?this.tests.push(n):e==="far-note"?this.tests.push(a):this.tests.push(s(e))}};p.Attributes["@type"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(o){return function(l){var u=l.type===o;return!!u}},n=[],a=0,s=e.length;a<s;a+=1)n.push(i(e[a]));this.tests.push(r.fun.match.any(this,r,n))};p.Attributes["@variable"]=function(r,t){this.tests||(this.tests=[]);var e;if(this.variables=t.split(/\s+/),this.variables_real=this.variables.slice(),this.name==="label"&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)e=function(s,o,l){for(var u=this.variables.length-1;u>-1;u+=-1)this.variables.pop();for(var u=0,f=this.variables_real.length;u<f;u++)s.tmp.done_vars.indexOf(this.variables_real[u])===-1&&this.variables.push(this.variables_real[u]),s.tmp.can_block_substitute&&s.tmp.done_vars.push(this.variables_real[u])},this.execs.push(e),e=function(s,o,l){for(var u=!1,f=0,h=this.variables.length;f<h;f++){var c=this.variables[f];if(["authority","committee"].indexOf(c)>-1&&typeof o[c]=="string"&&this.name==="names"){var m=!0,d=o[c].split(/\s*;\s*/),v={};if(o.multi&&o.multi._keys[c]){for(var b in o.multi._keys[c])if(v[b]=o.multi._keys[c][b].split(/\s*;\s*/),v[b].length!==d.length){m=!1;break}}m||(d=[o[c]],v=o.multi._keys[c]);for(var g=0,y=d.length;g<y;g++){var _={literal:d[g],multi:{_key:{}}};for(var b in v){var w={literal:v[b][g]};_.multi._key[b]=w}d[g]=_}o[c]=d}if(this.strings.form==="short"&&!o[c]&&(c==="title"?c="title-short":c==="container-title"&&(c="container-title-short")),c==="year-suffix"){u=!0;break}else if(p.DATE_VARIABLES.indexOf(c)>-1){if(s.opt.development_extensions.locator_date_and_revision&&c==="locator-date"){u=!0;break}if(o[c]){for(var O in o[c])if(!(this.dateparts.indexOf(O)===-1&&O!=="literal")&&o[c][O]){u=!0;break}if(u)break}}else if(c==="locator"){l&&l.locator&&(u=!0);break}else if(c==="locator-extra"){l&&l["locator-extra"]&&(u=!0);break}else if(["citation-number","citation-label"].indexOf(c)>-1){u=!0;break}else if(c==="first-reference-note-number"){l&&l["first-reference-note-number"]&&(u=!0);break}else if(c==="first-container-reference-note-number"){l&&l["first-container-reference-note-number"]&&(u=!0);break}else if(c==="hereinafter"){s.transform.abbrevs.default.hereinafter[o.id]&&s.sys.getAbbreviation&&o.id&&(u=!0);break}else{if(typeof o[c]=="object")break;if(typeof o[c]=="string"&&o[c]){u=!0;break}else if(typeof o[c]=="number"){u=!0;break}}if(u)break}if(u){for(var f=0,h=this.variables_real.length;f<h;f++){var c=this.variables_real[f];(c!=="citation-number"||s.tmp.area!=="bibliography")&&(s.tmp.cite_renders_content=!0),s.tmp.group_context.tip.variable_success=!0,s.tmp.can_substitute.value()&&s.tmp.area==="bibliography"&&typeof o[c]=="string"&&(s.tmp.name_node.top=s.output.current.value(),s.tmp.rendered_name.push(o[c]))}s.tmp.can_substitute.replace(!1,p.LITERAL)}else s.tmp.group_context.tip.variable_attempt=!0},this.execs.push(e);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var i=function(s){return function(o,l){var u=o;if(l&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(s)>-1&&(u=l),s==="hereinafter"&&r.sys.getAbbreviation&&u.id){if(r.transform.abbrevs.default.hereinafter[u.id])return!0}else if(u[s]){if(typeof u[s]=="number"||typeof u[s]=="string")return!0;if(typeof u[s]=="object"){for(var f in u[s])if(u[s][f])return!0}}return!1}},n=0,a=this.variables.length;n<a;n+=1)this.tests.push(i(this.variables[n]))};p.Attributes["@page"]=function(r,t){this.tests||(this.tests=[]);var e=t.replace("sub verbo","sub-verbo");e=e.split(/\s+/);for(var i=function(s){return function(o){var l;return r.processNumber(!1,o,"page",o.type),r.tmp.shadow_numbers.page.label?r.tmp.shadow_numbers.page.label==="sub verbo"?l="sub-verbo":l=r.tmp.shadow_numbers.page.label:l="page",r.tmp.shadow_numbers.page.values.length>0&&r.tmp.shadow_numbers.page.values[0].gotosleepability&&(r.tmp.shadow_numbers.page.values[0].labelVisibility=!1),s===l}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@number"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l;return r.processNumber(!1,o,"number",o.type),r.tmp.shadow_numbers.number.label?l=r.tmp.shadow_numbers.number.label:l="number",s===l}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@jurisdiction"]=function(r,t){this.tests||(this.tests=[]);var e=t.split(/\s+/),i=function(n){return function(a){if(!a.jurisdiction)return!1;for(var s=a.jurisdiction,o=0,l=n.length;o<l;o++)if(s===n[o])return!0;return!1}};this.tests.push(i(e))};p.Attributes["@country"]=function(r,t){this.tests||(this.tests=[]);var e=t.split(/\s+/),i=function(n){return function(a){if(!a.country)return!1;for(var s=a.country,o=0,l=n.length;o<l;o++)if(s===n[o])return!0;return!1}};this.tests.push(i(e))};p.Attributes["@context"]=function(r,t){this.tests||(this.tests=[]);var e=function(){if(["bibliography","citation"].indexOf(t)>-1){var i=r.tmp.area.slice(0,t.length);return i===t}else if(t==="alternative")return!!r.tmp.abort_alternative};this.tests.push(e)};p.Attributes["@has-year-only"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=o[s];return!(!l||l.month||l.season)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@has-to-month-or-season"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=o[s];return!(!l||!l.month&&!l.season||l.day)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@has-day"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=o[s];return!(!l||!l.day)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@is-plural"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){var n=i[t];if(n&&n.length){for(var a=0,s=0,o=!1,l=0,u=n.length;l<u;l+=1)r.opt.development_extensions.spoof_institutional_affiliations&&(n[l].literal||n[l].isInstitution&&n[l].family&&!n[l].given)?(s+=1,o=!1):(a+=1,o=!0);if(a>1)return!0;if(s>1)return!0;if(s&&o)return!0}return!1};this.tests.push(e)};p.Attributes["@is-multiple"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){var n=""+i[t],a=n.split(/(?:,\s|\s(?:tot\sen\smet|līdz|oraz|and|bis|έως|και|och|až|do|en|et|in|ir|ja|og|sa|to|un|und|és|și|i|u|y|à|e|a|и|-|–)\s|—|\&)/);return a.length>1};this.tests.push(e)};p.Attributes["@locale"]=function(r,t){this.tests||(this.tests=[]);var e,i,n,a,s,o=r.opt["default-locale"][0];if(this.name==="layout"){if(this.locale_raw=t,this.tokentype===p.START){r.opt.multi_layout||(r.opt.multi_layout=[]);var l=[],u=t.split(/\s+/),f={},h=p.localeResolve(u[0],o);l.push(h),h.generic?f[h.generic]=h.best:f[h.best]=h.best;for(var a=1,s=u.length;a<s;a+=1){var c=p.localeResolve(u[a],o);l.push(c),c.generic?f[c.generic]=h.best:f[c.best]=h.best}r[r.build.area].opt.sort_locales.push(f),r.opt.multi_layout.push(l)}r.opt.has_layout_locale=!0}else{n=t.split(/\s+/);var m=[];for(a=0,s=n.length;a<s;a+=1)i=n[a],e=p.localeResolve(i,o),n[a].length===2&&m.push(e.bare),r.localeConfigure(e,!0),n[a]=e;var d=n.slice(),v=function(b,g,y){return function(_){var w;w=!1;var O=!1,I;for(_.language?I=_.language:I=g,O=p.localeResolve(I,g),a=0,s=b.length;a<s;a+=1)if(O.best===b[a].best){r.tmp.condition_lang_counter_arr.push(r.tmp.condition_counter),r.tmp.condition_lang_val_arr.push(r.opt.lang),r.opt.lang=b[0].best,w=!0;break}return!w&&y.indexOf(O.bare)>-1&&(r.tmp.condition_lang_counter_arr.push(r.tmp.condition_counter),r.tmp.condition_lang_val_arr.push(r.opt.lang),r.opt.lang=b[0].best,w=!0),w}};this.tests.push(v(d,o,m))}};p.Attributes["@alternative-node-internal"]=function(r){this.tests||(this.tests=[]);var t=function(){return function(){return!r.tmp.abort_alternative}};this.tests.push(t())};p.Attributes["@locale-internal"]=function(r,t){this.tests||(this.tests=[]);var e,i,n,a,s;for(n=t.split(/\s+/),this.locale_bares=[],a=0,s=n.length;a<s;a+=1)i=n[a],e=p.localeResolve(i,r.opt["default-locale"][0]),n[a].length===2&&this.locale_bares.push(e.bare),r.localeConfigure(e),n[a]=e;this.locale_default=r.opt["default-locale"][0],this.locale=n[0].best,this.locale_list=n.slice();var o=function(u){return function(f){var h;h=!1;var c=!1;if(f.language&&(i=f.language,c=p.localeResolve(i,r.opt["default-locale"][0]),c.best===r.opt["default-locale"][0]&&(c=!1)),c){for(a=0,s=u.locale_list.length;a<s;a+=1)if(c.best===u.locale_list[a].best){r.opt.lang=u.locale,r.tmp.last_cite_locale=u.locale,r.output.openLevel("empty"),r.output.current.value().new_locale=u.locale,h=!0;break}!h&&u.locale_bares.indexOf(c.bare)>-1&&(r.opt.lang=u.locale,r.tmp.last_cite_locale=u.locale,r.output.openLevel("empty"),r.output.current.value().new_locale=u.locale,h=!0)}return h}},l=this;this.tests.push(o(l))};p.Attributes["@court-class"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=p.GET_COURT_CLASS(r,o);return l===s}},n=0,a=e.length;n<a;n++)this.tests.push(i(e[n]))};p.Attributes["@container-multiple"]=function(r,t){this.tests||(this.tests=[]);var e=t==="true",i=function(n){return function(a){if(r.tmp.container_item_count[a.container_id]){if(r.tmp.container_item_count[a.container_id]>1)return n}else return!n;return!n}};this.tests.push(i(e))};p.Attributes["@container-subsequent"]=function(r,t){this.tests||(this.tests=[]);var e=t==="true",i=function(n){return function(a){return r.tmp.container_item_pos[a.container_id]>1?n:!n}};this.tests.push(i(e))};p.Attributes["@has-subunit"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){return function(n){var a=0;for(var s in n[i]){var o=n[i][s];if(!o.given){var l=o.literal?o.literal:o.family,u=l.split("|").length;(a===0||u<a)&&(a=u)}}return a>1}};this.tests.push(e(t))};p.Attributes["@cite-form"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){return function(n){return n["cite-form"]===i}};this.tests.push(e(t))};p.Attributes["@disable-duplicate-year-suppression"]=function(r,t){r.opt.disable_duplicate_year_suppression=t.split(/\s+/)};p.Attributes["@consolidate-containers"]=function(r,t){p.Attributes["@track-containers"](r,t);var e=t.split(/\s+/);r.bibliography.opt.consolidate_containers=e};p.Attributes["@track-containers"]=function(r,t){var e=t.split(/\s+/);r.bibliography.opt.track_container_items||(r.bibliography.opt.track_container_items=[]),r.bibliography.opt.consolidate_containers||(r.bibliography.opt.consolidate_containers=[]),r.bibliography.opt.track_container_items=r.bibliography.opt.track_container_items.concat(e)};p.Attributes["@parallel-first"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);r.opt.track_repeat||(r.opt.track_repeat={}),this.parallel_first={};for(var i in e){var n=e[i];this.parallel_first[n]=!0,r.opt.track_repeat[n]=!0}};p.Attributes["@parallel-last"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);r.opt.track_repeat||(r.opt.track_repeat={}),this.parallel_last={};for(var i in e){var n=e[i];this.parallel_last[n]=!0,r.opt.track_repeat[n]=!0}};p.Attributes["@parallel-last-to-first"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);this.parallel_last_to_first={};for(var i=0,n=e.length;i<n;i++)this.parallel_last_to_first[e[i]]=!0};p.Attributes["@parallel-delimiter-override"]=function(r,t){r.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=t};p.Attributes["@parallel-delimiter-override-on-suppress"]=function(r,t){r.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=t};p.Attributes["@no-repeat"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);r.opt.track_repeat||(r.opt.track_repeat={}),this.non_parallel={};for(var i in e){var n=e[i];this.non_parallel[n]=!0,r.opt.track_repeat[n]=!0}};p.Attributes["@require"]=function(r,t){r.opt.use_context_condition=!0,this.strings.require=t};p.Attributes["@reject"]=function(r,t){r.opt.use_context_condition=!0,this.strings.reject=t};p.Attributes["@require-comma-on-symbol"]=function(r,t){r.opt.require_comma_on_symbol=t};p.Attributes["@gender"]=function(r,t){this.gender=t};p.Attributes["@cslid"]=function(r,t){this.cslid=parseInt(t,10)};p.Attributes["@capitalize-if-first"]=function(r,t){this.strings.capitalize_if_first_override=t};p.Attributes["@label-capitalize-if-first"]=function(r,t){this.strings.label_capitalize_if_first_override=t};p.Attributes["@label-form"]=function(r,t){this.strings.label_form_override=t};p.Attributes["@part-separator"]=function(r,t){this.strings["part-separator"]=t};p.Attributes["@leading-noise-words"]=function(r,t){this["leading-noise-words"]=t};p.Attributes["@name-never-short"]=function(r,t){this["name-never-short"]=t};p.Attributes["@class"]=function(r,t){r.opt.class=t};p.Attributes["@version"]=function(r,t){r.opt.version=t};p.Attributes["@value"]=function(r,t){this.strings.value=t};p.Attributes["@name"]=function(r,t){this.strings.name=t};p.Attributes["@form"]=function(r,t){this.strings.form=t};p.Attributes["@date-parts"]=function(r,t){this.strings["date-parts"]=t};p.Attributes["@range-delimiter"]=function(r,t){this.strings["range-delimiter"]=t};p.Attributes["@macro"]=function(r,t){this.postponed_macro=t};p.Attributes["@term"]=function(r,t){t==="sub verbo"?this.strings.term="sub-verbo":this.strings.term=t};p.Attributes["@xmlns"]=function(){};p.Attributes["@lang"]=function(r,t){t&&(r.build.lang=t)};p.Attributes["@lingo"]=function(){};p.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0};p.Attributes["@suffix"]=function(r,t){this.strings.suffix=t};p.Attributes["@prefix"]=function(r,t){this.strings.prefix=t};p.Attributes["@delimiter"]=function(r,t){this.strings.delimiter=t};p.Attributes["@match"]=function(r,t){this.match=t};p.Attributes["@names-min"]=function(r,t){var e=parseInt(t,10);r[r.build.area].opt.max_number_of_names<e&&(r[r.build.area].opt.max_number_of_names=e),this.strings["et-al-min"]=e};p.Attributes["@names-use-first"]=function(r,t){this.strings["et-al-use-first"]=parseInt(t,10)};p.Attributes["@names-use-last"]=function(r,t){t==="true"?this.strings["et-al-use-last"]=!0:this.strings["et-al-use-last"]=!1};p.Attributes["@sort"]=function(r,t){t==="descending"&&(this.strings.sort_direction=p.DESCENDING)};p.Attributes["@plural"]=function(r,t){t==="always"||t==="true"?this.strings.plural=1:t==="never"||t==="false"?this.strings.plural=0:t==="contextual"&&(this.strings.plural=!1)};p.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0};p.Attributes["@publisher-delimiter-precedes-last"]=function(r,t){this.strings["publisher-delimiter-precedes-last"]=t};p.Attributes["@publisher-delimiter"]=function(r,t){this.strings["publisher-delimiter"]=t};p.Attributes["@publisher-and"]=function(r,t){this.strings["publisher-and"]=t};p.Attributes["@givenname-disambiguation-rule"]=function(r,t){p.GIVENNAME_DISAMBIGUATION_RULES.indexOf(t)>-1&&(r.citation.opt["givenname-disambiguation-rule"]=t)};p.Attributes["@collapse"]=function(r,t){t&&(r[this.name].opt.collapse=t)};p.Attributes["@cite-group-delimiter"]=function(r,t){t&&(r[r.tmp.area].opt.cite_group_delimiter=t)};p.Attributes["@names-delimiter"]=function(r,t){r.setOpt(this,"names-delimiter",t)};p.Attributes["@name-form"]=function(r,t){r.setOpt(this,"name-form",t)};p.Attributes["@subgroup-delimiter"]=function(r,t){this.strings["subgroup-delimiter"]=t};p.Attributes["@subgroup-delimiter-precedes-last"]=function(r,t){this.strings["subgroup-delimiter-precedes-last"]=t};p.Attributes["@name-delimiter"]=function(r,t){r.setOpt(this,"name-delimiter",t)};p.Attributes["@et-al-min"]=function(r,t){var e=parseInt(t,10);r[r.build.area].opt.max_number_of_names<e&&(r[r.build.area].opt.max_number_of_names=e),r.setOpt(this,"et-al-min",e)};p.Attributes["@et-al-use-first"]=function(r,t){r.setOpt(this,"et-al-use-first",parseInt(t,10))};p.Attributes["@et-al-use-last"]=function(r,t){t==="true"?r.setOpt(this,"et-al-use-last",!0):r.setOpt(this,"et-al-use-last",!1)};p.Attributes["@et-al-subsequent-min"]=function(r,t){var e=parseInt(t,10);r[r.build.area].opt.max_number_of_names<e&&(r[r.build.area].opt.max_number_of_names=e),r.setOpt(this,"et-al-subsequent-min",e)};p.Attributes["@et-al-subsequent-use-first"]=function(r,t){r.setOpt(this,"et-al-subsequent-use-first",parseInt(t,10))};p.Attributes["@suppress-min"]=function(r,t){this.strings["suppress-min"]=parseInt(t,10)};p.Attributes["@suppress-max"]=function(r,t){this.strings["suppress-max"]=parseInt(t,10)};p.Attributes["@and"]=function(r,t){r.setOpt(this,"and",t)};p.Attributes["@delimiter-precedes-last"]=function(r,t){r.setOpt(this,"delimiter-precedes-last",t)};p.Attributes["@delimiter-precedes-et-al"]=function(r,t){r.setOpt(this,"delimiter-precedes-et-al",t)};p.Attributes["@initialize-with"]=function(r,t){r.setOpt(this,"initialize-with",t)};p.Attributes["@initialize"]=function(r,t){t==="false"&&r.setOpt(this,"initialize",!1)};p.Attributes["@name-as-reverse-order"]=function(r,t){this["name-as-reverse-order"]=t};p.Attributes["@name-as-sort-order"]=function(r,t){this.name==="style-options"?this["name-as-sort-order"]=t:r.setOpt(this,"name-as-sort-order",t)};p.Attributes["@sort-separator"]=function(r,t){r.setOpt(this,"sort-separator",t)};p.Attributes["@require-match"]=function(r,t){t==="true"&&(this.requireMatch=!0)};p.Attributes["@exclude-types"]=function(r,t){r.bibliography.opt.exclude_types=t.split(/\s+/)};p.Attributes["@exclude-with-fields"]=function(r,t){r.bibliography.opt.exclude_with_fields=t.split(/\s+/)};p.Attributes["@year-suffix-delimiter"]=function(r,t){r[this.name].opt["year-suffix-delimiter"]=t};p.Attributes["@after-collapse-delimiter"]=function(r,t){r[this.name].opt["after-collapse-delimiter"]=t};p.Attributes["@subsequent-author-substitute"]=function(r,t){r[this.name].opt["subsequent-author-substitute"]=t};p.Attributes["@subsequent-author-substitute-rule"]=function(r,t){r[this.name].opt["subsequent-author-substitute-rule"]=t};p.Attributes["@disambiguate-add-names"]=function(r,t){t==="true"&&(r.opt["disambiguate-add-names"]=!0)};p.Attributes["@disambiguate-add-givenname"]=function(r,t){t==="true"&&(r.opt["disambiguate-add-givenname"]=!0)};p.Attributes["@disambiguate-add-year-suffix"]=function(r,t){t==="true"&&r.opt.xclass!=="numeric"&&(r.opt["disambiguate-add-year-suffix"]=!0)};p.Attributes["@second-field-align"]=function(r,t){(t==="flush"||t==="margin")&&(r[this.name].opt["second-field-align"]=t)};p.Attributes["@hanging-indent"]=function(r,t){t==="true"&&(r.opt.development_extensions.hanging_indent_legacy_number?r[this.name].opt.hangingindent=2:r[this.name].opt.hangingindent=!0)};p.Attributes["@line-spacing"]=function(r,t){t&&t.match(/^[.0-9]+$/)&&(r[this.name].opt["line-spacing"]=parseFloat(t,10))};p.Attributes["@entry-spacing"]=function(r,t){t&&t.match(/^[.0-9]+$/)&&(r[this.name].opt["entry-spacing"]=parseFloat(t,10))};p.Attributes["@near-note-distance"]=function(r,t){r[this.name].opt["near-note-distance"]=parseInt(t,10)};p.Attributes["@substring"]=function(r,t){this.substring=parseInt(t,10)};p.Attributes["@text-case"]=function(r,t){var e=function(i,n){t==="normal"?this.text_case_normal=!0:(this.strings["text-case"]=t,t==="title"&&n.jurisdiction&&(this.strings["text-case"]="passthrough"))};this.execs.push(e)};p.Attributes["@page-range-format"]=function(r,t){r.opt["page-range-format"]=t};p.Attributes["@year-range-format"]=function(r,t){r.opt["year-range-format"]=t};p.Attributes["@default-locale"]=function(r,t){if(this.name==="style"){var e,i,n,s,a,s=t.match(/-x-(sort|translit|translat)-/g);if(s)for(n=0,i=s.length;n<i;n+=1)s[n]=s[n].replace(/^-x-/,"").replace(/-$/,"");for(e=t.split(/-x-(?:sort|translit|translat)-/),a=[e[0]],n=1,i=e.length;n<i;n+=1)a.push(s[n-1]),a.push(e[n]);for(e=a.slice(),i=e.length,n=1;n<i;n+=2)r.opt["locale-"+e[n]].push(e[n+1].replace(/^\s*/g,"").replace(/\s*$/g,""));e.length?r.opt["default-locale"]=e.slice(0,1):r.opt["default-locale"]=["en"]}else t==="true"&&(this.default_locale=!0)};p.Attributes["@default-locale-sort"]=function(r,t){r.opt["default-locale-sort"]=t};p.Attributes["@demote-non-dropping-particle"]=function(r,t){r.opt["demote-non-dropping-particle"]=t};p.Attributes["@initialize-with-hyphen"]=function(r,t){t==="false"&&(r.opt["initialize-with-hyphen"]=!1)};p.Attributes["@institution-parts"]=function(r,t){this.strings["institution-parts"]=t};p.Attributes["@if-short"]=function(r,t){t==="true"&&(this.strings["if-short"]=!0)};p.Attributes["@substitute-use-first"]=function(r,t){this.strings["substitute-use-first"]=parseInt(t,10)};p.Attributes["@use-first"]=function(r,t){this.strings["use-first"]=parseInt(t,10)};p.Attributes["@use-last"]=function(r,t){this.strings["use-last"]=parseInt(t,10)};p.Attributes["@stop-first"]=function(r,t){this.strings["stop-first"]=parseInt(t,10)};p.Attributes["@stop-last"]=function(r,t){this.strings["stop-last"]=parseInt(t,10)*-1};p.Attributes["@reverse-order"]=function(r,t){t==="true"&&(this.strings["reverse-order"]=!0)};p.Attributes["@display"]=function(r,t){r.bibliography.tokens.length===2&&(r.opt.using_display=!0),this.strings.cls=t};p.Stack=function(r,t){this.mystack=[],(t||r)&&this.mystack.push(r),this.tip=this.mystack[0]};p.Stack.prototype.push=function(r,t){t||r?this.mystack.push(r):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]};p.Stack.prototype.clear=function(){this.mystack=[],this.tip={}};p.Stack.prototype.replace=function(r,t){this.mystack.length===0&&p.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+r),t||r?this.mystack[this.mystack.length-1]=r:this.mystack[this.mystack.length-1]="",this.tip=this.mystack[this.mystack.length-1]};p.Stack.prototype.pop=function(){var r=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},r};p.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]};p.Stack.prototype.length=function(){return this.mystack.length};p.Parallel=function(r){this.state=r};p.Parallel.prototype.StartCitation=function(r,t){if(this.state.tmp.suppress_repeats=[],!(r.length<2)){for(var e=0,i=!1,n=[],a=0,s=r.length-1;a<s;a++){var o=r[a][0],l=r[a+1][0],u=!1,f={};if(r[a][0].seeAlso&&r[a][0].seeAlso.length>0&&!i){u=!0,i=[r[a][0].id].concat(r[a][0].seeAlso);var h=i.slice(),c=r.slice(a);c[0][1].parallel="first";for(var m=0,d=c.length;m<d;m++){var v=c[m][0].id,b=h.indexOf(v);if(e=!1,b===-1?e=a+m-1:a+m===r.length-1&&(e=a+m),e){n.push([a,e]);break}else h=h.slice(0,b).concat(h.slice(b+1))}}a>0&&u&&(this.state.tmp.suppress_repeats[a-1].START=!0,u=!1);for(var g in this.state.opt.track_repeat)if(!o[g]||!l[g])f[g]=!1;else if(typeof l[g]=="string"||typeof l[g]=="number"){if(g==="title"&&o["title-short"]&&l["title-short"])var y=o["title-short"],_=l["title-short"];else var y=o[g],_=l[g];y==_?f[g]=!0:f[g]=!1}else if(typeof o[g].length>"u"){f[g]=!1;var w=o[g].year,O=l[g].year;w&&O&&w==O&&(f[g]=!0)}else{var y=JSON.stringify(o[g]),_=JSON.stringify(l[g]);y===_?f[g]=!0:f[g]=!1}i||(f.ORPHAN=!0),e===a&&(f.END=!0,i=!1),this.state.tmp.suppress_repeats.push(f)}for(var m=0,d=n.length;m<d;m++){var I=r[n[m][0]][0].id;this.state.registry.registry[I].master=!0,this.state.registry.registry[I].siblings=[];for(var M=n[m][0],T=n[m][1],E=M;E<T;E++){this.state.tmp.suppress_repeats[E].SIBLING=!0;var q=r[E+1][0].id;r[E+1][1].parallel="other",this.state.registry.registry[I].siblings.push(q)}}}};p.Parallel.prototype.checkRepeats=function(r){var t=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(r.parallel_first&&Object.keys(r.parallel_first).length>0){var e=[{}].concat(this.state.tmp.suppress_repeats),i=!0;for(var n in r.parallel_first)(!e[t][n]||e[t].START)&&(i=!1);return i}if(r.parallel_last&&Object.keys(r.parallel_last).length>0){var e=this.state.tmp.suppress_repeats.concat([{}]),i=Object.keys(r.parallel_last).length>0;for(var n in r.parallel_last)(!e[t][n]||e[t].END)&&(i=!1);return i}if(r.non_parallel&&Object.keys(r.non_parallel).length>0){var e=[{}].concat(this.state.tmp.suppress_repeats),i=!0;for(var n in r.non_parallel)e[t][n]||(i=!1);return i}}return!1};p.Util={};p.Util.Match=function(){this.any=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(o)return!0}return!1}},this.none=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(o)return!1}return!0}},this.all=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(!o)return!1}return!0}},this[void 0]=this.all,this.nand=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(!o)return!0}return!1}}};p.Transform=function(r){this.abbrevs={},this.abbrevs.default=new r.sys.AbbreviationSegments;function t(f,h,c){var m="";return r.sys.getHumanForm&&(f==="country"?(m=r.sys.getHumanForm(h.toLowerCase(),!1,!0),m=m.split("|")[0]):f==="jurisdiction"&&(m=r.sys.getHumanForm(h.toLowerCase(),!1,!0),c?m="":m=m.split("|").slice(1).join(", "))),m}function e(f,h,c,m,d,v,b){var g="",y=p.FIELD_CATEGORY_REMAP[v],_;if(!y)return d;var w=v,O=d;f.sys.normalizeAbbrevsKey&&(O=f.sys.normalizeAbbrevsKey(v,d));var I=!1;if(w==="jurisdiction"&&O&&(I=O.indexOf(":")===-1),["jurisdiction","country"].indexOf(v)>-1&&d===d.toLowerCase()&&(O=d.toUpperCase()),f.sys.getAbbreviation){["jurisdiction","country","language-name","language-name-original"].indexOf(w)>-1?_="default":c.jurisdiction?_=c.jurisdiction:_="default";var M=f.transform.loadAbbreviation(_,y,O,c.language);if(f.transform.abbrevs[M][y]&&O){var T=f.transform.abbrevs[M][y][O];h.strings.form==="short"&&T?I?g="":g=T:g=t(w,O,I)}}return!g&&(!f.opt.development_extensions.require_explicit_legal_case_title_short||c.type!=="legal_case")&&m&&c[m]&&b&&(g=c[m]),!g&&!f.sys.getAbbreviation&&f.sys.getHumanForm&&(g=t(w,O,I)),!g&&!I&&(!f.sys.getHumanForm||w!=="jurisdiction")&&(g=d),f.opt.development_extensions.force_title_abbrev_fallback&&w==="title"&&g===d&&c["title-short"]&&(g=c["title-short"]),g}function i(f,h){var c=r.opt["default-locale"][0].slice(0,2),m;if(r.opt.development_extensions.strict_text_case_locales?m=new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):m=new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),f.language){var d=(""+f.language).match(m);d?c=d[1]:c="tlh"}return f.multi&&f.multi&&f.multi.main&&f.multi.main[h]&&(c=f.multi.main[h]),(!r.opt.development_extensions.strict_text_case_locales||r.opt.development_extensions.normalize_lang_keys_to_lowercase)&&(c=c.toLowerCase()),c}function n(f,h,c,m,d,v){var b,g,y,_,w=d,O=!1;if(!f[h])return{name:"",usedOrig:d,token:p.Util.cloneToken(this)};var I=!1;p.VARIABLES_WITH_SHORT_FORM.indexOf(h)>-1&&v&&(h=h+"-short",I=!0);var M=!1,T=null,E=[];h.slice(-6)==="-short"?(E.push(h),E.push(h.slice(0,-6))):E.push(h);for(var q=0,k=E.length;q<k;q++){var j=!1,h=E[q];y={name:"",usedOrig:d,locale:i(f,h)},_=r.opt[c]?r.opt[c].slice():[];var J=!1;if(c==="locale-orig"?(d||(y.name=f[h],y.usedOrig=!1),J=!0,O=!0):m&&(typeof _>"u"||_.length===0)&&(y.name=f[h],y.usedOrig=!0,J=!0,O=!0),!J){for(var Q=0,R=_.length;Q<R;Q+=1)if(b=_[Q],g=b.split(/[\-_]/)[0],b&&f.multi&&f.multi._keys[h]&&f.multi._keys[h][b]){y.name=f.multi._keys[h][b],y.locale=b,J=!0,j=!0,O=!1;break}else if(g&&f.multi&&f.multi._keys[h]&&f.multi._keys[h][g]){y.name=f.multi._keys[h][g],y.locale=g,J=!0,j=!0,O=!1;break}!y.name&&m&&(y={name:f[h],usedOrig:!0,locale:i(f,h)},O=!0)}if(y.token=p.Util.cloneToken(this),q===0?(j&&(y.found_variant_ok=!0),T=y,!I&&(typeof _>"u"||_.length===0)&&(M=!0),j&&(M=!0)):!I&&!j&&T?(y=T,h=E[0]):j&&(y.found_variant_ok=!0),["title","container-title"].indexOf(h)>-1&&!w&&(!y.token.strings["text-case"]||y.token.strings["text-case"]==="sentence"||y.token.strings["text-case"]==="normal")){r.opt.lang;var B;O?B=!1:B=y.locale;var U=h.slice(0,-5),te=y.token.strings["text-case"]==="sentence";y.name=p.titlecaseSentenceOrNormal(r,f,U,B,te),delete y.token.strings["text-case"]}if(M)break}return y}this.getTextSubField=n;function a(f,h,c,m){f||(f="default");var d=f.split(":")[0],v=p.getAbbrevsDomain(r,d,m);return v&&(f+="@"+v),c?(r.sys.getAbbreviation&&(f=r.sys.getAbbreviation(r.opt.styleID,r.transform.abbrevs,f,h,c),f||(f="default",v&&(f+="@"+v))),f):(r.transform.abbrevs[f]||(r.transform.abbrevs[f]=new r.sys.AbbreviationSegments),r.transform.abbrevs[f][h]||(r.transform.abbrevs[f][h]={}),f)}this.loadAbbreviation=a;function s(f,h,c,m){var d=f.variables[0];if(r.publisherOutput&&c){if(["publisher","publisher-place"].indexOf(d)===-1)return!1;r.publisherOutput[d+"-token"]=f,r.publisherOutput.varlist.push(d);var v=c.split(/;\s*/);v.length===r.publisherOutput[d+"-list"].length&&(r.publisherOutput[d+"-list"]=v);for(var b=0,g=v.length;b<g;b+=1)v[b]=e(r,f,h,!1,v[b],m,!0);return r.tmp[d+"-token"]=f,!0}return!1}function o(f,h){var c=h.match(/^#([0-9]+).*>>>/);c&&c[1]&&(f["cite-form"]=c[1])}function l(f,h){var c=h.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(c&&(h=h.slice(c[0].length),c[1]))for(var m=c[1].split(","),d=0,v=m.length;d<v;d+=1){var b=m[d],g=b.match(/^([-_a-z]+)(?:\:(.*))*$/),y=g[1],_=r.tmp.abbrev_trimmer;g[2]?_&&f&&(_[f]||(_[f]={}),_[f][y]=g[2]):r.tmp.done_vars.indexOf(y)===-1&&(_&&f&&(_.QUASHES[f]||(_.QUASHES[f]={}),_.QUASHES[f][y]=!0),r.tmp.done_vars.push(y))}return h}this.quashCheck=l;function u(f,h,c,m){var d,v=p.LangPrefsMap[f[0]];return v?d=r.opt["cite-lang-prefs"][v]:d=!1,function(b,g,y){var _,w,O,I,M,T,R;if(!f[0]||!g[f[0]]&&!g[m]||!b.tmp.just_looking&&y&&y["suppress-author"]&&!b.tmp.probably_rendered_something&&b.tmp.can_substitute.length()>1)return null;var E={primary:!1,secondary:!1,tertiary:!1};if(b.tmp.area.slice(-5)==="_sort")E.primary="locale-sort";else if(d&&d.length===1&&d[0]==="locale-orig")E.primary="locale-orig",d=!1;else if(d&&!b.tmp.multi_layout)for(var q=["primary","secondary","tertiary"],k=0,j=q.length;k<j&&!(d.length-1<k);k+=1)d[k]&&(E[q[k]]="locale-"+d[k]);else E.primary="locale-orig";if((f[0]==="title-short"||b.tmp.area!=="bibliography"&&!(b.tmp.area==="citation"&&b.opt.xclass==="note"&&y&&!y.position))&&(E.secondary=!1,E.tertiary=!1),b.tmp.multi_layout&&(E.secondary=!1,E.tertiary=!1),b.tmp["publisher-list"])return f[0]==="publisher"?b.tmp["publisher-token"]=this:f[0]==="publisher-place"&&(b.tmp["publisher-place-token"]=this),null;var J=b.tmp.lang_array.slice(),Q=n.call(this,g,f[0],E.primary,!0,null,h);_=Q.name,w=Q.locale;var R=Q.token,B=Q.usedOrig;if(h&&!Q.found_variant_ok&&(_=e(b,R,g,m,_,h,!0),_&&(o(g,_),b.tmp.just_looking||(_=l(g.jurisdiction,_)))),s(this,g,_,h))return b.tmp.lang_array=J,null;O=!1,M=!1;var U,te;E.secondary&&(Q=n.call(this,g,f[0],E.secondary,!1,Q.usedOrig,null,h),O=Q.name,I=Q.locale,U=Q.token,h&&!Q.found_variant_ok&&O&&(O=e(b,U,g,!1,O,h,!0))),E.tertiary&&(Q=n.call(this,g,f[0],E.tertiary,!1,Q.usedOrig,null,h),M=Q.name,T=Q.locale,te=Q.token,h&&!Q.found_variant_ok&&M&&(M=e(b,te,g,!1,M,h,!0)));var de;if(E.primary==="locale-translit"&&(de=b.opt.citeAffixes[v][E.primary].prefix),de==="<i>"&&f[0]==="title"&&!B){for(var me=!1,k=0,j=R.decorations.length;k<j;k+=1)R.decorations[k][0]==="@font-style"&&R.decorations[k][1]==="italic"&&(me=!0);me||R.decorations.push(["@font-style","italic"])}if(w!=="en"&&R.strings["text-case"]==="title"&&(R.strings["text-case"]="passthrough"),f[0]==="title"&&(_=p.demoteNoiseWords(b,_,this["leading-noise-words"])),O||M){if(b.output.openLevel("empty"),R.strings.suffix=R.strings.suffix.replace(/[ .,]+$/,""),w&&(b.tmp.lang_array=[w].concat(J)),p.UPDATE_GROUP_CONTEXT_CONDITION(b,null,null,R,R.strings.prefix+_),b.output.append(_,R),b.tmp.probably_rendered_something=!0,_===O&&(O=!1),O){U.strings.prefix=b.opt.citeAffixes[v][E.secondary].prefix,U.strings.suffix=b.opt.citeAffixes[v][E.secondary].suffix,U.strings.prefix||(U.strings.prefix=" ");for(var k=U.decorations.length-1;k>-1;k+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(U.decorations[k].join("/"))>-1&&(U.decorations=U.decorations.slice(0,k).concat(U.decorations.slice(k+1)));I!=="en"&&U.strings["text-case"]==="title"&&(U.strings["text-case"]="passthrough"),I&&(b.tmp.lang_array=[I].concat(J));var ee=new p.Token;ee.decorations.push(["@font-style","normal"]),ee.decorations.push(["@font-weight","normal"]),b.output.openLevel(ee),b.output.append(O,U),b.output.closeLevel(),b.output.current.value(),b.output.current.value().blobs.length-1}if(_===M&&(M=!1),M){te.strings.prefix=b.opt.citeAffixes[v][E.tertiary].prefix,te.strings.suffix=b.opt.citeAffixes[v][E.tertiary].suffix,te.strings.prefix||(te.strings.prefix=" ");for(var k=te.decorations.length-1;k>-1;k+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(te.decorations[k].join("/"))>-1&&(te.decorations=te.decorations.slice(0,k).concat(te.decorations.slice(k+1)));T!=="en"&&te.strings["text-case"]==="title"&&(te.strings["text-case"]="passthrough"),T&&(b.tmp.lang_array=[T].concat(J));var re=new p.Token;re.decorations.push(["@font-style","normal"]),re.decorations.push(["@font-weight","normal"]),b.output.openLevel(re),b.output.append(M,te),b.output.closeLevel(),b.output.current.value(),b.output.current.value().blobs.length-1}b.output.closeLevel()}else w&&(b.tmp.lang_array=[w].concat(J)),p.UPDATE_GROUP_CONTEXT_CONDITION(b,null,null,R,R.strings.prefix+_),b.output.append(_,R),b.tmp.probably_rendered_something=!0;return b.tmp.lang_array=J,b.tmp.can_block_substitute&&b.tmp.name_node.children.push(b.output.current.value()),null}}this.getOutputFunction=u};p.Token=function(r,t,e){this.name=r,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=t};p.Util.cloneToken=function(r){var t,e,i,n;if(typeof r=="string")return r;t=new p.Token(r.name,r.tokentype);for(var e in r.strings)r.strings.hasOwnProperty(e)&&(t.strings[e]=r.strings[e]);if(r.decorations)for(t.decorations=[],i=0,n=r.decorations.length;i<n;i+=1)t.decorations.push(r.decorations[i].slice());return r.variables&&(t.variables=r.variables.slice()),r.execs&&(t.execs=r.execs.slice(),r.tests&&(t.tests=r.tests.slice())),t};p.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0};p.Blob=function(r,t,e){var i,n,a;if(this.levelname=e,t){this.strings={prefix:"",suffix:""};for(var a in t.strings)t.strings.hasOwnProperty(a)&&(this.strings[a]=t.strings[a]);for(this.decorations=[],t.decorations===void 0?i=0:i=t.decorations.length,n=0;n<i;n+=1)this.decorations.push(t.decorations[n].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];typeof r=="string"?this.blobs=r:r?this.blobs=[r]:this.blobs=[],this.alldecor=[this.decorations]};p.Blob.prototype.push=function(r){typeof this.blobs=="string"?p.error("Attempt to push blob onto string object"):r!==!1&&(r.alldecor=r.alldecor.concat(this.alldecor),this.blobs.push(r))};p.NumericBlob=function(r,t,e,i,n){if(this.id=n,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=p.START,this.strings={},i){if(i.strings["text-case"]){var a=i.strings["text-case"];this.particle=p.Output.Formatters[a](r,this.particle),this.blobs=p.Output.Formatters[a](r,this.blobs)}this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new p.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new p.Output.DefaultFormatter};p.NumericBlob.prototype.setFormatter=function(r){this.formatter=r,this.type=this.formatter.format(1)};p.Output.DefaultFormatter=function(){};p.Output.DefaultFormatter.prototype.format=function(r){return r.toString()};p.NumericBlob.prototype.checkNext=function(r,t){t?(this.status=p.START,typeof r=="object"&&(r.num===this.num+1?r.status=p.SUCCESSOR:r.status=p.SEEN)):!r||!r.num||this.type!==r.type||r.num!==this.num+1?(this.status===p.SUCCESSOR_OF_SUCCESSOR&&(this.status=p.END),typeof r=="object"&&(r.status=p.SEEN)):this.status===p.START||this.status===p.SEEN?r.status=p.SUCCESSOR:(this.status===p.SUCCESSOR||this.status===p.SUCCESSOR_OF_SUCCESSOR)&&(this.range_prefix?(r.status=p.SUCCESSOR_OF_SUCCESSOR,this.status=p.SUPPRESS):r.status=p.SUCCESSOR)};p.NumericBlob.prototype.checkLast=function(r){return this.status===p.SEEN||r.num!==this.num-1&&this.status===p.SUCCESSOR?(this.status=p.SUCCESSOR,!0):!1};p.Util.fixDateNode=function(r,t,e){var i,n,a,s,o,l,u,f,h,c,m,d,v,g=this.cslXml.getAttributeValue(e,"lingo"),b=this.cslXml.getAttributeValue(e,"default-locale");this.build.date_key=!0,i=this.cslXml.getAttributeValue(e,"form");var g;if(b?g=this.opt["default-locale"][0]:g=this.cslXml.getAttributeValue(e,"lingo"),!this.getDate(i,b))return r;var y=this.cslXml.getAttributeValue(e,"date-parts");n=this.cslXml.getAttributeValue(e,"variable"),f=this.cslXml.getAttributeValue(e,"prefix"),h=this.cslXml.getAttributeValue(e,"suffix"),d=this.cslXml.getAttributeValue(e,"display"),v=this.cslXml.getAttributeValue(e,"cslid"),a=this.cslXml.nodeCopy(this.getDate(i,b)),this.cslXml.setAttribute(a,"lingo",this.opt.lang),this.cslXml.setAttribute(a,"form",i),this.cslXml.setAttribute(a,"date-parts",y),this.cslXml.setAttribute(a,"cslid",v),this.cslXml.setAttribute(a,"variable",n),this.cslXml.setAttribute(a,"default-locale",b),f&&this.cslXml.setAttribute(a,"prefix",f),h&&this.cslXml.setAttribute(a,"suffix",h),d&&this.cslXml.setAttribute(a,"display",d),c=this.cslXml.children(a);for(var _ in c)s=c[_],this.cslXml.nodename(s)==="date-part"&&(o=this.cslXml.getAttributeValue(s,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(a,"date-part",o,"@default-locale","true"));c=this.cslXml.children(e);for(var _ in c)if(s=c[_],this.cslXml.nodename(s)==="date-part"){o=this.cslXml.getAttributeValue(s,"name"),m=this.cslXml.attributes(s);for(l in m)l!=="@name"&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(u=m[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(a,"date-part",o,l,u)))}if(this.cslXml.getAttributeValue(e,"date-parts")==="year")this.cslXml.deleteNodeByNameAttribute(a,"month"),this.cslXml.deleteNodeByNameAttribute(a,"day");else if(this.cslXml.getAttributeValue(e,"date-parts")==="year-month")this.cslXml.deleteNodeByNameAttribute(a,"day");else if(this.cslXml.getAttributeValue(e,"date-parts")==="month-day"){for(var w=this.cslXml.children(a),O=1,I=this.cslXml.numberofnodes(w);O<I;O++)if(this.cslXml.getAttributeValue(w[O],"name")==="year"){this.cslXml.setAttribute(w[O-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(a,"year")}return this.cslXml.insertChildNodeAfter(r,e,t,a)};p.dateMacroAsSortKey=function(r,t){p.dateAsSortKey.call(this,r,t,!0)};p.dateAsSortKey=function(r,t,e){var i,n,a,s,o,l,u,f,h=this.variables[0],c="empty";if(e&&r.tmp.extension&&(c="macro-with-date"),i=t[h],typeof i>"u"&&(i={"date-parts":[[0]]}),typeof this.dateparts>"u"&&(this.dateparts=["year","month","day"]),i.raw?i=r.fun.dateparser.parseDateToArray(i.raw):i["date-parts"]&&(i=r.dateParseArray(i)),typeof i>"u"&&(i={}),i.year)for(u=0,f=p.DATE_PARTS_INTERNAL.length;u<f;u+=1)if(n=p.DATE_PARTS_INTERNAL[u],a=0,s=n,s.slice(-4)==="_end"&&(s=s.slice(0,-4)),i[n]&&this.dateparts.indexOf(s)>-1&&(a=i[n]),n.slice(0,4)==="year"){o=p.Util.Dates[s].numeric(r,a);var l="1";o[0]==="-"&&(l="0",o=o.slice(1),o=9999-parseInt(o,10)),r.output.append(p.Util.Dates[n.slice(0,4)].numeric(r,l+o),c)}else a=p.Util.Dates[s]["numeric-leading-zeros"](r,a),a||(a="00"),r.output.append(a,c)};p.Engine.prototype.dateParseArray=function(r){var t,e,i,n;t={};for(e in r)if(e==="date-parts"){i=r["date-parts"],i.length>1&&i[0].length!==i[1].length&&p.error("CSL data error: element mismatch in date range input."),n=["","_end"];for(var a=0,s=i.length;a<s;a+=1)for(var o=0,l=p.DATE_PARTS.length;o<l;o+=1)isNaN(parseInt(i[a][o],10))?t[p.DATE_PARTS[o]+n[a]]=void 0:t[p.DATE_PARTS[o]+n[a]]=parseInt(i[a][o],10)}else r.hasOwnProperty(e)&&(e==="literal"&&typeof r.literal=="object"&&typeof r.literal.part=="string"?(p.debug("Warning: fixing up weird literal date value"),t.literal=r.literal.part):t[e]=r[e]);return t};p.Util.Names={};p.Util.Names.compareNamesets=p.NameOutput.prototype._compareNamesets;p.Util.Names.unInitialize=function(r,t){var e,i,n,a,s;if(!t)return"";for(n=t.split(/(?:\-|\s+)/),a=t.match(/(\-|\s+)/g),s="",e=0,i=n.length;e<i;e+=1)s+=n[e],e<i-1&&(s+=a[e]);return s};p.Util.Names.initializeWith=function(r,t,e,i){var n,a,s;if(!t)return"";if(e||(e=""),["Lord","Lady"].indexOf(t)>-1||!t.replace(/^(?:<[^>]+>)*/,"").match(p.STARTSWITH_ROMANESQUE_REGEXP)&&!e.match("%s"))return t;r.opt["initialize-with-hyphen"]===!1&&(t=t.replace(/\-/g," ")),t=t.replace(/\s*\-\s*/g,"-").replace(/\s+/g," "),t=t.replace(/-([a-z])/g,"–$1");for(var n=t.length-2;n>-1;n+=-1)t.slice(n,n+1)==="."&&t.slice(n+1,n+2)!==" "&&(t=t.slice(0,n)+". "+t.slice(n+1));var o=p.Output.Formatters.nameDoppel.split(t),l=[];if(l=[o.strings[0]],o.tags.length===0){var u=l[0].match(/[^\.]+$/);u&&u[0].length===1&&u[0]!==u[0].toLowerCase()&&(l[0]+=".")}for(n=1,a=o.strings.length;n<a;n+=1)l.push(o.tags[n-1]),l.push(o.strings[n]);return i?s=this.doNormalize(r,l,e):s=this.doInitialize(r,l,e),s=s.replace(/\u2013([a-z])/g,"-$1"),s};p.Util.Names.notag=function(r){return r.replace(/^(?:<[^>]+>)*/,"")};p.Util.Names.mergetag=function(r,t,e){var i=t.match(/(?:-*<[^>]+>-*)/g);if(i)t=i.join("");else return e;return i=e.match(/^(.*[^\s])*(\s+)$/),i?(i[1]=i[1]?i[1]:"",e=i[1]+t+i[2]):e=e+t,e};p.Util.Names.tagonly=function(r,t){var e=t.match(/(?:<[^>]+>)+/);return e?e.join(""):t};p.Util.Names.doNormalize=function(r,t,e){var i,n;e=e||"";var a=[];for(i=0,n=t.length;i<n;i+=1)this.notag(t[i]).length>1&&this.notag(t[i]).slice(-1)==="."?(t[i]=t[i].replace(/^(.*)\.(.*)$/,"$1$2"),a.push(!0)):t[i].length===1&&t[i].toUpperCase()===t[i]?a.push(!0):a.push(!1);for(i=0,n=t.length;i<n;i+=2)a[i]&&(i<t.length-2&&(t[i+1]=this.tagonly(r,t[i+1]),a[i+2]||(t[i+1]=this.tagonly(r,t[i+1])+" "),t[i+2].length>1?t[i+1]=e.replace(/\ufeff$/,"")+t[i+1]:t[i+1]=this.mergetag(r,t[i+1],e)),i===t.length-1&&(t[i]=t[i]+e));return t.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")};p.Util.Names.doInitialize=function(r,t,e){var i,n,a,s,o,l,u;for(i=0,n=t.length;i<n;i+=2)if(u=t[i],!!u)if(a=u.match(p.NAME_INITIAL_REGEXP),!a&&!u.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&u.length>1&&e.match("%s")&&(a=u.match(/(.)(.*)/)),a&&a[2]&&a[3]&&(a[1]=a[1]+a[2],a[2]=""),a&&a[1].slice(0,1)===a[1].slice(0,1).toUpperCase()){var f="";if(a[2]){var h="";for(l=a[2].split(""),s=0,o=l.length;s<o;s+=1){var c=l[s];if(c===c.toUpperCase())h+=c;else break}h.length<a[2].length&&(f=p.toLocaleLowerCase.call(r,h))}t[i]=a[1]+f,i<n-1?e.match("%s")?t[i]=e.replace("%s",t[i]):t[i+1].indexOf("-")>-1?t[i+1]=this.mergetag(r,t[i+1].replace("-",""),e)+"-":t[i+1]=this.mergetag(r,t[i+1],e):e.match("%s")?t[i]=e.replace("%s",t[i]):t.push(e)}else u.match(p.ROMANESQUE_REGEXP)&&(!a||!a[3])&&(t[i]=" "+u);var m=t.join("");return m=m.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," "),m};p.Util.Names.getRawName=function(r){var t=[];return r.literal?t.push(r.literal):(r.given&&t.push(r.given),r.family&&t.push(r.family)),t.join(" ")};p.Util.Dates={};p.Util.Dates.year={};p.Util.Dates.year.long=function(r,t){return t||(typeof t=="boolean"?t="":t=0),t.toString()};p.Util.Dates.year.imperial=function(r,t,e){var i="";t||(typeof t=="boolean"?t="":t=0),e=e?"_end":"";var n=r.tmp.date_object["month"+e];for(n=n?""+n:"1";n.length<2;)n="0"+n;var a=r.tmp.date_object["day"+e];for(a=a?""+a:"1";a.length<2;)a="0"+a;var s=parseInt(t+n+a,10),o,l;if(s>=18680908&&s<19120730?(o="明治",l=1867):s>=19120730&&s<19261225?(o="大正",l=1911):s>=19261225&&s<19890108?(o="昭和",l=1925):s>=19890108&&(o="平成",l=1988),o&&l){var u=o;r.sys.normalizeAbbrevsKey&&(u=r.sys.normalizeAbbrevsKey("number",o)),r.transform.abbrevs.default.number[u]||r.transform.loadAbbreviation("default","number",u,null),r.transform.abbrevs.default.number[u]&&(o=r.transform.abbrevs.default.number[u]),i=o+(t-l)}return i};p.Util.Dates.year.short=function(r,t){if(t=t.toString(),t&&t.length===4)return t.substr(2)};p.Util.Dates.year.numeric=function(r,t){var i,e;t=""+t;var i=t.match(/([0-9]*)$/);for(i?(e=t.slice(0,i[1].length*-1),t=i[1]):(e=t,t="");t.length<4;)t="0"+t;return e+t};p.Util.Dates.normalizeMonth=function(r,t){var e;if(r||(r=0),r=""+r,r.match(/^[0-9]+$/)||(r=0),r=parseInt(r,10),t){var i={stub:"month-",num:r};if(i.num<1||i.num>24)i.num=0;else{for(;i.num>16;)i.num=i.num-4;i.num>12&&(i.stub="season-",i.num=i.num-12)}e=i}else(r<1||r>12)&&(r=0),e=r;return e};p.Util.Dates.month={};p.Util.Dates.month.numeric=function(r,e){var e=p.Util.Dates.normalizeMonth(e);return e||(e=""),e};p.Util.Dates.month["numeric-leading-zeros"]=function(r,e){var e=p.Util.Dates.normalizeMonth(e);if(!e)e="";else for(e=""+e;e.length<2;)e="0"+e;return e};p.Util.Dates.month.long=function(r,a,e,i){var n=p.Util.Dates.normalizeMonth(a,!0),a=n.num;if(!a)a="";else{for(a=""+a;a.length<2;)a="0"+a;a=r.getTerm(n.stub+a,"long",0,0,!1,i)}return a};p.Util.Dates.month.short=function(r,a,e,i){var n=p.Util.Dates.normalizeMonth(a,!0),a=n.num;if(!a)a="";else{for(a=""+a;a.length<2;)a="0"+a;a=r.getTerm(n.stub+a,"short",0,0,!1,i)}return a};p.Util.Dates.day={};p.Util.Dates.day.numeric=function(r,t){return t.toString()};p.Util.Dates.day.long=p.Util.Dates.day.numeric;p.Util.Dates.day["numeric-leading-zeros"]=function(r,t){for(t||(t=0),t=t.toString();t.length<2;)t="0"+t;return t.toString()};p.Util.Dates.day.ordinal=function(r,t,e){return r.fun.ordinalizer.format(t,e)};p.Util.Sort={};p.Util.Sort.strip_prepositions=function(r){var t;return typeof r=="string"&&(t=r.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),t&&(r=r.substr(t[1].length)),r};p.Util.substituteStart=function(r,t){var e,i,n,a,s,o,l;a=function(u,f,h){for(var c=0,m=this.decorations.length;c<m;c+=1)if(this.decorations[c][0]==="@strip-periods"&&this.decorations[c][1]==="true"){u.tmp.strip_periods+=1;break}},this.execs.push(a),this.decorations&&r.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),l=["number","date","names"],(this.name==="text"&&!this.postponed_macro||l.indexOf(this.name)>-1)&&(e=function(u,f,h){u.tmp.element_trace.value()==="author"||this.name==="names"?(!u.tmp.just_looking&&h&&h["author-only"]&&u.tmp.area!=="intext"&&u.tmp.probably_rendered_something&&u.tmp.element_trace.push("suppress-me"),!u.tmp.just_looking&&h&&h["suppress-author"]&&(u.tmp.probably_rendered_something||u.tmp.element_trace.push("suppress-me"))):this.name==="date"?!u.tmp.just_looking&&h&&h["author-only"]&&u.tmp.area!=="intext"&&u.tmp.probably_rendered_something&&u.tmp.element_trace.push("suppress-me"):!u.tmp.just_looking&&h&&h["author-only"]&&u.tmp.area!=="intext"?!u.tmp.probably_rendered_something&&u.tmp.can_block_substitute||u.tmp.element_trace.push("suppress-me"):h&&h["suppress-author"]&&u.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(e)),i=this.strings.cls,this.strings.cls=!1,r.build.render_nesting_level===0&&(r.build.area==="bibliography"&&r.bibliography.opt["second-field-align"]?(n=new p.Token("group",p.START),n.decorations=[["@display","left-margin"]],a=function(u,f){u.tmp.render_seen||(n.strings.first_blob=f.id,u.output.startTag("bib_first",n))},n.execs.push(a),t.push(n)):p.DISPLAY_CLASSES.indexOf(i)>-1&&(n=new p.Token("group",p.START),n.decorations=[["@display",i]],a=function(u,f){n.strings.first_blob=f.id,u.output.startTag("bib_first",n)},n.execs.push(a),t.push(n)),r.build.cls=i),r.build.render_nesting_level+=1,r.build.substitute_level.value()===1&&(s=new p.Token("choose",p.START),p.Node.choose.build.call(s,r,t),o=new p.Token("if",p.START),a=function(){return!!r.tmp.can_substitute.value()},o.tests||(o.tests=[]),o.tests.push(a),o.test=r.fun.match.any(this,r,o.tests),t.push(o)),r.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(a=function(u,f,h){if(!u.tmp.just_looking&&!u.tmp.suppress_decorations){var c=new p.Token("text",p.START);c.decorations=[["@showid","true"]],u.output.startTag("variable_entry",c);var m=null;h&&(m=h.position),m||(m=0);var d=["first","container-subsequent","subsequent","ibid","ibid-with-locator"],v=0;h&&h.noteIndex&&(v=h.noteIndex);var b=0;h&&h["first-reference-note-number"]&&(b=h["first-reference-note-number"]);var g=0;h&&h["first-container-reference-note-number"]&&(g=h["first-container-reference-note-number"]);var y=0;h&&h["citation-number"]&&(y=h["citation-number"]);var _=0;h&&h.index&&(_=h.index);var w={itemData:f,variableNames:this.variables,context:u.tmp.area,xclass:u.opt.xclass,position:d[m],"note-number":v,"first-reference-note-number":b,"first-container-reference-note-number":g,"citation-number":y,index:_,mode:u.opt.mode};u.output.current.value().params=w}},this.execs.push(a))};p.Util.substituteEnd=function(r,t){var e,i,n,a,s,o;if(r.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(e=function(u){!u.tmp.just_looking&&!u.tmp.suppress_decorations&&u.output.endTag("variable_entry")},this.execs.push(e)),e=function(u){for(var f=0,h=this.decorations.length;f<h;f+=1)if(this.decorations[f][0]==="@strip-periods"&&this.decorations[f][1]==="true"){u.tmp.strip_periods+=-1;break}},this.execs.push(e),r.build.render_nesting_level+=-1,r.build.render_nesting_level===0&&(r.build.cls?(e=function(u){u.output.endTag("bib_first")},this.execs.push(e),r.build.cls=!1):r.build.area==="bibliography"&&r.bibliography.opt["second-field-align"]&&(i=new p.Token("group",p.END),e=function(u){u.tmp.render_seen||u.output.endTag("bib_first")},i.execs.push(e),t.push(i),n=new p.Token("group",p.START),n.decorations=[["@display","right-inline"]],e=function(u){u.tmp.render_seen||(u.tmp.render_seen=!0,u.output.startTag("bib_other",n))},n.execs.push(e),t.push(n))),r.build.substitute_level.value()===1&&(a=new p.Token("if",p.END),t.push(a),s=new p.Token("choose",p.END),p.Node.choose.build.call(s,r,t)),this.name==="names"||this.name==="text"&&this.variables_real!=="title"){new p.Token("text",p.SINGLETON);var l=this.name;e=function(u,f){if(u.tmp.area==="bibliography"&&typeof u.bibliography.opt["subsequent-author-substitute"]=="string"&&!(this.variables_real&&!f[this.variables_real])&&!(this.variables_real&&l==="names")){var h=u.bibliography.opt["subsequent-author-substitute-rule"],c,m,d=!u.tmp.suppress_decorations;if(d&&u.tmp.subsequent_author_substitute_ok&&u.tmp.rendered_name){if(h==="partial-each"||h==="partial-first"){var v=!0,b=[];for(c=0,m=u.tmp.name_node.children.length;c<m;c+=1){var g=u.tmp.rendered_name[c];v&&u.tmp.last_rendered_name&&u.tmp.last_rendered_name.length>c-1&&g&&!g.localeCompare(u.tmp.last_rendered_name[c])?(o=new p.Blob(u[u.tmp.area].opt["subsequent-author-substitute"]),u.tmp.name_node.children[c].blobs=[o],h==="partial-first"&&(v=!1)):v=!1,b.push(g)}u.tmp.last_rendered_name=b}else if(h==="complete-each"){var b=u.tmp.rendered_name.join(",");if(b){if(u.tmp.last_rendered_name&&!b.localeCompare(u.tmp.last_rendered_name))for(c=0,m=u.tmp.name_node.children.length;c<m;c+=1)o=new p.Blob(u[u.tmp.area].opt["subsequent-author-substitute"]),u.tmp.name_node.children[c].blobs=[o];u.tmp.last_rendered_name=b}}else{var b=u.tmp.rendered_name.join(",");b&&(u.tmp.last_rendered_name&&!b.localeCompare(u.tmp.last_rendered_name)&&(o=new p.Blob(u[u.tmp.area].opt["subsequent-author-substitute"]),u.tmp.label_blob?u.tmp.name_node.top.blobs=[o,u.tmp.label_blob]:u.tmp.name_node.top.blobs.length?u.tmp.name_node.top.blobs[0].blobs=[o]:u.tmp.name_node.top.blobs=[o],u.tmp.substituted_variable=l),u.tmp.last_rendered_name=b)}u.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(e)}(this.name==="text"&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(e=function(u,f){u.tmp.element_trace.mystack.length>1&&u.tmp.element_trace.pop()},this.execs.push(e))};p.Util.padding=function(r){var t=r.match(/\s*(-{0,1}[0-9]+)/);if(t)for(r=parseInt(t[1],10),r<0&&(r=1e20+r),r=""+r;r.length<20;)r="0"+r;return r};p.Util.LongOrdinalizer=function(){};p.Util.LongOrdinalizer.prototype.init=function(r){this.state=r};p.Util.LongOrdinalizer.prototype.format=function(r,t){r<10&&(r="0"+r);var e=p.Engine.getField(p.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+r,"long",0,t);return e||(e=this.state.fun.ordinalizer.format(r,t)),this.state.tmp.cite_renders_content=!0,e};p.Util.Ordinalizer=function(r){this.state=r,this.suffixes={}};p.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var r=0,t=3;r<t;r+=1){var e=[void 0,"masculine","feminine"][r];this.suffixes[this.state.opt.lang][e]=[];for(var i=1;i<5;i+=1){var n=this.state.getTerm("ordinal-0"+i,"long",!1,e);if(typeof n>"u"){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(n)}}}};p.Util.Ordinalizer.prototype.format=function(r,t){var e;r=parseInt(r,10),e=""+r;var i="",n=[];if(t&&n.push(t),n.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){i=this.state.getTerm("ordinal",!1,0,t);for(var a,s=0,o=n.length;s<o;s+=1){a=n[s];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][e]&&l["whole-number"][e][a]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][e][a],!1,0,t):l["last-two-digits"][e.slice(e.length-2)]&&l["last-two-digits"][e.slice(e.length-2)][a]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][e.slice(e.length-2)][a],!1,0,t):l["last-digit"][e.slice(e.length-1)]&&l["last-digit"][e.slice(e.length-1)][a]&&(i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][e.slice(e.length-1)][a],!1,0,t)),i)break}}else t||(t=void 0),this.state.fun.ordinalizer.init(),r/10%10===1||r>10&&r<20?i=this.suffixes[this.state.opt.lang][t][3]:r%10===1&&r%100!==11?i=this.suffixes[this.state.opt.lang][t][0]:r%10===2&&r%100!==12?i=this.suffixes[this.state.opt.lang][t][1]:r%10===3&&r%100!==13?i=this.suffixes[this.state.opt.lang][t][2]:i=this.suffixes[this.state.opt.lang][t][3];return e=e+=i,e};p.Util.Romanizer=function(){};p.Util.Romanizer.prototype.format=function(r){var t,e,i,n,a;if(t="",r<6e3)for(n=r.toString().split(""),n.reverse(),e=0,i=0,a=n.length,e=0;e<a;e+=1)i=parseInt(n[e],10),t=p.ROMAN_NUMERALS[e][i]+t;return t};p.Util.Suffixator=function(r){r||(r=p.SUFFIX_CHARS),this.slist=r.split(",")};p.Util.Suffixator.prototype.format=function(r){var t;r+=1;var e="";do{t=r%26===0?26:r%26;var e=this.slist[t-1]+e;r=(r-t)/26}while(r!==0);return e};p.Engine.prototype.processNumber=function(r,t,e){var i,n=this,a=e;e=e==="page-first"?"page":e;var s=",\\s+and\\s+|\\s+and\\s+";this.opt.lang.slice(0,2)!=="en"&&(s+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var o="\\s*&\\s*",l=new RegExp("^"+o+"$"),u=new RegExp("("+o+"|"+s+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),f=new RegExp("(?:"+o+"|"+s+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),h=this.getTerm("and"),c=this.getTerm("and","symbol");h===c&&(c="&");function m(ee){ee=ee.trim();var re=ee.match(/^([^ ]+)/);if(re&&!p.STATUTE_SUBDIV_STRINGS[re[1]]){var ue=null;["locator","locator-extra","page"].indexOf(e)>-1?t.label?ue=p.STATUTE_SUBDIV_STRINGS_REVERSE[t.label]:ue="p.":ue=p.STATUTE_SUBDIV_STRINGS_REVERSE[e],ue&&(ee=ue+" "+ee)}return ee}function d(ee,re,ue,Te,we){Te=Te||"";var xe={};if(!re&&!p.STATUTE_SUBDIV_STRINGS_REVERSE[e]&&(re="var:"+e),re){var Oe=re.match(/(\s*)([^\s]+)(\s*)/);a==="page"&&we===0&&["p.","pp."].indexOf(Oe[2])===-1?(xe.gotosleepability=!0,xe.labelVisibility=!0):xe.labelVisibility=!1,xe.label=Oe[2],xe.origLabel=ee,xe.labelSuffix=Oe[3]?Oe[3]:"",xe.plural=0}var Oe=ue.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/);return Oe?(xe.particle=Oe[1]?Oe[1]:"",xe.value=Oe[2]):(xe.particle="",xe.value=ue),xe.joiningSuffix=Te.replace(/\s*-\s*/,"-"),xe}function v(ee){for(var re=ee.length-2;re>-1;re-=2)ee[re]==="-"&&ee[re-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&ee[re+1].match(/^[,a-zA-Z]+$/)&&(ee[re-1]=ee.slice(re-1,re+2).join(""),ee=ee.slice(0,re).concat(ee.slice(re+2)));return ee}function b(ee,re){re=re||"",ee=m(ee);var ue,Te,we;if(e==="page"&&ee.indexOf("–")>-1&&(ee=ee.replace(/\u2013/g,"-")),ee.indexOf("\\-")>-1){ue=new RegExp(u.source.replace("\\-","")),Te=new RegExp(f.source.replace("\\-",""));for(var xe=ee.split("\\-"),Oe=0,Ie=xe.length;Oe<Ie;Oe++)xe[Oe]=xe[Oe].replace(/\-/g,"–");we=xe.join("\\-"),we=we.replace(/\\/g,"")}else ue=u,Te=f,we=ee;var pe=[],be=we.match(ue);if(be){for(var xe=we.split(Te),Oe=0,Ie=be.length;Oe<Ie;Oe++)be[Oe].match(l)&&(xe[Oe].match(/[a-zA-Z]$/)&&xe[Oe].match(/^[a-zA-Z]/)?be[Oe]=c:be[Oe]=" "+c+" ");var W=!1;for(var Oe in xe)if((""+xe[Oe]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;if(W)pe=[we];else{for(var Oe=0,Ie=xe.length-1;Oe<Ie;Oe++)pe.push(xe[Oe]),pe.push(be[Oe]);pe.push(xe[xe.length-1]),pe=v(pe)}}else var pe=[we];for(var ae=[],ze=re,Le="",Oe=0,Ie=pe.length;Oe<Ie;Oe+=2){var be=pe[Oe].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g);if(be){for(var xe=pe[Oe].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/),Ge=xe.length-1;Ge>0;Ge--)xe[Ge-1]&&(!xe[Ge].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||!xe[Ge-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/))&&(xe[Ge-1]=xe[Ge-1]+be[Ge-1]+xe[Ge],xe=xe.slice(0,Ge).concat(xe.slice(Ge+1)),be=be.slice(0,Ge-1).concat(be.slice(Ge)));if(be.length>0){var G=be[0].trim(),C=!p.STATUTE_SUBDIV_STRINGS[G]||typeof n.getTerm(p.STATUTE_SUBDIV_STRINGS[G])>"u"||["locator","number","locator-extra","page"].indexOf(e)===-1&&p.STATUTE_SUBDIV_STRINGS[G]!==e;C?Oe===0&&(be=be.slice(1),xe[0]=xe[0]+" "+G+" "+xe[1],xe=xe.slice(0,1).concat(xe.slice(2))):Le=G}for(var Ge=0,N=xe.length;Ge<N;Ge++)if(xe[Ge]||Ge===xe.length-1){var Z;ze=be[Ge-1]?be[Ge-1]:ze,Le===ze.trim()?Z="":Z=Le,we=xe[Ge]?xe[Ge].trim():"",Ge===xe.length-1?ae.push(d(Z,ze,we,pe[Oe+1],Oe)):ae.push(d(Z,ze,we,null,Oe))}}else{var Z;Le===ze.trim()?Z="":Z=Le,ae.push(d(Z,ze,pe[Oe],pe[Oe+1]))}}return ae}function g(ee){for(var re=0,ue=ee.length-1;re<ue;re++)!ee[re].joiningSuffix&&ee[re+1].label&&(ee[re].joiningSuffix=" ")}function y(ee,re,ue){var Te=ee[ue.pos],we=ee[re].value,xe=Te.joiningSuffix==="\\-";we.particle&&we.particle!==Te.particle&&(ue.collapsible=!1);var Oe=we.match(/^[0-9]+([-,:a-zA-Z]*)$/),Ie=Te.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if((!we||!Oe||!Ie||xe)&&(ue.collapsible=!1,(!we||!Ie)&&(ue.numeric=!1),xe&&ue.count--),(Oe&&Oe[1]||Ie&&Ie[1])&&(ue.collapsible=!1),ee[re].collapsible===void 0){for(var pe=re,be=re+ue.count;pe<be;pe++)isNaN(parseInt(ee[pe].value))&&!ee[pe].value.match(/^[ivxlcmIVXLCM]+$/)?ee[pe].collapsible=!1:ee[pe].collapsible=!0;ue.collapsible=ee[re].collapsible}for(var W=ue.collapsible,pe=ue.pos,be=ue.pos+ue.count;pe<be;pe++)ue.count>1&&W&&(ee[pe].plural=1),ee[pe].numeric=ue.numeric,ee[pe].collapsible=ue.collapsible}function _(ee,re,ue){ue.label.slice(0,4)!=="var:"&&(ue.pos===0?(["locator","number","locator-extra","page"].indexOf(e)>-1&&typeof n.getTerm(p.STATUTE_SUBDIV_STRINGS[ue.label])>"u"&&(ee[ue.pos].labelVisibility=!0),["locator","number","locator-extra","page"].indexOf(e)===-1&&p.STATUTE_SUBDIV_STRINGS[ue.label]!==e&&(ee[0].labelVisibility=!0)):ee[ue.pos].labelVisibility=!0)}function w(ee){if(ee.length!==0){for(var re=0,ue=1,Te=1,we=ee.length;Te<we;Te++){var xe=ee[Te-1],Oe=ee[Te];if(xe.label===Oe.label&&xe.particle===xe.particle)ue++;else{var Ie=JSON.parse(JSON.stringify(ee[re]));Ie.pos=re,Ie.count=ue,Ie.numeric=!0,y(ee,re,Ie),xe.label!==Oe.label&&_(ee,re,Ie),re=Te,ue=1}}var Ie=JSON.parse(JSON.stringify(ee[re]));Ie.pos=re,Ie.count=ue,Ie.numeric=!0,y(ee,re,Ie),_(ee,re,Ie),ee.length&&ee[0].numeric&&e.slice(0,10)==="number-of-"&&parseInt(t[a],10)>1&&(ee[0].plural=1)}}function O(ee){return ee.replace("\\-","-")}function I(ee){var re=p.Util.cloneToken(r),ue=new p.Token;n.tmp.just_looking||(ue.decorations=re.decorations,re.decorations=[],ue.strings.prefix=re.strings.prefix,re.strings.prefix="",ue.strings.suffix=re.strings.suffix,re.strings.suffix="");var Te=ee.length?ee[0].label:null;if(ee.length){for(var we=0,xe=ee.length;we<xe;we++){var Oe=ee[we],Ie=p.Util.cloneToken(re);Ie.gender=r.gender,Te===Oe.label&&(Ie.formatter=r.formatter),Oe.numeric&&(Ie.successor_prefix=Oe.successor_prefix),Ie.strings.suffix=Ie.strings.suffix+O(Oe.joiningSuffix),Oe.styling=Ie}n.tmp.just_looking||ee[0].value.slice(0,1)==='"'&&ee[ee.length-1].value.slice(-1)==='"'&&(ee[0].value=ee[0].value.slice(1),ee[ee.length-1].value=ee[ee.length-1].value.slice(0,-1),ue.decorations.push(["@quotes",!0]))}return ue}function M(ee,re){var ue=!0;if(["locator","locator-extra","page"].indexOf(ee)>-1){var Te;re.origLabel?Te=re.origLabel:Te=re.label,ue=!!n.getTerm(p.STATUTE_SUBDIV_STRINGS[Te])}return ue}function T(ee,re){return ee==="page"||["locator","locator-extra"].indexOf(ee)>-1&&(["p."].indexOf(re.label)>-1||["p."].indexOf(re.origLabel)>-1)}function E(ee,re,ue,Te){var we=T(ee,re),xe=M(ee,re);return xe&&ue==="-"&&Te&&((we||["locator","locator-extra","issue","volume","edition","number"].indexOf(ee)>-1)&&(ue=n.getTerm("page-range-delimiter"),ue||(ue="–")),ee==="collection-number"&&(ue=n.getTerm("year-range-delimiter"),ue||(ue="–"))),ue}function q(ee,re,ue){if(!(re<1)&&ue.count===2&&ee[re-1].particle===ee[re].particle){if(ee[re-1].joiningSuffix!=="-"){ue.count=1;return}if(!n.opt["page-range-format"]&&parseInt(ee[re-1].value,10)>parseInt(ee[re].value,10)){ee[re-1].joiningSuffix=E(e,ee[re],ee[re-1].joiningSuffix,!0);return}var Te=ee[re],we=T(e,Te),xe;we&&!isNaN(parseInt(ee[re-1].value))&&!isNaN(parseInt(ee[re].value))?(xe=ee[re-1].particle+ee[re-1].value+" - "+ee[re].particle+ee[re].value,xe=n.fun.page_mangler(xe)):((""+ee[re-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+ee[re].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(ee[re-1].joiningSuffix=n.getTerm("page-range-delimiter")),xe=ee[re-1].value+O(ee[re-1].joiningSuffix)+ee[re].value);var Oe=xe.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(Oe){var Ie=Oe[3];Ie=E(e,Te,Ie,ee[re].numeric),ee[re-1].particle=Oe[1],ee[re-1].value=Oe[2],ee[re-1].joiningSuffix=Ie,ee[re].particle=Oe[4],ee[re].value=Oe[5]}ue.count=0}}function k(ee){if(r&&["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(e)!==-1){for(var re={count:0,label:null,lastHadRangeDelimiter:!1},ue=0,Te=ee.length;ue<Te;ue++){var we=ee[ue];if(we.collapsible)re.label===we.label&&we.joiningSuffix==="-"?re.count=1:re.label===we.label&&we.joiningSuffix!=="-"?(re.count++,re.count===2&&q(ee,ue,re)):re.label!==we.label?(re.label=we.label,re.count=1):(re.count=1,re.label=we.label);else{re.count=0,re.label=null;var xe=we.numeric;we.joiningSuffix=E(e,we,we.joiningSuffix,xe)}}re.count===2&&q(ee,ee.length-1,re)}}function j(ee,re,ue){var Te=ee[re];ue.length&&(Te.numeric=ue[0].numeric,Te.collapsible=ue[0].collapsible,Te.plural=ue[0].plural,Te.label=p.STATUTE_SUBDIV_STRINGS[ue[0].label],e==="number"&&Te.label==="issue"&&n.getTerm("number")&&(Te.label="number"))}if(r&&this.tmp.shadow_numbers[a]&&this.tmp.shadow_numbers[a].values.length){var J=this.tmp.shadow_numbers[a].values;k(J),this.tmp.shadow_numbers[a].masterStyling=I(J);return}if(this.tmp.shadow_numbers[a]||(this.tmp.shadow_numbers[a]={values:[]}),!!t){var Q=p.LangPrefsMap[e];if(Q){var R=this.opt["cite-lang-prefs"][Q][0];i=this.transform.getTextSubField(t,a,"locale-"+R,!0),i=i.name}else i=t[a];if(i&&a==="number"&&t.type==="legal_case"&&(i=i.replace(/[\\]*-/g,"\\-")),i&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var B=this.sys.normalizeAbbrevsKey(a,i);else var B=i;var U=this.transform.loadAbbreviation(t.jurisdiction,"number",B,t.language);this.transform.abbrevs[U].number&&(this.transform.abbrevs[U].number[B]?i=this.transform.abbrevs[U].number[B]:typeof this.transform.abbrevs[U].number[B]<"u"&&delete this.transform.abbrevs[U].number[B])}if(typeof i<"u"&&(typeof i=="string"||typeof i=="number")){typeof i=="number"&&(i=""+i);var te=p.STATUTE_SUBDIV_STRINGS_REVERSE[e];if(this.tmp.shadow_numbers[a].values.length===0){var J=b(i,te);g(J),w(J);for(var de of J)de.numeric||(de.plural=0);this.tmp.shadow_numbers[a].values=J,r&&(k(J),this.tmp.shadow_numbers[a].masterStyling=I(J)),j(this.tmp.shadow_numbers,a,J)}var me=this.tmp.shadow_numbers[a];e==="number"&&me.values.length===1&&me.values[0].value.indexOf("|")>-1&&(me.values[0].value=me.values[0].value.replace(/\|/g,", "),me.values[0].numeric=!0,me.values[0].plural=1,me.values[0].collapsible=!1,me.numeric=!0,me.plural=1,me.collapsible=!1),me.values.length===1&&me.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(me.values[0].numeric=!0,me.values[0].plural=0,me.values[0].collapsible=!1,me.numeric=!0,me.plural=0,me.collapsible=!1),e==="page"&&me.values.length>0&&me.values[0].gotosleepability&&(me.labelForm="short")}}};p.Util.outputNumericField=function(r,t,e){r.output.openLevel(r.tmp.shadow_numbers[t].masterStyling);var i=r.tmp.shadow_numbers[t].masterStyling,n=r.tmp.shadow_numbers[t].values,a=n.length?n[0].label:null,s=r.tmp.shadow_numbers[t].labelForm,o=r.tmp.group_context.tip.label_static,l;s?l=s:l="short";for(var u=r.tmp.shadow_numbers[t].labelCapitalizeIfFirst,f=r.tmp.shadow_numbers[t].labelDecorations,h=null,c=0,m=n.length;c<m;c++){var d=n[c],v="",b;d.label&&(d.label.slice(0,4)==="var:"?b=d.label.slice(4):b=p.STATUTE_SUBDIV_STRINGS[d.label],b&&(d.label===a?(o&&(v=r.getTerm(b,"static",d.plural),v.indexOf("%s")===-1&&(v="")),v||(v=r.getTerm(b,s,d.plural))):(o&&(v=r.getTerm(b,"static",d.plural),v.indexOf("%s")===-1&&(v="")),v||(v=r.getTerm(b,l,d.plural))),u&&(v=p.Output.Formatters["capitalize-first"](r,v))));var g=-1;v&&(g=v.indexOf("%s"));var y=p.Util.cloneToken(d.styling);if(y.formatter=d.styling.formatter,y.type=d.styling.type,y.num=d.styling.num,y.gender=d.styling.gender,g>0&&g<v.length-2)y.strings.prefix+=v.slice(0,g),y.strings.suffix=v.slice(g+2)+y.strings.suffix;else if(d.labelVisibility)if(v||(v=d.label,b=d.label),g>0){var _=new p.Token;_.decorations=f,r.output.append(v.slice(0,g),_)}else(g===v.length-2||g===-1)&&r.output.append(v+d.labelSuffix,"empty");if(p.UPDATE_GROUP_CONTEXT_CONDITION(r,i.strings.prefix,null,i,`${d.particle}${d.value}`),d.collapsible){var w;d.value.match(/^[1-9][0-9]*$/)&&Number.isSafeInteger(parseInt(d.value,10))?w=new p.NumericBlob(r,d.particle,parseInt(d.value,10),y,e):w=new p.NumericBlob(r,d.particle,d.value,y,e),typeof w.gender>"u"&&(w.gender=r.locale[r.opt.lang]["noun-genders"][t]),r.output.append(w,"literal")}else r.output.append(d.particle+d.value,y);if(g===0&&g<v.length-2&&(h===null&&(h=b),b!==h||c===n.length-1)){var O=new p.Token;O.decorations=f,r.output.append(v.slice(g+2),O)}h=b,r.tmp.term_predecessor=!0}r.output.closeLevel()};p.Util.PageRangeMangler={};p.Util.PageRangeMangler.getFunction=function(r,t){var e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w=r.getTerm(t+"-range-delimiter");e=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,a=function(I){for(n=I.length,i=1;i<n;i+=2)typeof I[i]=="object"&&(I[i]=I[i].join(""));var M=I.join("");return M=M.replace(/([^\\])\-/g,"$1"+r.getTerm(t+"-range-delimiter")),M},s=function(I){var M,T,E,q="\\s+\\-\\s+",k=w==="-"?"":w,j=new RegExp("([^\\\\])[-"+k+"\\u2013]","g");I=I.replace(j,"$1 - ").replace(/\s+-\s+/g," - ");var J=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+q+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),Q=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+q+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(M=I.match(J),T=I.split(Q),T.length===0)E=M;else for(E=[T[0]],i=1,n=T.length;i<n;i+=1)E.push(M[i-1].replace(/\s*\-\s*/g,"-")),E.push(T[i]);return E},o=function(I){for(I=""+I,c=s(I),n=c.length,i=1;i<n;i+=2)m=c[i].match(e),m&&(!m[3]||m[1]===m[3])&&(m[4].length<m[2].length&&(m[4]=m[2].slice(0,m[2].length-m[4].length)+m[4]),parseInt(m[2],10)<parseInt(m[4],10)&&(m[3]=w+(m[1]?m[1]:""),c[i]=m.slice(1))),typeof c[i]=="string"&&(c[i]=c[i].replace(/\-/g,w));return c},l=function(I,M,T){n=I.length;for(var E=1,q=I.length;E<q;E+=2)typeof I[E]=="object"&&(I[E][3]=u(I[E][1],I[E][3],M,T),I[E][2].slice(1)===I[E][0]&&(I[E][2]=w));return a(I)},u=function(I,M,T,E){if(T||(T=0),d=(""+I).split(""),v=(""+M).split(""),b=v.slice(),b.reverse(),d.length===v.length)for(var q=0,k=d.length;q<k;q+=1)if(d[q]===v[q]&&b.length>T)b.pop();else{if(T&&E&&b.length===3){var j=d.slice(0,q);j.reverse(),b=b.concat(j)}break}return b.reverse(),b.join("")},f=function(I){for(n=I.length,i=1;i<n;i+=2)typeof I[i]=="object"&&(m=I[i],g=parseInt(m[1],10),y=parseInt(m[3],10),g>100&&g%100&&parseInt(g/100,10)===parseInt(y/100,10)?m[3]=""+y%100:g>=1e4&&(m[3]=""+y%1e3)),m[2].slice(1)===m[0]&&(m[2]=w);return a(I)},h=function(I){for(n=I.length,i=1;i<n;i+=2){if(typeof I[i]=="object"&&(m=I[i],g=parseInt(m[1],10),y=parseInt(m[3],10),v=""+y,g>100&&g%100))for(var M=2;M<v.length;M++){var T=Math.pow(10,M);if(Math.floor(g/T)===Math.floor(y/T)){m[3]=""+y%T;break}}m[2].slice(1)===m[0]&&(m[2]=w)}return a(I)};var O=function(I,M,T,E){var k;I=""+I;var q=o(I),k=M(q,T,E);return k};return r.opt[t+"-range-format"]?r.opt[t+"-range-format"]==="expanded"?_=function(I){return O(I,a)}:r.opt[t+"-range-format"]==="minimal"?_=function(I){return O(I,l)}:r.opt[t+"-range-format"]==="minimal-two"?_=function(I,M){return O(I,l,2,M)}:r.opt[t+"-range-format"]==="chicago"?_=function(I){return O(I,f)}:r.opt[t+"-range-format"]==="chicago-15"?_=function(I){return O(I,f)}:r.opt[t+"-range-format"]==="chicago-16"&&(_=function(I){return O(I,h)}):_=function(I){return O(I,a)},_};p.Util.FlipFlopper=function(r){var t=[],e={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};e['("']=e[' "'],e["('"]=e[" '"];var i=r.getTerm("open-quote"),n=r.getTerm("close-quote"),a=r.getTerm("open-inner-quote"),s=r.getTerm("close-inner-quote");i&&n&&[' "'," '",'"',"'"].indexOf(i)===-1&&(e[i]=JSON.parse(JSON.stringify(e[' "'])),e[i].opener=i,e[i].closer=n),a&&s&&[' "'," '",'"',"'"].indexOf(a)===-1&&(e[a]=JSON.parse(JSON.stringify(e[" '"])),e[a].opener=a,e[a].closer=s);function o(y){var _={" '":' "',' "':" '",'("':"('","('":'("'};e[y].outer="true",e[_[y]].outer="inner"}function l(y){for(var _=[],w=Object.keys(e),O=0,I=w.length;O<I;O++){var M=w[O];(e[y].type!=="quote"||!e[y])&&_.push(M)}var T=e[y];return T.opener=new RegExp("^(?:"+_.map(function(E){return E.replace("(","\\(")}).join("|")+")"),T}var u=function(){for(var y={},_=Object.keys(e),w=0,O=_.length;w<O;w++){var I=_[w];y[I]=l(I)}return y}(),f=function(){var y=[],_=[],w={};for(var O in u)y.push(O),w[u[O].closer]=!0;for(var I=Object.keys(w),M=0,T=I.length;M<T;M++){var E=I[M];_.push(E)}var q=y.concat(_).map(function(k){return k.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+q+"))","g"),splitAll:new RegExp("(?:"+q+")","g"),open:new RegExp("(^(?:"+y.map(function(k){return k.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+_.join("|")+")$)")}}();function h(y,_){var w=t[t.length-1];return!w||y.match(w.opener)?(t.push({type:u[y].type,opener:u[y].opener,closer:u[y].closer,pos:_}),!1):(t.pop(),t.push({type:u[y].type,opener:u[y].opener,closer:u[y].closer,pos:_}),{fixtag:w.pos})}function c(y,_){var w=t[t.length-1];return w&&y===w.closer?(t.pop(),w.type==="nocase"?{nocase:{open:w.pos,close:_}}:!1):w?{fixtag:w.pos}:{fixtag:_}}function m(y,_){return y.match(f.open)?h(y,_):c(y,_)}function d(y){var _=[];y=y.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4'),y=y.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3");var w=y.match(f.matchAll);if(!w)return{tags:[],strings:[y],forcedSpaces:[]};for(var O=y.split(f.splitAll),I=0,M=w.length-1;I<M;I++)e[w[I]]&&(O[I+1]===""&&['"',"'"].indexOf(w[I+1])>-1?(w[I+1]=" "+w[I+1],_.push(!0)):_.push(!1));return{tags:w,strings:O,forcedSpaces:_}}var v=function(y){var _=[];this.set=function(w){for(var O=e[w].attr,I=null,M=_.length-1;M>-1;M--){var T=_[M];if(T[0]===O){I=T;break}}if(!I){var E=[r[r.tmp.area].opt.layout_decorations].concat(y.alldecor);e:for(var M=E.length-1;M>-1;M--){var q=E[M];if(q)for(var k=q.length-1;k>-1;k--){var T=q[k];if(T[0]===O){I=T;break e}}}}I?I=[O,e[w].flipflop[I[1]]]:I=[O,e[w].outer],_.push(I)},this.pair=function(){return _[_.length-1]},this.pop=function(){_.pop()}};function b(y,_){if(y==="'"){if(_&&_.match(/^[^\,\.\?\:\;\ ]/))return"’"}else if(y===" '"&&_&&_.match(/^[\ ]/))return" ’";return!1}function g(y,_,w){var O=!0,I=new v(y);y.blobs=[];function M(J){this.stack=[J],this.latest=J,this.addStyling=function(Q,R){if(O&&(Q.slice(0,1)===" "&&(Q=Q.slice(1)),Q.slice(0,1)===" "&&(Q=Q.slice(1)),O=!1),this.latest=this.stack[this.stack.length-1],R){if(typeof this.latest.blobs=="string"){var B=new p.Blob;B.blobs=this.latest.blobs,B.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[B]}var U=new p.Token,te=new p.Blob(null,U);if(te.alldecor=this.latest.alldecor.slice(),R[0]==="@class"&&R[1]==="nodecor"){for(var de=[],me={},ee=[r[r.tmp.area].opt.layout_decorations].concat(te.alldecor),re=ee.length-1;re>-1;re--){var ue=ee[re];if(ue)for(var Te=ue.length-1;Te>-1;Te--){var we=ue[Te];["@font-weight","@font-style","@font-variant"].indexOf(we[0])>-1&&!me[we[0]]&&(R[1]!=="normal"&&(te.decorations.push([we[0],"normal"]),de.push([we[0],"normal"])),me[we[0]]=!0)}}te.alldecor.push(de)}else te.decorations.push(R),te.alldecor.push([R]);if(this.latest.blobs.push(te),this.stack.push(te),this.latest=te,Q){var U=new p.Token,te=new p.Blob(null,U);te.blobs=Q,te.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(te)}}else if(Q){var B=new p.Blob;B.blobs=Q,B.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(B)}},this.popStyling=function(){this.stack.pop()}}var T=new M(y);if(_.strings.length){var E=_.strings[0];w&&(E=" "+E),T.addStyling(E)}for(var q=0,k=_.tags.length;q<k;q++){var j=_.tags[q],E=_.strings[q+1];j.match(f.open)?(I.set(j),T.addStyling(E,I.pair())):(I.pop(),T.popStyling(),T.addStyling(E))}}this.processTags=function(y){var O=y.blobs,_=!1;O.slice(0,1)===" "&&!O.match(/^\s+[\'\"]/)&&(_=!0);var w=new RegExp("("+p.ROMANESQUE_REGEXP.source+")’("+p.ROMANESQUE_REGEXP.source+")","g"),O=" "+O.replace(w,"$1'$2"),I=d(O);if(I.tags.length!==0){for(var M=!1,T=0,E=I.tags.length;T<E;T++){var q=I.tags[T],O=I.strings[T+1],k=b(q,O);if(k)I.strings[T+1]=k+I.strings[T+1],I.tags[T]="";else{for(var j;j=m(q,T),j;)if(Object.keys(j).indexOf("fixtag")>-1){if(q.match(f.close)&&q==="'")I.strings[T+1]="’"+I.strings[T+1],I.tags[T]="";else{var J=I.tags[j.fixtag];I.forcedSpaces[j.fixtag-1]&&(J=J.slice(1)),I.strings[j.fixtag+1]=J+I.strings[j.fixtag+1],I.tags[j.fixtag]=""}if(t.length>0)if(q!=="'")t.pop();else break;else break}else if(j.nocase){I.tags[j.nocase.open]="",I.tags[j.nocase.close]="";break}else break;j&&(j.fixtag||j.fixtag===0)&&(I.strings[T+1]=I.tags[T]+I.strings[T+1],I.tags[T]="")}}for(var T=t.length-1;T>-1;T--){var Q=t[T].pos,q=I.tags[Q];q===" '"||q==="'"?I.strings[Q+1]=" ’"+I.strings[Q+1]:I.strings[Q+1]=I.tags[Q]+I.strings[Q+1],I.tags[Q]="",t.pop()}for(var T=I.tags.length-1;T>-1;T--)I.tags[T]||(I.tags=I.tags.slice(0,T).concat(I.tags.slice(T+1)),I.strings[T]=I.strings[T]+I.strings[T+1],I.strings=I.strings.slice(0,T+1).concat(I.strings.slice(T+2)));for(var T=0,E=I.tags.length;T<E;T++){var q=I.tags[T],R=I.forcedSpaces[T-1];[' "'," '",'("',"('"].indexOf(q)>-1&&(M||(o(q),M=!0),R||(I.strings[T]+=q.slice(0,1)))}g(y,I,_)}}};p.Output.Formatters=function(){var r=`(?:‘|’|“|”| "| '|"|'|[-–—/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)`,t=new p.Doppeler(r,function(v){return v.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),e='(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)',i=new p.Doppeler(e),n=new p.Doppeler("(?:[    -​ 　]+)"),a={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function s(v){var b=v.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return b&&!(b[2].match(/^[\u0370-\u03FF]$/)&&!b[3])?b[1]+p.toLocaleUpperCase.call(this,b[2])+b[3]:v}function o(v,b){if(!b)return"";v.doppel=t.split(b);var g={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"‘":{opener:"‘",closer:"’"},"“":{opener:"“",closer:"”"}};function y(Q,R){if(v.quoteState.length===0||Q===v.quoteState[v.quoteState.length-1].opener)return v.quoteState.push({opener:g[Q].opener,closer:g[Q].closer,pos:R}),!1;var B=v.quoteState[v.quoteState.length-1].pos;return v.quoteState.pop(),v.quoteState.push({opener:g[Q].opener,closer:g[Q].closer,positions:R}),B}function _(Q,R){if(v.quoteState.length>0&&Q===v.quoteState[v.quoteState.length-1].closer)v.quoteState.pop();else return R}function w(Q,R){var B=["“","‘",' "'," '"].indexOf(Q)>-1;return B?y(Q,R):_(Q,R)}function O(Q,R){var B=Q.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(B)return w(B[1],R)}v.doppel.strings.length&&v.doppel.strings[0].trim()&&(v.doppel.strings[0]=v.capitaliseWords(v.doppel.strings[0],0,v.doppel.tags[0]));for(var I=0,M=v.doppel.tags.length;I<M;I++){var T=v.doppel.tags[I],E=v.doppel.strings[I+1];if(v.tagState!==null&&(a[T]?v.tagState.push(a[T]):v.tagState.length&&T===v.tagState[v.tagState.length-1]&&v.tagState.pop()),v.afterPunct!==null&&T.match(/[\!\?\:]$/)&&(v.afterPunct=!0),v.tagState.length===0?v.doppel.strings[I+1]=v.capitaliseWords(E,I+1,v.doppel,v.doppel.tags[I+1]):v.doppel.strings[I+1].trim()&&(v.lastWordPos=null),v.quoteState!==null){var q=O(T,I);if(q||q===0){var k=v.doppel.origStrings[q+1].slice(0,1);v.doppel.strings[q+1]=k+v.doppel.strings[q+1].slice(1),v.lastWordPos=null}}v.isFirst&&E.trim()&&(v.isFirst=!1),v.afterPunct&&E.trim()&&(v.afterPunct=!1)}if(v.quoteState)for(var I=0,M=v.quoteState.length;I<M;I++){var q=v.quoteState[I].pos;if(typeof q<"u"){var k=v.doppel.origStrings[q+1].slice(0,1);v.doppel.strings[q+1]=k+v.doppel.strings[q+1].slice(1)}}if(v.lastWordPos){var j=n.split(v.doppel.strings[v.lastWordPos.strings]),J=j.strings[v.lastWordPos.words];J.length>1&&p.toLocaleLowerCase.call(this,J).match(v.skipWordsRex)&&(J=s.call(this,J),j.strings[v.lastWordPos.words]=J),v.doppel.strings[v.lastWordPos.strings]=n.join(j)}return t.join(v.doppel)}function l(v,b){return b}function u(v,b){var g={quoteState:null,capitaliseWords:function(y){for(var _=y.split(" "),w=0,O=_.length;w<O;w++){var I=_[w];I&&(_[w]=p.toLocaleLowerCase.call(v,I))}return _.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(v,g,b)}function f(v,b){var g={quoteState:null,capitaliseWords:function(y){for(var _=y.split(" "),w=0,O=_.length;w<O;w++){var I=_[w];I&&(_[w]=p.toLocaleUpperCase.call(v,I))}return _.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(v,g,b)}function h(v,b){var g={quoteState:[],capitaliseWords:function(y){for(var _=y.split(" "),w=0,O=_.length;w<O;w++){var I=_[w];I&&(g.isFirst?(_[w]=s.call(v,I),g.isFirst=!1):_[w]=p.toLocaleLowerCase.call(v,I))}return _.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return o.call(v,g,b)}function c(v,b){var g={quoteState:[],capitaliseWords:function(y,_,w){if(y.trim()){for(var O=n.split(y),I=O.strings,M=0,T=I.length;M<T;M++){var E=I[M];if(!E)continue;let q=p.toLocaleLowerCase.call(v,E),k=!1;(E.length>1&&!q.match(g.skipWordsRex)||M===I.length-1&&w==="-"||g.isFirst||g.afterPunct)&&(k=!0),k&&E===q&&(I[M]=s.call(v,E)),g.afterPunct=!1,g.isFirst=!1,g.lastWordPos={strings:_,words:M}}y=n.join(O)}return y},skipWordsRex:v.locale[v.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return o.call(v,g,b)}function m(v,b){var g={quoteState:[],capitaliseWords:function(y){for(var _=n.split(y),w=_.strings,O=0,I=w.length;O<I;O++){var M=w[O];if(M&&g.isFirst){M===p.toLocaleLowerCase.call(v,M)&&(w[O]=s.call(v,M)),g.isFirst=!1;break}}return n.join(_)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return o.call(v,g,b)}function d(v,b){var g={quoteState:[],capitaliseWords:function(y){for(var _=n.split(y),w=_.strings,O=0,I=w.length;O<I;O++){var M=w[O];M&&M===p.toLocaleLowerCase.call(v,M)&&(w[O]=s.call(v,M))}return n.join(_)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(v,g,b)}return{nameDoppel:i,passthrough:l,lowercase:u,uppercase:f,sentence:h,title:c,"capitalize-first":m,"capitalize-all":d}}();p.Output.Formats=function(){};p.Output.Formats.prototype.html={text_escape:function(r){return r||(r=""),r.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"  ").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+p.SUPERSCRIPTS[t]+"</sup>"})},bibstart:`<div class="csl-bib-body">
`,bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){var e="";return r.sys.embedBibliographyEntry&&(e=r.sys.embedBibliographyEntry(this.item_id)+`
`),'  <div class="csl-entry">'+t+`</div>
`+e},"@display/block":function(r,t){return`

    <div class="csl-block">`+t+`</div>
`},"@display/left-margin":function(r,t){return`
    <div class="csl-left-margin">`+t+"</div>"},"@display/right-inline":function(r,t){return'<div class="csl-right-inline">'+t+`</div>
  `},"@display/indent":function(r,t){return'<div class="csl-indent">'+t+`</div>
  `},"@showid/true":function(r,t,e){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations){if(e)return'<span class="'+r.opt.nodenames[e]+'" cslid="'+e+'">'+t+"</span>";if(this.params&&typeof t=="string"){var i="";if(t){var n=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);i=n[1],t=n[2]}var a="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(a=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,i,t,a)}else return t}else return t},"@URL/true":function(r,t){return'<a href="'+t+'">'+t+"</a>"},"@DOI/true":function(r,t){var e=t;return t.match(/^https?:\/\//)||(e="https://doi.org/"+t),'<a href="'+e+'">'+t+"</a>"}};p.Output.Formats.prototype.text={text_escape:function(r){return r||(r=""),r},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return t+`
`},"@display/block":function(r,t){return`
`+t},"@display/left-margin":function(r,t){return t+" "},"@display/right-inline":function(r,t){return t},"@display/indent":function(r,t){return`
    `+t},"@showid/true":function(r,t){return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){return t}};p.Output.Formats.prototype.rtf={text_escape:function(r){return r||(r=""),r.replace(/([\\{}])/g,"\\$1").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+p.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("	").join("\\tab{}")},"@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?p.Output.Formats.rtf.text_escape(r.getTerm("open-quote")):p.Output.Formats.rtf.text_escape(r.getTerm("open-quote"))+t+p.Output.Formats.rtf.text_escape(r.getTerm("close-quote"))},"@quotes/inner":function(r,t){return typeof t>"u"?p.Output.Formats.rtf.text_escape("’"):p.Output.Formats.rtf.text_escape(r.getTerm("open-inner-quote"))+t+p.Output.Formats.rtf.text_escape(r.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":`\\line{}%%STRING%%\\line\r
`,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return t},"@display/left-margin":function(r,t){return t+"\\tab "},"@display/right-inline":function(r,t){return t+`\r
`},"@display/indent":function(r,t){return`
\\tab `+t+`\\line\r
`},"@showid/true":function(r,t){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations){var e="";if(t){var i=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);e=i[1],t=i[2]}var n="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,e,t,n)}else return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){return t}};p.Output.Formats.prototype.asciidoc={text_escape:function(r){return r||(r=""),r.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"^"+p.SUPERSCRIPTS[t]+"^"})},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?"``":"``"+t+"''"},"@quotes/inner":function(r,t){return typeof t>"u"?"`":"`"+t+"'"},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return t+`
`},"@display/block":function(r,t){return t},"@display/left-margin":function(r,t){return t},"@display/right-inline":function(r,t){return" "+t},"@display/indent":function(r,t){return" "+t},"@showid/true":function(r,t){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations&&this.params&&typeof t=="string"){var e="";if(t){var i=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);e=i[1],t=i[2]}var n="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,e,t,n)}else return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){var e=t;return t.match(/^https?:\/\//)||(e="https://doi.org/"+t),e+"["+t+"]"}};p.Output.Formats.prototype.fo={text_escape:function(r){return r||(r=""),r.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,function(t){return'<fo:inline vertical-align="super">'+p.SUPERSCRIPTS[t]+"</fo:inline>"})},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){var e="";if(r.bibliography&&r.bibliography.opt&&r.bibliography.opt.hangingindent){var i=r.bibliography.opt.hangingindent;e=' start-indent="'+i+'em" text-indent="-'+i+'em"'}var n="";return r.sys.embedBibliographyEntry&&(n=r.sys.embedBibliographyEntry(this.item_id)+`
`),'<fo:block id="'+this.system_id+'"'+e+">"+t+`</fo:block>
`+n},"@display/block":function(r,t){return`
  <fo:block>`+t+`</fo:block>
`},"@display/left-margin":function(r,t){return`
  <fo:table table-layout="fixed" width="100%">
    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>
    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>
    <fo:table-body>
      <fo:table-row>
        <fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
        `},"@display/right-inline":function(r,t){return`<fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
      </fo:table-row>
    </fo:table-body>
  </fo:table>
`},"@display/indent":function(r,t){return'<fo:block margin-left="2em">'+t+`</fo:block>
`},"@showid/true":function(r,t){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations&&this.params&&typeof t=="string"){var e="";if(t){var i=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);e=i[1],t=i[2]}var n="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,e,t,n)}else return t},"@URL/true":function(r,t){return`<fo:basic-link external-destination="url('`+t+`')">`+t+"</fo:basic-link>"},"@DOI/true":function(r,t){var e=t;return t.match(/^https?:\/\//)||(e="https://doi.org/"+t),`<fo:basic-link external-destination="url('`+e+`')">`+t+"</fo:basic-link>"}};p.Output.Formats.prototype.latex={text_escape:function(r){return r||(r=""),r},bibstart:"\\begin{thebibliography}{4}",bibend:"\\end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return"\\bibitem{"+r.sys.embedBibliographyEntry(this.item_id)+`}
`},"@display/block":function(r,t){return`
`+t},"@display/left-margin":function(r,t){return t},"@display/right-inline":function(r,t){return t},"@display/indent":function(r,t){return`
    `+t},"@showid/true":function(r,t,e){return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){return t}};p.Output.Formats=new p.Output.Formats;p.Registry=function(r){this.debug=!1,this.state=r,this.registry={},this.reflist=[],this.refhash={},this.namereg=new p.Registry.NameReg(r),this.citationreg=new p.Registry.CitationReg(r),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new p.Registry.Comparifier(r,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(this.reflist[e]);return t}};p.Registry.prototype.init=function(r,t){var e,i;if(this.oldseq={},t){this.uncited={};for(var e=0,i=r.length;e<i;e+=1)this.myhash[r[e]]||this.mylist.push(""+r[e]),this.uncited[r[e]]=!0,this.myhash[r[e]]=!0}else{for(var n in this.uncited)r.push(n);var a={};for(e=r.length-1;e>-1;e+=-1)a[r[e]]?r=r.slice(0,e).concat(r.slice(e+1)):a[r[e]]=!0;this.mylist=r,this.myhash=a}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}};p.Registry.prototype.dopurge=function(r){for(var t=this.mylist.length-1;t>-1;t+=-1)this.citationreg.citationsByItemId&&(!this.citationreg.citationsByItemId||!this.citationreg.citationsByItemId[this.mylist[t]])&&!r[this.mylist[t]]&&(delete this.myhash[this.mylist[t]],delete this.uncited[this.mylist[t]],this.mylist=this.mylist.slice(0,t).concat(this.mylist.slice(t+1)));this.dodeletes(this.myhash)};p.Registry.prototype.dodeletes=function(r){var t,e,i,n,a,s,o,l,u;if(typeof r=="string"){var e=r;r={},r[e]=!0}for(var e in this.registry)if(!r[e]){if(this.uncited[e])continue;t=this.namereg.delitems(e);for(o in t)this.refreshes[o]=!0;for(i=this.registry[e].ambig,l=this.ambigcites[i].indexOf(e),l>-1&&(s=this.ambigcites[i].slice(),this.ambigcites[i]=s.slice(0,l).concat(s.slice(l+1,s.length)),this.ambigresets[i]=this.ambigcites[i].length),a=this.ambigcites[i].length,n=0;n<a;n+=1)u=""+this.ambigcites[i][n],this.refreshes[u]=!0;if(this.registry[e].siblings){if(this.registry[e].siblings.length==1){var f=this.registry[e].siblings[0];this.registry[f].siblings&&(this.registry[f].siblings.pop(),this.registry[f].master=!0)}else if(this.registry[e].siblings.length>1){var h=[e];if(this.registry[e].master){var c=this.registry[e].siblings[0],m=this.registry[c];m.master=!0,h.push(c)}for(var d=[],v=this.registry[e].siblings.length-1;v>-1;v+=-1){var b=this.registry[e].siblings.pop();h.indexOf(b)===-1&&d.push(b)}for(var v=d.length-1;v>-1;v+=-1)this.registry[e].siblings.push(d[v])}}for(var g=this.reflist.length-1;g>-1;g--)this.reflist[g].id===e&&(this.reflist=this.reflist.slice(0,g).concat(this.reflist.slice(g+1)));delete this.registry[e],delete this.refhash[e],this.return_data.bibchange=!0}};p.Registry.prototype.doinserts=function(r){var t,e,i,n,a,s,o;typeof r=="string"&&(r=[r]);for(var s=0,o=r.length;s<o;s+=1)t=r[s],this.registry[t]||(e=this.state.retrieveItem(t),i=p.getAmbiguousCite.call(this.state,e),this.ambigsTouched[i]=!0,e.legislation_id||(this.akeys[i]=!0),n={id:""+t,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:e,newItem:!0},this.registry[t]=n,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[t]&&(this.registry[t]["first-reference-note-number"]=this.citationreg.citationsByItemId[t][0].properties.noteIndex),a=p.getAmbigConfig.call(this.state),this.registerAmbigToken(i,t,a),this.touched[t]=!0,this.return_data.bibchange=!0)};p.Registry.prototype.rebuildlist=function(r){var t,e,i,n;if(r)for(this.reflist=[],t=this.mylist.length,e=0;e<t;e+=1)i=this.mylist[e],n=this.registry[i],this.reflist.push(n),this.oldseq[i]=this.registry[i].seq,this.registry[i].seq=e+1;else for(this.reflist_inserts=[],t=this.mylist.length,e=0;e<t;e+=1)i=this.mylist[e],n=this.registry[i],n.newItem&&this.reflist_inserts.push(n),this.oldseq[i]=this.registry[i].seq,this.registry[i].seq=e+1};p.Registry.prototype.dorefreshes=function(){var r,t,e,i,n;for(var r in this.refreshes)if(t=this.registry[r],!!t){t.sortkeys=void 0,e=this.state.refetchItem(r);var i=t.ambig;typeof i>"u"&&(this.state.tmp.disambig_settings=!1,i=p.getAmbiguousCite.call(this.state,e),n=p.getAmbigConfig.call(this.state),this.registerAmbigToken(i,r,n));for(var a in this.ambigresets)if(this.ambigresets[a]===1){var s=this.ambigcites[i][0],e=this.state.refetchItem(s);this.registry[s].disambig=new p.AmbigConfig,this.state.tmp.disambig_settings=!1;var i=p.getAmbiguousCite.call(this.state,e),n=p.getAmbigConfig.call(this.state);this.registerAmbigToken(i,s,n)}this.state.tmp.taintedItemIDs[r]=!0,this.ambigsTouched[i]=!0,e.legislation_id||(this.akeys[i]=!0),this.touched[r]=!0}};p.Registry.prototype.setdisambigs=function(){for(var r in this.ambigsTouched)this.state.disambiguate.run(r);this.ambigsTouched={},this.akeys={}};p.Registry.prototype.renumber=function(){var r,t,e;for(this.state.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),r=this.reflist.length,t=0;t<r;t+=1)e=this.reflist[t],e.seq=t+1,this.state.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[e.seq]=this.reflist.length-e.seq+1),this.state.opt.update_mode===p.NUMERIC&&e.seq!=this.oldseq[e.id]&&(this.state.tmp.taintedItemIDs[e.id]=!0),e.seq!=this.oldseq[e.id]&&(this.return_data.bibchange=!0)};p.Registry.prototype.setsortkeys=function(){for(var r,t=0,e=this.mylist.length;t<e;t+=1){var r=this.mylist[t];(this.touched[r]||this.state.tmp.taintedItemIDs[r]||!this.registry[r].sortkeys)&&(this.registry[r].sortkeys=p.getSortKeys.call(this.state,this.state.retrieveItem(r),"bibliography_sort"))}};p.Registry.prototype._insertItem=function(r,t){return t.splice(this._locationOf(r,t)+1,0,r),t};p.Registry.prototype._locationOf=function(r,t,e,i){if(t.length===0)return-1;e=e||0,i=i||t.length;var n=e+i>>1,a=this.sorter.compareKeys(r,t[n]);if(i-e<=1)return a==-1?n-1:n;switch(a){case-1:return this._locationOf(r,t,e,n);case 0:return n;case 1:return this._locationOf(r,t,n,i)}};p.Registry.prototype.sorttokens=function(r){var t,e,i,n;if(!r){for(this.reflist_inserts=[],t=this.mylist.length,n=0;n<t;n+=1)e=this.mylist[n],i=this.registry[e],i.newItem&&this.reflist_inserts.push(i);for(var a in this.state.tmp.taintedItemIDs)if(this.registry[a]&&!this.registry[a].newItem)for(var s=this.reflist.length-1;s>-1;s--)this.reflist[s].id===a&&(this.reflist_inserts.push(this.reflist[s]),this.reflist=this.reflist.slice(0,s).concat(this.reflist.slice(s+1)));for(var s=0,o=this.reflist_inserts.length;s<o;s++){var i=this.reflist_inserts[s];delete i.newItem,this.reflist=this._insertItem(i,this.reflist)}for(n=0;n<t;n+=1)e=this.mylist[n],i=this.registry[e],this.registry[e].seq=n+1}};p.Registry.Comparifier=function(r,t){var e,i,n,a,s=p.getSortCompare.call(r,r.opt["default-locale-sort"]);e=r[t].opt.sort_directions,this.compareKeys=function(o,l){for(i=o.sortkeys?o.sortkeys.length:0,n=0;n<i;n+=1){var u=0;if(o.sortkeys[n]===l.sortkeys[n]?u=0:typeof o.sortkeys[n]>"u"?u=e[n][1]:typeof l.sortkeys[n]>"u"?u=e[n][0]:u=s(o.sortkeys[n],l.sortkeys[n]),0<u)return e[n][1];if(0>u)return e[n][0]}return o.seq>l.seq?1:o.seq<l.seq?-1:0},a=this.compareKeys,this.compareCompositeKeys=function(o,l){return a(o[1],l[1])}};p.Registry.prototype.compareRegistryTokens=function(r,t){return r.seq>t.seq?1:r.seq<t.seq?-1:0};p.Registry.prototype.registerAmbigToken=function(r,t,e){if(this.registry[t]||p.debug("Warning: unregistered item: itemID=("+t+"), akey=("+r+")"),this.registry[t]&&this.registry[t].disambig&&this.registry[t].disambig.names)for(var i=0,n=e.names.length;i<n;i+=1){var a=e.names[i],s=this.registry[t].disambig.names[i];if(a!==s)this.state.tmp.taintedItemIDs[t]=!0;else if(e.givens[i])for(var o=0,l=e.givens[i].length;o<l;o+=1){var u=e.givens[i][o],f=this.registry[t].disambig.givens[i][o];u!==f&&(this.state.tmp.taintedItemIDs[t]=!0)}}this.ambigcites[r]||(this.ambigcites[r]=[]),this.ambigcites[r].indexOf(""+t)===-1&&this.ambigcites[r].push(""+t),this.registry[t].ambig=r,this.registry[t].disambig=p.cloneAmbigConfig(e)};p.getSortKeys=function(r,t){var e,i,n,a,s,o;for(e=this.tmp.area,i=this.tmp.root,n=this.tmp.extension,a=p.Util.Sort.strip_prepositions,this.tmp.area=t,this.tmp.root=t.indexOf("_")>-1?t.slice(0,-5):t,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,p.getCite.call(this,r),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,s=this[t].keys.length,o=0;o<s;o+=1)this[t].keys[o]=a(this[t].keys[o]);return this.tmp.area=e,this.tmp.root=i,this.tmp.extension=n,this[t].keys};p.Registry.NameReg=function(r){var t,e,i,n,a,s,o,l,u,f,h,c;this.state=r,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},o=function(m){return m||(m=""),m.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(m,d,v){t=o(v.family),m.opt["demote-non-dropping-particle"]==="never"&&v["non-dropping-particle"]&&v.family&&(t=`${t} ${v["non-dropping-particle"]}`),i=o(v.given);var b=i.match(/[,\!]* ([^,]+)$/);b&&b[1]===b[1].toLowerCase()&&(i=i.replace(/[,\!]* [^,]+$/,"")),e=p.Util.Names.initializeWith(m,i,"%s"),m.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(t=""+d+t)},u=function(m,d,v,b,g,y){var _;if(r.tmp.area.slice(0,12)==="bibliography"&&!g)return typeof y=="string"?1:2;var w=r.nameOutput.getName(d,"locale-translit",!0);d=w.name,l(this.state,""+m,d),_=2,n=r.opt["disambiguate-add-givenname"],a=r.citation.opt["givenname-disambiguation-rule"];var O=a;if(a==="by-cite"&&(a="all-names"),g==="short"?_=0:typeof y=="string"&&(_=1),typeof this.namereg[t]>"u"||typeof this.namereg[t].ikey[e]>"u")return _;if(O==="by-cite"&&_<=b)return b;if(!n||typeof a=="string"&&a.slice(0,12)==="primary-name"&&v>0||(!a||a==="all-names"||a==="primary-name"?(this.namereg[t].count>1&&(_=1),(this.namereg[t].ikey&&this.namereg[t].ikey[e].count>1||this.namereg[t].count>1&&typeof y!="string")&&(_=2)):(a==="all-names-with-initials"||a==="primary-name-with-initials")&&(this.namereg[t].count>1?_=1:_=0),r.registry.registry[m]))return _;if(g=="short")return 0;if(typeof y=="string")return 1},f=function(m){var d,v,b,g,y;(typeof m=="string"||typeof m=="number")&&(m=[""+m]);var _={};for(v=m.length,d=0;d<v;d+=1)if(g=""+m[d],!!this.nameind[g]){for(y in this.nameind[g])if(this.nameind[g].hasOwnProperty(y)){var w=y.split("::");if(t=w[0],e=w[1],i=w[2],typeof this.namereg[t]>"u")continue;if(s=this.namereg[t].items,i&&this.namereg[t].ikey[e]&&this.namereg[t].ikey[e].skey[i]&&(c=this.namereg[t].ikey[e].skey[i].items,b=c.indexOf(""+g),b>-1&&(this.namereg[t].ikey[e].skey[i].items=c.slice(0,b).concat(c.slice([b+1]))),this.namereg[t].ikey[e].skey[i].items.length===0&&(delete this.namereg[t].ikey[e].skey[i],this.namereg[t].ikey[e].count+=-1,this.namereg[t].ikey[e].count<2)))for(var O=0,I=this.namereg[t].ikey[e].items.length;O<I;O+=1)r.tmp.taintedItemIDs[this.namereg[t].ikey[e].items[O]]=!0;if(e&&this.namereg[t].ikey[e]&&(b=this.namereg[t].ikey[e].items.indexOf(""+g),b>-1&&(s=this.namereg[t].ikey[e].items.slice(),this.namereg[t].ikey[e].items=s.slice(0,b).concat(s.slice([b+1]))),this.namereg[t].ikey[e].items.length===0&&(delete this.namereg[t].ikey[e],this.namereg[t].count+=-1,this.namereg[t].count<2)))for(var O=0,I=this.namereg[t].items.length;O<I;O+=1)r.tmp.taintedItemIDs[this.namereg[t].items[O]]=!0;t&&(b=this.namereg[t].items.indexOf(""+g),b>-1&&(s=this.namereg[t].items.slice(),this.namereg[t].items=s.slice(0,b).concat(s.slice([b+1],s.length))),this.namereg[t].items.length<2&&delete this.namereg[t]),delete this.nameind[g][y]}delete this.nameind[g],delete this.nameindpkeys[g]}return _},h=function(m,d,v){var b,g,y=r.nameOutput.getName(d,"locale-translit",!0);if(d=y.name,!(r.citation.opt["givenname-disambiguation-rule"]&&r.citation.opt["givenname-disambiguation-rule"].slice(0,8)==="primary-"&&v!==0)){if(l(this.state,""+m,d),t&&(typeof this.namereg[t]>"u"?(this.namereg[t]={},this.namereg[t].count=0,this.namereg[t].ikey={},this.namereg[t].items=[m]):this.namereg[t].items.indexOf(m)===-1&&this.namereg[t].items.push(m)),t&&e)if(typeof this.namereg[t].ikey[e]>"u"){if(this.namereg[t].ikey[e]={},this.namereg[t].ikey[e].count=0,this.namereg[t].ikey[e].skey={},this.namereg[t].ikey[e].items=[m],this.namereg[t].count+=1,this.namereg[t].count===2)for(var b=0,g=this.namereg[t].items.length;b<g;b+=1)r.tmp.taintedItemIDs[this.namereg[t].items[b]]=!0}else this.namereg[t].ikey[e].items.indexOf(m)===-1&&this.namereg[t].ikey[e].items.push(m);if(t&&e&&i)if(typeof this.namereg[t].ikey[e].skey[i]>"u"){if(this.namereg[t].ikey[e].skey[i]={},this.namereg[t].ikey[e].skey[i].items=[m],this.namereg[t].ikey[e].count+=1,this.namereg[t].ikey[e].count===2)for(var b=0,g=this.namereg[t].ikey[e].items.length;b<g;b+=1)r.tmp.taintedItemIDs[this.namereg[t].ikey[e].items[b]]=!0}else this.namereg[t].ikey[e].skey[i].items.indexOf(m)===-1&&this.namereg[t].ikey[e].skey[i].items.push(m);typeof this.nameind[m]>"u"&&(this.nameind[m]={},this.nameindpkeys[m]={}),t&&(this.nameind[m][t+"::"+e+"::"+i]=!0,this.nameindpkeys[m][t]=this.namereg[t])}},this.addname=h,this.delitems=f,this.evalname=u};p.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]};p.Disambiguation=function(r){this.state=r,this.sys=this.state.sys,this.registry=r.registry.registry,this.ambigcites=r.registry.ambigcites,this.configModes(),this.debug=!1};p.Disambiguation.prototype.run=function(r){this.modes.length&&(this.debug&&this.state.sys.print("[A] === RUN ==="),this.akey=r,this.initVars(r)&&this.runDisambig())};p.Disambiguation.prototype.runDisambig=function(){var r;for(this.debug&&this.state.sys.print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),r=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(r);this.lists=this.lists.slice(1)}};p.Disambiguation.prototype.scanItems=function(r){var t,e,i;this.debug&&this.state.sys.print("[2] === scanItems() ==="),this.Item=r[1][0],this.ItemCite=p.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=r[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var n=0,t=1,e=r[1].length;t<e;t+=1){i=r[1][t];var a=p.getAmbiguousCite.call(this.state,i,this.base,!0);this.debug&&t>1&&this.state.sys.print("  -----------"),this.ItemCite===a?(this.debug&&(this.state.sys.print("  [CLASH]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+i.id+": "+a)),n+=1,this.partners.push(i)):(this.debug&&(this.state.sys.print("  [clear]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+i.id+": "+a)),this.nonpartners.push(i))}this.clashes[0]=this.clashes[1],this.clashes[1]=n};p.Disambiguation.prototype.evalScan=function(r){this[this.modes[this.modeindex]](r),r&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])};p.Disambiguation.prototype.disNames=function(r){var t,e;if(this.debug&&this.state.sys.print("[3] == disNames() =="),this.clashes[1]===0&&this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [a]: lone partner, one nonpartner"),this.state.sys.print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(this.clashes[1]===0)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),this.state.sys.print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),this.state.sys.print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&this.state.sys.print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&this.state.sys.print("  ** RESOLUTION [e]: no improvement, and clashes remain"),r&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&this.state.sys.print("     (registering clashing entries because we've run out of options)");for(var t=0,e=this.partners.length;t<e;t+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[t].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}};p.Disambiguation.prototype.disExtraText=function(){this.debug&&this.state.sys.print("[3] === disExtraText ==");var r=!1;if(this.clashes[1]===0&&this.nonpartners.length<2&&(r=!0),!r&&(!this.base.disambiguate||this.state.tmp.disambiguate_count!==this.state.tmp.disambiguate_maxMax))if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var t=0,e=this.lists[this.listpos][1].length;t<e;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0}else if(r||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(r||this.modeindex===this.modes.length-1){for(var i=this.lists[this.listpos][0],t=0,e=this.lists[this.listpos][1].length;t<e;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,i);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1;var i=this.lists[this.listpos][0];i.disambiguate=!0;for(var t=0,e=this.lists[this.listpos][1].length;t<e;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,i)}};p.Disambiguation.prototype.disYears=function(){var r,t,e,i;this.debug&&this.state.sys.print("[3] === disYears =="),e=[];var n=this.lists[this.listpos][0];if(this.clashes[1])for(var a=0,s=this.state.registry.mylist.length;a<s;a+=1)for(var o=this.state.registry.mylist[a],l=0,u=this.lists[this.listpos][1].length;l<u;l+=1){var i=this.lists[this.listpos][1][l];if(i.id==o){e.push(this.registry[i.id]);break}}e.sort(this.state.registry.sorter.compareKeys);for(var r=0,t=e.length;r<t;r+=1){n.year_suffix=""+r;var f=this.state.registry.registry[e[r].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+e[r].id,n),p.ambigConfigDiff(f,n)&&(this.state.tmp.taintedItemIDs[e[r].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]};p.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&this.state.sys.print(`
[1] === incrementDisambig() ===`),this.initGivens)return this.initGivens=!1,!1;var r=!1,t=!0;if(this.modes[this.modeindex]==="disNames"){t=!1,typeof this.givensMax!="number"&&(t=!0);var e=!1;typeof this.namesMax!="number"&&(e=!0),typeof this.givensMax=="number"&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:t=!0),typeof this.namesMax=="number"&&t&&(this.state.opt["disambiguate-add-names"]?(e=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):e=!0):e=!0),typeof this.namesetsMax=="number"&&e&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(this.state.sys.print("    ------------------"),this.state.sys.print("    incremented values"),this.state.sys.print("    ------------------"),this.state.sys.print("    | gnameset: "+this.gnameset),this.state.sys.print("    | gname: "+this.gname),this.state.sys.print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?this.state.sys.print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):this.state.sys.print("    | givens value: nil"),this.state.sys.print("    | namesetsMax: "+this.namesetsMax),this.state.sys.print("    | namesMax: "+this.namesMax),this.state.sys.print("    | givensMax: "+this.givensMax)),(typeof this.namesetsMax!="number"||this.namesetsMax===-1||this.gnameset===this.namesetsMax)&&(!this.state.opt["disambiguate-add-names"]||typeof this.namesMax!="number"||this.gname===this.namesMax)&&(typeof this.givensMax!="number"||typeof this.base.givens[this.gnameset]>"u"||typeof this.base.givens[this.gnameset][this.gname]>"u"||this.base.givens[this.gnameset][this.gname]===this.givensMax)&&(r=!0,this.debug&&this.state.sys.print("    MAXED"))}else this.modes[this.modeindex]==="disExtraText"&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return r};p.Disambiguation.prototype.initVars=function(r){var t,e,i,n,a;if(this.debug&&this.state.sys.print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=r,this.maxNamesByItemId={},n=[],i=this.ambigcites[r],!i||!i.length)return!1;var s=this.state.refetchItem(""+i[0]);if(this.getCiteData(s),this.base=p.getAmbigConfig.call(this.state),i&&i.length>1){n.push([this.maxNamesByItemId[s.id],s]);for(var t=1,e=i.length;t<e;t+=1)s=this.state.refetchItem(""+i[t]),this.getCiteData(s,this.base),n.push([this.maxNamesByItemId[s.id],s]);n.sort(function(l,u){return l[0]>u[0]?1:l[0]<u[0]?-1:l[1].id>u[1].id?1:l[1].id<u[1].id?-1:0}),a=[];for(var t=0,e=n.length;t<e;t+=1)a.push(n[t][1]);this.lists.push([this.base,a]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+i[0]);if(this.modeindex=0,this.state.citation.opt["disambiguate-add-names"]||!0)this.namesMax=this.maxNamesByItemId[this.Item.id][0];else{var o;for(var t,e;t<e;t+=1);}return this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0};p.Disambiguation.prototype.padBase=function(r){for(var t=0,e=r.names.length;t<e;t+=1){r.givens[t]||(r.givens[t]=[]);for(var i=0,n=r.names[t];i<n;i+=1)r.givens[t][i]||(r.givens[t][i]=0)}};p.Disambiguation.prototype.configModes=function(){var r,t;this.modes=[],r=this.state.opt["disambiguate-add-givenname"],t=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||r&&t==="by-cite")&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))};p.Disambiguation.prototype.getCiteData=function(r,t){if(!this.maxNamesByItemId[r.id]){p.getAmbiguousCite.call(this.state,r,t),t=p.getAmbigConfig.call(this.state),this.maxNamesByItemId[r.id]=p.getMaxVals.call(this.state),this.state.registry.registry[r.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var e=0,i=this.state.registry.registry[r.id].disambig.givens.length;e<i;e+=1)this.state.registry.registry[r.id].disambig.givens[e]=this.state.tmp.disambig_settings.givens[e].slice();this.namesetsMax=this.state.registry.registry[r.id].disambig.names.length-1,this.base||(this.base=t,this.betterbase=p.cloneAmbigConfig(t)),t.names.length<this.base.names.length&&(this.base=t);for(var e=0,i=t.names.length;e<i;e+=1)t.names[e]>this.base.names[e]&&(this.base.givens[e]=t.givens[e].slice(),this.base.names[e]=t.names[e],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var n=0,a=this.base.givens.length;n<a;n+=1)this.betterbase.givens[n]=this.base.givens[n].slice()}};p.Disambiguation.prototype.captureStepToBase=function(){this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.base.givens&&this.base.givens.length&&typeof this.base.givens[this.gnameset][this.gname]<"u"&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]};p.Engine.prototype.getJurisdictionList=function(r){for(var t=[],e=r.split(":"),i=e.length;i>0;i--){var n=e.slice(0,i).join(":");if(t.push(n),this.opt.jurisdiction_fallbacks[n]){var a=this.opt.jurisdiction_fallbacks[n];t.push(a)}}return t.indexOf("us")===-1&&t.push("us"),t};p.Engine.prototype.loadStyleModule=function(r,t,e){var i=null;this.juris[r]={};var n=p.setupXml(t);n.addMissingNameNodes(n.dataObj),n.addInstitutionNodes(n.dataObj),n.insertPublisherAndPlace(n.dataObj),n.flagDateMacros(n.dataObj);for(var h=n.getNodesByName(n.dataObj,"law-module"),a=0,s=h.length;a<s;a++){var o=n.getAttributeValue(h[a],"types");if(o){this.juris[r].types={},o=o.split(/\s+/);for(var l=0,u=o.length;l<u;l++)this.juris[r].types[o[l]]=!0}e||(i=n.getAttributeValue(h[a],"fallback"),i&&r!=="us"&&(this.opt.jurisdiction_fallbacks[r]=i))}var f=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];p.SET_COURT_CLASSES(this,f,n,n.dataObj),this.juris[r].types||(this.juris[r].types=p.MODULE_TYPES);for(var h=n.getNodesByName(n.dataObj,"macro"),a=0,s=h.length;a<s;a++){var c=n.getAttributeValue(h[a],"name");if(!p.MODULE_MACROS[c]){p.debug('CSL: skipping non-modular macro name "'+c+'" in module context');continue}this.juris[r][c]=[],this.buildTokenLists(h[a],this.juris[r][c]),this.configureTokenList(this.juris[r][c])}return i};p.Engine.prototype.retrieveAllStyleModules=function(r){var t={},e=this.locale[this.opt.lang].opts["jurisdiction-preference"];e=e||[],e=[""].concat(e);for(var i=e.length-1;i>-1;i--)for(var n=e[i],a=0,s=r.length;a<s;a++){var o=r[a];if(!this.opt.jurisdictions_seen[o]){var l=this.sys.retrieveStyleModule(o,n);(!l&&!n||l)&&(this.opt.jurisdictions_seen[o]=!0),l&&(t[o]=l)}}return t};p.ParticleList=function(){var r=[[[0,1],null]],t=[[[0,3],null]],e=[[null,[0,1]]],i=[[null,[0,2]]],n=[[null,[0,3]]],a=[[null,[0,1]],[[0,1],null]],s=[[null,[0,2]],[[0,2],null]],o=[[[0,1],null],[null,[0,1]]],l=[[[0,2],null],[null,[0,2]]],u=[[[0,3],null],[null,[0,3]]],f=[[null,[0,2]],[[0,1],[1,2]]],h=[["'s",e],["'s-",e],["'t",e],["a",e],["aan 't",i],["aan de",i],["aan den",i],["aan der",i],["aan het",i],["aan t",i],["aan",e],["ad-",a],["adh-",a],["af",a],["al",a],["al-",a],["am de",i],["am",e],["an-",a],["ar-",a],["as-",a],["ash-",a],["at-",a],["ath-",a],["auf dem",l],["auf den",l],["auf der",l],["auf ter",i],["auf",o],["aus 'm",l],["aus dem",l],["aus den",l],["aus der",l],["aus m",l],["aus",o],["aus'm",l],["az-",a],["aš-",a],["aḍ-",a],["aḏ-",a],["aṣ-",a],["aṭ-",a],["aṯ-",a],["aẓ-",a],["ben",e],["bij 't",i],["bij de",i],["bij den",i],["bij het",i],["bij t",i],["bij",e],["bin",e],["boven d",i],["boven d'",i],["d",e],["d'",a],["da",a],["dal",e],["dal'",e],["dall'",e],["dalla",e],["das",a],["de die le",n],["de die",i],["de l",i],["de l'",i],["de la",f],["de las",f],["de le",i],["de li",s],["de van der",n],["de",a],["de'",a],["deca",e],["degli",a],["dei",a],["del",a],["dela",r],["dell'",a],["della",a],["delle",a],["dello",a],["den",a],["der",a],["des",a],["di",a],["die le",i],["do",e],["don",e],["dos",a],["du",a],["ed-",a],["edh-",a],["el",a],["el-",a],["en-",a],["er-",a],["es-",a],["esh-",a],["et-",a],["eth-",a],["ez-",a],["eš-",a],["eḍ-",a],["eḏ-",a],["eṣ-",a],["eṭ-",a],["eṯ-",a],["eẓ-",a],["het",e],["i",e],["il",r],["im",e],["in 't",i],["in de",i],["in den",i],["in der",s],["in het",i],["in t",i],["in",e],["l",e],["l'",e],["la",e],["las",e],["le",e],["les",a],["lo",a],["los",e],["lou",e],["of",e],["onder 't",i],["onder de",i],["onder den",i],["onder het",i],["onder t",i],["onder",e],["op 't",i],["op de",s],["op den",i],["op der",i],["op gen",i],["op het",i],["op t",i],["op ten",i],["op",e],["over 't",i],["over de",i],["over den",i],["over het",i],["over t",i],["over",e],["s",e],["s'",e],["sen",r],["t",e],["te",e],["ten",e],["ter",e],["tho",e],["thoe",e],["thor",e],["to",e],["toe",e],["tot",e],["uijt 't",i],["uijt de",i],["uijt den",i],["uijt te de",n],["uijt ten",i],["uijt",e],["uit 't",i],["uit de",i],["uit den",i],["uit het",i],["uit t",i],["uit te de",n],["uit ten",i],["uit",e],["unter",e],["v",e],["v.",e],["v.d.",e],["van 't",i],["van de l",n],["van de l'",n],["van de",i],["van de",i],["van den",i],["van der",i],["van gen",i],["van het",i],["van la",i],["van t",i],["van ter",i],["van van de",n],["van",a],["vander",e],["vd",e],["ver",e],["vom und zum",t],["vom",a],["von 't",i],["von dem",l],["von den",l],["von der",l],["von t",i],["von und zu",u],["von zu",l],["von",o],["voor 't",i],["voor de",i],["voor den",i],["voor in 't",n],["voor in t",n],["voor",e],["vor der",l],["vor",o],["z",r],["ze",r],["zu",o],["zum",a],["zur",a]];return h}();p.parseParticles=function(){function r(i,n,a){var s=i;i=a?i.toLowerCase():i;var o=[],l,u;n?(i=i.split("").reverse().join(""),l=p.PARTICLE_GIVEN_REGEXP):l=p.PARTICLE_FAMILY_REGEXP;for(var f=i.match(l);f;){var h=n?f[1].split("").reverse().join(""):f[1],c=f?h:!1,c=c?h.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"):!1;if(u=c?c.toUpperCase()!==c:!1,!u)break;n?(o.push(s.slice(h.length*-1)),s=s.slice(0,h.length*-1)):(o.push(s.slice(0,h.length)),s=s.slice(h.length)),i=f[2],f=i.match(l)}if(n){i=i.split("").reverse().join(""),o.reverse();for(var m=1,d=o.length;m<d;m++)o[m].slice(0,1)==" "&&(o[m-1]+=" ");for(var m=0,d=o.length;m<d;m++)o[m].slice(0,1)==" "&&(o[m]=o[m].slice(1));i=s.slice(0,i.length)}else i=s.slice(i.length*-1);return[u,i,o]}function t(i){var n=i.slice(-1);return i=i.trim(),n===" "&&["'","’"].indexOf(i.slice(-1))>-1&&(i+=" "),i}function e(i){if(!i.suffix&&i.given){var n=i.given.match(/(\s*,!*\s*)/);if(n){var a=i.given.indexOf(n[1]),s=i.given.slice(a+n[1].length),o=i.given.slice(a,a+n[1].length).replace(/\s*/g,"");s.replace(/\./g,"")==="et al"&&!i["dropping-particle"]?(i["dropping-particle"]=s,i["comma-dropping-particle"]=","):(o.length===2&&(i["comma-suffix"]=!0),i.suffix=s),i.given=i.given.slice(0,a)}}}return function(i){var o=r(i.family),n=o[1],a=o[2];i.family=n;var s=t(a.join(""));s&&(i["non-dropping-particle"]=s),e(i);var o=r(i.given,!0),l=o[1],u=o[2];i.given=l;var f=u.join("").trim();f&&(i["dropping-particle"]=f)}}();var nF=p;const vo=xb(nF),FS=Symbol.for("proxied"),aF=function(r){const t=function(e,i){if(e.sys.wrapBibliographyEntry){const[n,a]=e.sys.wrapBibliographyEntry(this.system_id);i=[n,i,a].join("")}return r.call(this,e,i)};return t[FS]=!0,t};for(const r in vo.Output.Formats){const t=vo.Output.Formats[r]["@bibliography/entry"];!t||t[FS]||(vo.Output.Formats[r]["@bibliography/entry"]=aF(t))}function sF(r){if(Al.has(r))return Al.get(r);const t=r.replace("-","_");return Al.has(t)?Al.get(t):{}}const t0={},oF=function(r,t,e,i,n){const a=`${r}|${t}`;let s;return t0[a]instanceof vo.Engine?(s=t0[a],s.sys.retrieveItem=i,s.sys.wrapBibliographyEntry=void 0,s.updateItems([])):s=t0[a]=new vo.Engine({retrieveLocale:n,retrieveItem:i},e,t,!0),s},zb=function(r,t,e,i){if(!vo.Output.Formats[i]||!vo.Output.Formats[i]["@bibliography/entry"])throw new TypeError(`Cannot find format '${i}'`);const n=r.reduce((l,u)=>(l[u.id]=u,l),{}),a=Xg.get(Xg.has(t)?t:"apa");e=Al.has(e)?e:void 0;const o=oF(t,e,a,function(l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l];throw new Error(`Cannot find entry with id '${l}'`)},sF);return o.setOutputFormat(i),o},lF=(r,t,e)=>r.replace(/^\s*<[a-z]+/i,`$& data-${t}="${e}"`),uF=(r,t)=>lF(r,"csl-entry-id",t),f2=(r,t)=>typeof t=="function"?t(r):t||"";function fF(r,t={}){const{template:e="apa",lang:i,format:n="text",nosort:a=!1}=t,s=t.entry?[].concat(t.entry):r.map(({id:d})=>d);r=yf(r);const o=zb(r,e,i,n),l=o.updateItems(s,a);if(t.append||t.prepend){const d=r.reduce((v,b)=>(v[b.id]=b,v),{});o.sys.wrapBibliographyEntry=function(v){const b=d[v];return[f2(b,t.prepend),f2(b,t.append)]}}const u=o.makeBibliography(),[{bibstart:f,bibend:h},c]=u,m=c.map((d,v)=>uF(d,l[v]));return t.asEntryArray?m.map((d,v)=>[l[v],d]):f+m.join("")+h}function cF(r){return typeof r=="object"?r:{id:r}}function zS(r){return r.citationItems?r:{citationItems:[].concat(r).map(cF),properties:{noteIndex:0}}}function c2(r){return r?r.map(zS):[]}function hF(r,t={}){const{template:e="apa",lang:i,format:n="text"}=t,a=r.map(({id:c})=>c),s=t.entry?t.entry:a;r=yf(r);const o=zb(r,e,i,n),l=c2(t.citationsPre),u=zS(s),f=c2(t.citationsPost);return o.rebuildProcessorState([...l,u,...f],n,[])[l.length][2]}Nb("@csl",{output:{bibliography:fF,citation:hF},config:{engine:zb,locales:Al,templates:Xg}});const mF=`
  
@book{wolsey2020,
  title={Integer Programming},
  author={Wolsey, L.A.},
  isbn={9781119606536},
  lccn={2020023657},
  url={https://books.google.com/books?id=3yhPwwEACAAJ},
  year={2020},
  publisher={Wiley}
}

@book{nemWol1999,
  title={Integer and Combinatorial Optimization},
  author={Wolsey, L.A. and Nemhauser, G.L.},
  isbn={9780471359432},
  lccn={87034067},
  series={Wiley Series in Discrete Mathematics and Optimization},
  url={https://books.google.com/books?id=vvm4DwAAQBAJ},
  year={1999},
  publisher={Wiley}
}

@book{schrijver2003combOpt,
  title={Combinatorial Optimization: Polyhedra and Efficiency},
  author={Schrijver, A.},
  number={v. 1},
  isbn={9783540443896},
  lccn={2002036693},
  series={Algorithms and Combinatorics},
  url={https://books.google.com/books?id=mqGeSQ6dJycC},
  year={2003},
  publisher={Springer}
}

@book{schrijver1998theory,
  title={Theory of Linear and Integer Programming},
  author={Schrijver, A.},
  isbn={9780471982326},
  lccn={lc85012314},
  series={Wiley Series in Discrete Mathematics & Optimization},
  url={https://books.google.com/books?id=zEzW5mhppB8C},
  year={1998},
  publisher={Wiley}
}

@book{desaulniers2010column,
  title={Column Generation},
  author={Desaulniers, G. and Desrosiers, J. and Solomon, M.M.},
  isbn={9781441937995},
  lccn={2005043438},
  url={https://books.google.com/books?id=s2BjcgAACAAJ},
  year={2010},
  publisher={Springer US}
}

@book{williams2013model,
  title={Model Building in Mathematical Programming},
  author={Williams, H.P.},
  isbn={9781118506189},
  lccn={2012037911},
  url={https://books.google.com/books?id=YJRh0tOes7UC},
  year={2013},
  publisher={Wiley}
}

@book{diestel2018,
  title={Graph Theory},
  author={Diestel, R.},
  isbn={9783662575604},
  series={Graduate Texts in Mathematics},
  url={https://books.google.com/books?id=JQ1XtgEACAAJ},
  year={2018},
  publisher={Springer Berlin Heidelberg}
}
`,qr=En({hierarchy:[],numbers:{},numRefs:{},returnIds:{},headingTexts:{},dispSecNums:{},contexts:{}}),Ul=En({secCounts:{},numbers:{},numRefs:{},returnIds:{}}),Yc=En({secCounts:{},numbers:{},numRefs:{},returnIds:{},names:{}}),ql=En({numRefs:{},returnIds:{},names:{},abbrevs:{}}),Kg=En({plainText:{}}),pF=await Po(mF),LS={};for(const r of pF.data){const t=Po(r);let i=t.format("bibliography").split(" ");for(const n in i){let a=i[n];a.startsWith("http")&&(i[n]=`<a href=${a} target='_blank'>${a}</a>`)}LS[r.id]={refStr:t.format("citation"),biblio:i.join(" "),referenced:!1}}const Yg=En(LS),Of=En(!1),jS=En(!1),US=wb(800),dF=wb(350),qS=wb(400),vF=En([]),Zi=En(!1),Jg=En(!1);function h2(r){let t,e,i="Contents",n,a,s="IMSE 884",o,l,u,f=!r[0]&&m2();return{c(){t=ve("div"),e=ve("div"),e.textContent=i,n=Se(),a=ve("div"),a.textContent=s,o=Se(),f&&f.c(),this.h()},l(h){t=ge(h,"DIV",{class:!0});var c=Pe(t);e=ge(c,"DIV",{id:!0,class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Ze(e)!=="svelte-1viqrr1"&&(e.textContent=i),n=Ee(c),a=ge(c,"DIV",{class:!0,"data-svelte-h":!0}),Ze(a)!=="svelte-1mi2n3c"&&(a.textContent=s),o=Ee(c),f&&f.l(c),c.forEach($),this.h()},h(){fe(e,"id","contentsClick"),fe(e,"class","contents svelte-1itv9yf"),fe(e,"role","button"),fe(e,"tabindex","0"),fe(e,"aria-label","Toggle show TOC"),fe(a,"class","courseNum svelte-1itv9yf"),fe(t,"class","topBar svelte-1itv9yf")},m(h,c){S(h,t,c),oe(t,e),oe(t,n),oe(t,a),oe(t,o),f&&f.m(t,null),l||(u=[gt(e,"keydown",r[2]),gt(e,"click",r[3])],l=!0)},p(h,c){h[0]?f&&(f.d(1),f=null):f||(f=m2(),f.c(),f.m(t,null))},d(h){h&&$(t),f&&f.d(),l=!1,Sn(u)}}}function m2(r){let t,e="Spring 2025";return{c(){t=ve("div"),t.textContent=e,this.h()},l(i){t=ge(i,"DIV",{class:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-hfppnr"&&(t.textContent=e),this.h()},h(){fe(t,"class","term svelte-1itv9yf")},m(i,n){S(i,t,n)},d(i){i&&$(t)}}}function gF(r){let t,e=!r[1]&&h2(r);return{c(){e&&e.c(),t=ct()},l(i){e&&e.l(i),t=ct()},m(i,n){e&&e.m(i,n),S(i,t,n)},p(i,[n]){i[1]?e&&(e.d(1),e=null):e?e.p(i,n):(e=h2(i),e.c(),e.m(t.parentNode,t))},i:se,o:se,d(i){i&&$(t),e&&e.d(i)}}}function bF(r,t,e){let i;xt(r,Zi,o=>e(1,i=o));let{smallScreen:n=!1}=t;const a=()=>{Of.update(o=>!o)},s=()=>{Of.update(o=>!o)};return r.$$set=o=>{"smallScreen"in o&&e(0,n=o.smallScreen)},[n,i,a,s]}class yF extends $t{constructor(t){super(),_t(this,t,bF,gF,yt,{smallScreen:0})}}function $F(r){const t=r-1;return t*t*t+1}function p2(r,{delay:t=0,duration:e=400,easing:i=$F,axis:n="y"}={}){const a=getComputedStyle(r),s=+a.opacity,o=n==="y"?"height":"width",l=parseFloat(a[o]),u=n==="y"?["top","bottom"]:["left","right"],f=u.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),h=parseFloat(a[`padding${f[0]}`]),c=parseFloat(a[`padding${f[1]}`]),m=parseFloat(a[`margin${f[0]}`]),d=parseFloat(a[`margin${f[1]}`]),v=parseFloat(a[`border${f[0]}Width`]),b=parseFloat(a[`border${f[1]}Width`]);return{delay:t,duration:e,easing:i,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*s};${o}: ${g*l}px;padding-${u[0]}: ${g*h}px;padding-${u[1]}: ${g*c}px;margin-${u[0]}: ${g*m}px;margin-${u[1]}: ${g*d}px;border-${u[0]}-width: ${g*v}px;border-${u[1]}-width: ${g*b}px;`}}function d2(r,t,e){const i=r.slice();return i[6]=t[e],i[8]=e,i}function v2(r){let t,e=r[1][r[8]]?"-":"+",i,n,a;function s(){return r[4](r[8])}function o(){return r[5](r[8])}return{c(){t=ve("span"),i=P(e),this.h()},l(l){t=ge(l,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var u=Pe(t);i=D(u,e),u.forEach($),this.h()},h(){fe(t,"class","tocExpand svelte-1iphz67"),fe(t,"role","button"),fe(t,"tabindex","0"),fe(t,"aria-label","Toggle expand")},m(l,u){S(l,t,u),oe(t,i),n||(a=[gt(t,"keydown",s),gt(t,"click",o)],n=!0)},p(l,u){r=l,u&2&&e!==(e=r[1][r[8]]?"-":"+")&&Gs(i,e)},d(l){l&&$(t),n=!1,Sn(a)}}}function g2(r){let t,e,i=r[1][r[8]]&&b2(r);return{c(){i&&i.c(),t=ct()},l(n){i&&i.l(n),t=ct()},m(n,a){i&&i.m(n,a),S(n,t,a),e=!0},p(n,a){n[1][n[8]]?i?(i.p(n,a),a&2&&z(i,1)):(i=b2(n),i.c(),z(i,1),i.m(t.parentNode,t)):i&&(Ji(),L(i,1,1,()=>{i=null}),Qi())},i(n){e||(z(i),e=!0)},o(n){L(i),e=!1},d(n){n&&$(t),i&&i.d(n)}}}function b2(r){let t,e,i,n,a;return e=new HS({props:{hierarchy:r[6].hierarchy}}),{c(){t=ve("div"),V(e.$$.fragment),i=Se()},l(s){t=ge(s,"DIV",{});var o=Pe(t);X(e.$$.fragment,o),i=Ee(o),o.forEach($)},m(s,o){S(s,t,o),K(e,t,null),oe(t,i),a=!0},p(s,o){const l={};o&1&&(l.hierarchy=s[6].hierarchy),e.$set(l)},i(s){a||(z(e.$$.fragment,s),s&&Rs(()=>{a&&(n||(n=T_(t,p2,{},!0)),n.run(1))}),a=!0)},o(s){L(e.$$.fragment,s),s&&(n||(n=T_(t,p2,{},!1)),n.run(0)),a=!1},d(s){s&&$(t),Y(e),s&&n&&n.end()}}}function y2(r){let t,e,i,n=r[2].headingTexts[r[6].id]+"",a,s,o,l,u,f,h=(r[6].hierarchy||[]).length>0&&v2(r),c=(r[6].hierarchy||[]).length>0&&g2(r);return{c(){t=ve("div"),e=ve("a"),i=new Xn(!1),o=Se(),h&&h.c(),l=Se(),c&&c.c(),u=ct(),this.h()},l(m){t=ge(m,"DIV",{class:!0});var d=Pe(t);e=ge(d,"A",{class:!0,href:!0,style:!0});var v=Pe(e);i=Kn(v,!1),v.forEach($),o=Ee(d),h&&h.l(d),d.forEach($),l=Ee(m),c&&c.l(m),u=ct(),this.h()},h(){i.a=null,fe(e,"class","tocA svelte-1iphz67"),fe(e,"href",a="#"+r[6].id),fe(e,"style",s=`margin-left: ${(r[6].level-1)*20}pt`),fe(t,"class","tocItem svelte-1iphz67")},m(m,d){S(m,t,d),oe(t,e),i.m(n,e),oe(t,o),h&&h.m(t,null),S(m,l,d),c&&c.m(m,d),S(m,u,d),f=!0},p(m,d){(!f||d&5)&&n!==(n=m[2].headingTexts[m[6].id]+"")&&i.p(n),(!f||d&1&&a!==(a="#"+m[6].id))&&fe(e,"href",a),(!f||d&1&&s!==(s=`margin-left: ${(m[6].level-1)*20}pt`))&&fe(e,"style",s),(m[6].hierarchy||[]).length>0?h?h.p(m,d):(h=v2(m),h.c(),h.m(t,null)):h&&(h.d(1),h=null),(m[6].hierarchy||[]).length>0?c?(c.p(m,d),d&1&&z(c,1)):(c=g2(m),c.c(),z(c,1),c.m(u.parentNode,u)):c&&(Ji(),L(c,1,1,()=>{c=null}),Qi())},i(m){f||(z(c),f=!0)},o(m){L(c),f=!1},d(m){m&&($(t),$(l),$(u)),h&&h.d(),c&&c.d(m)}}}function _F(r){let t,e,i=Ms(r[0]),n=[];for(let s=0;s<i.length;s+=1)n[s]=y2(d2(r,i,s));const a=s=>L(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=ct()},l(s){for(let o=0;o<n.length;o+=1)n[o].l(s);t=ct()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);S(s,t,o),e=!0},p(s,[o]){if(o&15){i=Ms(s[0]);let l;for(l=0;l<i.length;l+=1){const u=d2(s,i,l);n[l]?(n[l].p(u,o),z(n[l],1)):(n[l]=y2(u),n[l].c(),z(n[l],1),n[l].m(t.parentNode,t))}for(Ji(),l=i.length;l<n.length;l+=1)a(l);Qi()}},i(s){if(!e){for(let o=0;o<i.length;o+=1)z(n[o]);e=!0}},o(s){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)L(n[o]);e=!1},d(s){s&&$(t),Km(n,s)}}}function wF(r,t,e){let i;xt(r,qr,u=>e(2,i=u));let{hierarchy:n}=t,a=n.map(()=>!1);const s=u=>{e(1,a[u]=!a[u],a)},o=u=>s(u),l=u=>s(u);return r.$$set=u=>{"hierarchy"in u&&e(0,n=u.hierarchy)},[n,a,i,s,o,l]}class HS extends $t{constructor(t){super(),_t(this,t,wF,_F,yt,{hierarchy:0})}}function xF(r){let t,e,i,n;return e=new HS({props:{hierarchy:r[1].hierarchy}}),{c(){t=ve("div"),V(e.$$.fragment),this.h()},l(a){t=ge(a,"DIV",{class:!0,style:!0});var s=Pe(t);X(e.$$.fragment,s),s.forEach($),this.h()},h(){fe(t,"class","toc svelte-1xciyrs"),fe(t,"style",i=`width:${r[0]?"calc(var(--tocWidth) * 1px)":"0px"}`)},m(a,s){S(a,t,s),K(e,t,null),n=!0},p(a,[s]){const o={};s&2&&(o.hierarchy=a[1].hierarchy),e.$set(o),(!n||s&1&&i!==(i=`width:${a[0]?"calc(var(--tocWidth) * 1px)":"0px"}`))&&fe(t,"style",i)},i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){L(e.$$.fragment,a),n=!1},d(a){a&&$(t),Y(e)}}}function SF(r,t,e){let i,n;return xt(r,Of,a=>e(0,i=a)),xt(r,qr,a=>e(1,n=a)),[i,n]}class EF extends $t{constructor(t){super(),_t(this,t,SF,xF,yt,{})}}const kF=r=>({}),$2=r=>({});function _2(r){let t;return{c(){t=ve("hr"),this.h()},l(e){t=ge(e,"HR",{style:!0}),this.h()},h(){Ot(t,"margin-top","3rem"),Ot(t,"margin-bottom","5rem")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function w2(r){let t,e,i,n,a;return{c(){t=ve("a"),e=P("↩︎"),this.h()},l(s){t=ge(s,"A",{style:!0,href:!0});var o=Pe(t);e=D(o,"↩︎"),o.forEach($),this.h()},h(){Ot(t,"float","right"),fe(t,"href",i="#"+r[4])},m(s,o){S(s,t,o),oe(t,e),n||(a=gt(t,"click",r[13]),n=!0)},p(s,o){o&16&&i!==(i="#"+s[4])&&fe(t,"href",i)},d(s){s&&$(t),n=!1,a()}}}function TF(r){let t,e,i,n=!!r[4]&&w2(r),a=[{id:r[0]},{class:"svelte-13reipa"}],s={};for(let o=0;o<a.length;o+=1)s=H7(s,a[o]);return{c(){t=ve("h"+(r[5]||1)),e=new Xn(!1),i=Se(),n&&n.c(),this.h()},l(o){t=ge(o,("h"+(r[5]||1)||"null").toUpperCase(),{id:!0,class:!0});var l=Pe(t);e=Kn(l,!1),i=Ee(l),n&&n.l(l),l.forEach($),this.h()},h(){e.a=i,dm("h"+(r[5]||1))(t,s)},m(o,l){S(o,t,l),e.m(r[3],t),oe(t,i),n&&n.m(t,null)},p(o,l){l&8&&e.p(o[3]),o[4]?n?n.p(o,l):(n=w2(o),n.c(),n.m(t,null)):n&&(n.d(1),n=null),dm("h"+(o[5]||1))(t,s=W7(a,[l&1&&{id:o[0]},{class:"svelte-13reipa"}]))},d(o){o&&$(t),n&&n.d()}}}function OF(r){let t,e,i,n,a,s,o;const l=r[11].default,u=jt(l,r,r[10],null),f=r[11].context,h=jt(f,r,r[10],$2);let c=(r[5]||1)===1&&r[1]!=="1"&&_2(),m="h"+(r[5]||1)&&TF(r);return{c(){t=ve("span"),u&&u.c(),e=Se(),i=ve("span"),h&&h.c(),a=Se(),c&&c.c(),s=Se(),m&&m.c(),this.h()},l(d){t=ge(d,"SPAN",{style:!0});var v=Pe(t);u&&u.l(v),v.forEach($),e=Ee(d),i=ge(d,"SPAN",{style:!0,id:!0});var b=Pe(i);h&&h.l(b),b.forEach($),a=Ee(d),c&&c.l(d),s=Ee(d),m&&m.l(d),this.h()},h(){Ot(t,"display","none"),Ot(i,"display","none"),fe(i,"id",n=r[0]+"Context")},m(d,v){S(d,t,v),u&&u.m(t,null),r[12](t),S(d,e,v),S(d,i,v),h&&h.m(i,null),S(d,a,v),c&&c.m(d,v),S(d,s,v),m&&m.m(d,v),o=!0},p(d,[v]){u&&u.p&&(!o||v&1024)&&Ut(u,l,d,d[10],o?Ht(l,d[10],v,null):qt(d[10]),null),h&&h.p&&(!o||v&1024)&&Ut(h,f,d,d[10],o?Ht(f,d[10],v,kF):qt(d[10]),$2),(!o||v&1&&n!==(n=d[0]+"Context"))&&fe(i,"id",n),(d[5]||1)===1&&d[1]!=="1"?c||(c=_2(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null),"h"+(d[5]||1)&&m.p(d,v)},i(d){o||(z(u,d),z(h,d),o=!0)},o(d){L(u,d),L(h,d),o=!1},d(d){d&&($(t),$(e),$(i),$(a),$(s)),u&&u.d(d),r[12](null),h&&h.d(d),c&&c.d(d),m&&m.d(d)}}}function AF(r,t,e){let i,n,a;xt(r,qr,g=>e(9,a=g));let{$$slots:s={},$$scope:o}=t,{level:l=void 0}=t,{refId:u}=t,{dispSecNum:f=""}=t,{includeDispSecNum:h=!0}=t;if(!u)throw new Error("refId required for Heading");u="sec:"+u;const c=l===void 0?0:parseInt(l);let m=`${a.hierarchy.length+(c>1?0:1)}`;f!==""&&qr.update(g=>(g.dispSecNums[m]=f,g)),Object.keys(a.dispSecNums).includes(m)&&(m=a.dispSecNums[m]);let d;hu(()=>{setTimeout(()=>{e(3,n=`${h?(l?m:"")+(l?": ":""):""}${d==null?void 0:d.innerHTML}`),qr.update(g=>(g.headingTexts[u]=n,g))},250)});function v(g){nn[g?"unshift":"push"](()=>{d=g,e(2,d)})}const b=()=>{qr.update(g=>(delete g.returnIds[u],g))};return r.$$set=g=>{"level"in g&&e(6,l=g.level),"refId"in g&&e(0,u=g.refId),"dispSecNum"in g&&e(7,f=g.dispSecNum),"includeDispSecNum"in g&&e(8,h=g.includeDispSecNum),"$$scope"in g&&e(10,o=g.$$scope)},r.$$.update=()=>{if(r.$$.dirty&579&&l&&qr&&!Object.keys(a.numRefs).includes(u)){qr.update(_=>(_.numRefs[u]=0,_));let g=1,y=a.hierarchy;for(;g<c;)y=y[y.length-1].hierarchy,e(1,m+=(m===""?"":".")+(y.length+(g<c-1?0:1))),g+=1;y.push({id:u,secNum:m,hierarchy:[],level:c}),qr.update(_=>(_.numbers[u]=m,_))}r.$$.dirty&513&&e(4,i=a.returnIds[u]),r.$$.dirty&326&&e(3,n=`${h?(l?m:"")+(l?": ":""):""}${d==null?void 0:d.innerHTML}`),r.$$.dirty&9&&qr.update(g=>(g.headingTexts[u]=n,g))},[u,m,d,n,i,c,l,f,h,a,o,s,v,b]}class ei extends $t{constructor(t){super(),_t(this,t,AF,OF,yt,{level:6,refId:0,dispSecNum:7,includeDispSecNum:8})}}function IF(r){let t,e,i;const n=r[2].default,a=jt(n,r,r[1],null);return{c(){t=ve("div"),a&&a.c(),this.h()},l(s){t=ge(s,"DIV",{class:!0});var o=Pe(t);a&&a.l(o),o.forEach($),this.h()},h(){fe(t,"class",e=Vn("bodyText"+(r[0]?" bodyTextPrintMode":""))+" svelte-1hg1twn")},m(s,o){S(s,t,o),a&&a.m(t,null),i=!0},p(s,[o]){a&&a.p&&(!i||o&2)&&Ut(a,n,s,s[1],i?Ht(n,s[1],o,null):qt(s[1]),null),(!i||o&1&&e!==(e=Vn("bodyText"+(s[0]?" bodyTextPrintMode":""))+" svelte-1hg1twn"))&&fe(t,"class",e)},i(s){i||(z(a,s),i=!0)},o(s){L(a,s),i=!1},d(s){s&&$(t),a&&a.d(s)}}}function CF(r,t,e){let i;xt(r,Zi,s=>e(0,i=s));let{$$slots:n={},$$scope:a}=t;return r.$$set=s=>{"$$scope"in s&&e(1,a=s.$$scope)},[i,a,n]}class vt extends $t{constructor(t){super(),_t(this,t,CF,IF,yt,{})}}function PF(r){let t,e,i="×",n,a,s,o,l,u;Rs(r[11]);const f=r[10].default,h=jt(f,r,r[9],null);return{c(){t=ve("div"),e=ve("div"),e.textContent=i,n=Se(),h&&h.c(),this.h()},l(c){t=ge(c,"DIV",{style:!0,class:!0,id:!0});var m=Pe(t);e=ge(m,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Ze(e)!=="svelte-11qc707"&&(e.textContent=i),n=Ee(m),h&&h.l(m),m.forEach($),this.h()},h(){fe(e,"class","closeX svelte-qliup"),fe(e,"role","button"),fe(e,"tabindex","0"),fe(e,"aria-label","Toggle popup"),fe(t,"style",a=`display:${r[0]?"block":"none"}`),fe(t,"class",s=Vn(`popup popup${r[4]}`)+" svelte-qliup"),fe(t,"id",r[1])},m(c,m){S(c,t,m),oe(t,e),oe(t,n),h&&h.m(t,null),r[12](t),o=!0,l||(u=[gt(window,"resize",r[11]),gt(e,"keydown",r[5]),gt(e,"click",r[5])],l=!0)},p(c,[m]){h&&h.p&&(!o||m&512)&&Ut(h,f,c,c[9],o?Ht(f,c[9],m,null):qt(c[9]),null),(!o||m&1&&a!==(a=`display:${c[0]?"block":"none"}`))&&fe(t,"style",a),(!o||m&16&&s!==(s=Vn(`popup popup${c[4]}`)+" svelte-qliup"))&&fe(t,"class",s),(!o||m&2)&&fe(t,"id",c[1])},i(c){o||(z(h,c),o=!0)},o(c){L(h,c),o=!1},d(c){c&&$(t),h&&h.d(c),r[12](null),l=!1,Sn(u)}}}function DF(r,t,e){let i,n,a;xt(r,qS,b=>e(7,n=b)),xt(r,US,b=>e(8,a=b));let{$$slots:s={},$$scope:o}=t,{show:l}=t,{divId:u=""}=t,f;const h=b=>{e(0,l=!1)};let c=()=>!1;hu(()=>{e(6,c=()=>{let b=!1;for(let g of Array.from(document.getElementsByClassName("popup")))g.style.display==="block"&&g!==f&&(b=!0);return b})});let m=0;function d(){e(2,m=window.innerWidth)}function v(b){nn[b?"unshift":"push"](()=>{f=b,e(3,f)})}return r.$$set=b=>{"show"in b&&e(0,l=b.show),"divId"in b&&e(1,u=b.divId),"$$scope"in b&&e(9,o=b.$$scope)},r.$$.update=()=>{r.$$.dirty&65&&jS.update(()=>l?!0:c()),r.$$.dirty&388&&e(4,i=m-a>n?"Side":"Center")},[l,u,m,f,i,h,c,n,a,o,s,d,v]}class np extends $t{constructor(t){super(),_t(this,t,DF,PF,yt,{show:0,divId:1})}}function NF(r){let t,e=`(Referenced citation "${r[0]}" not found)`,i;return{c(){t=ve("span"),i=P(e),this.h()},l(n){t=ge(n,"SPAN",{class:!0});var a=Pe(t);i=D(a,e),a.forEach($),this.h()},h(){fe(t,"class","missingRef svelte-1qkemij")},m(n,a){S(n,t,a),oe(t,i)},p(n,a){a&1&&e!==(e=`(Referenced citation "${n[0]}" not found)`)&&Gs(i,e)},i:se,o:se,d(n){n&&$(t)}}}function RF(r){let t,e,i=r[1].refStr+"",n,a,s,o;return t=new np({props:{show:r[2],$$slots:{default:[MF]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment),e=ve("span"),n=P(i),this.h()},l(l){X(t.$$.fragment,l),e=ge(l,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var u=Pe(e);n=D(u,i),u.forEach($),this.h()},h(){fe(e,"class","ref svelte-1qkemij"),fe(e,"role","button"),fe(e,"tabindex","0"),fe(e,"aria-label","Toggle popup")},m(l,u){K(t,l,u),S(l,e,u),oe(e,n),a=!0,s||(o=[gt(e,"keydown",r[3]),gt(e,"click",r[3])],s=!0)},p(l,u){const f={};u&4&&(f.show=l[2]),u&66&&(f.$$scope={dirty:u,ctx:l}),t.$set(f),(!a||u&2)&&i!==(i=l[1].refStr+"")&&Gs(n,i)},i(l){a||(z(t.$$.fragment,l),a=!0)},o(l){L(t.$$.fragment,l),a=!1},d(l){l&&$(e),Y(t,l),s=!1,Sn(o)}}}function MF(r){let t,e=r[1].biblio+"",i;return{c(){t=new Xn(!1),i=Se(),this.h()},l(n){t=Kn(n,!1),i=Ee(n),this.h()},h(){t.a=i},m(n,a){t.m(e,n,a),S(n,i,a)},p(n,a){a&2&&e!==(e=n[1].biblio+"")&&t.p(e)},d(n){n&&(t.d(),$(i))}}}function BF(r){let t,e,i,n;const a=[RF,NF],s=[];function o(l,u){return l[4]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ct()},l(l){e.l(l),i=ct()},m(l,u){s[t].m(l,u),S(l,i,u),n=!0},p(l,[u]){e.p(l,u)},i(l){n||(z(e),n=!0)},o(l){L(e),n=!1},d(l){l&&$(i),s[t].d(l)}}}function FF(r,t,e){let i,n;xt(r,Yg,u=>e(5,n=u));let{refId:a}=t;const s=()=>{e(2,i=!i)};let o;const l=Object.keys(n).includes(a);return l&&(Yg.update(u=>(u[a].referenced=!0,u)),o=n[a]),r.$$set=u=>{"refId"in u&&e(0,a=u.refId)},e(2,i=!1),[a,o,i,s,l]}class Ki extends $t{constructor(t){super(),_t(this,t,FF,BF,yt,{refId:0})}}class Ai{constructor(t,e,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=e,this.end=i}static range(t,e){return e?!t||!t.loc||!e.loc||t.loc.lexer!==e.loc.lexer?null:new Ai(t.loc.lexer,t.loc.start,e.loc.end):t&&t.loc}}class en{constructor(t,e){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=e}range(t,e){return new en(e,Ai.range(this,t))}}class Be{constructor(t,e){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+t,n,a,s=e&&e.loc;if(s&&s.start<=s.end){var o=s.lexer.input;n=s.start,a=s.end,n===o.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=o.slice(n,a).replace(/[^]/g,"$&̲"),u;n>15?u="…"+o.slice(n-15,n):u=o.slice(0,n);var f;a+15<o.length?f=o.slice(a,a+15)+"…":f=o.slice(a),i+=u+l+f}var h=new Error(i);return h.name="ParseError",h.__proto__=Be.prototype,h.position=n,n!=null&&a!=null&&(h.length=a-n),h.rawMessage=t,h}}Be.prototype.__proto__=Error.prototype;var zF=function(t,e){return t.indexOf(e)!==-1},LF=function(t,e){return t===void 0?e:t},jF=/([A-Z])/g,UF=function(t){return t.replace(jF,"-$1").toLowerCase()},qF={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},HF=/[&><"']/g;function GF(r){return String(r).replace(HF,t=>qF[t])}var GS=function r(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?r(t.body[0]):t:t.type==="font"?r(t.body):t},WF=function(t){var e=GS(t);return e.type==="mathord"||e.type==="textord"||e.type==="atom"},VF=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},XF=function(t){var e=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return e?e[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(e[1])?null:e[1].toLowerCase():"_relative"},et={contains:zF,deflt:LF,escape:GF,hyphenate:UF,getBaseElem:GS,isCharacterBox:WF,protocolFromUrl:XF},Kh={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,t)=>(t.push(r),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function KF(r){if(r.default)return r.default;var t=r.type,e=Array.isArray(t)?t[0]:t;if(typeof e!="string")return e.enum[0];switch(e){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Lb{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var e in Kh)if(Kh.hasOwnProperty(e)){var i=Kh[e];this[e]=t[e]!==void 0?i.processor?i.processor(t[e]):t[e]:KF(i)}}reportNonstrict(t,e,i){var n=this.strict;if(typeof n=="function"&&(n=n(t,e,i)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new Be("LaTeX-incompatible input and strict mode is set to 'error': "+(e+" ["+t+"]"),i);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(e+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+e+" ["+t+"]"))}}useStrictBehavior(t,e,i){var n=this.strict;if(typeof n=="function")try{n=n(t,e,i)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(e+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+e+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var e=et.protocolFromUrl(t.url);if(e==null)return!1;t.protocol=e}var i=typeof this.trust=="function"?this.trust(t):this.trust;return!!i}}class hs{constructor(t,e,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=e,this.cramped=i}sup(){return Nn[YF[this.id]]}sub(){return Nn[JF[this.id]]}fracNum(){return Nn[QF[this.id]]}fracDen(){return Nn[ZF[this.id]]}cramp(){return Nn[ez[this.id]]}text(){return Nn[tz[this.id]]}isTight(){return this.size>=2}}var jb=0,bm=1,Hl=2,oa=3,Af=4,Yi=5,Jl=6,ti=7,Nn=[new hs(jb,0,!1),new hs(bm,0,!0),new hs(Hl,1,!1),new hs(oa,1,!0),new hs(Af,2,!1),new hs(Yi,2,!0),new hs(Jl,3,!1),new hs(ti,3,!0)],YF=[Af,Yi,Af,Yi,Jl,ti,Jl,ti],JF=[Yi,Yi,Yi,Yi,ti,ti,ti,ti],QF=[Hl,oa,Af,Yi,Jl,ti,Jl,ti],ZF=[oa,oa,Yi,Yi,ti,ti,ti,ti],ez=[bm,bm,oa,oa,Yi,Yi,ti,ti],tz=[jb,bm,Hl,oa,Hl,oa,Hl,oa],rt={DISPLAY:Nn[jb],TEXT:Nn[Hl],SCRIPT:Nn[Af],SCRIPTSCRIPT:Nn[Jl]},Qg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function rz(r){for(var t=0;t<Qg.length;t++)for(var e=Qg[t],i=0;i<e.blocks.length;i++){var n=e.blocks[i];if(r>=n[0]&&r<=n[1])return e.name}return null}var Yh=[];Qg.forEach(r=>r.blocks.forEach(t=>Yh.push(...t)));function WS(r){for(var t=0;t<Yh.length;t+=2)if(r>=Yh[t]&&r<=Yh[t+1])return!0;return!1}var dl=80,iz=function(t,e){return"M95,"+(622+t+e)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},nz=function(t,e){return"M263,"+(601+t+e)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},az=function(t,e){return"M983 "+(10+t+e)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},sz=function(t,e){return"M424,"+(2398+t+e)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+e+`
h400000v`+(40+t)+"h-400000z"},oz=function(t,e){return"M473,"+(2713+t+e)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+e+"h400000v"+(40+t)+"H1017.7z"},lz=function(t){var e=t/2;return"M400000 "+t+" H0 L"+e+" 0 l65 45 L145 "+(t-80)+" H400000z"},uz=function(t,e,i){var n=i-54-e-t;return"M702 "+(t+e)+"H400000"+(40+t)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+e+"H400000v"+(40+t)+"H742z"},fz=function(t,e,i){e=1e3*e;var n="";switch(t){case"sqrtMain":n=iz(e,dl);break;case"sqrtSize1":n=nz(e,dl);break;case"sqrtSize2":n=az(e,dl);break;case"sqrtSize3":n=sz(e,dl);break;case"sqrtSize4":n=oz(e,dl);break;case"sqrtTall":n=uz(e,dl,i)}return n},cz=function(t,e){switch(t){case"⎜":return"M291 0 H417 V"+e+" H291z M291 0 H417 V"+e+" H291z";case"∣":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z";case"∥":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z"+("M367 0 H410 V"+e+" H367z M367 0 H410 V"+e+" H367z");case"⎟":return"M457 0 H583 V"+e+" H457z M457 0 H583 V"+e+" H457z";case"⎢":return"M319 0 H403 V"+e+" H319z M319 0 H403 V"+e+" H319z";case"⎥":return"M263 0 H347 V"+e+" H263z M263 0 H347 V"+e+" H263z";case"⎪":return"M384 0 H504 V"+e+" H384z M384 0 H504 V"+e+" H384z";case"⏐":return"M312 0 H355 V"+e+" H312z M312 0 H355 V"+e+" H312z";case"‖":return"M257 0 H300 V"+e+" H257z M257 0 H300 V"+e+" H257z"+("M478 0 H521 V"+e+" H478z M478 0 H521 V"+e+" H478z");default:return""}},x2={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},hz=function(t,e){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+e+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+e+" v1759 h84z";case"vert":return"M145 15 v585 v"+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+e+" v585 h43z";case"doublevert":return"M145 15 v585 v"+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+e+` v585 h43z
M367 15 v585 v`+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+e+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+e+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+e+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+e+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+e+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+` v602 h84z
M403 1759 V0 H319 V1759 v`+e+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+` v602 h84z
M347 1759 V0 h-84 V1759 v`+e+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(e+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(e+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(e+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(e+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Yf{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return et.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t}toMarkup(){for(var t="",e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t}toText(){var t=e=>e.toText();return this.children.map(t).join("")}}var Fn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Jc={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},S2={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function mz(r,t){Fn[r]=t}function Ub(r,t,e){if(!Fn[t])throw new Error("Font metrics not found for font: "+t+".");var i=r.charCodeAt(0),n=Fn[t][i];if(!n&&r[0]in S2&&(i=S2[r[0]].charCodeAt(0),n=Fn[t][i]),!n&&e==="text"&&WS(i)&&(n=Fn[t][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}var r0={};function pz(r){var t;if(r>=5?t=0:r>=3?t=1:t=2,!r0[t]){var e=r0[t]={cssEmPerMu:Jc.quad[t]/18};for(var i in Jc)Jc.hasOwnProperty(i)&&(e[i]=Jc[i][t])}return r0[t]}var dz=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],E2=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],k2=function(t,e){return e.size<2?t:dz[t-1][e.size-1]};class aa{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||aa.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=E2[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var e={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return new aa(e)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:k2(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:E2[t-1]})}havingBaseStyle(t){t=t||this.style.text();var e=k2(aa.BASESIZE,t);return this.size===e&&this.textSize===aa.BASESIZE&&this.style===t?this:this.extend({style:t,size:e})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==aa.BASESIZE?["sizing","reset-size"+this.size,"size"+aa.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=pz(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}aa.BASESIZE=6;var Zg={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},vz={ex:!0,em:!0,mu:!0},VS=function(t){return typeof t!="string"&&(t=t.unit),t in Zg||t in vz||t==="ex"},Qt=function(t,e){var i;if(t.unit in Zg)i=Zg[t.unit]/e.fontMetrics().ptPerEm/e.sizeMultiplier;else if(t.unit==="mu")i=e.fontMetrics().cssEmPerMu;else{var n;if(e.style.isTight()?n=e.havingStyle(e.style.text()):n=e,t.unit==="ex")i=n.fontMetrics().xHeight;else if(t.unit==="em")i=n.fontMetrics().quad;else throw new Be("Invalid unit: '"+t.unit+"'");n!==e&&(i*=n.sizeMultiplier/e.sizeMultiplier)}return Math.min(t.number*i,e.maxSize)},Ue=function(t){return+t.toFixed(4)+"em"},Fs=function(t){return t.filter(e=>e).join(" ")},XS=function(t,e,i){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},e){e.style.isTight()&&this.classes.push("mtight");var n=e.getColor();n&&(this.style.color=n)}},KS=function(t){var e=document.createElement(t);e.className=Fs(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&e.setAttribute(n,this.attributes[n]);for(var a=0;a<this.children.length;a++)e.appendChild(this.children[a].toNode());return e},YS=function(t){var e="<"+t;this.classes.length&&(e+=' class="'+et.escape(Fs(this.classes))+'"');var i="";for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=et.hyphenate(n)+":"+this.style[n]+";");i&&(e+=' style="'+et.escape(i)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(e+=" "+a+'="'+et.escape(this.attributes[a])+'"');e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</"+t+">",e};class Jf{constructor(t,e,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,XS.call(this,t,i,n),this.children=e||[]}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return et.contains(this.classes,t)}toNode(){return KS.call(this,"span")}toMarkup(){return YS.call(this,"span")}}class qb{constructor(t,e,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,XS.call(this,e,n),this.children=i||[],this.setAttribute("href",t)}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return et.contains(this.classes,t)}toNode(){return KS.call(this,"a")}toMarkup(){return YS.call(this,"a")}}class gz{constructor(t,e,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=e,this.src=t,this.classes=["mord"],this.style=i}hasClass(t){return et.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var e in this.style)this.style.hasOwnProperty(e)&&(t.style[e]=this.style[e]);return t}toMarkup(){var t='<img src="'+et.escape(this.src)+'"'+(' alt="'+et.escape(this.alt)+'"'),e="";for(var i in this.style)this.style.hasOwnProperty(i)&&(e+=et.hyphenate(i)+":"+this.style[i]+";");return e&&(t+=' style="'+et.escape(e)+'"'),t+="'/>",t}}var bz={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class an{constructor(t,e,i,n,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=e||0,this.depth=i||0,this.italic=n||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=rz(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=bz[this.text])}hasClass(t){return et.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),e=null;this.italic>0&&(e=document.createElement("span"),e.style.marginRight=Ue(this.italic)),this.classes.length>0&&(e=e||document.createElement("span"),e.className=Fs(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(e=e||document.createElement("span"),e.style[i]=this.style[i]);return e?(e.appendChild(t),e):t}toMarkup(){var t=!1,e="<span";this.classes.length&&(t=!0,e+=' class="',e+=et.escape(Fs(this.classes)),e+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=et.hyphenate(n)+":"+this.style[n]+";");i&&(t=!0,e+=' style="'+et.escape(i)+'"');var a=et.escape(this.text);return t?(e+=">",e+=a,e+="</span>",e):a}}class ya{constructor(t,e){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=e||{}}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="'+et.escape(this.attributes[e])+'"');t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</svg>",t}}class zs{constructor(t,e){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=e}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",x2[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+et.escape(this.alternate)+'"/>':'<path d="'+et.escape(x2[this.pathName])+'"/>'}}class e1{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);return e}toMarkup(){var t="<line";for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="'+et.escape(this.attributes[e])+'"');return t+="/>",t}}function T2(r){if(r instanceof an)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function yz(r){if(r instanceof Jf)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var $z={bin:1,close:1,inner:1,open:1,punct:1,rel:1},_z={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Gt={math:{},text:{}};function x(r,t,e,i,n,a){Gt[r][n]={font:t,group:e,replace:i},a&&i&&(Gt[r][i]=Gt[r][n])}var A="math",De="text",F="main",ie="ams",Xt="accent-token",Ve="bin",ni="close",mu="inner",tt="mathord",vr="op-token",Di="open",ap="punct",ne="rel",ka="spacing",le="textord";x(A,F,ne,"≡","\\equiv",!0);x(A,F,ne,"≺","\\prec",!0);x(A,F,ne,"≻","\\succ",!0);x(A,F,ne,"∼","\\sim",!0);x(A,F,ne,"⊥","\\perp");x(A,F,ne,"⪯","\\preceq",!0);x(A,F,ne,"⪰","\\succeq",!0);x(A,F,ne,"≃","\\simeq",!0);x(A,F,ne,"∣","\\mid",!0);x(A,F,ne,"≪","\\ll",!0);x(A,F,ne,"≫","\\gg",!0);x(A,F,ne,"≍","\\asymp",!0);x(A,F,ne,"∥","\\parallel");x(A,F,ne,"⋈","\\bowtie",!0);x(A,F,ne,"⌣","\\smile",!0);x(A,F,ne,"⊑","\\sqsubseteq",!0);x(A,F,ne,"⊒","\\sqsupseteq",!0);x(A,F,ne,"≐","\\doteq",!0);x(A,F,ne,"⌢","\\frown",!0);x(A,F,ne,"∋","\\ni",!0);x(A,F,ne,"∝","\\propto",!0);x(A,F,ne,"⊢","\\vdash",!0);x(A,F,ne,"⊣","\\dashv",!0);x(A,F,ne,"∋","\\owns");x(A,F,ap,".","\\ldotp");x(A,F,ap,"⋅","\\cdotp");x(A,F,le,"#","\\#");x(De,F,le,"#","\\#");x(A,F,le,"&","\\&");x(De,F,le,"&","\\&");x(A,F,le,"ℵ","\\aleph",!0);x(A,F,le,"∀","\\forall",!0);x(A,F,le,"ℏ","\\hbar",!0);x(A,F,le,"∃","\\exists",!0);x(A,F,le,"∇","\\nabla",!0);x(A,F,le,"♭","\\flat",!0);x(A,F,le,"ℓ","\\ell",!0);x(A,F,le,"♮","\\natural",!0);x(A,F,le,"♣","\\clubsuit",!0);x(A,F,le,"℘","\\wp",!0);x(A,F,le,"♯","\\sharp",!0);x(A,F,le,"♢","\\diamondsuit",!0);x(A,F,le,"ℜ","\\Re",!0);x(A,F,le,"♡","\\heartsuit",!0);x(A,F,le,"ℑ","\\Im",!0);x(A,F,le,"♠","\\spadesuit",!0);x(A,F,le,"§","\\S",!0);x(De,F,le,"§","\\S");x(A,F,le,"¶","\\P",!0);x(De,F,le,"¶","\\P");x(A,F,le,"†","\\dag");x(De,F,le,"†","\\dag");x(De,F,le,"†","\\textdagger");x(A,F,le,"‡","\\ddag");x(De,F,le,"‡","\\ddag");x(De,F,le,"‡","\\textdaggerdbl");x(A,F,ni,"⎱","\\rmoustache",!0);x(A,F,Di,"⎰","\\lmoustache",!0);x(A,F,ni,"⟯","\\rgroup",!0);x(A,F,Di,"⟮","\\lgroup",!0);x(A,F,Ve,"∓","\\mp",!0);x(A,F,Ve,"⊖","\\ominus",!0);x(A,F,Ve,"⊎","\\uplus",!0);x(A,F,Ve,"⊓","\\sqcap",!0);x(A,F,Ve,"∗","\\ast");x(A,F,Ve,"⊔","\\sqcup",!0);x(A,F,Ve,"◯","\\bigcirc",!0);x(A,F,Ve,"∙","\\bullet",!0);x(A,F,Ve,"‡","\\ddagger");x(A,F,Ve,"≀","\\wr",!0);x(A,F,Ve,"⨿","\\amalg");x(A,F,Ve,"&","\\And");x(A,F,ne,"⟵","\\longleftarrow",!0);x(A,F,ne,"⇐","\\Leftarrow",!0);x(A,F,ne,"⟸","\\Longleftarrow",!0);x(A,F,ne,"⟶","\\longrightarrow",!0);x(A,F,ne,"⇒","\\Rightarrow",!0);x(A,F,ne,"⟹","\\Longrightarrow",!0);x(A,F,ne,"↔","\\leftrightarrow",!0);x(A,F,ne,"⟷","\\longleftrightarrow",!0);x(A,F,ne,"⇔","\\Leftrightarrow",!0);x(A,F,ne,"⟺","\\Longleftrightarrow",!0);x(A,F,ne,"↦","\\mapsto",!0);x(A,F,ne,"⟼","\\longmapsto",!0);x(A,F,ne,"↗","\\nearrow",!0);x(A,F,ne,"↩","\\hookleftarrow",!0);x(A,F,ne,"↪","\\hookrightarrow",!0);x(A,F,ne,"↘","\\searrow",!0);x(A,F,ne,"↼","\\leftharpoonup",!0);x(A,F,ne,"⇀","\\rightharpoonup",!0);x(A,F,ne,"↙","\\swarrow",!0);x(A,F,ne,"↽","\\leftharpoondown",!0);x(A,F,ne,"⇁","\\rightharpoondown",!0);x(A,F,ne,"↖","\\nwarrow",!0);x(A,F,ne,"⇌","\\rightleftharpoons",!0);x(A,ie,ne,"≮","\\nless",!0);x(A,ie,ne,"","\\@nleqslant");x(A,ie,ne,"","\\@nleqq");x(A,ie,ne,"⪇","\\lneq",!0);x(A,ie,ne,"≨","\\lneqq",!0);x(A,ie,ne,"","\\@lvertneqq");x(A,ie,ne,"⋦","\\lnsim",!0);x(A,ie,ne,"⪉","\\lnapprox",!0);x(A,ie,ne,"⊀","\\nprec",!0);x(A,ie,ne,"⋠","\\npreceq",!0);x(A,ie,ne,"⋨","\\precnsim",!0);x(A,ie,ne,"⪹","\\precnapprox",!0);x(A,ie,ne,"≁","\\nsim",!0);x(A,ie,ne,"","\\@nshortmid");x(A,ie,ne,"∤","\\nmid",!0);x(A,ie,ne,"⊬","\\nvdash",!0);x(A,ie,ne,"⊭","\\nvDash",!0);x(A,ie,ne,"⋪","\\ntriangleleft");x(A,ie,ne,"⋬","\\ntrianglelefteq",!0);x(A,ie,ne,"⊊","\\subsetneq",!0);x(A,ie,ne,"","\\@varsubsetneq");x(A,ie,ne,"⫋","\\subsetneqq",!0);x(A,ie,ne,"","\\@varsubsetneqq");x(A,ie,ne,"≯","\\ngtr",!0);x(A,ie,ne,"","\\@ngeqslant");x(A,ie,ne,"","\\@ngeqq");x(A,ie,ne,"⪈","\\gneq",!0);x(A,ie,ne,"≩","\\gneqq",!0);x(A,ie,ne,"","\\@gvertneqq");x(A,ie,ne,"⋧","\\gnsim",!0);x(A,ie,ne,"⪊","\\gnapprox",!0);x(A,ie,ne,"⊁","\\nsucc",!0);x(A,ie,ne,"⋡","\\nsucceq",!0);x(A,ie,ne,"⋩","\\succnsim",!0);x(A,ie,ne,"⪺","\\succnapprox",!0);x(A,ie,ne,"≆","\\ncong",!0);x(A,ie,ne,"","\\@nshortparallel");x(A,ie,ne,"∦","\\nparallel",!0);x(A,ie,ne,"⊯","\\nVDash",!0);x(A,ie,ne,"⋫","\\ntriangleright");x(A,ie,ne,"⋭","\\ntrianglerighteq",!0);x(A,ie,ne,"","\\@nsupseteqq");x(A,ie,ne,"⊋","\\supsetneq",!0);x(A,ie,ne,"","\\@varsupsetneq");x(A,ie,ne,"⫌","\\supsetneqq",!0);x(A,ie,ne,"","\\@varsupsetneqq");x(A,ie,ne,"⊮","\\nVdash",!0);x(A,ie,ne,"⪵","\\precneqq",!0);x(A,ie,ne,"⪶","\\succneqq",!0);x(A,ie,ne,"","\\@nsubseteqq");x(A,ie,Ve,"⊴","\\unlhd");x(A,ie,Ve,"⊵","\\unrhd");x(A,ie,ne,"↚","\\nleftarrow",!0);x(A,ie,ne,"↛","\\nrightarrow",!0);x(A,ie,ne,"⇍","\\nLeftarrow",!0);x(A,ie,ne,"⇏","\\nRightarrow",!0);x(A,ie,ne,"↮","\\nleftrightarrow",!0);x(A,ie,ne,"⇎","\\nLeftrightarrow",!0);x(A,ie,ne,"△","\\vartriangle");x(A,ie,le,"ℏ","\\hslash");x(A,ie,le,"▽","\\triangledown");x(A,ie,le,"◊","\\lozenge");x(A,ie,le,"Ⓢ","\\circledS");x(A,ie,le,"®","\\circledR");x(De,ie,le,"®","\\circledR");x(A,ie,le,"∡","\\measuredangle",!0);x(A,ie,le,"∄","\\nexists");x(A,ie,le,"℧","\\mho");x(A,ie,le,"Ⅎ","\\Finv",!0);x(A,ie,le,"⅁","\\Game",!0);x(A,ie,le,"‵","\\backprime");x(A,ie,le,"▲","\\blacktriangle");x(A,ie,le,"▼","\\blacktriangledown");x(A,ie,le,"■","\\blacksquare");x(A,ie,le,"⧫","\\blacklozenge");x(A,ie,le,"★","\\bigstar");x(A,ie,le,"∢","\\sphericalangle",!0);x(A,ie,le,"∁","\\complement",!0);x(A,ie,le,"ð","\\eth",!0);x(De,F,le,"ð","ð");x(A,ie,le,"╱","\\diagup");x(A,ie,le,"╲","\\diagdown");x(A,ie,le,"□","\\square");x(A,ie,le,"□","\\Box");x(A,ie,le,"◊","\\Diamond");x(A,ie,le,"¥","\\yen",!0);x(De,ie,le,"¥","\\yen",!0);x(A,ie,le,"✓","\\checkmark",!0);x(De,ie,le,"✓","\\checkmark");x(A,ie,le,"ℶ","\\beth",!0);x(A,ie,le,"ℸ","\\daleth",!0);x(A,ie,le,"ℷ","\\gimel",!0);x(A,ie,le,"ϝ","\\digamma",!0);x(A,ie,le,"ϰ","\\varkappa");x(A,ie,Di,"┌","\\@ulcorner",!0);x(A,ie,ni,"┐","\\@urcorner",!0);x(A,ie,Di,"└","\\@llcorner",!0);x(A,ie,ni,"┘","\\@lrcorner",!0);x(A,ie,ne,"≦","\\leqq",!0);x(A,ie,ne,"⩽","\\leqslant",!0);x(A,ie,ne,"⪕","\\eqslantless",!0);x(A,ie,ne,"≲","\\lesssim",!0);x(A,ie,ne,"⪅","\\lessapprox",!0);x(A,ie,ne,"≊","\\approxeq",!0);x(A,ie,Ve,"⋖","\\lessdot");x(A,ie,ne,"⋘","\\lll",!0);x(A,ie,ne,"≶","\\lessgtr",!0);x(A,ie,ne,"⋚","\\lesseqgtr",!0);x(A,ie,ne,"⪋","\\lesseqqgtr",!0);x(A,ie,ne,"≑","\\doteqdot");x(A,ie,ne,"≓","\\risingdotseq",!0);x(A,ie,ne,"≒","\\fallingdotseq",!0);x(A,ie,ne,"∽","\\backsim",!0);x(A,ie,ne,"⋍","\\backsimeq",!0);x(A,ie,ne,"⫅","\\subseteqq",!0);x(A,ie,ne,"⋐","\\Subset",!0);x(A,ie,ne,"⊏","\\sqsubset",!0);x(A,ie,ne,"≼","\\preccurlyeq",!0);x(A,ie,ne,"⋞","\\curlyeqprec",!0);x(A,ie,ne,"≾","\\precsim",!0);x(A,ie,ne,"⪷","\\precapprox",!0);x(A,ie,ne,"⊲","\\vartriangleleft");x(A,ie,ne,"⊴","\\trianglelefteq");x(A,ie,ne,"⊨","\\vDash",!0);x(A,ie,ne,"⊪","\\Vvdash",!0);x(A,ie,ne,"⌣","\\smallsmile");x(A,ie,ne,"⌢","\\smallfrown");x(A,ie,ne,"≏","\\bumpeq",!0);x(A,ie,ne,"≎","\\Bumpeq",!0);x(A,ie,ne,"≧","\\geqq",!0);x(A,ie,ne,"⩾","\\geqslant",!0);x(A,ie,ne,"⪖","\\eqslantgtr",!0);x(A,ie,ne,"≳","\\gtrsim",!0);x(A,ie,ne,"⪆","\\gtrapprox",!0);x(A,ie,Ve,"⋗","\\gtrdot");x(A,ie,ne,"⋙","\\ggg",!0);x(A,ie,ne,"≷","\\gtrless",!0);x(A,ie,ne,"⋛","\\gtreqless",!0);x(A,ie,ne,"⪌","\\gtreqqless",!0);x(A,ie,ne,"≖","\\eqcirc",!0);x(A,ie,ne,"≗","\\circeq",!0);x(A,ie,ne,"≜","\\triangleq",!0);x(A,ie,ne,"∼","\\thicksim");x(A,ie,ne,"≈","\\thickapprox");x(A,ie,ne,"⫆","\\supseteqq",!0);x(A,ie,ne,"⋑","\\Supset",!0);x(A,ie,ne,"⊐","\\sqsupset",!0);x(A,ie,ne,"≽","\\succcurlyeq",!0);x(A,ie,ne,"⋟","\\curlyeqsucc",!0);x(A,ie,ne,"≿","\\succsim",!0);x(A,ie,ne,"⪸","\\succapprox",!0);x(A,ie,ne,"⊳","\\vartriangleright");x(A,ie,ne,"⊵","\\trianglerighteq");x(A,ie,ne,"⊩","\\Vdash",!0);x(A,ie,ne,"∣","\\shortmid");x(A,ie,ne,"∥","\\shortparallel");x(A,ie,ne,"≬","\\between",!0);x(A,ie,ne,"⋔","\\pitchfork",!0);x(A,ie,ne,"∝","\\varpropto");x(A,ie,ne,"◀","\\blacktriangleleft");x(A,ie,ne,"∴","\\therefore",!0);x(A,ie,ne,"∍","\\backepsilon");x(A,ie,ne,"▶","\\blacktriangleright");x(A,ie,ne,"∵","\\because",!0);x(A,ie,ne,"⋘","\\llless");x(A,ie,ne,"⋙","\\gggtr");x(A,ie,Ve,"⊲","\\lhd");x(A,ie,Ve,"⊳","\\rhd");x(A,ie,ne,"≂","\\eqsim",!0);x(A,F,ne,"⋈","\\Join");x(A,ie,ne,"≑","\\Doteq",!0);x(A,ie,Ve,"∔","\\dotplus",!0);x(A,ie,Ve,"∖","\\smallsetminus");x(A,ie,Ve,"⋒","\\Cap",!0);x(A,ie,Ve,"⋓","\\Cup",!0);x(A,ie,Ve,"⩞","\\doublebarwedge",!0);x(A,ie,Ve,"⊟","\\boxminus",!0);x(A,ie,Ve,"⊞","\\boxplus",!0);x(A,ie,Ve,"⋇","\\divideontimes",!0);x(A,ie,Ve,"⋉","\\ltimes",!0);x(A,ie,Ve,"⋊","\\rtimes",!0);x(A,ie,Ve,"⋋","\\leftthreetimes",!0);x(A,ie,Ve,"⋌","\\rightthreetimes",!0);x(A,ie,Ve,"⋏","\\curlywedge",!0);x(A,ie,Ve,"⋎","\\curlyvee",!0);x(A,ie,Ve,"⊝","\\circleddash",!0);x(A,ie,Ve,"⊛","\\circledast",!0);x(A,ie,Ve,"⋅","\\centerdot");x(A,ie,Ve,"⊺","\\intercal",!0);x(A,ie,Ve,"⋒","\\doublecap");x(A,ie,Ve,"⋓","\\doublecup");x(A,ie,Ve,"⊠","\\boxtimes",!0);x(A,ie,ne,"⇢","\\dashrightarrow",!0);x(A,ie,ne,"⇠","\\dashleftarrow",!0);x(A,ie,ne,"⇇","\\leftleftarrows",!0);x(A,ie,ne,"⇆","\\leftrightarrows",!0);x(A,ie,ne,"⇚","\\Lleftarrow",!0);x(A,ie,ne,"↞","\\twoheadleftarrow",!0);x(A,ie,ne,"↢","\\leftarrowtail",!0);x(A,ie,ne,"↫","\\looparrowleft",!0);x(A,ie,ne,"⇋","\\leftrightharpoons",!0);x(A,ie,ne,"↶","\\curvearrowleft",!0);x(A,ie,ne,"↺","\\circlearrowleft",!0);x(A,ie,ne,"↰","\\Lsh",!0);x(A,ie,ne,"⇈","\\upuparrows",!0);x(A,ie,ne,"↿","\\upharpoonleft",!0);x(A,ie,ne,"⇃","\\downharpoonleft",!0);x(A,F,ne,"⊶","\\origof",!0);x(A,F,ne,"⊷","\\imageof",!0);x(A,ie,ne,"⊸","\\multimap",!0);x(A,ie,ne,"↭","\\leftrightsquigarrow",!0);x(A,ie,ne,"⇉","\\rightrightarrows",!0);x(A,ie,ne,"⇄","\\rightleftarrows",!0);x(A,ie,ne,"↠","\\twoheadrightarrow",!0);x(A,ie,ne,"↣","\\rightarrowtail",!0);x(A,ie,ne,"↬","\\looparrowright",!0);x(A,ie,ne,"↷","\\curvearrowright",!0);x(A,ie,ne,"↻","\\circlearrowright",!0);x(A,ie,ne,"↱","\\Rsh",!0);x(A,ie,ne,"⇊","\\downdownarrows",!0);x(A,ie,ne,"↾","\\upharpoonright",!0);x(A,ie,ne,"⇂","\\downharpoonright",!0);x(A,ie,ne,"⇝","\\rightsquigarrow",!0);x(A,ie,ne,"⇝","\\leadsto");x(A,ie,ne,"⇛","\\Rrightarrow",!0);x(A,ie,ne,"↾","\\restriction");x(A,F,le,"‘","`");x(A,F,le,"$","\\$");x(De,F,le,"$","\\$");x(De,F,le,"$","\\textdollar");x(A,F,le,"%","\\%");x(De,F,le,"%","\\%");x(A,F,le,"_","\\_");x(De,F,le,"_","\\_");x(De,F,le,"_","\\textunderscore");x(A,F,le,"∠","\\angle",!0);x(A,F,le,"∞","\\infty",!0);x(A,F,le,"′","\\prime");x(A,F,le,"△","\\triangle");x(A,F,le,"Γ","\\Gamma",!0);x(A,F,le,"Δ","\\Delta",!0);x(A,F,le,"Θ","\\Theta",!0);x(A,F,le,"Λ","\\Lambda",!0);x(A,F,le,"Ξ","\\Xi",!0);x(A,F,le,"Π","\\Pi",!0);x(A,F,le,"Σ","\\Sigma",!0);x(A,F,le,"Υ","\\Upsilon",!0);x(A,F,le,"Φ","\\Phi",!0);x(A,F,le,"Ψ","\\Psi",!0);x(A,F,le,"Ω","\\Omega",!0);x(A,F,le,"A","Α");x(A,F,le,"B","Β");x(A,F,le,"E","Ε");x(A,F,le,"Z","Ζ");x(A,F,le,"H","Η");x(A,F,le,"I","Ι");x(A,F,le,"K","Κ");x(A,F,le,"M","Μ");x(A,F,le,"N","Ν");x(A,F,le,"O","Ο");x(A,F,le,"P","Ρ");x(A,F,le,"T","Τ");x(A,F,le,"X","Χ");x(A,F,le,"¬","\\neg",!0);x(A,F,le,"¬","\\lnot");x(A,F,le,"⊤","\\top");x(A,F,le,"⊥","\\bot");x(A,F,le,"∅","\\emptyset");x(A,ie,le,"∅","\\varnothing");x(A,F,tt,"α","\\alpha",!0);x(A,F,tt,"β","\\beta",!0);x(A,F,tt,"γ","\\gamma",!0);x(A,F,tt,"δ","\\delta",!0);x(A,F,tt,"ϵ","\\epsilon",!0);x(A,F,tt,"ζ","\\zeta",!0);x(A,F,tt,"η","\\eta",!0);x(A,F,tt,"θ","\\theta",!0);x(A,F,tt,"ι","\\iota",!0);x(A,F,tt,"κ","\\kappa",!0);x(A,F,tt,"λ","\\lambda",!0);x(A,F,tt,"μ","\\mu",!0);x(A,F,tt,"ν","\\nu",!0);x(A,F,tt,"ξ","\\xi",!0);x(A,F,tt,"ο","\\omicron",!0);x(A,F,tt,"π","\\pi",!0);x(A,F,tt,"ρ","\\rho",!0);x(A,F,tt,"σ","\\sigma",!0);x(A,F,tt,"τ","\\tau",!0);x(A,F,tt,"υ","\\upsilon",!0);x(A,F,tt,"ϕ","\\phi",!0);x(A,F,tt,"χ","\\chi",!0);x(A,F,tt,"ψ","\\psi",!0);x(A,F,tt,"ω","\\omega",!0);x(A,F,tt,"ε","\\varepsilon",!0);x(A,F,tt,"ϑ","\\vartheta",!0);x(A,F,tt,"ϖ","\\varpi",!0);x(A,F,tt,"ϱ","\\varrho",!0);x(A,F,tt,"ς","\\varsigma",!0);x(A,F,tt,"φ","\\varphi",!0);x(A,F,Ve,"∗","*",!0);x(A,F,Ve,"+","+");x(A,F,Ve,"−","-",!0);x(A,F,Ve,"⋅","\\cdot",!0);x(A,F,Ve,"∘","\\circ",!0);x(A,F,Ve,"÷","\\div",!0);x(A,F,Ve,"±","\\pm",!0);x(A,F,Ve,"×","\\times",!0);x(A,F,Ve,"∩","\\cap",!0);x(A,F,Ve,"∪","\\cup",!0);x(A,F,Ve,"∖","\\setminus",!0);x(A,F,Ve,"∧","\\land");x(A,F,Ve,"∨","\\lor");x(A,F,Ve,"∧","\\wedge",!0);x(A,F,Ve,"∨","\\vee",!0);x(A,F,le,"√","\\surd");x(A,F,Di,"⟨","\\langle",!0);x(A,F,Di,"∣","\\lvert");x(A,F,Di,"∥","\\lVert");x(A,F,ni,"?","?");x(A,F,ni,"!","!");x(A,F,ni,"⟩","\\rangle",!0);x(A,F,ni,"∣","\\rvert");x(A,F,ni,"∥","\\rVert");x(A,F,ne,"=","=");x(A,F,ne,":",":");x(A,F,ne,"≈","\\approx",!0);x(A,F,ne,"≅","\\cong",!0);x(A,F,ne,"≥","\\ge");x(A,F,ne,"≥","\\geq",!0);x(A,F,ne,"←","\\gets");x(A,F,ne,">","\\gt",!0);x(A,F,ne,"∈","\\in",!0);x(A,F,ne,"","\\@not");x(A,F,ne,"⊂","\\subset",!0);x(A,F,ne,"⊃","\\supset",!0);x(A,F,ne,"⊆","\\subseteq",!0);x(A,F,ne,"⊇","\\supseteq",!0);x(A,ie,ne,"⊈","\\nsubseteq",!0);x(A,ie,ne,"⊉","\\nsupseteq",!0);x(A,F,ne,"⊨","\\models");x(A,F,ne,"←","\\leftarrow",!0);x(A,F,ne,"≤","\\le");x(A,F,ne,"≤","\\leq",!0);x(A,F,ne,"<","\\lt",!0);x(A,F,ne,"→","\\rightarrow",!0);x(A,F,ne,"→","\\to");x(A,ie,ne,"≱","\\ngeq",!0);x(A,ie,ne,"≰","\\nleq",!0);x(A,F,ka," ","\\ ");x(A,F,ka," ","\\space");x(A,F,ka," ","\\nobreakspace");x(De,F,ka," ","\\ ");x(De,F,ka," "," ");x(De,F,ka," ","\\space");x(De,F,ka," ","\\nobreakspace");x(A,F,ka,null,"\\nobreak");x(A,F,ka,null,"\\allowbreak");x(A,F,ap,",",",");x(A,F,ap,";",";");x(A,ie,Ve,"⊼","\\barwedge",!0);x(A,ie,Ve,"⊻","\\veebar",!0);x(A,F,Ve,"⊙","\\odot",!0);x(A,F,Ve,"⊕","\\oplus",!0);x(A,F,Ve,"⊗","\\otimes",!0);x(A,F,le,"∂","\\partial",!0);x(A,F,Ve,"⊘","\\oslash",!0);x(A,ie,Ve,"⊚","\\circledcirc",!0);x(A,ie,Ve,"⊡","\\boxdot",!0);x(A,F,Ve,"△","\\bigtriangleup");x(A,F,Ve,"▽","\\bigtriangledown");x(A,F,Ve,"†","\\dagger");x(A,F,Ve,"⋄","\\diamond");x(A,F,Ve,"⋆","\\star");x(A,F,Ve,"◃","\\triangleleft");x(A,F,Ve,"▹","\\triangleright");x(A,F,Di,"{","\\{");x(De,F,le,"{","\\{");x(De,F,le,"{","\\textbraceleft");x(A,F,ni,"}","\\}");x(De,F,le,"}","\\}");x(De,F,le,"}","\\textbraceright");x(A,F,Di,"{","\\lbrace");x(A,F,ni,"}","\\rbrace");x(A,F,Di,"[","\\lbrack",!0);x(De,F,le,"[","\\lbrack",!0);x(A,F,ni,"]","\\rbrack",!0);x(De,F,le,"]","\\rbrack",!0);x(A,F,Di,"(","\\lparen",!0);x(A,F,ni,")","\\rparen",!0);x(De,F,le,"<","\\textless",!0);x(De,F,le,">","\\textgreater",!0);x(A,F,Di,"⌊","\\lfloor",!0);x(A,F,ni,"⌋","\\rfloor",!0);x(A,F,Di,"⌈","\\lceil",!0);x(A,F,ni,"⌉","\\rceil",!0);x(A,F,le,"\\","\\backslash");x(A,F,le,"∣","|");x(A,F,le,"∣","\\vert");x(De,F,le,"|","\\textbar",!0);x(A,F,le,"∥","\\|");x(A,F,le,"∥","\\Vert");x(De,F,le,"∥","\\textbardbl");x(De,F,le,"~","\\textasciitilde");x(De,F,le,"\\","\\textbackslash");x(De,F,le,"^","\\textasciicircum");x(A,F,ne,"↑","\\uparrow",!0);x(A,F,ne,"⇑","\\Uparrow",!0);x(A,F,ne,"↓","\\downarrow",!0);x(A,F,ne,"⇓","\\Downarrow",!0);x(A,F,ne,"↕","\\updownarrow",!0);x(A,F,ne,"⇕","\\Updownarrow",!0);x(A,F,vr,"∐","\\coprod");x(A,F,vr,"⋁","\\bigvee");x(A,F,vr,"⋀","\\bigwedge");x(A,F,vr,"⨄","\\biguplus");x(A,F,vr,"⋂","\\bigcap");x(A,F,vr,"⋃","\\bigcup");x(A,F,vr,"∫","\\int");x(A,F,vr,"∫","\\intop");x(A,F,vr,"∬","\\iint");x(A,F,vr,"∭","\\iiint");x(A,F,vr,"∏","\\prod");x(A,F,vr,"∑","\\sum");x(A,F,vr,"⨂","\\bigotimes");x(A,F,vr,"⨁","\\bigoplus");x(A,F,vr,"⨀","\\bigodot");x(A,F,vr,"∮","\\oint");x(A,F,vr,"∯","\\oiint");x(A,F,vr,"∰","\\oiiint");x(A,F,vr,"⨆","\\bigsqcup");x(A,F,vr,"∫","\\smallint");x(De,F,mu,"…","\\textellipsis");x(A,F,mu,"…","\\mathellipsis");x(De,F,mu,"…","\\ldots",!0);x(A,F,mu,"…","\\ldots",!0);x(A,F,mu,"⋯","\\@cdots",!0);x(A,F,mu,"⋱","\\ddots",!0);x(A,F,le,"⋮","\\varvdots");x(A,F,Xt,"ˊ","\\acute");x(A,F,Xt,"ˋ","\\grave");x(A,F,Xt,"¨","\\ddot");x(A,F,Xt,"~","\\tilde");x(A,F,Xt,"ˉ","\\bar");x(A,F,Xt,"˘","\\breve");x(A,F,Xt,"ˇ","\\check");x(A,F,Xt,"^","\\hat");x(A,F,Xt,"⃗","\\vec");x(A,F,Xt,"˙","\\dot");x(A,F,Xt,"˚","\\mathring");x(A,F,tt,"","\\@imath");x(A,F,tt,"","\\@jmath");x(A,F,le,"ı","ı");x(A,F,le,"ȷ","ȷ");x(De,F,le,"ı","\\i",!0);x(De,F,le,"ȷ","\\j",!0);x(De,F,le,"ß","\\ss",!0);x(De,F,le,"æ","\\ae",!0);x(De,F,le,"œ","\\oe",!0);x(De,F,le,"ø","\\o",!0);x(De,F,le,"Æ","\\AE",!0);x(De,F,le,"Œ","\\OE",!0);x(De,F,le,"Ø","\\O",!0);x(De,F,Xt,"ˊ","\\'");x(De,F,Xt,"ˋ","\\`");x(De,F,Xt,"ˆ","\\^");x(De,F,Xt,"˜","\\~");x(De,F,Xt,"ˉ","\\=");x(De,F,Xt,"˘","\\u");x(De,F,Xt,"˙","\\.");x(De,F,Xt,"¸","\\c");x(De,F,Xt,"˚","\\r");x(De,F,Xt,"ˇ","\\v");x(De,F,Xt,"¨",'\\"');x(De,F,Xt,"˝","\\H");x(De,F,Xt,"◯","\\textcircled");var JS={"--":!0,"---":!0,"``":!0,"''":!0};x(De,F,le,"–","--",!0);x(De,F,le,"–","\\textendash");x(De,F,le,"—","---",!0);x(De,F,le,"—","\\textemdash");x(De,F,le,"‘","`",!0);x(De,F,le,"‘","\\textquoteleft");x(De,F,le,"’","'",!0);x(De,F,le,"’","\\textquoteright");x(De,F,le,"“","``",!0);x(De,F,le,"“","\\textquotedblleft");x(De,F,le,"”","''",!0);x(De,F,le,"”","\\textquotedblright");x(A,F,le,"°","\\degree",!0);x(De,F,le,"°","\\degree");x(De,F,le,"°","\\textdegree",!0);x(A,F,le,"£","\\pounds");x(A,F,le,"£","\\mathsterling",!0);x(De,F,le,"£","\\pounds");x(De,F,le,"£","\\textsterling",!0);x(A,ie,le,"✠","\\maltese");x(De,ie,le,"✠","\\maltese");var O2='0123456789/@."';for(var i0=0;i0<O2.length;i0++){var A2=O2.charAt(i0);x(A,F,le,A2,A2)}var I2='0123456789!@*()-=+";:?/.,';for(var n0=0;n0<I2.length;n0++){var C2=I2.charAt(n0);x(De,F,le,C2,C2)}var ym="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var a0=0;a0<ym.length;a0++){var Qc=ym.charAt(a0);x(A,F,tt,Qc,Qc),x(De,F,le,Qc,Qc)}x(A,ie,le,"C","ℂ");x(De,ie,le,"C","ℂ");x(A,ie,le,"H","ℍ");x(De,ie,le,"H","ℍ");x(A,ie,le,"N","ℕ");x(De,ie,le,"N","ℕ");x(A,ie,le,"P","ℙ");x(De,ie,le,"P","ℙ");x(A,ie,le,"Q","ℚ");x(De,ie,le,"Q","ℚ");x(A,ie,le,"R","ℝ");x(De,ie,le,"R","ℝ");x(A,ie,le,"Z","ℤ");x(De,ie,le,"Z","ℤ");x(A,F,tt,"h","ℎ");x(De,F,tt,"h","ℎ");var lt="";for(var Kr=0;Kr<ym.length;Kr++){var er=ym.charAt(Kr);lt=String.fromCharCode(55349,56320+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),lt=String.fromCharCode(55349,56372+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),lt=String.fromCharCode(55349,56424+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),lt=String.fromCharCode(55349,56580+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),lt=String.fromCharCode(55349,56684+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),lt=String.fromCharCode(55349,56736+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),lt=String.fromCharCode(55349,56788+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),lt=String.fromCharCode(55349,56840+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),lt=String.fromCharCode(55349,56944+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),Kr<26&&(lt=String.fromCharCode(55349,56632+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt),lt=String.fromCharCode(55349,56476+Kr),x(A,F,tt,er,lt),x(De,F,le,er,lt))}lt="𝕜";x(A,F,tt,"k",lt);x(De,F,le,"k",lt);for(var so=0;so<10;so++){var ms=so.toString();lt=String.fromCharCode(55349,57294+so),x(A,F,tt,ms,lt),x(De,F,le,ms,lt),lt=String.fromCharCode(55349,57314+so),x(A,F,tt,ms,lt),x(De,F,le,ms,lt),lt=String.fromCharCode(55349,57324+so),x(A,F,tt,ms,lt),x(De,F,le,ms,lt),lt=String.fromCharCode(55349,57334+so),x(A,F,tt,ms,lt),x(De,F,le,ms,lt)}var t1="ÐÞþ";for(var s0=0;s0<t1.length;s0++){var Zc=t1.charAt(s0);x(A,F,tt,Zc,Zc),x(De,F,le,Zc,Zc)}var eh=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],P2=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wz=function(t,e){var i=t.charCodeAt(0),n=t.charCodeAt(1),a=(i-55296)*1024+(n-56320)+65536,s=e==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[eh[o][2],eh[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[P2[l][2],P2[l][s]]}else{if(a===120485||a===120486)return[eh[0][2],eh[0][s]];if(120486<a&&a<120782)return["",""];throw new Be("Unsupported character: "+t)}},sp=function(t,e,i){return Gt[i][t]&&Gt[i][t].replace&&(t=Gt[i][t].replace),{value:t,metrics:Ub(t,e,i)}},pn=function(t,e,i,n,a){var s=sp(t,e,i),o=s.metrics;t=s.value;var l;if(o){var u=o.italic;(i==="text"||n&&n.font==="mathit")&&(u=0),l=new an(t,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+e+"' and mode '"+i+"'")),l=new an(t,0,0,0,0,0,a);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var f=n.getColor();f&&(l.style.color=f)}return l},xz=function(t,e,i,n){return n===void 0&&(n=[]),i.font==="boldsymbol"&&sp(t,"Main-Bold",e).metrics?pn(t,"Main-Bold",e,i,n.concat(["mathbf"])):t==="\\"||Gt[e][t].font==="main"?pn(t,"Main-Regular",e,i,n):pn(t,"AMS-Regular",e,i,n.concat(["amsrm"]))},Sz=function(t,e,i,n,a){return a!=="textord"&&sp(t,"Math-BoldItalic",e).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Ez=function(t,e,i){var n=t.mode,a=t.text,s=["mord"],o=n==="math"||n==="text"&&e.font,l=o?e.font:e.fontFamily,u="",f="";if(a.charCodeAt(0)===55349&&([u,f]=wz(a,n)),u.length>0)return pn(a,u,n,e,s.concat(f));if(l){var h,c;if(l==="boldsymbol"){var m=Sz(a,n,e,s,i);h=m.fontName,c=[m.fontClass]}else o?(h=e8[l].fontName,c=[l]):(h=th(l,e.fontWeight,e.fontShape),c=[l,e.fontWeight,e.fontShape]);if(sp(a,h,n).metrics)return pn(a,h,n,e,s.concat(c));if(JS.hasOwnProperty(a)&&h.slice(0,10)==="Typewriter"){for(var d=[],v=0;v<a.length;v++)d.push(pn(a[v],h,n,e,s.concat(c)));return ZS(d)}}if(i==="mathord")return pn(a,"Math-Italic",n,e,s.concat(["mathnormal"]));if(i==="textord"){var b=Gt[n][a]&&Gt[n][a].font;if(b==="ams"){var g=th("amsrm",e.fontWeight,e.fontShape);return pn(a,g,n,e,s.concat("amsrm",e.fontWeight,e.fontShape))}else if(b==="main"||!b){var y=th("textrm",e.fontWeight,e.fontShape);return pn(a,y,n,e,s.concat(e.fontWeight,e.fontShape))}else{var _=th(b,e.fontWeight,e.fontShape);return pn(a,_,n,e,s.concat(_,e.fontWeight,e.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},kz=(r,t)=>{if(Fs(r.classes)!==Fs(t.classes)||r.skew!==t.skew||r.maxFontSize!==t.maxFontSize)return!1;if(r.classes.length===1){var e=r.classes[0];if(e==="mbin"||e==="mord")return!1}for(var i in r.style)if(r.style.hasOwnProperty(i)&&r.style[i]!==t.style[i])return!1;for(var n in t.style)if(t.style.hasOwnProperty(n)&&r.style[n]!==t.style[n])return!1;return!0},Tz=r=>{for(var t=0;t<r.length-1;t++){var e=r[t],i=r[t+1];e instanceof an&&i instanceof an&&kz(e,i)&&(e.text+=i.text,e.height=Math.max(e.height,i.height),e.depth=Math.max(e.depth,i.depth),e.italic=i.italic,r.splice(t+1,1),t--)}return r},Hb=function(t){for(var e=0,i=0,n=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>e&&(e=s.height),s.depth>i&&(i=s.depth),s.maxFontSize>n&&(n=s.maxFontSize)}t.height=e,t.depth=i,t.maxFontSize=n},fi=function(t,e,i,n){var a=new Jf(t,e,i,n);return Hb(a),a},QS=(r,t,e,i)=>new Jf(r,t,e,i),Oz=function(t,e,i){var n=fi([t],[],e);return n.height=Math.max(i||e.fontMetrics().defaultRuleThickness,e.minRuleThickness),n.style.borderBottomWidth=Ue(n.height),n.maxFontSize=1,n},Az=function(t,e,i,n){var a=new qb(t,e,i,n);return Hb(a),a},ZS=function(t){var e=new Yf(t);return Hb(e),e},Iz=function(t,e){return t instanceof Yf?fi([],[t],e):t},Cz=function(t){if(t.positionType==="individualShift"){for(var e=t.children,i=[e[0]],n=-e[0].shift-e[0].elem.depth,a=n,s=1;s<e.length;s++){var o=-e[s].shift-a-e[s].elem.depth,l=o-(e[s-1].elem.height+e[s-1].elem.depth);a=a+o,i.push({type:"kern",size:l}),i.push(e[s])}return{children:i,depth:n}}var u;if(t.positionType==="top"){for(var f=t.positionData,h=0;h<t.children.length;h++){var c=t.children[h];f-=c.type==="kern"?c.size:c.elem.height+c.elem.depth}u=f}else if(t.positionType==="bottom")u=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},Pz=function(t,e){for(var{children:i,depth:n}=Cz(t),a=0,s=0;s<i.length;s++){var o=i[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=fi(["pstrut"],[]);u.style.height=Ue(a);for(var f=[],h=n,c=n,m=n,d=0;d<i.length;d++){var v=i[d];if(v.type==="kern")m+=v.size;else{var b=v.elem,g=v.wrapperClasses||[],y=v.wrapperStyle||{},_=fi(g,[u,b],void 0,y);_.style.top=Ue(-a-m-b.depth),v.marginLeft&&(_.style.marginLeft=v.marginLeft),v.marginRight&&(_.style.marginRight=v.marginRight),f.push(_),m+=b.height+b.depth}h=Math.min(h,m),c=Math.max(c,m)}var w=fi(["vlist"],f);w.style.height=Ue(c);var O;if(h<0){var I=fi([],[]),M=fi(["vlist"],[I]);M.style.height=Ue(-h);var T=fi(["vlist-s"],[new an("​")]);O=[fi(["vlist-r"],[w,T]),fi(["vlist-r"],[M])]}else O=[fi(["vlist-r"],[w])];var E=fi(["vlist-t"],O);return O.length===2&&E.classes.push("vlist-t2"),E.height=c,E.depth=-h,E},Dz=(r,t)=>{var e=fi(["mspace"],[],t),i=Qt(r,t);return e.style.marginRight=Ue(i),e},th=function(t,e,i){var n="";switch(t){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=t}var a;return e==="textbf"&&i==="textit"?a="BoldItalic":e==="textbf"?a="Bold":e==="textit"?a="Italic":a="Regular",n+"-"+a},e8={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},t8={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Nz=function(t,e){var[i,n,a]=t8[t],s=new zs(i),o=new ya([s],{width:Ue(n),height:Ue(a),style:"width:"+Ue(n),viewBox:"0 0 "+1e3*n+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=QS(["overlay"],[o],e);return l.height=a,l.style.height=Ue(a),l.style.width=Ue(n),l},$e={fontMap:e8,makeSymbol:pn,mathsym:xz,makeSpan:fi,makeSvgSpan:QS,makeLineSpan:Oz,makeAnchor:Az,makeFragment:ZS,wrapFragment:Iz,makeVList:Pz,makeOrd:Ez,makeGlue:Dz,staticSvg:Nz,svgData:t8,tryCombineChars:Tz},Jt={number:3,unit:"mu"},oo={number:4,unit:"mu"},ia={number:5,unit:"mu"},Rz={mord:{mop:Jt,mbin:oo,mrel:ia,minner:Jt},mop:{mord:Jt,mop:Jt,mrel:ia,minner:Jt},mbin:{mord:oo,mop:oo,mopen:oo,minner:oo},mrel:{mord:ia,mop:ia,mopen:ia,minner:ia},mopen:{},mclose:{mop:Jt,mbin:oo,mrel:ia,minner:Jt},mpunct:{mord:Jt,mop:Jt,mrel:ia,mopen:Jt,mclose:Jt,mpunct:Jt,minner:Jt},minner:{mord:Jt,mop:Jt,mbin:oo,mrel:ia,mopen:Jt,mpunct:Jt,minner:Jt}},Mz={mord:{mop:Jt},mop:{mord:Jt,mop:Jt},mbin:{},mrel:{},mopen:{},mclose:{mop:Jt},mpunct:{},minner:{mop:Jt}},r8={},$m={},_m={};function We(r){for(var{type:t,names:e,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=r,o={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:n},l=0;l<e.length;++l)r8[e[l]]=o;t&&(a&&($m[t]=a),s&&(_m[t]=s))}function Ho(r){var{type:t,htmlBuilder:e,mathmlBuilder:i}=r;We({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:e,mathmlBuilder:i})}var wm=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},ur=function(t){return t.type==="ordgroup"?t.body:[t]},$a=$e.makeSpan,Bz=["leftmost","mbin","mopen","mrel","mop","mpunct"],Fz=["rightmost","mrel","mclose","mpunct"],zz={display:rt.DISPLAY,text:rt.TEXT,script:rt.SCRIPT,scriptscript:rt.SCRIPTSCRIPT},Lz={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},_r=function(t,e,i,n){n===void 0&&(n=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=St(t[s],e);if(o instanceof Yf){var l=o.children;a.push(...l)}else a.push(o)}if($e.tryCombineChars(a),!i)return a;var u=e;if(t.length===1){var f=t[0];f.type==="sizing"?u=e.havingSize(f.size):f.type==="styling"&&(u=e.havingStyle(zz[f.style]))}var h=$a([n[0]||"leftmost"],[],e),c=$a([n[1]||"rightmost"],[],e),m=i==="root";return D2(a,(d,v)=>{var b=v.classes[0],g=d.classes[0];b==="mbin"&&et.contains(Fz,g)?v.classes[0]="mord":g==="mbin"&&et.contains(Bz,b)&&(d.classes[0]="mord")},{node:h},c,m),D2(a,(d,v)=>{var b=r1(v),g=r1(d),y=b&&g?d.hasClass("mtight")?Mz[b][g]:Rz[b][g]:null;if(y)return $e.makeGlue(y,u)},{node:h},c,m),a},D2=function r(t,e,i,n,a){n&&t.push(n);for(var s=0;s<t.length;s++){var o=t[s],l=i8(o);if(l){r(l.children,e,i,null,a);continue}var u=!o.hasClass("mspace");if(u){var f=e(o,i.node);f&&(i.insertAfter?i.insertAfter(f):(t.unshift(f),s++))}u?i.node=o:a&&o.hasClass("newline")&&(i.node=$a(["leftmost"])),i.insertAfter=(h=>c=>{t.splice(h+1,0,c),s++})(s)}n&&t.pop()},i8=function(t){return t instanceof Yf||t instanceof qb||t instanceof Jf&&t.hasClass("enclosing")?t:null},jz=function r(t,e){var i=i8(t);if(i){var n=i.children;if(n.length){if(e==="right")return r(n[n.length-1],"right");if(e==="left")return r(n[0],"left")}}return t},r1=function(t,e){return t?(e&&(t=jz(t,e)),Lz[t.classes[0]]||null):null},If=function(t,e){var i=["nulldelimiter"].concat(t.baseSizingClasses());return $a(e.concat(i))},St=function(t,e,i){if(!t)return $a();if($m[t.type]){var n=$m[t.type](t,e);if(i&&e.size!==i.size){n=$a(e.sizingClasses(i),[n],e);var a=e.sizeMultiplier/i.sizeMultiplier;n.height*=a,n.depth*=a}return n}else throw new Be("Got group of unknown type: '"+t.type+"'")};function rh(r,t){var e=$a(["base"],r,t),i=$a(["strut"]);return i.style.height=Ue(e.height+e.depth),e.depth&&(i.style.verticalAlign=Ue(-e.depth)),e.children.unshift(i),e}function i1(r,t){var e=null;r.length===1&&r[0].type==="tag"&&(e=r[0].tag,r=r[0].body);var i=_r(r,t,"root"),n;i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var a=[],s=[],o=0;o<i.length;o++)if(s.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var l=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,s.push(i[o]),i[o].hasClass("nobreak")&&(l=!0);l||(a.push(rh(s,t)),s=[])}else i[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(rh(s,t)),s=[]),a.push(i[o]));s.length>0&&a.push(rh(s,t));var u;e?(u=rh(_r(e,t,!0)),u.classes=["tag"],a.push(u)):n&&a.push(n);var f=$a(["katex-html"],a);if(f.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=Ue(f.height+f.depth),f.depth&&(h.style.verticalAlign=Ue(-f.depth))}return f}function n8(r){return new Yf(r)}class Vi{constructor(t,e,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=e||[],this.classes=i||[]}setAttribute(t,e){this.attributes[t]=e}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);this.classes.length>0&&(t.className=Fs(this.classes));for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var t="<"+this.type;for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=et.escape(this.attributes[e]),t+='"');this.classes.length>0&&(t+=' class ="'+et.escape(Fs(this.classes))+'"'),t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class sf{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return et.escape(this.toText())}toText(){return this.text}}class Uz{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Ue(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ue(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Re={MathNode:Vi,TextNode:sf,SpaceNode:Uz,newDocumentFragment:n8},sn=function(t,e,i){return Gt[e][t]&&Gt[e][t].replace&&t.charCodeAt(0)!==55349&&!(JS.hasOwnProperty(t)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(t=Gt[e][t].replace),new Re.TextNode(t)},Gb=function(t){return t.length===1?t[0]:new Re.MathNode("mrow",t)},Wb=function(t,e){if(e.fontFamily==="texttt")return"monospace";if(e.fontFamily==="textsf")return e.fontShape==="textit"&&e.fontWeight==="textbf"?"sans-serif-bold-italic":e.fontShape==="textit"?"sans-serif-italic":e.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(e.fontShape==="textit"&&e.fontWeight==="textbf")return"bold-italic";if(e.fontShape==="textit")return"italic";if(e.fontWeight==="textbf")return"bold";var i=e.font;if(!i||i==="mathnormal")return null;var n=t.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=t.text;if(et.contains(["\\imath","\\jmath"],a))return null;Gt[n][a]&&Gt[n][a].replace&&(a=Gt[n][a].replace);var s=$e.fontMap[i].fontName;return Ub(a,s,n)?$e.fontMap[i].variant:null},$i=function(t,e,i){if(t.length===1){var n=Bt(t[0],e);return i&&n instanceof Vi&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var a=[],s,o=0;o<t.length;o++){var l=Bt(t[o],e);if(l instanceof Vi&&s instanceof Vi){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof sf&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var f=s.children[0];if(f instanceof sf&&f.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof sf&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Ls=function(t,e,i){return Gb($i(t,e,i))},Bt=function(t,e){if(!t)return new Re.MathNode("mrow");if(_m[t.type]){var i=_m[t.type](t,e);return i}else throw new Be("Got group of unknown type: '"+t.type+"'")};function N2(r,t,e,i,n){var a=$i(r,e),s;a.length===1&&a[0]instanceof Vi&&et.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new Re.MathNode("mrow",a);var o=new Re.MathNode("annotation",[new Re.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new Re.MathNode("semantics",[s,o]),u=new Re.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var f=n?"katex":"katex-mathml";return $e.makeSpan([f],[u])}var a8=function(t){return new aa({style:t.displayMode?rt.DISPLAY:rt.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},s8=function(t,e){if(e.displayMode){var i=["katex-display"];e.leqno&&i.push("leqno"),e.fleqn&&i.push("fleqn"),t=$e.makeSpan(i,[t])}return t},qz=function(t,e,i){var n=a8(i),a;if(i.output==="mathml")return N2(t,e,n,i.displayMode,!0);if(i.output==="html"){var s=i1(t,n);a=$e.makeSpan(["katex"],[s])}else{var o=N2(t,e,n,i.displayMode,!1),l=i1(t,n);a=$e.makeSpan(["katex"],[o,l])}return s8(a,i)},Hz=function(t,e,i){var n=a8(i),a=i1(t,n),s=$e.makeSpan(["katex"],[a]);return s8(s,i)},Gz={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Wz=function(t){var e=new Re.MathNode("mo",[new Re.TextNode(Gz[t.replace(/^\\/,"")])]);return e.setAttribute("stretchy","true"),e},Vz={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Xz=function(t){return t.type==="ordgroup"?t.body.length:1},Kz=function(t,e){function i(){var o=4e5,l=t.label.slice(1);if(et.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=t,f=Xz(u.base),h,c,m;if(f>5)l==="widehat"||l==="widecheck"?(h=420,o=2364,m=.42,c=l+"4"):(h=312,o=2340,m=.34,c="tilde4");else{var d=[1,1,2,2,3,3][f];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][d],h=[0,239,300,360,420][d],m=[0,.24,.3,.3,.36,.42][d],c=l+d):(o=[0,600,1033,2339,2340][d],h=[0,260,286,306,312][d],m=[0,.26,.286,.3,.306,.34][d],c="tilde"+d)}var v=new zs(c),b=new ya([v],{width:"100%",height:Ue(m),viewBox:"0 0 "+o+" "+h,preserveAspectRatio:"none"});return{span:$e.makeSvgSpan([],[b],e),minWidth:0,height:m}}else{var g=[],y=Vz[l],[_,w,O]=y,I=O/1e3,M=_.length,T,E;if(M===1){var q=y[3];T=["hide-tail"],E=[q]}else if(M===2)T=["halfarrow-left","halfarrow-right"],E=["xMinYMin","xMaxYMin"];else if(M===3)T=["brace-left","brace-center","brace-right"],E=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+M+" children.");for(var k=0;k<M;k++){var j=new zs(_[k]),J=new ya([j],{width:"400em",height:Ue(I),viewBox:"0 0 "+o+" "+O,preserveAspectRatio:E[k]+" slice"}),Q=$e.makeSvgSpan([T[k]],[J],e);if(M===1)return{span:Q,minWidth:w,height:I};Q.style.height=Ue(I),g.push(Q)}return{span:$e.makeSpan(["stretchy"],g,e),minWidth:w,height:I}}}var{span:n,minWidth:a,height:s}=i();return n.height=s,n.style.height=Ue(s),a>0&&(n.style.minWidth=Ue(a)),n},Yz=function(t,e,i,n,a){var s,o=t.height+t.depth+i+n;if(/fbox|color|angl/.test(e)){if(s=$e.makeSpan(["stretchy",e],[],a),e==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(e)&&u.push(new e1({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(e)&&u.push(new e1({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new ya(u,{width:"100%",height:Ue(o)});s=$e.makeSvgSpan([],[f],a)}return s.height=o,s.style.height=Ue(o),s},_a={encloseSpan:Yz,mathMLnode:Wz,svgSpan:Kz};function ft(r,t){if(!r||r.type!==t)throw new Error("Expected node of type "+t+", but got "+(r?"node of type "+r.type:String(r)));return r}function Vb(r){var t=op(r);if(!t)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return t}function op(r){return r&&(r.type==="atom"||_z.hasOwnProperty(r.type))?r:null}var Xb=(r,t)=>{var e,i,n;r&&r.type==="supsub"?(i=ft(r.base,"accent"),e=i.base,r.base=e,n=yz(St(r,t)),r.base=i):(i=ft(r,"accent"),e=i.base);var a=St(e,t.havingCrampedStyle()),s=i.isShifty&&et.isCharacterBox(e),o=0;if(s){var l=et.getBaseElem(e),u=St(l,t.havingCrampedStyle());o=T2(u).skew}var f=i.label==="\\c",h=f?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),c;if(i.isStretchy)c=_a.svgSpan(i,t),c=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:c,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Ue(2*o)+")",marginLeft:Ue(2*o)}:void 0}]},t);else{var m,d;i.label==="\\vec"?(m=$e.staticSvg("vec",t),d=$e.svgData.vec[1]):(m=$e.makeOrd({mode:i.mode,text:i.label},t,"textord"),m=T2(m),m.italic=0,d=m.width,f&&(h+=m.depth)),c=$e.makeSpan(["accent-body"],[m]);var v=i.label==="\\textcircled";v&&(c.classes.push("accent-full"),h=a.height);var b=o;v||(b-=d/2),c.style.left=Ue(b),i.label==="\\textcircled"&&(c.style.top=".2em"),c=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-h},{type:"elem",elem:c}]},t)}var g=$e.makeSpan(["mord","accent"],[c],t);return n?(n.children[0]=g,n.height=Math.max(g.height,n.height),n.classes[0]="mord",n):g},o8=(r,t)=>{var e=r.isStretchy?_a.mathMLnode(r.label):new Re.MathNode("mo",[sn(r.label,r.mode)]),i=new Re.MathNode("mover",[Bt(r.base,t),e]);return i.setAttribute("accent","true"),i},Jz=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));We({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,t)=>{var e=wm(t[0]),i=!Jz.test(r.funcName),n=!i||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:i,isShifty:n,base:e}},htmlBuilder:Xb,mathmlBuilder:o8});We({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,t)=>{var e=t[0],i=r.parser.mode;return i==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:r.funcName,isStretchy:!1,isShifty:!0,base:e}},htmlBuilder:Xb,mathmlBuilder:o8});We({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0];return{type:"accentUnder",mode:e.mode,label:i,base:n}},htmlBuilder:(r,t)=>{var e=St(r.base,t),i=_a.svgSpan(r,t),n=r.label==="\\utilde"?.12:0,a=$e.makeVList({positionType:"top",positionData:e.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:e}]},t);return $e.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(r,t)=>{var e=_a.mathMLnode(r.label),i=new Re.MathNode("munder",[Bt(r.base,t),e]);return i.setAttribute("accentunder","true"),i}});var ih=r=>{var t=new Re.MathNode("mpadded",r?[r]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};We({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,t,e){var{parser:i,funcName:n}=r;return{type:"xArrow",mode:i.mode,label:n,body:t[0],below:e[0]}},htmlBuilder(r,t){var e=t.style,i=t.havingStyle(e.sup()),n=$e.wrapFragment(St(r.body,i,t),t),a=r.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(a+"-arrow-pad");var s;r.below&&(i=t.havingStyle(e.sub()),s=$e.wrapFragment(St(r.below,i,t),t),s.classes.push(a+"-arrow-pad"));var o=_a.svgSpan(r,t),l=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(n.depth>.25||r.label==="\\xleftequilibrium")&&(u-=n.depth);var f;if(s){var h=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;f=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:h}]},t)}else f=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l}]},t);return f.children[0].children[0].children[1].classes.push("svg-align"),$e.makeSpan(["mrel","x-arrow"],[f],t)},mathmlBuilder(r,t){var e=_a.mathMLnode(r.label);e.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(r.body){var n=ih(Bt(r.body,t));if(r.below){var a=ih(Bt(r.below,t));i=new Re.MathNode("munderover",[e,a,n])}else i=new Re.MathNode("mover",[e,n])}else if(r.below){var s=ih(Bt(r.below,t));i=new Re.MathNode("munder",[e,s])}else i=ih(),i=new Re.MathNode("mover",[e,i]);return i}});var Qz=$e.makeSpan;function l8(r,t){var e=_r(r.body,t,!0);return Qz([r.mclass],e,t)}function u8(r,t){var e,i=$i(r.body,t);return r.mclass==="minner"?e=new Re.MathNode("mpadded",i):r.mclass==="mord"?r.isCharacterBox?(e=i[0],e.type="mi"):e=new Re.MathNode("mi",i):(r.isCharacterBox?(e=i[0],e.type="mo"):e=new Re.MathNode("mo",i),r.mclass==="mbin"?(e.attributes.lspace="0.22em",e.attributes.rspace="0.22em"):r.mclass==="mpunct"?(e.attributes.lspace="0em",e.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(e.attributes.lspace="0em",e.attributes.rspace="0em"):r.mclass==="minner"&&(e.attributes.lspace="0.0556em",e.attributes.width="+0.1111em")),e}We({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];return{type:"mclass",mode:e.mode,mclass:"m"+i.slice(5),body:ur(n),isCharacterBox:et.isCharacterBox(n)}},htmlBuilder:l8,mathmlBuilder:u8});var lp=r=>{var t=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};We({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,t){var{parser:e}=r;return{type:"mclass",mode:e.mode,mclass:lp(t[0]),body:ur(t[1]),isCharacterBox:et.isCharacterBox(t[1])}}});We({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,t){var{parser:e,funcName:i}=r,n=t[1],a=t[0],s;i!=="\\stackrel"?s=lp(n):s="mrel";var o={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:ur(n)},l={type:"supsub",mode:a.mode,base:o,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:e.mode,mclass:s,body:[l],isCharacterBox:et.isCharacterBox(l)}},htmlBuilder:l8,mathmlBuilder:u8});We({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,t){var{parser:e}=r;return{type:"pmb",mode:e.mode,mclass:lp(t[0]),body:ur(t[0])}},htmlBuilder(r,t){var e=_r(r.body,t,!0),i=$e.makeSpan([r.mclass],e,t);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(r,t){var e=$i(r.body,t),i=new Re.MathNode("mstyle",e);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var Zz={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},R2=()=>({type:"styling",body:[],mode:"math",style:"display"}),M2=r=>r.type==="textord"&&r.text==="@",eL=(r,t)=>(r.type==="mathord"||r.type==="atom")&&r.text===t;function tL(r,t,e){var i=Zz[r];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return e.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var n=e.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=e.callFunction("\\Big",[a],[]),o=e.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[n,s,o]};return e.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return e.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return e.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function rL(r){var t=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){t.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var e=r.fetch().text;if(e==="&"||e==="\\\\")r.consume();else if(e==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new Be("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var i=[],n=[i],a=0;a<t.length;a++){for(var s=t[a],o=R2(),l=0;l<s.length;l++)if(!M2(s[l]))o.body.push(s[l]);else{i.push(o),l+=1;var u=Vb(s[l]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var c=!0,m=l+1;m<s.length;m++){if(eL(s[m],u)){c=!1,l=m;break}if(M2(s[m]))throw new Be("Missing a "+u+" character to complete a CD arrow.",s[m]);f[h].body.push(s[m])}if(c)throw new Be("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new Be('Expected one of "<>AV=|." after @',s[l]);var d=tL(u,f,r),v={type:"styling",body:[d],mode:"math",style:"display"};i.push(v),o=R2()}a%2===0?i.push(o):i.shift(),i=[],n.push(i)}r.gullet.endGroup(),r.gullet.endGroup();var b=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}We({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,t){var{parser:e,funcName:i}=r;return{type:"cdlabel",mode:e.mode,side:i.slice(4),label:t[0]}},htmlBuilder(r,t){var e=t.havingStyle(t.style.sup()),i=$e.wrapFragment(St(r.label,e,t),t);return i.classes.push("cd-label-"+r.side),i.style.bottom=Ue(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(r,t){var e=new Re.MathNode("mrow",[Bt(r.label,t)]);return e=new Re.MathNode("mpadded",[e]),e.setAttribute("width","0"),r.side==="left"&&e.setAttribute("lspace","-1width"),e.setAttribute("voffset","0.7em"),e=new Re.MathNode("mstyle",[e]),e.setAttribute("displaystyle","false"),e.setAttribute("scriptlevel","1"),e}});We({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,t){var{parser:e}=r;return{type:"cdlabelparent",mode:e.mode,fragment:t[0]}},htmlBuilder(r,t){var e=$e.wrapFragment(St(r.fragment,t),t);return e.classes.push("cd-vert-arrow"),e},mathmlBuilder(r,t){return new Re.MathNode("mrow",[Bt(r.fragment,t)])}});We({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,t){for(var{parser:e}=r,i=ft(t[0],"ordgroup"),n=i.body,a="",s=0;s<n.length;s++){var o=ft(n[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new Be("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new Be("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:e.mode,text:u}}});var f8=(r,t)=>{var e=_r(r.body,t.withColor(r.color),!1);return $e.makeFragment(e)},c8=(r,t)=>{var e=$i(r.body,t.withColor(r.color)),i=new Re.MathNode("mstyle",e);return i.setAttribute("mathcolor",r.color),i};We({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,t){var{parser:e}=r,i=ft(t[0],"color-token").color,n=t[1];return{type:"color",mode:e.mode,color:i,body:ur(n)}},htmlBuilder:f8,mathmlBuilder:c8});We({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,t){var{parser:e,breakOnTokenText:i}=r,n=ft(t[0],"color-token").color;e.gullet.macros.set("\\current@color",n);var a=e.parseExpression(!0,i);return{type:"color",mode:e.mode,color:n,body:a}},htmlBuilder:f8,mathmlBuilder:c8});We({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,t,e){var{parser:i}=r,n=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:n&&ft(n,"size").value}},htmlBuilder(r,t){var e=$e.makeSpan(["mspace"],[],t);return r.newLine&&(e.classes.push("newline"),r.size&&(e.style.marginTop=Ue(Qt(r.size,t)))),e},mathmlBuilder(r,t){var e=new Re.MathNode("mspace");return r.newLine&&(e.setAttribute("linebreak","newline"),r.size&&e.setAttribute("height",Ue(Qt(r.size,t)))),e}});var n1={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},h8=r=>{var t=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Be("Expected a control sequence",r);return t},iL=r=>{var t=r.gullet.popToken();return t.text==="="&&(t=r.gullet.popToken(),t.text===" "&&(t=r.gullet.popToken())),t},m8=(r,t,e,i)=>{var n=r.gullet.macros.get(e.text);n==null&&(e.noexpand=!0,n={tokens:[e],numArgs:0,unexpandable:!r.gullet.isExpandable(e.text)}),r.gullet.macros.set(t,n,i)};We({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:t,funcName:e}=r;t.consumeSpaces();var i=t.fetch();if(n1[i.text])return(e==="\\global"||e==="\\\\globallong")&&(i.text=n1[i.text]),ft(t.parseFunction(),"internal");throw new Be("Invalid token after macro prefix",i)}});We({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:t,funcName:e}=r,i=t.gullet.popToken(),n=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new Be("Expected a control sequence",i);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(i=t.gullet.popToken(),i.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new Be('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new Be('Argument number "'+i.text+'" out of order');a++,o.push([])}else{if(i.text==="EOF")throw new Be("Expected a macro definition");o[a].push(i.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(e==="\\edef"||e==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(n,{tokens:l,numArgs:a,delimiters:o},e===n1[e]),{type:"internal",mode:t.mode}}});We({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:t,funcName:e}=r,i=h8(t.gullet.popToken());t.gullet.consumeSpaces();var n=iL(t);return m8(t,i,n,e==="\\\\globallet"),{type:"internal",mode:t.mode}}});We({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:t,funcName:e}=r,i=h8(t.gullet.popToken()),n=t.gullet.popToken(),a=t.gullet.popToken();return m8(t,i,a,e==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(n),{type:"internal",mode:t.mode}}});var Zu=function(t,e,i){var n=Gt.math[t]&&Gt.math[t].replace,a=Ub(n||t,e,i);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+e+".");return a},Kb=function(t,e,i,n){var a=i.havingBaseStyle(e),s=$e.makeSpan(n.concat(a.sizingClasses(i)),[t],i),o=a.sizeMultiplier/i.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},p8=function(t,e,i){var n=e.havingBaseStyle(i),a=(1-e.sizeMultiplier/n.sizeMultiplier)*e.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Ue(a),t.height-=a,t.depth+=a},nL=function(t,e,i,n,a,s){var o=$e.makeSymbol(t,"Main-Regular",a,n),l=Kb(o,e,n,s);return i&&p8(l,n,e),l},aL=function(t,e,i,n){return $e.makeSymbol(t,"Size"+e+"-Regular",i,n)},d8=function(t,e,i,n,a,s){var o=aL(t,e,a,n),l=Kb($e.makeSpan(["delimsizing","size"+e],[o],n),rt.TEXT,n,s);return i&&p8(l,n,rt.TEXT),l},o0=function(t,e,i){var n;e==="Size1-Regular"?n="delim-size1":n="delim-size4";var a=$e.makeSpan(["delimsizinginner",n],[$e.makeSpan([],[$e.makeSymbol(t,e,i)])]);return{type:"elem",elem:a}},l0=function(t,e,i){var n=Fn["Size4-Regular"][t.charCodeAt(0)]?Fn["Size4-Regular"][t.charCodeAt(0)][4]:Fn["Size1-Regular"][t.charCodeAt(0)][4],a=new zs("inner",cz(t,Math.round(1e3*e))),s=new ya([a],{width:Ue(n),height:Ue(e),style:"width:"+Ue(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*e),preserveAspectRatio:"xMinYMin"}),o=$e.makeSvgSpan([],[s],i);return o.height=e,o.style.height=Ue(e),o.style.width=Ue(n),{type:"elem",elem:o}},a1=.008,nh={type:"kern",size:-1*a1},sL=["|","\\lvert","\\rvert","\\vert"],oL=["\\|","\\lVert","\\rVert","\\Vert"],v8=function(t,e,i,n,a,s){var o,l,u,f,h="",c=0;o=u=f=t,l=null;var m="Size1-Regular";t==="\\uparrow"?u=f="⏐":t==="\\Uparrow"?u=f="‖":t==="\\downarrow"?o=u="⏐":t==="\\Downarrow"?o=u="‖":t==="\\updownarrow"?(o="\\uparrow",u="⏐",f="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="‖",f="\\Downarrow"):et.contains(sL,t)?(u="∣",h="vert",c=333):et.contains(oL,t)?(u="∥",h="doublevert",c=556):t==="["||t==="\\lbrack"?(o="⎡",u="⎢",f="⎣",m="Size4-Regular",h="lbrack",c=667):t==="]"||t==="\\rbrack"?(o="⎤",u="⎥",f="⎦",m="Size4-Regular",h="rbrack",c=667):t==="\\lfloor"||t==="⌊"?(u=o="⎢",f="⎣",m="Size4-Regular",h="lfloor",c=667):t==="\\lceil"||t==="⌈"?(o="⎡",u=f="⎢",m="Size4-Regular",h="lceil",c=667):t==="\\rfloor"||t==="⌋"?(u=o="⎥",f="⎦",m="Size4-Regular",h="rfloor",c=667):t==="\\rceil"||t==="⌉"?(o="⎤",u=f="⎥",m="Size4-Regular",h="rceil",c=667):t==="("||t==="\\lparen"?(o="⎛",u="⎜",f="⎝",m="Size4-Regular",h="lparen",c=875):t===")"||t==="\\rparen"?(o="⎞",u="⎟",f="⎠",m="Size4-Regular",h="rparen",c=875):t==="\\{"||t==="\\lbrace"?(o="⎧",l="⎨",f="⎩",u="⎪",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="⎫",l="⎬",f="⎭",u="⎪",m="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(o="⎧",f="⎩",u="⎪",m="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(o="⎫",f="⎭",u="⎪",m="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(o="⎧",f="⎭",u="⎪",m="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(o="⎫",f="⎩",u="⎪",m="Size4-Regular");var d=Zu(o,m,a),v=d.height+d.depth,b=Zu(u,m,a),g=b.height+b.depth,y=Zu(f,m,a),_=y.height+y.depth,w=0,O=1;if(l!==null){var I=Zu(l,m,a);w=I.height+I.depth,O=2}var M=v+_+w,T=Math.max(0,Math.ceil((e-M)/(O*g))),E=M+T*O*g,q=n.fontMetrics().axisHeight;i&&(q*=n.sizeMultiplier);var k=E/2-q,j=[];if(h.length>0){var J=E-v-_,Q=Math.round(E*1e3),R=hz(h,Math.round(J*1e3)),B=new zs(h,R),U=(c/1e3).toFixed(3)+"em",te=(Q/1e3).toFixed(3)+"em",de=new ya([B],{width:U,height:te,viewBox:"0 0 "+c+" "+Q}),me=$e.makeSvgSpan([],[de],n);me.height=Q/1e3,me.style.width=U,me.style.height=te,j.push({type:"elem",elem:me})}else{if(j.push(o0(f,m,a)),j.push(nh),l===null){var ee=E-v-_+2*a1;j.push(l0(u,ee,n))}else{var re=(E-v-_-w)/2+2*a1;j.push(l0(u,re,n)),j.push(nh),j.push(o0(l,m,a)),j.push(nh),j.push(l0(u,re,n))}j.push(nh),j.push(o0(o,m,a))}var ue=n.havingBaseStyle(rt.TEXT),Te=$e.makeVList({positionType:"bottom",positionData:k,children:j},ue);return Kb($e.makeSpan(["delimsizing","mult"],[Te],ue),rt.TEXT,n,s)},u0=80,f0=.08,c0=function(t,e,i,n,a){var s=fz(t,n,i),o=new zs(t,s),l=new ya([o],{width:"400em",height:Ue(e),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return $e.makeSvgSpan(["hide-tail"],[l],a)},lL=function(t,e){var i=e.havingBaseSizing(),n=$8("\\surd",t*i.sizeMultiplier,y8,i),a=i.sizeMultiplier,s=Math.max(0,e.minRuleThickness-e.fontMetrics().sqrtRuleThickness),o,l=0,u=0,f=0,h;return n.type==="small"?(f=1e3+1e3*s+u0,t<1?a=1:t<1.4&&(a=.7),l=(1+s+f0)/a,u=(1+s)/a,o=c0("sqrtMain",l,f,s,e),o.style.minWidth="0.853em",h=.833/a):n.type==="large"?(f=(1e3+u0)*of[n.size],u=(of[n.size]+s)/a,l=(of[n.size]+s+f0)/a,o=c0("sqrtSize"+n.size,l,f,s,e),o.style.minWidth="1.02em",h=1/a):(l=t+s+f0,u=t+s,f=Math.floor(1e3*t+s)+u0,o=c0("sqrtTall",l,f,s,e),o.style.minWidth="0.742em",h=1.056),o.height=u,o.style.height=Ue(l),{span:o,advanceWidth:h,ruleWidth:(e.fontMetrics().sqrtRuleThickness+s)*a}},g8=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],uL=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],b8=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],of=[0,1.2,1.8,2.4,3],fL=function(t,e,i,n,a){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),et.contains(g8,t)||et.contains(b8,t))return d8(t,e,!1,i,n,a);if(et.contains(uL,t))return v8(t,of[e],!1,i,n,a);throw new Be("Illegal delimiter: '"+t+"'")},cL=[{type:"small",style:rt.SCRIPTSCRIPT},{type:"small",style:rt.SCRIPT},{type:"small",style:rt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],hL=[{type:"small",style:rt.SCRIPTSCRIPT},{type:"small",style:rt.SCRIPT},{type:"small",style:rt.TEXT},{type:"stack"}],y8=[{type:"small",style:rt.SCRIPTSCRIPT},{type:"small",style:rt.SCRIPT},{type:"small",style:rt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],mL=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},$8=function(t,e,i,n){for(var a=Math.min(2,3-n.style.size),s=a;s<i.length&&i[s].type!=="stack";s++){var o=Zu(t,mL(i[s]),"math"),l=o.height+o.depth;if(i[s].type==="small"){var u=n.havingBaseStyle(i[s].style);l*=u.sizeMultiplier}if(l>e)return i[s]}return i[i.length-1]},_8=function(t,e,i,n,a,s){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var o;et.contains(b8,t)?o=cL:et.contains(g8,t)?o=y8:o=hL;var l=$8(t,e,o,n);return l.type==="small"?nL(t,l.style,i,n,a,s):l.type==="large"?d8(t,l.size,i,n,a,s):v8(t,e,i,n,a,s)},pL=function(t,e,i,n,a,s){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,l=901,u=5/n.fontMetrics().ptPerEm,f=Math.max(e-o,i+o),h=Math.max(f/500*l,2*f-u);return _8(t,h,!0,n,a,s)},la={sqrtImage:lL,sizedDelim:fL,sizeToMaxHeight:of,customSizedDelim:_8,leftRightDelim:pL},B2={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dL=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function up(r,t){var e=op(r);if(e&&et.contains(dL,e.text))return e;throw e?new Be("Invalid delimiter '"+e.text+"' after '"+t.funcName+"'",r):new Be("Invalid delimiter type '"+r.type+"'",r)}We({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,t)=>{var e=up(t[0],r);return{type:"delimsizing",mode:r.parser.mode,size:B2[r.funcName].size,mclass:B2[r.funcName].mclass,delim:e.text}},htmlBuilder:(r,t)=>r.delim==="."?$e.makeSpan([r.mclass]):la.sizedDelim(r.delim,r.size,t,r.mode,[r.mclass]),mathmlBuilder:r=>{var t=[];r.delim!=="."&&t.push(sn(r.delim,r.mode));var e=new Re.MathNode("mo",t);r.mclass==="mopen"||r.mclass==="mclose"?e.setAttribute("fence","true"):e.setAttribute("fence","false"),e.setAttribute("stretchy","true");var i=Ue(la.sizeToMaxHeight[r.size]);return e.setAttribute("minsize",i),e.setAttribute("maxsize",i),e}});function F2(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}We({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var e=r.parser.gullet.macros.get("\\current@color");if(e&&typeof e!="string")throw new Be("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:up(t[0],r).text,color:e}}});We({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var e=up(t[0],r),i=r.parser;++i.leftrightDepth;var n=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=ft(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:n,left:e.text,right:a.delim,rightColor:a.color}},htmlBuilder:(r,t)=>{F2(r);for(var e=_r(r.body,t,!0,["mopen","mclose"]),i=0,n=0,a=!1,s=0;s<e.length;s++)e[s].isMiddle?a=!0:(i=Math.max(e[s].height,i),n=Math.max(e[s].depth,n));i*=t.sizeMultiplier,n*=t.sizeMultiplier;var o;if(r.left==="."?o=If(t,["mopen"]):o=la.leftRightDelim(r.left,i,n,t,r.mode,["mopen"]),e.unshift(o),a)for(var l=1;l<e.length;l++){var u=e[l],f=u.isMiddle;f&&(e[l]=la.leftRightDelim(f.delim,i,n,f.options,r.mode,[]))}var h;if(r.right===".")h=If(t,["mclose"]);else{var c=r.rightColor?t.withColor(r.rightColor):t;h=la.leftRightDelim(r.right,i,n,c,r.mode,["mclose"])}return e.push(h),$e.makeSpan(["minner"],e,t)},mathmlBuilder:(r,t)=>{F2(r);var e=$i(r.body,t);if(r.left!=="."){var i=new Re.MathNode("mo",[sn(r.left,r.mode)]);i.setAttribute("fence","true"),e.unshift(i)}if(r.right!=="."){var n=new Re.MathNode("mo",[sn(r.right,r.mode)]);n.setAttribute("fence","true"),r.rightColor&&n.setAttribute("mathcolor",r.rightColor),e.push(n)}return Gb(e)}});We({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var e=up(t[0],r);if(!r.parser.leftrightDepth)throw new Be("\\middle without preceding \\left",e);return{type:"middle",mode:r.parser.mode,delim:e.text}},htmlBuilder:(r,t)=>{var e;if(r.delim===".")e=If(t,[]);else{e=la.sizedDelim(r.delim,1,t,r.mode,[]);var i={delim:r.delim,options:t};e.isMiddle=i}return e},mathmlBuilder:(r,t)=>{var e=r.delim==="\\vert"||r.delim==="|"?sn("|","text"):sn(r.delim,r.mode),i=new Re.MathNode("mo",[e]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var Yb=(r,t)=>{var e=$e.wrapFragment(St(r.body,t),t),i=r.label.slice(1),n=t.sizeMultiplier,a,s=0,o=et.isCharacterBox(r.body);if(i==="sout")a=$e.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/n,s=-.5*t.fontMetrics().xHeight;else if(i==="phase"){var l=Qt({number:.6,unit:"pt"},t),u=Qt({number:.35,unit:"ex"},t),f=t.havingBaseSizing();n=n/f.sizeMultiplier;var h=e.height+e.depth+l+u;e.style.paddingLeft=Ue(h/2+l);var c=Math.floor(1e3*h*n),m=lz(c),d=new ya([new zs("phase",m)],{width:"400em",height:Ue(c/1e3),viewBox:"0 0 400000 "+c,preserveAspectRatio:"xMinYMin slice"});a=$e.makeSvgSpan(["hide-tail"],[d],t),a.style.height=Ue(h),s=e.depth+l+u}else{/cancel/.test(i)?o||e.classes.push("cancel-pad"):i==="angl"?e.classes.push("anglpad"):e.classes.push("boxpad");var v=0,b=0,g=0;/box/.test(i)?(g=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),v=t.fontMetrics().fboxsep+(i==="colorbox"?0:g),b=v):i==="angl"?(g=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),v=4*g,b=Math.max(0,.25-e.depth)):(v=o?.2:0,b=v),a=_a.encloseSpan(e,i,v,b,t),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=Ue(g)):i==="angl"&&g!==.049&&(a.style.borderTopWidth=Ue(g),a.style.borderRightWidth=Ue(g)),s=e.depth+b,r.backgroundColor&&(a.style.backgroundColor=r.backgroundColor,r.borderColor&&(a.style.borderColor=r.borderColor))}var y;if(r.backgroundColor)y=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:e,shift:0}]},t);else{var _=/cancel|phase/.test(i)?["svg-align"]:[];y=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:e,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:_}]},t)}return/cancel/.test(i)&&(y.height=e.height,y.depth=e.depth),/cancel/.test(i)&&!o?$e.makeSpan(["mord","cancel-lap"],[y],t):$e.makeSpan(["mord"],[y],t)},Jb=(r,t)=>{var e=0,i=new Re.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Bt(r.body,t)]);switch(r.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(e=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*e+"pt"),i.setAttribute("height","+"+2*e+"pt"),i.setAttribute("lspace",e+"pt"),i.setAttribute("voffset",e+"pt"),r.label==="\\fcolorbox"){var n=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+n+"em solid "+String(r.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&i.setAttribute("mathbackground",r.backgroundColor),i};We({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,t,e){var{parser:i,funcName:n}=r,a=ft(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:n,backgroundColor:a,body:s}},htmlBuilder:Yb,mathmlBuilder:Jb});We({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,t,e){var{parser:i,funcName:n}=r,a=ft(t[0],"color-token").color,s=ft(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:i.mode,label:n,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:Yb,mathmlBuilder:Jb});We({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,t){var{parser:e}=r;return{type:"enclose",mode:e.mode,label:"\\fbox",body:t[0]}}});We({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];return{type:"enclose",mode:e.mode,label:i,body:n}},htmlBuilder:Yb,mathmlBuilder:Jb});We({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,t){var{parser:e}=r;return{type:"enclose",mode:e.mode,label:"\\angl",body:t[0]}}});var w8={};function Yn(r){for(var{type:t,names:e,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=r,o={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},l=0;l<e.length;++l)w8[e[l]]=o;a&&($m[t]=a),s&&(_m[t]=s)}var x8={};function H(r,t){x8[r]=t}function z2(r){var t=[];r.consumeSpaces();var e=r.fetch().text;for(e==="\\relax"&&(r.consume(),r.consumeSpaces(),e=r.fetch().text);e==="\\hline"||e==="\\hdashline";)r.consume(),t.push(e==="\\hdashline"),r.consumeSpaces(),e=r.fetch().text;return t}var fp=r=>{var t=r.parser.settings;if(!t.displayMode)throw new Be("{"+r.envName+"} can be used only in display mode.")};function Qb(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function Ws(r,t,e){var{hskipBeforeAndAfter:i,addJot:n,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:f,maxNumCols:h,leqno:c}=t;if(r.gullet.beginGroup(),u||r.gullet.macros.set("\\cr","\\\\\\relax"),!s){var m=r.gullet.expandMacroAsText("\\arraystretch");if(m==null)s=1;else if(s=parseFloat(m),!s||s<0)throw new Be("Invalid \\arraystretch: "+m)}r.gullet.beginGroup();var d=[],v=[d],b=[],g=[],y=l!=null?[]:void 0;function _(){l&&r.gullet.macros.set("\\@eqnsw","1",!0)}function w(){y&&(r.gullet.macros.get("\\df@tag")?(y.push(r.subparse([new en("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):y.push(!!l&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(_(),g.push(z2(r));;){var O=r.parseExpression(!1,u?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),O={type:"ordgroup",mode:r.mode,body:O},e&&(O={type:"styling",mode:r.mode,style:e,body:[O]}),d.push(O);var I=r.fetch().text;if(I==="&"){if(h&&d.length===h){if(u||o)throw new Be("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(I==="\\end"){w(),d.length===1&&O.type==="styling"&&O.body[0].body.length===0&&(v.length>1||!f)&&v.pop(),g.length<v.length+1&&g.push([]);break}else if(I==="\\\\"){r.consume();var M=void 0;r.gullet.future().text!==" "&&(M=r.parseSizeGroup(!0)),b.push(M?M.value:null),w(),g.push(z2(r)),d=[],v.push(d),_()}else throw new Be("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:n,arraystretch:s,body:v,cols:a,rowGaps:b,hskipBeforeAndAfter:i,hLinesBeforeRow:g,colSeparationType:o,tags:y,leqno:c}}function Zb(r){return r.slice(0,1)==="d"?"display":"text"}var Jn=function(t,e){var i,n,a=t.body.length,s=t.hLinesBeforeRow,o=0,l=new Array(a),u=[],f=Math.max(e.fontMetrics().arrayRuleWidth,e.minRuleThickness),h=1/e.fontMetrics().ptPerEm,c=5*h;if(t.colSeparationType&&t.colSeparationType==="small"){var m=e.havingStyle(rt.SCRIPT).sizeMultiplier;c=.2778*(m/e.sizeMultiplier)}var d=t.colSeparationType==="CD"?Qt({number:3,unit:"ex"},e):12*h,v=3*h,b=t.arraystretch*d,g=.7*b,y=.3*b,_=0;function w(N){for(var Z=0;Z<N.length;++Z)Z>0&&(_+=.25),u.push({pos:_,isDashed:N[Z]})}for(w(s[0]),i=0;i<t.body.length;++i){var O=t.body[i],I=g,M=y;o<O.length&&(o=O.length);var T=new Array(O.length);for(n=0;n<O.length;++n){var E=St(O[n],e);M<E.depth&&(M=E.depth),I<E.height&&(I=E.height),T[n]=E}var q=t.rowGaps[i],k=0;q&&(k=Qt(q,e),k>0&&(k+=y,M<k&&(M=k),k=0)),t.addJot&&(M+=v),T.height=I,T.depth=M,_+=I,T.pos=_,_+=M+k,l[i]=T,w(s[i+1])}var j=_/2+e.fontMetrics().axisHeight,J=t.cols||[],Q=[],R,B,U=[];if(t.tags&&t.tags.some(N=>N))for(i=0;i<a;++i){var te=l[i],de=te.pos-j,me=t.tags[i],ee=void 0;me===!0?ee=$e.makeSpan(["eqn-num"],[],e):me===!1?ee=$e.makeSpan([],[],e):ee=$e.makeSpan([],_r(me,e,!0),e),ee.depth=te.depth,ee.height=te.height,U.push({type:"elem",elem:ee,shift:de})}for(n=0,B=0;n<o||B<J.length;++n,++B){for(var re=J[B]||{},ue=!0;re.type==="separator";){if(ue||(R=$e.makeSpan(["arraycolsep"],[]),R.style.width=Ue(e.fontMetrics().doubleRuleSep),Q.push(R)),re.separator==="|"||re.separator===":"){var Te=re.separator==="|"?"solid":"dashed",we=$e.makeSpan(["vertical-separator"],[],e);we.style.height=Ue(_),we.style.borderRightWidth=Ue(f),we.style.borderRightStyle=Te,we.style.margin="0 "+Ue(-f/2);var xe=_-j;xe&&(we.style.verticalAlign=Ue(-xe)),Q.push(we)}else throw new Be("Invalid separator type: "+re.separator);B++,re=J[B]||{},ue=!1}if(!(n>=o)){var Oe=void 0;(n>0||t.hskipBeforeAndAfter)&&(Oe=et.deflt(re.pregap,c),Oe!==0&&(R=$e.makeSpan(["arraycolsep"],[]),R.style.width=Ue(Oe),Q.push(R)));var Ie=[];for(i=0;i<a;++i){var pe=l[i],be=pe[n];if(be){var W=pe.pos-j;be.depth=pe.depth,be.height=pe.height,Ie.push({type:"elem",elem:be,shift:W})}}Ie=$e.makeVList({positionType:"individualShift",children:Ie},e),Ie=$e.makeSpan(["col-align-"+(re.align||"c")],[Ie]),Q.push(Ie),(n<o-1||t.hskipBeforeAndAfter)&&(Oe=et.deflt(re.postgap,c),Oe!==0&&(R=$e.makeSpan(["arraycolsep"],[]),R.style.width=Ue(Oe),Q.push(R)))}}if(l=$e.makeSpan(["mtable"],Q),u.length>0){for(var ae=$e.makeLineSpan("hline",e,f),ze=$e.makeLineSpan("hdashline",e,f),Le=[{type:"elem",elem:l,shift:0}];u.length>0;){var Ge=u.pop(),G=Ge.pos-j;Ge.isDashed?Le.push({type:"elem",elem:ze,shift:G}):Le.push({type:"elem",elem:ae,shift:G})}l=$e.makeVList({positionType:"individualShift",children:Le},e)}if(U.length===0)return $e.makeSpan(["mord"],[l],e);var C=$e.makeVList({positionType:"individualShift",children:U},e);return C=$e.makeSpan(["tag"],[C],e),$e.makeFragment([l,C])},vL={c:"center ",l:"left ",r:"right "},Qn=function(t,e){for(var i=[],n=new Re.MathNode("mtd",[],["mtr-glue"]),a=new Re.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],l=[],u=0;u<o.length;u++)l.push(new Re.MathNode("mtd",[Bt(o[u],e)]));t.tags&&t.tags[s]&&(l.unshift(n),l.push(n),t.leqno?l.unshift(a):l.push(a)),i.push(new Re.MathNode("mtr",l))}var f=new Re.MathNode("mtable",i),h=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);f.setAttribute("rowspacing",Ue(h));var c="",m="";if(t.cols&&t.cols.length>0){var d=t.cols,v="",b=!1,g=0,y=d.length;d[0].type==="separator"&&(c+="top ",g=1),d[d.length-1].type==="separator"&&(c+="bottom ",y-=1);for(var _=g;_<y;_++)d[_].type==="align"?(m+=vL[d[_].align],b&&(v+="none "),b=!0):d[_].type==="separator"&&b&&(v+=d[_].separator==="|"?"solid ":"dashed ",b=!1);f.setAttribute("columnalign",m.trim()),/[sd]/.test(v)&&f.setAttribute("columnlines",v.trim())}if(t.colSeparationType==="align"){for(var w=t.cols||[],O="",I=1;I<w.length;I++)O+=I%2?"0em ":"1em ";f.setAttribute("columnspacing",O.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var M="",T=t.hLinesBeforeRow;c+=T[0].length>0?"left ":"",c+=T[T.length-1].length>0?"right ":"";for(var E=1;E<T.length-1;E++)M+=T[E].length===0?"none ":T[E][0]?"dashed ":"solid ";return/[sd]/.test(M)&&f.setAttribute("rowlines",M.trim()),c!==""&&(f=new Re.MathNode("menclose",[f]),f.setAttribute("notation",c.trim())),t.arraystretch&&t.arraystretch<1&&(f=new Re.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},S8=function(t,e){t.envName.indexOf("ed")===-1&&fp(t);var i=[],n=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=Ws(t.parser,{cols:i,addJot:!0,autoTag:a?void 0:Qb(t.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(e[0]&&e[0].type==="ordgroup"){for(var f="",h=0;h<e[0].body.length;h++){var c=ft(e[0].body[h],"textord");f+=c.text}o=Number(f),l=o*2}var m=!l;s.body.forEach(function(g){for(var y=1;y<g.length;y+=2){var _=ft(g[y],"styling"),w=ft(_.body[0],"ordgroup");w.body.unshift(u)}if(m)l<g.length&&(l=g.length);else{var O=g.length/2;if(o<O)throw new Be("Too many math in a row: "+("expected "+o+", but got "+O),g[0])}});for(var d=0;d<l;++d){var v="r",b=0;d%2===1?v="l":d>0&&m&&(b=1),i[d]={type:"align",align:v,pregap:b,postgap:0}}return s.colSeparationType=m?"align":"alignat",s};Yn({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,t){var e=op(t[0]),i=e?[t[0]]:ft(t[0],"ordgroup").body,n=i.map(function(s){var o=Vb(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Be("Unknown column alignment: "+l,s)}),a={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Ws(r.parser,a,Zb(r.envName))},htmlBuilder:Jn,mathmlBuilder:Qn});Yn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],e="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:e}]};if(r.envName.charAt(r.envName.length-1)==="*"){var n=r.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),e=n.fetch().text,"lcr".indexOf(e)===-1)throw new Be("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),i.cols=[{type:"align",align:e}]}}var a=Ws(r.parser,i,Zb(r.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:e}),t?{type:"leftright",mode:r.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:Jn,mathmlBuilder:Qn});Yn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var t={arraystretch:.5},e=Ws(r.parser,t,"script");return e.colSeparationType="small",e},htmlBuilder:Jn,mathmlBuilder:Qn});Yn({type:"array",names:["subarray"],props:{numArgs:1},handler(r,t){var e=op(t[0]),i=e?[t[0]]:ft(t[0],"ordgroup").body,n=i.map(function(s){var o=Vb(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Be("Unknown column alignment: "+l,s)});if(n.length>1)throw new Be("{subarray} can contain only one column");var a={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Ws(r.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Be("{subarray} can contain only one column");return a},htmlBuilder:Jn,mathmlBuilder:Qn});Yn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},e=Ws(r.parser,t,Zb(r.envName));return{type:"leftright",mode:r.mode,body:[e],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Jn,mathmlBuilder:Qn});Yn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:S8,htmlBuilder:Jn,mathmlBuilder:Qn});Yn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){et.contains(["gather","gather*"],r.envName)&&fp(r);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Qb(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return Ws(r.parser,t,"display")},htmlBuilder:Jn,mathmlBuilder:Qn});Yn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:S8,htmlBuilder:Jn,mathmlBuilder:Qn});Yn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){fp(r);var t={autoTag:Qb(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return Ws(r.parser,t,"display")},htmlBuilder:Jn,mathmlBuilder:Qn});Yn({type:"array",names:["CD"],props:{numArgs:0},handler(r){return fp(r),rL(r.parser)},htmlBuilder:Jn,mathmlBuilder:Qn});H("\\nonumber","\\gdef\\@eqnsw{0}");H("\\notag","\\nonumber");We({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,t){throw new Be(r.funcName+" valid only within array environment")}});var L2=w8;We({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];if(n.type!=="ordgroup")throw new Be("Invalid environment name",n);for(var a="",s=0;s<n.body.length;++s)a+=ft(n.body[s],"textord").text;if(i==="\\begin"){if(!L2.hasOwnProperty(a))throw new Be("No such environment: "+a,n);var o=L2[a],{args:l,optArgs:u}=e.parseArguments("\\begin{"+a+"}",o),f={mode:e.mode,envName:a,parser:e},h=o.handler(f,l,u);e.expect("\\end",!1);var c=e.nextToken,m=ft(e.parseFunction(),"environment");if(m.name!==a)throw new Be("Mismatch: \\begin{"+a+"} matched by \\end{"+m.name+"}",c);return h}return{type:"environment",mode:e.mode,name:a,nameGroup:n}}});var E8=(r,t)=>{var e=r.font,i=t.withFont(e);return St(r.body,i)},k8=(r,t)=>{var e=r.font,i=t.withFont(e);return Bt(r.body,i)},j2={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};We({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=wm(t[0]),a=i;return a in j2&&(a=j2[a]),{type:"font",mode:e.mode,font:a.slice(1),body:n}},htmlBuilder:E8,mathmlBuilder:k8});We({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,t)=>{var{parser:e}=r,i=t[0],n=et.isCharacterBox(i);return{type:"mclass",mode:e.mode,mclass:lp(i),body:[{type:"font",mode:e.mode,font:"boldsymbol",body:i}],isCharacterBox:n}}});We({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,t)=>{var{parser:e,funcName:i,breakOnTokenText:n}=r,{mode:a}=e,s=e.parseExpression(!0,n),o="math"+i.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:e.mode,body:s}}},htmlBuilder:E8,mathmlBuilder:k8});var T8=(r,t)=>{var e=t;return r==="display"?e=e.id>=rt.SCRIPT.id?e.text():rt.DISPLAY:r==="text"&&e.size===rt.DISPLAY.size?e=rt.TEXT:r==="script"?e=rt.SCRIPT:r==="scriptscript"&&(e=rt.SCRIPTSCRIPT),e},ey=(r,t)=>{var e=T8(r.size,t.style),i=e.fracNum(),n=e.fracDen(),a;a=t.havingStyle(i);var s=St(r.numer,a,t);if(r.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=t.havingStyle(n);var u=St(r.denom,a,t),f,h,c;r.hasBarLine?(r.barSize?(h=Qt(r.barSize,t),f=$e.makeLineSpan("frac-line",t,h)):f=$e.makeLineSpan("frac-line",t),h=f.height,c=f.height):(f=null,h=0,c=t.fontMetrics().defaultRuleThickness);var m,d,v;e.size===rt.DISPLAY.size||r.size==="display"?(m=t.fontMetrics().num1,h>0?d=3*c:d=7*c,v=t.fontMetrics().denom1):(h>0?(m=t.fontMetrics().num2,d=c):(m=t.fontMetrics().num3,d=3*c),v=t.fontMetrics().denom2);var b;if(f){var y=t.fontMetrics().axisHeight;m-s.depth-(y+.5*h)<d&&(m+=d-(m-s.depth-(y+.5*h))),y-.5*h-(u.height-v)<d&&(v+=d-(y-.5*h-(u.height-v)));var _=-(y-.5*h);b=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:v},{type:"elem",elem:f,shift:_},{type:"elem",elem:s,shift:-m}]},t)}else{var g=m-s.depth-(u.height-v);g<d&&(m+=.5*(d-g),v+=.5*(d-g)),b=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:v},{type:"elem",elem:s,shift:-m}]},t)}a=t.havingStyle(e),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var w;e.size===rt.DISPLAY.size?w=t.fontMetrics().delim1:e.size===rt.SCRIPTSCRIPT.size?w=t.havingStyle(rt.SCRIPT).fontMetrics().delim2:w=t.fontMetrics().delim2;var O,I;return r.leftDelim==null?O=If(t,["mopen"]):O=la.customSizedDelim(r.leftDelim,w,!0,t.havingStyle(e),r.mode,["mopen"]),r.continued?I=$e.makeSpan([]):r.rightDelim==null?I=If(t,["mclose"]):I=la.customSizedDelim(r.rightDelim,w,!0,t.havingStyle(e),r.mode,["mclose"]),$e.makeSpan(["mord"].concat(a.sizingClasses(t)),[O,$e.makeSpan(["mfrac"],[b]),I],t)},ty=(r,t)=>{var e=new Re.MathNode("mfrac",[Bt(r.numer,t),Bt(r.denom,t)]);if(!r.hasBarLine)e.setAttribute("linethickness","0px");else if(r.barSize){var i=Qt(r.barSize,t);e.setAttribute("linethickness",Ue(i))}var n=T8(r.size,t.style);if(n.size!==t.style.size){e=new Re.MathNode("mstyle",[e]);var a=n.size===rt.DISPLAY.size?"true":"false";e.setAttribute("displaystyle",a),e.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var s=[];if(r.leftDelim!=null){var o=new Re.MathNode("mo",[new Re.TextNode(r.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(e),r.rightDelim!=null){var l=new Re.MathNode("mo",[new Re.TextNode(r.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Gb(s)}return e};We({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0],a=t[1],s,o=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:e.mode,continued:!1,numer:n,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:ey,mathmlBuilder:ty});We({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0],a=t[1];return{type:"genfrac",mode:e.mode,continued:!0,numer:n,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});We({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:t,funcName:e,token:i}=r,n;switch(e){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:n,token:i}}});var U2=["display","text","script","scriptscript"],q2=function(t){var e=null;return t.length>0&&(e=t,e=e==="."?null:e),e};We({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,t){var{parser:e}=r,i=t[4],n=t[5],a=wm(t[0]),s=a.type==="atom"&&a.family==="open"?q2(a.text):null,o=wm(t[1]),l=o.type==="atom"&&o.family==="close"?q2(o.text):null,u=ft(t[2],"size"),f,h=null;u.isBlank?f=!0:(h=u.value,f=h.number>0);var c="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var d=ft(m.body[0],"textord");c=U2[Number(d.text)]}}else m=ft(m,"textord"),c=U2[Number(m.text)];return{type:"genfrac",mode:e.mode,numer:i,denom:n,continued:!1,hasBarLine:f,barSize:h,leftDelim:s,rightDelim:l,size:c}},htmlBuilder:ey,mathmlBuilder:ty});We({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,t){var{parser:e,funcName:i,token:n}=r;return{type:"infix",mode:e.mode,replaceWith:"\\\\abovefrac",size:ft(t[0],"size").value,token:n}}});We({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0],a=VF(ft(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:e.mode,numer:n,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ey,mathmlBuilder:ty});var O8=(r,t)=>{var e=t.style,i,n;r.type==="supsub"?(i=r.sup?St(r.sup,t.havingStyle(e.sup()),t):St(r.sub,t.havingStyle(e.sub()),t),n=ft(r.base,"horizBrace")):n=ft(r,"horizBrace");var a=St(n.base,t.havingBaseStyle(rt.DISPLAY)),s=_a.svgSpan(n,t),o;if(n.isOver?(o=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=$e.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),i){var l=$e.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t);n.isOver?o=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},t):o=$e.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return $e.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t)},gL=(r,t)=>{var e=_a.mathMLnode(r.label);return new Re.MathNode(r.isOver?"mover":"munder",[Bt(r.base,t),e])};We({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,t){var{parser:e,funcName:i}=r;return{type:"horizBrace",mode:e.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:O8,mathmlBuilder:gL});We({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[1],n=ft(t[0],"url").url;return e.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:e.mode,href:n,body:ur(i)}:e.formatUnsupportedCmd("\\href")},htmlBuilder:(r,t)=>{var e=_r(r.body,t,!1);return $e.makeAnchor(r.href,[],e,t)},mathmlBuilder:(r,t)=>{var e=Ls(r.body,t);return e instanceof Vi||(e=new Vi("mrow",[e])),e.setAttribute("href",r.href),e}});We({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=ft(t[0],"url").url;if(!e.settings.isTrusted({command:"\\url",url:i}))return e.formatUnsupportedCmd("\\url");for(var n=[],a=0;a<i.length;a++){var s=i[a];s==="~"&&(s="\\textasciitilde"),n.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:e.mode,font:"\\texttt",body:n};return{type:"href",mode:e.mode,href:i,body:ur(o)}}});We({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,t){var{parser:e}=r;return{type:"hbox",mode:e.mode,body:ur(t[0])}},htmlBuilder(r,t){var e=_r(r.body,t,!1);return $e.makeFragment(e)},mathmlBuilder(r,t){return new Re.MathNode("mrow",$i(r.body,t))}});We({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,t)=>{var{parser:e,funcName:i,token:n}=r,a=ft(t[0],"raw").string,s=t[1];e.settings.strict&&e.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(i){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),f=0;f<u.length;f++){var h=u[f].split("=");if(h.length!==2)throw new Be("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return e.settings.isTrusted(o)?{type:"html",mode:e.mode,attributes:l,body:ur(s)}:e.formatUnsupportedCmd(i)},htmlBuilder:(r,t)=>{var e=_r(r.body,t,!1),i=["enclosing"];r.attributes.class&&i.push(...r.attributes.class.trim().split(/\s+/));var n=$e.makeSpan(i,e,t);for(var a in r.attributes)a!=="class"&&r.attributes.hasOwnProperty(a)&&n.setAttribute(a,r.attributes[a]);return n},mathmlBuilder:(r,t)=>Ls(r.body,t)});We({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r;return{type:"htmlmathml",mode:e.mode,html:ur(t[0]),mathml:ur(t[1])}},htmlBuilder:(r,t)=>{var e=_r(r.html,t,!1);return $e.makeFragment(e)},mathmlBuilder:(r,t)=>Ls(r.mathml,t)});var h0=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var e=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!e)throw new Be("Invalid size: '"+t+"' in \\includegraphics");var i={number:+(e[1]+e[2]),unit:e[3]};if(!VS(i))throw new Be("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};We({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,t,e)=>{var{parser:i}=r,n={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(e[0])for(var l=ft(e[0],"raw").string,u=l.split(","),f=0;f<u.length;f++){var h=u[f].split("=");if(h.length===2){var c=h[1].trim();switch(h[0].trim()){case"alt":o=c;break;case"width":n=h0(c);break;case"height":a=h0(c);break;case"totalheight":s=h0(c);break;default:throw new Be("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var m=ft(t[0],"url").url;return o===""&&(o=m,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:i.mode,alt:o,width:n,height:a,totalheight:s,src:m}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,t)=>{var e=Qt(r.height,t),i=0;r.totalheight.number>0&&(i=Qt(r.totalheight,t)-e);var n=0;r.width.number>0&&(n=Qt(r.width,t));var a={height:Ue(e+i)};n>0&&(a.width=Ue(n)),i>0&&(a.verticalAlign=Ue(-i));var s=new gz(r.src,r.alt,a);return s.height=e,s.depth=i,s},mathmlBuilder:(r,t)=>{var e=new Re.MathNode("mglyph",[]);e.setAttribute("alt",r.alt);var i=Qt(r.height,t),n=0;if(r.totalheight.number>0&&(n=Qt(r.totalheight,t)-i,e.setAttribute("valign",Ue(-n))),e.setAttribute("height",Ue(i+n)),r.width.number>0){var a=Qt(r.width,t);e.setAttribute("width",Ue(a))}return e.setAttribute("src",r.src),e}});We({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,t){var{parser:e,funcName:i}=r,n=ft(t[0],"size");if(e.settings.strict){var a=i[1]==="m",s=n.value.unit==="mu";a?(s||e.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+n.value.unit+" units")),e.mode!=="math"&&e.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&e.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:e.mode,dimension:n.value}},htmlBuilder(r,t){return $e.makeGlue(r.dimension,t)},mathmlBuilder(r,t){var e=Qt(r.dimension,t);return new Re.SpaceNode(e)}});We({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0];return{type:"lap",mode:e.mode,alignment:i.slice(5),body:n}},htmlBuilder:(r,t)=>{var e;r.alignment==="clap"?(e=$e.makeSpan([],[St(r.body,t)]),e=$e.makeSpan(["inner"],[e],t)):e=$e.makeSpan(["inner"],[St(r.body,t)]);var i=$e.makeSpan(["fix"],[]),n=$e.makeSpan([r.alignment],[e,i],t),a=$e.makeSpan(["strut"]);return a.style.height=Ue(n.height+n.depth),n.depth&&(a.style.verticalAlign=Ue(-n.depth)),n.children.unshift(a),n=$e.makeSpan(["thinbox"],[n],t),$e.makeSpan(["mord","vbox"],[n],t)},mathmlBuilder:(r,t)=>{var e=new Re.MathNode("mpadded",[Bt(r.body,t)]);if(r.alignment!=="rlap"){var i=r.alignment==="llap"?"-1":"-0.5";e.setAttribute("lspace",i+"width")}return e.setAttribute("width","0px"),e}});We({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,t){var{funcName:e,parser:i}=r,n=i.mode;i.switchMode("math");var a=e==="\\("?"\\)":"$",s=i.parseExpression(!1,a);return i.expect(a),i.switchMode(n),{type:"styling",mode:i.mode,style:"text",body:s}}});We({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,t){throw new Be("Mismatched "+r.funcName)}});var H2=(r,t)=>{switch(t.style.size){case rt.DISPLAY.size:return r.display;case rt.TEXT.size:return r.text;case rt.SCRIPT.size:return r.script;case rt.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};We({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,t)=>{var{parser:e}=r;return{type:"mathchoice",mode:e.mode,display:ur(t[0]),text:ur(t[1]),script:ur(t[2]),scriptscript:ur(t[3])}},htmlBuilder:(r,t)=>{var e=H2(r,t),i=_r(e,t,!1);return $e.makeFragment(i)},mathmlBuilder:(r,t)=>{var e=H2(r,t);return Ls(e,t)}});var A8=(r,t,e,i,n,a,s)=>{r=$e.makeSpan([],[r]);var o=e&&et.isCharacterBox(e),l,u;if(t){var f=St(t,i.havingStyle(n.sup()),i);u={elem:f,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-f.depth)}}if(e){var h=St(e,i.havingStyle(n.sub()),i);l={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-h.height)}}var c;if(u&&l){var m=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+r.depth+s;c=$e.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ue(-a)},{type:"kern",size:l.kern},{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ue(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var d=r.height-s;c=$e.makeVList({positionType:"top",positionData:d,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ue(-a)},{type:"kern",size:l.kern},{type:"elem",elem:r}]},i)}else if(u){var v=r.depth+s;c=$e.makeVList({positionType:"bottom",positionData:v,children:[{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ue(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return r;var b=[c];if(l&&a!==0&&!o){var g=$e.makeSpan(["mspace"],[],i);g.style.marginRight=Ue(a),b.unshift(g)}return $e.makeSpan(["mop","op-limits"],b,i)},I8=["\\smallint"],pu=(r,t)=>{var e,i,n=!1,a;r.type==="supsub"?(e=r.sup,i=r.sub,a=ft(r.base,"op"),n=!0):a=ft(r,"op");var s=t.style,o=!1;s.size===rt.DISPLAY.size&&a.symbol&&!et.contains(I8,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",f="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(f=a.name.slice(1),a.name=f==="oiint"?"\\iint":"\\iiint"),l=$e.makeSymbol(a.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),f.length>0){var h=l.italic,c=$e.staticSvg(f+"Size"+(o?"2":"1"),t);l=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:c,shift:o?.08:0}]},t),a.name="\\"+f,l.classes.unshift("mop"),l.italic=h}}else if(a.body){var m=_r(a.body,t,!0);m.length===1&&m[0]instanceof an?(l=m[0],l.classes[0]="mop"):l=$e.makeSpan(["mop"],m,t)}else{for(var d=[],v=1;v<a.name.length;v++)d.push($e.mathsym(a.name[v],a.mode,t));l=$e.makeSpan(["mop"],d,t)}var b=0,g=0;return(l instanceof an||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(l.height-l.depth)/2-t.fontMetrics().axisHeight,g=l.italic),n?A8(l,e,i,t,s,g,b):(b&&(l.style.position="relative",l.style.top=Ue(b)),l)},Qf=(r,t)=>{var e;if(r.symbol)e=new Vi("mo",[sn(r.name,r.mode)]),et.contains(I8,r.name)&&e.setAttribute("largeop","false");else if(r.body)e=new Vi("mo",$i(r.body,t));else{e=new Vi("mi",[new sf(r.name.slice(1))]);var i=new Vi("mo",[sn("⁡","text")]);r.parentIsSupSub?e=new Vi("mrow",[e,i]):e=n8([e,i])}return e},bL={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};We({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=i;return n.length===1&&(n=bL[n]),{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:pu,mathmlBuilder:Qf});We({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ur(i)}},htmlBuilder:pu,mathmlBuilder:Qf});var yL={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};We({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:t,funcName:e}=r;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:e}},htmlBuilder:pu,mathmlBuilder:Qf});We({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:t,funcName:e}=r;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:e}},htmlBuilder:pu,mathmlBuilder:Qf});We({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(r){var{parser:t,funcName:e}=r,i=e;return i.length===1&&(i=yL[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:pu,mathmlBuilder:Qf});var C8=(r,t)=>{var e,i,n=!1,a;r.type==="supsub"?(e=r.sup,i=r.sub,a=ft(r.base,"operatorname"),n=!0):a=ft(r,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(h=>{var c=h.text;return typeof c=="string"?{type:"textord",mode:h.mode,text:c}:h}),l=_r(o,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var f=l[u];f instanceof an&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=$e.makeSpan(["mop"],l,t)}else s=$e.makeSpan(["mop"],[],t);return n?A8(s,e,i,t,t.style,0,0):s},$L=(r,t)=>{for(var e=$i(r.body,t.withFont("mathrm")),i=!0,n=0;n<e.length;n++){var a=e[n];if(!(a instanceof Re.SpaceNode))if(a instanceof Re.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof Re.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=e.map(f=>f.toText()).join("");e=[new Re.TextNode(o)]}var l=new Re.MathNode("mi",e);l.setAttribute("mathvariant","normal");var u=new Re.MathNode("mo",[sn("⁡","text")]);return r.parentIsSupSub?new Re.MathNode("mrow",[l,u]):Re.newDocumentFragment([l,u])};We({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0];return{type:"operatorname",mode:e.mode,body:ur(n),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:C8,mathmlBuilder:$L});H("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ho({type:"ordgroup",htmlBuilder(r,t){return r.semisimple?$e.makeFragment(_r(r.body,t,!1)):$e.makeSpan(["mord"],_r(r.body,t,!0),t)},mathmlBuilder(r,t){return Ls(r.body,t,!0)}});We({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,t){var{parser:e}=r,i=t[0];return{type:"overline",mode:e.mode,body:i}},htmlBuilder(r,t){var e=St(r.body,t.havingCrampedStyle()),i=$e.makeLineSpan("overline-line",t),n=t.fontMetrics().defaultRuleThickness,a=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e},{type:"kern",size:3*n},{type:"elem",elem:i},{type:"kern",size:n}]},t);return $e.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(r,t){var e=new Re.MathNode("mo",[new Re.TextNode("‾")]);e.setAttribute("stretchy","true");var i=new Re.MathNode("mover",[Bt(r.body,t),e]);return i.setAttribute("accent","true"),i}});We({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"phantom",mode:e.mode,body:ur(i)}},htmlBuilder:(r,t)=>{var e=_r(r.body,t.withPhantom(),!1);return $e.makeFragment(e)},mathmlBuilder:(r,t)=>{var e=$i(r.body,t);return new Re.MathNode("mphantom",e)}});We({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"hphantom",mode:e.mode,body:i}},htmlBuilder:(r,t)=>{var e=$e.makeSpan([],[St(r.body,t.withPhantom())]);if(e.height=0,e.depth=0,e.children)for(var i=0;i<e.children.length;i++)e.children[i].height=0,e.children[i].depth=0;return e=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e}]},t),$e.makeSpan(["mord"],[e],t)},mathmlBuilder:(r,t)=>{var e=$i(ur(r.body),t),i=new Re.MathNode("mphantom",e),n=new Re.MathNode("mpadded",[i]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}});We({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"vphantom",mode:e.mode,body:i}},htmlBuilder:(r,t)=>{var e=$e.makeSpan(["inner"],[St(r.body,t.withPhantom())]),i=$e.makeSpan(["fix"],[]);return $e.makeSpan(["mord","rlap"],[e,i],t)},mathmlBuilder:(r,t)=>{var e=$i(ur(r.body),t),i=new Re.MathNode("mphantom",e),n=new Re.MathNode("mpadded",[i]);return n.setAttribute("width","0px"),n}});We({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,t){var{parser:e}=r,i=ft(t[0],"size").value,n=t[1];return{type:"raisebox",mode:e.mode,dy:i,body:n}},htmlBuilder(r,t){var e=St(r.body,t),i=Qt(r.dy,t);return $e.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:e}]},t)},mathmlBuilder(r,t){var e=new Re.MathNode("mpadded",[Bt(r.body,t)]),i=r.dy.number+r.dy.unit;return e.setAttribute("voffset",i),e}});We({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:t}=r;return{type:"internal",mode:t.mode}}});We({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(r,t,e){var{parser:i}=r,n=e[0],a=ft(t[0],"size"),s=ft(t[1],"size");return{type:"rule",mode:i.mode,shift:n&&ft(n,"size").value,width:a.value,height:s.value}},htmlBuilder(r,t){var e=$e.makeSpan(["mord","rule"],[],t),i=Qt(r.width,t),n=Qt(r.height,t),a=r.shift?Qt(r.shift,t):0;return e.style.borderRightWidth=Ue(i),e.style.borderTopWidth=Ue(n),e.style.bottom=Ue(a),e.width=i,e.height=n+a,e.depth=-a,e.maxFontSize=n*1.125*t.sizeMultiplier,e},mathmlBuilder(r,t){var e=Qt(r.width,t),i=Qt(r.height,t),n=r.shift?Qt(r.shift,t):0,a=t.color&&t.getColor()||"black",s=new Re.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Ue(e)),s.setAttribute("height",Ue(i));var o=new Re.MathNode("mpadded",[s]);return n>=0?o.setAttribute("height",Ue(n)):(o.setAttribute("height",Ue(n)),o.setAttribute("depth",Ue(-n))),o.setAttribute("voffset",Ue(n)),o}});function P8(r,t,e){for(var i=_r(r,t,!1),n=t.sizeMultiplier/e.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(e)):i[a].classes[s+1]==="reset-size"+t.size&&(i[a].classes[s+1]="reset-size"+e.size),i[a].height*=n,i[a].depth*=n}return $e.makeFragment(i)}var G2=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],_L=(r,t)=>{var e=t.havingSize(r.size);return P8(r.body,e,t)};We({type:"sizing",names:G2,props:{numArgs:0,allowedInText:!0},handler:(r,t)=>{var{breakOnTokenText:e,funcName:i,parser:n}=r,a=n.parseExpression(!1,e);return{type:"sizing",mode:n.mode,size:G2.indexOf(i)+1,body:a}},htmlBuilder:_L,mathmlBuilder:(r,t)=>{var e=t.havingSize(r.size),i=$i(r.body,e),n=new Re.MathNode("mstyle",i);return n.setAttribute("mathsize",Ue(e.sizeMultiplier)),n}});We({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,t,e)=>{var{parser:i}=r,n=!1,a=!1,s=e[0]&&ft(e[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")n=!0;else if(o==="b")a=!0;else{n=!1,a=!1;break}}else n=!0,a=!0;var f=t[0];return{type:"smash",mode:i.mode,body:f,smashHeight:n,smashDepth:a}},htmlBuilder:(r,t)=>{var e=$e.makeSpan([],[St(r.body,t)]);if(!r.smashHeight&&!r.smashDepth)return e;if(r.smashHeight&&(e.height=0,e.children))for(var i=0;i<e.children.length;i++)e.children[i].height=0;if(r.smashDepth&&(e.depth=0,e.children))for(var n=0;n<e.children.length;n++)e.children[n].depth=0;var a=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e}]},t);return $e.makeSpan(["mord"],[a],t)},mathmlBuilder:(r,t)=>{var e=new Re.MathNode("mpadded",[Bt(r.body,t)]);return r.smashHeight&&e.setAttribute("height","0px"),r.smashDepth&&e.setAttribute("depth","0px"),e}});We({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,t,e){var{parser:i}=r,n=e[0],a=t[0];return{type:"sqrt",mode:i.mode,body:a,index:n}},htmlBuilder(r,t){var e=St(r.body,t.havingCrampedStyle());e.height===0&&(e.height=t.fontMetrics().xHeight),e=$e.wrapFragment(e,t);var i=t.fontMetrics(),n=i.defaultRuleThickness,a=n;t.style.id<rt.TEXT.id&&(a=t.fontMetrics().xHeight);var s=n+a/4,o=e.height+e.depth+s+n,{span:l,ruleWidth:u,advanceWidth:f}=la.sqrtImage(o,t),h=l.height-u;h>e.height+e.depth+s&&(s=(s+h-e.height-e.depth)/2);var c=l.height-e.height-s-u;e.style.paddingLeft=Ue(f);var m=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e,wrapperClasses:["svg-align"]},{type:"kern",size:-(e.height+c)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(r.index){var d=t.havingStyle(rt.SCRIPTSCRIPT),v=St(r.index,d,t),b=.6*(m.height-m.depth),g=$e.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:v}]},t),y=$e.makeSpan(["root"],[g]);return $e.makeSpan(["mord","sqrt"],[y,m],t)}else return $e.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(r,t){var{body:e,index:i}=r;return i?new Re.MathNode("mroot",[Bt(e,t),Bt(i,t)]):new Re.MathNode("msqrt",[Bt(e,t)])}});var W2={display:rt.DISPLAY,text:rt.TEXT,script:rt.SCRIPT,scriptscript:rt.SCRIPTSCRIPT};We({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,t){var{breakOnTokenText:e,funcName:i,parser:n}=r,a=n.parseExpression(!0,e),s=i.slice(1,i.length-5);return{type:"styling",mode:n.mode,style:s,body:a}},htmlBuilder(r,t){var e=W2[r.style],i=t.havingStyle(e).withFont("");return P8(r.body,i,t)},mathmlBuilder(r,t){var e=W2[r.style],i=t.havingStyle(e),n=$i(r.body,i),a=new Re.MathNode("mstyle",n),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[r.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var wL=function(t,e){var i=t.base;if(i)if(i.type==="op"){var n=i.limits&&(e.style.size===rt.DISPLAY.size||i.alwaysHandleSupSub);return n?pu:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(e.style.size===rt.DISPLAY.size||i.limits);return a?C8:null}else{if(i.type==="accent")return et.isCharacterBox(i.base)?Xb:null;if(i.type==="horizBrace"){var s=!t.sub;return s===i.isOver?O8:null}else return null}else return null};Ho({type:"supsub",htmlBuilder(r,t){var e=wL(r,t);if(e)return e(r,t);var{base:i,sup:n,sub:a}=r,s=St(i,t),o,l,u=t.fontMetrics(),f=0,h=0,c=i&&et.isCharacterBox(i);if(n){var m=t.havingStyle(t.style.sup());o=St(n,m,t),c||(f=s.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(a){var d=t.havingStyle(t.style.sub());l=St(a,d,t),c||(h=s.depth+d.fontMetrics().subDrop*d.sizeMultiplier/t.sizeMultiplier)}var v;t.style===rt.DISPLAY?v=u.sup1:t.style.cramped?v=u.sup3:v=u.sup2;var b=t.sizeMultiplier,g=Ue(.5/u.ptPerEm/b),y=null;if(l){var _=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");(s instanceof an||_)&&(y=Ue(-s.italic))}var w;if(o&&l){f=Math.max(f,v,o.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var O=u.defaultRuleThickness,I=4*O;if(f-o.depth-(l.height-h)<I){h=I-(f-o.depth)+l.height;var M=.8*u.xHeight-(f-o.depth);M>0&&(f+=M,h-=M)}var T=[{type:"elem",elem:l,shift:h,marginRight:g,marginLeft:y},{type:"elem",elem:o,shift:-f,marginRight:g}];w=$e.makeVList({positionType:"individualShift",children:T},t)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var E=[{type:"elem",elem:l,marginLeft:y,marginRight:g}];w=$e.makeVList({positionType:"shift",positionData:h,children:E},t)}else if(o)f=Math.max(f,v,o.depth+.25*u.xHeight),w=$e.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:o,marginRight:g}]},t);else throw new Error("supsub must have either sup or sub.");var q=r1(s,"right")||"mord";return $e.makeSpan([q],[s,$e.makeSpan(["msupsub"],[w])],t)},mathmlBuilder(r,t){var e=!1,i,n;r.base&&r.base.type==="horizBrace"&&(n=!!r.sup,n===r.base.isOver&&(e=!0,i=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var a=[Bt(r.base,t)];r.sub&&a.push(Bt(r.sub,t)),r.sup&&a.push(Bt(r.sup,t));var s;if(e)s=i?"mover":"munder";else if(r.sub)if(r.sup){var u=r.base;u&&u.type==="op"&&u.limits&&t.style===rt.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===rt.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=r.base;l&&l.type==="op"&&l.limits&&(t.style===rt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===rt.DISPLAY)?s="munder":s="msub"}else{var o=r.base;o&&o.type==="op"&&o.limits&&(t.style===rt.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===rt.DISPLAY)?s="mover":s="msup"}return new Re.MathNode(s,a)}});Ho({type:"atom",htmlBuilder(r,t){return $e.mathsym(r.text,r.mode,t,["m"+r.family])},mathmlBuilder(r,t){var e=new Re.MathNode("mo",[sn(r.text,r.mode)]);if(r.family==="bin"){var i=Wb(r,t);i==="bold-italic"&&e.setAttribute("mathvariant",i)}else r.family==="punct"?e.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&e.setAttribute("stretchy","false");return e}});var D8={mi:"italic",mn:"normal",mtext:"normal"};Ho({type:"mathord",htmlBuilder(r,t){return $e.makeOrd(r,t,"mathord")},mathmlBuilder(r,t){var e=new Re.MathNode("mi",[sn(r.text,r.mode,t)]),i=Wb(r,t)||"italic";return i!==D8[e.type]&&e.setAttribute("mathvariant",i),e}});Ho({type:"textord",htmlBuilder(r,t){return $e.makeOrd(r,t,"textord")},mathmlBuilder(r,t){var e=sn(r.text,r.mode,t),i=Wb(r,t)||"normal",n;return r.mode==="text"?n=new Re.MathNode("mtext",[e]):/[0-9]/.test(r.text)?n=new Re.MathNode("mn",[e]):r.text==="\\prime"?n=new Re.MathNode("mo",[e]):n=new Re.MathNode("mi",[e]),i!==D8[n.type]&&n.setAttribute("mathvariant",i),n}});var m0={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},p0={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ho({type:"spacing",htmlBuilder(r,t){if(p0.hasOwnProperty(r.text)){var e=p0[r.text].className||"";if(r.mode==="text"){var i=$e.makeOrd(r,t,"textord");return i.classes.push(e),i}else return $e.makeSpan(["mspace",e],[$e.mathsym(r.text,r.mode,t)],t)}else{if(m0.hasOwnProperty(r.text))return $e.makeSpan(["mspace",m0[r.text]],[],t);throw new Be('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,t){var e;if(p0.hasOwnProperty(r.text))e=new Re.MathNode("mtext",[new Re.TextNode(" ")]);else{if(m0.hasOwnProperty(r.text))return new Re.MathNode("mspace");throw new Be('Unknown type of space "'+r.text+'"')}return e}});var V2=()=>{var r=new Re.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};Ho({type:"tag",mathmlBuilder(r,t){var e=new Re.MathNode("mtable",[new Re.MathNode("mtr",[V2(),new Re.MathNode("mtd",[Ls(r.body,t)]),V2(),new Re.MathNode("mtd",[Ls(r.tag,t)])])]);return e.setAttribute("width","100%"),e}});var X2={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},K2={"\\textbf":"textbf","\\textmd":"textmd"},xL={"\\textit":"textit","\\textup":"textup"},Y2=(r,t)=>{var e=r.font;return e?X2[e]?t.withTextFontFamily(X2[e]):K2[e]?t.withTextFontWeight(K2[e]):t.withTextFontShape(xL[e]):t};We({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];return{type:"text",mode:e.mode,body:ur(n),font:i}},htmlBuilder(r,t){var e=Y2(r,t),i=_r(r.body,e,!0);return $e.makeSpan(["mord","text"],i,e)},mathmlBuilder(r,t){var e=Y2(r,t);return Ls(r.body,e)}});We({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,t){var{parser:e}=r;return{type:"underline",mode:e.mode,body:t[0]}},htmlBuilder(r,t){var e=St(r.body,t),i=$e.makeLineSpan("underline-line",t),n=t.fontMetrics().defaultRuleThickness,a=$e.makeVList({positionType:"top",positionData:e.height,children:[{type:"kern",size:n},{type:"elem",elem:i},{type:"kern",size:3*n},{type:"elem",elem:e}]},t);return $e.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(r,t){var e=new Re.MathNode("mo",[new Re.TextNode("‾")]);e.setAttribute("stretchy","true");var i=new Re.MathNode("munder",[Bt(r.body,t),e]);return i.setAttribute("accentunder","true"),i}});We({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,t){var{parser:e}=r;return{type:"vcenter",mode:e.mode,body:t[0]}},htmlBuilder(r,t){var e=St(r.body,t),i=t.fontMetrics().axisHeight,n=.5*(e.height-i-(e.depth+i));return $e.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:e}]},t)},mathmlBuilder(r,t){return new Re.MathNode("mpadded",[Bt(r.body,t)],["vcenter"])}});We({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,t,e){throw new Be("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,t){for(var e=J2(r),i=[],n=t.havingStyle(t.style.text()),a=0;a<e.length;a++){var s=e[a];s==="~"&&(s="\\textasciitilde"),i.push($e.makeSymbol(s,"Typewriter-Regular",r.mode,n,["mord","texttt"]))}return $e.makeSpan(["mord","text"].concat(n.sizingClasses(t)),$e.tryCombineChars(i),n)},mathmlBuilder(r,t){var e=new Re.TextNode(J2(r)),i=new Re.MathNode("mtext",[e]);return i.setAttribute("mathvariant","monospace"),i}});var J2=r=>r.body.replace(/ /g,r.star?"␣":" "),xs=r8,N8=`[ \r
	]`,SL="\\\\[a-zA-Z@]+",EL="\\\\[^\uD800-\uDFFF]",kL="("+SL+")"+N8+"*",TL=`\\\\(
|[ \r	]+
?)[ \r	]*`,s1="[̀-ͯ]",OL=new RegExp(s1+"+$"),AL="("+N8+"+)|"+(TL+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(s1+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(s1+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+kL)+("|"+EL+")");class Q2{constructor(t,e){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=e,this.tokenRegex=new RegExp(AL,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,e){this.catcodes[t]=e}lex(){var t=this.input,e=this.tokenRegex.lastIndex;if(e===t.length)return new en("EOF",new Ai(this,e,e));var i=this.tokenRegex.exec(t);if(i===null||i.index!==e)throw new Be("Unexpected character: '"+t[e]+"'",new en(t[e],new Ai(this,e,e+1)));var n=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[n]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new en(n,new Ai(this,e,this.tokenRegex.lastIndex))}}class IL{constructor(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=e,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Be("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var e in t)t.hasOwnProperty(e)&&(t[e]==null?delete this.current[e]:this.current[e]=t[e])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,e,i){if(i===void 0&&(i=!1),i){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=e)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}e==null?delete this.current[t]:this.current[t]=e}}var CL=x8;H("\\noexpand",function(r){var t=r.popToken();return r.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});H("\\expandafter",function(r){var t=r.popToken();return r.expandOnce(!0),{tokens:[t],numArgs:0}});H("\\@firstoftwo",function(r){var t=r.consumeArgs(2);return{tokens:t[0],numArgs:0}});H("\\@secondoftwo",function(r){var t=r.consumeArgs(2);return{tokens:t[1],numArgs:0}});H("\\@ifnextchar",function(r){var t=r.consumeArgs(3);r.consumeSpaces();var e=r.future();return t[0].length===1&&t[0][0].text===e.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});H("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");H("\\TextOrMath",function(r){var t=r.consumeArgs(2);return r.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var Z2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};H("\\char",function(r){var t=r.popToken(),e,i="";if(t.text==="'")e=8,t=r.popToken();else if(t.text==='"')e=16,t=r.popToken();else if(t.text==="`")if(t=r.popToken(),t.text[0]==="\\")i=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new Be("\\char` missing argument");i=t.text.charCodeAt(0)}else e=10;if(e){if(i=Z2[t.text],i==null||i>=e)throw new Be("Invalid base-"+e+" digit "+t.text);for(var n;(n=Z2[r.future().text])!=null&&n<e;)i*=e,i+=n,r.popToken()}return"\\@char{"+i+"}"});var ry=(r,t,e)=>{var i=r.consumeArg().tokens;if(i.length!==1)throw new Be("\\newcommand's first argument must be a macro name");var n=i[0].text,a=r.isDefined(n);if(a&&!t)throw new Be("\\newcommand{"+n+"} attempting to redefine "+(n+"; use \\renewcommand"));if(!a&&!e)throw new Be("\\renewcommand{"+n+"} when command "+n+" does not yet exist; use \\newcommand");var s=0;if(i=r.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var o="",l=r.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=r.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Be("Invalid number of arguments: "+o);s=parseInt(o),i=r.consumeArg().tokens}return r.macros.set(n,{tokens:i,numArgs:s}),""};H("\\newcommand",r=>ry(r,!1,!0));H("\\renewcommand",r=>ry(r,!0,!1));H("\\providecommand",r=>ry(r,!0,!0));H("\\message",r=>{var t=r.consumeArgs(1)[0];return console.log(t.reverse().map(e=>e.text).join("")),""});H("\\errmessage",r=>{var t=r.consumeArgs(1)[0];return console.error(t.reverse().map(e=>e.text).join("")),""});H("\\show",r=>{var t=r.popToken(),e=t.text;return console.log(t,r.macros.get(e),xs[e],Gt.math[e],Gt.text[e]),""});H("\\bgroup","{");H("\\egroup","}");H("~","\\nobreakspace");H("\\lq","`");H("\\rq","'");H("\\aa","\\r a");H("\\AA","\\r A");H("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");H("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");H("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");H("ℬ","\\mathscr{B}");H("ℰ","\\mathscr{E}");H("ℱ","\\mathscr{F}");H("ℋ","\\mathscr{H}");H("ℐ","\\mathscr{I}");H("ℒ","\\mathscr{L}");H("ℳ","\\mathscr{M}");H("ℛ","\\mathscr{R}");H("ℭ","\\mathfrak{C}");H("ℌ","\\mathfrak{H}");H("ℨ","\\mathfrak{Z}");H("\\Bbbk","\\Bbb{k}");H("·","\\cdotp");H("\\llap","\\mathllap{\\textrm{#1}}");H("\\rlap","\\mathrlap{\\textrm{#1}}");H("\\clap","\\mathclap{\\textrm{#1}}");H("\\mathstrut","\\vphantom{(}");H("\\underbar","\\underline{\\text{#1}}");H("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');H("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");H("\\ne","\\neq");H("≠","\\neq");H("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");H("∉","\\notin");H("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");H("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");H("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");H("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");H("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");H("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");H("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");H("⟂","\\perp");H("‼","\\mathclose{!\\mkern-0.8mu!}");H("∌","\\notni");H("⌜","\\ulcorner");H("⌝","\\urcorner");H("⌞","\\llcorner");H("⌟","\\lrcorner");H("©","\\copyright");H("®","\\textregistered");H("️","\\textregistered");H("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');H("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');H("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');H("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');H("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");H("⋮","\\vdots");H("\\varGamma","\\mathit{\\Gamma}");H("\\varDelta","\\mathit{\\Delta}");H("\\varTheta","\\mathit{\\Theta}");H("\\varLambda","\\mathit{\\Lambda}");H("\\varXi","\\mathit{\\Xi}");H("\\varPi","\\mathit{\\Pi}");H("\\varSigma","\\mathit{\\Sigma}");H("\\varUpsilon","\\mathit{\\Upsilon}");H("\\varPhi","\\mathit{\\Phi}");H("\\varPsi","\\mathit{\\Psi}");H("\\varOmega","\\mathit{\\Omega}");H("\\substack","\\begin{subarray}{c}#1\\end{subarray}");H("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");H("\\boxed","\\fbox{$\\displaystyle{#1}$}");H("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");H("\\implies","\\DOTSB\\;\\Longrightarrow\\;");H("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var e4={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};H("\\dots",function(r){var t="\\dotso",e=r.expandAfterFuture().text;return e in e4?t=e4[e]:(e.slice(0,4)==="\\not"||e in Gt.math&&et.contains(["bin","rel"],Gt.math[e].group))&&(t="\\dotsb"),t});var iy={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};H("\\dotso",function(r){var t=r.future().text;return t in iy?"\\ldots\\,":"\\ldots"});H("\\dotsc",function(r){var t=r.future().text;return t in iy&&t!==","?"\\ldots\\,":"\\ldots"});H("\\cdots",function(r){var t=r.future().text;return t in iy?"\\@cdots\\,":"\\@cdots"});H("\\dotsb","\\cdots");H("\\dotsm","\\cdots");H("\\dotsi","\\!\\cdots");H("\\dotsx","\\ldots\\,");H("\\DOTSI","\\relax");H("\\DOTSB","\\relax");H("\\DOTSX","\\relax");H("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");H("\\,","\\tmspace+{3mu}{.1667em}");H("\\thinspace","\\,");H("\\>","\\mskip{4mu}");H("\\:","\\tmspace+{4mu}{.2222em}");H("\\medspace","\\:");H("\\;","\\tmspace+{5mu}{.2777em}");H("\\thickspace","\\;");H("\\!","\\tmspace-{3mu}{.1667em}");H("\\negthinspace","\\!");H("\\negmedspace","\\tmspace-{4mu}{.2222em}");H("\\negthickspace","\\tmspace-{5mu}{.277em}");H("\\enspace","\\kern.5em ");H("\\enskip","\\hskip.5em\\relax");H("\\quad","\\hskip1em\\relax");H("\\qquad","\\hskip2em\\relax");H("\\tag","\\@ifstar\\tag@literal\\tag@paren");H("\\tag@paren","\\tag@literal{({#1})}");H("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new Be("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});H("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");H("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");H("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");H("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");H("\\newline","\\\\\\relax");H("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var R8=Ue(Fn["Main-Regular"][84][1]-.7*Fn["Main-Regular"][65][1]);H("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+R8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");H("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+R8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");H("\\hspace","\\@ifstar\\@hspacer\\@hspace");H("\\@hspace","\\hskip #1\\relax");H("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");H("\\ordinarycolon",":");H("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");H("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');H("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');H("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');H("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');H("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');H("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');H("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');H("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');H("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');H("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');H("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');H("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');H("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');H("∷","\\dblcolon");H("∹","\\eqcolon");H("≔","\\coloneqq");H("≕","\\eqqcolon");H("⩴","\\Coloneqq");H("\\ratio","\\vcentcolon");H("\\coloncolon","\\dblcolon");H("\\colonequals","\\coloneqq");H("\\coloncolonequals","\\Coloneqq");H("\\equalscolon","\\eqqcolon");H("\\equalscoloncolon","\\Eqqcolon");H("\\colonminus","\\coloneq");H("\\coloncolonminus","\\Coloneq");H("\\minuscolon","\\eqcolon");H("\\minuscoloncolon","\\Eqcolon");H("\\coloncolonapprox","\\Colonapprox");H("\\coloncolonsim","\\Colonsim");H("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");H("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");H("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");H("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");H("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");H("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");H("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");H("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");H("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");H("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");H("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");H("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");H("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");H("\\nleqq","\\html@mathml{\\@nleqq}{≰}");H("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");H("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");H("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");H("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");H("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");H("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");H("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");H("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");H("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");H("\\imath","\\html@mathml{\\@imath}{ı}");H("\\jmath","\\html@mathml{\\@jmath}{ȷ}");H("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");H("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");H("⟦","\\llbracket");H("⟧","\\rrbracket");H("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");H("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");H("⦃","\\lBrace");H("⦄","\\rBrace");H("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");H("⦵","\\minuso");H("\\darr","\\downarrow");H("\\dArr","\\Downarrow");H("\\Darr","\\Downarrow");H("\\lang","\\langle");H("\\rang","\\rangle");H("\\uarr","\\uparrow");H("\\uArr","\\Uparrow");H("\\Uarr","\\Uparrow");H("\\N","\\mathbb{N}");H("\\R","\\mathbb{R}");H("\\Z","\\mathbb{Z}");H("\\alef","\\aleph");H("\\alefsym","\\aleph");H("\\Alpha","\\mathrm{A}");H("\\Beta","\\mathrm{B}");H("\\bull","\\bullet");H("\\Chi","\\mathrm{X}");H("\\clubs","\\clubsuit");H("\\cnums","\\mathbb{C}");H("\\Complex","\\mathbb{C}");H("\\Dagger","\\ddagger");H("\\diamonds","\\diamondsuit");H("\\empty","\\emptyset");H("\\Epsilon","\\mathrm{E}");H("\\Eta","\\mathrm{H}");H("\\exist","\\exists");H("\\harr","\\leftrightarrow");H("\\hArr","\\Leftrightarrow");H("\\Harr","\\Leftrightarrow");H("\\hearts","\\heartsuit");H("\\image","\\Im");H("\\infin","\\infty");H("\\Iota","\\mathrm{I}");H("\\isin","\\in");H("\\Kappa","\\mathrm{K}");H("\\larr","\\leftarrow");H("\\lArr","\\Leftarrow");H("\\Larr","\\Leftarrow");H("\\lrarr","\\leftrightarrow");H("\\lrArr","\\Leftrightarrow");H("\\Lrarr","\\Leftrightarrow");H("\\Mu","\\mathrm{M}");H("\\natnums","\\mathbb{N}");H("\\Nu","\\mathrm{N}");H("\\Omicron","\\mathrm{O}");H("\\plusmn","\\pm");H("\\rarr","\\rightarrow");H("\\rArr","\\Rightarrow");H("\\Rarr","\\Rightarrow");H("\\real","\\Re");H("\\reals","\\mathbb{R}");H("\\Reals","\\mathbb{R}");H("\\Rho","\\mathrm{P}");H("\\sdot","\\cdot");H("\\sect","\\S");H("\\spades","\\spadesuit");H("\\sub","\\subset");H("\\sube","\\subseteq");H("\\supe","\\supseteq");H("\\Tau","\\mathrm{T}");H("\\thetasym","\\vartheta");H("\\weierp","\\wp");H("\\Zeta","\\mathrm{Z}");H("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");H("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");H("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");H("\\bra","\\mathinner{\\langle{#1}|}");H("\\ket","\\mathinner{|{#1}\\rangle}");H("\\braket","\\mathinner{\\langle{#1}\\rangle}");H("\\Bra","\\left\\langle#1\\right|");H("\\Ket","\\left|#1\\right\\rangle");var M8=r=>t=>{var e=t.consumeArg().tokens,i=t.consumeArg().tokens,n=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var l=h=>c=>{r&&(c.macros.set("|",s),n.length&&c.macros.set("\\|",o));var m=h;if(!h&&n.length){var d=c.future();d.text==="|"&&(c.popToken(),m=!0)}return{tokens:m?n:i,numArgs:0}};t.macros.set("|",l(!1)),n.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,f=t.expandTokens([...a,...u,...e]);return t.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};H("\\bra@ket",M8(!1));H("\\bra@set",M8(!0));H("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");H("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");H("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");H("\\angln","{\\angl n}");H("\\blue","\\textcolor{##6495ed}{#1}");H("\\orange","\\textcolor{##ffa500}{#1}");H("\\pink","\\textcolor{##ff00af}{#1}");H("\\red","\\textcolor{##df0030}{#1}");H("\\green","\\textcolor{##28ae7b}{#1}");H("\\gray","\\textcolor{gray}{#1}");H("\\purple","\\textcolor{##9d38bd}{#1}");H("\\blueA","\\textcolor{##ccfaff}{#1}");H("\\blueB","\\textcolor{##80f6ff}{#1}");H("\\blueC","\\textcolor{##63d9ea}{#1}");H("\\blueD","\\textcolor{##11accd}{#1}");H("\\blueE","\\textcolor{##0c7f99}{#1}");H("\\tealA","\\textcolor{##94fff5}{#1}");H("\\tealB","\\textcolor{##26edd5}{#1}");H("\\tealC","\\textcolor{##01d1c1}{#1}");H("\\tealD","\\textcolor{##01a995}{#1}");H("\\tealE","\\textcolor{##208170}{#1}");H("\\greenA","\\textcolor{##b6ffb0}{#1}");H("\\greenB","\\textcolor{##8af281}{#1}");H("\\greenC","\\textcolor{##74cf70}{#1}");H("\\greenD","\\textcolor{##1fab54}{#1}");H("\\greenE","\\textcolor{##0d923f}{#1}");H("\\goldA","\\textcolor{##ffd0a9}{#1}");H("\\goldB","\\textcolor{##ffbb71}{#1}");H("\\goldC","\\textcolor{##ff9c39}{#1}");H("\\goldD","\\textcolor{##e07d10}{#1}");H("\\goldE","\\textcolor{##a75a05}{#1}");H("\\redA","\\textcolor{##fca9a9}{#1}");H("\\redB","\\textcolor{##ff8482}{#1}");H("\\redC","\\textcolor{##f9685d}{#1}");H("\\redD","\\textcolor{##e84d39}{#1}");H("\\redE","\\textcolor{##bc2612}{#1}");H("\\maroonA","\\textcolor{##ffbde0}{#1}");H("\\maroonB","\\textcolor{##ff92c6}{#1}");H("\\maroonC","\\textcolor{##ed5fa6}{#1}");H("\\maroonD","\\textcolor{##ca337c}{#1}");H("\\maroonE","\\textcolor{##9e034e}{#1}");H("\\purpleA","\\textcolor{##ddd7ff}{#1}");H("\\purpleB","\\textcolor{##c6b9fc}{#1}");H("\\purpleC","\\textcolor{##aa87ff}{#1}");H("\\purpleD","\\textcolor{##7854ab}{#1}");H("\\purpleE","\\textcolor{##543b78}{#1}");H("\\mintA","\\textcolor{##f5f9e8}{#1}");H("\\mintB","\\textcolor{##edf2df}{#1}");H("\\mintC","\\textcolor{##e0e5cc}{#1}");H("\\grayA","\\textcolor{##f6f7f7}{#1}");H("\\grayB","\\textcolor{##f0f1f2}{#1}");H("\\grayC","\\textcolor{##e3e5e6}{#1}");H("\\grayD","\\textcolor{##d6d8da}{#1}");H("\\grayE","\\textcolor{##babec2}{#1}");H("\\grayF","\\textcolor{##888d93}{#1}");H("\\grayG","\\textcolor{##626569}{#1}");H("\\grayH","\\textcolor{##3b3e40}{#1}");H("\\grayI","\\textcolor{##21242c}{#1}");H("\\kaBlue","\\textcolor{##314453}{#1}");H("\\kaGreen","\\textcolor{##71B307}{#1}");var B8={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class PL{constructor(t,e,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=e,this.expansionCount=0,this.feed(t),this.macros=new IL(CL,e.macros),this.mode=i,this.stack=[]}feed(t){this.lexer=new Q2(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var e,i,n;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;e=this.popToken(),{tokens:n,end:i}=this.consumeArg(["]"])}else({tokens:n,start:e,end:i}=this.consumeArg());return this.pushToken(new en("EOF",i.loc)),this.pushTokens(n),e.range(i,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var e=[],i=t&&t.length>0;i||this.consumeSpaces();var n=this.future(),a,s=0,o=0;do{if(a=this.popToken(),e.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new Be("Extra }",a)}else if(a.text==="EOF")throw new Be("Unexpected end of input in a macro argument, expected '"+(t&&i?t[o]:"}")+"'",a);if(t&&i)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){e.splice(-o,o);break}}else o=0}while(s!==0||i);return n.text==="{"&&e[e.length-1].text==="}"&&(e.pop(),e.shift()),e.reverse(),{tokens:e,start:n,end:a}}consumeArgs(t,e){if(e){if(e.length!==t+1)throw new Be("The length of delimiters doesn't match the number of args!");for(var i=e[0],n=0;n<i.length;n++){var a=this.popToken();if(i[n]!==a.text)throw new Be("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(e&&e[o+1]).tokens);return s}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new Be("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var e=this.popToken(),i=e.text,n=e.noexpand?null:this._getExpansion(i);if(n==null||t&&n.unexpandable){if(t&&n==null&&i[0]==="\\"&&!this.isDefined(i))throw new Be("Undefined control sequence: "+i);return this.pushToken(e),!1}this.countExpansion(1);var a=n.tokens,s=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new Be("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new Be("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new en(t)]):void 0}expandTokens(t){var e=[],i=this.stack.length;for(this.pushTokens(t);this.stack.length>i;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),e.push(n)}return this.countExpansion(e.length),e}expandMacroAsText(t){var e=this.expandMacro(t);return e&&e.map(i=>i.text).join("")}_getExpansion(t){var e=this.macros.get(t);if(e==null)return e;if(t.length===1){var i=this.lexer.catcodes[t];if(i!=null&&i!==13)return}var n=typeof e=="function"?e(this):e;if(typeof n=="string"){var a=0;if(n.indexOf("#")!==-1)for(var s=n.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new Q2(n,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var f={tokens:l,numArgs:a};return f}return n}isDefined(t){return this.macros.has(t)||xs.hasOwnProperty(t)||Gt.math.hasOwnProperty(t)||Gt.text.hasOwnProperty(t)||B8.hasOwnProperty(t)}isExpandable(t){var e=this.macros.get(t);return e!=null?typeof e=="string"||typeof e=="function"||!e.unexpandable:xs.hasOwnProperty(t)&&!xs[t].primitive}}var t4=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,ah=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),d0={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},r4={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class cp{constructor(t,e){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new PL(t,e,this.mode),this.settings=e,this.leftrightDepth=0}expect(t,e){if(e===void 0&&(e=!0),this.fetch().text!==t)throw new Be("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());e&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var e=this.nextToken;this.consume(),this.gullet.pushToken(new en("}")),this.gullet.pushTokens(t);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=e,i}parseExpression(t,e){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(cp.endOfExpression.indexOf(n.text)!==-1||e&&n.text===e||t&&xs[n.text]&&xs[n.text].infix)break;var a=this.parseAtom(e);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(t){for(var e=-1,i,n=0;n<t.length;n++)if(t[n].type==="infix"){if(e!==-1)throw new Be("only one infix operator per group",t[n].token);e=n,i=t[n].replaceWith}if(e!==-1&&i){var a,s,o=t.slice(0,e),l=t.slice(e+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[a,t[e],s],[]):u=this.callFunction(i,[a,s],[]),[u]}else return t}handleSupSubscript(t){var e=this.fetch(),i=e.text;this.consume(),this.consumeSpaces();var n=this.parseGroup(t);if(!n)throw new Be("Expected group after '"+i+"'",e);return n}formatUnsupportedCmd(t){for(var e=[],i=0;i<t.length;i++)e.push({type:"textord",mode:"text",text:t[i]});var n={type:"text",mode:this.mode,body:e},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return a}parseAtom(t){var e=this.parseGroup("atom",t);if(this.mode==="text")return e;for(var i,n;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(e&&e.type==="op"){var s=a.text==="\\limits";e.limits=s,e.alwaysHandleSupSub=!0}else if(e&&e.type==="operatorname")e.alwaysHandleSupSub&&(e.limits=a.text==="\\limits");else throw new Be("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new Be("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(n)throw new Be("Double subscript",a);n=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new Be("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(ah[a.text]){var u=t4.test(a.text),f=[];for(f.push(new en(ah[a.text])),this.consume();;){var h=this.fetch().text;if(!ah[h]||t4.test(h)!==u)break;f.unshift(new en(ah[h])),this.consume()}var c=this.subparse(f);u?n={type:"ordgroup",mode:"math",body:c}:i={type:"ordgroup",mode:"math",body:c}}else break}return i||n?{type:"supsub",mode:this.mode,base:e,sup:i,sub:n}:e}parseFunction(t,e){var i=this.fetch(),n=i.text,a=xs[n];if(!a)return null;if(this.consume(),e&&e!=="atom"&&!a.allowedInArgument)throw new Be("Got function '"+n+"' with no arguments"+(e?" as "+e:""),i);if(this.mode==="text"&&!a.allowedInText)throw new Be("Can't use function '"+n+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new Be("Can't use function '"+n+"' in math mode",i);var{args:s,optArgs:o}=this.parseArguments(n,a);return this.callFunction(n,s,o,i,t)}callFunction(t,e,i,n,a){var s={funcName:t,parser:this,token:n,breakOnTokenText:a},o=xs[t];if(o&&o.handler)return o.handler(s,e,i);throw new Be("No function handler for "+t)}parseArguments(t,e){var i=e.numArgs+e.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var n=[],a=[],s=0;s<i;s++){var o=e.argTypes&&e.argTypes[s],l=s<e.numOptionalArgs;(e.primitive&&o==null||e.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,l);if(l)a.push(u);else if(u!=null)n.push(u);else throw new Be("Null argument, please report this as a bug")}return{args:n,optArgs:a}}parseGroupOfType(t,e,i){switch(e){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,e);case"hbox":{var n=this.parseArgumentGroup(i,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new Be("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new Be("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new Be("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,e){var i=this.gullet.scanArgument(e);if(i==null)return null;for(var n="",a;(a=this.fetch()).text!=="EOF";)n+=a.text,this.consume();return this.consume(),i.text=n,i}parseRegexGroup(t,e){for(var i=this.fetch(),n=i,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)n=s,a+=n.text,this.consume();if(a==="")throw new Be("Invalid "+e+": '"+i.text+"'",i);return i.range(n,a)}parseColorGroup(t){var e=this.parseStringGroup("color",t);if(e==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(e.text);if(!i)throw new Be("Invalid color: '"+e.text+"'",e);var n=i[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(t){var e,i=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?e=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):e=this.parseStringGroup("size",t),!e)return null;!t&&e.text.length===0&&(e.text="0pt",i=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e.text);if(!n)throw new Be("Invalid size: '"+e.text+"'",e);var a={number:+(n[1]+n[2]),unit:n[3]};if(!VS(a))throw new Be("Invalid unit: '"+a.unit+"'",e);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var e=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),e==null)return null;var i=e.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(t,e){var i=this.gullet.scanArgument(t);if(i==null)return null;var n=this.mode;e&&this.switchMode(e),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return e&&this.switchMode(n),s}parseGroup(t,e){var i=this.fetch(),n=i.text,a;if(n==="{"||n==="\\begingroup"){this.consume();var s=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Ai.range(i,l),body:o,semisimple:n==="\\begingroup"||void 0}}else if(a=this.parseFunction(e,t)||this.parseSymbol(),a==null&&n[0]==="\\"&&!B8.hasOwnProperty(n)){if(this.settings.throwOnError)throw new Be("Undefined control sequence: "+n,i);a=this.formatUnsupportedCmd(n),this.consume()}return a}formLigatures(t){for(var e=t.length-1,i=0;i<e;++i){var n=t[i],a=n.text;a==="-"&&t[i+1].text==="-"&&(i+1<e&&t[i+2].text==="-"?(t.splice(i,3,{type:"textord",mode:"text",loc:Ai.range(n,t[i+2]),text:"---"}),e-=2):(t.splice(i,2,{type:"textord",mode:"text",loc:Ai.range(n,t[i+1]),text:"--"}),e-=1)),(a==="'"||a==="`")&&t[i+1].text===a&&(t.splice(i,2,{type:"textord",mode:"text",loc:Ai.range(n,t[i+1]),text:a+a}),e-=1)}}parseSymbol(){var t=this.fetch(),e=t.text;if(/^\\verb[^a-zA-Z]/.test(e)){this.consume();var i=e.slice(5),n=i.charAt(0)==="*";if(n&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new Be(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:n}}r4.hasOwnProperty(e[0])&&!Gt[this.mode][e[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+e[0]+'" used in math mode',t),e=r4[e[0]]+e.slice(1));var a=OL.exec(e);a&&(e=e.substring(0,a.index),e==="i"?e="ı":e==="j"&&(e="ȷ"));var s;if(Gt[this.mode][e]){this.settings.strict&&this.mode==="math"&&t1.indexOf(e)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+e[0]+'" used in math mode',t);var o=Gt[this.mode][e].group,l=Ai.range(t),u;if($z.hasOwnProperty(o)){var f=o;u={type:"atom",mode:this.mode,family:f,loc:l,text:e}}else u={type:o,mode:this.mode,loc:l,text:e};s=u}else if(e.charCodeAt(0)>=128)this.settings.strict&&(WS(e.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+e[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+e[0]+'"'+(" ("+e.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:Ai.range(t),text:e};else return null;if(this.consume(),a)for(var h=0;h<a[0].length;h++){var c=a[0][h];if(!d0[c])throw new Be("Unknown accent ' "+c+"'",t);var m=d0[c][this.mode]||d0[c].text;if(!m)throw new Be("Accent "+c+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:Ai.range(t),label:m,isStretchy:!1,isShifty:!0,base:s}}return s}}cp.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var ny=function(t,e){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new cp(t,e);delete i.gullet.macros.current["\\df@tag"];var n=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!e.displayMode)throw new Be("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:i.subparse([new en("\\df@tag")])}]}return n},F8=function(t,e,i){e.textContent="";var n=ay(t,i).toNode();e.appendChild(n)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),F8=function(){throw new Be("KaTeX doesn't work in quirks mode.")});var DL=function(t,e){var i=ay(t,e).toMarkup();return i},NL=function(t,e){var i=new Lb(e);return ny(t,i)},z8=function(t,e,i){if(i.throwOnError||!(t instanceof Be))throw t;var n=$e.makeSpan(["katex-error"],[new an(e)]);return n.setAttribute("title",t.toString()),n.setAttribute("style","color:"+i.errorColor),n},ay=function(t,e){var i=new Lb(e);try{var n=ny(t,i);return qz(n,t,i)}catch(a){return z8(a,t,i)}},RL=function(t,e){var i=new Lb(e);try{var n=ny(t,i);return Hz(n,t,i)}catch(a){return z8(a,t,i)}},i4={version:"0.16.10",render:F8,renderToString:DL,ParseError:Be,SETTINGS_SCHEMA:Kh,__parse:NL,__renderToDomTree:ay,__renderToHTMLTree:RL,__setFontMetrics:mz,__defineSymbol:x,__defineFunction:We,__defineMacro:H,__domTree:{Span:Jf,Anchor:qb,SymbolNode:an,SvgNode:ya,PathNode:zs,LineNode:e1}};const ML={"\\st":"\\text{s.t.}","\\R":"\\mathbb{R}","\\Z":"\\mathbb{Z}","\\T":"^\\intercal","\\inv":"^{-1}","\\mat":"\\mathbf{#1}","\\A":"\\mat{A}","\\B":"\\mat{B}","\\b":"\\mat{b}","\\c":"\\mat{c}","\\x":"\\mat{x}","\\y":"\\mat{y}","\\zeros":"\\mat{0}","\\ones":"\\mat{1}","\\identity":"\\mat{I}","\\P":"\\mathcal{P}","\\NP":"\\mathcal{NP}","\\floor":"\\lfloor #1 \\rfloor","\\ceil":"\\lceil #1 \\rceil","\\bpi":"\\mathbb{\\pi}","\\Q":"\\mathbf{Q}","\\indicator":"\\boldsymbol{1}","\\prob":"P\\left( #1 \\right)","\\E":"E\\left( #1 \\right)","\\Var":"\\text{Var}!\\left( #1 \\right)"};function BL(r){let t,e;return{c(){t=ve("span"),e=P(r[5]),this.h()},l(i){t=ge(i,"SPAN",{class:!0});var n=Pe(t);e=D(n,r[5]),n.forEach($),this.h()},h(){fe(t,"class","notRendered svelte-a0fvc5")},m(i,n){S(i,t,n),oe(t,e)},p(i,n){n&32&&Gs(e,i[5])},d(i){i&&$(t)}}}function FL(r){let t,e=i4.renderToString(r[5],r[0])+"",i;return{c(){t=new Xn(!1),i=ct(),this.h()},l(n){t=Kn(n,!1),i=ct(),this.h()},h(){t.a=i},m(n,a){t.m(e,n,a),S(n,i,a)},p(n,a){a&33&&e!==(e=i4.renderToString(n[5],n[0])+"")&&t.p(e)},d(n){n&&($(i),t.d())}}}function zL(r){let t=!1,e=()=>{t=!1},i,n,a,s,o,l,u,f,h;Rs(r[19]),Rs(r[20]);const c=r[18].default,m=jt(c,r,r[17],null);function d(g,y){return g[9]||g[11]||g[3]?FL:BL}let v=d(r),b=v(r);return{c(){n=ve("link"),a=Se(),s=ve("span"),m&&m.c(),o=Se(),l=ve("span"),b.c(),this.h()},l(g){const y=XI("svelte-1fmc3zn",document.head);n=ge(y,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),y.forEach($),a=Ee(g),s=ge(g,"SPAN",{style:!0});var _=Pe(s);m&&m.l(_),_.forEach($),o=Ee(g),l=ge(g,"SPAN",{style:!0,role:!0,tabindex:!0});var w=Pe(l);b.l(w),w.forEach($),this.h()},h(){fe(n,"rel","stylesheet"),fe(n,"href","https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"),fe(n,"integrity","sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"),fe(n,"crossorigin","anonymous"),Ot(s,"display","none"),fe(l,"style",r[10]),fe(l,"role","button"),fe(l,"tabindex","0")},m(g,y){oe(document.head,n),S(g,a,y),S(g,s,y),m&&m.m(s,null),r[21](s),S(g,o,y),S(g,l,y),b.m(l,null),r[22](l),u=!0,f||(h=[gt(window,"scroll",()=>{t=!0,clearTimeout(i),i=setTimeout(e,100),r[19]()}),gt(window,"resize",r[20]),gt(l,"mouseover",function(){Vc(r[1])&&r[1].apply(this,arguments)}),gt(l,"mouseout",function(){Vc(r[2])&&r[2].apply(this,arguments)}),gt(l,"focus",function(){Vc(r[1])&&r[1].apply(this,arguments)}),gt(l,"blur",function(){Vc(r[2])&&r[2].apply(this,arguments)})],f=!0)},p(g,[y]){r=g,y&128&&!t&&(t=!0,clearTimeout(i),scrollTo(window.pageXOffset,r[7]),i=setTimeout(e,100)),m&&m.p&&(!u||y&131072)&&Ut(m,c,r,r[17],u?Ht(c,r[17],y,null):qt(r[17]),null),v===(v=d(r))&&b?b.p(r,y):(b.d(1),b=v(r),b&&(b.c(),b.m(l,null))),(!u||y&1024)&&fe(l,"style",r[10])},i(g){u||(z(m,g),u=!0)},o(g){L(m,g),u=!1},d(g){g&&($(a),$(s),$(o),$(l)),$(n),m&&m.d(g),r[21](null),b.d(),r[22](null),f=!1,Sn(h)}}}function LL(r,t,e){let i,n,a,s;xt(r,vF,k=>e(16,a=k)),xt(r,Zi,k=>e(11,s=k));let{$$slots:o={},$$scope:l}=t,{options:u}=t,{fontSize:f}=t,{refId:h=""}=t,{extraStyle:c=""}=t,{math:m=void 0}=t,{mouseOverFunction:d=void 0}=t,{mouseOutFunction:v=void 0}=t,{alwaysRender:b=!1}=t,g,y;u={...u,macros:ML};let _,w,O,I;VI(()=>{w=(_||{offsetTop:0}).offsetTop,w>0&&Math.abs(w-O)<=2*I&&e(9,n=!0)});function M(){e(7,O=window.pageYOffset)}function T(){e(8,I=window.innerHeight)}function E(k){nn[k?"unshift":"push"](()=>{g=k,e(4,g)})}function q(k){nn[k?"unshift":"push"](()=>{_=k,e(6,_)})}return r.$$set=k=>{"options"in k&&e(0,u=k.options),"fontSize"in k&&e(12,f=k.fontSize),"refId"in k&&e(13,h=k.refId),"extraStyle"in k&&e(14,c=k.extraStyle),"math"in k&&e(15,m=k.math),"mouseOverFunction"in k&&e(1,d=k.mouseOverFunction),"mouseOutFunction"in k&&e(2,v=k.mouseOutFunction),"alwaysRender"in k&&e(3,b=k.alwaysRender),"$$scope"in k&&e(17,l=k.$$scope)},r.$$.update=()=>{r.$$.dirty&20480&&e(10,i=`font-size:${f}em;`+c),r.$$.dirty&32816&&(e(5,y=m||`${g==null?void 0:g.innerText}`),e(5,y=y.replaceAll("{:underscore:}","_"))),r.$$.dirty&73728&&a.includes(h)&&e(9,n=!0)},e(9,n=!1),[u,d,v,b,g,y,_,O,I,n,i,s,f,h,c,m,a,l,o,M,T,E,q]}class L8 extends $t{constructor(t){super(),_t(this,t,LL,zL,yt,{options:0,fontSize:12,refId:13,extraStyle:14,math:15,mouseOverFunction:1,mouseOutFunction:2,alwaysRender:3})}}function jL(r){let t;const e=r[7].default,i=jt(e,r,r[9],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&512)&&Ut(i,e,n,n[9],t?Ht(e,n[9],a,null):qt(n[9]),null)},i(n){t||(z(i,n),t=!0)},o(n){L(i,n),t=!1},d(n){i&&i.d(n)}}}function UL(r){let t,e,i,n;return i=new L8({props:{options:r[6],fontSize:r[1],extraStyle:r[2],mouseOverFunction:r[3],mouseOutFunction:r[4],alwaysRender:r[0],$$slots:{default:[jL]},$$scope:{ctx:r}}}),{c(){t=ve("span"),e=Se(),V(i.$$.fragment)},l(a){t=ge(a,"SPAN",{}),Pe(t).forEach($),e=Ee(a),X(i.$$.fragment,a)},m(a,s){S(a,t,s),r[8](t),S(a,e,s),K(i,a,s),n=!0},p(a,[s]){const o={};s&2&&(o.fontSize=a[1]),s&4&&(o.extraStyle=a[2]),s&8&&(o.mouseOverFunction=a[3]),s&16&&(o.mouseOutFunction=a[4]),s&1&&(o.alwaysRender=a[0]),s&512&&(o.$$scope={dirty:s,ctx:a}),i.$set(o)},i(a){n||(z(i.$$.fragment,a),n=!0)},o(a){L(i.$$.fragment,a),n=!1},d(a){a&&($(t),$(e)),r[8](null),Y(i,a)}}}function qL(r,t,e){let{$$slots:i={},$$scope:n}=t,{fontSize:a=.9}=t,{extraStyle:s=""}=t,{mouseOverFunction:o=void 0}=t,{mouseOutFunction:l=void 0}=t,{alwaysRender:u=!1}=t;const f={displayMode:!1,throwOnError:!1};let h;function c(m){nn[m?"unshift":"push"](()=>{h=m,e(5,h)})}return r.$$set=m=>{"fontSize"in m&&e(1,a=m.fontSize),"extraStyle"in m&&e(2,s=m.extraStyle),"mouseOverFunction"in m&&e(3,o=m.mouseOverFunction),"mouseOutFunction"in m&&e(4,l=m.mouseOutFunction),"alwaysRender"in m&&e(0,u=m.alwaysRender),"$$scope"in m&&e(9,n=m.$$scope)},r.$$.update=()=>{if(r.$$.dirty&32&&h){const m=h.parentElement||{classList:[]};e(0,u=![...m.classList].includes("bodyText"))}},[u,a,s,o,l,h,f,i,c,n]}let Ae=class extends $t{constructor(t){super(),_t(this,t,qL,UL,yt,{fontSize:1,extraStyle:2,mouseOverFunction:3,mouseOutFunction:4,alwaysRender:0})}};/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function hp(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var j8={exports:{}},sh=function(r){return r&&r.Math===Math&&r},Kt=sh(typeof globalThis=="object"&&globalThis)||sh(typeof window=="object"&&window)||sh(typeof self=="object"&&self)||sh(typeof v0=="object"&&v0)||function(){return this}()||v0||Function("return this")(),Ct=function(r){try{return!!r()}catch{return!0}},HL=Ct,Zf=!HL(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),GL=Zf,U8=Function.prototype,n4=U8.apply,a4=U8.call,du=typeof Reflect=="object"&&Reflect.apply||(GL?a4.bind(n4):function(){return a4.apply(n4,arguments)}),q8=Zf,H8=Function.prototype,o1=H8.call,WL=q8&&H8.bind.bind(o1,o1),Vt=q8?WL:function(r){return function(){return o1.apply(r,arguments)}},G8=Vt,VL=G8({}.toString),XL=G8("".slice),Vs=function(r){return XL(VL(r),8,-1)},KL=Vs,YL=Vt,W8=function(r){if(KL(r)==="Function")return YL(r)},l1=typeof document=="object"&&document.all,JL=typeof l1>"u"&&l1!==void 0,V8={all:l1,IS_HTMLDDA:JL},X8=V8,QL=X8.all,ir=X8.IS_HTMLDDA?function(r){return typeof r=="function"||r===QL}:function(r){return typeof r=="function"},Go={},ZL=Ct,Ar=!ZL(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),ej=Zf,oh=Function.prototype.call,Ir=ej?oh.bind(oh):function(){return oh.apply(oh,arguments)},mp={},K8={}.propertyIsEnumerable,Y8=Object.getOwnPropertyDescriptor,tj=Y8&&!K8.call({1:2},1);mp.f=tj?function(t){var e=Y8(this,t);return!!e&&e.enumerable}:K8;var Wo=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}},rj=Vt,ij=Ct,nj=Vs,g0=Object,aj=rj("".split),pp=ij(function(){return!g0("z").propertyIsEnumerable(0)})?function(r){return nj(r)==="String"?aj(r,""):g0(r)}:g0,vu=function(r){return r==null},sj=vu,oj=TypeError,sy=function(r){if(sj(r))throw new oj("Can't call method on "+r);return r},lj=pp,uj=sy,Zn=function(r){return lj(uj(r))},s4=ir,J8=V8,fj=J8.all,Gr=J8.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:s4(r)||r===fj}:function(r){return typeof r=="object"?r!==null:s4(r)},Yt={},b0=Yt,y0=Kt,cj=ir,o4=function(r){return cj(r)?r:void 0},ai=function(r,t){return arguments.length<2?o4(b0[r])||o4(y0[r]):b0[r]&&b0[r][t]||y0[r]&&y0[r][t]},hj=Vt,gr=hj({}.isPrototypeOf),Xs=typeof navigator<"u"&&String(navigator.userAgent)||"",Q8=Kt,$0=Xs,l4=Q8.process,u4=Q8.Deno,f4=l4&&l4.versions||u4&&u4.version,c4=f4&&f4.v8,dn,xm;c4&&(dn=c4.split("."),xm=dn[0]>0&&dn[0]<4?1:+(dn[0]+dn[1]));!xm&&$0&&(dn=$0.match(/Edge\/(\d+)/),(!dn||dn[1]>=74)&&(dn=$0.match(/Chrome\/(\d+)/),dn&&(xm=+dn[1])));var gu=xm,h4=gu,mj=Ct,pj=Kt,dj=pj.String,bu=!!Object.getOwnPropertySymbols&&!mj(function(){var r=Symbol("symbol detection");return!dj(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&h4&&h4<41}),vj=bu,Z8=vj&&!Symbol.sham&&typeof Symbol.iterator=="symbol",gj=ai,bj=ir,yj=gr,$j=Z8,_j=Object,ec=$j?function(r){return typeof r=="symbol"}:function(r){var t=gj("Symbol");return bj(t)&&yj(t.prototype,_j(r))},wj=String,yu=function(r){try{return wj(r)}catch{return"Object"}},xj=ir,Sj=yu,Ej=TypeError,_i=function(r){if(xj(r))return r;throw new Ej(Sj(r)+" is not a function")},kj=_i,Tj=vu,oy=function(r,t){var e=r[t];return Tj(e)?void 0:kj(e)},_0=Ir,w0=ir,x0=Gr,Oj=TypeError,Aj=function(r,t){var e,i;if(t==="string"&&w0(e=r.toString)&&!x0(i=_0(e,r))||w0(e=r.valueOf)&&!x0(i=_0(e,r))||t!=="string"&&w0(e=r.toString)&&!x0(i=_0(e,r)))return i;throw new Oj("Can't convert object to primitive value")},eE={exports:{}},Ij=!0,m4=Kt,Cj=Object.defineProperty,Pj=function(r,t){try{Cj(m4,r,{value:t,configurable:!0,writable:!0})}catch{m4[r]=t}return t},Dj=Kt,Nj=Pj,p4="__core-js_shared__",Rj=Dj[p4]||Nj(p4,{}),ly=Rj,d4=ly;(eE.exports=function(r,t){return d4[r]||(d4[r]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var $u=eE.exports,Mj=sy,Bj=Object,wi=function(r){return Bj(Mj(r))},Fj=Vt,zj=wi,Lj=Fj({}.hasOwnProperty),br=Object.hasOwn||function(t,e){return Lj(zj(t),e)},jj=Vt,Uj=0,qj=Math.random(),Hj=jj(1 .toString),dp=function(r){return"Symbol("+(r===void 0?"":r)+")_"+Hj(++Uj+qj,36)},Gj=Kt,Wj=$u,v4=br,Vj=dp,Xj=bu,Kj=Z8,Il=Gj.Symbol,S0=Wj("wks"),Yj=Kj?Il.for||Il:Il&&Il.withoutSetter||Vj,Zt=function(r){return v4(S0,r)||(S0[r]=Xj&&v4(Il,r)?Il[r]:Yj("Symbol."+r)),S0[r]},Jj=Ir,g4=Gr,b4=ec,Qj=oy,Zj=Aj,eU=Zt,tU=TypeError,rU=eU("toPrimitive"),iU=function(r,t){if(!g4(r)||b4(r))return r;var e=Qj(r,rU),i;if(e){if(t===void 0&&(t="default"),i=Jj(e,r,t),!g4(i)||b4(i))return i;throw new tU("Can't convert object to primitive value")}return t===void 0&&(t="number"),Zj(r,t)},nU=iU,aU=ec,vp=function(r){var t=nU(r,"string");return aU(t)?t:t+""},sU=Kt,y4=Gr,u1=sU.document,oU=y4(u1)&&y4(u1.createElement),uy=function(r){return oU?u1.createElement(r):{}},lU=Ar,uU=Ct,fU=uy,tE=!lU&&!uU(function(){return Object.defineProperty(fU("div"),"a",{get:function(){return 7}}).a!==7}),cU=Ar,hU=Ir,mU=mp,pU=Wo,dU=Zn,vU=vp,gU=br,bU=tE,$4=Object.getOwnPropertyDescriptor;Go.f=cU?$4:function(t,e){if(t=dU(t),e=vU(e),bU)try{return $4(t,e)}catch{}if(gU(t,e))return pU(!hU(mU.f,t,e),t[e])};var yU=Ct,$U=ir,_U=/#|\.prototype\./,tc=function(r,t){var e=xU[wU(r)];return e===EU?!0:e===SU?!1:$U(t)?yU(t):!!t},wU=tc.normalize=function(r){return String(r).replace(_U,".").toLowerCase()},xU=tc.data={},SU=tc.NATIVE="N",EU=tc.POLYFILL="P",rE=tc,_4=W8,kU=_i,TU=Zf,OU=_4(_4.bind),Ks=function(r,t){return kU(r),t===void 0?r:TU?OU(r,t):function(){return r.apply(t,arguments)}},xi={},AU=Ar,IU=Ct,iE=AU&&IU(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),CU=Gr,PU=String,DU=TypeError,Ni=function(r){if(CU(r))return r;throw new DU(PU(r)+" is not an object")},NU=Ar,RU=tE,MU=iE,lh=Ni,w4=vp,BU=TypeError,E0=Object.defineProperty,FU=Object.getOwnPropertyDescriptor,k0="enumerable",T0="configurable",O0="writable";xi.f=NU?MU?function(t,e,i){if(lh(t),e=w4(e),lh(i),typeof t=="function"&&e==="prototype"&&"value"in i&&O0 in i&&!i[O0]){var n=FU(t,e);n&&n[O0]&&(t[e]=i.value,i={configurable:T0 in i?i[T0]:n[T0],enumerable:k0 in i?i[k0]:n[k0],writable:!1})}return E0(t,e,i)}:E0:function(t,e,i){if(lh(t),e=w4(e),lh(i),RU)try{return E0(t,e,i)}catch{}if("get"in i||"set"in i)throw new BU("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var zU=Ar,LU=xi,jU=Wo,Ta=zU?function(r,t,e){return LU.f(r,t,jU(1,e))}:function(r,t,e){return r[t]=e,r},uh=Kt,UU=du,qU=W8,HU=ir,GU=Go.f,WU=rE,vl=Yt,VU=Ks,gl=Ta,x4=br,XU=function(r){var t=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,i)}return new r(e,i,n)}return UU(r,this,arguments)};return t.prototype=r.prototype,t},it=function(r,t){var e=r.target,i=r.global,n=r.stat,a=r.proto,s=i?uh:n?uh[e]:(uh[e]||{}).prototype,o=i?vl:vl[e]||gl(vl,e,{})[e],l=o.prototype,u,f,h,c,m,d,v,b,g;for(c in t)u=WU(i?c:e+(n?".":"#")+c,r.forced),f=!u&&s&&x4(s,c),d=o[c],f&&(r.dontCallGetSet?(g=GU(s,c),v=g&&g.value):v=s[c]),m=f&&v?v:t[c],!(f&&typeof d==typeof m)&&(r.bind&&f?b=VU(m,uh):r.wrap&&f?b=XU(m):a&&HU(m)?b=qU(m):b=m,(r.sham||m&&m.sham||d&&d.sham)&&gl(b,"sham",!0),gl(o,c,b),a&&(h=e+"Prototype",x4(vl,h)||gl(vl,h,{}),gl(vl[h],c,m),r.real&&l&&(u||!l[c])&&gl(l,c,m)))},KU=it,YU=Ar,S4=xi.f;KU({target:"Object",stat:!0,forced:Object.defineProperty!==S4,sham:!YU},{defineProperty:S4});var JU=Yt,nE=JU.Object,QU=j8.exports=function(t,e,i){return nE.defineProperty(t,e,i)};nE.defineProperty.sham&&(QU.sham=!0);var ZU=j8.exports,eq=ZU,aE=eq,tq=aE,rq=tq,iq=rq,nq=iq,sE=nq,gp=st(sE),aq=Vs,Ys=Array.isArray||function(t){return aq(t)==="Array"},sq=Math.ceil,oq=Math.floor,lq=Math.trunc||function(t){var e=+t;return(e>0?oq:sq)(e)},uq=lq,bp=function(r){var t=+r;return t!==t||t===0?0:uq(t)},fq=bp,cq=Math.min,hq=function(r){return r>0?cq(fq(r),9007199254740991):0},mq=hq,Ri=function(r){return mq(r.length)},pq=TypeError,dq=9007199254740991,yp=function(r){if(r>dq)throw pq("Maximum allowed index exceeded");return r},vq=vp,gq=xi,bq=Wo,_u=function(r,t,e){var i=vq(t);i in r?gq.f(r,i,bq(0,e)):r[i]=e},yq=Zt,$q=yq("toStringTag"),oE={};oE[$q]="z";var fy=String(oE)==="[object z]",_q=fy,wq=ir,Jh=Vs,xq=Zt,Sq=xq("toStringTag"),Eq=Object,kq=Jh(function(){return arguments}())==="Arguments",Tq=function(r,t){try{return r[t]}catch{}},Oa=_q?Jh:function(r){var t,e,i;return r===void 0?"Undefined":r===null?"Null":typeof(e=Tq(t=Eq(r),Sq))=="string"?e:kq?Jh(t):(i=Jh(t))==="Object"&&wq(t.callee)?"Arguments":i},Oq=Vt,Aq=ir,f1=ly,Iq=Oq(Function.toString);Aq(f1.inspectSource)||(f1.inspectSource=function(r){return Iq(r)});var lE=f1.inspectSource,Cq=Vt,Pq=Ct,uE=ir,Dq=Oa,Nq=ai,Rq=lE,fE=function(){},Mq=[],cE=Nq("Reflect","construct"),cy=/^\s*(?:class|function)\b/,Bq=Cq(cy.exec),Fq=!cy.test(fE),Wu=function(t){if(!uE(t))return!1;try{return cE(fE,Mq,t),!0}catch{return!1}},hE=function(t){if(!uE(t))return!1;switch(Dq(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Fq||!!Bq(cy,Rq(t))}catch{return!0}};hE.sham=!0;var $p=!cE||Pq(function(){var r;return Wu(Wu.call)||!Wu(Object)||!Wu(function(){r=!0})||r})?hE:Wu,E4=Ys,zq=$p,Lq=Gr,jq=Zt,Uq=jq("species"),k4=Array,qq=function(r){var t;return E4(r)&&(t=r.constructor,zq(t)&&(t===k4||E4(t.prototype))?t=void 0:Lq(t)&&(t=t[Uq],t===null&&(t=void 0))),t===void 0?k4:t},Hq=qq,_p=function(r,t){return new(Hq(r))(t===0?0:t)},Gq=Ct,Wq=Zt,Vq=gu,Xq=Wq("species"),rc=function(r){return Vq>=51||!Gq(function(){var t=[],e=t.constructor={};return e[Xq]=function(){return{foo:1}},t[r](Boolean).foo!==1})},Kq=it,Yq=Ct,Jq=Ys,Qq=Gr,Zq=wi,eH=Ri,T4=yp,O4=_u,tH=_p,rH=rc,iH=Zt,nH=gu,mE=iH("isConcatSpreadable"),aH=nH>=51||!Yq(function(){var r=[];return r[mE]=!1,r.concat()[0]!==r}),sH=function(r){if(!Qq(r))return!1;var t=r[mE];return t!==void 0?!!t:Jq(r)},oH=!aH||!rH("concat");Kq({target:"Array",proto:!0,arity:1,forced:oH},{concat:function(t){var e=Zq(this),i=tH(e,0),n=0,a,s,o,l,u;for(a=-1,o=arguments.length;a<o;a++)if(u=a===-1?e:arguments[a],sH(u))for(l=eH(u),T4(n+l),s=0;s<l;s++,n++)s in u&&O4(i,n,u[s]);else T4(n+1),O4(i,n++,u);return i.length=n,i}});var lH=Oa,uH=String,Vo=function(r){if(lH(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return uH(r)},wp={},fH=bp,cH=Math.max,hH=Math.min,xp=function(r,t){var e=fH(r);return e<0?cH(e+t,0):hH(e,t)},mH=Zn,pH=xp,dH=Ri,A4=function(r){return function(t,e,i){var n=mH(t),a=dH(n),s=pH(i,a),o;if(r&&e!==e){for(;a>s;)if(o=n[s++],o!==o)return!0}else for(;a>s;s++)if((r||s in n)&&n[s]===e)return r||s||0;return!r&&-1}},vH={includes:A4(!0),indexOf:A4(!1)},ic={},gH=Vt,A0=br,bH=Zn,yH=vH.indexOf,$H=ic,I4=gH([].push),pE=function(r,t){var e=bH(r),i=0,n=[],a;for(a in e)!A0($H,a)&&A0(e,a)&&I4(n,a);for(;t.length>i;)A0(e,a=t[i++])&&(~yH(n,a)||I4(n,a));return n},hy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_H=pE,wH=hy,Sp=Object.keys||function(t){return _H(t,wH)},xH=Ar,SH=iE,EH=xi,kH=Ni,TH=Zn,OH=Sp;wp.f=xH&&!SH?Object.defineProperties:function(t,e){kH(t);for(var i=TH(e),n=OH(e),a=n.length,s=0,o;a>s;)EH.f(t,o=n[s++],i[o]);return t};var AH=ai,dE=AH("document","documentElement"),IH=$u,CH=dp,C4=IH("keys"),Ep=function(r){return C4[r]||(C4[r]=CH(r))},PH=Ni,DH=wp,P4=hy,NH=ic,RH=dE,MH=uy,BH=Ep,D4=">",N4="<",c1="prototype",h1="script",vE=BH("IE_PROTO"),I0=function(){},gE=function(r){return N4+h1+D4+r+N4+"/"+h1+D4},R4=function(r){r.write(gE("")),r.close();var t=r.parentWindow.Object;return r=null,t},FH=function(){var r=MH("iframe"),t="java"+h1+":",e;return r.style.display="none",RH.appendChild(r),r.src=String(t),e=r.contentWindow.document,e.open(),e.write(gE("document.F=Object")),e.close(),e.F},fh,Qh=function(){try{fh=new ActiveXObject("htmlfile")}catch{}Qh=typeof document<"u"?document.domain&&fh?R4(fh):FH():R4(fh);for(var r=P4.length;r--;)delete Qh[c1][P4[r]];return Qh()};NH[vE]=!0;var Xo=Object.create||function(t,e){var i;return t!==null?(I0[c1]=PH(t),i=new I0,I0[c1]=null,i[vE]=t):i=Qh(),e===void 0?i:DH.f(i,e)},nc={},zH=pE,LH=hy,jH=LH.concat("length","prototype");nc.f=Object.getOwnPropertyNames||function(t){return zH(t,jH)};var my={},M4=xp,UH=Ri,qH=_u,HH=Array,GH=Math.max,bE=function(r,t,e){for(var i=UH(r),n=M4(t,i),a=M4(e===void 0?i:e,i),s=HH(GH(a-n,0)),o=0;n<a;n++,o++)qH(s,o,r[n]);return s.length=o,s},WH=Vs,VH=Zn,yE=nc.f,XH=bE,$E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],KH=function(r){try{return yE(r)}catch{return XH($E)}};my.f=function(t){return $E&&WH(t)==="Window"?KH(t):yE(VH(t))};var ac={};ac.f=Object.getOwnPropertySymbols;var YH=Ta,wu=function(r,t,e,i){return i&&i.enumerable?r[t]=e:YH(r,t,e),r},JH=xi,py=function(r,t,e){return JH.f(r,t,e)},sc={},QH=Zt;sc.f=QH;var B4=Yt,ZH=br,eG=sc,tG=xi.f,nr=function(r){var t=B4.Symbol||(B4.Symbol={});ZH(t,r)||tG(t,r,{value:eG.f(r)})},rG=Ir,iG=ai,nG=Zt,aG=wu,_E=function(){var r=iG("Symbol"),t=r&&r.prototype,e=t&&t.valueOf,i=nG("toPrimitive");t&&!t[i]&&aG(t,i,function(n){return rG(e,this)},{arity:1})},sG=fy,oG=Oa,lG=sG?{}.toString:function(){return"[object "+oG(this)+"]"},uG=fy,fG=xi.f,cG=Ta,hG=br,mG=lG,pG=Zt,F4=pG("toStringTag"),Ko=function(r,t,e,i){if(r){var n=e?r:r.prototype;hG(n,F4)||fG(n,F4,{configurable:!0,value:t}),i&&!uG&&cG(n,"toString",mG)}},dG=Kt,vG=ir,z4=dG.WeakMap,gG=vG(z4)&&/native code/.test(String(z4)),bG=gG,wE=Kt,yG=Gr,$G=Ta,C0=br,P0=ly,_G=Ep,wG=ic,L4="Object already initialized",m1=wE.TypeError,xG=wE.WeakMap,Sm,Cf,Em,SG=function(r){return Em(r)?Cf(r):Sm(r,{})},EG=function(r){return function(t){var e;if(!yG(t)||(e=Cf(t)).type!==r)throw new m1("Incompatible receiver, "+r+" required");return e}};if(bG||P0.state){var Cn=P0.state||(P0.state=new xG);Cn.get=Cn.get,Cn.has=Cn.has,Cn.set=Cn.set,Sm=function(r,t){if(Cn.has(r))throw new m1(L4);return t.facade=r,Cn.set(r,t),t},Cf=function(r){return Cn.get(r)||{}},Em=function(r){return Cn.has(r)}}else{var bl=_G("state");wG[bl]=!0,Sm=function(r,t){if(C0(r,bl))throw new m1(L4);return t.facade=r,$G(r,bl,t),t},Cf=function(r){return C0(r,bl)?r[bl]:{}},Em=function(r){return C0(r,bl)}}var xu={set:Sm,get:Cf,has:Em,enforce:SG,getterFor:EG},kG=Ks,TG=Vt,OG=pp,AG=wi,IG=Ri,CG=_p,j4=TG([].push),ps=function(r){var t=r===1,e=r===2,i=r===3,n=r===4,a=r===6,s=r===7,o=r===5||a;return function(l,u,f,h){for(var c=AG(l),m=OG(c),d=kG(u,f),v=IG(m),b=0,g=h||CG,y=t?g(l,v):e||s?g(l,0):void 0,_,w;v>b;b++)if((o||b in m)&&(_=m[b],w=d(_,b,c),r))if(t)y[b]=w;else if(w)switch(r){case 3:return!0;case 5:return _;case 6:return b;case 2:j4(y,_)}else switch(r){case 4:return!1;case 7:j4(y,_)}return a?-1:i||n?n:y}},Su={forEach:ps(0),map:ps(1),filter:ps(2),some:ps(3),every:ps(4),find:ps(5),findIndex:ps(6),filterReject:ps(7)},kp=it,oc=Kt,dy=Ir,PG=Vt,Ql=Ar,Zl=bu,DG=Ct,Tr=br,NG=gr,p1=Ni,Tp=Zn,vy=vp,RG=Vo,d1=Wo,Pf=Xo,xE=Sp,MG=nc,SE=my,BG=ac,EE=Go,kE=xi,FG=wp,TE=mp,U4=wu,zG=py,gy=$u,LG=Ep,OE=ic,q4=dp,jG=Zt,UG=sc,qG=nr,HG=_E,GG=Ko,AE=xu,Op=Su.forEach,mi=LG("hidden"),Ap="Symbol",Df="prototype",WG=AE.set,H4=AE.getterFor(Ap),yn=Object[Df],go=oc.Symbol,ef=go&&go[Df],VG=oc.RangeError,XG=oc.TypeError,D0=oc.QObject,IE=EE.f,bo=kE.f,CE=SE.f,KG=TE.f,PE=PG([].push),wa=gy("symbols"),lc=gy("op-symbols"),YG=gy("wks"),v1=!D0||!D0[Df]||!D0[Df].findChild,DE=function(r,t,e){var i=IE(yn,t);i&&delete yn[t],bo(r,t,e),i&&r!==yn&&bo(yn,t,i)},g1=Ql&&DG(function(){return Pf(bo({},"a",{get:function(){return bo(this,"a",{value:7}).a}})).a!==7})?DE:bo,N0=function(r,t){var e=wa[r]=Pf(ef);return WG(e,{type:Ap,tag:r,description:t}),Ql||(e.description=t),e},Ip=function(t,e,i){t===yn&&Ip(lc,e,i),p1(t);var n=vy(e);return p1(i),Tr(wa,n)?(i.enumerable?(Tr(t,mi)&&t[mi][n]&&(t[mi][n]=!1),i=Pf(i,{enumerable:d1(0,!1)})):(Tr(t,mi)||bo(t,mi,d1(1,{})),t[mi][n]=!0),g1(t,n,i)):bo(t,n,i)},by=function(t,e){p1(t);var i=Tp(e),n=xE(i).concat(BE(i));return Op(n,function(a){(!Ql||dy(NE,i,a))&&Ip(t,a,i[a])}),t},JG=function(t,e){return e===void 0?Pf(t):by(Pf(t),e)},NE=function(t){var e=vy(t),i=dy(KG,this,e);return this===yn&&Tr(wa,e)&&!Tr(lc,e)?!1:i||!Tr(this,e)||!Tr(wa,e)||Tr(this,mi)&&this[mi][e]?i:!0},RE=function(t,e){var i=Tp(t),n=vy(e);if(!(i===yn&&Tr(wa,n)&&!Tr(lc,n))){var a=IE(i,n);return a&&Tr(wa,n)&&!(Tr(i,mi)&&i[mi][n])&&(a.enumerable=!0),a}},ME=function(t){var e=CE(Tp(t)),i=[];return Op(e,function(n){!Tr(wa,n)&&!Tr(OE,n)&&PE(i,n)}),i},BE=function(r){var t=r===yn,e=CE(t?lc:Tp(r)),i=[];return Op(e,function(n){Tr(wa,n)&&(!t||Tr(yn,n))&&PE(i,wa[n])}),i};Zl||(go=function(){if(NG(ef,this))throw new XG("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:RG(arguments[0]),e=q4(t),i=function(n){var a=this===void 0?oc:this;a===yn&&dy(i,lc,n),Tr(a,mi)&&Tr(a[mi],e)&&(a[mi][e]=!1);var s=d1(1,n);try{g1(a,e,s)}catch(o){if(!(o instanceof VG))throw o;DE(a,e,s)}};return Ql&&v1&&g1(yn,e,{configurable:!0,set:i}),N0(e,t)},ef=go[Df],U4(ef,"toString",function(){return H4(this).tag}),U4(go,"withoutSetter",function(r){return N0(q4(r),r)}),TE.f=NE,kE.f=Ip,FG.f=by,EE.f=RE,MG.f=SE.f=ME,BG.f=BE,UG.f=function(r){return N0(jG(r),r)},Ql&&zG(ef,"description",{configurable:!0,get:function(){return H4(this).description}}));kp({global:!0,constructor:!0,wrap:!0,forced:!Zl,sham:!Zl},{Symbol:go});Op(xE(YG),function(r){qG(r)});kp({target:Ap,stat:!0,forced:!Zl},{useSetter:function(){v1=!0},useSimple:function(){v1=!1}});kp({target:"Object",stat:!0,forced:!Zl,sham:!Ql},{create:JG,defineProperty:Ip,defineProperties:by,getOwnPropertyDescriptor:RE});kp({target:"Object",stat:!0,forced:!Zl},{getOwnPropertyNames:ME});HG();GG(go,Ap);OE[mi]=!0;var QG=bu,FE=QG&&!!Symbol.for&&!!Symbol.keyFor,ZG=it,eW=ai,tW=br,rW=Vo,zE=$u,iW=FE,R0=zE("string-to-symbol-registry"),nW=zE("symbol-to-string-registry");ZG({target:"Symbol",stat:!0,forced:!iW},{for:function(r){var t=rW(r);if(tW(R0,t))return R0[t];var e=eW("Symbol")(t);return R0[t]=e,nW[e]=t,e}});var aW=it,sW=br,oW=ec,lW=yu,uW=$u,fW=FE,G4=uW("symbol-to-string-registry");aW({target:"Symbol",stat:!0,forced:!fW},{keyFor:function(t){if(!oW(t))throw new TypeError(lW(t)+" is not a symbol");if(sW(G4,t))return G4[t]}});var cW=Vt,uc=cW([].slice),hW=Vt,W4=Ys,mW=ir,V4=Vs,pW=Vo,X4=hW([].push),dW=function(r){if(mW(r))return r;if(W4(r)){for(var t=r.length,e=[],i=0;i<t;i++){var n=r[i];typeof n=="string"?X4(e,n):(typeof n=="number"||V4(n)==="Number"||V4(n)==="String")&&X4(e,pW(n))}var a=e.length,s=!0;return function(o,l){if(s)return s=!1,l;if(W4(this))return l;for(var u=0;u<a;u++)if(e[u]===o)return l}}},vW=it,LE=ai,jE=du,gW=Ir,fc=Vt,UE=Ct,K4=ir,Y4=ec,qE=uc,bW=dW,yW=bu,$W=String,Os=LE("JSON","stringify"),ch=fc(/./.exec),J4=fc("".charAt),_W=fc("".charCodeAt),wW=fc("".replace),xW=fc(1 .toString),SW=/[\uD800-\uDFFF]/g,Q4=/^[\uD800-\uDBFF]$/,Z4=/^[\uDC00-\uDFFF]$/,ew=!yW||UE(function(){var r=LE("Symbol")("stringify detection");return Os([r])!=="[null]"||Os({a:r})!=="{}"||Os(Object(r))!=="{}"}),tw=UE(function(){return Os("\uDF06\uD834")!=='"\\udf06\\ud834"'||Os("\uDEAD")!=='"\\udead"'}),EW=function(r,t){var e=qE(arguments),i=bW(t);if(!(!K4(i)&&(r===void 0||Y4(r))))return e[1]=function(n,a){if(K4(i)&&(a=gW(i,this,$W(n),a)),!Y4(a))return a},jE(Os,null,e)},kW=function(r,t,e){var i=J4(e,t-1),n=J4(e,t+1);return ch(Q4,r)&&!ch(Z4,n)||ch(Z4,r)&&!ch(Q4,i)?"\\u"+xW(_W(r,0),16):r};Os&&vW({target:"JSON",stat:!0,arity:3,forced:ew||tw},{stringify:function(t,e,i){var n=qE(arguments),a=jE(ew?EW:Os,null,n);return tw&&typeof a=="string"?wW(a,SW,kW):a}});var TW=it,OW=bu,AW=Ct,HE=ac,IW=wi,CW=!OW||AW(function(){HE.f(1)});TW({target:"Object",stat:!0,forced:CW},{getOwnPropertySymbols:function(t){var e=HE.f;return e?e(IW(t)):[]}});var PW=nr;PW("asyncIterator");var DW=nr;DW("hasInstance");var NW=nr;NW("isConcatSpreadable");var RW=nr;RW("iterator");var MW=nr;MW("match");var BW=nr;BW("matchAll");var FW=nr;FW("replace");var zW=nr;zW("search");var LW=nr;LW("species");var jW=nr;jW("split");var UW=nr,qW=_E;UW("toPrimitive");qW();var HW=ai,GW=nr,WW=Ko;GW("toStringTag");WW(HW("Symbol"),"Symbol");var VW=nr;VW("unscopables");var XW=Kt,KW=Ko;KW(XW.JSON,"JSON",!0);var YW=Yt,JW=YW.Symbol,Eu={},b1=Ar,QW=br,GE=Function.prototype,ZW=b1&&Object.getOwnPropertyDescriptor,yy=QW(GE,"name"),eV=yy&&(function(){}).name==="something",tV=yy&&(!b1||b1&&ZW(GE,"name").configurable),rV={EXISTS:yy,PROPER:eV,CONFIGURABLE:tV},iV=Ct,WE=!iV(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),nV=br,aV=ir,sV=wi,oV=Ep,lV=WE,rw=oV("IE_PROTO"),y1=Object,uV=y1.prototype,Cp=lV?y1.getPrototypeOf:function(r){var t=sV(r);if(nV(t,rw))return t[rw];var e=t.constructor;return aV(e)&&t instanceof e?e.prototype:t instanceof y1?uV:null},fV=Ct,cV=ir,hV=Gr,mV=Xo,iw=Cp,pV=wu,dV=Zt,$1=dV("iterator"),VE=!1,ua,M0,B0;[].keys&&(B0=[].keys(),"next"in B0?(M0=iw(iw(B0)),M0!==Object.prototype&&(ua=M0)):VE=!0);var vV=!hV(ua)||fV(function(){var r={};return ua[$1].call(r)!==r});vV?ua={}:ua=mV(ua);cV(ua[$1])||pV(ua,$1,function(){return this});var XE={IteratorPrototype:ua,BUGGY_SAFARI_ITERATORS:VE},gV=XE.IteratorPrototype,bV=Xo,yV=Wo,$V=Ko,_V=Eu,wV=function(){return this},xV=function(r,t,e,i){var n=t+" Iterator";return r.prototype=bV(gV,{next:yV(+!i,e)}),$V(r,n,!1,!0),_V[n]=wV,r},SV=Vt,EV=_i,kV=function(r,t,e){try{return SV(EV(Object.getOwnPropertyDescriptor(r,t)[e]))}catch{}},TV=ir,OV=String,AV=TypeError,IV=function(r){if(typeof r=="object"||TV(r))return r;throw new AV("Can't set "+OV(r)+" as a prototype")},CV=kV,PV=Ni,DV=IV,KE=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,t={},e;try{e=CV(Object.prototype,"__proto__","set"),e(t,[]),r=t instanceof Array}catch{}return function(n,a){return PV(n),DV(a),r?e(n,a):n.__proto__=a,n}}():void 0),NV=it,RV=Ir,MV=rV,BV=xV,FV=Cp,zV=Ko,nw=wu,LV=Zt,aw=Eu,jV=XE,UV=MV.PROPER,hh=jV.BUGGY_SAFARI_ITERATORS,F0=LV("iterator"),sw="keys",mh="values",ow="entries",qV=function(){return this},$y=function(r,t,e,i,n,a,s){BV(e,t,i);var o=function(g){if(g===n&&c)return c;if(!hh&&g&&g in f)return f[g];switch(g){case sw:return function(){return new e(this,g)};case mh:return function(){return new e(this,g)};case ow:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,f=r.prototype,h=f[F0]||f["@@iterator"]||n&&f[n],c=!hh&&h||o(n),m=t==="Array"&&f.entries||h,d,v,b;if(m&&(d=FV(m.call(new r)),d!==Object.prototype&&d.next&&(zV(d,l,!0,!0),aw[l]=qV)),UV&&n===mh&&h&&h.name!==mh&&(u=!0,c=function(){return RV(h,this)}),n)if(v={values:o(mh),keys:a?c:o(sw),entries:o(ow)},s)for(b in v)(hh||u||!(b in f))&&nw(f,b,v[b]);else NV({target:t,proto:!0,forced:hh||u},v);return s&&f[F0]!==c&&nw(f,F0,c,{name:n}),aw[t]=c,v},_y=function(r,t){return{value:r,done:t}},HV=Zn,lw=Eu,YE=xu;xi.f;var GV=$y,ph=_y,JE="Array Iterator",WV=YE.set,VV=YE.getterFor(JE);GV(Array,"Array",function(r,t){WV(this,{type:JE,target:HV(r),index:0,kind:t})},function(){var r=VV(this),t=r.target,e=r.index++;if(!t||e>=t.length)return r.target=void 0,ph(void 0,!0);switch(r.kind){case"keys":return ph(e,!1);case"values":return ph(t[e],!1)}return ph([e,t[e]],!1)},"values");lw.Arguments=lw.Array;var XV={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},KV=XV,YV=Kt,JV=Oa,QV=Ta,uw=Eu,ZV=Zt,fw=ZV("toStringTag");for(var z0 in KV){var cw=YV[z0],L0=cw&&cw.prototype;L0&&JV(L0)!==fw&&QV(L0,fw,z0),uw[z0]=uw.Array}var eX=JW,QE=eX,tX=Zt,rX=xi.f,hw=tX("metadata"),mw=Function.prototype;mw[hw]===void 0&&rX(mw,hw,{value:null});var iX=nr;iX("asyncDispose");var nX=nr;nX("dispose");var aX=nr;aX("metadata");var sX=QE,oX=sX,lX=ai,uX=Vt,wy=lX("Symbol"),fX=wy.keyFor,cX=uX(wy.prototype.valueOf),ZE=wy.isRegisteredSymbol||function(t){try{return fX(cX(t))!==void 0}catch{return!1}},hX=it,mX=ZE;hX({target:"Symbol",stat:!0},{isRegisteredSymbol:mX});var pX=$u,ek=ai,dX=Vt,vX=ec,gX=Zt,km=ek("Symbol"),pw=km.isWellKnownSymbol,tk=ek("Object","getOwnPropertyNames"),bX=dX(km.prototype.valueOf),dw=pX("wks");for(var j0=0,vw=tk(km),yX=vw.length;j0<yX;j0++)try{var gw=vw[j0];vX(km[gw])&&gX(gw)}catch{}var rk=function(t){if(pw&&pw(t))return!0;try{for(var e=bX(t),i=0,n=tk(dw),a=n.length;i<a;i++)if(dw[n[i]]==e)return!0}catch{}return!1},$X=it,_X=rk;$X({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:_X});var wX=nr;wX("matcher");var xX=nr;xX("observable");var SX=it,EX=ZE;SX({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:EX});var kX=it,TX=rk;kX({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:TX});var OX=nr;OX("metadataKey");var AX=nr;AX("patternMatch");var IX=nr;IX("replaceAll");var CX=oX,PX=CX,xy=PX,Cl=st(xy),Sy=Vt,DX=bp,NX=Vo,RX=sy,MX=Sy("".charAt),bw=Sy("".charCodeAt),BX=Sy("".slice),yw=function(r){return function(t,e){var i=NX(RX(t)),n=DX(e),a=i.length,s,o;return n<0||n>=a?r?"":void 0:(s=bw(i,n),s<55296||s>56319||n+1===a||(o=bw(i,n+1))<56320||o>57343?r?MX(i,n):s:r?BX(i,n,n+2):(s-55296<<10)+(o-56320)+65536)}},FX={codeAt:yw(!1),charAt:yw(!0)},zX=FX.charAt,LX=Vo,ik=xu,jX=$y,$w=_y,nk="String Iterator",UX=ik.set,qX=ik.getterFor(nk);jX(String,"String",function(r){UX(this,{type:nk,string:LX(r),index:0})},function(){var t=qX(this),e=t.string,i=t.index,n;return i>=e.length?$w(void 0,!0):(n=zX(e,i),t.index+=n.length,$w(n,!1))});var HX=sc,GX=HX.f("iterator"),WX=GX,ak=WX,VX=ak,XX=VX,KX=XX,YX=KX,sk=YX,JX=st(sk);function eu(r){"@babel/helpers - typeof";return eu=typeof Cl=="function"&&typeof JX=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Cl=="function"&&t.constructor===Cl&&t!==Cl.prototype?"symbol":typeof t},eu(r)}var QX=sc,ZX=QX.f("toPrimitive"),eK=ZX,tK=eK,rK=tK,iK=rK,nK=iK,aK=nK,sK=aK,oK=st(sK);function lK(r,t){if(eu(r)!=="object"||r===null)return r;var e=r[oK];if(e!==void 0){var i=e.call(r,t||"default");if(eu(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function ok(r){var t=lK(r,"string");return eu(t)==="symbol"?t:String(t)}function _w(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),gp(r,ok(i.key),i)}}function Pp(r,t,e){return t&&_w(r.prototype,t),e&&_w(r,e),gp(r,"prototype",{writable:!1}),r}function As(r,t,e){return t=ok(t),t in r?gp(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var lk=Vt,uK=_i,fK=Gr,cK=br,ww=uc,hK=Zf,uk=Function,mK=lk([].concat),pK=lk([].join),U0={},dK=function(r,t,e){if(!cK(U0,t)){for(var i=[],n=0;n<t;n++)i[n]="a["+n+"]";U0[t]=uk("C,a","return new C("+pK(i,",")+")")}return U0[t](r,e)},fk=hK?uk.bind:function(t){var e=uK(this),i=e.prototype,n=ww(arguments,1),a=function(){var o=mK(n,ww(arguments));return this instanceof a?dK(e,o.length,o):e.apply(t,o)};return fK(i)&&(a.prototype=i),a},vK=it,xw=fk;vK({target:"Function",proto:!0,forced:Function.bind!==xw},{bind:xw});var gK=Kt,bK=Yt,Xr=function(r,t){var e=bK[r+"Prototype"],i=e&&e[t];if(i)return i;var n=gK[r],a=n&&n.prototype;return a&&a[t]},yK=Xr,$K=yK("Function","bind"),_K=gr,wK=$K,q0=Function.prototype,xK=function(r){var t=r.bind;return r===q0||_K(q0,r)&&t===q0.bind?wK:t},SK=xK,ck=SK,EK=ck,hk=st(EK),kK=_i,TK=wi,OK=pp,AK=Ri,IK=TypeError,Sw=function(r){return function(t,e,i,n){kK(e);var a=TK(t),s=OK(a),o=AK(a),l=r?o-1:0,u=r?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=u;break}if(l+=u,r?l<0:o<=l)throw new IK("Reduce of empty array with no initial value")}for(;r?l>=0:o>l;l+=u)l in s&&(n=e(n,s[l],l,a));return n}},CK={left:Sw(!1),right:Sw(!0)},PK=Ct,Dp=function(r,t){var e=[][r];return!!e&&PK(function(){e.call(null,t||function(){return 1},1)})},DK=Kt,NK=Vs,cc=NK(DK.process)==="process",RK=it,MK=CK.left,BK=Dp,Ew=gu,FK=cc,zK=!FK&&Ew>79&&Ew<83,LK=zK||!BK("reduce");RK({target:"Array",proto:!0,forced:LK},{reduce:function(t){var e=arguments.length;return MK(this,t,e,e>1?arguments[1]:void 0)}});var jK=Xr,UK=jK("Array","reduce"),qK=gr,HK=UK,H0=Array.prototype,GK=function(r){var t=r.reduce;return r===H0||qK(H0,r)&&t===H0.reduce?HK:t},WK=GK,VK=WK,XK=VK,KK=st(XK),YK=it,JK=Su.filter,QK=rc,ZK=QK("filter");YK({target:"Array",proto:!0,forced:!ZK},{filter:function(t){return JK(this,t,arguments.length>1?arguments[1]:void 0)}});var eY=Xr,tY=eY("Array","filter"),rY=gr,iY=tY,G0=Array.prototype,nY=function(r){var t=r.filter;return r===G0||rY(G0,r)&&t===G0.filter?iY:t},aY=nY,sY=aY,oY=sY,Pl=st(oY),lY=it,uY=Su.map,fY=rc,cY=fY("map");lY({target:"Array",proto:!0,forced:!cY},{map:function(t){return uY(this,t,arguments.length>1?arguments[1]:void 0)}});var hY=Xr,mY=hY("Array","map"),pY=gr,dY=mY,W0=Array.prototype,vY=function(r){var t=r.map;return r===W0||pY(W0,r)&&t===W0.map?dY:t},gY=vY,bY=gY,yY=bY,vn=st(yY),$Y=Ys,_Y=Ri,wY=yp,xY=Ks,mk=function(r,t,e,i,n,a,s,o){for(var l=n,u=0,f=s?xY(s,o):!1,h,c;u<i;)u in e&&(h=f?f(e[u],u,t):e[u],a>0&&$Y(h)?(c=_Y(h),l=mk(r,t,h,c,l,a-1)-1):(wY(l+1),r[l]=h),l++),u++;return l},SY=mk,EY=it,kY=SY,TY=_i,OY=wi,AY=Ri,IY=_p;EY({target:"Array",proto:!0},{flatMap:function(t){var e=OY(this),i=AY(e),n;return TY(t),n=IY(e,0),n.length=kY(n,e,e,i,0,1,t,arguments.length>1?arguments[1]:void 0),n}});var CY=Xr;CY("Array","flatMap");var PY=Ir,kw=Ni,DY=oy,pk=function(r,t,e){var i,n;kw(r);try{if(i=DY(r,"return"),!i){if(t==="throw")throw e;return e}i=PY(i,r)}catch(a){n=!0,i=a}if(t==="throw")throw e;if(n)throw i;return kw(i),e},NY=Ni,RY=pk,MY=function(r,t,e,i){try{return i?t(NY(e)[0],e[1]):t(e)}catch(n){RY(r,"throw",n)}},BY=Zt,FY=Eu,zY=BY("iterator"),LY=Array.prototype,dk=function(r){return r!==void 0&&(FY.Array===r||LY[zY]===r)},jY=Oa,Tw=oy,UY=vu,qY=Eu,HY=Zt,GY=HY("iterator"),Np=function(r){if(!UY(r))return Tw(r,GY)||Tw(r,"@@iterator")||qY[jY(r)]},WY=Ir,VY=_i,XY=Ni,KY=yu,YY=Np,JY=TypeError,Ey=function(r,t){var e=arguments.length<2?YY(r):t;if(VY(e))return XY(WY(e,r));throw new JY(KY(r)+" is not iterable")},QY=Ks,ZY=Ir,eJ=wi,tJ=MY,rJ=dk,iJ=$p,nJ=Ri,Ow=_u,aJ=Ey,sJ=Np,Aw=Array,oJ=function(t){var e=eJ(t),i=iJ(this),n=arguments.length,a=n>1?arguments[1]:void 0,s=a!==void 0;s&&(a=QY(a,n>2?arguments[2]:void 0));var o=sJ(e),l=0,u,f,h,c,m,d;if(o&&!(this===Aw&&rJ(o)))for(c=aJ(e,o),m=c.next,f=i?new this:[];!(h=ZY(m,c)).done;l++)d=s?tJ(c,a,[h.value,l],!0):h.value,Ow(f,l,d);else for(u=nJ(e),f=i?new this(u):Aw(u);u>l;l++)d=s?a(e[l],l):e[l],Ow(f,l,d);return f.length=l,f},lJ=Zt,vk=lJ("iterator"),gk=!1;try{var uJ=0,Iw={next:function(){return{done:!!uJ++}},return:function(){gk=!0}};Iw[vk]=function(){return this},Array.from(Iw,function(){throw 2})}catch{}var bk=function(r,t){try{if(!t&&!gk)return!1}catch{return!1}var e=!1;try{var i={};i[vk]=function(){return{next:function(){return{done:e=!0}}}},r(i)}catch{}return e},fJ=it,cJ=oJ,hJ=bk,mJ=!hJ(function(r){Array.from(r)});fJ({target:"Array",stat:!0,forced:mJ},{from:cJ});var pJ=Yt,dJ=pJ.Array.from,vJ=dJ,yk=vJ,gJ=yk,ky=st(gJ),bJ=Np,yJ=bJ,$J=yJ,_J=$J,wJ=_J,xJ=wJ,SJ=xJ,EJ=SJ,$k=EJ,_k=st($k),kJ=$k,Ty=st(kJ),TJ=it,OJ=Ys;TJ({target:"Array",stat:!0},{isArray:OJ});var AJ=Yt,IJ=AJ.Array.isArray,CJ=IJ,wk=CJ,PJ=wk,DJ=PJ,NJ=DJ,RJ=NJ,MJ=RJ,xk=st(MJ);function BJ(r){if(xk(r))return r}var FJ=Ar,zJ=Ys,LJ=TypeError,jJ=Object.getOwnPropertyDescriptor,UJ=FJ&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}(),Sk=UJ?function(r,t){if(zJ(r)&&!jJ(r,"length").writable)throw new LJ("Cannot set read only .length");return r.length=t}:function(r,t){return r.length=t},qJ=it,HJ=wi,GJ=Ri,WJ=Sk,VJ=yp,XJ=Ct,KJ=XJ(function(){return[].push.call({length:4294967296},1)!==4294967297}),YJ=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}},JJ=KJ||!YJ();qJ({target:"Array",proto:!0,arity:1,forced:JJ},{push:function(t){var e=HJ(this),i=GJ(e),n=arguments.length;VJ(i+n);for(var a=0;a<n;a++)e[i]=arguments[a],i++;return WJ(e,i),i}});var QJ=Xr,ZJ=QJ("Array","push"),eQ=gr,tQ=ZJ,V0=Array.prototype,rQ=function(r){var t=r.push;return r===V0||eQ(V0,r)&&t===V0.push?tQ:t},iQ=rQ,nQ=iQ,aQ=nQ,sQ=aQ,oQ=sQ,lQ=oQ,Ek=lQ,uQ=st(Ek);function fQ(r,t){var e=r==null?null:typeof Cl<"u"&&_k(r)||r["@@iterator"];if(e!=null){var i,n,a,s,o=[],l=!0,u=!1;try{if(a=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=a.call(e)).done)&&(uQ(o).call(o,i.value),o.length!==t);l=!0);}catch(f){u=!0,n=f}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw n}}return o}}var cQ=it,Cw=Ys,hQ=$p,mQ=Gr,Pw=xp,pQ=Ri,dQ=Zn,vQ=_u,gQ=Zt,bQ=rc,yQ=uc,$Q=bQ("slice"),_Q=gQ("species"),X0=Array,wQ=Math.max;cQ({target:"Array",proto:!0,forced:!$Q},{slice:function(t,e){var i=dQ(this),n=pQ(i),a=Pw(t,n),s=Pw(e===void 0?n:e,n),o,l,u;if(Cw(i)&&(o=i.constructor,hQ(o)&&(o===X0||Cw(o.prototype))?o=void 0:mQ(o)&&(o=o[_Q],o===null&&(o=void 0)),o===X0||o===void 0))return yQ(i,a,s);for(l=new(o===void 0?X0:o)(wQ(s-a,0)),u=0;a<s;a++,u++)a in i&&vQ(l,u,i[a]);return l.length=u,l}});var xQ=Xr,SQ=xQ("Array","slice"),EQ=gr,kQ=SQ,K0=Array.prototype,TQ=function(r){var t=r.slice;return r===K0||EQ(K0,r)&&t===K0.slice?kQ:t},OQ=TQ,kk=OQ,AQ=kk,IQ=AQ,CQ=IQ,PQ=CQ,Tk=PQ,DQ=st(Tk),NQ=yk,RQ=NQ,MQ=RQ,BQ=MQ,FQ=BQ,Ok=st(FQ);function _1(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function Ak(r,t){var e;if(r){if(typeof r=="string")return _1(r,t);var i=DQ(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Ok(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _1(r,t)}}function zQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function li(r,t){return BJ(r)||fQ(r,t)||Ak(r,t)||zQ()}function LQ(r){if(xk(r))return _1(r)}function jQ(r){if(typeof Cl<"u"&&_k(r)!=null||r["@@iterator"]!=null)return Ok(r)}function UQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pi(r){return LQ(r)||jQ(r)||Ak(r)||UQ()}var qQ=QE,Rp=st(qQ),HQ=Xr,GQ=HQ("Array","concat"),WQ=gr,VQ=GQ,Y0=Array.prototype,XQ=function(r){var t=r.concat;return r===Y0||WQ(Y0,r)&&t===Y0.concat?VQ:t},KQ=XQ,YQ=KQ,JQ=YQ,Mp=st(JQ),QQ=kk,Bp=st(QQ),ZQ=ai,eZ=Vt,tZ=nc,rZ=ac,iZ=Ni,nZ=eZ([].concat),Oy=ZQ("Reflect","ownKeys")||function(t){var e=tZ.f(iZ(t)),i=rZ.f;return i?nZ(e,i(t)):e},aZ=it,sZ=Oy;aZ({target:"Reflect",stat:!0},{ownKeys:sZ});var oZ=Yt,lZ=oZ.Reflect.ownKeys,uZ=lZ,fZ=uZ,cZ=fZ,hZ=st(cZ),mZ=wk,Ii=st(mZ),pZ=it,dZ=wi,Ik=Sp,vZ=Ct,gZ=vZ(function(){Ik(1)});pZ({target:"Object",stat:!0,forced:gZ},{keys:function(t){return Ik(dZ(t))}});var bZ=Yt,yZ=bZ.Object.keys,$Z=yZ,_Z=$Z,wZ=_Z,Ay=st(wZ),xZ=Su.forEach,SZ=Dp,EZ=SZ("forEach"),kZ=EZ?[].forEach:function(t){return xZ(this,t,arguments.length>1?arguments[1]:void 0)},TZ=it,Dw=kZ;TZ({target:"Array",proto:!0,forced:[].forEach!==Dw},{forEach:Dw});var OZ=Xr,AZ=OZ("Array","forEach"),IZ=AZ,CZ=IZ,PZ=Oa,DZ=br,NZ=gr,RZ=CZ,J0=Array.prototype,MZ={DOMTokenList:!0,NodeList:!0},Ck=function(r){var t=r.forEach;return r===J0||NZ(J0,r)&&t===J0.forEach||DZ(MZ,PZ(r))?RZ:t},BZ=Ck,No=st(BZ),FZ=it,zZ=Vt,LZ=Ys,jZ=zZ([].reverse),Nw=[1,2];FZ({target:"Array",proto:!0,forced:String(Nw)===String(Nw.reverse())},{reverse:function(){return LZ(this)&&(this.length=this.length),jZ(this)}});var UZ=Xr,qZ=UZ("Array","reverse"),HZ=gr,GZ=qZ,Q0=Array.prototype,WZ=function(r){var t=r.reverse;return r===Q0||HZ(Q0,r)&&t===Q0.reverse?GZ:t},VZ=WZ,Pk=VZ,XZ=Pk,KZ=st(XZ),Rw=yu,YZ=TypeError,Dk=function(r,t){if(!delete r[t])throw new YZ("Cannot delete property "+Rw(t)+" of "+Rw(r))},JZ=it,QZ=wi,ZZ=xp,eee=bp,tee=Ri,ree=Sk,iee=yp,nee=_p,aee=_u,Z0=Dk,see=rc,oee=see("splice"),lee=Math.max,uee=Math.min;JZ({target:"Array",proto:!0,forced:!oee},{splice:function(t,e){var i=QZ(this),n=tee(i),a=ZZ(t,n),s=arguments.length,o,l,u,f,h,c;for(s===0?o=l=0:s===1?(o=0,l=n-a):(o=s-2,l=uee(lee(eee(e),0),n-a)),iee(n+o-l),u=nee(i,l),f=0;f<l;f++)h=a+f,h in i&&aee(u,f,i[h]);if(u.length=l,o<l){for(f=a;f<n-l;f++)h=f+l,c=f+o,h in i?i[c]=i[h]:Z0(i,c);for(f=n;f>n-l+o;f--)Z0(i,f-1)}else if(o>l)for(f=n-l;f>a;f--)h=f+l-1,c=f+o-1,h in i?i[c]=i[h]:Z0(i,c);for(f=0;f<o;f++)i[f+a]=arguments[f+2];return ree(i,n-l+o),u}});var fee=Xr,cee=fee("Array","splice"),hee=gr,mee=cee,ev=Array.prototype,pee=function(r){var t=r.splice;return r===ev||hee(ev,r)&&t===ev.splice?mee:t},dee=pee,vee=dee,gee=vee,Nk=st(gee),Mw=Ar,bee=Vt,yee=Ir,$ee=Ct,tv=Sp,_ee=ac,wee=mp,xee=wi,See=pp,yl=Object.assign,Bw=Object.defineProperty,Eee=bee([].concat),kee=!yl||$ee(function(){if(Mw&&yl({b:1},yl(Bw({},"a",{enumerable:!0,get:function(){Bw(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},t={},e=Symbol("assign detection"),i="abcdefghijklmnopqrst";return r[e]=7,i.split("").forEach(function(n){t[n]=n}),yl({},r)[e]!==7||tv(yl({},t)).join("")!==i})?function(t,e){for(var i=xee(t),n=arguments.length,a=1,s=_ee.f,o=wee.f;n>a;)for(var l=See(arguments[a++]),u=s?Eee(tv(l),s(l)):tv(l),f=u.length,h=0,c;f>h;)c=u[h++],(!Mw||yee(o,l,c))&&(i[c]=l[c]);return i}:yl,Tee=it,Fw=kee;Tee({target:"Object",stat:!0,arity:2,forced:Object.assign!==Fw},{assign:Fw});var Oee=Yt,Aee=Oee.Object.assign,Iee=Aee,Cee=Iee,Pee=Cee,Dee=st(Pee),Nee=it,Ree=Ct,Mee=wi,Rk=Cp,Bee=WE,Fee=Ree(function(){Rk(1)});Nee({target:"Object",stat:!0,forced:Fee,sham:!Bee},{getPrototypeOf:function(t){return Rk(Mee(t))}});var zee=Yt,Lee=zee.Object.getPrototypeOf,jee=Lee,Uee=jee,qee=it,Hee=Ar,Gee=Xo;qee({target:"Object",stat:!0,sham:!Hee},{create:Gee});var Wee=Yt,Vee=Wee.Object,Xee=function(t,e){return Vee.create(t,e)},Kee=Xee,Mk=Kee,Yee=Mk,Jee=st(Yee),w1=Yt,Qee=du;w1.JSON||(w1.JSON={stringify:JSON.stringify});var Zee=function(t,e,i){return Qee(w1.JSON.stringify,null,arguments)},ete=Zee,tte=ete,rte=tte,ite=st(rte),nte=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",ate=TypeError,Bk=function(r,t){if(r<t)throw new ate("Not enough arguments");return r},Fk=Kt,ste=du,ote=ir,lte=nte,ute=Xs,fte=uc,cte=Bk,hte=Fk.Function,mte=/MSIE .\./.test(ute)||lte&&function(){var r=Fk.Bun.version.split(".");return r.length<3||r[0]==="0"&&(r[1]<3||r[1]==="3"&&r[2]==="0")}(),zk=function(r,t){var e=t?2:1;return mte?function(i,n){var a=cte(arguments.length,1)>e,s=ote(i)?i:hte(i),o=a?fte(arguments,e):[],l=a?function(){ste(s,this,o)}:s;return t?r(l,n):r(l)}:r},pte=it,Lk=Kt,dte=zk,zw=dte(Lk.setInterval,!0);pte({global:!0,bind:!0,forced:Lk.setInterval!==zw},{setInterval:zw});var vte=it,jk=Kt,gte=zk,Lw=gte(jk.setTimeout,!0);vte({global:!0,bind:!0,forced:jk.setTimeout!==Lw},{setTimeout:Lw});var bte=Yt,yte=bte.setTimeout,$te=yte,_te=st($te),Uk={exports:{}};(function(r){function t(i){if(i)return e(i);this._callbacks=new Map}function e(i){return Object.assign(i,t.prototype),i._callbacks=new Map,i}t.prototype.on=function(i,n){const a=this._callbacks.get(i)??[];return a.push(n),this._callbacks.set(i,a),this},t.prototype.once=function(i,n){const a=(...s)=>{this.off(i,a),n.apply(this,s)};return a.fn=n,this.on(i,a),this},t.prototype.off=function(i,n){if(i===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(i),this;const a=this._callbacks.get(i);if(a){for(const[s,o]of a.entries())if(o===n||o.fn===n){a.splice(s,1);break}a.length===0?this._callbacks.delete(i):this._callbacks.set(i,a)}return this},t.prototype.emit=function(i,...n){const a=this._callbacks.get(i);if(a){const s=[...a];for(const o of s)o.apply(this,n)}return this},t.prototype.listeners=function(i){return this._callbacks.get(i)??[]},t.prototype.listenerCount=function(i){if(i)return this.listeners(i).length;let n=0;for(const a of this._callbacks.values())n+=a.length;return n},t.prototype.hasListeners=function(i){return this.listenerCount(i)>0},t.prototype.addEventListener=t.prototype.on,t.prototype.removeListener=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,r.exports=t})(Uk);var wte=Uk.exports,xte=st(wte);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function wn(){return wn=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},wn.apply(this,arguments)}function on(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function dh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var x1;typeof Object.assign!="function"?x1=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e}:x1=Object.assign;var Ro=x1,jw=["","webkit","Moz","MS","ms","o"],Ste=typeof document>"u"?{style:{}}:document.createElement("div"),Ete="function",Dl=Math.round,Mo=Math.abs,Iy=Date.now;function Fp(r,t){for(var e,i,n=t[0].toUpperCase()+t.slice(1),a=0;a<jw.length;){if(e=jw[a],i=e?e+n:t,i in r)return i;a++}}var fa;typeof window>"u"?fa={}:fa=window;var qk=Fp(Ste.style,"touchAction"),Hk=qk!==void 0;function kte(){if(!Hk)return!1;var r={},t=fa.CSS&&fa.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return r[e]=t?fa.CSS.supports("touch-action",e):!0}),r}var Gk="compute",Wk="auto",S1="manipulation",yo="none",Nf="pan-x",Rf="pan-y",vh=kte(),Tte=/mobile|tablet|ip(ad|hone|od)|android/i,Vk="ontouchstart"in fa,Ote=Fp(fa,"PointerEvent")!==void 0,Ate=Vk&&Tte.test(navigator.userAgent),hc="touch",Ite="pen",Cy="mouse",Cte="kinect",Pte=25,ri=1,Yo=2,mr=4,gi=8,Tm=1,mc=2,pc=4,dc=8,tu=16,qn=mc|pc,$o=dc|tu,Xk=qn|$o,Kk=["x","y"],Om=["clientX","clientY"];function ca(r,t,e){var i;if(r)if(r.forEach)r.forEach(t,e);else if(r.length!==void 0)for(i=0;i<r.length;)t.call(e,r[i],i,r),i++;else for(i in r)r.hasOwnProperty(i)&&t.call(e,r[i],i,r)}function zp(r,t){return typeof r===Ete?r.apply(t&&t[0]||void 0,t):r}function ho(r,t){return r.indexOf(t)>-1}function Dte(r){if(ho(r,yo))return yo;var t=ho(r,Nf),e=ho(r,Rf);return t&&e?yo:t||e?t?Nf:Rf:ho(r,S1)?S1:Wk}var Yk=function(){function r(e,i){this.manager=e,this.set(i)}var t=r.prototype;return t.set=function(i){i===Gk&&(i=this.compute()),Hk&&this.manager.element.style&&vh[i]&&(this.manager.element.style[qk]=i),this.actions=i.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var i=[];return ca(this.manager.recognizers,function(n){zp(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),Dte(i.join(" "))},t.preventDefaults=function(i){var n=i.srcEvent,a=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,o=ho(s,yo)&&!vh[yo],l=ho(s,Rf)&&!vh[Rf],u=ho(s,Nf)&&!vh[Nf];if(o){var f=i.pointers.length===1,h=i.distance<2,c=i.deltaTime<250;if(f&&h&&c)return}if(!(u&&l)&&(o||l&&a&qn||u&&a&$o))return this.preventSrc(n)},t.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},r}();function Py(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}function Jk(r){var t=r.length;if(t===1)return{x:Dl(r[0].clientX),y:Dl(r[0].clientY)};for(var e=0,i=0,n=0;n<t;)e+=r[n].clientX,i+=r[n].clientY,n++;return{x:Dl(e/t),y:Dl(i/t)}}function Uw(r){for(var t=[],e=0;e<r.pointers.length;)t[e]={clientX:Dl(r.pointers[e].clientX),clientY:Dl(r.pointers[e].clientY)},e++;return{timeStamp:Iy(),pointers:t,center:Jk(t),deltaX:r.deltaX,deltaY:r.deltaY}}function Am(r,t,e){e||(e=Kk);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.sqrt(i*i+n*n)}function E1(r,t,e){e||(e=Kk);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.atan2(n,i)*180/Math.PI}function Qk(r,t){return r===t?Tm:Mo(r)>=Mo(t)?r<0?mc:pc:t<0?dc:tu}function Nte(r,t){var e=t.center,i=r.offsetDelta||{},n=r.prevDelta||{},a=r.prevInput||{};(t.eventType===ri||a.eventType===mr)&&(n=r.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=r.offsetDelta={x:e.x,y:e.y}),t.deltaX=n.x+(e.x-i.x),t.deltaY=n.y+(e.y-i.y)}function Zk(r,t,e){return{x:t/r||0,y:e/r||0}}function Rte(r,t){return Am(t[0],t[1],Om)/Am(r[0],r[1],Om)}function Mte(r,t){return E1(t[1],t[0],Om)+E1(r[1],r[0],Om)}function Bte(r,t){var e=r.lastInterval||t,i=t.timeStamp-e.timeStamp,n,a,s,o;if(t.eventType!==gi&&(i>Pte||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,f=Zk(i,l,u);a=f.x,s=f.y,n=Mo(f.x)>Mo(f.y)?f.x:f.y,o=Qk(l,u),r.lastInterval=t}else n=e.velocity,a=e.velocityX,s=e.velocityY,o=e.direction;t.velocity=n,t.velocityX=a,t.velocityY=s,t.direction=o}function Fte(r,t){var e=r.session,i=t.pointers,n=i.length;e.firstInput||(e.firstInput=Uw(t)),n>1&&!e.firstMultiple?e.firstMultiple=Uw(t):n===1&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,o=s?s.center:a.center,l=t.center=Jk(i);t.timeStamp=Iy(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=E1(o,l),t.distance=Am(o,l),Nte(e,t),t.offsetDirection=Qk(t.deltaX,t.deltaY);var u=Zk(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=Mo(u.x)>Mo(u.y)?u.x:u.y,t.scale=s?Rte(s.pointers,i):1,t.rotation=s?Mte(s.pointers,i):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,Bte(e,t);var f=r.element,h=t.srcEvent,c;h.composedPath?c=h.composedPath()[0]:h.path?c=h.path[0]:c=h.target,Py(c,f)&&(f=c),t.target=f}function zte(r,t,e){var i=e.pointers.length,n=e.changedPointers.length,a=t&ri&&i-n===0,s=t&(mr|gi)&&i-n===0;e.isFirst=!!a,e.isFinal=!!s,a&&(r.session={}),e.eventType=t,Fte(r,e),r.emit("hammer.input",e),r.recognize(e),r.session.prevInput=e}function Mf(r){return r.trim().split(/\s+/g)}function lf(r,t,e){ca(Mf(t),function(i){r.addEventListener(i,e,!1)})}function uf(r,t,e){ca(Mf(t),function(i){r.removeEventListener(i,e,!1)})}function qw(r){var t=r.ownerDocument||r;return t.defaultView||t.parentWindow||window}var ku=function(){function r(e,i){var n=this;this.manager=e,this.callback=i,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){zp(e.options.enable,[e])&&n.handler(a)},this.init()}var t=r.prototype;return t.handler=function(){},t.init=function(){this.evEl&&lf(this.element,this.evEl,this.domHandler),this.evTarget&&lf(this.target,this.evTarget,this.domHandler),this.evWin&&lf(qw(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&uf(this.element,this.evEl,this.domHandler),this.evTarget&&uf(this.target,this.evTarget,this.domHandler),this.evWin&&uf(qw(this.element),this.evWin,this.domHandler)},r}();function Bo(r,t,e){if(r.indexOf&&!e)return r.indexOf(t);for(var i=0;i<r.length;){if(e&&r[i][e]==t||!e&&r[i]===t)return i;i++}return-1}var Lte={pointerdown:ri,pointermove:Yo,pointerup:mr,pointercancel:gi,pointerout:gi},jte={2:hc,3:Ite,4:Cy,5:Cte},eT="pointerdown",tT="pointermove pointerup pointercancel";fa.MSPointerEvent&&!fa.PointerEvent&&(eT="MSPointerDown",tT="MSPointerMove MSPointerUp MSPointerCancel");var rT=function(r){on(t,r);function t(){var i,n=t.prototype;return n.evEl=eT,n.evWin=tT,i=r.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var e=t.prototype;return e.handler=function(n){var a=this.store,s=!1,o=n.type.toLowerCase().replace("ms",""),l=Lte[o],u=jte[n.pointerType]||n.pointerType,f=u===hc,h=Bo(a,n.pointerId,"pointerId");l&ri&&(n.button===0||f)?h<0&&(a.push(n),h=a.length-1):l&(mr|gi)&&(s=!0),!(h<0)&&(a[h]=n,this.callback(this.manager,l,{pointers:a,changedPointers:[n],pointerType:u,srcEvent:n}),s&&a.splice(h,1))},t}(ku);function Bf(r){return Array.prototype.slice.call(r,0)}function Dy(r,t,e){for(var i=[],n=[],a=0;a<r.length;){var s=t?r[a][t]:r[a];Bo(n,s)<0&&i.push(r[a]),n[a]=s,a++}return e&&(t?i=i.sort(function(o,l){return o[t]>l[t]}):i=i.sort()),i}var Ute={touchstart:ri,touchmove:Yo,touchend:mr,touchcancel:gi},qte="touchstart touchmove touchend touchcancel",Ny=function(r){on(t,r);function t(){var i;return t.prototype.evTarget=qte,i=r.apply(this,arguments)||this,i.targetIds={},i}var e=t.prototype;return e.handler=function(n){var a=Ute[n.type],s=Hte.call(this,n,a);s&&this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:hc,srcEvent:n})},t}(ku);function Hte(r,t){var e=Bf(r.touches),i=this.targetIds;if(t&(ri|Yo)&&e.length===1)return i[e[0].identifier]=!0,[e,e];var n,a,s=Bf(r.changedTouches),o=[],l=this.target;if(a=e.filter(function(u){return Py(u.target,l)}),t===ri)for(n=0;n<a.length;)i[a[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&o.push(s[n]),t&(mr|gi)&&delete i[s[n].identifier],n++;if(o.length)return[Dy(a.concat(o),"identifier",!0),o]}var Gte={mousedown:ri,mousemove:Yo,mouseup:mr},Wte="mousedown",Vte="mousemove mouseup",Ry=function(r){on(t,r);function t(){var i,n=t.prototype;return n.evEl=Wte,n.evWin=Vte,i=r.apply(this,arguments)||this,i.pressed=!1,i}var e=t.prototype;return e.handler=function(n){var a=Gte[n.type];a&ri&&n.button===0&&(this.pressed=!0),a&Yo&&n.which!==1&&(a=mr),this.pressed&&(a&mr&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[n],changedPointers:[n],pointerType:Cy,srcEvent:n}))},t}(ku),Xte=2500,Hw=25;function Gw(r){var t=r.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);var a=function(){var o=n.indexOf(i);o>-1&&n.splice(o,1)};setTimeout(a,Xte)}}function Kte(r,t){r&ri?(this.primaryTouch=t.changedPointers[0].identifier,Gw.call(this,t)):r&(mr|gi)&&Gw.call(this,t)}function Yte(r){for(var t=r.srcEvent.clientX,e=r.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],a=Math.abs(t-n.x),s=Math.abs(e-n.y);if(a<=Hw&&s<=Hw)return!0}return!1}var iT=function(){var r=function(t){on(e,t);function e(n,a){var s;return s=t.call(this,n,a)||this,s.handler=function(o,l,u){var f=u.pointerType===hc,h=u.pointerType===Cy;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(f)Kte.call(dh(dh(s)),l,u);else if(h&&Yte.call(dh(dh(s)),u))return;s.callback(o,l,u)}},s.touch=new Ny(s.manager,s.handler),s.mouse=new Ry(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=e.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(ku);return r}();function Jte(r){var t,e=r.options.inputClass;return e?t=e:Ote?t=rT:Ate?t=Ny:Vk?t=iT:t=Ry,new t(r,zte)}function Nl(r,t,e){return Array.isArray(r)?(ca(r,e[t],e),!0):!1}var Zh=1,tn=2,ru=4,Is=8,ha=Is,Ff=16,zn=32,Qte=1;function Zte(){return Qte++}function gh(r,t){var e=t.manager;return e?e.get(r):r}function Ww(r){return r&Ff?"cancel":r&Is?"end":r&ru?"move":r&tn?"start":""}var vc=function(){function r(e){e===void 0&&(e={}),this.options=wn({enable:!0},e),this.id=Zte(),this.manager=null,this.state=Zh,this.simultaneous={},this.requireFail=[]}var t=r.prototype;return t.set=function(i){return Ro(this.options,i),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(i){if(Nl(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=gh(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},t.dropRecognizeWith=function(i){return Nl(i,"dropRecognizeWith",this)?this:(i=gh(i,this),delete this.simultaneous[i.id],this)},t.requireFailure=function(i){if(Nl(i,"requireFailure",this))return this;var n=this.requireFail;return i=gh(i,this),Bo(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},t.dropRequireFailure=function(i){if(Nl(i,"dropRequireFailure",this))return this;i=gh(i,this);var n=Bo(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},t.emit=function(i){var n=this,a=this.state;function s(o){n.manager.emit(o,i)}a<Is&&s(n.options.event+Ww(a)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),a>=Is&&s(n.options.event+Ww(a))},t.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=zn},t.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(zn|Zh)))return!1;i++}return!0},t.recognize=function(i){var n=Ro({},i);if(!zp(this.options.enable,[this,n])){this.reset(),this.state=zn;return}this.state&(ha|Ff|zn)&&(this.state=Zh),this.state=this.process(n),this.state&(tn|ru|Is|Ff)&&this.tryEmit(n)},t.process=function(i){},t.getTouchAction=function(){},t.reset=function(){},r}(),k1=function(r){on(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,wn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var e=t.prototype;return e.getTouchAction=function(){return[S1]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime<s.time;if(this.reset(),n.eventType&ri&&this.count===0)return this.failTimeout();if(l&&u&&o){if(n.eventType!==mr)return this.failTimeout();var f=this.pTime?n.timeStamp-this.pTime<s.interval:!0,h=!this.pCenter||Am(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!h||!f?this.count=1:this.count+=1,this._input=n;var c=this.count%s.taps;if(c===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=ha,a.tryEmit()},s.interval),tn):ha}return zn},e.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=zn},this.options.interval),zn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===ha&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(vc),iu=function(r){on(t,r);function t(i){return i===void 0&&(i={}),r.call(this,wn({pointers:1},i))||this}var e=t.prototype;return e.attrTest=function(n){var a=this.options.pointers;return a===0||n.pointers.length===a},e.process=function(n){var a=this.state,s=n.eventType,o=a&(tn|ru),l=this.attrTest(n);return o&&(s&gi||!l)?a|Ff:o||l?s&mr?a|Is:a&tn?a|ru:tn:zn},t}(vc);function nT(r){return r===tu?"down":r===dc?"up":r===mc?"left":r===pc?"right":""}var My=function(r){on(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,wn({event:"pan",threshold:10,pointers:1,direction:Xk},i))||this,n.pX=null,n.pY=null,n}var e=t.prototype;return e.getTouchAction=function(){var n=this.options.direction,a=[];return n&qn&&a.push(Rf),n&$o&&a.push(Nf),a},e.directionTest=function(n){var a=this.options,s=!0,o=n.distance,l=n.direction,u=n.deltaX,f=n.deltaY;return l&a.direction||(a.direction&qn?(l=u===0?Tm:u<0?mc:pc,s=u!==this.pX,o=Math.abs(n.deltaX)):(l=f===0?Tm:f<0?dc:tu,s=f!==this.pY,o=Math.abs(n.deltaY))),n.direction=l,s&&o>a.threshold&&l&a.direction},e.attrTest=function(n){return iu.prototype.attrTest.call(this,n)&&(this.state&tn||!(this.state&tn)&&this.directionTest(n))},e.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var a=nT(n.direction);a&&(n.additionalEvent=this.options.event+a),r.prototype.emit.call(this,n)},t}(iu),aT=function(r){on(t,r);function t(i){return i===void 0&&(i={}),r.call(this,wn({event:"swipe",threshold:10,velocity:.3,direction:qn|$o,pointers:1},i))||this}var e=t.prototype;return e.getTouchAction=function(){return My.prototype.getTouchAction.call(this)},e.attrTest=function(n){var a=this.options.direction,s;return a&(qn|$o)?s=n.overallVelocity:a&qn?s=n.overallVelocityX:a&$o&&(s=n.overallVelocityY),r.prototype.attrTest.call(this,n)&&a&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&Mo(s)>this.options.velocity&&n.eventType&mr},e.emit=function(n){var a=nT(n.offsetDirection);a&&this.manager.emit(this.options.event+a,n),this.manager.emit(this.options.event,n)},t}(iu),sT=function(r){on(t,r);function t(i){return i===void 0&&(i={}),r.call(this,wn({event:"pinch",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[yo]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&tn)},e.emit=function(n){if(n.scale!==1){var a=n.scale<1?"in":"out";n.additionalEvent=this.options.event+a}r.prototype.emit.call(this,n)},t}(iu),oT=function(r){on(t,r);function t(i){return i===void 0&&(i={}),r.call(this,wn({event:"rotate",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[yo]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&tn)},t}(iu),lT=function(r){on(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,wn({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var e=t.prototype;return e.getTouchAction=function(){return[Wk]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime>s.time;if(this._input=n,!l||!o||n.eventType&(mr|gi)&&!u)this.reset();else if(n.eventType&ri)this.reset(),this._timer=setTimeout(function(){a.state=ha,a.tryEmit()},s.time);else if(n.eventType&mr)return ha;return zn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(n){this.state===ha&&(n&&n.eventType&mr?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Iy(),this.manager.emit(this.options.event,this._input)))},t}(vc),uT={domEvents:!1,touchAction:Gk,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Vw=[[oT,{enable:!1}],[sT,{enable:!1},["rotate"]],[aT,{direction:qn}],[My,{direction:qn},["swipe"]],[k1],[k1,{event:"doubletap",taps:2},["tap"]],[lT]],ere=1,Xw=2;function Kw(r,t){var e=r.element;if(e.style){var i;ca(r.options.cssProps,function(n,a){i=Fp(e.style,a),t?(r.oldCssProps[i]=e.style[i],e.style[i]=n):e.style[i]=r.oldCssProps[i]||""}),t||(r.oldCssProps={})}}function tre(r,t){var e=document.createEvent("Event");e.initEvent(r,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var Yw=function(){function r(e,i){var n=this;this.options=Ro({},uT,i||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=Jte(this),this.touchAction=new Yk(this,this.options.touchAction),Kw(this,!0),ca(this.options.recognizers,function(a){var s=n.add(new a[0](a[1]));a[2]&&s.recognizeWith(a[2]),a[3]&&s.requireFailure(a[3])},this)}var t=r.prototype;return t.set=function(i){return Ro(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},t.stop=function(i){this.session.stopped=i?Xw:ere},t.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var a,s=this.recognizers,o=n.curRecognizer;(!o||o&&o.state&ha)&&(n.curRecognizer=null,o=null);for(var l=0;l<s.length;)a=s[l],n.stopped!==Xw&&(!o||a===o||a.canRecognizeWith(o))?a.recognize(i):a.reset(),!o&&a.state&(tn|ru|Is)&&(n.curRecognizer=a,o=a),l++}},t.get=function(i){if(i instanceof vc)return i;for(var n=this.recognizers,a=0;a<n.length;a++)if(n[a].options.event===i)return n[a];return null},t.add=function(i){if(Nl(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},t.remove=function(i){if(Nl(i,"remove",this))return this;var n=this.get(i);if(i){var a=this.recognizers,s=Bo(a,n);s!==-1&&(a.splice(s,1),this.touchAction.update())}return this},t.on=function(i,n){if(i===void 0||n===void 0)return this;var a=this.handlers;return ca(Mf(i),function(s){a[s]=a[s]||[],a[s].push(n)}),this},t.off=function(i,n){if(i===void 0)return this;var a=this.handlers;return ca(Mf(i),function(s){n?a[s]&&a[s].splice(Bo(a[s],n),1):delete a[s]}),this},t.emit=function(i,n){this.options.domEvents&&tre(i,n);var a=this.handlers[i]&&this.handlers[i].slice();if(!(!a||!a.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<a.length;)a[s](n),s++}},t.destroy=function(){this.element&&Kw(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),rre={touchstart:ri,touchmove:Yo,touchend:mr,touchcancel:gi},ire="touchstart",nre="touchstart touchmove touchend touchcancel",are=function(r){on(t,r);function t(){var i,n=t.prototype;return n.evTarget=ire,n.evWin=nre,i=r.apply(this,arguments)||this,i.started=!1,i}var e=t.prototype;return e.handler=function(n){var a=rre[n.type];if(a===ri&&(this.started=!0),!!this.started){var s=sre.call(this,n,a);a&(mr|gi)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:hc,srcEvent:n})}},t}(ku);function sre(r,t){var e=Bf(r.touches),i=Bf(r.changedTouches);return t&(mr|gi)&&(e=Dy(e.concat(i),"identifier",!0)),[e,i]}function fT(r,t,e){var i="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var n=new Error("get-stack-trace"),a=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,a),r.apply(this,arguments)}}var cT=fT(function(r,t,e){for(var i=Object.keys(t),n=0;n<i.length;)(!e||e&&r[i[n]]===void 0)&&(r[i[n]]=t[i[n]]),n++;return r},"extend","Use `assign`."),ore=fT(function(r,t){return cT(r,t,!0)},"merge","Use `assign`.");function lre(r,t,e){var i=t.prototype,n;n=r.prototype=Object.create(i),n.constructor=r,n._super=i,e&&Ro(n,e)}function Jw(r,t){return function(){return r.apply(t,arguments)}}var ure=function(){var r=function(e,i){return i===void 0&&(i={}),new Yw(e,wn({recognizers:Vw.concat()},i))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=Xk,r.DIRECTION_DOWN=tu,r.DIRECTION_LEFT=mc,r.DIRECTION_RIGHT=pc,r.DIRECTION_UP=dc,r.DIRECTION_HORIZONTAL=qn,r.DIRECTION_VERTICAL=$o,r.DIRECTION_NONE=Tm,r.DIRECTION_DOWN=tu,r.INPUT_START=ri,r.INPUT_MOVE=Yo,r.INPUT_END=mr,r.INPUT_CANCEL=gi,r.STATE_POSSIBLE=Zh,r.STATE_BEGAN=tn,r.STATE_CHANGED=ru,r.STATE_ENDED=Is,r.STATE_RECOGNIZED=ha,r.STATE_CANCELLED=Ff,r.STATE_FAILED=zn,r.Manager=Yw,r.Input=ku,r.TouchAction=Yk,r.TouchInput=Ny,r.MouseInput=Ry,r.PointerEventInput=rT,r.TouchMouseInput=iT,r.SingleTouchInput=are,r.Recognizer=vc,r.AttrRecognizer=iu,r.Tap=k1,r.Pan=My,r.Swipe=aT,r.Pinch=sT,r.Rotate=oT,r.Press=lT,r.on=lf,r.off=uf,r.each=ca,r.merge=ore,r.extend=cT,r.bindFn=Jw,r.assign=Ro,r.inherit=lre,r.bindFn=Jw,r.prefixed=Fp,r.toArray=Bf,r.inArray=Bo,r.uniqueArray=Dy,r.splitStr=Mf,r.boolOrFn=zp,r.hasParent=Py,r.addEventListeners=lf,r.removeEventListeners=uf,r.defaults=Ro({},uT,{preset:Vw}),r}(),fre=ure;function hT(r,t){var e=typeof Rp<"u"&&Ty(r)||r["@@iterator"];if(!e){if(Ii(r)||(e=cre(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function cre(r,t){var e;if(r){if(typeof r=="string")return Qw(r,t);var i=Bp(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return ky(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qw(r,t)}}function Qw(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var mT=Rp("DELETE");function hre(r){for(var t,e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return pT.apply(void 0,Mp(t=[{},r]).call(t,i))}function pT(){var r=Im.apply(void 0,arguments);return vT(r),r}function Im(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];if(t.length<2)return t[0];if(t.length>2){var i;return Im.apply(void 0,Mp(i=[pT(t[0],t[1])]).call(i,pi(Bp(t).call(t,2))))}var n=t[0],a=t[1];if(n instanceof Date&&a instanceof Date)return n.setTime(a.getTime()),n;var s=hT(hZ(a)),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;Object.prototype.propertyIsEnumerable.call(a,l)&&(a[l]===mT?delete n[l]:n[l]!==null&&a[l]!==null&&typeof n[l]=="object"&&typeof a[l]=="object"&&!Ii(n[l])&&!Ii(a[l])?n[l]=Im(n[l],a[l]):n[l]=dT(a[l]))}}catch(u){s.e(u)}finally{s.f()}return n}function dT(r){return Ii(r)?vn(r).call(r,function(t){return dT(t)}):typeof r=="object"&&r!==null?r instanceof Date?new Date(r.getTime()):Im({},r):r}function vT(r){for(var t=0,e=Ay(r);t<e.length;t++){var i=e[t];r[i]===mT?delete r[i]:typeof r[i]=="object"&&r[i]!==null&&vT(r[i])}}function mre(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get(){return{set:r}}}}var pre=typeof window<"u"?window.Hammer||fre:function(){return mre()};function sa(r){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var i=pre(this._dom.overlay);i.on("tap",hk(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];No(n).call(n,function(a){i.on(a,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){dre(a.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&t.deactivate()}}xte(sa.prototype);sa.current=null;sa.prototype.destroy=function(){var r,t;this.deactivate();var e=hT(KZ(r=Nk(t=this._cleanupQueue).call(t,0)).call(r)),i;try{for(e.s();!(i=e.n()).done;){var n=i.value;n()}}catch(a){e.e(a)}finally{e.f()}};sa.prototype.activate=function(){sa.current&&sa.current.deactivate(),sa.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};sa.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};sa.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function dre(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}var vre=$p,gre=yu,bre=TypeError,gT=function(r){if(vre(r))return r;throw new bre(gre(r)+" is not a constructor")},yre=it,$re=ai,rv=du,_re=fk,Zw=gT,wre=Ni,e3=Gr,xre=Xo,bT=Ct,By=$re("Reflect","construct"),Sre=Object.prototype,Ere=[].push,yT=bT(function(){function r(){}return!(By(function(){},[],r)instanceof r)}),$T=!bT(function(){By(function(){})}),t3=yT||$T;yre({target:"Reflect",stat:!0,forced:t3,sham:t3},{construct:function(t,e){Zw(t),wre(e);var i=arguments.length<3?t:Zw(arguments[2]);if($T&&!yT)return By(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return rv(Ere,n,e),new(rv(_re,t,n))}var a=i.prototype,s=xre(e3(a)?a:Sre),o=rv(t,s,e);return e3(o)?o:s}});var kre=Yt,Tre=kre.Reflect.construct,Ore=Tre,Are=Ore,Ire=Are,em=st(Ire),Cre=Yt,Pre=Cre.Object.getOwnPropertySymbols,Dre=Pre,Nre=Dre,Rre=Nre,r3=st(Rre),_T={exports:{}},Mre=it,Bre=Ct,Fre=Zn,wT=Go.f,xT=Ar,zre=!xT||Bre(function(){wT(1)});Mre({target:"Object",stat:!0,forced:zre,sham:!xT},{getOwnPropertyDescriptor:function(t,e){return wT(Fre(t),e)}});var Lre=Yt,ST=Lre.Object,jre=_T.exports=function(t,e){return ST.getOwnPropertyDescriptor(t,e)};ST.getOwnPropertyDescriptor.sham&&(jre.sham=!0);var Ure=_T.exports,qre=Ure,Hre=qre,Gre=Hre,ET=st(Gre),Wre=it,Vre=Ar,Xre=Oy,Kre=Zn,Yre=Go,Jre=_u;Wre({target:"Object",stat:!0,sham:!Vre},{getOwnPropertyDescriptors:function(t){for(var e=Kre(t),i=Yre.f,n=Xre(e),a={},s=0,o,l;n.length>s;)l=i(e,o=n[s++]),l!==void 0&&Jre(a,o,l);return a}});var Qre=Yt,Zre=Qre.Object.getOwnPropertyDescriptors,eie=Zre,tie=eie,rie=tie,i3=st(rie),kT={exports:{}},iie=it,nie=Ar,n3=wp.f;iie({target:"Object",stat:!0,forced:Object.defineProperties!==n3,sham:!nie},{defineProperties:n3});var aie=Yt,TT=aie.Object,sie=kT.exports=function(t,e){return TT.defineProperties(t,e)};TT.defineProperties.sham&&(sie.sham=!0);var oie=kT.exports,lie=oie,uie=lie,fie=uie,cie=st(fie),hie=aE,mie=st(hie);function OT(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var pie=Mk,die=pie,vie=die,gie=vie,AT=gie,bie=st(AT),yie=it,$ie=KE;yie({target:"Object",stat:!0},{setPrototypeOf:$ie});var _ie=Yt,wie=_ie.Object.setPrototypeOf,xie=wie,Sie=xie,Eie=Sie,kie=Eie,Tie=kie,Oie=Tie,IT=Oie,T1=st(IT),Aie=ck,Iie=Aie,Cie=Iie,Pie=Cie,Die=Pie,CT=st(Die);function O1(r,t){var e;return O1=T1?CT(e=T1).call(e):function(n,a){return n.__proto__=a,n},O1(r,t)}function Nie(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=bie(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),gp(r,"prototype",{writable:!1}),t&&O1(r,t)}function Rie(r,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OT(r)}var Mie=Uee,Bie=Mie,Fie=Bie,zie=Fie,PT=zie,a3=st(PT);function Cm(r){var t;return Cm=T1?CT(t=a3).call(t):function(i){return i.__proto__||a3(i)},Cm(r)}var DT={exports:{}},NT={exports:{}};(function(r){var t=xy,e=sk;function i(n){"@babel/helpers - typeof";return r.exports=i=typeof t=="function"&&typeof e=="symbol"?function(a){return typeof a}:function(a){return a&&typeof t=="function"&&a.constructor===t&&a!==t.prototype?"symbol":typeof a},r.exports.__esModule=!0,r.exports.default=r.exports,i(n)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports})(NT);var Lie=NT.exports,jie=Ck,Uie=jie,qie=Uie,Hie=qie,Gie=Hie,s3=br,Wie=Oy,Vie=Go,Xie=xi,Kie=function(r,t,e){for(var i=Wie(t),n=Xie.f,a=Vie.f,s=0;s<i.length;s++){var o=i[s];!s3(r,o)&&!(e&&s3(e,o))&&n(r,o,a(t,o))}},Yie=Gr,Jie=Ta,Qie=function(r,t){Yie(t)&&"cause"in t&&Jie(r,"cause",t.cause)},Zie=Vt,RT=Error,ene=Zie("".replace),tne=function(r){return String(new RT(r).stack)}("zxcasd"),MT=/\n\s*at [^:]*:[^\n]*/,rne=MT.test(tne),ine=function(r,t){if(rne&&typeof r=="string"&&!RT.prepareStackTrace)for(;t--;)r=ene(r,MT,"");return r},nne=Ct,ane=Wo,sne=!nne(function(){var r=new Error("a");return"stack"in r?(Object.defineProperty(r,"stack",ane(1,7)),r.stack!==7):!0}),one=Ta,lne=ine,une=sne,o3=Error.captureStackTrace,fne=function(r,t,e,i){une&&(o3?o3(r,t):one(r,"stack",lne(e,i)))},cne=Ks,hne=Ir,mne=Ni,pne=yu,dne=dk,vne=Ri,l3=gr,gne=Ey,bne=Np,u3=pk,yne=TypeError,tm=function(r,t){this.stopped=r,this.result=t},f3=tm.prototype,Jo=function(r,t,e){var i=e&&e.that,n=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_RECORD),s=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=cne(t,i),u,f,h,c,m,d,v,b=function(y){return u&&u3(u,"normal",y),new tm(!0,y)},g=function(y){return n?(mne(y),o?l(y[0],y[1],b):l(y[0],y[1])):o?l(y,b):l(y)};if(a)u=r.iterator;else if(s)u=r;else{if(f=bne(r),!f)throw new yne(pne(r)+" is not iterable");if(dne(f)){for(h=0,c=vne(r);c>h;h++)if(m=g(r[h]),m&&l3(f3,m))return m;return new tm(!1)}u=gne(r,f)}for(d=a?r.next:u.next;!(v=hne(d,u)).done;){try{m=g(v.value)}catch(y){u3(u,"throw",y)}if(typeof m=="object"&&m&&l3(f3,m))return m}return new tm(!1)},$ne=Vo,_ne=function(r,t){return r===void 0?arguments.length<2?"":t:$ne(r)},wne=it,xne=gr,Sne=Cp,Pm=KE,Ene=Kie,BT=Xo,iv=Ta,nv=Wo,kne=Qie,Tne=fne,One=Jo,Ane=_ne,Ine=Zt,Cne=Ine("toStringTag"),Dm=Error,Pne=[].push,nu=function(t,e){var i=xne(av,this),n;Pm?n=Pm(new Dm,i?Sne(this):av):(n=i?this:BT(av),iv(n,Cne,"Error")),e!==void 0&&iv(n,"message",Ane(e)),Tne(n,nu,n.stack,1),arguments.length>2&&kne(n,arguments[2]);var a=[];return One(t,Pne,{that:a}),iv(n,"errors",a),n};Pm?Pm(nu,Dm):Ene(nu,Dm,{name:!0});var av=nu.prototype=BT(Dm.prototype,{constructor:nv(1,nu),message:nv(1,""),name:nv(1,"AggregateError")});wne({global:!0,constructor:!0,arity:2},{AggregateError:nu});var Dne=ai,Nne=py,Rne=Zt,Mne=Ar,c3=Rne("species"),FT=function(r){var t=Dne(r);Mne&&t&&!t[c3]&&Nne(t,c3,{configurable:!0,get:function(){return this}})},Bne=gr,Fne=TypeError,Fy=function(r,t){if(Bne(t,r))return r;throw new Fne("Incorrect invocation")},h3=Ni,zne=gT,Lne=vu,jne=Zt,Une=jne("species"),zT=function(r,t){var e=h3(r).constructor,i;return e===void 0||Lne(i=h3(e)[Une])?t:zne(i)},qne=Xs,LT=/(?:ipad|iphone|ipod).*applewebkit/i.test(qne),Ci=Kt,Hne=du,Gne=Ks,m3=ir,Wne=br,jT=Ct,p3=dE,Vne=uc,d3=uy,Xne=Bk,Kne=LT,Yne=cc,A1=Ci.setImmediate,I1=Ci.clearImmediate,Jne=Ci.process,sv=Ci.Dispatch,Qne=Ci.Function,v3=Ci.MessageChannel,Zne=Ci.String,ov=0,ff={},g3="onreadystatechange",zf,lo,lv,uv;jT(function(){zf=Ci.location});var zy=function(r){if(Wne(ff,r)){var t=ff[r];delete ff[r],t()}},fv=function(r){return function(){zy(r)}},b3=function(r){zy(r.data)},y3=function(r){Ci.postMessage(Zne(r),zf.protocol+"//"+zf.host)};(!A1||!I1)&&(A1=function(t){Xne(arguments.length,1);var e=m3(t)?t:Qne(t),i=Vne(arguments,1);return ff[++ov]=function(){Hne(e,void 0,i)},lo(ov),ov},I1=function(t){delete ff[t]},Yne?lo=function(r){Jne.nextTick(fv(r))}:sv&&sv.now?lo=function(r){sv.now(fv(r))}:v3&&!Kne?(lv=new v3,uv=lv.port2,lv.port1.onmessage=b3,lo=Gne(uv.postMessage,uv)):Ci.addEventListener&&m3(Ci.postMessage)&&!Ci.importScripts&&zf&&zf.protocol!=="file:"&&!jT(y3)?(lo=y3,Ci.addEventListener("message",b3,!1)):g3 in d3("script")?lo=function(r){p3.appendChild(d3("script"))[g3]=function(){p3.removeChild(this),zy(r)}}:lo=function(r){setTimeout(fv(r),0)});var UT={set:A1,clear:I1},qT=function(){this.head=null,this.tail=null};qT.prototype={add:function(r){var t={item:r,next:null},e=this.tail;e?e.next=t:this.head=t,this.tail=t},get:function(){var r=this.head;if(r){var t=this.head=r.next;return t===null&&(this.tail=null),r.item}}};var HT=qT,eae=Xs,tae=/ipad|iphone|ipod/i.test(eae)&&typeof Pebble<"u",rae=Xs,iae=/web0s(?!.*chrome)/i.test(rae),Fo=Kt,$3=Ks,nae=Go.f,cv=UT.set,aae=HT,sae=LT,oae=tae,lae=iae,hv=cc,_3=Fo.MutationObserver||Fo.WebKitMutationObserver,w3=Fo.document,x3=Fo.process,bh=Fo.Promise,S3=nae(Fo,"queueMicrotask"),C1=S3&&S3.value,$l,mv,pv,yh,E3;if(!C1){var $h=new aae,_h=function(){var r,t;for(hv&&(r=x3.domain)&&r.exit();t=$h.get();)try{t()}catch(e){throw $h.head&&$l(),e}r&&r.enter()};!sae&&!hv&&!lae&&_3&&w3?(mv=!0,pv=w3.createTextNode(""),new _3(_h).observe(pv,{characterData:!0}),$l=function(){pv.data=mv=!mv}):!oae&&bh&&bh.resolve?(yh=bh.resolve(void 0),yh.constructor=bh,E3=$3(yh.then,yh),$l=function(){E3(_h)}):hv?$l=function(){x3.nextTick(_h)}:(cv=$3(cv,Fo),$l=function(){cv(_h)}),C1=function(r){$h.head||$l(),$h.add(r)}}var uae=C1,fae=function(r,t){try{arguments.length===1?console.error(r):console.error(r,t)}catch{}},Tu=function(r){try{return{error:!1,value:r()}}catch(t){return{error:!0,value:t}}},cae=Kt,Ou=cae.Promise,GT=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",hae=GT,mae=cc,pae=!hae&&!mae&&typeof window=="object"&&typeof document=="object",dae=Kt,cf=Ou,vae=ir,gae=rE,bae=lE,yae=Zt,$ae=pae,_ae=GT,dv=gu,k3=cf&&cf.prototype,wae=yae("species"),P1=!1,WT=vae(dae.PromiseRejectionEvent),xae=gae("Promise",function(){var r=bae(cf),t=r!==String(cf);if(!t&&dv===66||!(k3.catch&&k3.finally))return!0;if(!dv||dv<51||!/native code/.test(r)){var e=new cf(function(a){a(1)}),i=function(a){a(function(){},function(){})},n=e.constructor={};if(n[wae]=i,P1=e.then(function(){})instanceof i,!P1)return!0}return!t&&($ae||_ae)&&!WT}),gc={CONSTRUCTOR:xae,REJECTION_EVENT:WT,SUBCLASSING:P1},ea={},T3=_i,Sae=TypeError,Eae=function(r){var t,e;this.promise=new r(function(i,n){if(t!==void 0||e!==void 0)throw new Sae("Bad Promise constructor");t=i,e=n}),this.resolve=T3(t),this.reject=T3(e)};ea.f=function(r){return new Eae(r)};var kae=it,Nm=cc,js=Kt,bc=Ir,Tae=wu,Oae=Ko,Aae=FT,Iae=_i,D1=ir,Cae=Gr,Pae=Fy,Dae=zT,VT=UT.set,Ly=uae,Nae=fae,Rae=Tu,Mae=HT,XT=xu,N1=Ou,KT=gc,YT=ea,Lp="Promise",JT=KT.CONSTRUCTOR,Bae=KT.REJECTION_EVENT,vv=XT.getterFor(Lp),Fae=XT.set,zae=N1&&N1.prototype,Rl=N1,gv=zae,QT=js.TypeError,R1=js.document,jy=js.process,M1=YT.f,Lae=M1,jae=!!(R1&&R1.createEvent&&js.dispatchEvent),ZT="unhandledrejection",Uae="rejectionhandled",O3=0,e9=1,qae=2,Uy=1,t9=2,wh,A3,Hae,r9=function(r){var t;return Cae(r)&&D1(t=r.then)?t:!1},i9=function(r,t){var e=t.value,i=t.state===e9,n=i?r.ok:r.fail,a=r.resolve,s=r.reject,o=r.domain,l,u,f;try{n?(i||(t.rejection===t9&&Wae(t),t.rejection=Uy),n===!0?l=e:(o&&o.enter(),l=n(e),o&&(o.exit(),f=!0)),l===r.promise?s(new QT("Promise-chain cycle")):(u=r9(l))?bc(u,l,a,s):a(l)):s(e)}catch(h){o&&!f&&o.exit(),s(h)}},n9=function(r,t){r.notified||(r.notified=!0,Ly(function(){for(var e=r.reactions,i;i=e.get();)i9(i,r);r.notified=!1,t&&!r.rejection&&Gae(r)}))},a9=function(r,t,e){var i,n;jae?(i=R1.createEvent("Event"),i.promise=t,i.reason=e,i.initEvent(r,!1,!0),js.dispatchEvent(i)):i={promise:t,reason:e},!Bae&&(n=js["on"+r])?n(i):r===ZT&&Nae("Unhandled promise rejection",e)},Gae=function(r){bc(VT,js,function(){var t=r.facade,e=r.value,i=I3(r),n;if(i&&(n=Rae(function(){Nm?jy.emit("unhandledRejection",e,t):a9(ZT,t,e)}),r.rejection=Nm||I3(r)?t9:Uy,n.error))throw n.value})},I3=function(r){return r.rejection!==Uy&&!r.parent},Wae=function(r){bc(VT,js,function(){var t=r.facade;Nm?jy.emit("rejectionHandled",t):a9(Uae,t,r.value)})},Ml=function(r,t,e){return function(i){r(t,i,e)}},Gl=function(r,t,e){r.done||(r.done=!0,e&&(r=e),r.value=t,r.state=qae,n9(r,!0))},B1=function(r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(r.facade===t)throw new QT("Promise can't be resolved itself");var i=r9(t);i?Ly(function(){var n={done:!1};try{bc(i,t,Ml(B1,n,r),Ml(Gl,n,r))}catch(a){Gl(n,a,r)}}):(r.value=t,r.state=e9,n9(r,!1))}catch(n){Gl({done:!1},n,r)}}};JT&&(Rl=function(t){Pae(this,gv),Iae(t),bc(wh,this);var e=vv(this);try{t(Ml(B1,e),Ml(Gl,e))}catch(i){Gl(e,i)}},gv=Rl.prototype,wh=function(t){Fae(this,{type:Lp,done:!1,notified:!1,parent:!1,reactions:new Mae,rejection:!1,state:O3,value:void 0})},wh.prototype=Tae(gv,"then",function(t,e){var i=vv(this),n=M1(Dae(this,Rl));return i.parent=!0,n.ok=D1(t)?t:!0,n.fail=D1(e)&&e,n.domain=Nm?jy.domain:void 0,i.state===O3?i.reactions.add(n):Ly(function(){i9(n,i)}),n.promise}),A3=function(){var r=new wh,t=vv(r);this.promise=r,this.resolve=Ml(B1,t),this.reject=Ml(Gl,t)},YT.f=M1=function(r){return r===Rl||r===Hae?new A3(r):Lae(r)});kae({global:!0,constructor:!0,wrap:!0,forced:JT},{Promise:Rl});Oae(Rl,Lp,!1,!0);Aae(Lp);var Vae=Ou,Xae=bk,Kae=gc.CONSTRUCTOR,jp=Kae||!Xae(function(r){Vae.all(r).then(void 0,function(){})}),Yae=it,Jae=Ir,Qae=_i,Zae=ea,ese=Tu,tse=Jo,rse=jp;Yae({target:"Promise",stat:!0,forced:rse},{all:function(t){var e=this,i=Zae.f(e),n=i.resolve,a=i.reject,s=ese(function(){var o=Qae(e.resolve),l=[],u=0,f=1;tse(t,function(h){var c=u++,m=!1;f++,Jae(o,e,h).then(function(d){m||(m=!0,l[c]=d,--f||n(l))},a)}),--f||n(l)});return s.error&&a(s.value),i.promise}});var ise=it,nse=gc.CONSTRUCTOR,C3=Ou;C3&&C3.prototype;ise({target:"Promise",proto:!0,forced:nse,real:!0},{catch:function(r){return this.then(void 0,r)}});var ase=it,sse=Ir,ose=_i,lse=ea,use=Tu,fse=Jo,cse=jp;ase({target:"Promise",stat:!0,forced:cse},{race:function(t){var e=this,i=lse.f(e),n=i.reject,a=use(function(){var s=ose(e.resolve);fse(t,function(o){sse(s,e,o).then(i.resolve,n)})});return a.error&&n(a.value),i.promise}});var hse=it,mse=Ir,pse=ea,dse=gc.CONSTRUCTOR;hse({target:"Promise",stat:!0,forced:dse},{reject:function(t){var e=pse.f(this);return mse(e.reject,void 0,t),e.promise}});var vse=Ni,gse=Gr,bse=ea,s9=function(r,t){if(vse(r),gse(t)&&t.constructor===r)return t;var e=bse.f(r),i=e.resolve;return i(t),e.promise},yse=it,$se=ai,_se=Ij,wse=Ou,xse=gc.CONSTRUCTOR,Sse=s9,Ese=$se("Promise"),kse=!xse;yse({target:"Promise",stat:!0,forced:_se},{resolve:function(t){return Sse(kse&&this===Ese?wse:this,t)}});var Tse=it,Ose=Ir,Ase=_i,Ise=ea,Cse=Tu,Pse=Jo,Dse=jp;Tse({target:"Promise",stat:!0,forced:Dse},{allSettled:function(t){var e=this,i=Ise.f(e),n=i.resolve,a=i.reject,s=Cse(function(){var o=Ase(e.resolve),l=[],u=0,f=1;Pse(t,function(h){var c=u++,m=!1;f++,Ose(o,e,h).then(function(d){m||(m=!0,l[c]={status:"fulfilled",value:d},--f||n(l))},function(d){m||(m=!0,l[c]={status:"rejected",reason:d},--f||n(l))})}),--f||n(l)});return s.error&&a(s.value),i.promise}});var Nse=it,Rse=Ir,Mse=_i,Bse=ai,Fse=ea,zse=Tu,Lse=Jo,jse=jp,P3="No one promise resolved";Nse({target:"Promise",stat:!0,forced:jse},{any:function(t){var e=this,i=Bse("AggregateError"),n=Fse.f(e),a=n.resolve,s=n.reject,o=zse(function(){var l=Mse(e.resolve),u=[],f=0,h=1,c=!1;Lse(t,function(m){var d=f++,v=!1;h++,Rse(l,e,m).then(function(b){v||c||(c=!0,a(b))},function(b){v||c||(v=!0,u[d]=b,--h||s(new i(u,P3)))})}),--h||s(new i(u,P3))});return o.error&&s(o.value),n.promise}});var Use=it,F1=Ou,qse=Ct,Hse=ai,Gse=ir,Wse=zT,D3=s9,Vse=F1&&F1.prototype,Xse=!!F1&&qse(function(){Vse.finally.call({then:function(){}},function(){})});Use({target:"Promise",proto:!0,real:!0,forced:Xse},{finally:function(r){var t=Wse(this,Hse("Promise")),e=Gse(r);return this.then(e?function(i){return D3(t,r()).then(function(){return i})}:r,e?function(i){return D3(t,r()).then(function(){throw i})}:r)}});var Kse=Yt,Yse=Kse.Promise,Jse=Yse,Qse=Jse,Zse=it,eoe=ea;Zse({target:"Promise",stat:!0},{withResolvers:function(){var t=eoe.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var toe=Qse,roe=toe,ioe=it,noe=ea,aoe=Tu;ioe({target:"Promise",stat:!0,forced:!0},{try:function(r){var t=noe.f(this),e=aoe(r);return(e.error?t.reject:t.resolve)(e.value),t.promise}});var soe=roe,ooe=soe,loe=ooe,uoe=Pk,foe=uoe,coe=foe,hoe=coe,moe=hoe;(function(r){var t=Lie.default,e=sE,i=xy,n=AT,a=PT,s=Gie,o=Ek,l=IT,u=loe,f=moe,h=Tk;function c(){r.exports=c=function(){return d},r.exports.__esModule=!0,r.exports.default=r.exports;var m,d={},v=Object.prototype,b=v.hasOwnProperty,g=e||function(pe,be,W){pe[be]=W.value},y=typeof i=="function"?i:{},_=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",O=y.toStringTag||"@@toStringTag";function I(pe,be,W){return e(pe,be,{value:W,enumerable:!0,configurable:!0,writable:!0}),pe[be]}try{I({},"")}catch{I=function(W,ae,ze){return W[ae]=ze}}function M(pe,be,W,ae){var ze=be&&be.prototype instanceof Q?be:Q,Le=n(ze.prototype),Ge=new Oe(ae||[]);return g(Le,"_invoke",{value:ue(pe,W,Ge)}),Le}function T(pe,be,W){try{return{type:"normal",arg:pe.call(be,W)}}catch(ae){return{type:"throw",arg:ae}}}d.wrap=M;var E="suspendedStart",q="suspendedYield",k="executing",j="completed",J={};function Q(){}function R(){}function B(){}var U={};I(U,_,function(){return this});var te=a,de=te&&te(te(Ie([])));de&&de!==v&&b.call(de,_)&&(U=de);var me=B.prototype=Q.prototype=n(U);function ee(pe){var be;s(be=["next","throw","return"]).call(be,function(W){I(pe,W,function(ae){return this._invoke(W,ae)})})}function re(pe,be){function W(ze,Le,Ge,G){var C=T(pe[ze],pe,Le);if(C.type!=="throw"){var N=C.arg,Z=N.value;return Z&&t(Z)=="object"&&b.call(Z,"__await")?be.resolve(Z.__await).then(function(he){W("next",he,Ge,G)},function(he){W("throw",he,Ge,G)}):be.resolve(Z).then(function(he){N.value=he,Ge(N)},function(he){return W("throw",he,Ge,G)})}G(C.arg)}var ae;g(this,"_invoke",{value:function(Le,Ge){function G(){return new be(function(C,N){W(Le,Ge,C,N)})}return ae=ae?ae.then(G,G):G()}})}function ue(pe,be,W){var ae=E;return function(ze,Le){if(ae===k)throw new Error("Generator is already running");if(ae===j){if(ze==="throw")throw Le;return{value:m,done:!0}}for(W.method=ze,W.arg=Le;;){var Ge=W.delegate;if(Ge){var G=Te(Ge,W);if(G){if(G===J)continue;return G}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(ae===E)throw ae=j,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);ae=k;var C=T(pe,be,W);if(C.type==="normal"){if(ae=W.done?j:q,C.arg===J)continue;return{value:C.arg,done:W.done}}C.type==="throw"&&(ae=j,W.method="throw",W.arg=C.arg)}}}function Te(pe,be){var W=be.method,ae=pe.iterator[W];if(ae===m)return be.delegate=null,W==="throw"&&pe.iterator.return&&(be.method="return",be.arg=m,Te(pe,be),be.method==="throw")||W!=="return"&&(be.method="throw",be.arg=new TypeError("The iterator does not provide a '"+W+"' method")),J;var ze=T(ae,pe.iterator,be.arg);if(ze.type==="throw")return be.method="throw",be.arg=ze.arg,be.delegate=null,J;var Le=ze.arg;return Le?Le.done?(be[pe.resultName]=Le.value,be.next=pe.nextLoc,be.method!=="return"&&(be.method="next",be.arg=m),be.delegate=null,J):Le:(be.method="throw",be.arg=new TypeError("iterator result is not an object"),be.delegate=null,J)}function we(pe){var be,W={tryLoc:pe[0]};1 in pe&&(W.catchLoc=pe[1]),2 in pe&&(W.finallyLoc=pe[2],W.afterLoc=pe[3]),o(be=this.tryEntries).call(be,W)}function xe(pe){var be=pe.completion||{};be.type="normal",delete be.arg,pe.completion=be}function Oe(pe){this.tryEntries=[{tryLoc:"root"}],s(pe).call(pe,we,this),this.reset(!0)}function Ie(pe){if(pe||pe===""){var be=pe[_];if(be)return be.call(pe);if(typeof pe.next=="function")return pe;if(!isNaN(pe.length)){var W=-1,ae=function ze(){for(;++W<pe.length;)if(b.call(pe,W))return ze.value=pe[W],ze.done=!1,ze;return ze.value=m,ze.done=!0,ze};return ae.next=ae}}throw new TypeError(t(pe)+" is not iterable")}return R.prototype=B,g(me,"constructor",{value:B,configurable:!0}),g(B,"constructor",{value:R,configurable:!0}),R.displayName=I(B,O,"GeneratorFunction"),d.isGeneratorFunction=function(pe){var be=typeof pe=="function"&&pe.constructor;return!!be&&(be===R||(be.displayName||be.name)==="GeneratorFunction")},d.mark=function(pe){return l?l(pe,B):(pe.__proto__=B,I(pe,O,"GeneratorFunction")),pe.prototype=n(me),pe},d.awrap=function(pe){return{__await:pe}},ee(re.prototype),I(re.prototype,w,function(){return this}),d.AsyncIterator=re,d.async=function(pe,be,W,ae,ze){ze===void 0&&(ze=u);var Le=new re(M(pe,be,W,ae),ze);return d.isGeneratorFunction(be)?Le:Le.next().then(function(Ge){return Ge.done?Ge.value:Le.next()})},ee(me),I(me,O,"Generator"),I(me,_,function(){return this}),I(me,"toString",function(){return"[object Generator]"}),d.keys=function(pe){var be=Object(pe),W=[];for(var ae in be)o(W).call(W,ae);return f(W).call(W),function ze(){for(;W.length;){var Le=W.pop();if(Le in be)return ze.value=Le,ze.done=!1,ze}return ze.done=!0,ze}},d.values=Ie,Oe.prototype={constructor:Oe,reset:function(be){var W;if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,s(W=this.tryEntries).call(W,xe),!be)for(var ae in this)ae.charAt(0)==="t"&&b.call(this,ae)&&!isNaN(+h(ae).call(ae,1))&&(this[ae]=m)},stop:function(){this.done=!0;var be=this.tryEntries[0].completion;if(be.type==="throw")throw be.arg;return this.rval},dispatchException:function(be){if(this.done)throw be;var W=this;function ae(N,Z){return Ge.type="throw",Ge.arg=be,W.next=N,Z&&(W.method="next",W.arg=m),!!Z}for(var ze=this.tryEntries.length-1;ze>=0;--ze){var Le=this.tryEntries[ze],Ge=Le.completion;if(Le.tryLoc==="root")return ae("end");if(Le.tryLoc<=this.prev){var G=b.call(Le,"catchLoc"),C=b.call(Le,"finallyLoc");if(G&&C){if(this.prev<Le.catchLoc)return ae(Le.catchLoc,!0);if(this.prev<Le.finallyLoc)return ae(Le.finallyLoc)}else if(G){if(this.prev<Le.catchLoc)return ae(Le.catchLoc,!0)}else{if(!C)throw new Error("try statement without catch or finally");if(this.prev<Le.finallyLoc)return ae(Le.finallyLoc)}}}},abrupt:function(be,W){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var ze=this.tryEntries[ae];if(ze.tryLoc<=this.prev&&b.call(ze,"finallyLoc")&&this.prev<ze.finallyLoc){var Le=ze;break}}Le&&(be==="break"||be==="continue")&&Le.tryLoc<=W&&W<=Le.finallyLoc&&(Le=null);var Ge=Le?Le.completion:{};return Ge.type=be,Ge.arg=W,Le?(this.method="next",this.next=Le.finallyLoc,J):this.complete(Ge)},complete:function(be,W){if(be.type==="throw")throw be.arg;return be.type==="break"||be.type==="continue"?this.next=be.arg:be.type==="return"?(this.rval=this.arg=be.arg,this.method="return",this.next="end"):be.type==="normal"&&W&&(this.next=W),J},finish:function(be){for(var W=this.tryEntries.length-1;W>=0;--W){var ae=this.tryEntries[W];if(ae.finallyLoc===be)return this.complete(ae.completion,ae.afterLoc),xe(ae),J}},catch:function(be){for(var W=this.tryEntries.length-1;W>=0;--W){var ae=this.tryEntries[W];if(ae.tryLoc===be){var ze=ae.completion;if(ze.type==="throw"){var Le=ze.arg;xe(ae)}return Le}}throw new Error("illegal catch attempt")},delegateYield:function(be,W,ae){return this.delegate={iterator:Ie(be),resultName:W,nextLoc:ae},this.method==="next"&&(this.arg=m),J}},d}r.exports=c,r.exports.__esModule=!0,r.exports.default=r.exports})(DT);var poe=DT.exports,rm=poe(),doe=rm;try{regeneratorRuntime=rm}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=rm:Function("r","regeneratorRuntime = r")(rm)}var ui=st(doe),o9={exports:{}},voe=Ct,goe=voe(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),boe=Ct,yoe=Gr,$oe=Vs,N3=goe,im=Object.isExtensible,_oe=boe(function(){im(1)}),woe=_oe||N3?function(t){return!yoe(t)||N3&&$oe(t)==="ArrayBuffer"?!1:im?im(t):!0}:im,xoe=Ct,Soe=!xoe(function(){return Object.isExtensible(Object.preventExtensions({}))}),Eoe=it,koe=Vt,Toe=ic,Ooe=Gr,qy=br,Aoe=xi.f,R3=nc,Ioe=my,Hy=woe,Coe=dp,Poe=Soe,l9=!1,xa=Coe("meta"),Doe=0,Gy=function(r){Aoe(r,xa,{value:{objectID:"O"+Doe++,weakData:{}}})},Noe=function(r,t){if(!Ooe(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!qy(r,xa)){if(!Hy(r))return"F";if(!t)return"E";Gy(r)}return r[xa].objectID},Roe=function(r,t){if(!qy(r,xa)){if(!Hy(r))return!0;if(!t)return!1;Gy(r)}return r[xa].weakData},Moe=function(r){return Poe&&l9&&Hy(r)&&!qy(r,xa)&&Gy(r),r},Boe=function(){Foe.enable=function(){},l9=!0;var r=R3.f,t=koe([].splice),e={};e[xa]=1,r(e).length&&(R3.f=function(i){for(var n=r(i),a=0,s=n.length;a<s;a++)if(n[a]===xa){t(n,a,1);break}return n},Eoe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Ioe.f}))},Foe=o9.exports={enable:Boe,fastKey:Noe,getWeakData:Roe,onFreeze:Moe};Toe[xa]=!0;var u9=o9.exports,zoe=it,Loe=Kt,joe=u9,Uoe=Ct,qoe=Ta,Hoe=Jo,Goe=Fy,Woe=ir,Voe=Gr,Xoe=vu,Koe=Ko,Yoe=xi.f,Joe=Su.forEach,Qoe=Ar,f9=xu,Zoe=f9.set,ele=f9.getterFor,c9=function(r,t,e){var i=r.indexOf("Map")!==-1,n=r.indexOf("Weak")!==-1,a=i?"set":"add",s=Loe[r],o=s&&s.prototype,l={},u;if(!Qoe||!Woe(s)||!(n||o.forEach&&!Uoe(function(){new s().entries().next()})))u=e.getConstructor(t,r,i,a),joe.enable();else{u=t(function(c,m){Zoe(Goe(c,f),{type:r,collection:new s}),Xoe(m)||Hoe(m,c[a],{that:c,AS_ENTRIES:i})});var f=u.prototype,h=ele(r);Joe(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(c){var m=c==="add"||c==="set";c in o&&!(n&&c==="clear")&&qoe(f,c,function(d,v){var b=h(this).collection;if(!m&&n&&!Voe(d))return c==="get"?void 0:!1;var g=b[c](d===0?0:d,v);return m?this:g})}),n||Yoe(f,"size",{configurable:!0,get:function(){return h(this).collection.size}})}return Koe(u,r,!1,!0),l[r]=u,zoe({global:!0,forced:!0},l),n||e.setStrong(u,r,i),u},tle=wu,rle=function(r,t,e){for(var i in t)e&&e.unsafe&&r[i]?r[i]=t[i]:tle(r,i,t[i],e);return r},ile=Xo,nle=py,M3=rle,ale=Ks,sle=Fy,ole=vu,lle=Jo,ule=$y,xh=_y,fle=FT,Vu=Ar,B3=u9.fastKey,h9=xu,F3=h9.set,bv=h9.getterFor,m9={getConstructor:function(r,t,e,i){var n=r(function(u,f){sle(u,a),F3(u,{type:t,index:ile(null),first:void 0,last:void 0,size:0}),Vu||(u.size=0),ole(f)||lle(f,u[i],{that:u,AS_ENTRIES:e})}),a=n.prototype,s=bv(t),o=function(u,f,h){var c=s(u),m=l(u,f),d,v;return m?m.value=h:(c.last=m={index:v=B3(f,!0),key:f,value:h,previous:d=c.last,next:void 0,removed:!1},c.first||(c.first=m),d&&(d.next=m),Vu?c.size++:u.size++,v!=="F"&&(c.index[v]=m)),u},l=function(u,f){var h=s(u),c=B3(f),m;if(c!=="F")return h.index[c];for(m=h.first;m;m=m.next)if(m.key===f)return m};return M3(a,{clear:function(){for(var f=this,h=s(f),c=h.index,m=h.first;m;)m.removed=!0,m.previous&&(m.previous=m.previous.next=void 0),delete c[m.index],m=m.next;h.first=h.last=void 0,Vu?h.size=0:f.size=0},delete:function(u){var f=this,h=s(f),c=l(f,u);if(c){var m=c.next,d=c.previous;delete h.index[c.index],c.removed=!0,d&&(d.next=m),m&&(m.previous=d),h.first===c&&(h.first=m),h.last===c&&(h.last=d),Vu?h.size--:f.size--}return!!c},forEach:function(f){for(var h=s(this),c=ale(f,arguments.length>1?arguments[1]:void 0),m;m=m?m.next:h.first;)for(c(m.value,m.key,this);m&&m.removed;)m=m.previous},has:function(f){return!!l(this,f)}}),M3(a,e?{get:function(f){var h=l(this,f);return h&&h.value},set:function(f,h){return o(this,f===0?0:f,h)}}:{add:function(f){return o(this,f=f===0?0:f,f)}}),Vu&&nle(a,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(r,t,e){var i=t+" Iterator",n=bv(t),a=bv(i);ule(r,t,function(s,o){F3(this,{type:i,target:s,state:n(s),kind:o,last:void 0})},function(){for(var s=a(this),o=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,xh(void 0,!0)):xh(o==="keys"?l.key:o==="values"?l.value:[l.key,l.value],!1)},e?"entries":"values",!e,!0),fle(t)}},cle=c9,hle=m9;cle("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},hle);var mle=Yt,ple=mle.Map,dle=ple,vle=dle,gle=vle,p9=st(gle),ble=it,yle=Su.some,$le=Dp,_le=$le("some");ble({target:"Array",proto:!0,forced:!_le},{some:function(t){return yle(this,t,arguments.length>1?arguments[1]:void 0)}});var wle=Xr,xle=wle("Array","some"),Sle=gr,Ele=xle,yv=Array.prototype,kle=function(r){var t=r.some;return r===yv||Sle(yv,r)&&t===yv.some?Ele:t},Tle=kle,Ole=Tle,Ale=Ole,Ile=st(Ale),Cle=Xr,Ple=Cle("Array","keys"),Dle=Ple,Nle=Dle,Rle=Oa,Mle=br,Ble=gr,Fle=Nle,$v=Array.prototype,zle={DOMTokenList:!0,NodeList:!0},Lle=function(r){var t=r.keys;return r===$v||Ble($v,r)&&t===$v.keys||Mle(zle,Rle(r))?Fle:t},jle=Lle,_l=st(jle),z3=bE,Ule=Math.floor,z1=function(r,t){var e=r.length,i=Ule(e/2);return e<8?qle(r,t):Hle(r,z1(z3(r,0,i),t),z1(z3(r,i),t),t)},qle=function(r,t){for(var e=r.length,i=1,n,a;i<e;){for(a=i,n=r[i];a&&t(r[a-1],n)>0;)r[a]=r[--a];a!==i++&&(r[a]=n)}return r},Hle=function(r,t,e,i){for(var n=t.length,a=e.length,s=0,o=0;s<n||o<a;)r[s+o]=s<n&&o<a?i(t[s],e[o])<=0?t[s++]:e[o++]:s<n?t[s++]:e[o++];return r},Gle=z1,Wle=Xs,L3=Wle.match(/firefox\/(\d+)/i),Vle=!!L3&&+L3[1],Xle=Xs,Kle=/MSIE|Trident/.test(Xle),Yle=Xs,j3=Yle.match(/AppleWebKit\/(\d+)\./),Jle=!!j3&&+j3[1],Qle=it,d9=Vt,Zle=_i,eue=wi,U3=Ri,tue=Dk,q3=Vo,Wy=Ct,rue=Gle,iue=Dp,H3=Vle,nue=Kle,G3=gu,W3=Jle,Ss=[],V3=d9(Ss.sort),aue=d9(Ss.push),sue=Wy(function(){Ss.sort(void 0)}),oue=Wy(function(){Ss.sort(null)}),lue=iue("sort"),v9=!Wy(function(){if(G3)return G3<70;if(!(H3&&H3>3)){if(nue)return!0;if(W3)return W3<603;var r="",t,e,i,n;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)Ss.push({k:e+n,v:i})}for(Ss.sort(function(a,s){return s.v-a.v}),n=0;n<Ss.length;n++)e=Ss[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!=="DGBEFHACIJK"}}),uue=sue||!oue||!lue||!v9,fue=function(r){return function(t,e){return e===void 0?-1:t===void 0?1:r!==void 0?+r(t,e)||0:q3(t)>q3(e)?1:-1}};Qle({target:"Array",proto:!0,forced:uue},{sort:function(t){t!==void 0&&Zle(t);var e=eue(this);if(v9)return t===void 0?V3(e):V3(e,t);var i=[],n=U3(e),a,s;for(s=0;s<n;s++)s in e&&aue(i,e[s]);for(rue(i,fue(t)),a=U3(i),s=0;s<a;)e[s]=i[s++];for(;s<n;)tue(e,s++);return e}});var cue=Xr,hue=cue("Array","sort"),mue=gr,pue=hue,_v=Array.prototype,due=function(r){var t=r.sort;return r===_v||mue(_v,r)&&t===_v.sort?pue:t},vue=due,gue=vue,bue=gue,L1=st(bue),yue=Xr,$ue=yue("Array","values"),_ue=$ue,wue=_ue,xue=Oa,Sue=br,Eue=gr,kue=wue,wv=Array.prototype,Tue={DOMTokenList:!0,NodeList:!0},Oue=function(r){var t=r.values;return r===wv||Eue(wv,r)&&t===wv.values||Sue(Tue,xue(r))?kue:t},Aue=Oue,X3=st(Aue),Iue=ak,Bl=st(Iue),Cue=Xr,Pue=Cue("Array","entries"),Due=Pue,Nue=Due,Rue=Oa,Mue=br,Bue=gr,Fue=Nue,xv=Array.prototype,zue={DOMTokenList:!0,NodeList:!0},Lue=function(r){var t=r.entries;return r===xv||Bue(xv,r)&&t===xv.entries||Mue(zue,Rue(r))?Fue:t},jue=Lue,Uue=st(jue);let Sh;const que=new Uint8Array(16);function Hue(){if(!Sh&&(Sh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sh(que)}const jr=[];for(let r=0;r<256;++r)jr.push((r+256).toString(16).slice(1));function Gue(r,t=0){return jr[r[t+0]]+jr[r[t+1]]+jr[r[t+2]]+jr[r[t+3]]+"-"+jr[r[t+4]]+jr[r[t+5]]+"-"+jr[r[t+6]]+jr[r[t+7]]+"-"+jr[r[t+8]]+jr[r[t+9]]+"-"+jr[r[t+10]]+jr[r[t+11]]+jr[r[t+12]]+jr[r[t+13]]+jr[r[t+14]]+jr[r[t+15]]}const Wue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var K3={randomUUID:Wue};function Vue(r,t,e){if(K3.randomUUID&&!t&&!r)return K3.randomUUID();r=r||{};const i=r.random||(r.rng||Hue)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let n=0;n<16;++n)t[e+n]=i[n];return t}return Gue(i)}function Y3(r){return typeof r=="string"||typeof r=="number"}var Xue=function(){function r(t){hp(this,r),As(this,"_queue",[]),As(this,"_timeout",null),As(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}return Pp(r,[{key:"setOptions",value:function(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,i=this._extended.methods,n=0;n<i.length;n++){var a=i[n];a.original?e[a.name]=a.original:delete e[a.name]}this._extended=null}}},{key:"replace",value:function(e,i){var n=this,a=e[i];if(!a)throw new Error("Method "+i+" undefined");e[i]=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];n.queue({args:o,fn:a,context:this})}}},{key:"queue",value:function(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=_te(function(){e.flush()},this.delay))}},{key:"flush",value:function(){var e,i;No(e=Nk(i=this._queue).call(i,0)).call(e,function(n){n.fn.apply(n.context||n.fn,n.args||[])})}}],[{key:"extend",value:function(e,i){var n=new r(i);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var a=[{name:"flush",original:void 0}];if(i&&i.replace)for(var s=0;s<i.replace.length;s++){var o=i.replace[s];a.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:a},n}}]),r}(),Kue=function(){function r(){hp(this,r),As(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),As(this,"subscribe",r.prototype.on),As(this,"unsubscribe",r.prototype.off)}return Pp(r,[{key:"_trigger",value:function(e,i,n){var a,s;if(e==="*")throw new Error("Cannot trigger event *");No(a=Mp(s=[]).call(s,pi(this._subscribers[e]),pi(this._subscribers["*"]))).call(a,function(o){o(e,i,n??null)})}},{key:"on",value:function(e,i){typeof i=="function"&&this._subscribers[e].push(i)}},{key:"off",value:function(e,i){var n;this._subscribers[e]=Pl(n=this._subscribers[e]).call(n,function(a){return a!==i})}}]),r}(),Yue=c9,Jue=m9;Yue("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Jue);var Que=Yt,Zue=Que.Set,efe=Zue,tfe=efe,rfe=tfe,Sv=st(rfe),ife=Ey,nfe=ife,afe=nfe,sfe=afe,ofe=sfe,lfe=ofe,ufe=lfe,ffe=ufe,cfe=ffe,hfe=cfe,Ev=st(hfe);function Pn(r,t){var e=typeof Rp<"u"&&Ty(r)||r["@@iterator"];if(!e){if(Ii(r)||(e=mfe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function mfe(r,t){var e;if(r){if(typeof r=="string")return J3(r,t);var i=Bp(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return ky(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return J3(r,t)}}function J3(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var Q3=function(r){function t(e){hp(this,t),this._pairs=e}return Pp(t,[{key:r,value:ui.mark(function e(){var i,n,a,s,o;return ui.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=Pn(this._pairs),u.prev=1,i.s();case 3:if((n=i.n()).done){u.next=9;break}return a=li(n.value,2),s=a[0],o=a[1],u.next=7,[s,o];case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),i.e(u.t0);case 14:return u.prev=14,i.f(),u.finish(14);case 17:case"end":return u.stop()}},e,this,[[1,11,14,17]])})},{key:"entries",value:ui.mark(function e(){var i,n,a,s,o;return ui.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=Pn(this._pairs),u.prev=1,i.s();case 3:if((n=i.n()).done){u.next=9;break}return a=li(n.value,2),s=a[0],o=a[1],u.next=7,[s,o];case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),i.e(u.t0);case 14:return u.prev=14,i.f(),u.finish(14);case 17:case"end":return u.stop()}},e,this,[[1,11,14,17]])})},{key:"keys",value:ui.mark(function e(){var i,n,a,s;return ui.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=Pn(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return a=li(n.value,1),s=a[0],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},e,this,[[1,11,14,17]])})},{key:"values",value:ui.mark(function e(){var i,n,a,s;return ui.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=Pn(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return a=li(n.value,2),s=a[1],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},e,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var i;return vn(i=pi(this._pairs)).call(i,function(n){return n[0]})}},{key:"toItemArray",value:function(){var i;return vn(i=pi(this._pairs)).call(i,function(n){return n[1]})}},{key:"toEntryArray",value:function(){return pi(this._pairs)}},{key:"toObjectMap",value:function(){var i=Jee(null),n=Pn(this._pairs),a;try{for(n.s();!(a=n.n()).done;){var s=li(a.value,2),o=s[0],l=s[1];i[o]=l}}catch(u){n.e(u)}finally{n.f()}return i}},{key:"toMap",value:function(){return new p9(this._pairs)}},{key:"toIdSet",value:function(){return new Sv(this.toIdArray())}},{key:"toItemSet",value:function(){return new Sv(this.toItemArray())}},{key:"cache",value:function(){return new t(pi(this._pairs))}},{key:"distinct",value:function(i){var n=new Sv,a=Pn(this._pairs),s;try{for(a.s();!(s=a.n()).done;){var o=li(s.value,2),l=o[0],u=o[1];n.add(i(u,l))}}catch(f){a.e(f)}finally{a.f()}return n}},{key:"filter",value:function(i){var n=this._pairs;return new t({[Bl](){return ui.mark(function a(){var s,o,l,u,f;return ui.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=Pn(n),c.prev=1,s.s();case 3:if((o=s.n()).done){c.next=10;break}if(l=li(o.value,2),u=l[0],f=l[1],!i(f,u)){c.next=8;break}return c.next=8,[u,f];case 8:c.next=3;break;case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),s.e(c.t0);case 15:return c.prev=15,s.f(),c.finish(15);case 18:case"end":return c.stop()}},a,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(i){var n=Pn(this._pairs),a;try{for(n.s();!(a=n.n()).done;){var s=li(a.value,2),o=s[0],l=s[1];i(l,o)}}catch(u){n.e(u)}finally{n.f()}}},{key:"map",value:function(i){var n=this._pairs;return new t({[Bl](){return ui.mark(function a(){var s,o,l,u,f;return ui.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=Pn(n),c.prev=1,s.s();case 3:if((o=s.n()).done){c.next=9;break}return l=li(o.value,2),u=l[0],f=l[1],c.next=7,[u,i(f,u)];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),s.e(c.t0);case 14:return c.prev=14,s.f(),c.finish(14);case 17:case"end":return c.stop()}},a,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(i){var n=Ev(this._pairs),a=n.next();if(a.done)return null;for(var s=a.value[1],o=i(a.value[1],a.value[0]);!(a=n.next()).done;){var l=li(a.value,2),u=l[0],f=l[1],h=i(f,u);h>o&&(o=h,s=f)}return s}},{key:"min",value:function(i){var n=Ev(this._pairs),a=n.next();if(a.done)return null;for(var s=a.value[1],o=i(a.value[1],a.value[0]);!(a=n.next()).done;){var l=li(a.value,2),u=l[0],f=l[1],h=i(f,u);h<o&&(o=h,s=f)}return s}},{key:"reduce",value:function(i,n){var a=Pn(this._pairs),s;try{for(a.s();!(s=a.n()).done;){var o=li(s.value,2),l=o[0],u=o[1];n=i(n,u,l)}}catch(f){a.e(f)}finally{a.f()}return n}},{key:"sort",value:function(i){var n=this;return new t({[Bl]:function(){var a;return Ev(L1(a=pi(n._pairs)).call(a,function(s,o){var l=li(s,2),u=l[0],f=l[1],h=li(o,2),c=h[0],m=h[1];return i(f,m,u,c)}))}})}}]),t}(Bl);function Z3(r,t){var e=Ay(r);if(r3){var i=r3(r);t&&(i=Pl(i).call(i,function(n){return ET(r,n).enumerable})),e.push.apply(e,i)}return e}function e5(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?No(e=Z3(Object(n),!0)).call(e,function(a){As(r,a,n[a])}):i3?cie(r,i3(n)):No(i=Z3(Object(n))).call(i,function(a){mie(r,a,ET(n,a))})}return r}function kv(r,t){var e=typeof Rp<"u"&&Ty(r)||r["@@iterator"];if(!e){if(Ii(r)||(e=pfe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function pfe(r,t){var e;if(r){if(typeof r=="string")return t5(r,t);var i=Bp(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return ky(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t5(r,t)}}function t5(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function dfe(r){var t=vfe();return function(){var i=Cm(r),n;if(t){var a=Cm(this).constructor;n=em(i,arguments,a)}else n=i.apply(this,arguments);return Rie(this,n)}}function vfe(){if(typeof Reflect>"u"||!em||em.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(em(Boolean,[],function(){})),!0}catch{return!1}}function gfe(r,t){return r[t]==null&&(r[t]=Vue()),r}var Rm=function(r){Nie(e,r);var t=dfe(e);function e(i,n){var a;return hp(this,e),a=t.call(this),As(OT(a),"_queue",null),i&&!Ii(i)&&(n=i,i=[]),a._options=n||{},a._data=new p9,a.length=0,a._idProp=a._options.fieldId||"id",i&&i.length&&a.add(i),a.setOptions(n),a}return Pp(e,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(n){n&&n.queue!==void 0&&(n.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Xue.extend(this,{replace:["add","update","remove"]})),n.queue&&typeof n.queue=="object"&&this._queue.setOptions(n.queue)))}},{key:"add",value:function(n,a){var s=this,o=[],l;if(Ii(n)){var u=vn(n).call(n,function(c){return c[s._idProp]});if(Ile(u).call(u,function(c){return s._data.has(c)}))throw new Error("A duplicate id was found in the parameter array.");for(var f=0,h=n.length;f<h;f++)l=this._addItem(n[f]),o.push(l)}else if(n&&typeof n=="object")l=this._addItem(n),o.push(l);else throw new Error("Unknown dataType");return o.length&&this._trigger("add",{items:o},a),o}},{key:"update",value:function(n,a){var s=this,o=[],l=[],u=[],f=[],h=this._idProp,c=function(g){var y=g[h];if(y!=null&&s._data.has(y)){var _=g,w=Dee({},s._data.get(y)),O=s._updateItem(_);l.push(O),f.push(_),u.push(w)}else{var I=s._addItem(g);o.push(I)}};if(Ii(n))for(var m=0,d=n.length;m<d;m++)n[m]&&typeof n[m]=="object"?c(n[m]):console.warn("Ignoring input item, which is not an object at index "+m);else if(n&&typeof n=="object")c(n);else throw new Error("Unknown dataType");if(o.length&&this._trigger("add",{items:o},a),l.length){var v={items:l,oldData:u,data:f};this._trigger("update",v,a)}return Mp(o).call(o,l)}},{key:"updateOnly",value:function(n,a){var s,o=this;Ii(n)||(n=[n]);var l=vn(s=vn(n).call(n,function(f){var h=o._data.get(f[o._idProp]);if(h==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:h,update:f}})).call(s,function(f){var h=f.oldData,c=f.update,m=h[o._idProp],d=hre(h,c);return o._data.set(m,d),{id:m,oldData:h,updatedData:d}});if(l.length){var u={items:vn(l).call(l,function(f){return f.id}),oldData:vn(l).call(l,function(f){return f.oldData}),data:vn(l).call(l,function(f){return f.updatedData})};return this._trigger("update",u,a),u.items}else return[]}},{key:"get",value:function(n,a){var s=void 0,o=void 0,l=void 0;Y3(n)?(s=n,l=a):Ii(n)?(o=n,l=a):l=n;var u=l&&l.returnType==="Object"?"Object":"Array",f=l&&Pl(l),h=[],c=void 0,m=void 0,d=void 0;if(s!=null)c=this._data.get(s),c&&f&&!f(c)&&(c=void 0);else if(o!=null)for(var v=0,b=o.length;v<b;v++)c=this._data.get(o[v]),c!=null&&(!f||f(c))&&h.push(c);else{var g;m=pi(_l(g=this._data).call(g));for(var y=0,_=m.length;y<_;y++)d=m[y],c=this._data.get(d),c!=null&&(!f||f(c))&&h.push(c)}if(l&&l.order&&s==null&&this._sort(h,l.order),l&&l.fields){var w=l.fields;if(s!=null&&c!=null)c=this._filterFields(c,w);else for(var O=0,I=h.length;O<I;O++)h[O]=this._filterFields(h[O],w)}if(u=="Object"){for(var M={},T=0,E=h.length;T<E;T++){var q=h[T],k=q[this._idProp];M[k]=q}return M}else if(s!=null){var j;return(j=c)!==null&&j!==void 0?j:null}else return h}},{key:"getIds",value:function(n){var a=this._data,s=n&&Pl(n),o=n&&n.order,l=pi(_l(a).call(a)),u=[];if(s)if(o){for(var f=[],h=0,c=l.length;h<c;h++){var m=l[h],d=this._data.get(m);d!=null&&s(d)&&f.push(d)}this._sort(f,o);for(var v=0,b=f.length;v<b;v++)u.push(f[v][this._idProp])}else for(var g=0,y=l.length;g<y;g++){var _=l[g],w=this._data.get(_);w!=null&&s(w)&&u.push(w[this._idProp])}else if(o){for(var O=[],I=0,M=l.length;I<M;I++){var T=l[I];O.push(a.get(T))}this._sort(O,o);for(var E=0,q=O.length;E<q;E++)u.push(O[E][this._idProp])}else for(var k=0,j=l.length;k<j;k++){var J=l[k],Q=a.get(J);Q!=null&&u.push(Q[this._idProp])}return u}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(n,a){var s=a&&Pl(a),o=this._data,l=pi(_l(o).call(o));if(a&&a.order)for(var u=this.get(a),f=0,h=u.length;f<h;f++){var c=u[f],m=c[this._idProp];n(c,m)}else for(var d=0,v=l.length;d<v;d++){var b=l[d],g=this._data.get(b);g!=null&&(!s||s(g))&&n(g,b)}}},{key:"map",value:function(n,a){for(var s=a&&Pl(a),o=[],l=this._data,u=pi(_l(l).call(l)),f=0,h=u.length;f<h;f++){var c=u[f],m=this._data.get(c);m!=null&&(!s||s(m))&&o.push(n(m,c))}return a&&a.order&&this._sort(o,a.order),o}},{key:"_filterFields",value:function(n,a){var s;return n&&KK(s=Ii(a)?a:Ay(a)).call(s,function(o,l){return o[l]=n[l],o},{})}},{key:"_sort",value:function(n,a){if(typeof a=="string"){var s=a;L1(n).call(n,function(o,l){var u=o[s],f=l[s];return u>f?1:u<f?-1:0})}else if(typeof a=="function")L1(n).call(n,a);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(n,a){for(var s=[],o=[],l=Ii(n)?n:[n],u=0,f=l.length;u<f;u++){var h=this._remove(l[u]);if(h){var c=h[this._idProp];c!=null&&(s.push(c),o.push(h))}}return s.length&&this._trigger("remove",{items:s,oldData:o},a),s}},{key:"_remove",value:function(n){var a;if(Y3(n)?a=n:n&&typeof n=="object"&&(a=n[this._idProp]),a!=null&&this._data.has(a)){var s=this._data.get(a)||null;return this._data.delete(a),--this.length,s}return null}},{key:"clear",value:function(n){for(var a,s=pi(_l(a=this._data).call(a)),o=[],l=0,u=s.length;l<u;l++)o.push(this._data.get(s[l]));return this._data.clear(),this.length=0,this._trigger("remove",{items:s,oldData:o},n),s}},{key:"max",value:function(n){var a,s=null,o=null,l=kv(X3(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f[n];typeof h=="number"&&(o==null||h>o)&&(s=f,o=h)}}catch(c){l.e(c)}finally{l.f()}return s||null}},{key:"min",value:function(n){var a,s=null,o=null,l=kv(X3(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f[n];typeof h=="number"&&(o==null||h<o)&&(s=f,o=h)}}catch(c){l.e(c)}finally{l.f()}return s||null}},{key:"distinct",value:function(n){for(var a=this._data,s=pi(_l(a).call(a)),o=[],l=0,u=0,f=s.length;u<f;u++){for(var h=s[u],c=a.get(h),m=c[n],d=!1,v=0;v<l;v++)if(o[v]==m){d=!0;break}!d&&m!==void 0&&(o[l]=m,l++)}return o}},{key:"_addItem",value:function(n){var a=gfe(n,this._idProp),s=a[this._idProp];if(this._data.has(s))throw new Error("Cannot add item: item with id "+s+" already exists");return this._data.set(s,a),++this.length,s}},{key:"_updateItem",value:function(n){var a=n[this._idProp];if(a==null)throw new Error("Cannot update item: item has no id (item: "+ite(n)+")");var s=this._data.get(a);if(!s)throw new Error("Cannot update item: no item with id "+a+" found");return this._data.set(a,e5(e5({},s),n)),a}},{key:"stream",value:function(n){if(n){var a=this._data;return new Q3({[Bl](){return ui.mark(function o(){var l,u,f,h;return ui.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:l=kv(n),m.prev=1,l.s();case 3:if((u=l.n()).done){m.next=11;break}if(f=u.value,h=a.get(f),h==null){m.next=9;break}return m.next=9,[f,h];case 9:m.next=3;break;case 11:m.next=16;break;case 13:m.prev=13,m.t0=m.catch(1),l.e(m.t0);case 16:return m.prev=16,l.f(),m.finish(16);case 19:case"end":return m.stop()}},o,null,[[1,13,16,19]])})()}})}else{var s;return new Q3({[Bl]:hk(s=Uue(this._data)).call(s,this._data)})}}}]),e}(Kue);function bfe(r,t){return typeof t=="object"&&t!==null&&r===t.idProp&&typeof t.add=="function"&&typeof t.clear=="function"&&typeof t.distinct=="function"&&typeof No(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof vn(t)=="function"&&typeof t.max=="function"&&typeof t.min=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.remove=="function"&&typeof t.setOptions=="function"&&typeof t.stream=="function"&&typeof t.update=="function"&&typeof t.updateOnly=="function"}function g9(r,t){return typeof t=="object"&&t!==null&&r===t.idProp&&typeof No(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof vn(t)=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.stream=="function"&&bfe(r,t.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.9
 * @date    2023-11-03T01:42:27.418Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Je(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Eh=function(r){return r&&r.Math===Math&&r},ar=Eh(typeof globalThis=="object"&&globalThis)||Eh(typeof window=="object"&&window)||Eh(typeof self=="object"&&self)||Eh(typeof Tv=="object"&&Tv)||function(){return this}()||Tv||Function("return this")(),kt=function(r){try{return!!r()}catch{return!0}},yfe=kt,yc=!yfe(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),$fe=yc,b9=Function.prototype,r5=b9.apply,i5=b9.call,$c=typeof Reflect=="object"&&Reflect.apply||($fe?i5.bind(r5):function(){return i5.apply(r5,arguments)}),y9=yc,$9=Function.prototype,j1=$9.call,_fe=y9&&$9.bind.bind(j1,j1),At=y9?_fe:function(r){return function(){return j1.apply(r,arguments)}},_9=At,wfe=_9({}.toString),xfe=_9("".slice),Aa=function(r){return xfe(wfe(r),8,-1)},Sfe=Aa,Efe=At,Vy=function(r){if(Sfe(r)==="Function")return Efe(r)},U1=typeof document=="object"&&document.all,kfe=typeof U1>"u"&&U1!==void 0,w9={all:U1,IS_HTMLDDA:kfe},x9=w9,Tfe=x9.all,Cr=x9.IS_HTMLDDA?function(r){return typeof r=="function"||r===Tfe}:function(r){return typeof r=="function"},Au={},Ofe=kt,Pr=!Ofe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Afe=yc,kh=Function.prototype.call,Mi=Afe?kh.bind(kh):function(){return kh.apply(kh,arguments)},Up={},S9={}.propertyIsEnumerable,E9=Object.getOwnPropertyDescriptor,Ife=E9&&!S9.call({1:2},1);Up.f=Ife?function(t){var e=E9(this,t);return!!e&&e.enumerable}:S9;var _c=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}},Cfe=At,Pfe=kt,Dfe=Aa,Ov=Object,Nfe=Cfe("".split),qp=Pfe(function(){return!Ov("z").propertyIsEnumerable(0)})?function(r){return Dfe(r)==="String"?Nfe(r,""):Ov(r)}:Ov,Iu=function(r){return r==null},Rfe=Iu,Mfe=TypeError,wc=function(r){if(Rfe(r))throw new Mfe("Can't call method on "+r);return r},Bfe=qp,Ffe=wc,ta=function(r){return Bfe(Ffe(r))},n5=Cr,k9=w9,zfe=k9.all,Dr=k9.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:n5(r)||r===zfe}:function(r){return typeof r=="object"?r!==null:n5(r)},Tt={},Av=Tt,Iv=ar,Lfe=Cr,a5=function(r){return Lfe(r)?r:void 0},ln=function(r,t){return arguments.length<2?a5(Av[r])||a5(Iv[r]):Av[r]&&Av[r][t]||Iv[r]&&Iv[r][t]},jfe=At,cr=jfe({}.isPrototypeOf),xc=typeof navigator<"u"&&String(navigator.userAgent)||"",T9=ar,Cv=xc,s5=T9.process,o5=T9.Deno,l5=s5&&s5.versions||o5&&o5.version,u5=l5&&l5.v8,gn,Mm;u5&&(gn=u5.split("."),Mm=gn[0]>0&&gn[0]<4?1:+(gn[0]+gn[1]));!Mm&&Cv&&(gn=Cv.match(/Edge\/(\d+)/),(!gn||gn[1]>=74)&&(gn=Cv.match(/Chrome\/(\d+)/),gn&&(Mm=+gn[1])));var Sc=Mm,f5=Sc,Ufe=kt,qfe=ar,Hfe=qfe.String,Cu=!!Object.getOwnPropertySymbols&&!Ufe(function(){var r=Symbol("symbol detection");return!Hfe(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&f5&&f5<41}),Gfe=Cu,O9=Gfe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Wfe=ln,Vfe=Cr,Xfe=cr,Kfe=O9,Yfe=Object,Ec=Kfe?function(r){return typeof r=="symbol"}:function(r){var t=Wfe("Symbol");return Vfe(t)&&Xfe(t.prototype,Yfe(r))},Jfe=String,Pu=function(r){try{return Jfe(r)}catch{return"Object"}},Qfe=Cr,Zfe=Pu,ece=TypeError,Qo=function(r){if(Qfe(r))return r;throw new ece(Zfe(r)+" is not a function")},tce=Qo,rce=Iu,Xy=function(r,t){var e=r[t];return rce(e)?void 0:tce(e)},Pv=Mi,Dv=Cr,Nv=Dr,ice=TypeError,nce=function(r,t){var e,i;if(t==="string"&&Dv(e=r.toString)&&!Nv(i=Pv(e,r))||Dv(e=r.valueOf)&&!Nv(i=Pv(e,r))||t!=="string"&&Dv(e=r.toString)&&!Nv(i=Pv(e,r)))return i;throw new ice("Can't convert object to primitive value")},A9={exports:{}},c5=ar,ace=Object.defineProperty,sce=function(r,t){try{ace(c5,r,{value:t,configurable:!0,writable:!0})}catch{c5[r]=t}return t},oce=ar,lce=sce,h5="__core-js_shared__",uce=oce[h5]||lce(h5,{}),Ky=uce,m5=Ky;(A9.exports=function(r,t){return m5[r]||(m5[r]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Du=A9.exports,fce=wc,cce=Object,Si=function(r){return cce(fce(r))},hce=At,mce=Si,pce=hce({}.hasOwnProperty),Nr=Object.hasOwn||function(t,e){return pce(mce(t),e)},dce=At,vce=0,gce=Math.random(),bce=dce(1 .toString),Hp=function(r){return"Symbol("+(r===void 0?"":r)+")_"+bce(++vce+gce,36)},yce=ar,$ce=Du,p5=Nr,_ce=Hp,wce=Cu,xce=O9,Fl=yce.Symbol,Rv=$ce("wks"),Sce=xce?Fl.for||Fl:Fl&&Fl.withoutSetter||_ce,sr=function(r){return p5(Rv,r)||(Rv[r]=wce&&p5(Fl,r)?Fl[r]:Sce("Symbol."+r)),Rv[r]},Ece=Mi,d5=Dr,v5=Ec,kce=Xy,Tce=nce,Oce=sr,Ace=TypeError,Ice=Oce("toPrimitive"),Cce=function(r,t){if(!d5(r)||v5(r))return r;var e=kce(r,Ice),i;if(e){if(t===void 0&&(t="default"),i=Ece(e,r,t),!d5(i)||v5(i))return i;throw new Ace("Can't convert object to primitive value")}return t===void 0&&(t="number"),Tce(r,t)},Pce=Cce,Dce=Ec,Gp=function(r){var t=Pce(r,"string");return Dce(t)?t:t+""},Nce=ar,g5=Dr,q1=Nce.document,Rce=g5(q1)&&g5(q1.createElement),I9=function(r){return Rce?q1.createElement(r):{}},Mce=Pr,Bce=kt,Fce=I9,C9=!Mce&&!Bce(function(){return Object.defineProperty(Fce("div"),"a",{get:function(){return 7}}).a!==7}),zce=Pr,Lce=Mi,jce=Up,Uce=_c,qce=ta,Hce=Gp,Gce=Nr,Wce=C9,b5=Object.getOwnPropertyDescriptor;Au.f=zce?b5:function(t,e){if(t=qce(t),e=Hce(e),Wce)try{return b5(t,e)}catch{}if(Gce(t,e))return Uce(!Lce(jce.f,t,e),t[e])};var Vce=kt,Xce=Cr,Kce=/#|\.prototype\./,kc=function(r,t){var e=Jce[Yce(r)];return e===Zce?!0:e===Qce?!1:Xce(t)?Vce(t):!!t},Yce=kc.normalize=function(r){return String(r).replace(Kce,".").toLowerCase()},Jce=kc.data={},Qce=kc.NATIVE="N",Zce=kc.POLYFILL="P",ehe=kc,y5=Vy,the=Qo,rhe=yc,ihe=y5(y5.bind),Tc=function(r,t){return the(r),t===void 0?r:rhe?ihe(r,t):function(){return r.apply(t,arguments)}},Bi={},nhe=Pr,ahe=kt,P9=nhe&&ahe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),she=Dr,ohe=String,lhe=TypeError,Fi=function(r){if(she(r))return r;throw new lhe(ohe(r)+" is not an object")},uhe=Pr,fhe=C9,che=P9,Th=Fi,$5=Gp,hhe=TypeError,Mv=Object.defineProperty,mhe=Object.getOwnPropertyDescriptor,Bv="enumerable",Fv="configurable",zv="writable";Bi.f=uhe?che?function(t,e,i){if(Th(t),e=$5(e),Th(i),typeof t=="function"&&e==="prototype"&&"value"in i&&zv in i&&!i[zv]){var n=mhe(t,e);n&&n[zv]&&(t[e]=i.value,i={configurable:Fv in i?i[Fv]:n[Fv],enumerable:Bv in i?i[Bv]:n[Bv],writable:!1})}return Mv(t,e,i)}:Mv:function(t,e,i){if(Th(t),e=$5(e),Th(i),fhe)try{return Mv(t,e,i)}catch{}if("get"in i||"set"in i)throw new hhe("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var phe=Pr,dhe=Bi,vhe=_c,Nu=phe?function(r,t,e){return dhe.f(r,t,vhe(1,e))}:function(r,t,e){return r[t]=e,r},Oh=ar,ghe=$c,bhe=Vy,yhe=Cr,$he=Au.f,_he=ehe,wl=Tt,whe=Tc,xl=Nu,_5=Nr,xhe=function(r){var t=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,i)}return new r(e,i,n)}return ghe(r,this,arguments)};return t.prototype=r.prototype,t},at=function(r,t){var e=r.target,i=r.global,n=r.stat,a=r.proto,s=i?Oh:n?Oh[e]:(Oh[e]||{}).prototype,o=i?wl:wl[e]||xl(wl,e,{})[e],l=o.prototype,u,f,h,c,m,d,v,b,g;for(c in t)u=_he(i?c:e+(n?".":"#")+c,r.forced),f=!u&&s&&_5(s,c),d=o[c],f&&(r.dontCallGetSet?(g=$he(s,c),v=g&&g.value):v=s[c]),m=f&&v?v:t[c],!(f&&typeof d==typeof m)&&(r.bind&&f?b=whe(m,Oh):r.wrap&&f?b=xhe(m):a&&yhe(m)?b=bhe(m):b=m,(r.sham||m&&m.sham||d&&d.sham)&&xl(b,"sham",!0),xl(o,c,b),a&&(h=e+"Prototype",_5(wl,h)||xl(wl,h,{}),xl(wl[h],c,m),r.real&&l&&(u||!l[c])&&xl(l,c,m)))},She=Math.ceil,Ehe=Math.floor,khe=Math.trunc||function(t){var e=+t;return(e>0?Ehe:She)(e)},The=khe,Wp=function(r){var t=+r;return t!==t||t===0?0:The(t)},Ohe=Wp,Ahe=Math.max,Ihe=Math.min,Oc=function(r,t){var e=Ohe(r);return e<0?Ahe(e+t,0):Ihe(e,t)},Che=Wp,Phe=Math.min,Dhe=function(r){return r>0?Phe(Che(r),9007199254740991):0},Nhe=Dhe,un=function(r){return Nhe(r.length)},Rhe=ta,Mhe=Oc,Bhe=un,w5=function(r){return function(t,e,i){var n=Rhe(t),a=Bhe(n),s=Mhe(i,a),o;if(r&&e!==e){for(;a>s;)if(o=n[s++],o!==o)return!0}else for(;a>s;s++)if((r||s in n)&&n[s]===e)return r||s||0;return!r&&-1}},Yy={includes:w5(!0),indexOf:w5(!1)},Ac={},Fhe=At,Lv=Nr,zhe=ta,Lhe=Yy.indexOf,jhe=Ac,x5=Fhe([].push),D9=function(r,t){var e=zhe(r),i=0,n=[],a;for(a in e)!Lv(jhe,a)&&Lv(e,a)&&x5(n,a);for(;t.length>i;)Lv(e,a=t[i++])&&(~Lhe(n,a)||x5(n,a));return n},Jy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Uhe=D9,qhe=Jy,Vp=Object.keys||function(t){return Uhe(t,qhe)},Ic={};Ic.f=Object.getOwnPropertySymbols;var S5=Pr,Hhe=At,Ghe=Mi,Whe=kt,jv=Vp,Vhe=Ic,Xhe=Up,Khe=Si,Yhe=qp,Sl=Object.assign,E5=Object.defineProperty,Jhe=Hhe([].concat),Qhe=!Sl||Whe(function(){if(S5&&Sl({b:1},Sl(E5({},"a",{enumerable:!0,get:function(){E5(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},t={},e=Symbol("assign detection"),i="abcdefghijklmnopqrst";return r[e]=7,i.split("").forEach(function(n){t[n]=n}),Sl({},r)[e]!==7||jv(Sl({},t)).join("")!==i})?function(t,e){for(var i=Khe(t),n=arguments.length,a=1,s=Vhe.f,o=Xhe.f;n>a;)for(var l=Yhe(arguments[a++]),u=s?Jhe(jv(l),s(l)):jv(l),f=u.length,h=0,c;f>h;)c=u[h++],(!S5||Ghe(o,l,c))&&(i[c]=l[c]);return i}:Sl,Zhe=at,k5=Qhe;Zhe({target:"Object",stat:!0,arity:2,forced:Object.assign!==k5},{assign:k5});var eme=Tt,tme=eme.Object.assign,rme=tme,ime=rme,nme=ime,pr=Je(nme),ame=At,Xp=ame([].slice),N9=At,sme=Qo,ome=Dr,lme=Nr,T5=Xp,ume=yc,R9=Function,fme=N9([].concat),cme=N9([].join),Uv={},hme=function(r,t,e){if(!lme(Uv,t)){for(var i=[],n=0;n<t;n++)i[n]="a["+n+"]";Uv[t]=R9("C,a","return new C("+cme(i,",")+")")}return Uv[t](r,e)},M9=ume?R9.bind:function(t){var e=sme(this),i=e.prototype,n=T5(arguments,1),a=function(){var o=fme(n,T5(arguments));return this instanceof a?hme(e,o.length,o):e.apply(t,o)};return ome(i)&&(a.prototype=i),a},mme=at,O5=M9;mme({target:"Function",proto:!0,forced:Function.bind!==O5},{bind:O5});var pme=Tt,Rr=function(r){return pme[r+"Prototype"]},dme=Rr,vme=dme("Function").bind,gme=cr,bme=vme,qv=Function.prototype,yme=function(r){var t=r.bind;return r===qv||gme(qv,r)&&t===qv.bind?bme:t},$me=yme,B9=$me,_me=B9,Fe=Je(_me);function Qy(r,t,e,i){r.beginPath(),r.arc(t,e,i,0,2*Math.PI,!1),r.closePath()}function wme(r,t,e,i){r.beginPath(),r.rect(t-i,e-i,i*2,i*2),r.closePath()}function xme(r,t,e,i){r.beginPath(),i*=1.15,e+=.275*i;var n=i*2,a=n/2,s=Math.sqrt(3)/6*n,o=Math.sqrt(n*n-a*a);r.moveTo(t,e-(o-s)),r.lineTo(t+a,e+s),r.lineTo(t-a,e+s),r.lineTo(t,e-(o-s)),r.closePath()}function Sme(r,t,e,i){r.beginPath(),i*=1.15,e-=.275*i;var n=i*2,a=n/2,s=Math.sqrt(3)/6*n,o=Math.sqrt(n*n-a*a);r.moveTo(t,e+(o-s)),r.lineTo(t+a,e-s),r.lineTo(t-a,e-s),r.lineTo(t,e+(o-s)),r.closePath()}function Eme(r,t,e,i){r.beginPath(),i*=.82,e+=.1*i;for(var n=0;n<10;n++){var a=n%2===0?i*1.3:i*.5;r.lineTo(t+a*Math.sin(n*2*Math.PI/10),e-a*Math.cos(n*2*Math.PI/10))}r.closePath()}function kme(r,t,e,i){r.beginPath(),r.lineTo(t,e+i),r.lineTo(t+i,e),r.lineTo(t,e-i),r.lineTo(t-i,e),r.closePath()}function F9(r,t,e,i,n,a){var s=Math.PI/180;i-2*a<0&&(a=i/2),n-2*a<0&&(a=n/2),r.beginPath(),r.moveTo(t+a,e),r.lineTo(t+i-a,e),r.arc(t+i-a,e+a,a,s*270,s*360,!1),r.lineTo(t+i,e+n-a),r.arc(t+i-a,e+n-a,a,0,s*90,!1),r.lineTo(t+a,e+n),r.arc(t+a,e+n-a,a,s*90,s*180,!1),r.lineTo(t,e+a),r.arc(t+a,e+a,a,s*180,s*270,!1),r.closePath()}function H1(r,t,e,i,n){var a=.5522848,s=i/2*a,o=n/2*a,l=t+i,u=e+n,f=t+i/2,h=e+n/2;r.beginPath(),r.moveTo(t,h),r.bezierCurveTo(t,h-o,f-s,e,f,e),r.bezierCurveTo(f+s,e,l,h-o,l,h),r.bezierCurveTo(l,h+o,f+s,u,f,u),r.bezierCurveTo(f-s,u,t,h+o,t,h),r.closePath()}function z9(r,t,e,i,n){var a=.3333333333333333,s=i,o=n*a,l=.5522848,u=s/2*l,f=o/2*l,h=t+s,c=e+o,m=t+s/2,d=e+o/2,v=e+(n-o/2),b=e+n;r.beginPath(),r.moveTo(h,d),r.bezierCurveTo(h,d+f,m+u,c,m,c),r.bezierCurveTo(m-u,c,t,d+f,t,d),r.bezierCurveTo(t,d-f,m-u,e,m,e),r.bezierCurveTo(m+u,e,h,d-f,h,d),r.lineTo(h,v),r.bezierCurveTo(h,v+f,m+u,b,m,b),r.bezierCurveTo(m-u,b,t,v+f,t,v),r.lineTo(t,d)}function L9(r,t,e,i,n,a){r.beginPath(),r.moveTo(t,e);for(var s=a.length,o=i-t,l=n-e,u=l/o,f=Math.sqrt(o*o+l*l),h=0,c=!0,m=0,d=+a[0];f>=.1;)d=+a[h++%s],d>f&&(d=f),m=Math.sqrt(d*d/(1+u*u)),m=o<0?-m:m,t+=m,e+=u*m,c===!0?r.lineTo(t,e):r.moveTo(t,e),f-=d,c=!c}function Tme(r,t,e,i){r.beginPath();var n=6,a=Math.PI*2/n;r.moveTo(t+i,e);for(var s=1;s<n;s++)r.lineTo(t+i*Math.cos(a*s),e+i*Math.sin(a*s));r.closePath()}var A5={circle:Qy,dashedLine:L9,database:z9,diamond:kme,ellipse:H1,ellipse_vis:H1,hexagon:Tme,roundRect:F9,square:wme,star:Eme,triangle:xme,triangleDown:Sme};function Ome(r){return Object.prototype.hasOwnProperty.call(A5,r)?A5[r]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[r].call(t,i)}}var j9={exports:{}};(function(r){r.exports=t;function t(i){if(i)return e(i)}function e(i){for(var n in t.prototype)i[n]=t.prototype[n];return i}t.prototype.on=t.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this},t.prototype.once=function(i,n){function a(){this.off(i,a),n.apply(this,arguments)}return a.fn=n,this.on(i,a),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+i];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var s,o=0;o<a.length;o++)if(s=a[o],s===n||s.fn===n){a.splice(o,1);break}return a.length===0&&delete this._callbacks["$"+i],this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),a=this._callbacks["$"+i],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(a){a=a.slice(0);for(var s=0,o=a.length;s<o;++s)a[s].apply(this,n)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(j9);var Ame=j9.exports,U9=Je(Ame),Ime=sr,Cme=Ime("toStringTag"),q9={};q9[Cme]="z";var Zy=String(q9)==="[object z]",Pme=Zy,Dme=Cr,nm=Aa,Nme=sr,Rme=Nme("toStringTag"),Mme=Object,Bme=nm(function(){return arguments}())==="Arguments",Fme=function(r,t){try{return r[t]}catch{}},Zo=Pme?nm:function(r){var t,e,i;return r===void 0?"Undefined":r===null?"Null":typeof(e=Fme(t=Mme(r),Rme))=="string"?e:Bme?nm(t):(i=nm(t))==="Object"&&Dme(t.callee)?"Arguments":i},zme=Zo,Lme=String,ra=function(r){if(zme(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Lme(r)},e$=At,jme=Wp,Ume=ra,qme=wc,Hme=e$("".charAt),I5=e$("".charCodeAt),Gme=e$("".slice),C5=function(r){return function(t,e){var i=Ume(qme(t)),n=jme(e),a=i.length,s,o;return n<0||n>=a?r?"":void 0:(s=I5(i,n),s<55296||s>56319||n+1===a||(o=I5(i,n+1))<56320||o>57343?r?Hme(i,n):s:r?Gme(i,n,n+2):(s-55296<<10)+(o-56320)+65536)}},Wme={codeAt:C5(!1),charAt:C5(!0)},Vme=ar,Xme=Cr,P5=Vme.WeakMap,H9=Xme(P5)&&/native code/.test(String(P5)),Kme=Du,Yme=Hp,D5=Kme("keys"),Kp=function(r){return D5[r]||(D5[r]=Yme(r))},Jme=H9,G9=ar,Qme=Dr,Zme=Nu,Hv=Nr,Gv=Ky,epe=Kp,tpe=Ac,N5="Object already initialized",G1=G9.TypeError,rpe=G9.WeakMap,Bm,Lf,Fm,ipe=function(r){return Fm(r)?Lf(r):Bm(r,{})},npe=function(r){return function(t){var e;if(!Qme(t)||(e=Lf(t)).type!==r)throw new G1("Incompatible receiver, "+r+" required");return e}};if(Jme||Gv.state){var Dn=Gv.state||(Gv.state=new rpe);Dn.get=Dn.get,Dn.has=Dn.has,Dn.set=Dn.set,Bm=function(r,t){if(Dn.has(r))throw new G1(N5);return t.facade=r,Dn.set(r,t),t},Lf=function(r){return Dn.get(r)||{}},Fm=function(r){return Dn.has(r)}}else{var El=epe("state");tpe[El]=!0,Bm=function(r,t){if(Hv(r,El))throw new G1(N5);return t.facade=r,Zme(r,El,t),t},Lf=function(r){return Hv(r,El)?r[El]:{}},Fm=function(r){return Hv(r,El)}}var el={set:Bm,get:Lf,has:Fm,enforce:ipe,getterFor:npe},W1=Pr,ape=Nr,W9=Function.prototype,spe=W1&&Object.getOwnPropertyDescriptor,t$=ape(W9,"name"),ope=t$&&(function(){}).name==="something",lpe=t$&&(!W1||W1&&spe(W9,"name").configurable),upe={EXISTS:t$,PROPER:ope,CONFIGURABLE:lpe},Yp={},fpe=Pr,cpe=P9,hpe=Bi,mpe=Fi,ppe=ta,dpe=Vp;Yp.f=fpe&&!cpe?Object.defineProperties:function(t,e){mpe(t);for(var i=ppe(e),n=dpe(e),a=n.length,s=0,o;a>s;)hpe.f(t,o=n[s++],i[o]);return t};var vpe=ln,gpe=vpe("document","documentElement"),bpe=Fi,ype=Yp,R5=Jy,$pe=Ac,_pe=gpe,wpe=I9,xpe=Kp,M5=">",B5="<",V1="prototype",X1="script",V9=xpe("IE_PROTO"),Wv=function(){},X9=function(r){return B5+X1+M5+r+B5+"/"+X1+M5},F5=function(r){r.write(X9("")),r.close();var t=r.parentWindow.Object;return r=null,t},Spe=function(){var r=wpe("iframe"),t="java"+X1+":",e;return r.style.display="none",_pe.appendChild(r),r.src=String(t),e=r.contentWindow.document,e.open(),e.write(X9("document.F=Object")),e.close(),e.F},Ah,am=function(){try{Ah=new ActiveXObject("htmlfile")}catch{}am=typeof document<"u"?document.domain&&Ah?F5(Ah):Spe():F5(Ah);for(var r=R5.length;r--;)delete am[V1][R5[r]];return am()};$pe[V9]=!0;var Ru=Object.create||function(t,e){var i;return t!==null?(Wv[V1]=bpe(t),i=new Wv,Wv[V1]=null,i[V9]=t):i=am(),e===void 0?i:ype.f(i,e)},Epe=kt,K9=!Epe(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),kpe=Nr,Tpe=Cr,Ope=Si,Ape=Kp,Ipe=K9,z5=Ape("IE_PROTO"),K1=Object,Cpe=K1.prototype,Jp=Ipe?K1.getPrototypeOf:function(r){var t=Ope(r);if(kpe(t,z5))return t[z5];var e=t.constructor;return Tpe(e)&&t instanceof e?e.prototype:t instanceof K1?Cpe:null},Ppe=Nu,Cc=function(r,t,e,i){return i&&i.enumerable?r[t]=e:Ppe(r,t,e),r},Dpe=kt,Npe=Cr,Rpe=Dr,Mpe=Ru,L5=Jp,Bpe=Cc,Fpe=sr,Y1=Fpe("iterator"),Y9=!1,ma,Vv,Xv;[].keys&&(Xv=[].keys(),"next"in Xv?(Vv=L5(L5(Xv)),Vv!==Object.prototype&&(ma=Vv)):Y9=!0);var zpe=!Rpe(ma)||Dpe(function(){var r={};return ma[Y1].call(r)!==r});zpe?ma={}:ma=Mpe(ma);Npe(ma[Y1])||Bpe(ma,Y1,function(){return this});var J9={IteratorPrototype:ma,BUGGY_SAFARI_ITERATORS:Y9},Lpe=Zy,jpe=Zo,Upe=Lpe?{}.toString:function(){return"[object "+jpe(this)+"]"},qpe=Zy,Hpe=Bi.f,Gpe=Nu,Wpe=Nr,Vpe=Upe,Xpe=sr,j5=Xpe("toStringTag"),Mu=function(r,t,e,i){if(r){var n=e?r:r.prototype;Wpe(n,j5)||Hpe(n,j5,{configurable:!0,value:t}),i&&!qpe&&Gpe(n,"toString",Vpe)}},Bu={},Kpe=J9.IteratorPrototype,Ype=Ru,Jpe=_c,Qpe=Mu,Zpe=Bu,ede=function(){return this},tde=function(r,t,e,i){var n=t+" Iterator";return r.prototype=Ype(Kpe,{next:Jpe(+!i,e)}),Qpe(r,n,!1,!0),Zpe[n]=ede,r},rde=At,ide=Qo,nde=function(r,t,e){try{return rde(ide(Object.getOwnPropertyDescriptor(r,t)[e]))}catch{}},ade=Cr,sde=String,ode=TypeError,lde=function(r){if(typeof r=="object"||ade(r))return r;throw new ode("Can't set "+sde(r)+" as a prototype")},ude=nde,fde=Fi,cde=lde,hde=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,t={},e;try{e=ude(Object.prototype,"__proto__","set"),e(t,[]),r=t instanceof Array}catch{}return function(n,a){return fde(n),cde(a),r?e(n,a):n.__proto__=a,n}}():void 0),mde=at,pde=Mi,dde=upe,vde=tde,gde=Jp,bde=Mu,U5=Cc,yde=sr,q5=Bu,$de=J9,_de=dde.PROPER,Ih=$de.BUGGY_SAFARI_ITERATORS,Kv=yde("iterator"),H5="keys",Ch="values",G5="entries",wde=function(){return this},r$=function(r,t,e,i,n,a,s){vde(e,t,i);var o=function(g){if(g===n&&c)return c;if(!Ih&&g&&g in f)return f[g];switch(g){case H5:return function(){return new e(this,g)};case Ch:return function(){return new e(this,g)};case G5:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,f=r.prototype,h=f[Kv]||f["@@iterator"]||n&&f[n],c=!Ih&&h||o(n),m=t==="Array"&&f.entries||h,d,v,b;if(m&&(d=gde(m.call(new r)),d!==Object.prototype&&d.next&&(bde(d,l,!0,!0),q5[l]=wde)),_de&&n===Ch&&h&&h.name!==Ch&&(u=!0,c=function(){return pde(h,this)}),n)if(v={values:o(Ch),keys:a?c:o(H5),entries:o(G5)},s)for(b in v)(Ih||u||!(b in f))&&U5(f,b,v[b]);else mde({target:t,proto:!0,forced:Ih||u},v);return s&&f[Kv]!==c&&U5(f,Kv,c,{name:n}),q5[t]=c,v},i$=function(r,t){return{value:r,done:t}},xde=Wme.charAt,Sde=ra,Q9=el,Ede=r$,W5=i$,Z9="String Iterator",kde=Q9.set,Tde=Q9.getterFor(Z9);Ede(String,"String",function(r){kde(this,{type:Z9,string:Sde(r),index:0})},function(){var t=Tde(this),e=t.string,i=t.index,n;return i>=e.length?W5(void 0,!0):(n=xde(e,i),t.index+=n.length,W5(n,!1))});var Ode=Mi,V5=Fi,Ade=Xy,eO=function(r,t,e){var i,n;V5(r);try{if(i=Ade(r,"return"),!i){if(t==="throw")throw e;return e}i=Ode(i,r)}catch(a){n=!0,i=a}if(t==="throw")throw e;if(n)throw i;return V5(i),e},Ide=Fi,Cde=eO,Pde=function(r,t,e,i){try{return i?t(Ide(e)[0],e[1]):t(e)}catch(n){Cde(r,"throw",n)}},Dde=sr,Nde=Bu,Rde=Dde("iterator"),Mde=Array.prototype,tO=function(r){return r!==void 0&&(Nde.Array===r||Mde[Rde]===r)},Bde=At,Fde=Cr,J1=Ky,zde=Bde(Function.toString);Fde(J1.inspectSource)||(J1.inspectSource=function(r){return zde(r)});var Lde=J1.inspectSource,jde=At,Ude=kt,rO=Cr,qde=Zo,Hde=ln,Gde=Lde,iO=function(){},Wde=[],nO=Hde("Reflect","construct"),n$=/^\s*(?:class|function)\b/,Vde=jde(n$.exec),Xde=!n$.test(iO),Xu=function(t){if(!rO(t))return!1;try{return nO(iO,Wde,t),!0}catch{return!1}},aO=function(t){if(!rO(t))return!1;switch(qde(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Xde||!!Vde(n$,Gde(t))}catch{return!0}};aO.sham=!0;var Qp=!nO||Ude(function(){var r;return Xu(Xu.call)||!Xu(Object)||!Xu(function(){r=!0})||r})?aO:Xu,Kde=Gp,Yde=Bi,Jde=_c,Fu=function(r,t,e){var i=Kde(t);i in r?Yde.f(r,i,Jde(0,e)):r[i]=e},Qde=Zo,X5=Xy,Zde=Iu,e0e=Bu,t0e=sr,r0e=t0e("iterator"),Zp=function(r){if(!Zde(r))return X5(r,r0e)||X5(r,"@@iterator")||e0e[Qde(r)]},i0e=Mi,n0e=Qo,a0e=Fi,s0e=Pu,o0e=Zp,l0e=TypeError,sO=function(r,t){var e=arguments.length<2?o0e(r):t;if(n0e(e))return a0e(i0e(e,r));throw new l0e(s0e(r)+" is not iterable")},u0e=Tc,f0e=Mi,c0e=Si,h0e=Pde,m0e=tO,p0e=Qp,d0e=un,K5=Fu,v0e=sO,g0e=Zp,Y5=Array,b0e=function(t){var e=c0e(t),i=p0e(this),n=arguments.length,a=n>1?arguments[1]:void 0,s=a!==void 0;s&&(a=u0e(a,n>2?arguments[2]:void 0));var o=g0e(e),l=0,u,f,h,c,m,d;if(o&&!(this===Y5&&m0e(o)))for(c=v0e(e,o),m=c.next,f=i?new this:[];!(h=f0e(m,c)).done;l++)d=s?h0e(c,a,[h.value,l],!0):h.value,K5(f,l,d);else for(u=d0e(e),f=i?new this(u):Y5(u);u>l;l++)d=s?a(e[l],l):e[l],K5(f,l,d);return f.length=l,f},y0e=sr,oO=y0e("iterator"),lO=!1;try{var $0e=0,J5={next:function(){return{done:!!$0e++}},return:function(){lO=!0}};J5[oO]=function(){return this},Array.from(J5,function(){throw 2})}catch{}var _0e=function(r,t){try{if(!t&&!lO)return!1}catch{return!1}var e=!1;try{var i={};i[oO]=function(){return{next:function(){return{done:e=!0}}}},r(i)}catch{}return e},w0e=at,x0e=b0e,S0e=_0e,E0e=!S0e(function(r){Array.from(r)});w0e({target:"Array",stat:!0,forced:E0e},{from:x0e});var k0e=Tt,T0e=k0e.Array.from,O0e=T0e,uO=O0e,A0e=uO,tl=Je(A0e),I0e=ta,Q5=Bu,fO=el;Bi.f;var C0e=r$,Ph=i$,cO="Array Iterator",P0e=fO.set,D0e=fO.getterFor(cO);C0e(Array,"Array",function(r,t){P0e(this,{type:cO,target:I0e(r),index:0,kind:t})},function(){var r=D0e(this),t=r.target,e=r.kind,i=r.index++;if(!t||i>=t.length)return r.target=void 0,Ph(void 0,!0);switch(e){case"keys":return Ph(i,!1);case"values":return Ph(t[i],!1)}return Ph([i,t[i]],!1)},"values");Q5.Arguments=Q5.Array;var N0e=Zp,R0e=N0e,M0e={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},B0e=M0e,F0e=ar,z0e=Zo,L0e=Nu,Z5=Bu,j0e=sr,e6=j0e("toStringTag");for(var Yv in B0e){var t6=F0e[Yv],Jv=t6&&t6.prototype;Jv&&z0e(Jv)!==e6&&L0e(Jv,e6,Yv),Z5[Yv]=Z5.Array}var U0e=R0e,q0e=U0e,H0e=q0e,G0e=H0e,W0e=G0e,V0e=W0e,hO=V0e,mO=Je(hO),X0e=hO,rl=Je(X0e);function qe(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var pO={exports:{}},K0e=at,Y0e=Pr,r6=Bi.f;K0e({target:"Object",stat:!0,forced:Object.defineProperty!==r6,sham:!Y0e},{defineProperty:r6});var J0e=Tt,dO=J0e.Object,Q0e=pO.exports=function(t,e,i){return dO.defineProperty(t,e,i)};dO.defineProperty.sham&&(Q0e.sham=!0);var Z0e=pO.exports,eve=Z0e,vO=eve,tve=vO,rve=tve,ive=rve,nve=ive,ave=nve,ed=Je(ave),sve=Aa,il=Array.isArray||function(t){return sve(t)==="Array"},ove=TypeError,lve=9007199254740991,a$=function(r){if(r>lve)throw ove("Maximum allowed index exceeded");return r},i6=il,uve=Qp,fve=Dr,cve=sr,hve=cve("species"),n6=Array,mve=function(r){var t;return i6(r)&&(t=r.constructor,uve(t)&&(t===n6||i6(t.prototype))?t=void 0:fve(t)&&(t=t[hve],t===null&&(t=void 0))),t===void 0?n6:t},pve=mve,s$=function(r,t){return new(pve(r))(t===0?0:t)},dve=kt,vve=sr,gve=Sc,bve=vve("species"),Pc=function(r){return gve>=51||!dve(function(){var t=[],e=t.constructor={};return e[bve]=function(){return{foo:1}},t[r](Boolean).foo!==1})},yve=at,$ve=kt,_ve=il,wve=Dr,xve=Si,Sve=un,a6=a$,s6=Fu,Eve=s$,kve=Pc,Tve=sr,Ove=Sc,gO=Tve("isConcatSpreadable"),Ave=Ove>=51||!$ve(function(){var r=[];return r[gO]=!1,r.concat()[0]!==r}),Ive=function(r){if(!wve(r))return!1;var t=r[gO];return t!==void 0?!!t:_ve(r)},Cve=!Ave||!kve("concat");yve({target:"Array",proto:!0,arity:1,forced:Cve},{concat:function(t){var e=xve(this),i=Eve(e,0),n=0,a,s,o,l,u;for(a=-1,o=arguments.length;a<o;a++)if(u=a===-1?e:arguments[a],Ive(u))for(l=Sve(u),a6(n+l),s=0;s<l;s++,n++)s in u&&s6(i,n,u[s]);else a6(n+1),s6(i,n++,u);return i.length=n,i}});var Dc={},Pve=D9,Dve=Jy,Nve=Dve.concat("length","prototype");Dc.f=Object.getOwnPropertyNames||function(t){return Pve(t,Nve)};var td={},o6=Oc,Rve=un,Mve=Fu,Bve=Array,Fve=Math.max,bO=function(r,t,e){for(var i=Rve(r),n=o6(t,i),a=o6(e===void 0?i:e,i),s=Bve(Fve(a-n,0)),o=0;n<a;n++,o++)Mve(s,o,r[n]);return s.length=o,s},zve=Aa,Lve=ta,yO=Dc.f,jve=bO,$O=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Uve=function(r){try{return yO(r)}catch{return jve($O)}};td.f=function(t){return $O&&zve(t)==="Window"?Uve(t):yO(Lve(t))};var qve=Bi,o$=function(r,t,e){return qve.f(r,t,e)},Nc={},Hve=sr;Nc.f=Hve;var l6=Tt,Gve=Nr,Wve=Nc,Vve=Bi.f,or=function(r){var t=l6.Symbol||(l6.Symbol={});Gve(t,r)||Vve(t,r,{value:Wve.f(r)})},Xve=Mi,Kve=ln,Yve=sr,Jve=Cc,_O=function(){var r=Kve("Symbol"),t=r&&r.prototype,e=t&&t.valueOf,i=Yve("toPrimitive");t&&!t[i]&&Jve(t,i,function(n){return Xve(e,this)},{arity:1})},Qve=Tc,Zve=At,ege=qp,tge=Si,rge=un,ige=s$,u6=Zve([].push),ds=function(r){var t=r===1,e=r===2,i=r===3,n=r===4,a=r===6,s=r===7,o=r===5||a;return function(l,u,f,h){for(var c=tge(l),m=ege(c),d=Qve(u,f),v=rge(m),b=0,g=h||ige,y=t?g(l,v):e||s?g(l,0):void 0,_,w;v>b;b++)if((o||b in m)&&(_=m[b],w=d(_,b,c),r))if(t)y[b]=w;else if(w)switch(r){case 3:return!0;case 5:return _;case 6:return b;case 2:u6(y,_)}else switch(r){case 4:return!1;case 7:u6(y,_)}return a?-1:i||n?n:y}},Js={forEach:ds(0),map:ds(1),filter:ds(2),some:ds(3),every:ds(4),find:ds(5),findIndex:ds(6),filterReject:ds(7)},rd=at,id=ar,l$=Mi,nge=At,au=Pr,su=Cu,age=kt,Or=Nr,sge=cr,Q1=Fi,nd=ta,u$=Gp,oge=ra,Z1=_c,jf=Ru,wO=Vp,lge=Dc,xO=td,uge=Ic,SO=Au,EO=Bi,fge=Yp,kO=Up,f6=Cc,cge=o$,f$=Du,hge=Kp,TO=Ac,c6=Hp,mge=sr,pge=Nc,dge=or,vge=_O,gge=Mu,OO=el,ad=Js.forEach,di=hge("hidden"),sd="Symbol",Uf="prototype",bge=OO.set,h6=OO.getterFor(sd),$n=Object[Uf],_o=id.Symbol,tf=_o&&_o[Uf],yge=id.RangeError,$ge=id.TypeError,Qv=id.QObject,AO=SO.f,wo=EO.f,IO=xO.f,_ge=kO.f,CO=nge([].push),Sa=f$("symbols"),Rc=f$("op-symbols"),wge=f$("wks"),eb=!Qv||!Qv[Uf]||!Qv[Uf].findChild,PO=function(r,t,e){var i=AO($n,t);i&&delete $n[t],wo(r,t,e),i&&r!==$n&&wo($n,t,i)},tb=au&&age(function(){return jf(wo({},"a",{get:function(){return wo(this,"a",{value:7}).a}})).a!==7})?PO:wo,Zv=function(r,t){var e=Sa[r]=jf(tf);return bge(e,{type:sd,tag:r,description:t}),au||(e.description=t),e},od=function(t,e,i){t===$n&&od(Rc,e,i),Q1(t);var n=u$(e);return Q1(i),Or(Sa,n)?(i.enumerable?(Or(t,di)&&t[di][n]&&(t[di][n]=!1),i=jf(i,{enumerable:Z1(0,!1)})):(Or(t,di)||wo(t,di,Z1(1,{})),t[di][n]=!0),tb(t,n,i)):wo(t,n,i)},c$=function(t,e){Q1(t);var i=nd(e),n=wO(i).concat(MO(i));return ad(n,function(a){(!au||l$(DO,i,a))&&od(t,a,i[a])}),t},xge=function(t,e){return e===void 0?jf(t):c$(jf(t),e)},DO=function(t){var e=u$(t),i=l$(_ge,this,e);return this===$n&&Or(Sa,e)&&!Or(Rc,e)?!1:i||!Or(this,e)||!Or(Sa,e)||Or(this,di)&&this[di][e]?i:!0},NO=function(t,e){var i=nd(t),n=u$(e);if(!(i===$n&&Or(Sa,n)&&!Or(Rc,n))){var a=AO(i,n);return a&&Or(Sa,n)&&!(Or(i,di)&&i[di][n])&&(a.enumerable=!0),a}},RO=function(t){var e=IO(nd(t)),i=[];return ad(e,function(n){!Or(Sa,n)&&!Or(TO,n)&&CO(i,n)}),i},MO=function(r){var t=r===$n,e=IO(t?Rc:nd(r)),i=[];return ad(e,function(n){Or(Sa,n)&&(!t||Or($n,n))&&CO(i,Sa[n])}),i};su||(_o=function(){if(sge(tf,this))throw new $ge("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:oge(arguments[0]),e=c6(t),i=function(n){this===$n&&l$(i,Rc,n),Or(this,di)&&Or(this[di],e)&&(this[di][e]=!1);var a=Z1(1,n);try{tb(this,e,a)}catch(s){if(!(s instanceof yge))throw s;PO(this,e,a)}};return au&&eb&&tb($n,e,{configurable:!0,set:i}),Zv(e,t)},tf=_o[Uf],f6(tf,"toString",function(){return h6(this).tag}),f6(_o,"withoutSetter",function(r){return Zv(c6(r),r)}),kO.f=DO,EO.f=od,fge.f=c$,SO.f=NO,lge.f=xO.f=RO,uge.f=MO,pge.f=function(r){return Zv(mge(r),r)},au&&cge(tf,"description",{configurable:!0,get:function(){return h6(this).description}}));rd({global:!0,constructor:!0,wrap:!0,forced:!su,sham:!su},{Symbol:_o});ad(wO(wge),function(r){dge(r)});rd({target:sd,stat:!0,forced:!su},{useSetter:function(){eb=!0},useSimple:function(){eb=!1}});rd({target:"Object",stat:!0,forced:!su,sham:!au},{create:xge,defineProperty:od,defineProperties:c$,getOwnPropertyDescriptor:NO});rd({target:"Object",stat:!0,forced:!su},{getOwnPropertyNames:RO});vge();gge(_o,sd);TO[di]=!0;var Sge=Cu,BO=Sge&&!!Symbol.for&&!!Symbol.keyFor,Ege=at,kge=ln,Tge=Nr,Oge=ra,FO=Du,Age=BO,eg=FO("string-to-symbol-registry"),Ige=FO("symbol-to-string-registry");Ege({target:"Symbol",stat:!0,forced:!Age},{for:function(r){var t=Oge(r);if(Tge(eg,t))return eg[t];var e=kge("Symbol")(t);return eg[t]=e,Ige[e]=t,e}});var Cge=at,Pge=Nr,Dge=Ec,Nge=Pu,Rge=Du,Mge=BO,m6=Rge("symbol-to-string-registry");Cge({target:"Symbol",stat:!0,forced:!Mge},{keyFor:function(t){if(!Dge(t))throw new TypeError(Nge(t)+" is not a symbol");if(Pge(m6,t))return m6[t]}});var Bge=At,p6=il,Fge=Cr,d6=Aa,zge=ra,v6=Bge([].push),Lge=function(r){if(Fge(r))return r;if(p6(r)){for(var t=r.length,e=[],i=0;i<t;i++){var n=r[i];typeof n=="string"?v6(e,n):(typeof n=="number"||d6(n)==="Number"||d6(n)==="String")&&v6(e,zge(n))}var a=e.length,s=!0;return function(o,l){if(s)return s=!1,l;if(p6(this))return l;for(var u=0;u<a;u++)if(e[u]===o)return l}}},jge=at,zO=ln,LO=$c,Uge=Mi,Mc=At,jO=kt,g6=Cr,b6=Ec,UO=Xp,qge=Lge,Hge=Cu,Gge=String,Cs=zO("JSON","stringify"),Dh=Mc(/./.exec),y6=Mc("".charAt),Wge=Mc("".charCodeAt),Vge=Mc("".replace),Xge=Mc(1 .toString),Kge=/[\uD800-\uDFFF]/g,$6=/^[\uD800-\uDBFF]$/,_6=/^[\uDC00-\uDFFF]$/,w6=!Hge||jO(function(){var r=zO("Symbol")("stringify detection");return Cs([r])!=="[null]"||Cs({a:r})!=="{}"||Cs(Object(r))!=="{}"}),x6=jO(function(){return Cs("\uDF06\uD834")!=='"\\udf06\\ud834"'||Cs("\uDEAD")!=='"\\udead"'}),Yge=function(r,t){var e=UO(arguments),i=qge(t);if(!(!g6(i)&&(r===void 0||b6(r))))return e[1]=function(n,a){if(g6(i)&&(a=Uge(i,this,Gge(n),a)),!b6(a))return a},LO(Cs,null,e)},Jge=function(r,t,e){var i=y6(e,t-1),n=y6(e,t+1);return Dh($6,r)&&!Dh(_6,n)||Dh(_6,r)&&!Dh($6,i)?"\\u"+Xge(Wge(r,0),16):r};Cs&&jge({target:"JSON",stat:!0,arity:3,forced:w6||x6},{stringify:function(t,e,i){var n=UO(arguments),a=LO(w6?Yge:Cs,null,n);return x6&&typeof a=="string"?Vge(a,Kge,Jge):a}});var Qge=at,Zge=Cu,e1e=kt,qO=Ic,t1e=Si,r1e=!Zge||e1e(function(){qO.f(1)});Qge({target:"Object",stat:!0,forced:r1e},{getOwnPropertySymbols:function(t){var e=qO.f;return e?e(t1e(t)):[]}});var i1e=or;i1e("asyncIterator");var n1e=or;n1e("hasInstance");var a1e=or;a1e("isConcatSpreadable");var s1e=or;s1e("iterator");var o1e=or;o1e("match");var l1e=or;l1e("matchAll");var u1e=or;u1e("replace");var f1e=or;f1e("search");var c1e=or;c1e("species");var h1e=or;h1e("split");var m1e=or,p1e=_O;m1e("toPrimitive");p1e();var d1e=ln,v1e=or,g1e=Mu;v1e("toStringTag");g1e(d1e("Symbol"),"Symbol");var b1e=or;b1e("unscopables");var y1e=ar,$1e=Mu;$1e(y1e.JSON,"JSON",!0);var _1e=Tt,w1e=_1e.Symbol,x1e=w1e,HO=x1e,S1e=sr,E1e=Bi.f,S6=S1e("metadata"),E6=Function.prototype;E6[S6]===void 0&&E1e(E6,S6,{value:null});var k1e=or;k1e("asyncDispose");var T1e=or;T1e("dispose");var O1e=or;O1e("metadata");var A1e=HO,I1e=A1e,C1e=ln,P1e=At,h$=C1e("Symbol"),D1e=h$.keyFor,N1e=P1e(h$.prototype.valueOf),GO=h$.isRegisteredSymbol||function(t){try{return D1e(N1e(t))!==void 0}catch{return!1}},R1e=at,M1e=GO;R1e({target:"Symbol",stat:!0},{isRegisteredSymbol:M1e});var B1e=Du,WO=ln,F1e=At,z1e=Ec,L1e=sr,zm=WO("Symbol"),k6=zm.isWellKnownSymbol,VO=WO("Object","getOwnPropertyNames"),j1e=F1e(zm.prototype.valueOf),T6=B1e("wks");for(var tg=0,O6=VO(zm),U1e=O6.length;tg<U1e;tg++)try{var A6=O6[tg];z1e(zm[A6])&&L1e(A6)}catch{}var XO=function(t){if(k6&&k6(t))return!0;try{for(var e=j1e(t),i=0,n=VO(T6),a=n.length;i<a;i++)if(T6[n[i]]==e)return!0}catch{}return!1},q1e=at,H1e=XO;q1e({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:H1e});var G1e=or;G1e("matcher");var W1e=or;W1e("observable");var V1e=at,X1e=GO;V1e({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:X1e});var K1e=at,Y1e=XO;K1e({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Y1e});var J1e=or;J1e("metadataKey");var Q1e=or;Q1e("patternMatch");var Z1e=or;Z1e("replaceAll");var ebe=I1e,tbe=ebe,rbe=tbe,zl=Je(rbe),ibe=Nc,nbe=ibe.f("iterator"),abe=nbe,sbe=abe,obe=sbe,lbe=obe,ube=lbe,fbe=ube,cbe=fbe,hbe=Je(cbe);function Nt(r){"@babel/helpers - typeof";return Nt=typeof zl=="function"&&typeof hbe=="symbol"?function(t){return typeof t}:function(t){return t&&typeof zl=="function"&&t.constructor===zl&&t!==zl.prototype?"symbol":typeof t},Nt(r)}var mbe=Nc,pbe=mbe.f("toPrimitive"),dbe=pbe,vbe=dbe,gbe=vbe,bbe=gbe,ybe=bbe,$be=ybe,_be=$be,wbe=Je(_be);function xbe(r,t){if(Nt(r)!=="object"||r===null)return r;var e=r[wbe];if(e!==void 0){var i=e.call(r,t||"default");if(Nt(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function KO(r){var t=xbe(r,"string");return Nt(t)==="symbol"?t:String(t)}function I6(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),ed(r,KO(i.key),i)}}function He(r,t,e){return t&&I6(r.prototype,t),e&&I6(r,e),ed(r,"prototype",{writable:!1}),r}var Sbe=at,Ebe=il;Sbe({target:"Array",stat:!0},{isArray:Ebe});var kbe=Tt,Tbe=kbe.Array.isArray,Obe=Tbe,YO=Obe,Abe=YO,Ibe=Abe,Cbe=Ibe,Pbe=Cbe,Dbe=Pbe,JO=Je(Dbe);function Nbe(r){if(JO(r))return r}var Rbe=Pr,Mbe=il,Bbe=TypeError,Fbe=Object.getOwnPropertyDescriptor,zbe=Rbe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}(),QO=zbe?function(r,t){if(Mbe(r)&&!Fbe(r,"length").writable)throw new Bbe("Cannot set read only .length");return r.length=t}:function(r,t){return r.length=t},Lbe=at,jbe=Si,Ube=un,qbe=QO,Hbe=a$,Gbe=kt,Wbe=Gbe(function(){return[].push.call({length:4294967296},1)!==4294967297}),Vbe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}},Xbe=Wbe||!Vbe();Lbe({target:"Array",proto:!0,arity:1,forced:Xbe},{push:function(t){var e=jbe(this),i=Ube(e),n=arguments.length;Hbe(i+n);for(var a=0;a<n;a++)e[i]=arguments[a],i++;return qbe(e,i),i}});var Kbe=Rr,Ybe=Kbe("Array").push,Jbe=cr,Qbe=Ybe,rg=Array.prototype,Zbe=function(r){var t=r.push;return r===rg||Jbe(rg,r)&&t===rg.push?Qbe:t},eye=Zbe,tye=eye,rye=tye,iye=rye,nye=iye,aye=nye,sye=aye,oye=Je(sye);function lye(r,t){var e=r==null?null:typeof zl<"u"&&mO(r)||r["@@iterator"];if(e!=null){var i,n,a,s,o=[],l=!0,u=!1;try{if(a=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=a.call(e)).done)&&(oye(o).call(o,i.value),o.length!==t);l=!0);}catch(f){u=!0,n=f}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw n}}return o}}var uye=at,C6=il,fye=Qp,cye=Dr,P6=Oc,hye=un,mye=ta,pye=Fu,dye=sr,vye=Pc,gye=Xp,bye=vye("slice"),yye=dye("species"),ig=Array,$ye=Math.max;uye({target:"Array",proto:!0,forced:!bye},{slice:function(t,e){var i=mye(this),n=hye(i),a=P6(t,n),s=P6(e===void 0?n:e,n),o,l,u;if(C6(i)&&(o=i.constructor,fye(o)&&(o===ig||C6(o.prototype))?o=void 0:cye(o)&&(o=o[yye],o===null&&(o=void 0)),o===ig||o===void 0))return gye(i,a,s);for(l=new(o===void 0?ig:o)($ye(s-a,0)),u=0;a<s;a++,u++)a in i&&pye(l,u,i[a]);return l.length=u,l}});var _ye=Rr,wye=_ye("Array").slice,xye=cr,Sye=wye,ng=Array.prototype,Eye=function(r){var t=r.slice;return r===ng||xye(ng,r)&&t===ng.slice?Sye:t},kye=Eye,ZO=kye,Tye=ZO,Oye=Tye,Aye=Oye,Iye=Aye,Cye=Iye,Pye=Je(Cye),Dye=uO,Nye=Dye,Rye=Nye,Mye=Rye,Bye=Mye,eA=Je(Bye);function rb(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function tA(r,t){var e;if(r){if(typeof r=="string")return rb(r,t);var i=Pye(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return eA(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rb(r,t)}}function Fye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rr(r,t){return Nbe(r)||lye(r,t)||tA(r,t)||Fye()}function zye(r){if(JO(r))return rb(r)}function Lye(r){if(typeof zl<"u"&&mO(r)!=null||r["@@iterator"]!=null)return eA(r)}function jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mn(r){return zye(r)||Lye(r)||tA(r)||jye()}var Uye=HO,Qs=Je(Uye),qye=Rr,Hye=qye("Array").concat,Gye=cr,Wye=Hye,ag=Array.prototype,Vye=function(r){var t=r.concat;return r===ag||Gye(ag,r)&&t===ag.concat?Wye:t},Xye=Vye,Kye=Xye,Yye=Kye,m$=Je(Yye),Jye=ZO,Hr=Je(Jye),Qye=ln,Zye=At,e$e=Dc,t$e=Ic,r$e=Fi,i$e=Zye([].concat),n$e=Qye("Reflect","ownKeys")||function(t){var e=e$e.f(r$e(t)),i=t$e.f;return i?i$e(e,i(t)):e},a$e=YO,Pt=Je(a$e),s$e=at,o$e=Js.map,l$e=Pc,u$e=l$e("map");s$e({target:"Array",proto:!0,forced:!u$e},{map:function(t){return o$e(this,t,arguments.length>1?arguments[1]:void 0)}});var f$e=Rr,c$e=f$e("Array").map,h$e=cr,m$e=c$e,sg=Array.prototype,p$e=function(r){var t=r.map;return r===sg||h$e(sg,r)&&t===sg.map?m$e:t},d$e=p$e,v$e=d$e,g$e=v$e,ou=Je(g$e),b$e=at,y$e=Si,rA=Vp,$$e=kt,_$e=$$e(function(){rA(1)});b$e({target:"Object",stat:!0,forced:_$e},{keys:function(t){return rA(y$e(t))}});var w$e=Tt,x$e=w$e.Object.keys,S$e=x$e,E$e=S$e,k$e=E$e,tr=Je(k$e),T$e=at,O$e=At,iA=Date,A$e=O$e(iA.prototype.getTime);T$e({target:"Date",stat:!0},{now:function(){return A$e(new iA)}});var I$e=Tt,C$e=I$e.Date.now,P$e=C$e,D$e=P$e,N$e=D$e,Lm=Je(N$e),R$e=kt,zu=function(r,t){var e=[][r];return!!e&&R$e(function(){e.call(null,t||function(){return 1},1)})},M$e=Js.forEach,B$e=zu,F$e=B$e("forEach"),z$e=F$e?[].forEach:function(t){return M$e(this,t,arguments.length>1?arguments[1]:void 0)},L$e=at,D6=z$e;L$e({target:"Array",proto:!0,forced:[].forEach!==D6},{forEach:D6});var j$e=Rr,U$e=j$e("Array").forEach,q$e=U$e,H$e=q$e,G$e=Zo,W$e=Nr,V$e=cr,X$e=H$e,og=Array.prototype,K$e={DOMTokenList:!0,NodeList:!0},Y$e=function(r){var t=r.forEach;return r===og||V$e(og,r)&&t===og.forEach||W$e(K$e,G$e(r))?X$e:t},J$e=Y$e,Mt=Je(J$e),Q$e=at,Z$e=At,e_e=il,t_e=Z$e([].reverse),N6=[1,2];Q$e({target:"Array",proto:!0,forced:String(N6)===String(N6.reverse())},{reverse:function(){return e_e(this)&&(this.length=this.length),t_e(this)}});var r_e=Rr,i_e=r_e("Array").reverse,n_e=cr,a_e=i_e,lg=Array.prototype,s_e=function(r){var t=r.reverse;return r===lg||n_e(lg,r)&&t===lg.reverse?a_e:t},o_e=s_e,l_e=o_e,u_e=l_e,xo=Je(u_e),R6=Pu,f_e=TypeError,nA=function(r,t){if(!delete r[t])throw new f_e("Cannot delete property "+R6(t)+" of "+R6(r))},c_e=at,h_e=Si,m_e=Oc,p_e=Wp,d_e=un,v_e=QO,g_e=a$,b_e=s$,y_e=Fu,ug=nA,$_e=Pc,__e=$_e("splice"),w_e=Math.max,x_e=Math.min;c_e({target:"Array",proto:!0,forced:!__e},{splice:function(t,e){var i=h_e(this),n=d_e(i),a=m_e(t,n),s=arguments.length,o,l,u,f,h,c;for(s===0?o=l=0:s===1?(o=0,l=n-a):(o=s-2,l=x_e(w_e(p_e(e),0),n-a)),g_e(n+o-l),u=b_e(i,l),f=0;f<l;f++)h=a+f,h in i&&y_e(u,f,i[h]);if(u.length=l,o<l){for(f=a;f<n-l;f++)h=f+l,c=f+o,h in i?i[c]=i[h]:ug(i,c);for(f=n;f>n-l+o;f--)ug(i,f-1)}else if(o>l)for(f=n-l;f>a;f--)h=f+l-1,c=f+o-1,h in i?i[c]=i[h]:ug(i,c);for(f=0;f<o;f++)i[f+a]=arguments[f+2];return v_e(i,n-l+o),u}});var S_e=Rr,E_e=S_e("Array").splice,k_e=cr,T_e=E_e,fg=Array.prototype,O_e=function(r){var t=r.splice;return r===fg||k_e(fg,r)&&t===fg.splice?T_e:t},A_e=O_e,I_e=A_e,C_e=I_e,pa=Je(C_e),P_e=at,D_e=Yy.includes,N_e=kt,R_e=N_e(function(){return!Array(1).includes()});P_e({target:"Array",proto:!0,forced:R_e},{includes:function(t){return D_e(this,t,arguments.length>1?arguments[1]:void 0)}});var M_e=Rr,B_e=M_e("Array").includes,F_e=Dr,z_e=Aa,L_e=sr,j_e=L_e("match"),U_e=function(r){var t;return F_e(r)&&((t=r[j_e])!==void 0?!!t:z_e(r)==="RegExp")},q_e=U_e,H_e=TypeError,G_e=function(r){if(q_e(r))throw new H_e("The method doesn't accept regular expressions");return r},W_e=sr,V_e=W_e("match"),X_e=function(r){var t=/./;try{"/./"[r](t)}catch{try{return t[V_e]=!1,"/./"[r](t)}catch{}}return!1},K_e=at,Y_e=At,J_e=G_e,Q_e=wc,M6=ra,Z_e=X_e,e2e=Y_e("".indexOf);K_e({target:"String",proto:!0,forced:!Z_e("includes")},{includes:function(t){return!!~e2e(M6(Q_e(this)),M6(J_e(t)),arguments.length>1?arguments[1]:void 0)}});var t2e=Rr,r2e=t2e("String").includes,B6=cr,i2e=B_e,n2e=r2e,cg=Array.prototype,hg=String.prototype,a2e=function(r){var t=r.includes;return r===cg||B6(cg,r)&&t===cg.includes?i2e:typeof r=="string"||r===hg||B6(hg,r)&&t===hg.includes?n2e:t},s2e=a2e,o2e=s2e,l2e=o2e,Ps=Je(l2e),u2e=at,f2e=kt,c2e=Si,aA=Jp,h2e=K9,m2e=f2e(function(){aA(1)});u2e({target:"Object",stat:!0,forced:m2e,sham:!h2e},{getPrototypeOf:function(t){return aA(c2e(t))}});var p2e=Tt,d2e=p2e.Object.getPrototypeOf,v2e=d2e,sA=v2e,g2e=sA,F6=Je(g2e),b2e=at,y2e=Js.filter,$2e=Pc,_2e=$2e("filter");b2e({target:"Array",proto:!0,forced:!_2e},{filter:function(t){return y2e(this,t,arguments.length>1?arguments[1]:void 0)}});var w2e=Rr,x2e=w2e("Array").filter,S2e=cr,E2e=x2e,mg=Array.prototype,k2e=function(r){var t=r.filter;return r===mg||S2e(mg,r)&&t===mg.filter?E2e:t},T2e=k2e,O2e=T2e,A2e=O2e,vi=Je(A2e),p$=`	
\v\f\r                　\u2028\u2029\uFEFF`,I2e=At,C2e=wc,P2e=ra,ib=p$,z6=I2e("".replace),D2e=RegExp("^["+ib+"]+"),N2e=RegExp("(^|[^"+ib+"])["+ib+"]+$"),pg=function(r){return function(t){var e=P2e(C2e(t));return r&1&&(e=z6(e,D2e,"")),r&2&&(e=z6(e,N2e,"$1")),e}},oA={start:pg(1),end:pg(2),trim:pg(3)},lA=ar,R2e=kt,M2e=At,B2e=ra,F2e=oA.trim,L6=p$,hf=lA.parseInt,j6=lA.Symbol,U6=j6&&j6.iterator,uA=/^[+-]?0x/i,z2e=M2e(uA.exec),L2e=hf(L6+"08")!==8||hf(L6+"0x16")!==22||U6&&!R2e(function(){hf(Object(U6))}),j2e=L2e?function(t,e){var i=F2e(B2e(t));return hf(i,e>>>0||(z2e(uA,i)?16:10))}:hf,U2e=at,q6=j2e;U2e({global:!0,forced:parseInt!==q6},{parseInt:q6});var q2e=Tt,H2e=q2e.parseInt,G2e=H2e,W2e=G2e,V2e=W2e,bn=Je(V2e),X2e=at,K2e=Vy,Y2e=Yy.indexOf,J2e=zu,nb=K2e([].indexOf),fA=!!nb&&1/nb([1],1,-0)<0,Q2e=fA||!J2e("indexOf");X2e({target:"Array",proto:!0,forced:Q2e},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return fA?nb(this,t,e)||0:Y2e(this,t,e)}});var Z2e=Rr,e4e=Z2e("Array").indexOf,t4e=cr,r4e=e4e,dg=Array.prototype,i4e=function(r){var t=r.indexOf;return r===dg||t4e(dg,r)&&t===dg.indexOf?r4e:t},n4e=i4e,a4e=n4e,s4e=a4e,Et=Je(s4e),o4e=at,l4e=Pr,u4e=Ru;o4e({target:"Object",stat:!0,sham:!l4e},{create:u4e});var f4e=Tt,c4e=f4e.Object,h4e=function(t,e){return c4e.create(t,e)},m4e=h4e,cA=m4e,p4e=cA,So=Je(p4e),ab=Tt,d4e=$c;ab.JSON||(ab.JSON={stringify:JSON.stringify});var v4e=function(t,e,i){return d4e(ab.JSON.stringify,null,arguments)},g4e=v4e,b4e=g4e,y4e=b4e,Bc=Je(y4e),$4e=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",_4e=TypeError,w4e=function(r,t){if(r<t)throw new _4e("Not enough arguments");return r},hA=ar,x4e=$c,S4e=Cr,E4e=$4e,k4e=xc,T4e=Xp,O4e=w4e,A4e=hA.Function,I4e=/MSIE .\./.test(k4e)||E4e&&function(){var r=hA.Bun.version.split(".");return r.length<3||r[0]==="0"&&(r[1]<3||r[1]==="3"&&r[2]==="0")}(),mA=function(r,t){var e=t?2:1;return I4e?function(i,n){var a=O4e(arguments.length,1)>e,s=S4e(i)?i:A4e(i),o=a?T4e(arguments,e):[],l=a?function(){x4e(s,this,o)}:s;return t?r(l,n):r(l)}:r},C4e=at,pA=ar,P4e=mA,H6=P4e(pA.setInterval,!0);C4e({global:!0,bind:!0,forced:pA.setInterval!==H6},{setInterval:H6});var D4e=at,dA=ar,N4e=mA,G6=N4e(dA.setTimeout,!0);D4e({global:!0,bind:!0,forced:dA.setTimeout!==G6},{setTimeout:G6});var R4e=Tt,M4e=R4e.setTimeout,B4e=M4e,Hn=Je(B4e),F4e=Si,W6=Oc,z4e=un,L4e=function(t){for(var e=F4e(this),i=z4e(e),n=arguments.length,a=W6(n>1?arguments[1]:void 0,i),s=n>2?arguments[2]:void 0,o=s===void 0?i:W6(s,i);o>a;)e[a++]=t;return e},j4e=at,U4e=L4e;j4e({target:"Array",proto:!0},{fill:U4e});var q4e=Rr,H4e=q4e("Array").fill,G4e=cr,W4e=H4e,vg=Array.prototype,V4e=function(r){var t=r.fill;return r===vg||G4e(vg,r)&&t===vg.fill?W4e:t},X4e=V4e,K4e=X4e,Y4e=K4e,Fc=Je(Y4e);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function xn(){return xn=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},xn.apply(this,arguments)}function fn(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function Nh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var sb;typeof Object.assign!="function"?sb=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e}:sb=Object.assign;var zo=sb,V6=["","webkit","Moz","MS","ms","o"],J4e=typeof document>"u"?{style:{}}:document.createElement("div"),Q4e="function",Ll=Math.round,Lo=Math.abs,d$=Date.now;function ld(r,t){for(var e,i,n=t[0].toUpperCase()+t.slice(1),a=0;a<V6.length;){if(e=V6[a],i=e?e+n:t,i in r)return i;a++}}var da;typeof window>"u"?da={}:da=window;var vA=ld(J4e.style,"touchAction"),gA=vA!==void 0;function Z4e(){if(!gA)return!1;var r={},t=da.CSS&&da.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return r[e]=t?da.CSS.supports("touch-action",e):!0}),r}var bA="compute",yA="auto",ob="manipulation",Eo="none",qf="pan-x",Hf="pan-y",Rh=Z4e(),ewe=/mobile|tablet|ip(ad|hone|od)|android/i,$A="ontouchstart"in da,twe=ld(da,"PointerEvent")!==void 0,rwe=$A&&ewe.test(navigator.userAgent),zc="touch",iwe="pen",v$="mouse",nwe="kinect",awe=25,ii=1,nl=2,dr=4,bi=8,jm=1,Lc=2,jc=4,Uc=8,lu=16,Gn=Lc|jc,ko=Uc|lu,_A=Gn|ko,wA=["x","y"],Um=["clientX","clientY"];function va(r,t,e){var i;if(r)if(r.forEach)r.forEach(t,e);else if(r.length!==void 0)for(i=0;i<r.length;)t.call(e,r[i],i,r),i++;else for(i in r)r.hasOwnProperty(i)&&t.call(e,r[i],i,r)}function ud(r,t){return typeof r===Q4e?r.apply(t&&t[0]||void 0,t):r}function mo(r,t){return r.indexOf(t)>-1}function swe(r){if(mo(r,Eo))return Eo;var t=mo(r,qf),e=mo(r,Hf);return t&&e?Eo:t||e?t?qf:Hf:mo(r,ob)?ob:yA}var xA=function(){function r(e,i){this.manager=e,this.set(i)}var t=r.prototype;return t.set=function(i){i===bA&&(i=this.compute()),gA&&this.manager.element.style&&Rh[i]&&(this.manager.element.style[vA]=i),this.actions=i.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var i=[];return va(this.manager.recognizers,function(n){ud(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),swe(i.join(" "))},t.preventDefaults=function(i){var n=i.srcEvent,a=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,o=mo(s,Eo)&&!Rh[Eo],l=mo(s,Hf)&&!Rh[Hf],u=mo(s,qf)&&!Rh[qf];if(o){var f=i.pointers.length===1,h=i.distance<2,c=i.deltaTime<250;if(f&&h&&c)return}if(!(u&&l)&&(o||l&&a&Gn||u&&a&ko))return this.preventSrc(n)},t.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},r}();function g$(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}function SA(r){var t=r.length;if(t===1)return{x:Ll(r[0].clientX),y:Ll(r[0].clientY)};for(var e=0,i=0,n=0;n<t;)e+=r[n].clientX,i+=r[n].clientY,n++;return{x:Ll(e/t),y:Ll(i/t)}}function X6(r){for(var t=[],e=0;e<r.pointers.length;)t[e]={clientX:Ll(r.pointers[e].clientX),clientY:Ll(r.pointers[e].clientY)},e++;return{timeStamp:d$(),pointers:t,center:SA(t),deltaX:r.deltaX,deltaY:r.deltaY}}function qm(r,t,e){e||(e=wA);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.sqrt(i*i+n*n)}function lb(r,t,e){e||(e=wA);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.atan2(n,i)*180/Math.PI}function EA(r,t){return r===t?jm:Lo(r)>=Lo(t)?r<0?Lc:jc:t<0?Uc:lu}function owe(r,t){var e=t.center,i=r.offsetDelta||{},n=r.prevDelta||{},a=r.prevInput||{};(t.eventType===ii||a.eventType===dr)&&(n=r.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=r.offsetDelta={x:e.x,y:e.y}),t.deltaX=n.x+(e.x-i.x),t.deltaY=n.y+(e.y-i.y)}function kA(r,t,e){return{x:t/r||0,y:e/r||0}}function lwe(r,t){return qm(t[0],t[1],Um)/qm(r[0],r[1],Um)}function uwe(r,t){return lb(t[1],t[0],Um)+lb(r[1],r[0],Um)}function fwe(r,t){var e=r.lastInterval||t,i=t.timeStamp-e.timeStamp,n,a,s,o;if(t.eventType!==bi&&(i>awe||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,f=kA(i,l,u);a=f.x,s=f.y,n=Lo(f.x)>Lo(f.y)?f.x:f.y,o=EA(l,u),r.lastInterval=t}else n=e.velocity,a=e.velocityX,s=e.velocityY,o=e.direction;t.velocity=n,t.velocityX=a,t.velocityY=s,t.direction=o}function cwe(r,t){var e=r.session,i=t.pointers,n=i.length;e.firstInput||(e.firstInput=X6(t)),n>1&&!e.firstMultiple?e.firstMultiple=X6(t):n===1&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,o=s?s.center:a.center,l=t.center=SA(i);t.timeStamp=d$(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=lb(o,l),t.distance=qm(o,l),owe(e,t),t.offsetDirection=EA(t.deltaX,t.deltaY);var u=kA(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=Lo(u.x)>Lo(u.y)?u.x:u.y,t.scale=s?lwe(s.pointers,i):1,t.rotation=s?uwe(s.pointers,i):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,fwe(e,t);var f=r.element,h=t.srcEvent,c;h.composedPath?c=h.composedPath()[0]:h.path?c=h.path[0]:c=h.target,g$(c,f)&&(f=c),t.target=f}function hwe(r,t,e){var i=e.pointers.length,n=e.changedPointers.length,a=t&ii&&i-n===0,s=t&(dr|bi)&&i-n===0;e.isFirst=!!a,e.isFinal=!!s,a&&(r.session={}),e.eventType=t,cwe(r,e),r.emit("hammer.input",e),r.recognize(e),r.session.prevInput=e}function Gf(r){return r.trim().split(/\s+/g)}function mf(r,t,e){va(Gf(t),function(i){r.addEventListener(i,e,!1)})}function pf(r,t,e){va(Gf(t),function(i){r.removeEventListener(i,e,!1)})}function K6(r){var t=r.ownerDocument||r;return t.defaultView||t.parentWindow||window}var Lu=function(){function r(e,i){var n=this;this.manager=e,this.callback=i,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){ud(e.options.enable,[e])&&n.handler(a)},this.init()}var t=r.prototype;return t.handler=function(){},t.init=function(){this.evEl&&mf(this.element,this.evEl,this.domHandler),this.evTarget&&mf(this.target,this.evTarget,this.domHandler),this.evWin&&mf(K6(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&pf(this.element,this.evEl,this.domHandler),this.evTarget&&pf(this.target,this.evTarget,this.domHandler),this.evWin&&pf(K6(this.element),this.evWin,this.domHandler)},r}();function jo(r,t,e){if(r.indexOf&&!e)return r.indexOf(t);for(var i=0;i<r.length;){if(e&&r[i][e]==t||!e&&r[i]===t)return i;i++}return-1}var mwe={pointerdown:ii,pointermove:nl,pointerup:dr,pointercancel:bi,pointerout:bi},pwe={2:zc,3:iwe,4:v$,5:nwe},TA="pointerdown",OA="pointermove pointerup pointercancel";da.MSPointerEvent&&!da.PointerEvent&&(TA="MSPointerDown",OA="MSPointerMove MSPointerUp MSPointerCancel");var AA=function(r){fn(t,r);function t(){var i,n=t.prototype;return n.evEl=TA,n.evWin=OA,i=r.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var e=t.prototype;return e.handler=function(n){var a=this.store,s=!1,o=n.type.toLowerCase().replace("ms",""),l=mwe[o],u=pwe[n.pointerType]||n.pointerType,f=u===zc,h=jo(a,n.pointerId,"pointerId");l&ii&&(n.button===0||f)?h<0&&(a.push(n),h=a.length-1):l&(dr|bi)&&(s=!0),!(h<0)&&(a[h]=n,this.callback(this.manager,l,{pointers:a,changedPointers:[n],pointerType:u,srcEvent:n}),s&&a.splice(h,1))},t}(Lu);function Wf(r){return Array.prototype.slice.call(r,0)}function b$(r,t,e){for(var i=[],n=[],a=0;a<r.length;){var s=t?r[a][t]:r[a];jo(n,s)<0&&i.push(r[a]),n[a]=s,a++}return e&&(t?i=i.sort(function(o,l){return o[t]>l[t]}):i=i.sort()),i}var dwe={touchstart:ii,touchmove:nl,touchend:dr,touchcancel:bi},vwe="touchstart touchmove touchend touchcancel",y$=function(r){fn(t,r);function t(){var i;return t.prototype.evTarget=vwe,i=r.apply(this,arguments)||this,i.targetIds={},i}var e=t.prototype;return e.handler=function(n){var a=dwe[n.type],s=gwe.call(this,n,a);s&&this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:zc,srcEvent:n})},t}(Lu);function gwe(r,t){var e=Wf(r.touches),i=this.targetIds;if(t&(ii|nl)&&e.length===1)return i[e[0].identifier]=!0,[e,e];var n,a,s=Wf(r.changedTouches),o=[],l=this.target;if(a=e.filter(function(u){return g$(u.target,l)}),t===ii)for(n=0;n<a.length;)i[a[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&o.push(s[n]),t&(dr|bi)&&delete i[s[n].identifier],n++;if(o.length)return[b$(a.concat(o),"identifier",!0),o]}var bwe={mousedown:ii,mousemove:nl,mouseup:dr},ywe="mousedown",$we="mousemove mouseup",$$=function(r){fn(t,r);function t(){var i,n=t.prototype;return n.evEl=ywe,n.evWin=$we,i=r.apply(this,arguments)||this,i.pressed=!1,i}var e=t.prototype;return e.handler=function(n){var a=bwe[n.type];a&ii&&n.button===0&&(this.pressed=!0),a&nl&&n.which!==1&&(a=dr),this.pressed&&(a&dr&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[n],changedPointers:[n],pointerType:v$,srcEvent:n}))},t}(Lu),_we=2500,Y6=25;function J6(r){var t=r.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);var a=function(){var o=n.indexOf(i);o>-1&&n.splice(o,1)};setTimeout(a,_we)}}function wwe(r,t){r&ii?(this.primaryTouch=t.changedPointers[0].identifier,J6.call(this,t)):r&(dr|bi)&&J6.call(this,t)}function xwe(r){for(var t=r.srcEvent.clientX,e=r.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],a=Math.abs(t-n.x),s=Math.abs(e-n.y);if(a<=Y6&&s<=Y6)return!0}return!1}var IA=function(){var r=function(t){fn(e,t);function e(n,a){var s;return s=t.call(this,n,a)||this,s.handler=function(o,l,u){var f=u.pointerType===zc,h=u.pointerType===v$;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(f)wwe.call(Nh(Nh(s)),l,u);else if(h&&xwe.call(Nh(Nh(s)),u))return;s.callback(o,l,u)}},s.touch=new y$(s.manager,s.handler),s.mouse=new $$(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=e.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Lu);return r}();function Swe(r){var t,e=r.options.inputClass;return e?t=e:twe?t=AA:rwe?t=y$:$A?t=IA:t=$$,new t(r,hwe)}function jl(r,t,e){return Array.isArray(r)?(va(r,e[t],e),!0):!1}var sm=1,rn=2,uu=4,Ds=8,ga=Ds,Vf=16,Ln=32,Ewe=1;function kwe(){return Ewe++}function Mh(r,t){var e=t.manager;return e?e.get(r):r}function Q6(r){return r&Vf?"cancel":r&Ds?"end":r&uu?"move":r&rn?"start":""}var qc=function(){function r(e){e===void 0&&(e={}),this.options=xn({enable:!0},e),this.id=kwe(),this.manager=null,this.state=sm,this.simultaneous={},this.requireFail=[]}var t=r.prototype;return t.set=function(i){return zo(this.options,i),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(i){if(jl(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=Mh(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},t.dropRecognizeWith=function(i){return jl(i,"dropRecognizeWith",this)?this:(i=Mh(i,this),delete this.simultaneous[i.id],this)},t.requireFailure=function(i){if(jl(i,"requireFailure",this))return this;var n=this.requireFail;return i=Mh(i,this),jo(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},t.dropRequireFailure=function(i){if(jl(i,"dropRequireFailure",this))return this;i=Mh(i,this);var n=jo(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},t.emit=function(i){var n=this,a=this.state;function s(o){n.manager.emit(o,i)}a<Ds&&s(n.options.event+Q6(a)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),a>=Ds&&s(n.options.event+Q6(a))},t.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=Ln},t.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(Ln|sm)))return!1;i++}return!0},t.recognize=function(i){var n=zo({},i);if(!ud(this.options.enable,[this,n])){this.reset(),this.state=Ln;return}this.state&(ga|Vf|Ln)&&(this.state=sm),this.state=this.process(n),this.state&(rn|uu|Ds|Vf)&&this.tryEmit(n)},t.process=function(i){},t.getTouchAction=function(){},t.reset=function(){},r}(),ub=function(r){fn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,xn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var e=t.prototype;return e.getTouchAction=function(){return[ob]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime<s.time;if(this.reset(),n.eventType&ii&&this.count===0)return this.failTimeout();if(l&&u&&o){if(n.eventType!==dr)return this.failTimeout();var f=this.pTime?n.timeStamp-this.pTime<s.interval:!0,h=!this.pCenter||qm(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!h||!f?this.count=1:this.count+=1,this._input=n;var c=this.count%s.taps;if(c===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=ga,a.tryEmit()},s.interval),rn):ga}return Ln},e.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Ln},this.options.interval),Ln},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===ga&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(qc),fu=function(r){fn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,xn({pointers:1},i))||this}var e=t.prototype;return e.attrTest=function(n){var a=this.options.pointers;return a===0||n.pointers.length===a},e.process=function(n){var a=this.state,s=n.eventType,o=a&(rn|uu),l=this.attrTest(n);return o&&(s&bi||!l)?a|Vf:o||l?s&dr?a|Ds:a&rn?a|uu:rn:Ln},t}(qc);function CA(r){return r===lu?"down":r===Uc?"up":r===Lc?"left":r===jc?"right":""}var _$=function(r){fn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,xn({event:"pan",threshold:10,pointers:1,direction:_A},i))||this,n.pX=null,n.pY=null,n}var e=t.prototype;return e.getTouchAction=function(){var n=this.options.direction,a=[];return n&Gn&&a.push(Hf),n&ko&&a.push(qf),a},e.directionTest=function(n){var a=this.options,s=!0,o=n.distance,l=n.direction,u=n.deltaX,f=n.deltaY;return l&a.direction||(a.direction&Gn?(l=u===0?jm:u<0?Lc:jc,s=u!==this.pX,o=Math.abs(n.deltaX)):(l=f===0?jm:f<0?Uc:lu,s=f!==this.pY,o=Math.abs(n.deltaY))),n.direction=l,s&&o>a.threshold&&l&a.direction},e.attrTest=function(n){return fu.prototype.attrTest.call(this,n)&&(this.state&rn||!(this.state&rn)&&this.directionTest(n))},e.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var a=CA(n.direction);a&&(n.additionalEvent=this.options.event+a),r.prototype.emit.call(this,n)},t}(fu),PA=function(r){fn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,xn({event:"swipe",threshold:10,velocity:.3,direction:Gn|ko,pointers:1},i))||this}var e=t.prototype;return e.getTouchAction=function(){return _$.prototype.getTouchAction.call(this)},e.attrTest=function(n){var a=this.options.direction,s;return a&(Gn|ko)?s=n.overallVelocity:a&Gn?s=n.overallVelocityX:a&ko&&(s=n.overallVelocityY),r.prototype.attrTest.call(this,n)&&a&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&Lo(s)>this.options.velocity&&n.eventType&dr},e.emit=function(n){var a=CA(n.offsetDirection);a&&this.manager.emit(this.options.event+a,n),this.manager.emit(this.options.event,n)},t}(fu),DA=function(r){fn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,xn({event:"pinch",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[Eo]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&rn)},e.emit=function(n){if(n.scale!==1){var a=n.scale<1?"in":"out";n.additionalEvent=this.options.event+a}r.prototype.emit.call(this,n)},t}(fu),NA=function(r){fn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,xn({event:"rotate",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[Eo]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&rn)},t}(fu),RA=function(r){fn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,xn({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var e=t.prototype;return e.getTouchAction=function(){return[yA]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime>s.time;if(this._input=n,!l||!o||n.eventType&(dr|bi)&&!u)this.reset();else if(n.eventType&ii)this.reset(),this._timer=setTimeout(function(){a.state=ga,a.tryEmit()},s.time);else if(n.eventType&dr)return ga;return Ln},e.reset=function(){clearTimeout(this._timer)},e.emit=function(n){this.state===ga&&(n&&n.eventType&dr?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=d$(),this.manager.emit(this.options.event,this._input)))},t}(qc),MA={domEvents:!1,touchAction:bA,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Z6=[[NA,{enable:!1}],[DA,{enable:!1},["rotate"]],[PA,{direction:Gn}],[_$,{direction:Gn},["swipe"]],[ub],[ub,{event:"doubletap",taps:2},["tap"]],[RA]],Twe=1,ex=2;function tx(r,t){var e=r.element;if(e.style){var i;va(r.options.cssProps,function(n,a){i=ld(e.style,a),t?(r.oldCssProps[i]=e.style[i],e.style[i]=n):e.style[i]=r.oldCssProps[i]||""}),t||(r.oldCssProps={})}}function Owe(r,t){var e=document.createEvent("Event");e.initEvent(r,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var rx=function(){function r(e,i){var n=this;this.options=zo({},MA,i||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=Swe(this),this.touchAction=new xA(this,this.options.touchAction),tx(this,!0),va(this.options.recognizers,function(a){var s=n.add(new a[0](a[1]));a[2]&&s.recognizeWith(a[2]),a[3]&&s.requireFailure(a[3])},this)}var t=r.prototype;return t.set=function(i){return zo(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},t.stop=function(i){this.session.stopped=i?ex:Twe},t.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var a,s=this.recognizers,o=n.curRecognizer;(!o||o&&o.state&ga)&&(n.curRecognizer=null,o=null);for(var l=0;l<s.length;)a=s[l],n.stopped!==ex&&(!o||a===o||a.canRecognizeWith(o))?a.recognize(i):a.reset(),!o&&a.state&(rn|uu|Ds)&&(n.curRecognizer=a,o=a),l++}},t.get=function(i){if(i instanceof qc)return i;for(var n=this.recognizers,a=0;a<n.length;a++)if(n[a].options.event===i)return n[a];return null},t.add=function(i){if(jl(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},t.remove=function(i){if(jl(i,"remove",this))return this;var n=this.get(i);if(i){var a=this.recognizers,s=jo(a,n);s!==-1&&(a.splice(s,1),this.touchAction.update())}return this},t.on=function(i,n){if(i===void 0||n===void 0)return this;var a=this.handlers;return va(Gf(i),function(s){a[s]=a[s]||[],a[s].push(n)}),this},t.off=function(i,n){if(i===void 0)return this;var a=this.handlers;return va(Gf(i),function(s){n?a[s]&&a[s].splice(jo(a[s],n),1):delete a[s]}),this},t.emit=function(i,n){this.options.domEvents&&Owe(i,n);var a=this.handlers[i]&&this.handlers[i].slice();if(!(!a||!a.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<a.length;)a[s](n),s++}},t.destroy=function(){this.element&&tx(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),Awe={touchstart:ii,touchmove:nl,touchend:dr,touchcancel:bi},Iwe="touchstart",Cwe="touchstart touchmove touchend touchcancel",Pwe=function(r){fn(t,r);function t(){var i,n=t.prototype;return n.evTarget=Iwe,n.evWin=Cwe,i=r.apply(this,arguments)||this,i.started=!1,i}var e=t.prototype;return e.handler=function(n){var a=Awe[n.type];if(a===ii&&(this.started=!0),!!this.started){var s=Dwe.call(this,n,a);a&(dr|bi)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:zc,srcEvent:n})}},t}(Lu);function Dwe(r,t){var e=Wf(r.touches),i=Wf(r.changedTouches);return t&(dr|bi)&&(e=b$(e.concat(i),"identifier",!0)),[e,i]}function BA(r,t,e){var i="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var n=new Error("get-stack-trace"),a=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,a),r.apply(this,arguments)}}var FA=BA(function(r,t,e){for(var i=Object.keys(t),n=0;n<i.length;)(!e||e&&r[i[n]]===void 0)&&(r[i[n]]=t[i[n]]),n++;return r},"extend","Use `assign`."),Nwe=BA(function(r,t){return FA(r,t,!0)},"merge","Use `assign`.");function Rwe(r,t,e){var i=t.prototype,n;n=r.prototype=Object.create(i),n.constructor=r,n._super=i,e&&zo(n,e)}function ix(r,t){return function(){return r.apply(t,arguments)}}var zA=function(){var r=function(e,i){return i===void 0&&(i={}),new rx(e,xn({recognizers:Z6.concat()},i))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=_A,r.DIRECTION_DOWN=lu,r.DIRECTION_LEFT=Lc,r.DIRECTION_RIGHT=jc,r.DIRECTION_UP=Uc,r.DIRECTION_HORIZONTAL=Gn,r.DIRECTION_VERTICAL=ko,r.DIRECTION_NONE=jm,r.DIRECTION_DOWN=lu,r.INPUT_START=ii,r.INPUT_MOVE=nl,r.INPUT_END=dr,r.INPUT_CANCEL=bi,r.STATE_POSSIBLE=sm,r.STATE_BEGAN=rn,r.STATE_CHANGED=uu,r.STATE_ENDED=Ds,r.STATE_RECOGNIZED=ga,r.STATE_CANCELLED=Vf,r.STATE_FAILED=Ln,r.Manager=rx,r.Input=Lu,r.TouchAction=xA,r.TouchInput=y$,r.MouseInput=$$,r.PointerEventInput=AA,r.TouchMouseInput=IA,r.SingleTouchInput=Pwe,r.Recognizer=qc,r.AttrRecognizer=fu,r.Tap=ub,r.Pan=_$,r.Swipe=PA,r.Pinch=DA,r.Rotate=NA,r.Press=RA,r.on=mf,r.off=pf,r.each=va,r.merge=Nwe,r.extend=FA,r.bindFn=ix,r.assign=zo,r.inherit=Rwe,r.bindFn=ix,r.prefixed=ld,r.toArray=Wf,r.inArray=jo,r.uniqueArray=b$,r.splitStr=Gf,r.boolOrFn=ud,r.hasParent=g$,r.addEventListeners=mf,r.removeEventListeners=pf,r.defaults=zo({},MA,{preset:Z6}),r}();zA.defaults;var Mwe=zA;function LA(r,t){var e=typeof Qs<"u"&&rl(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=Bwe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function Bwe(r,t){var e;if(r){if(typeof r=="string")return nx(r,t);var i=Hr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return tl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nx(r,t)}}function nx(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}Qs("DELETE");function fd(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return Fwe(t.length?t:[Lm()])}function Fwe(r){var t=zwe(r),e=rr(t,3),i=e[0],n=e[1],a=e[2],s=1,o=function(){var u=2091639*i+s*23283064365386963e-26;return i=n,n=a,a=u-(s=u|0)};return o.uint32=function(){return o()*4294967296},o.fract53=function(){return o()+(o()*2097152|0)*11102230246251565e-32},o.algorithm="Alea",o.seed=r,o.version="0.9",o}function zwe(){for(var r=Lwe(),t=r(" "),e=r(" "),i=r(" "),n=0;n<arguments.length;n++)t-=r(n<0||arguments.length<=n?void 0:arguments[n]),t<0&&(t+=1),e-=r(n<0||arguments.length<=n?void 0:arguments[n]),e<0&&(e+=1),i-=r(n<0||arguments.length<=n?void 0:arguments[n]),i<0&&(i+=1);return[t,e,i]}function Lwe(){var r=4022871197;return function(t){for(var e=t.toString(),i=0;i<e.length;i++){r+=e.charCodeAt(i);var n=.02519603282416938*r;r=n>>>0,n-=r,n*=r,r=n>>>0,n-=r,r+=n*4294967296}return(r>>>0)*23283064365386963e-26}}function jwe(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get:function(){return{set:r}}}}var w$=typeof window<"u"?window.Hammer||Mwe:function(){return jwe()};function jn(r){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var i=w$(this._dom.overlay);i.on("tap",Fe(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Mt(n).call(n,function(a){i.on(a,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){Uwe(a.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&t.deactivate()}}U9(jn.prototype);jn.current=null;jn.prototype.destroy=function(){var r,t;this.deactivate();var e=LA(xo(r=pa(t=this._cleanupQueue).call(t,0)).call(r)),i;try{for(e.s();!(i=e.n()).done;){var n=i.value;n()}}catch(a){e.e(a)}finally{e.f()}};jn.prototype.activate=function(){jn.current&&jn.current.deactivate(),jn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};jn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};jn.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function Uwe(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}var qwe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Hwe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Gwe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Wwe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ys(r){if(r)for(;r.hasChildNodes()===!0;){var t=r.firstChild;t&&(ys(t),r.removeChild(t))}}function _s(r){return r instanceof String||typeof r=="string"}function ax(r){return Nt(r)==="object"&&r!==null}function Uo(r,t,e,i){var n=!1;i===!0&&(n=t[e]===null&&r[e]!==void 0),n?delete r[e]:r[e]=t[e]}function jA(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var i in r)if(t[i]!==void 0)if(t[i]===null||Nt(t[i])!=="object")Uo(r,t,i,e);else{var n=r[i],a=t[i];ax(n)&&ax(a)&&jA(n,a,e)}}function ju(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Pt(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<r.length;n++){var a=r[n];if(Object.prototype.hasOwnProperty.call(e,a))if(e[a]&&e[a].constructor===Object)t[a]===void 0&&(t[a]={}),t[a].constructor===Object?zt(t[a],e[a],!1,i):Uo(t,e,a,i);else{if(Pt(e[a]))throw new TypeError("Arrays are not supported by deepExtend");Uo(t,e,a,i)}}return t}function Hm(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Pt(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!Ps(r).call(r,n))if(e[n]&&e[n].constructor===Object)t[n]===void 0&&(t[n]={}),t[n].constructor===Object?zt(t[n],e[n]):Uo(t,e,n,i);else if(Pt(e[n])){t[n]=[];for(var a=0;a<e[n].length;a++)t[n].push(e[n][a])}else Uo(t,e,n,i);return t}function zt(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)||e===!0)if(Nt(t[n])==="object"&&t[n]!==null&&F6(t[n])===Object.prototype)r[n]===void 0?r[n]=zt({},t[n],e):Nt(r[n])==="object"&&r[n]!==null&&F6(r[n])===Object.prototype?zt(r[n],t[n],e):Uo(r,t,n,i);else if(Pt(t[n])){var a;r[n]=Hr(a=t[n]).call(a)}else Uo(r,t,n,i);return r}function Gm(r,t){var e;return m$(e=[]).call(e,Mn(r),[t])}function Vwe(r){return Hr(r).call(r)}function Xwe(r){return r.getBoundingClientRect().left}function Kwe(r){return r.getBoundingClientRect().top}function pt(r,t){if(Pt(r))for(var e=r.length,i=0;i<e;i++)t(r[i],i,r);else for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(r[n],n,r)}function x$(r){var t;switch(r.length){case 3:case 4:return t=Hwe.exec(r),t?{r:bn(t[1]+t[1],16),g:bn(t[2]+t[2],16),b:bn(t[3]+t[3],16)}:null;case 6:case 7:return t=qwe.exec(r),t?{r:bn(t[1],16),g:bn(t[2],16),b:bn(t[3],16)}:null;default:return null}}function Xi(r,t){if(Ps(r).call(r,"rgba"))return r;if(Ps(r).call(r,"rgb")){var e=r.substr(Et(r).call(r,"(")+1).replace(")","").split(",");return"rgba("+e[0]+","+e[1]+","+e[2]+","+t+")"}else{var i=x$(r);return i==null?r:"rgba("+i.r+","+i.g+","+i.b+","+t+")"}}function UA(r,t,e){var i;return"#"+Hr(i=((1<<24)+(r<<16)+(t<<8)+e).toString(16)).call(i,1)}function fb(r,t){if(_s(r)){var e=r;if(HA(e)){var i,n=ou(i=e.substr(4).substr(0,e.length-5).split(",")).call(i,function(c){return bn(c)});e=UA(n[0],n[1],n[2])}if(qA(e)===!0){var a=Ywe(e),s={h:a.h,s:a.s*.8,v:Math.min(1,a.v*1.02)},o={h:a.h,s:Math.min(1,a.s*1.25),v:a.v*.8},l=cb(o.h,o.s,o.v),u=cb(s.h,s.s,s.v);return{background:e,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}else return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else if(t){var f={background:r.background||t.background,border:r.border||t.border,highlight:_s(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||t.highlight.background,border:r.highlight&&r.highlight.border||t.highlight.border},hover:_s(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||t.hover.border,background:r.hover&&r.hover.background||t.hover.background}};return f}else{var h={background:r.background||void 0,border:r.border||void 0,highlight:_s(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||void 0,border:r.highlight&&r.highlight.border||void 0},hover:_s(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||void 0,background:r.hover&&r.hover.background||void 0}};return h}}function rf(r,t,e){r=r/255,t=t/255,e=e/255;var i=Math.min(r,Math.min(t,e)),n=Math.max(r,Math.max(t,e));if(i===n)return{h:0,s:0,v:i};var a=r===i?t-e:e===i?r-t:e-r,s=r===i?3:e===i?1:5,o=60*(s-a/(n-i))/360,l=(n-i)/n,u=n;return{h:o,s:l,v:u}}function om(r,t,e){var i,n,a,s=Math.floor(r*6),o=r*6-s,l=e*(1-t),u=e*(1-o*t),f=e*(1-(1-o)*t);switch(s%6){case 0:i=e,n=f,a=l;break;case 1:i=u,n=e,a=l;break;case 2:i=l,n=e,a=f;break;case 3:i=l,n=u,a=e;break;case 4:i=f,n=l,a=e;break;case 5:i=e,n=l,a=u;break}return{r:Math.floor(i*255),g:Math.floor(n*255),b:Math.floor(a*255)}}function cb(r,t,e){var i=om(r,t,e);return UA(i.r,i.g,i.b)}function Ywe(r){var t=x$(r);if(!t)throw new TypeError("'".concat(r,"' is not a valid color."));return rf(t.r,t.g,t.b)}function qA(r){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r);return t}function HA(r){return Gwe.test(r)}function Jwe(r){return Wwe.test(r)}function Ns(r){if(r===null||Nt(r)!=="object")return null;if(r instanceof Element)return r;var t=So(r);for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&Nt(r[e])=="object"&&(t[e]=Ns(r[e]));return t}function Wi(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=function(d){return d!=null},a=function(d){return d!==null&&Nt(d)==="object"},s=function(d){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v))return!1;return!0};if(!a(r))throw new Error("Parameter mergeTarget must be an object");if(!a(t))throw new Error("Parameter options must be an object");if(!n(e))throw new Error("Parameter option must have a value");if(!a(i))throw new Error("Parameter globalOptions must be an object");var o=function(d,v,b){a(d[b])||(d[b]={});var g=v[b],y=d[b];for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(y[_]=g[_])},l=t[e],u=a(i)&&!s(i),f=u?i[e]:void 0,h=f?f.enabled:void 0;if(l!==void 0){if(typeof l=="boolean"){a(r[e])||(r[e]={}),r[e].enabled=l;return}if(l===null&&!a(r[e]))if(n(f))r[e]=So(f);else return;if(a(l)){var c=!0;l.enabled!==void 0?c=l.enabled:h!==void 0&&(c=f.enabled),o(r,t,e),r[e].enabled=c}}}var Qwe={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function $s(r,t){var e;Pt(t)||(t=[t]);var i=LA(r),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a){e=a[t[0]];for(var s=1;s<t.length;s++)e&&(e=e[t[s]]);if(typeof e<"u")break}}}catch(o){i.e(o)}finally{i.f()}return e}var Zwe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},e3e=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;qe(this,r),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return He(r,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(e){if(typeof e=="string")return Zwe[e]}},{key:"setColor",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e!=="none"){var n,a=this._isColorString(e);if(a!==void 0&&(e=a),_s(e)===!0){if(HA(e)===!0){var s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Jwe(e)===!0){var o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(qA(e)===!0){var l=x$(e);n={r:l.r,g:l.g,b:l.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var u=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:u}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Bc(e));this._setColor(n,i)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i===!0&&(this.previousColor=pr({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Hn(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i===!0&&(this.initialColor=pr({},e)),this.color=e;var n=rf(e.r,e.g,e.b),a=2*Math.PI,s=this.r*n.s,o=this.centerCoordinates.x+s*Math.sin(a*n.h),l=this.centerCoordinates.y+s*Math.cos(a*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var i=rf(this.color.r,this.color.g,this.color.b);i.v=e/100;var n=om(i.h,i.s,i.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,i=rf(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var a=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,a,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-i.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Fc(n).call(n),this.brightnessRange.value=100*i.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,i,n,a;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var l=this;this.opacityRange.onchange=function(){l._setOpacity(this.value)},this.opacityRange.oninput=function(){l._setOpacity(this.value)},this.brightnessRange.onchange=function(){l._setBrightness(this.value)},this.brightnessRange.oninput=function(){l._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Fe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Fe(i=this._apply).call(i,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Fe(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Fe(a=this._loadLast).call(a,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new w$(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(i){i.isFirst&&e._moveSelector(i)}),this.hammer.on("tap",function(i){e._moveSelector(i)}),this.hammer.on("panstart",function(i){e._moveSelector(i)}),this.hammer.on("panmove",function(i){e._moveSelector(i)}),this.hammer.on("panend",function(i){e._moveSelector(i)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,i,n);var a,s,o,l;this.centerCoordinates={x:i*.5,y:n*.5},this.r=.49*i;var u=2*Math.PI/360,f=1/360,h=1/this.r,c;for(o=0;o<360;o++)for(l=0;l<this.r;l++)a=this.centerCoordinates.x+l*Math.sin(u*o),s=this.centerCoordinates.y+l*Math.cos(u*o),c=om(o*f,l*h,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(a-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,i,n)}this.generated=!0}},{key:"_moveSelector",value:function(e){var i=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-i.left,a=e.center.y-i.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,l=n-o,u=a-s,f=Math.atan2(l,u),h=.98*Math.min(Math.sqrt(l*l+u*u),o),c=Math.cos(f)*h+s,m=Math.sin(f)*h+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=m-.5*this.colorPickerSelector.clientWidth+"px";var d=f/(2*Math.PI);d=d<0?d+1:d;var v=h/this.r,b=rf(this.color.r,this.color.g,this.color.b);b.h=d,b.s=v;var g=om(b.h,b.s,b.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),r}();function hb(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];if(t.length<1)throw new TypeError("Invalid arguments.");if(t.length===1)return document.createTextNode(t[0]);var i=document.createElement(t[0]);return i.appendChild(hb.apply(void 0,Mn(Hr(t).call(t,1)))),i}var t3e=function(){function r(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};qe(this,r),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=a,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},pr(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new e3e(n),this.wrapper=void 0}return He(r,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var i=!0;if(typeof e=="string")this.options.filter=e;else if(Pt(e))this.options.filter=e.join();else if(Nt(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),vi(e)!==void 0&&(this.options.filter=vi(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(i=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,i=e):typeof e=="function"&&(this.options.filter=e,i=!0);vi(this.options)===!1&&(i=!1),this.options.enabled=i}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=vi(this.options),i=0,n=!1;for(var a in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,a)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(a,[]),n=n||this._handleObject(this.configureOptions[a],[a],!0)):(e===!0||Et(e).call(e,a)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(a),this._handleObject(this.configureOptions[a],[a])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var i=this.moduleOptions,n=0;n<e.length;n++)if(i[e[n]]!==void 0)i=i[e[n]];else{i=void 0;break}return i}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var i=document.createElement("div");i.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return Mt(a).call(a,function(o){i.appendChild(o)}),this.domElements.push(i),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var i=document.createElement("div");i.className="vis-configuration vis-config-header",i.innerText=e,this._makeItem([],i)}},{key:"_makeLabel",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=document.createElement("div");if(a.className="vis-configuration vis-config-label vis-config-s"+i.length,n===!0){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(hb("i","b",e))}else a.innerText=e+":";return a}},{key:"_makeDropdown",value:function(e,i,n){var a=document.createElement("select");a.className="vis-configuration vis-config-select";var s=0;i!==void 0&&Et(e).call(e,i)!==-1&&(s=Et(e).call(e,i));for(var o=0;o<e.length;o++){var l=document.createElement("option");l.value=e[o],o===s&&(l.selected="selected"),l.innerText=e[o],a.appendChild(l)}var u=this;a.onchange=function(){u._update(this.value,n)};var f=this._makeLabel(n[n.length-1],n);this._makeItem(n,f,a)}},{key:"_makeRange",value:function(e,i,n){var a=e[0],s=e[1],o=e[2],l=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=l;var f="",h=0;if(i!==void 0){var c=1.2;i<0&&i*c<s?(u.min=Math.ceil(i*c),h=u.min,f="range increased"):i/c<s&&(u.min=Math.ceil(i/c),h=u.min,f="range increased"),i*c>o&&o!==1&&(u.max=Math.ceil(i*c),h=u.max,f="range increased"),u.value=i}else u.value=a;var m=document.createElement("input");m.className="vis-configuration vis-config-rangeinput",m.value=u.value;var d=this;u.onchange=function(){m.value=this.value,d._update(Number(this.value),n)},u.oninput=function(){m.value=this.value};var v=this._makeLabel(n[n.length-1],n),b=this._makeItem(n,v,u,m);f!==""&&this.popupHistory[b]!==h&&(this.popupHistory[b]=h,this._setupPopup(f,b))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var i=document.createElement("div");i.className="vis-configuration vis-config-button",i.innerText="generate options",i.onclick=function(){e._printOptions()},i.onmouseover=function(){i.className="vis-configuration vis-config-button hover"},i.onmouseout=function(){i.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(i)}}},{key:"_setupPopup",value:function(e,i){var n=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var a=document.createElement("div");a.id="vis-configuration-popup",a.className="vis-configuration-popup",a.innerText=e,a.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:a,index:i}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var i=this.domElements[this.popupDiv.index],n=i.getBoundingClientRect();this.popupDiv.html.style.left=n.left+"px",this.popupDiv.html.style.top=n.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Hn(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Hn(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,i,n){var a=document.createElement("input");a.type="checkbox",a.className="vis-configuration vis-config-checkbox",a.checked=e,i!==void 0&&(a.checked=i,i!==e&&(Nt(e)==="object"?i!==e.enabled&&this.changedOptions.push({path:n,value:i}):this.changedOptions.push({path:n,value:i})));var s=this;a.onchange=function(){s._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,a)}},{key:"_makeTextInput",value:function(e,i,n){var a=document.createElement("input");a.type="text",a.className="vis-configuration vis-config-text",a.value=i,i!==e&&this.changedOptions.push({path:n,value:i});var s=this;a.onchange=function(){s._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,a)}},{key:"_makeColorField",value:function(e,i,n){var a=this,s=e[1],o=document.createElement("div");i=i===void 0?s:i,i!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=i):o.className="vis-configuration vis-config-colorBlock none",i=i===void 0?s:i,o.onclick=function(){a._showColorPicker(i,o,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,o)}},{key:"_showColorPicker",value:function(e,i,n){var a=this;i.onclick=function(){},this.colorPicker.insertTo(i),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(s){var o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";i.style.backgroundColor=o,a._update(o,n)}),this.colorPicker.setCloseCallback(function(){i.onclick=function(){a._showColorPicker(e,i,n)}})}},{key:"_handleObject",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=vi(this.options),o=!1;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){a=!0;var u=e[l],f=Gm(i,l);if(typeof s=="function"&&(a=s(l,i),a===!1&&!Pt(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,a=this._handleObject(u,f,!0),this.allowCreation=n===!1)),a!==!1){o=!0;var h=this._getValue(f);if(Pt(u))this._handleArray(u,h,f);else if(typeof u=="string")this._makeTextInput(u,h,f);else if(typeof u=="boolean")this._makeCheckbox(u,h,f);else if(u instanceof Object){if(!this.hideOption(i,l,this.moduleOptions))if(u.enabled!==void 0){var c=Gm(f,"enabled"),m=this._getValue(c);if(m===!0){var d=this._makeLabel(l,f,!0);this._makeItem(f,d),o=this._handleObject(u,f)||o}else this._makeCheckbox(u,m,f)}else{var v=this._makeLabel(l,f,!0);this._makeItem(f,v),o=this._handleObject(u,f)||o}}else console.error("dont know how to handle",u,l,f)}}return o}},{key:"_handleArray",value:function(e,i,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,i,n),e[1]!==i&&this.changedOptions.push({path:n,value:i})):typeof e[0]=="string"?(this._makeDropdown(e,i,n),e[0]!==i&&this.changedOptions.push({path:n,value:i})):typeof e[0]=="number"&&(this._makeRange(e,i,n),e[0]!==i&&this.changedOptions.push({path:n,value:Number(i)}))}},{key:"_update",value:function(e,i){var n=this._constructOptions(e,i);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(var s=0;s<i.length;s++)i[s]!=="global"&&(a[i[s]]===void 0&&(a[i[s]]={}),s!==i.length-1?a=a[i[s]]:a[i[s]]=e);return n}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(hb("pre","const options = "+Bc(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},i=0;i<this.changedOptions.length;i++)this._constructOptions(this.changedOptions[i].value,this.changedOptions[i].path,e);return e}}]),r}(),r3e=function(){function r(t,e){qe(this,r),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return He(r,[{key:"setPosition",value:function(e,i){this.x=bn(e),this.y=bn(i)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var i=this.frame.clientHeight,n=this.frame.clientWidth,a=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,l=0;if(this.overflowMethod=="flip"){var u=!1,f=!0;this.y-i<this.padding&&(f=!1),this.x+n>s-this.padding&&(u=!0),u?o=this.x-n:o=this.x,f?l=this.y-i:l=this.y}else l=this.y-i,l+i+this.padding>a&&(l=a-i-this.padding),l<this.padding&&(l=this.padding),o=this.x,o+n+this.padding>s&&(o=s-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),r}(),Ku=!1,sx,mb="background: #FFeeee; color: #dd0000",i3e=function(){function r(){qe(this,r)}return He(r,null,[{key:"validate",value:function(e,i,n){Ku=!1,sx=i;var a=i;return n!==void 0&&(a=i[n]),r.parse(e,a,[]),Ku}},{key:"parse",value:function(e,i,n){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.check(a,e,i,n)}},{key:"check",value:function(e,i,n,a){if(n[e]===void 0&&n.__any__===void 0){r.getSuggestion(e,n,a);return}var s=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",o=r.getType(i[e])==="object");var l=n[s];o&&l.__type__!==void 0&&(l=l.__type__),r.checkFields(e,i,n,s,l,a)}},{key:"checkFields",value:function(e,i,n,a,s,o){var l=function(c){console.error("%c"+c+r.printLocation(o,e),mb)},u=r.getType(i[e]),f=s[u];f!==void 0?r.getType(f)==="array"&&Et(f).call(f,i[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+r.print(f)+' not "'+i[e]+'". '),Ku=!0):u==="object"&&a!=="__any__"&&(o=Gm(o,e),r.parse(i[e],n[a],o)):s.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+r.print(tr(s))+". Received ["+u+'] "'+i[e]+'"'),Ku=!0)}},{key:"getType",value:function(e){var i=Nt(e);return i==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Pt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":i==="number"?"number":i==="boolean"?"boolean":i==="string"?"string":i===void 0?"undefined":i}},{key:"getSuggestion",value:function(e,i,n){var a=r.findInOptions(e,i,n,!1),s=r.findInOptions(e,sx,[],!0),o=8,l=4,u;a.indexMatch!==void 0?u=" in "+r.printLocation(a.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+a.indexMatch+`"?

`:s.distance<=l&&a.distance>s.distance?u=" in "+r.printLocation(a.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+r.printLocation(s.path,s.closestMatch,""):a.distance<=o?u='. Did you mean "'+a.closestMatch+'"?'+r.printLocation(a.path,e):u=". Did you mean one of these: "+r.print(tr(i))+r.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+u,mb),Ku=!0}},{key:"findInOptions",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",l=[],u=e.toLowerCase(),f=void 0;for(var h in i){var c=void 0;if(i[h].__type__!==void 0&&a===!0){var m=r.findInOptions(e,i[h],Gm(n,h));s>m.distance&&(o=m.closestMatch,l=m.path,s=m.distance,f=m.indexMatch)}else{var d;Et(d=h.toLowerCase()).call(d,u)!==-1&&(f=h),c=r.levenshteinDistance(e,h),s>c&&(o=h,l=Vwe(n),s=c)}}return{closestMatch:o,path:l,distance:s,indexMatch:f}}},{key:"printLocation",value:function(e,i){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,a=`

`+n+`options = {
`,s=0;s<e.length;s++){for(var o=0;o<s+1;o++)a+="  ";a+=e[s]+`: {
`}for(var l=0;l<e.length+1;l++)a+="  ";a+=i+`
`;for(var u=0;u<e.length+1;u++){for(var f=0;f<e.length-u;f++)a+="  ";a+=`}
`}return a+`

`}},{key:"print",value:function(e){return Bc(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,i){if(e.length===0)return i.length;if(i.length===0)return e.length;var n=[],a;for(a=0;a<=i.length;a++)n[a]=[a];var s;for(s=0;s<=e.length;s++)n[0][s]=s;for(a=1;a<=i.length;a++)for(s=1;s<=e.length;s++)i.charAt(a-1)==e.charAt(s-1)?n[a][s]=n[a-1][s-1]:n[a][s]=Math.min(n[a-1][s-1]+1,Math.min(n[a][s-1]+1,n[a-1][s]+1));return n[i.length][e.length]}}]),r}(),n3e=jn,a3e=t3e,Wl=w$,s3e=r3e,GA=mb,o3e=i3e;function l3e(r){return Es=r,h3e()}var WA={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},S$=So(WA);S$.color="color.color";S$.style="dashes";var Yr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},ox={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Es="",cu=0,ht="",nt="",ci=Yr.NULL;function u3e(){cu=0,ht=Es.charAt(0)}function Er(){cu++,ht=Es.charAt(cu)}function kl(){return Es.charAt(cu+1)}function lx(r){var t=r.charCodeAt(0);return t<47?t===35||t===46:t<59?t>47:t<91?t>64:t<96?t===95:t<123?t>96:!1}function Us(r,t){if(r||(r={}),t)for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function f3e(r,t,e){for(var i=t.split("."),n=r;i.length;){var a=i.shift();i.length?(n[a]||(n[a]={}),n=n[a]):n[a]=e}}function VA(r,t){for(var e,i,n=null,a=[r],s=r;s.parent;)a.push(s.parent),s=s.parent;if(s.nodes){for(e=0,i=s.nodes.length;e<i;e++)if(t.id===s.nodes[e].id){n=s.nodes[e];break}}for(n||(n={id:t.id},r.node&&(n.attr=Us(n.attr,r.node))),e=a.length-1;e>=0;e--){var o,l=a[e];l.nodes||(l.nodes=[]),Et(o=l.nodes).call(o,n)===-1&&l.nodes.push(n)}t.attr&&(n.attr=Us(n.attr,t.attr))}function c3e(r,t){if(r.edges||(r.edges=[]),r.edges.push(t),r.edge){var e=Us({},r.edge);t.attr=Us(e,t.attr)}}function XA(r,t,e,i,n){var a={from:t,to:e,type:i};return r.edge&&(a.attr=Us({},r.edge)),a.attr=Us(a.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(a.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),a}function Lt(){for(ci=Yr.NULL,nt="";ht===" "||ht==="	"||ht===`
`||ht==="\r";)Er();do{var r=!1;if(ht==="#"){for(var t=cu-1;Es.charAt(t)===" "||Es.charAt(t)==="	";)t--;if(Es.charAt(t)===`
`||Es.charAt(t)===""){for(;ht!=""&&ht!=`
`;)Er();r=!0}}if(ht==="/"&&kl()==="/"){for(;ht!=""&&ht!=`
`;)Er();r=!0}if(ht==="/"&&kl()==="*"){for(;ht!="";)if(ht==="*"&&kl()==="/"){Er(),Er();break}else Er();r=!0}for(;ht===" "||ht==="	"||ht===`
`||ht==="\r";)Er()}while(r);if(ht===""){ci=Yr.DELIMITER;return}var e=ht+kl();if(ox[e]){ci=Yr.DELIMITER,nt=e,Er(),Er();return}if(ox[ht]){ci=Yr.DELIMITER,nt=ht,Er();return}if(lx(ht)||ht==="-"){for(nt+=ht,Er();lx(ht);)nt+=ht,Er();nt==="false"?nt=!1:nt==="true"?nt=!0:isNaN(Number(nt))||(nt=Number(nt)),ci=Yr.IDENTIFIER;return}if(ht==='"'){for(Er();ht!=""&&(ht!='"'||ht==='"'&&kl()==='"');)ht==='"'?(nt+=ht,Er()):ht==="\\"&&kl()==="n"?(nt+=`
`,Er()):nt+=ht,Er();if(ht!='"')throw Jr('End of string " expected');Er(),ci=Yr.IDENTIFIER;return}for(ci=Yr.UNKNOWN;ht!="";)nt+=ht,Er();throw new SyntaxError('Syntax error in part "'+QA(nt,30)+'"')}function h3e(){var r={};if(u3e(),Lt(),nt==="strict"&&(r.strict=!0,Lt()),(nt==="graph"||nt==="digraph")&&(r.type=nt,Lt()),ci===Yr.IDENTIFIER&&(r.id=nt,Lt()),nt!="{")throw Jr("Angle bracket { expected");if(Lt(),KA(r),nt!="}")throw Jr("Angle bracket } expected");if(Lt(),nt!=="")throw Jr("End of file expected");return Lt(),delete r.node,delete r.edge,delete r.graph,r}function KA(r){for(;nt!==""&&nt!="}";)m3e(r),nt===";"&&Lt()}function m3e(r){var t=YA(r);if(t){JA(r,t);return}var e=p3e(r);if(!e){if(ci!=Yr.IDENTIFIER)throw Jr("Identifier expected");var i=nt;if(Lt(),nt==="="){if(Lt(),ci!=Yr.IDENTIFIER)throw Jr("Identifier expected");r[i]=nt,Lt()}else d3e(r,i)}}function YA(r){var t=null;if(nt==="subgraph"&&(t={},t.type="subgraph",Lt(),ci===Yr.IDENTIFIER&&(t.id=nt,Lt())),nt==="{"){if(Lt(),t||(t={}),t.parent=r,t.node=r.node,t.edge=r.edge,t.graph=r.graph,KA(t),nt!="}")throw Jr("Angle bracket } expected");Lt(),delete t.node,delete t.edge,delete t.graph,delete t.parent,r.subgraphs||(r.subgraphs=[]),r.subgraphs.push(t)}return t}function p3e(r){return nt==="node"?(Lt(),r.node=df(),"node"):nt==="edge"?(Lt(),r.edge=df(),"edge"):nt==="graph"?(Lt(),r.graph=df(),"graph"):null}function d3e(r,t){var e={id:t},i=df();i&&(e.attr=i),VA(r,e),JA(r,t)}function JA(r,t){for(;nt==="->"||nt==="--";){var e,i=nt;Lt();var n=YA(r);if(n)e=n;else{if(ci!=Yr.IDENTIFIER)throw Jr("Identifier or subgraph expected");e=nt,VA(r,{id:e}),Lt()}var a=df(),s=XA(r,t,e,i,a);c3e(r,s),t=e}}function df(){for(var r,t=null,e={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,a=new Array;nt==="[";){for(Lt(),t={};nt!==""&&nt!="]";){if(ci!=Yr.IDENTIFIER)throw Jr("Attribute name expected");var s=nt;if(Lt(),nt!="=")throw Jr("Equal sign = expected");if(Lt(),ci!=Yr.IDENTIFIER)throw Jr("Attribute value expected");var o=nt;s==="style"&&(o=e[o]);var l;s==="arrowhead"&&(l=i[o],s="arrows",o={to:{enabled:!0,type:l}}),s==="arrowtail"&&(l=i[o],s="arrows",o={from:{enabled:!0,type:l}}),n.push({attr:t,name:s,value:o}),a.push(s),Lt(),nt==","&&Lt()}if(nt!="]")throw Jr("Bracket ] expected");Lt()}if(Ps(a).call(a,"dir")){var u={};for(u.arrows={},r=0;r<n.length;r++)if(n[r].name==="arrows")if(n[r].value.to!=null)u.arrows.to=r;else if(n[r].value.from!=null)u.arrows.from=r;else throw Jr("Invalid value of arrows");else n[r].name==="dir"&&(u.dir=r);var f=n[u.dir].value;if(!Ps(a).call(a,"arrows"))if(f==="both")n.push({attr:n[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=n.length-1,n.push({attr:n[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=n.length-1;else if(f==="forward")n.push({attr:n[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=n.length-1;else if(f==="back")n.push({attr:n[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=n.length-1;else if(f==="none")n.push({attr:n[u.dir].attr,name:"arrows",value:""}),u.arrows.to=n.length-1;else throw Jr('Invalid dir type "'+f+'"');var h,c;if(f==="both")u.arrows.to&&u.arrows.from?(c=n[u.arrows.to].value.to.type,h=n[u.arrows.from].value.from.type,n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}},pa(n).call(n,u.arrows.from,1)):u.arrows.to?(c=n[u.arrows.to].value.to.type,h="arrow",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.from&&(c="arrow",h=n[u.arrows.from].value.from.type,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}});else if(f==="back")u.arrows.to&&u.arrows.from?(c="",h=n[u.arrows.from].value.from.type,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.to?(c="",h="arrow",u.arrows.from=u.arrows.to,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.from&&(c="",h=n[u.arrows.from].value.from.type,n[u.arrows.to]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}),n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{from:{enabled:!0,type:n[u.arrows.from].value.from.type}}};else if(f==="none"){var m;u.arrows.to?m=u.arrows.to:m=u.arrows.from,n[m]={attr:n[m].attr,name:n[m].name,value:""}}else if(f==="forward")u.arrows.to&&u.arrows.from?(c=n[u.arrows.to].value.to.type,h="",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.to?(c=n[u.arrows.to].value.to.type,h="",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.from&&(c="arrow",h="",u.arrows.to=u.arrows.from,n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}),n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:n[u.arrows.to].value.to.type}}};else throw Jr('Invalid dir type "'+f+'"');pa(n).call(n,u.dir,1)}var d;if(Ps(a).call(a,"penwidth")){var v=[];for(d=n.length,r=0;r<d;r++)n[r].name!=="width"&&(n[r].name==="penwidth"&&(n[r].name="width"),v.push(n[r]));n=v}for(d=n.length,r=0;r<d;r++)f3e(n[r].attr,n[r].name,n[r].value);return t}function Jr(r){return new SyntaxError(r+', got "'+QA(nt,30)+'" (char '+cu+")")}function QA(r,t){return r.length<=t?r:r.substr(0,27)+"..."}function v3e(r,t,e){Pt(r)?Mt(r).call(r,function(i){Pt(t)?Mt(t).call(t,function(n){e(i,n)}):e(i,t)}):Pt(t)?Mt(t).call(t,function(i){e(r,i)}):e(r,t)}function gg(r,t,e){for(var i=t.split("."),n=i.pop(),a=r,s=0;s<i.length;s++){var o=i[s];o in a||(a[o]={}),a=a[o]}return a[n]=e,r}function ux(r,t){var e={};for(var i in r)if(r.hasOwnProperty(i)){var n=t[i];Pt(n)?Mt(n).call(n,function(a){gg(e,a,r[i])}):typeof n=="string"?gg(e,n,r[i]):gg(e,i,r[i])}return e}function g3e(r){var t=l3e(r),e={nodes:[],edges:[],options:{}};if(t.nodes){var i;Mt(i=t.nodes).call(i,function(s){var o={id:s.id,label:String(s.label||s.id)};Us(o,ux(s.attr,WA)),o.image&&(o.shape="image"),e.nodes.push(o)})}if(t.edges){var n,a=function(o){var l={from:o.from,to:o.to};return Us(l,ux(o.attr,S$)),l.arrows==null&&o.type==="->"&&(l.arrows="to"),l};Mt(n=t.edges).call(n,function(s){var o,l;if(s.from instanceof Object?o=s.from.nodes:o={id:s.from},s.to instanceof Object?l=s.to.nodes:l={id:s.to},s.from instanceof Object&&s.from.edges){var u;Mt(u=s.from.edges).call(u,function(h){var c=a(h);e.edges.push(c)})}if(v3e(o,l,function(h,c){var m=XA(e,h.id,c.id,s.type,s.attr),d=a(m);e.edges.push(d)}),s.to instanceof Object&&s.to.edges){var f;Mt(f=s.to.edges).call(f,function(h){var c=a(h);e.edges.push(c)})}})}return t.attr&&(e.options=t.attr),e}function b3e(r,t){var e,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};t!=null&&(t.fixed!=null&&(i.nodes.fixed=t.fixed),t.parseColor!=null&&(i.nodes.parseColor=t.parseColor),t.inheritColor!=null&&(i.edges.inheritColor=t.inheritColor));var n=r.edges,a=ou(n).call(n,function(o){var l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&i.edges.inheritColor===!1&&(l.color=o.color),l}),s=ou(e=r.nodes).call(e,function(o){var l={id:o.id,fixed:i.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(i.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l});return{nodes:s,edges:a}}var y3e={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},$3e={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},_3e={addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},w3e={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},x3e={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},S3e={addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},E3e={addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},k3e={addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},T3e={addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},O3e={addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},A3e={addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},I3e=Object.freeze({__proto__:null,cn:k3e,cs:A3e,de:$3e,en:y3e,es:_3e,fr:O3e,it:w3e,nl:x3e,pt:S3e,ru:E3e,uk:T3e});function C3e(r,t){try{var e=t.split(/[-_ /]/,2),i=rr(e,2),n=i[0],a=i[1],s=n!=null?n.toLowerCase():null,o=a!=null?a.toUpperCase():null;if(s&&o){var l=s+"-"+o;if(Object.prototype.hasOwnProperty.call(r,l))return l;var u;console.warn(m$(u="Unknown variant ".concat(o," of language ")).call(u,s,"."))}if(s){var f=s;if(Object.prototype.hasOwnProperty.call(r,f))return f;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(h){return console.error(h),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}var P3e=function(){function r(){qe(this,r),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return He(r,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,i=this.image.height;this.width=e,this.height=i;var n=Math.floor(i/2),a=Math.floor(i/4),s=Math.floor(i/8),o=Math.floor(i/16),l=Math.floor(e/2),u=Math.floor(e/4),f=Math.floor(e/8),h=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=n,this.coordinates=[[0,0,l,n],[l,0,u,a],[l,a,f,s],[5*f,a,h,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),i=this.coordinates[0];e.drawImage(this.image,i[0],i[1],i[2],i[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var a=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,a[0],a[1],a[2],a[3],s[0],s[1],s[2],s[3])}}},{key:"drawImageAtPosition",value:function(e,i,n,a,s,o){if(this.initialized())if(i>2){i*=.5;for(var l=0;i>2&&l<this.NUM_ITERATIONS;)i*=.5,l+=1;l>=this.NUM_ITERATIONS&&(l=this.NUM_ITERATIONS-1);var u=this.coordinates[l];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],n,a,s,o)}else e.drawImage(this.image,n,a,s,o)}}]),r}(),D3e=function(){function r(t){qe(this,r),this.images={},this.imageBroken={},this.callback=t}return He(r,[{key:"_tryloadBrokenUrl",value:function(e,i,n){if(!(e===void 0||n===void 0)){if(i===void 0){console.warn("No broken url image defined");return}n.image.onerror=function(){console.error("Could not load brokenImage:",i)},n.image.src=i}}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,i){var n=this,a=this.images[e];if(a)return a;var s=new P3e;return this.images[e]=s,s.image.onload=function(){n._fixImageCoordinates(s.image),s.init(),n._redrawWithImage(s)},s.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,i,s)},s.image.src=e,s}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),r}(),ZA={exports:{}},N3e=kt,R3e=N3e(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),M3e=kt,B3e=Dr,F3e=Aa,fx=R3e,lm=Object.isExtensible,z3e=M3e(function(){lm(1)}),L3e=z3e||fx?function(t){return!B3e(t)||fx&&F3e(t)==="ArrayBuffer"?!1:lm?lm(t):!0}:lm,j3e=kt,eI=!j3e(function(){return Object.isExtensible(Object.preventExtensions({}))}),U3e=at,q3e=At,H3e=Ac,G3e=Dr,E$=Nr,W3e=Bi.f,cx=Dc,V3e=td,k$=L3e,X3e=Hp,K3e=eI,tI=!1,Ea=X3e("meta"),Y3e=0,T$=function(r){W3e(r,Ea,{value:{objectID:"O"+Y3e++,weakData:{}}})},J3e=function(r,t){if(!G3e(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!E$(r,Ea)){if(!k$(r))return"F";if(!t)return"E";T$(r)}return r[Ea].objectID},Q3e=function(r,t){if(!E$(r,Ea)){if(!k$(r))return!0;if(!t)return!1;T$(r)}return r[Ea].weakData},Z3e=function(r){return K3e&&tI&&k$(r)&&!E$(r,Ea)&&T$(r),r},e5e=function(){t5e.enable=function(){},tI=!0;var r=cx.f,t=q3e([].splice),e={};e[Ea]=1,r(e).length&&(cx.f=function(i){for(var n=r(i),a=0,s=n.length;a<s;a++)if(n[a]===Ea){t(n,a,1);break}return n},U3e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:V3e.f}))},t5e=ZA.exports={enable:e5e,fastKey:J3e,getWeakData:Q3e,onFreeze:Z3e};H3e[Ea]=!0;var cd=ZA.exports,r5e=Tc,i5e=Mi,n5e=Fi,a5e=Pu,s5e=tO,o5e=un,hx=cr,l5e=sO,u5e=Zp,mx=eO,f5e=TypeError,um=function(r,t){this.stopped=r,this.result=t},px=um.prototype,O$=function(r,t,e){var i=e&&e.that,n=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_RECORD),s=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=r5e(t,i),u,f,h,c,m,d,v,b=function(y){return u&&mx(u,"normal",y),new um(!0,y)},g=function(y){return n?(n5e(y),o?l(y[0],y[1],b):l(y[0],y[1])):o?l(y,b):l(y)};if(a)u=r.iterator;else if(s)u=r;else{if(f=u5e(r),!f)throw new f5e(a5e(r)+" is not iterable");if(s5e(f)){for(h=0,c=o5e(r);c>h;h++)if(m=g(r[h]),m&&hx(px,m))return m;return new um(!1)}u=l5e(r,f)}for(d=a?r.next:u.next;!(v=i5e(d,u)).done;){try{m=g(v.value)}catch(y){mx(u,"throw",y)}if(typeof m=="object"&&m&&hx(px,m))return m}return new um(!1)},c5e=cr,h5e=TypeError,A$=function(r,t){if(c5e(t,r))return r;throw new h5e("Incorrect invocation")},m5e=at,p5e=ar,d5e=cd,v5e=kt,g5e=Nu,b5e=O$,y5e=A$,$5e=Cr,_5e=Dr,w5e=Iu,x5e=Mu,S5e=Bi.f,E5e=Js.forEach,k5e=Pr,rI=el,T5e=rI.set,O5e=rI.getterFor,I$=function(r,t,e){var i=r.indexOf("Map")!==-1,n=r.indexOf("Weak")!==-1,a=i?"set":"add",s=p5e[r],o=s&&s.prototype,l={},u;if(!k5e||!$5e(s)||!(n||o.forEach&&!v5e(function(){new s().entries().next()})))u=e.getConstructor(t,r,i,a),d5e.enable();else{u=t(function(c,m){T5e(y5e(c,f),{type:r,collection:new s}),w5e(m)||b5e(m,c[a],{that:c,AS_ENTRIES:i})});var f=u.prototype,h=O5e(r);E5e(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(c){var m=c==="add"||c==="set";c in o&&!(n&&c==="clear")&&g5e(f,c,function(d,v){var b=h(this).collection;if(!m&&n&&!_5e(d))return c==="get"?void 0:!1;var g=b[c](d===0?0:d,v);return m?this:g})}),n||S5e(f,"size",{configurable:!0,get:function(){return h(this).collection.size}})}return x5e(u,r,!1,!0),l[r]=u,m5e({global:!0,forced:!0},l),n||e.setStrong(u,r,i),u},A5e=Cc,C$=function(r,t,e){for(var i in t)e&&e.unsafe&&r[i]?r[i]=t[i]:A5e(r,i,t[i],e);return r},I5e=ln,C5e=o$,P5e=sr,D5e=Pr,dx=P5e("species"),N5e=function(r){var t=I5e(r);D5e&&t&&!t[dx]&&C5e(t,dx,{configurable:!0,get:function(){return this}})},R5e=Ru,M5e=o$,vx=C$,B5e=Tc,F5e=A$,z5e=Iu,L5e=O$,j5e=r$,Bh=i$,U5e=N5e,Yu=Pr,gx=cd.fastKey,iI=el,bx=iI.set,bg=iI.getterFor,nI={getConstructor:function(r,t,e,i){var n=r(function(u,f){F5e(u,a),bx(u,{type:t,index:R5e(null),first:void 0,last:void 0,size:0}),Yu||(u.size=0),z5e(f)||L5e(f,u[i],{that:u,AS_ENTRIES:e})}),a=n.prototype,s=bg(t),o=function(u,f,h){var c=s(u),m=l(u,f),d,v;return m?m.value=h:(c.last=m={index:v=gx(f,!0),key:f,value:h,previous:d=c.last,next:void 0,removed:!1},c.first||(c.first=m),d&&(d.next=m),Yu?c.size++:u.size++,v!=="F"&&(c.index[v]=m)),u},l=function(u,f){var h=s(u),c=gx(f),m;if(c!=="F")return h.index[c];for(m=h.first;m;m=m.next)if(m.key===f)return m};return vx(a,{clear:function(){for(var f=this,h=s(f),c=h.index,m=h.first;m;)m.removed=!0,m.previous&&(m.previous=m.previous.next=void 0),delete c[m.index],m=m.next;h.first=h.last=void 0,Yu?h.size=0:f.size=0},delete:function(u){var f=this,h=s(f),c=l(f,u);if(c){var m=c.next,d=c.previous;delete h.index[c.index],c.removed=!0,d&&(d.next=m),m&&(m.previous=d),h.first===c&&(h.first=m),h.last===c&&(h.last=d),Yu?h.size--:f.size--}return!!c},forEach:function(f){for(var h=s(this),c=B5e(f,arguments.length>1?arguments[1]:void 0),m;m=m?m.next:h.first;)for(c(m.value,m.key,this);m&&m.removed;)m=m.previous},has:function(f){return!!l(this,f)}}),vx(a,e?{get:function(f){var h=l(this,f);return h&&h.value},set:function(f,h){return o(this,f===0?0:f,h)}}:{add:function(f){return o(this,f=f===0?0:f,f)}}),Yu&&M5e(a,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(r,t,e){var i=t+" Iterator",n=bg(t),a=bg(i);j5e(r,t,function(s,o){bx(this,{type:i,target:s,state:n(s),kind:o,last:void 0})},function(){for(var s=a(this),o=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,Bh(void 0,!0)):Bh(o==="keys"?l.key:o==="values"?l.value:[l.key,l.value],!1)},e?"entries":"values",!e,!0),U5e(t)}},q5e=I$,H5e=nI;q5e("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},H5e);var G5e=Tt,W5e=G5e.Map,V5e=W5e,X5e=V5e,K5e=X5e,aI=Je(K5e),Y5e=function(){function r(){qe(this,r),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},pr(this.options,this.defaultOptions)}return He(r,[{key:"setOptions",value:function(e){var i=["useDefaultGroups"];if(e!==void 0){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Et(i).call(i,n)===-1){var a=e[n];this.add(n,a)}}}},{key:"clear",value:function(){this._groups=new aI,this._groupNames=[]}},{key:"get",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&i)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var a=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[a]),this._groups.set(e,n)}else{var s=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[s],this._groups.set(e,n)}return n}},{key:"add",value:function(e,i){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,i),i}}]),r}(),J5e=at;J5e({target:"Number",stat:!0},{isNaN:function(t){return t!==t}});var Q5e=Tt,Z5e=Q5e.Number.isNaN,e6e=Z5e,t6e=e6e,r6e=t6e,pb=Je(r6e),i6e=ar,n6e=i6e.isFinite,a6e=Number.isFinite||function(t){return typeof t=="number"&&n6e(t)},s6e=at,o6e=a6e;s6e({target:"Number",stat:!0},{isFinite:o6e});var l6e=Tt,u6e=l6e.Number.isFinite,f6e=u6e,c6e=f6e,h6e=c6e,po=Je(h6e),m6e=at,p6e=Js.some,d6e=zu,v6e=d6e("some");m6e({target:"Array",proto:!0,forced:!v6e},{some:function(t){return p6e(this,t,arguments.length>1?arguments[1]:void 0)}});var g6e=Rr,b6e=g6e("Array").some,y6e=cr,$6e=b6e,yg=Array.prototype,_6e=function(r){var t=r.some;return r===yg||y6e(yg,r)&&t===yg.some?$6e:t},w6e=_6e,x6e=w6e,S6e=x6e,E6e=Je(S6e),k6e=Tt,T6e=k6e.Object.getOwnPropertySymbols,O6e=T6e,A6e=O6e,I6e=A6e,qs=Je(I6e),sI={exports:{}},C6e=at,P6e=kt,D6e=ta,oI=Au.f,lI=Pr,N6e=!lI||P6e(function(){oI(1)});C6e({target:"Object",stat:!0,forced:N6e,sham:!lI},{getOwnPropertyDescriptor:function(t,e){return oI(D6e(t),e)}});var R6e=Tt,uI=R6e.Object,M6e=sI.exports=function(t,e){return uI.getOwnPropertyDescriptor(t,e)};uI.getOwnPropertyDescriptor.sham&&(M6e.sham=!0);var B6e=sI.exports,F6e=B6e,fI=F6e,z6e=fI,Zs=Je(z6e),L6e=at,j6e=Pr,U6e=n$e,q6e=ta,H6e=Au,G6e=Fu;L6e({target:"Object",stat:!0,sham:!j6e},{getOwnPropertyDescriptors:function(t){for(var e=q6e(t),i=H6e.f,n=U6e(e),a={},s=0,o,l;n.length>s;)l=i(e,o=n[s++]),l!==void 0&&G6e(a,o,l);return a}});var W6e=Tt,V6e=W6e.Object.getOwnPropertyDescriptors,X6e=V6e,K6e=X6e,Y6e=K6e,Hs=Je(Y6e),cI={exports:{}},J6e=at,Q6e=Pr,yx=Yp.f;J6e({target:"Object",stat:!0,forced:Object.defineProperties!==yx,sham:!Q6e},{defineProperties:yx});var Z6e=Tt,hI=Z6e.Object,exe=cI.exports=function(t,e){return hI.defineProperties(t,e)};hI.defineProperties.sham&&(exe.sham=!0);var txe=cI.exports,rxe=txe,ixe=rxe,nxe=ixe,hd=Je(nxe),axe=vO,md=Je(axe);function pd(r,t,e){return t=KO(t),t in r?ed(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var mI=ar,sxe=kt,oxe=At,lxe=ra,uxe=oA.trim,fxe=p$,cxe=oxe("".charAt),Wm=mI.parseFloat,$x=mI.Symbol,_x=$x&&$x.iterator,hxe=1/Wm(fxe+"-0")!==-1/0||_x&&!sxe(function(){Wm(Object(_x))}),mxe=hxe?function(t){var e=uxe(lxe(t)),i=Wm(e);return i===0&&cxe(e,0)==="-"?-0:i}:Wm,pxe=at,wx=mxe;pxe({global:!0,forced:parseFloat!==wx},{parseFloat:wx});var dxe=Tt,vxe=dxe.parseFloat,gxe=vxe,bxe=gxe,yxe=bxe,pI=Je(yxe),$xe=at,_xe=kt,wxe=td.f,xxe=_xe(function(){return!Object.getOwnPropertyNames(1)});$xe({target:"Object",stat:!0,forced:xxe},{getOwnPropertyNames:wxe});var Sxe=Tt,Exe=Sxe.Object,kxe=function(t){return Exe.getOwnPropertyNames(t)},Txe=kxe,Oxe=Txe,Axe=Oxe,Ixe=Je(Axe);function P$(r,t){var e=["node","edge","label"],i=!0,n=$s(t,"chosen");if(typeof n=="boolean")i=n;else if(Nt(n)==="object"){if(Et(e).call(e,r)===-1)throw new Error("choosify: subOption '"+r+"' should be one of '"+e.join("', '")+"'");var a=$s(t,["chosen",r]);(typeof a=="boolean"||typeof a=="function")&&(i=a)}return i}function db(r,t,e){if(r.width<=0||r.height<=0)return!1;if(e!==void 0){var i={x:t.x-e.x,y:t.y-e.y};if(e.angle!==0){var n=-e.angle,a={x:Math.cos(n)*i.x-Math.sin(n)*i.y,y:Math.sin(n)*i.x+Math.cos(n)*i.y};t=a}else t=i}var s=r.x+r.width,o=r.y+r.width;return r.left<t.x&&s>t.x&&r.top<t.y&&o>t.y}function Vm(r){return typeof r=="string"&&r!==""}function dI(r,t,e,i){var n=i.x,a=i.y;if(typeof i.distanceToBorder=="function"){var s=i.distanceToBorder(r,t),o=Math.sin(t)*s,l=Math.cos(t)*s;l===s?(n+=s,a=i.y):o===s?(n=i.x,a-=s):(n+=l,a-=o)}else i.shape.width>i.shape.height?(n=i.x+i.shape.width*.5,a=i.y-e):(n=i.x+e,a=i.y-i.shape.height*.5);return{x:n,y:a}}var Cxe=Rr,Pxe=Cxe("Array").values,Dxe=Pxe,Nxe=Dxe,Rxe=Zo,Mxe=Nr,Bxe=cr,Fxe=Nxe,$g=Array.prototype,zxe={DOMTokenList:!0,NodeList:!0},Lxe=function(r){var t=r.values;return r===$g||Bxe($g,r)&&t===$g.values||Mxe(zxe,Rxe(r))?Fxe:t},jxe=Lxe,vI=Je(jxe),Uxe=function(){function r(t){qe(this,r),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return He(r,[{key:"_add",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var a=i;(i===void 0||i==="")&&(a=" ");var s=this.measureText(a,n),o=pr({},vI(s));o.text=i,o.width=s.width,o.mod=n,(i===void 0||i==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,i)}},{key:"newLine",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,i),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var i=this.lines[e],n=0;if(i.blocks!==void 0)for(var a=0;a<i.blocks.length;a++){var s=i.blocks[a];n<s.height&&(n=s.height)}i.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,i=0,n=0;n<this.lines.length;n++){var a=this.lines[n];a.width>e&&(e=a.width),i+=a.height}this.width=e,this.height=i}},{key:"removeEmptyBlocks",value:function(){for(var e=[],i=0;i<this.lines.length;i++){var n=this.lines[i];if(n.blocks.length!==0&&!(i===this.lines.length-1&&n.width===0)){var a={};pr(a,n),a.blocks=[];for(var s=void 0,o=[],l=0;l<n.blocks.length;l++){var u=n.blocks[l];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),a.blocks=o,e.push(a)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),r}(),qxe={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},xx=function(){function r(t){qe(this,r),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return He(r,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,i){return!this.mono&&!this[e]&&this.match(i)?(this.setTag(e),!0):!1}},{key:"match",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.prepareRegExp(e),a=rr(n,2),s=a[0],o=a[1],l=s.test(this.text.substr(this.position,o));return l&&i&&(this.position+=o-1),l}},{key:"parseEndTag",value:function(e,i,n){var a=this.mod()===e;return e==="mono"?a=a&&this.mono:a=a&&!this.mono,a&&this.match(i)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}},{key:"replace",value:function(e,i){return this.match(e)?(this.add(i),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(e){var i,n;if(e instanceof RegExp)n=e,i=1;else{var a=qxe[e];a!==void 0?n=a:n=new RegExp(e),i=e.length}return[n,i]}}]),r}(),Hxe=function(){function r(t,e,i,n){var a=this;qe(this,r),this.ctx=t,this.parent=e,this.selected=i,this.hover=n;var s=function(l,u){if(l===void 0)return 0;var f=a.parent.getFormattingValues(t,i,n,u),h=0;if(l!==""){var c=a.ctx.measureText(l);h=c.width}return{width:h,values:f}};this.lines=new Uxe(s)}return He(r,[{key:"process",value:function(e){if(!Vm(e))return this.lines.finalize();var i=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);var n=String(e).split(`
`),a=n.length;if(i.multi)for(var s=0;s<a;s++){var o=this.splitBlocks(n[s],i.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(i.maxWdt>0)for(var l=0;l<o.length;l++){var u=o[l].mod,f=o[l].text;this.splitStringIntoLines(f,u,!0)}else for(var h=0;h<o.length;h++){var c=o[h].mod,m=o[h].text;this.lines.append(m,c)}this.lines.newLine()}}else if(i.maxWdt>0)for(var d=0;d<a;d++)this.splitStringIntoLines(n[d]);else for(var v=0;v<a;v++)this.lines.newLine(n[v]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var i="none";return e==="markdown"||e==="md"?i="markdown":(e===!0||e==="html")&&(i="html"),i}},{key:"splitHtmlBlocks",value:function(e){for(var i=new xx(e),n=function(l){if(/&/.test(l)){var u=i.replace(i.text,"&lt;","<")||i.replace(i.text,"&amp;","&");return u||i.add("&"),!0}return!1};i.position<i.text.length;){var a=i.text.charAt(i.position),s=i.parseWS(a)||/</.test(a)&&(i.parseStartTag("bold","<b>")||i.parseStartTag("ital","<i>")||i.parseStartTag("mono","<code>")||i.parseEndTag("bold","</b>")||i.parseEndTag("ital","</i>")||i.parseEndTag("mono","</code>"))||n(a);s||i.add(a),i.position++}return i.emitBlock(),i.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var i=this,n=new xx(e),a=!0,s=function(f){return/\\/.test(f)?(n.position<i.text.length+1&&(n.position++,f=i.text.charAt(n.position),/ \t/.test(f)?n.spacing=!0:(n.add(f),a=!1)),!0):!1};n.position<n.text.length;){var o=n.text.charAt(n.position),l=n.parseWS(o)||s(o)||(a||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono");l||(n.add(o),a=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,i){var n=this.decodeMarkupSystem(i);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}},{key:"overMaxWidth",value:function(e){var i=this.ctx.measureText(e).width;return this.lines.curWidth()+i>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var i="",n=0;n<e.length;){var a=i===""?"":" ",s=i+a+e[n];if(this.overMaxWidth(s))break;i=s,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var i=0;i<e.length&&!this.overMaxWidth(Hr(e).call(e,0,i));)i++;return i}},{key:"splitStringIntoLines",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,i),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var a=e.split("\r");a.length>0;){var s=this.getLongestFit(a);if(s===0){var o=a[0],l=this.getLongestFitWord(o);this.lines.newLine(Hr(o).call(o,0,l),i),a[0]=Hr(o).call(o,l)}else{var u=s;a[s-1]===" "?s--:a[u]===" "&&u++;var f=Hr(a).call(a,0,s).join("");s==a.length&&n?this.lines.append(f,i):this.lines.newLine(f,i),a=Hr(a).call(a,u)}}}}]),r}(),Ju=["bold","ital","boldital","mono"],gI=function(){function r(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;qe(this,r),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return He(r,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),Vm(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(Nt(e.font)==="object"){var i=e.font.size;i!==void 0&&(this.baseSize=i)}}}},{key:"initFontOptions",value:function(e){var i=this;if(pt(Ju,function(n){i.fontOptions[n]={}}),r.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}pt(e,function(n,a){n!=null&&Nt(n)!=="object"&&(i.fontOptions[a]=n)})}},{key:"constrain",value:function(e){var i={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=$s(e,"widthConstraint");if(typeof n=="number")i.maxWdt=Number(n),i.minWdt=Number(n);else if(Nt(n)==="object"){var a=$s(e,["widthConstraint","maximum"]);typeof a=="number"&&(i.maxWdt=Number(a));var s=$s(e,["widthConstraint","minimum"]);typeof s=="number"&&(i.minWdt=Number(s))}var o=$s(e,"heightConstraint");if(typeof o=="number")i.minHgt=Number(o);else if(Nt(o)==="object"){var l=$s(e,["heightConstraint","minimum"]);typeof l=="number"&&(i.minHgt=Number(l));var u=$s(e,["heightConstraint","valign"]);typeof u=="string"&&(u==="top"||u==="bottom")&&(i.valign=u)}return i}},{key:"update",value:function(e,i){this.setOptions(e,!0),this.propagateFonts(i),zt(this.fontOptions,this.constrain(i)),this.fontOptions.chooser=P$("label",i)}},{key:"adjustSizes",value:function(e){var i=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=i,this.fontOptions.minWdt-=i);var n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(e,i){for(var n=0;n<i.length;++n)this.addFontToPile(e,i[n])}},{key:"addFontToPile",value:function(e,i){if(i!==void 0&&!(i.font===void 0||i.font===null)){var n=i.font;e.push(n)}}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var a=e[n],s={};r.parseFontString(s,a)&&(a=s),pt(a,function(o,l){o!==void 0&&(Object.prototype.hasOwnProperty.call(i,l)||(Et(Ju).call(Ju,l)!==-1?i[l]={}:i[l]=o))})}return i}},{key:"getFontOption",value:function(e,i,n){for(var a,s=0;s<e.length;++s){var o=e[s];if(Object.prototype.hasOwnProperty.call(o,i)){if(a=o[i],a==null)continue;var l={};if(r.parseFontString(l,a)&&(a=l),Object.prototype.hasOwnProperty.call(a,n))return a[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(e,i){for(var n={},a=["color","size","face","mod","vadjust"],s=0;s<a.length;++s){var o=a[s];n[o]=this.getFontOption(e,i,o)}return n}},{key:"propagateFonts",value:function(e){var i=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var a=function(){var l=Ju[s],u=i.fontOptions[l],f=i.getFontOptions(n,l);pt(f,function(h,c){u[c]=h}),u.size=Number(u.size),u.vadjust=Number(u.vadjust)},s=0;s<Ju.length;++s)a()}},{key:"draw",value:function(e,i,n,a,s){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var l=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&l<this.elementOptions.scaling.label.drawThreshold-1||(l>=this.elementOptions.scaling.label.maxVisible&&(l=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,a,s,i,n,o),this._drawBackground(e),this._drawText(e,i,this.size.yLine,o,l))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var i=this.getSize();e.fillRect(i.left,i.top,i.width,i.height)}}},{key:"_drawText",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0,o=this._setAlignment(e,i,n,a),l=rr(o,2);i=l[0],n=l[1],e.textAlign="left",i=i-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var f=this.lines[u];if(f&&f.blocks){var h=0;this.isEdgeLabel||this.fontOptions.align==="center"?h+=(this.size.width-f.width)/2:this.fontOptions.align==="right"&&(h+=this.size.width-f.width);for(var c=0;c<f.blocks.length;c++){var m=f.blocks[c];e.font=m.font;var d=this._getColor(m.color,s,m.strokeColor),v=rr(d,2),b=v[0],g=v[1];m.strokeWidth>0&&(e.lineWidth=m.strokeWidth,e.strokeStyle=g,e.lineJoin="round"),e.fillStyle=b,m.strokeWidth>0&&e.strokeText(m.text,i+h,n+m.vadjust),e.fillText(m.text,i+h,n+m.vadjust),h+=m.width}n+=f.height}}}},{key:"_setAlignment",value:function(e,i,n,a){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){i=0,n=0;var s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=a;return[i,n]}},{key:"_getColor",value:function(e,i,n){var a=e||"#000000",s=n||"#ffffff";if(i<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-i)));a=Xi(a,o),s=Xi(s,o)}return[a,s]}},{key:"getTextSize",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,i,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=2,i=this.size.left,n=this.size.top-.5*e;if(this.isEdgeLabel){var a=-this.size.width*.5;switch(this.fontOptions.align){case"middle":i=a,n=-this.size.height*.5;break;case"top":i=a,n=-(this.size.height+e);break;case"bottom":i=a,n=e;break}}var s={left:i,top:n,width:this.size.width,height:this.size.height};return s}},{key:"calculateLabelSize",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,i,n),this.size.left=a-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,i,n,a){var s=function(f,h,c){return h==="normal"?c==="mod"?"":f[c]:f[h][c]!==void 0?f[h][c]:f[c]},o={color:s(this.fontOptions,a,"color"),size:s(this.fontOptions,a,"size"),face:s(this.fontOptions,a,"face"),mod:s(this.fontOptions,a,"mod"),vadjust:s(this.fontOptions,a,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(i||n)&&(a==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,i,n));var l="";return o.mod!==void 0&&o.mod!==""&&(l+=o.mod+" "),l+=o.size+"px "+o.face,e.font=l.replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,i){return e!==this.selectedState||i!==this.hoverState}},{key:"_processLabelText",value:function(e,i,n,a){var s=new Hxe(e,this,i,n);return s.process(a)}},{key:"_processLabel",value:function(e,i,n){if(!(this.labelDirty===!1&&!this.differentState(i,n))){var a=this._processLabelText(e,i,n,this.elementOptions.label);this.fontOptions.minWdt>0&&a.width<this.fontOptions.minWdt&&(a.width=this.fontOptions.minWdt),this.size.labelHeight=a.height,this.fontOptions.minHgt>0&&a.height<this.fontOptions.minHgt&&(a.height=this.fontOptions.minHgt),this.lines=a.lines,this.lineCount=a.lines.length,this.size.width=a.width,this.size.height=a.height,this.selectedState=i,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var e=this.fontOptions.size*this.body.view.scale;return!(e<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,i){if(!i||typeof i!="string")return!1;var n=i.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),r}(),Gxe=Qp,Wxe=Pu,Vxe=TypeError,Xxe=function(r){if(Gxe(r))return r;throw new Vxe(Wxe(r)+" is not a constructor")},Kxe=at,Yxe=ln,_g=$c,Jxe=M9,Sx=Xxe,Qxe=Fi,Ex=Dr,Zxe=Ru,bI=kt,D$=Yxe("Reflect","construct"),e7e=Object.prototype,t7e=[].push,yI=bI(function(){function r(){}return!(D$(function(){},[],r)instanceof r)}),$I=!bI(function(){D$(function(){})}),kx=yI||$I;Kxe({target:"Reflect",stat:!0,forced:kx,sham:kx},{construct:function(t,e){Sx(t),Qxe(e);var i=arguments.length<3?t:Sx(arguments[2]);if($I&&!yI)return D$(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return _g(t7e,n,e),new(_g(Jxe,t,n))}var a=i.prototype,s=Zxe(Ex(a)?a:e7e),o=_g(t,s,e);return Ex(o)?o:s}});var r7e=Tt,i7e=r7e.Reflect.construct,n7e=i7e,a7e=n7e,s7e=a7e,Ce=Je(s7e),o7e=cA,l7e=o7e,u7e=l7e,f7e=u7e,c7e=f7e,h7e=Je(c7e),m7e=at,p7e=hde;m7e({target:"Object",stat:!0},{setPrototypeOf:p7e});var d7e=Tt,v7e=d7e.Object.setPrototypeOf,g7e=v7e,b7e=g7e,y7e=b7e,$7e=y7e,_7e=$7e,w7e=_7e,x7e=w7e,vb=Je(x7e),S7e=B9,E7e=S7e,k7e=E7e,T7e=k7e,O7e=T7e,N$=Je(O7e);function gb(r,t){var e;return gb=vb?N$(e=vb).call(e):function(n,a){return n.__proto__=a,n},gb(r,t)}function It(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=h7e(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),ed(r,"prototype",{writable:!1}),t&&gb(r,t)}function A7e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Dt(r,t){if(t&&(Nt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A7e(r)}var I7e=sA,C7e=I7e,P7e=C7e,D7e=P7e,N7e=D7e,Tx=Je(N7e);function Xe(r){var t;return Xe=vb?N$(t=Tx).call(t):function(i){return i.__proto__||Tx(i)},Xe(r)}var al=function(){function r(t,e,i){qe(this,r),this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return He(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(Nt(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,i){var n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+n}},{key:"enableShadow",value:function(e,i){i.shadow&&(e.shadowColor=i.shadowColor,e.shadowBlur=i.shadowSize,e.shadowOffsetX=i.shadowX,e.shadowOffsetY=i.shadowY)}},{key:"disableShadow",value:function(e,i){i.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,i){if(i.borderDashes!==!1)if(e.setLineDash!==void 0){var n=i.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,i.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,i){i.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,i.borderDashes=!1))}},{key:"needsRefresh",value:function(e,i){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,i)}},{key:"initContextForDraw",value:function(e,i){var n=i.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=i.borderColor,e.fillStyle=i.color}},{key:"performStroke",value:function(e,i){var n=i.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,i),e.stroke(),this.disableBorderDashes(e,i)),e.restore()}},{key:"performFill",value:function(e,i){e.save(),e.fillStyle=i.color,this.enableShadow(e,i),Fc(e).call(e),this.disableShadow(e,i),e.restore(),this.performStroke(e,i)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,i,n,a,s){n!==void 0&&this.resize(n,a,s),this.left=e-this.width/2,this.top=i-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,i,n,a,s){this._updateBoundingBox(e,i,n,a,s)}},{key:"getDimensionsFromLabel",value:function(e,i,n){this.textSize=this.labelModule.getTextSize(e,i,n);var a=this.textSize.width,s=this.textSize.height,o=14;return a===0&&(a=o,s=o),{width:a,height:s}}}]),r}();function R7e(r){var t=M7e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function M7e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var B7e=function(r){It(e,r);var t=R7e(e);function e(i,n,a){var s;return qe(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return He(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s);this.width=o.width+this.margin.right+this.margin.left,this.height=o.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.initContextForDraw(n,u),F9(n,this.left,this.top,this.width,this.height,u.borderRadius),this.performFill(n,u),this.updateBoundingBox(a,s,n,o,l),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"updateBoundingBox",value:function(n,a,s,o,l){this._updateBoundingBox(n,a,s,o,l);var u=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(u)}},{key:"distanceToBorder",value:function(n,a){n&&this.resize(n);var s=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(a)),Math.abs(this.height/2/Math.sin(a)))+s}}]),e}(al);function F7e(r){var t=z7e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function z7e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var R$=function(r){It(e,r);var t=F7e(e);function e(i,n,a){var s;return qe(this,e),s=t.call(this,i,n,a),s.labelOffset=0,s.selected=!1,s}return He(e,[{key:"setOptions",value:function(n,a,s){this.options=n,a===void 0&&s===void 0||this.setImages(a,s)}},{key:"setImages",value:function(n,a){a&&this.selected?(this.imageObj=a,this.imageObjAlt=n):(this.imageObj=n,this.imageObjAlt=a)}},{key:"switchImages",value:function(n){var a=n&&!this.selected||!n&&this.selected;if(this.selected=n,this.imageObjAlt!==void 0&&a){var s=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=s}}},{key:"_getImagePadding",value:function(){var n={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var a=this.options.imagePadding;Nt(a)=="object"?(n.top=a.top,n.right=a.right,n.bottom=a.bottom,n.left=a.left):(n.top=a,n.right=a,n.bottom=a,n.left=a)}return n}},{key:"_resizeImage",value:function(){var n,a;if(this.options.shapeProperties.useImageSize===!1){var s=1,o=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?s=this.imageObj.width/this.imageObj.height:o=this.imageObj.height/this.imageObj.width),n=this.options.size*2*s,a=this.options.size*2*o}else{var l=this._getImagePadding();n=this.imageObj.width+l.left+l.right,a=this.imageObj.height+l.top+l.bottom}this.width=n,this.height=a,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(n,a,s,o){this.initContextForDraw(n,o),Qy(n,a,s,o.size),this.performFill(n,o)}},{key:"_drawImageAtPosition",value:function(n,a){if(this.imageObj.width!=0){n.globalAlpha=a.opacity!==void 0?a.opacity:1,this.enableShadow(n,a);var s=1;this.options.shapeProperties.interpolation===!0&&(s=this.imageObj.width/this.width/this.body.view.scale);var o=this._getImagePadding(),l=this.left+o.left,u=this.top+o.top,f=this.width-o.left-o.right,h=this.height-o.top-o.bottom;this.imageObj.drawImageAtPosition(n,s,l,u,f,h),this.disableShadow(n,a)}}},{key:"_drawImageLabel",value:function(n,a,s,o,l){var u=0;if(this.height!==void 0){u=this.height*.5;var f=this.labelModule.getTextSize(n,o,l);f.lineCount>=1&&(u+=f.height/2)}var h=s+u;this.options.label&&(this.labelOffset=u),this.labelModule.draw(n,a,h,o,l,"hanging")}}]),e}(al);function L7e(r){var t=j7e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function j7e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var U7e=function(r){It(e,r);var t=L7e(e);function e(i,n,a){var s;return qe(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return He(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s),l=Math.max(o.width+this.margin.right+this.margin.left,o.height+this.margin.top+this.margin.bottom);this.options.size=l/2,this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this._drawRawCircle(n,a,s,u),this.updateBoundingBox(a,s),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,s,o,l)}},{key:"updateBoundingBox",value:function(n,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=a+this.options.size}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.width*.5}}]),e}(R$);function q7e(r){var t=H7e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function H7e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var G7e=function(r){It(e,r);var t=q7e(e);function e(i,n,a,s,o){var l;return qe(this,e),l=t.call(this,i,n,a),l.setImages(s,o),l}return He(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l,this.radius=.5*this.width;return}this.needsRefresh(a,s)&&this._resizeImage()}},{key:"draw",value:function(n,a,s,o,l,u){this.switchImages(o),this.resize();var f=a,h=s;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=s,f+=this.width/2,h+=this.height/2):(this.left=a-this.width/2,this.top=s-this.height/2),this._drawRawCircle(n,f,h,u),n.save(),n.clip(),this._drawImageAtPosition(n,u),n.restore(),this._drawImageLabel(n,f,h,o,l),this.updateBoundingBox(a,s)}},{key:"updateBoundingBox",value:function(n,a){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=a,this.boundingBox.left=n,this.boundingBox.right=n+this.options.size*2,this.boundingBox.bottom=a+this.options.size*2):(this.boundingBox.top=a-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=a+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.width*.5}}]),e}(R$);function W7e(r){var t=V7e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function V7e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var eo=function(r){It(e,r);var t=W7e(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(a,s)){var l,u;this.labelModule.getTextSize(n,a,s);var f=2*o.size;this.width=(l=this.customSizeWidth)!==null&&l!==void 0?l:f,this.height=(u=this.customSizeHeight)!==null&&u!==void 0?u:f,this.radius=.5*this.width}}},{key:"_drawShape",value:function(n,a,s,o,l,u,f,h){var c=this;return this.resize(n,u,f,h),this.left=o-this.width/2,this.top=l-this.height/2,this.initContextForDraw(n,h),Ome(a)(n,o,l,h.size),this.performFill(n,h),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(n.font=(u?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",n.fillText(this.options.icon.code,o,l)),{drawExternalLabel:function(){if(c.options.label!==void 0){c.labelModule.calculateLabelSize(n,u,f,o,l,"hanging");var d=l+.5*c.height+.5*c.labelModule.size.height;c.labelModule.draw(n,o,d,u,f,"hanging")}c.updateBoundingBox(o,l)}}}},{key:"updateBoundingBox",value:function(n,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=a+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(al);function Ox(r,t){var e=tr(r);if(qs){var i=qs(r);t&&(i=vi(i).call(i,function(n){return Zs(r,n).enumerable})),e.push.apply(e,i)}return e}function X7e(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Mt(e=Ox(Object(n),!0)).call(e,function(a){pd(r,a,n[a])}):Hs?hd(r,Hs(n)):Mt(i=Ox(Object(n))).call(i,function(a){md(r,a,Zs(n,a))})}return r}function K7e(r){var t=Y7e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function Y7e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var J7e=function(r){It(e,r);var t=K7e(e);function e(i,n,a,s){var o;return qe(this,e),o=t.call(this,i,n,a,s),o.ctxRenderer=s,o}return He(e,[{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l,u),this.left=a-this.width/2,this.top=s-this.height/2,n.save();var f=this.ctxRenderer({ctx:n,id:this.options.id,x:a,y:s,state:{selected:o,hover:l},style:X7e({},u),label:this.options.label});if(f.drawNode!=null&&f.drawNode(),n.restore(),f.drawExternalLabel){var h=f.drawExternalLabel;f.drawExternalLabel=function(){n.save(),h(),n.restore()}}return f.nodeDimensions&&(this.customSizeWidth=f.nodeDimensions.width,this.customSizeHeight=f.nodeDimensions.height),f}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(eo);function Q7e(r){var t=Z7e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function Z7e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var eSe=function(r){It(e,r);var t=Q7e(e);function e(i,n,a){var s;return qe(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return He(e,[{key:"resize",value:function(n,a,s){if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s),l=o.width+this.margin.right+this.margin.left;this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.initContextForDraw(n,u),z9(n,a-this.width/2,s-this.height/2,this.width,this.height),this.performFill(n,u),this.updateBoundingBox(a,s,n,o,l),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(al);function tSe(r){var t=rSe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function rSe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var iSe=function(r){It(e,r);var t=tSe(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"diamond",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(eo);function nSe(r){var t=aSe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function aSe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var sSe=function(r){It(e,r);var t=nSe(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"circle",2,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.options.size}}]),e}(eo);function oSe(r){var t=lSe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function lSe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var Ax=function(r){It(e,r);var t=oSe(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s);this.height=o.height*2,this.width=o.width+o.height,this.radius=.5*this.width}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width*.5,this.top=s-this.height*.5,this.initContextForDraw(n,u),H1(n,this.left,this.top,this.width,this.height),this.performFill(n,u),this.updateBoundingBox(a,s,n,o,l),this.labelModule.draw(n,a,s,o,l)}},{key:"distanceToBorder",value:function(n,a){n&&this.resize(n);var s=this.width*.5,o=this.height*.5,l=Math.sin(a)*s,u=Math.cos(a)*o;return s*o/Math.sqrt(l*l+u*u)}}]),e}(al);function uSe(r){var t=fSe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function fSe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var cSe=function(r){It(e,r);var t=uSe(e);function e(i,n,a){var s;return qe(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return He(e,[{key:"resize",value:function(n,a,s){this.needsRefresh(a,s)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,a,s,o,l,u){var f=this;return this.resize(n,o,l),this.options.icon.size=this.options.icon.size||50,this.left=a-this.width/2,this.top=s-this.height/2,this._icon(n,a,s,o,l,u),{drawExternalLabel:function(){if(f.options.label!==void 0){var c=5;f.labelModule.draw(n,f.left+f.iconSize.width/2+f.margin.left,s+f.height/2+c,o)}f.updateBoundingBox(a,s)}}}},{key:"updateBoundingBox",value:function(n,a){if(this.boundingBox.top=a-this.options.icon.size*.5,this.boundingBox.left=n-this.options.icon.size*.5,this.boundingBox.right=n+this.options.icon.size*.5,this.boundingBox.bottom=a+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var s=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+s)}}},{key:"_icon",value:function(n,a,s,o,l,u){var f=Number(this.options.icon.size);this.options.icon.code!==void 0?(n.font=[this.options.icon.weight!=null?this.options.icon.weight:o?"bold":"",(this.options.icon.weight!=null&&o?5:0)+f+"px",this.options.icon.face].join(" "),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",this.enableShadow(n,u),n.fillText(this.options.icon.code,a,s),this.disableShadow(n,u)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(al);function hSe(r){var t=mSe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function mSe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var pSe=function(r){It(e,r);var t=hSe(e);function e(i,n,a,s,o){var l;return qe(this,e),l=t.call(this,i,n,a),l.setImages(s,o),l}return He(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l;return}this.needsRefresh(a,s)&&this._resizeImage()}},{key:"draw",value:function(n,a,s,o,l,u){n.save(),this.switchImages(o),this.resize();var f=a,h=s;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=s,f+=this.width/2,h+=this.height/2):(this.left=a-this.width/2,this.top=s-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var c=this.options.borderWidth,m=this.options.borderWidthSelected||2*this.options.borderWidth,d=(o?m:c)/this.body.view.scale;n.lineWidth=Math.min(this.width,d),n.beginPath();var v=o?this.options.color.highlight.border:l?this.options.color.hover.border:this.options.color.border,b=o?this.options.color.highlight.background:l?this.options.color.hover.background:this.options.color.background;u.opacity!==void 0&&(v=Xi(v,u.opacity),b=Xi(b,u.opacity)),n.strokeStyle=v,n.fillStyle=b,n.rect(this.left-.5*n.lineWidth,this.top-.5*n.lineWidth,this.width+n.lineWidth,this.height+n.lineWidth),Fc(n).call(n),this.performStroke(n,u),n.closePath()}this._drawImageAtPosition(n,u),this._drawImageLabel(n,f,h,o,l),this.updateBoundingBox(a,s),n.restore()}},{key:"updateBoundingBox",value:function(n,a){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=a):(this.left=n-this.width/2,this.top=a-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(R$);function dSe(r){var t=vSe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function vSe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var gSe=function(r){It(e,r);var t=dSe(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"square",2,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(eo);function bSe(r){var t=ySe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function ySe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var $Se=function(r){It(e,r);var t=bSe(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"hexagon",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(eo);function _Se(r){var t=wSe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function wSe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var xSe=function(r){It(e,r);var t=_Se(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"star",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(eo);function SSe(r){var t=ESe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function ESe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var kSe=function(r){It(e,r);var t=SSe(e);function e(i,n,a){var s;return qe(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return He(e,[{key:"resize",value:function(n,a,s){this.needsRefresh(a,s)&&(this.textSize=this.labelModule.getTextSize(n,a,s),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.enableShadow(n,u),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l),this.disableShadow(n,u),this.updateBoundingBox(a,s,n,o,l)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(al);function TSe(r){var t=OSe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function OSe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var ASe=function(r){It(e,r);var t=TSe(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"triangle",3,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(eo);function ISe(r){var t=CSe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function CSe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var PSe=function(r){It(e,r);var t=ISe(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"triangleDown",3,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(eo);function Ix(r,t){var e=tr(r);if(qs){var i=qs(r);t&&(i=vi(i).call(i,function(n){return Zs(r,n).enumerable})),e.push.apply(e,i)}return e}function Cx(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Mt(e=Ix(Object(n),!0)).call(e,function(a){pd(r,a,n[a])}):Hs?hd(r,Hs(n)):Mt(i=Ix(Object(n))).call(i,function(a){md(r,a,Zs(n,a))})}return r}var Oi=function(){function r(t,e,i,n,a,s){qe(this,r),this.options=Ns(a),this.globalOptions=a,this.defaultOptions=s,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new gI(this.body,this.options,!1),this.setOptions(t)}return He(r,[{key:"attachEdge",value:function(e){var i;Et(i=this.edges).call(i,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var i,n=Et(i=this.edges).call(i,e);if(n!=-1){var a;pa(a=this.edges).call(a,n,1)}}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");r.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=bn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=bn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=pI(e.value)),r.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var n=[e,this.options,this.defaultOptions];return this.chooser=P$("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&r.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(i),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var i=this.options.opacity;e.borderColor=Xi(e.borderColor,i),e.color=Xi(e.color,i),e.shadowColor=Xi(e.shadowColor,i)}return e}},{key:"updateLabelModule",value:function(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),r.updateGroupOptions(this.options,Cx(Cx({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1),n=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new B7e(this.options,this.body,this.labelModule);break;case"circle":this.shape=new U7e(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new G7e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new J7e(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new eSe(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new iSe(this.options,this.body,this.labelModule);break;case"dot":this.shape=new sSe(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Ax(this.options,this.body,this.labelModule);break;case"icon":this.shape=new cSe(this.options,this.body,this.labelModule);break;case"image":this.shape=new pSe(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new gSe(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new $Se(this.options,this.body,this.labelModule);break;case"star":this.shape=new xSe(this.options,this.body,this.labelModule);break;case"text":this.shape=new kSe(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new ASe(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new PSe(this.options,this.body,this.labelModule);break;default:this.shape=new Ax(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,i){return this.shape.distanceToBorder(e,i)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,i,n){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,i,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*o}this.options.size=this.options.scaling.min+a*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var i=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,i)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var i=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,i)}},{key:"getItemsOnPoint",value:function(e){var i=[];return this.labelModule.visible()&&db(this.labelModule.getSize(),e)&&i.push({nodeId:this.id,labelId:0}),db(this.shape.boundingBox,e)&&i.push({nodeId:this.id}),i}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,i,n){var a;if(n!==void 0){var s=e.group;if(i!==void 0&&i.group!==void 0&&s!==i.group)throw new Error("updateGroupOptions: group values in options don't match.");var o=typeof s=="number"||typeof s=="string"&&s!="";if(o){var l=n.get(s);l.opacity!==void 0&&i.opacity===void 0&&(r.checkOpacity(l.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+l.opacity),l.opacity=void 0));var u=vi(a=Ixe(i)).call(a,function(f){return i[f]!=null});u.push("font"),Hm(u,e,l),e.color=fb(e.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,o=["color","fixed","shadow"];if(Hm(o,e,i,n),r.checkMass(i),e.opacity!==void 0&&(r.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),i.opacity!==void 0&&(r.checkOpacity(i.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+i.opacity),i.opacity=void 0)),i.shapeProperties&&!r.checkCoordinateOrigin(i.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+i.shapeProperties.coordinateOrigin),Wi(e,i,"shadow",a),i.color!==void 0&&i.color!==null){var l=fb(i.color);jA(e.color,l)}else n===!0&&i.color===null&&(e.color=Ns(a.color));i.fixed!==void 0&&i.fixed!==null&&(typeof i.fixed=="boolean"?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(i.fixed.x!==void 0&&typeof i.fixed.x=="boolean"&&(e.fixed.x=i.fixed.x),i.fixed.y!==void 0&&typeof i.fixed.y=="boolean"&&(e.fixed.y=i.fixed.y))),n===!0&&i.font===null&&(e.font=Ns(a.font)),r.updateGroupOptions(e,i,s),i.scaling!==void 0&&Wi(e.scaling,i.scaling,"label",a.scaling)}},{key:"checkMass",value:function(e,i){if(e.mass!==void 0&&e.mass<=0){var n="";i!==void 0&&(n=" in node id: "+i),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",GA),e.mass=1}}}]),r}();function DSe(r,t){var e=typeof Qs<"u"&&rl(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=NSe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function NSe(r,t){var e;if(r){if(typeof r=="string")return Px(r,t);var i=Hr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return tl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Px(r,t)}}function Px(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var RSe=function(){function r(t,e,i,n){var a,s=this;if(qe(this,r),this.body=t,this.images=e,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=Fe(a=this.create).call(a,this),this.nodesListeners={add:function(l,u){s.add(u.items)},update:function(l,u){s.update(u.items,u.data,u.oldData)},remove:function(l,u){s.remove(u.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(l,u,f,h){if(u===l)return .5;var c=1/(u-l);return Math.max(0,(h-l)*c)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Ns(this.defaultOptions),this.bindEventListeners()}return He(r,[{key:"bindEventListeners",value:function(){var e,i,n=this;this.body.emitter.on("refreshNodes",Fe(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Fe(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",function(){pt(n.nodesListeners,function(a,s){n.body.data.nodes&&n.body.data.nodes.off(s,a)}),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if(Oi.parseOptions(this.options,e),e.opacity!==void 0&&(pb(e.opacity)||!po(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&this.body.nodes[i].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(var n=0,a=tr(this.body.nodes);n<a.length;n++){var s=a[n];this.body.nodes[s].updateLabelModule(),this.body.nodes[s].needsRefresh()}if(e.size!==void 0)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.data.nodes;if(g9("id",e))this.body.data.nodes=e;else if(Pt(e))this.body.data.nodes=new Rm,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Rm;else throw new TypeError("Array or DataSet expected");if(n&&pt(this.nodesListeners,function(o,l){n.off(l,o)}),this.body.nodes={},this.body.data.nodes){var a=this;pt(this.nodesListeners,function(o,l){a.body.data.nodes.on(l,o)});var s=this.body.data.nodes.getIds();this.add(s,!0)}i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,a=[],s=0;s<e.length;s++){n=e[s];var o=this.body.data.nodes.get(n),l=this.create(o);a.push(l),this.body.nodes[n]=l}this.layoutEngine.positionInitially(a),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,i,n){for(var a=this.body.nodes,s=!1,o=0;o<e.length;o++){var l=e[o],u=a[l],f=i[o];u!==void 0?u.setOptions(f)&&(s=!0):(s=!0,u=this.create(f),a[l]=u)}!s&&n!==void 0&&(s=E6e(i).call(i,function(h,c){var m=n[c];return m&&m.level!==h.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var i=this.body.nodes,n=0;n<e.length;n++){var a=e[n];delete i[a]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oi;return new i(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;pt(this.body.nodes,function(n,a){var s=e.body.data.nodes.get(a);s!==void 0&&(i===!0&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(s))})}},{key:"getPositions",value:function(e){var i={};if(e!==void 0){if(Pt(e)===!0){for(var n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){var a=this.body.nodes[e[n]];i[e[n]]={x:Math.round(a.x),y:Math.round(a.y)}}}else if(this.body.nodes[e]!==void 0){var s=this.body.nodes[e];i[e]={x:Math.round(s.x),y:Math.round(s.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var l=this.body.nodes[this.body.nodeIndices[o]];i[this.body.nodeIndices[o]]={x:Math.round(l.x),y:Math.round(l.y)}}return i}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e=[],i=this.body.data.nodes.getDataSet(),n=DSe(i.get()),a;try{for(n.s();!(a=n.n()).done;){var s=a.value,o=s.id,l=this.body.nodes[o],u=Math.round(l.x),f=Math.round(l.y);(s.x!==u||s.y!==f)&&e.push({id:o,x:u,y:f})}}catch(h){n.e(h)}finally{n.f()}i.update(e)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,i){var n=[];if(this.body.nodes[e]!==void 0)for(var a=this.body.nodes[e],s={},o=0;o<a.edges.length;o++){var l=a.edges[o];i!=="to"&&l.toId==a.id?s[l.fromId]===void 0&&(n.push(l.fromId),s[l.fromId]=!0):i!=="from"&&l.fromId==a.id&&s[l.toId]===void 0&&(n.push(l.toId),s[l.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(e){var i=[];if(this.body.nodes[e]!==void 0)for(var n=this.body.nodes[e],a=0;a<n.edges.length;a++)i.push(n.edges[a].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return i}},{key:"moveNode",value:function(e,i,n){var a=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(i),this.body.nodes[e].y=Number(n),Hn(function(){a.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),r}(),Dx=Nr,MSe=function(r){return r!==void 0&&(Dx(r,"value")||Dx(r,"writable"))},BSe=at,FSe=Mi,zSe=Dr,LSe=Fi,jSe=MSe,USe=Au,qSe=Jp;function _I(r,t){var e=arguments.length<3?r:arguments[2],i,n;if(LSe(r)===e)return r[t];if(i=USe.f(r,t),i)return jSe(i)?i.value:i.get===void 0?void 0:FSe(i.get,e);if(zSe(n=qSe(r)))return _I(n,t,e)}BSe({target:"Reflect",stat:!0},{get:_I});var HSe=Tt,GSe=HSe.Reflect.get,WSe=GSe,VSe=WSe,XSe=VSe,KSe=XSe,YSe=KSe,JSe=YSe,QSe=JSe,Nx=Je(QSe),ZSe=fI,e8e=ZSe,t8e=e8e,r8e=t8e,i8e=r8e,n8e=Je(i8e);function a8e(r,t){for(;!Object.prototype.hasOwnProperty.call(r,t)&&(r=Xe(r),r!==null););return r}function fm(){if(typeof Reflect<"u"&&Nx){var r;fm=N$(r=Nx).call(r)}else fm=function(e,i,n){var a=a8e(e,i);if(a){var s=n8e(a,i);return s.get?s.get.call(arguments.length<3?e:n):s.value}};return fm.apply(this,arguments)}var s8e=at,Rx=Math.hypot,o8e=Math.abs,l8e=Math.sqrt,u8e=!!Rx&&Rx(1/0,NaN)!==1/0;s8e({target:"Math",stat:!0,arity:2,forced:u8e},{hypot:function(t,e){for(var i=0,n=0,a=arguments.length,s=0,o,l;n<a;)o=o8e(arguments[n++]),s<o?(l=s/o,i=i*l*l+1,s=o):o>0?(l=o/s,i+=l*l):i+=o;return s===1/0?1/0:s*l8e(i)}});var f8e=Tt,c8e=f8e.Math.hypot,h8e=c8e,m8e=h8e,p8e=m8e,d8e=Je(p8e);function wI(r){var t=v8e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function v8e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var fr=function(){function r(){qe(this,r)}return He(r,null,[{key:"transform",value:function(e,i){Pt(e)||(e=[e]);for(var n=i.point.x,a=i.point.y,s=i.angle,o=i.length,l=0;l<e.length;++l){var u=e[l],f=u.x*Math.cos(s)-u.y*Math.sin(s),h=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=n+o*f,u.y=a+o*h}}},{key:"drawPath",value:function(e,i){e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var n=1;n<i.length;++n)e.lineTo(i[n].x,i[n].y);e.closePath()}}]),r}(),g8e=function(r){It(e,r);var t=wI(e);function e(){return qe(this,e),t.apply(this,arguments)}return He(e,null,[{key:"draw",value:function(n,a){if(a.image){n.save(),n.translate(a.point.x,a.point.y),n.rotate(Math.PI/2+a.angle);var s=a.imageWidth!=null?a.imageWidth:a.image.width,o=a.imageHeight!=null?a.imageHeight:a.image.height;a.image.drawImageAtPosition(n,1,-s/2,0,s,o),n.restore()}return!1}}]),e}(fr),b8e=function(r){It(e,r);var t=wI(e);function e(){return qe(this,e),t.apply(this,arguments)}return He(e,null,[{key:"draw",value:function(n,a){var s=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return fr.transform(s,a),fr.drawPath(n,s),!0}}]),e}(fr),y8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return fr.transform(n,i),fr.drawPath(e,n),!0}}]),r}(),$8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n={x:-.4,y:0};fr.transform(n,i),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,s=i.angle-a/2,o=i.angle+a/2;return e.beginPath(),e.arc(n.x,n.y,i.length*.4,s,o,!1),e.stroke(),!0}}]),r}(),_8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n={x:-.3,y:0};fr.transform(n,i),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,s=i.angle+a/2,o=i.angle+3*a/2;return e.beginPath(),e.arc(n.x,n.y,i.length*.4,s,o,!1),e.stroke(),!0}}]),r}(),w8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return fr.transform(n,i),fr.drawPath(e,n),!0}}]),r}(),x8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return fr.transform(n,i),fr.drawPath(e,n),!0}}]),r}(),S8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n={x:-.4,y:0};return fr.transform(n,i),Qy(e,n.x,n.y,i.length*.4),!0}}]),r}(),E8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return fr.transform(n,i),fr.drawPath(e,n),!0}}]),r}(),k8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return fr.transform(n,i),fr.drawPath(e,n),!0}}]),r}(),T8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return fr.transform(n,i),fr.drawPath(e,n),!0}}]),r}(),O8e=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return fr.transform(n,i),fr.drawPath(e,n),!0}}]),r}(),xI=function(){function r(){qe(this,r)}return He(r,null,[{key:"draw",value:function(e,i){var n;switch(i.type&&(n=i.type.toLowerCase()),n){case"image":return g8e.draw(e,i);case"circle":return S8e.draw(e,i);case"box":return k8e.draw(e,i);case"crow":return y8e.draw(e,i);case"curve":return $8e.draw(e,i);case"diamond":return T8e.draw(e,i);case"inv_curve":return _8e.draw(e,i);case"triangle":return w8e.draw(e,i);case"inv_triangle":return x8e.draw(e,i);case"bar":return E8e.draw(e,i);case"vee":return O8e.draw(e,i);case"arrow":default:return b8e.draw(e,i)}}}]),r}();function Mx(r,t){var e=tr(r);if(qs){var i=qs(r);t&&(i=vi(i).call(i,function(n){return Zs(r,n).enumerable})),e.push.apply(e,i)}return e}function Bx(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Mt(e=Mx(Object(n),!0)).call(e,function(a){pd(r,a,n[a])}):Hs?hd(r,Hs(n)):Mt(i=Mx(Object(n))).call(i,function(a){md(r,a,Zs(n,a))})}return r}var SI=function(){function r(t,e,i){qe(this,r),this._body=e,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return He(r,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,i,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,i),e.lineWidth=i.width,i.dashes!==!1?this._drawDashedLine(e,i,s):this._drawLine(e,i,s)}},{key:"_drawLine",value:function(e,i,n,a,s){if(this.from!=this.to)this._line(e,i,n,a,s);else{var o=this._getCircleData(e),l=rr(o,3),u=l[0],f=l[1],h=l[2];this._circle(e,i,u,f,h)}}},{key:"_drawDashedLine",value:function(e,i,n,a,s){e.lineCap="round";var o=Pt(i.dashes)?i.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,i,n);else{var l=this._getCircleData(e),u=rr(l,3),f=u[0],h=u[1],c=u[2];this._circle(e,i,f,h,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)L9(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var m=this._getCircleData(e),d=rr(m,3),v=d[0],b=d[1],g=d[2];this._circle(e,i,v,b,g)}this.enableShadow(e,i),e.stroke(),this.disableShadow(e,i)}}},{key:"findBorderPosition",value:function(e,i,n){return this.from!=this.to?this._findBorderPosition(e,i,n):this._findBorderPositionCircle(e,i,n)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var i,n=Hr(i=this._getCircleData(e)).call(i,0,2),a=rr(n,2),s=a[0],o=a[1];return{from:this._findBorderPositionCircle(this.from,e,{x:s,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:s,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var i=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var n=dI(e,this.options.selfReference.angle,i,this.from);return[n.x,n.y,i]}},{key:"_pointOnCircle",value:function(e,i,n,a){var s=a*2*Math.PI;return{x:e+n*Math.cos(s),y:i-n*Math.sin(s)}}},{key:"_findBorderPositionCircle",value:function(e,i,n){var a=n.x,s=n.y,o=n.low,l=n.high,u=n.direction,f=10,h=this.options.selfReference.size,c=.05,m,d=(o+l)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));var b=0;do{d=(o+l)*.5,m=this._pointOnCircle(a,s,h,d);var g=Math.atan2(e.y-m.y,e.x-m.x),y=e.distanceToBorder(i,g)+v,_=Math.sqrt(Math.pow(m.x-e.x,2)+Math.pow(m.y-e.y,2)),w=y-_;if(Math.abs(w)<c)break;w>0?u>0?o=d:l=d:u>0?l=d:o=d,++b}while(o<=l&&b<f);return Bx(Bx({},m),{},{t:d})}},{key:"getLineWidth",value:function(e,i){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):i===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,i){if(i.inheritsColor!==!1){if(i.inheritsColor==="both"&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),a=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(a=Xi(this.from.options.color.border,i.opacity),s=Xi(this.to.options.color.border,i.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(a=this.from.options.color.border),n.addColorStop(0,a),n.addColorStop(1,s),n}return i.inheritsColor==="to"?Xi(this.to.options.color.border,i.opacity):Xi(this.from.options.color.border,i.opacity)}else return Xi(i.color,i.opacity)}},{key:"_circle",value:function(e,i,n,a,s){this.enableShadow(e,i);var o=0,l=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var u=this.options.selfReference.angle,f=this.options.selfReference.angle+Math.PI,h=this._findBorderPositionCircle(this.from,e,{x:n,y:a,low:u,high:f,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:n,y:a,low:u,high:f,direction:1});o=Math.atan2(h.y-a,h.x-n),l=Math.atan2(c.y-a,c.x-n)}e.beginPath(),e.arc(n,a,s,o,l,!1),e.stroke(),this.disableShadow(e,i)}},{key:"getDistanceToEdge",value:function(e,i,n,a,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,i,n,a,s,o);var l=this._getCircleData(void 0),u=rr(l,3),f=u[0],h=u[1],c=u[2],m=f-s,d=h-o;return Math.abs(Math.sqrt(m*m+d*d)-c)}},{key:"_getDistanceToLine",value:function(e,i,n,a,s,o){var l=n-e,u=a-i,f=l*l+u*u,h=((s-e)*l+(o-i)*u)/f;h>1?h=1:h<0&&(h=0);var c=e+h*l,m=i+h*u,d=c-s,v=m-o;return Math.sqrt(d*d+v*v)}},{key:"getArrowData",value:function(e,i,n,a,s,o){var l,u,f,h,c,m,d,v=o.width;i==="from"?(f=this.from,h=this.to,c=o.fromArrowScale<0,m=Math.abs(o.fromArrowScale),d=o.fromArrowType):i==="to"?(f=this.to,h=this.from,c=o.toArrowScale<0,m=Math.abs(o.toArrowScale),d=o.toArrowType):(f=this.to,h=this.from,c=o.middleArrowScale<0,m=Math.abs(o.middleArrowScale),d=o.middleArrowType);var b=15*m+3*v;if(f!=h){var g=d8e(f.x-h.x,f.y-h.y),y=b/g;if(i!=="middle")if(this.options.smooth.enabled===!0){var _=this._findBorderPosition(f,e,{via:n}),w=this.getPoint(_.t+y*(i==="from"?1:-1),n);l=Math.atan2(_.y-w.y,_.x-w.x),u=_}else l=Math.atan2(f.y-h.y,f.x-h.x),u=this._findBorderPosition(f,e);else{var O=(c?-y:y)/2,I=this.getPoint(.5+O,n),M=this.getPoint(.5-O,n);l=Math.atan2(I.y-M.y,I.x-M.x),u=this.getPoint(.5,n)}}else{var T=this._getCircleData(e),E=rr(T,3),q=E[0],k=E[1],j=E[2];if(i==="from"){var J=this.options.selfReference.angle,Q=this.options.selfReference.angle+Math.PI,R=this._findBorderPositionCircle(this.from,e,{x:q,y:k,low:J,high:Q,direction:-1});l=R.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=R}else if(i==="to"){var B=this.options.selfReference.angle,U=this.options.selfReference.angle+Math.PI,te=this._findBorderPositionCircle(this.from,e,{x:q,y:k,low:B,high:U,direction:1});l=te.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=te}else{var de=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(q,k,j,de),l=de*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var me=u.x-b*.9*Math.cos(l),ee=u.y-b*.9*Math.sin(l),re={x:me,y:ee};return{point:u,core:re,angle:l,length:b,type:d}}},{key:"drawArrowHead",value:function(e,i,n,a,s){e.strokeStyle=this.getColor(e,i),e.fillStyle=e.strokeStyle,e.lineWidth=i.width;var o=xI.draw(e,s);o&&(this.enableShadow(e,i),Fc(e).call(e),this.disableShadow(e,i))}},{key:"enableShadow",value:function(e,i){i.shadow===!0&&(e.shadowColor=i.shadowColor,e.shadowBlur=i.shadowSize,e.shadowOffsetX=i.shadowX,e.shadowOffsetY=i.shadowY)}},{key:"disableShadow",value:function(e,i){i.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,i){if(i.background!==!1){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=i.backgroundColor,e.lineWidth=i.backgroundSize,this.setStrokeDashed(e,i.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,i.dashes)}}},{key:"setStrokeDashed",value:function(e,i){if(i!==!1)if(e.setLineDash!==void 0){var n=Pt(i)?i:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),r}();function Fx(r,t){var e=tr(r);if(qs){var i=qs(r);t&&(i=vi(i).call(i,function(n){return Zs(r,n).enumerable})),e.push.apply(e,i)}return e}function zx(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Mt(e=Fx(Object(n),!0)).call(e,function(a){pd(r,a,n[a])}):Hs?hd(r,Hs(n)):Mt(i=Fx(Object(n))).call(i,function(a){md(r,a,Zs(n,a))})}return r}function A8e(r){var t=I8e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function I8e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var M$=function(r){It(e,r);var t=A8e(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"_findBorderPositionBezier",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),o=10,l=.2,u=!1,f=1,h=0,c=this.to,m,d,v=this.options.endPointOffset?this.options.endPointOffset.to:0;n.id===this.from.id&&(c=this.from,u=!0,v=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(v=0);var b=0;do{d=(h+f)*.5,m=this.getPoint(d,s);var g=Math.atan2(c.y-m.y,c.x-m.x),y=c.distanceToBorder(a,g)+v,_=Math.sqrt(Math.pow(m.x-c.x,2)+Math.pow(m.y-c.y,2)),w=y-_;if(Math.abs(w)<l)break;w<0?u===!1?h=d:f=d:u===!1?f=d:h=d,++b}while(h<=f&&b<o);return zx(zx({},m),{},{t:d})}},{key:"_getDistanceToBezierEdge",value:function(n,a,s,o,l,u,f){var h=1e9,c,m,d,v,b,g=n,y=a;for(m=1;m<10;m++)d=.1*m,v=Math.pow(1-d,2)*n+2*d*(1-d)*f.x+Math.pow(d,2)*s,b=Math.pow(1-d,2)*a+2*d*(1-d)*f.y+Math.pow(d,2)*o,m>0&&(c=this._getDistanceToLine(g,y,v,b,l,u),h=c<h?c:h),g=v,y=b;return h}},{key:"_bezierCurve",value:function(n,a,s,o){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),s!=null&&s.x!=null?o!=null&&o.x!=null?n.bezierCurveTo(s.x,s.y,o.x,o.y,this.toPoint.x,this.toPoint.y):n.quadraticCurveTo(s.x,s.y,this.toPoint.x,this.toPoint.y):n.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(n,a),this.enableShadow(n,a),n.stroke(),this.disableShadow(n,a)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(SI);function C8e(r){var t=P8e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function P8e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var Lx=function(r){It(e,r);var t=C8e(e);function e(i,n,a){var s;return qe(this,e),s=t.call(this,i,n,a),s.via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return He(e,[{key:"setOptions",value:function(n){fm(Xe(e.prototype),"setOptions",this).call(this,n);var a=!1;this.options.physics!==n.physics&&(a=!0),this.options=n,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),a===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var n="edgeId:"+this.id,a=this._body.functions.createNode({id:n,shape:"circle",physics:!0,hidden:!0});this._body.nodes[n]=a,this.via=a,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(n,a,s){this._bezierCurve(n,a,s)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var s=this._getCircleData(),o=rr(s,3),l=o[0],u=o[1],f=o[2],h=2*Math.PI*(1-n);return{x:l+f*Math.sin(h),y:u+f-f*(1-Math.cos(h))}}else return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*a.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*a.y+Math.pow(n,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,a){return this._findBorderPositionBezier(n,a,this.via)}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){return this._getDistanceToBezierEdge(n,a,s,o,l,u,this.via)}}]),e}(M$);function D8e(r){var t=N8e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function N8e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var jx=function(r){It(e,r);var t=D8e(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"_line",value:function(n,a,s){this._bezierCurve(n,a,s)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var n=this.options.smooth.roundness,a=this.options.smooth.type,s=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if(a==="discrete"||a==="diagonalCross"){var l,u;s<=o?l=u=n*o:l=u=n*s,this.from.x>this.to.x&&(l=-l),this.from.y>=this.to.y&&(u=-u);var f=this.from.x+l,h=this.from.y+u;return a==="discrete"&&(s<=o?f=s<n*o?this.from.x:f:h=o<n*s?this.from.y:h),{x:f,y:h}}else if(a==="straightCross"){var c=(1-n)*s,m=(1-n)*o;return s<=o?(c=0,this.from.y<this.to.y&&(m=-m)):(this.from.x<this.to.x&&(c=-c),m=0),{x:this.to.x+c,y:this.to.y+m}}else if(a==="horizontal"){var d=(1-n)*s;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}else if(a==="vertical"){var v=(1-n)*o;return this.from.y<this.to.y&&(v=-v),{x:this.from.x,y:this.to.y+v}}else if(a==="curvedCW"){s=this.to.x-this.from.x,o=this.from.y-this.to.y;var b=Math.sqrt(s*s+o*o),g=Math.PI,y=Math.atan2(o,s),_=(y+(n*.5+.5)*g)%(2*g);return{x:this.from.x+(n*.5+.5)*b*Math.sin(_),y:this.from.y+(n*.5+.5)*b*Math.cos(_)}}else if(a==="curvedCCW"){s=this.to.x-this.from.x,o=this.from.y-this.to.y;var w=Math.sqrt(s*s+o*o),O=Math.PI,I=Math.atan2(o,s),M=(I+(-n*.5+.5)*O)%(2*O);return{x:this.from.x+(n*.5+.5)*w*Math.sin(M),y:this.from.y+(n*.5+.5)*w*Math.cos(M)}}else{var T,E;s<=o?T=E=n*o:T=E=n*s,this.from.x>this.to.x&&(T=-T),this.from.y>=this.to.y&&(E=-E);var q=this.from.x+T,k=this.from.y+E;return s<=o?this.from.x<=this.to.x?q=this.to.x<q?this.to.x:q:q=this.to.x>q?this.to.x:q:this.from.y>=this.to.y?k=this.to.y>k?this.to.y:k:k=this.to.y<k?this.to.y:k,{x:q,y:k}}}},{key:"_findBorderPosition",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(n,a,s.via)}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){var f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(n,a,s,o,l,u,f)}},{key:"getPoint",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=n,o=Math.pow(1-s,2)*this.fromPoint.x+2*s*(1-s)*a.x+Math.pow(s,2)*this.toPoint.x,l=Math.pow(1-s,2)*this.fromPoint.y+2*s*(1-s)*a.y+Math.pow(s,2)*this.toPoint.y;return{x:o,y:l}}}]),e}(M$);function R8e(r){var t=M8e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function M8e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var B8e=function(r){It(e,r);var t=R8e(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"_getDistanceToBezierEdge2",value:function(n,a,s,o,l,u,f,h){for(var c=1e9,m=n,d=a,v=[0,0,0,0],b=1;b<10;b++){var g=.1*b;v[0]=Math.pow(1-g,3),v[1]=3*g*Math.pow(1-g,2),v[2]=3*Math.pow(g,2)*(1-g),v[3]=Math.pow(g,3);var y=v[0]*n+v[1]*f.x+v[2]*h.x+v[3]*s,_=v[0]*a+v[1]*f.y+v[2]*h.y+v[3]*o;if(b>0){var w=this._getDistanceToLine(m,d,y,_,l,u);c=w<c?w:c}m=y,d=_}return c}}]),e}(M$);function F8e(r){var t=z8e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function z8e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var Ux=function(r){It(e,r);var t=F8e(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"_line",value:function(n,a,s){var o=s[0],l=s[1];this._bezierCurve(n,a,o,l)}},{key:"_getViaCoordinates",value:function(){var n=this.from.x-this.to.x,a=this.from.y-this.to.y,s,o,l,u,f=this.options.smooth.roundness;return(Math.abs(n)>Math.abs(a)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(o=this.from.y,u=this.to.y,s=this.from.x-f*n,l=this.to.x+f*n):(o=this.from.y-f*a,u=this.to.y+f*a,s=this.from.x,l=this.to.x),[{x:s,y:o},{x:l,y:u}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(n,a){return this._findBorderPositionBezier(n,a)}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){var f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),h=rr(f,2),c=h[0],m=h[1];return this._getDistanceToBezierEdge2(n,a,s,o,l,u,c,m)}},{key:"getPoint",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=rr(a,2),o=s[0],l=s[1],u=n,f=[Math.pow(1-u,3),3*u*Math.pow(1-u,2),3*Math.pow(u,2)*(1-u),Math.pow(u,3)],h=f[0]*this.fromPoint.x+f[1]*o.x+f[2]*l.x+f[3]*this.toPoint.x,c=f[0]*this.fromPoint.y+f[1]*o.y+f[2]*l.y+f[3]*this.toPoint.y;return{x:h,y:c}}}]),e}(B8e);function L8e(r){var t=j8e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function j8e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var qx=function(r){It(e,r);var t=L8e(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"_line",value:function(n,a){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),n.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(n,a),n.stroke(),this.disableShadow(n,a)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(n){return{x:(1-n)*this.fromPoint.x+n*this.toPoint.x,y:(1-n)*this.fromPoint.y+n*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,a){var s=this.to,o=this.from;n.id===this.from.id&&(s=this.from,o=this.to);var l=Math.atan2(s.y-o.y,s.x-o.x),u=s.x-o.x,f=s.y-o.y,h=Math.sqrt(u*u+f*f),c=n.distanceToBorder(a,l),m=(h-c)/h;return{x:(1-m)*o.x+m*s.x,y:(1-m)*o.y+m*s.y,t:0}}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){return this._getDistanceToLine(n,a,s,o,l,u)}}]),e}(SI),Vl=function(){function r(t,e,i,n,a){if(qe(this,r),e===void 0)throw new Error("No body provided");this.options=Ns(n),this.globalOptions=n,this.defaultOptions=a,this.body=e,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new gI(this.body,this.options,!0),this.setOptions(t)}return He(r,[{key:"setOptions",value:function(e){if(e){var i=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;r.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=pI(e.value));var n=[e,this.options,this.defaultOptions];return this.chooser=P$("edge",n),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,i=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,a=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:i,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:a?void 0:this.options.color.color,inheritsColor:a,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){var l=this.options.hoverWidth;typeof l=="function"?s.width=l(s.width):typeof l=="number"&&(s.width+=l),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}},{key:"updateLabelModule",value:function(e){var i=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,i=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof Lx&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof Ux&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof jx&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof qx&&e.type.enabled===!1)&&(n=!1),n===!0&&(i=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(i=!0,this.edgeType=new Lx(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new Ux(this.options,this.body,this.labelModule):this.edgeType=new jx(this.options,this.body,this.labelModule):this.edgeType=new qx(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),i}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,i,n){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,i,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*o}this.options.width=this.options.scaling.min+a*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var i=this.getFormattingValues();if(!i.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(e,i,this.selected,this.hover,n),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e){var i=this.getFormattingValues();if(!i.hidden){var n=this.edgeType.getViaNode(),a={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,i.fromArrow&&(a.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,i),i.arrowStrikethrough===!1&&(this.edgeType.fromPoint=a.from.core),i.fromArrowSrc&&(a.from.image=this.imagelist.load(i.fromArrowSrc)),i.fromArrowImageWidth&&(a.from.imageWidth=i.fromArrowImageWidth),i.fromArrowImageHeight&&(a.from.imageHeight=i.fromArrowImageHeight)),i.toArrow&&(a.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,i),i.arrowStrikethrough===!1&&(this.edgeType.toPoint=a.to.core),i.toArrowSrc&&(a.to.image=this.imagelist.load(i.toArrowSrc)),i.toArrowImageWidth&&(a.to.imageWidth=i.toArrowImageWidth),i.toArrowImageHeight&&(a.to.imageHeight=i.toArrowImageHeight)),i.middleArrow&&(a.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,i),i.middleArrowSrc&&(a.middle.image=this.imagelist.load(i.middleArrowSrc)),i.middleArrowImageWidth&&(a.middle.imageWidth=i.middleArrowImageWidth),i.middleArrowImageHeight&&(a.middle.imageHeight=i.middleArrowImageHeight)),i.fromArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,a.from),i.middleArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,a.middle),i.toArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,a.to)}}},{key:"drawLabel",value:function(e,i){if(this.options.label!==void 0){var n=this.from,a=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);var s;if(n.id!=a.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,i),e.save();var o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var l=dI(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(l.x,l.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var i=[];if(this.labelModule.visible()){var n=this._getRotation();db(this.labelModule.getSize(),e,n)&&i.push({edgeId:this.id,labelId:0})}var a={left:e.x,top:e.y};return this.isOverlappingWith(a)&&i.push({edgeId:this.id}),i}},{key:"isOverlappingWith",value:function(e){if(this.connected){var i=10,n=this.from.x,a=this.from.y,s=this.to.x,o=this.to.y,l=e.left,u=e.top,f=this.edgeType.getDistanceToEdge(n,a,s,o,l,u);return f<i}else return!1}},{key:"_getRotation",value:function(e){var i=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,i);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);var a={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return a;var s=this.from.y-this.to.y,o=this.from.x-this.to.x,l=Math.atan2(s,o);return(l<-1&&o<0||l>0&&o<0)&&(l+=Math.PI),a.angle=l,a}},{key:"_pointOnCircle",value:function(e,i,n,a){return{x:e+n*Math.cos(a),y:i-n*Math.sin(a)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(ju(o,e,i,n),i.endPointOffset!==void 0&&i.endPointOffset.from!==void 0&&(po(i.endPointOffset.from)?e.endPointOffset.from=i.endPointOffset.from:(e.endPointOffset.from=a.endPointOffset.from!==void 0?a.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),i.endPointOffset!==void 0&&i.endPointOffset.to!==void 0&&(po(i.endPointOffset.to)?e.endPointOffset.to=i.endPointOffset.to:(e.endPointOffset.to=a.endPointOffset.to!==void 0?a.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Vm(i.label)?e.label=i.label:Vm(e.label)||(e.label=void 0),Wi(e,i,"smooth",a),Wi(e,i,"shadow",a),Wi(e,i,"background",a),i.dashes!==void 0&&i.dashes!==null?e.dashes=i.dashes:n===!0&&i.dashes===null&&(e.dashes=So(a.dashes)),i.scaling!==void 0&&i.scaling!==null?(i.scaling.min!==void 0&&(e.scaling.min=i.scaling.min),i.scaling.max!==void 0&&(e.scaling.max=i.scaling.max),Wi(e.scaling,i.scaling,"label",a.scaling)):n===!0&&i.scaling===null&&(e.scaling=So(a.scaling)),i.arrows!==void 0&&i.arrows!==null)if(typeof i.arrows=="string"){var l=i.arrows.toLowerCase();e.arrows.to.enabled=Et(l).call(l,"to")!=-1,e.arrows.middle.enabled=Et(l).call(l,"middle")!=-1,e.arrows.from.enabled=Et(l).call(l,"from")!=-1}else if(Nt(i.arrows)==="object")Wi(e.arrows,i.arrows,"to",a.arrows),Wi(e.arrows,i.arrows,"middle",a.arrows),Wi(e.arrows,i.arrows,"from",a.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Bc(i.arrows));else n===!0&&i.arrows===null&&(e.arrows=So(a.arrows));if(i.color!==void 0&&i.color!==null){var u=_s(i.color)?{color:i.color,highlight:i.color,hover:i.color,inherit:!1,opacity:1}:i.color,f=e.color;if(s)zt(f,a.color,!1,n);else for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&delete f[h];if(_s(f))f.color=f,f.highlight=f,f.hover=f,f.inherit=!1,u.opacity===void 0&&(f.opacity=1);else{var c=!1;u.color!==void 0&&(f.color=u.color,c=!0),u.highlight!==void 0&&(f.highlight=u.highlight,c=!0),u.hover!==void 0&&(f.hover=u.hover,c=!0),u.inherit!==void 0&&(f.inherit=u.inherit),u.opacity!==void 0&&(f.opacity=Math.min(1,Math.max(0,u.opacity))),c===!0?f.inherit=!1:f.inherit===void 0&&(f.inherit="from")}}else n===!0&&i.color===null&&(e.color=Ns(a.color));n===!0&&i.font===null&&(e.font=Ns(a.font)),Object.prototype.hasOwnProperty.call(i,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=i.selfReferenceSize)}}]),r}(),U8e=function(){function r(t,e,i){var n,a=this;qe(this,r),this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=Fe(n=this.create).call(n,this),this.edgesListeners={add:function(o,l){a.add(l.items)},update:function(o,l){a.update(l.items)},remove:function(o,l){a.remove(l.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,l,u,f){if(l===o)return .5;var h=1/(l-o);return Math.max(0,(f-o)*h)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},zt(this.options,this.defaultOptions),this.bindEventListeners()}return He(r,[{key:"bindEventListeners",value:function(){var e=this,i,n;this.body.emitter.on("_forceDisableDynamicCurves",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a==="dynamic"&&(a="continuous");var o=!1;for(var l in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,l)){var u=e.body.edges[l],f=e.body.data.edges.get(l);if(f!=null){var h=f.smooth;h!==void 0&&h.enabled===!0&&h.type==="dynamic"&&(a===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:a}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges()}),this.body.emitter.on("refreshEdges",Fe(i=this.refresh).call(i,this)),this.body.emitter.on("refresh",Fe(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",function(){pt(e.edgesListeners,function(a,s){e.body.data.edges&&e.body.data.edges.off(s,a)}),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){Vl.parseOptions(this.options,e,!0,this.defaultOptions,!0);var i=!1;if(e.smooth!==void 0)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(i=this.body.edges[n].updateEdgeType()||i);if(e.font!==void 0)for(var a in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,a)&&this.body.edges[a].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||i===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.body.data.edges;if(g9("id",e))this.body.data.edges=e;else if(Pt(e))this.body.data.edges=new Rm,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Rm;else throw new TypeError("Array or DataSet expected");if(a&&pt(this.edgesListeners,function(o,l){a.off(l,o)}),this.body.edges={},this.body.data.edges){pt(this.edgesListeners,function(o,l){i.body.data.edges.on(l,o)});var s=this.body.data.edges.getIds();this.add(s,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.edges,a=this.body.data.edges,s=0;s<e.length;s++){var o=e[s],l=n[o];l&&l.disconnect();var u=a.get(o,{showInternalIds:!0});n[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var i=this.body.edges,n=this.body.data.edges,a=!1,s=0;s<e.length;s++){var o=e[s],l=n.get(o),u=i[o];u!==void 0?(u.disconnect(),a=u.setOptions(l)||a,u.connect()):(this.body.edges[o]=this.create(l),a=!0)}a===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length!==0){var n=this.body.edges;pt(e,function(a){var s=n[a];s!==void 0&&s.remove()}),i&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;pt(this.body.edges,function(i,n){var a=e.body.data.edges.get(n);a!==void 0&&i.setOptions(a)})}},{key:"create",value:function(e){return new Vl(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,i=this.body.nodes,n=this.body.edges;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var a=n[e];a.from=null,a.to=null,a.connect()}}},{key:"getConnectedNodes",value:function(e){var i=[];if(this.body.edges[e]!==void 0){var n=this.body.edges[e];n.fromId!==void 0&&i.push(n.fromId),n.toId!==void 0&&i.push(n.toId)}return i}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,i=[];pt(this.body.edges,function(n,a){var s=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];s!==void 0&&s.isCluster===!0||o!==void 0&&o.isCluster===!0||(s===void 0||o===void 0)&&i.push(a)}),this.remove(i,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var i=this.body.edges,n=[];Mt(e).call(e,function(a,s){var o=i[s];o===void 0&&n.push(s)}),this.add(n,!0)}}}]),r}(),EI=function(){function r(t,e,i){qe(this,r),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this._rng=fd("BARNES HUT SOLVER")}return He(r,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,i=this.body.nodes,n=this.physicsBody.physicsNodeIndices,a=n.length,s=this._formBarnesHutTree(i,n);this.barnesHutTree=s;for(var o=0;o<a;o++)e=i[n[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}},{key:"_getForceContributions",value:function(e,i){this._getForceContribution(e.children.NW,i),this._getForceContribution(e.children.NE,i),this._getForceContribution(e.children.SW,i),this._getForceContribution(e.children.SE,i)}},{key:"_getForceContribution",value:function(e,i){if(e.childrenCount>0){var n=e.centerOfMass.x-i.x,a=e.centerOfMass.y-i.y,s=Math.sqrt(n*n+a*a);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,a,i,e):e.childrenCount===4?this._getForceContributions(e,i):e.children.data.id!=i.id&&this._calculateForces(s,n,a,i,e)}}},{key:"_calculateForces",value:function(e,i,n,a,s){e===0&&(e=.1,i=e),this.overlapAvoidanceFactor<1&&a.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*a.shape.radius,e-a.shape.radius));var o=this.options.gravitationalConstant*s.mass*a.options.mass/Math.pow(e,3),l=i*o,u=n*o;this.physicsBody.forces[a.id].x+=l,this.physicsBody.forces[a.id].y+=u}},{key:"_formBarnesHutTree",value:function(e,i){for(var n,a=i.length,s=e[i[0]].x,o=e[i[0]].y,l=e[i[0]].x,u=e[i[0]].y,f=1;f<a;f++){var h=e[i[f]],c=h.x,m=h.y;h.options.mass>0&&(c<s&&(s=c),c>l&&(l=c),m<o&&(o=m),m>u&&(u=m))}var d=Math.abs(l-s)-Math.abs(u-o);d>0?(o-=.5*d,u+=.5*d):(s+=.5*d,l-=.5*d);var v=1e-5,b=Math.max(v,Math.abs(l-s)),g=.5*b,y=.5*(s+l),_=.5*(o+u),w={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:y-g,maxX:y+g,minY:_-g,maxY:_+g},size:b,calcSize:1/b,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(w.root);for(var O=0;O<a;O++)n=e[i[O]],n.options.mass>0&&this._placeInTree(w.root,n);return w}},{key:"_updateBranchMass",value:function(e,i){var n=e.centerOfMass,a=e.mass+i.options.mass,s=1/a;n.x=n.x*e.mass+i.x*i.options.mass,n.x*=s,n.y=n.y*e.mass+i.y*i.options.mass,n.y*=s,e.mass=a;var o=Math.max(Math.max(i.height,i.radius),i.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}},{key:"_placeInTree",value:function(e,i,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,i);var a=e.children.NW.range,s;a.maxX>i.x?a.maxY>i.y?s="NW":s="SW":a.maxY>i.y?s="NE":s="SE",this._placeInRegion(e,i,s)}},{key:"_placeInRegion",value:function(e,i,n){var a=e.children[n];switch(a.childrenCount){case 0:a.children.data=i,a.childrenCount=1,this._updateBranchMass(a,i);break;case 1:a.children.data.x===i.x&&a.children.data.y===i.y?(i.x+=this._rng(),i.y+=this._rng()):(this._splitBranch(a),this._placeInTree(a,i));break;case 4:this._placeInTree(a,i);break}}},{key:"_splitBranch",value:function(e){var i=null;e.childrenCount===1&&(i=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),i!=null&&this._placeInTree(e,i)}},{key:"_insertRegion",value:function(e,i){var n,a,s,o,l=.5*e.size;switch(i){case"NW":n=e.range.minX,a=e.range.minX+l,s=e.range.minY,o=e.range.minY+l;break;case"NE":n=e.range.minX+l,a=e.range.maxX,s=e.range.minY,o=e.range.minY+l;break;case"SW":n=e.range.minX,a=e.range.minX+l,s=e.range.minY+l,o=e.range.maxY;break;case"SE":n=e.range.minX+l,a=e.range.maxX,s=e.range.minY+l,o=e.range.maxY;break}e.children[i]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:a,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,i){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,i))}},{key:"_drawBranch",value:function(e,i,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,i),this._drawBranch(e.children.NE,i),this._drawBranch(e.children.SE,i),this._drawBranch(e.children.SW,i)),i.strokeStyle=n,i.beginPath(),i.moveTo(e.range.minX,e.range.minY),i.lineTo(e.range.maxX,e.range.minY),i.stroke(),i.beginPath(),i.moveTo(e.range.maxX,e.range.minY),i.lineTo(e.range.maxX,e.range.maxY),i.stroke(),i.beginPath(),i.moveTo(e.range.maxX,e.range.maxY),i.lineTo(e.range.minX,e.range.maxY),i.stroke(),i.beginPath(),i.moveTo(e.range.minX,e.range.maxY),i.lineTo(e.range.minX,e.range.minY),i.stroke()}}]),r}(),q8e=function(){function r(t,e,i){qe(this,r),this._rng=fd("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(i)}return He(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n,a,s,o,l,u,f=this.body.nodes,h=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,m=this.options.nodeDistance,d=-2/3/m,v=4/3,b=0;b<h.length-1;b++){l=f[h[b]];for(var g=b+1;g<h.length;g++)u=f[h[g]],e=u.x-l.x,i=u.y-l.y,n=Math.sqrt(e*e+i*i),n===0&&(n=.1*this._rng(),e=n),n<2*m&&(n<.5*m?o=1:o=d*n+v,o=o/n,a=e*o,s=i*o,c[l.id].x-=a,c[l.id].y-=s,c[u.id].x+=a,c[u.id].y+=s)}}}]),r}(),H8e=function(){function r(t,e,i){qe(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return He(r,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,a=this.options.nodeDistance,s=0;s<i.length-1;s++)for(var o=e[i[s]],l=s+1;l<i.length;l++){var u=e[i[l]];if(o.level===u.level){var f=a+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),h=u.x-o.x,c=u.y-o.y,m=Math.sqrt(h*h+c*c),d=.05,v=void 0;m<f?v=-Math.pow(d*m,2)+Math.pow(d*f,2):v=0,m!==0&&(v=v/m);var b=h*v,g=c*v;n[o.id].x-=b,n[o.id].y-=g,n[u.id].x+=b,n[u.id].y+=g}}}}]),r}(),wg=function(){function r(t,e,i){qe(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return He(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n=this.physicsBody.physicsEdgeIndices,a=this.body.edges,s,o,l,u=0;u<n.length;u++)i=a[n[u]],i.connected===!0&&i.toId!==i.fromId&&this.body.nodes[i.toId]!==void 0&&this.body.nodes[i.fromId]!==void 0&&(i.edgeType.via!==void 0?(e=i.options.length===void 0?this.options.springLength:i.options.length,s=i.to,o=i.edgeType.via,l=i.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,l,.5*e)):(e=i.options.length===void 0?this.options.springLength*1.5:i.options.length,this._calculateSpringForce(i.from,i.to,e)))}},{key:"_calculateSpringForce",value:function(e,i,n){var a=e.x-i.x,s=e.y-i.y,o=Math.max(Math.sqrt(a*a+s*s),.01),l=this.options.springConstant*(n-o)/o,u=a*l,f=s*l;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=f),this.physicsBody.forces[i.id]!==void 0&&(this.physicsBody.forces[i.id].x-=u,this.physicsBody.forces[i.id].y-=f)}}]),r}(),G8e=function(){function r(t,e,i){qe(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return He(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n,a,s,o,l,u,f=this.body.edges,h=.5,c=this.physicsBody.physicsEdgeIndices,m=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,v=0;v<m.length;v++){var b=m[v];d[b].springFx=0,d[b].springFy=0}for(var g=0;g<c.length;g++)i=f[c[g]],i.connected===!0&&(e=i.options.length===void 0?this.options.springLength:i.options.length,n=i.from.x-i.to.x,a=i.from.y-i.to.y,u=Math.sqrt(n*n+a*a),u=u===0?.01:u,l=this.options.springConstant*(e-u)/u,s=n*l,o=a*l,i.to.level!=i.from.level?(d[i.toId]!==void 0&&(d[i.toId].springFx-=s,d[i.toId].springFy-=o),d[i.fromId]!==void 0&&(d[i.fromId].springFx+=s,d[i.fromId].springFy+=o)):(d[i.toId]!==void 0&&(d[i.toId].x-=h*s,d[i.toId].y-=h*o),d[i.fromId]!==void 0&&(d[i.fromId].x+=h*s,d[i.fromId].y+=h*o)));l=1;for(var y,_,w=0;w<m.length;w++){var O=m[w];y=Math.min(l,Math.max(-l,d[O].springFx)),_=Math.min(l,Math.max(-l,d[O].springFy)),d[O].x+=y,d[O].y+=_}for(var I=0,M=0,T=0;T<m.length;T++){var E=m[T];I+=d[E].x,M+=d[E].y}for(var q=I/m.length,k=M/m.length,j=0;j<m.length;j++){var J=m[j];d[J].x-=q,d[J].y-=k}}}]),r}(),cm=function(){function r(t,e,i){qe(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return He(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n,a,s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,u=0;u<o.length;u++){var f=o[u];a=s[f],e=-a.x,i=-a.y,n=Math.sqrt(e*e+i*i),this._calculateForces(n,e,i,l,a)}}},{key:"_calculateForces",value:function(e,i,n,a,s){var o=e===0?0:this.options.centralGravity/e;a[s.id].x=i*o,a[s.id].y=n*o}}]),r}();function W8e(r){var t=V8e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function V8e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var X8e=function(r){It(e,r);var t=W8e(e);function e(i,n,a){var s;return qe(this,e),s=t.call(this,i,n,a),s._rng=fd("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return He(e,[{key:"_calculateForces",value:function(n,a,s,o,l){n===0&&(n=.1*this._rng(),a=n),this.overlapAvoidanceFactor<1&&o.shape.radius&&(n=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,n-o.shape.radius));var u=o.edges.length+1,f=this.options.gravitationalConstant*l.mass*o.options.mass*u/Math.pow(n,2),h=a*f,c=s*f;this.physicsBody.forces[o.id].x+=h,this.physicsBody.forces[o.id].y+=c}}]),e}(EI);function K8e(r){var t=Y8e();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function Y8e(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var J8e=function(r){It(e,r);var t=K8e(e);function e(i,n,a){return qe(this,e),t.call(this,i,n,a)}return He(e,[{key:"_calculateForces",value:function(n,a,s,o,l){if(n>0){var u=l.edges.length+1,f=this.options.centralGravity*u*l.options.mass;o[l.id].x=a*f,o[l.id].y=s*f}}}]),e}(cm),Q8e=function(){function r(t){qe(this,r),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},pr(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return He(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Hm(["stabilization"],this.options,e),Wi(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var i=this.options.wind;i&&((typeof i.x!="number"||pb(i.x))&&(i.x=0),(typeof i.y!="number"||pb(i.y))&&(i.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new X8e(this.body,this.physicsBody,e),this.edgesSolver=new wg(this.body,this.physicsBody,e),this.gravitySolver=new J8e(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new q8e(this.body,this.physicsBody,e),this.edgesSolver=new wg(this.body,this.physicsBody,e),this.gravitySolver=new cm(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new H8e(this.body,this.physicsBody,e),this.edgesSolver=new G8e(this.body,this.physicsBody,e),this.gravitySolver=new cm(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new EI(this.body,this.physicsBody,e),this.edgesSolver=new wg(this.body,this.physicsBody,e),this.gravitySolver=new cm(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=Fe(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Lm();this.physicsTick();var i=Lm()-e;(i<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Hn(function(){e.body.emitter.emit("stabilized",{iterations:i}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var e=1.2;this._evaluateStepQuality()===!0?this.timestep=e*this.timestep:this.timestep/e<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/e))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var e=this.adaptiveCounter%this.adaptiveInterval===0;e?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,i=this.body.edges;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&i[a].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(i[a].id);for(var s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var o=this.physicsBody.physicsNodeIndices[s];this.physicsBody.forces[o]={x:0,y:0},this.physicsBody.velocities[o]===void 0&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var l in this.physicsBody.velocities)e[l]===void 0&&delete this.physicsBody.velocities[l]}},{key:"revert",value:function(){var e=tr(this.previousStates),i=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var a=0;a<e.length;a++){var s=e[a];i[s]!==void 0?i[s].options.physics===!0&&(this.referenceState[s]={positions:{x:i[s].x,y:i[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,i[s].x=this.previousStates[s].x,i[s].y=this.previousStates[s].y):delete this.previousStates[s]}}},{key:"_evaluateStepQuality",value:function(){var e,i,n,a=this.body.nodes,s=this.referenceState,o=.3;for(var l in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,l)&&a[l]!==void 0&&(e=a[l].x-s[l].positions.x,i=a[l].y-s[l].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),n>o))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,i=0,n=0,a=5,s=0;s<e.length;s++){var o=e[s],l=this._performStep(o);i=Math.max(i,l),n+=l}this.adaptiveTimestepEnabled=n/e.length<a,this.stabilized=i<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,i,n){var a=this.modelOptions.damping*e,s=(i-a)/n;e+=s*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}},{key:"_performStep",value:function(e){var i=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var a=this.physicsBody.velocities[e];this.previousStates[e]={x:i.x,y:i.y,vx:a.x,vy:a.y},i.options.fixed.x===!1?(a.x=this.calculateComponentVelocity(a.x,n.x,i.options.mass),i.x+=a.x*this.timestep):(n.x=0,a.x=0),i.options.fixed.y===!1?(a.y=this.calculateComponentVelocity(a.y,n.y,i.options.mass),i.y+=a.y*this.timestep):(n.y=0,a.y=0);var s=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));return s}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i].x&&e[i].y){var n=e[i].options.fixed;this.freezeCache[i]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&this.freezeCache[i]!==void 0&&(e[i].options.fixed.x=this.freezeCache[i].x,e[i].options.fixed.y=this.freezeCache[i].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof i!="number"&&(i=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",i)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=i,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Hn(function(){return e._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,i=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var a=0;i()&&a<this.options.stabilization.updateInterval;)this.physicsTick(),a++;if(n(),i()){var s;Hn(Fe(s=this._stabilizationBatch).call(s,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var i=0;i<this.physicsBody.physicsNodeIndices.length;i++){var n=this.physicsBody.physicsNodeIndices[i],a=this.body.nodes[n],s=this.physicsBody.forces[n],o=20,l=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),f=Math.min(Math.max(5,u),15),h=3*f,c=cb((180-Math.min(1,Math.max(0,l*u))*180)/360,1,1),m={x:a.x+o*s.x,y:a.y+o*s.y};e.lineWidth=f,e.strokeStyle=c,e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(m.x,m.y),e.stroke();var d=Math.atan2(s.y,s.x);e.fillStyle=c,xI.draw(e,{type:"arrow",point:m,angle:d,length:h}),Fc(e).call(e)}}}]),r}();let Fh;const Z8e=new Uint8Array(16);function eEe(){if(!Fh&&(Fh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fh(Z8e)}const Ur=[];for(let r=0;r<256;++r)Ur.push((r+256).toString(16).slice(1));function tEe(r,t=0){return Ur[r[t+0]]+Ur[r[t+1]]+Ur[r[t+2]]+Ur[r[t+3]]+"-"+Ur[r[t+4]]+Ur[r[t+5]]+"-"+Ur[r[t+6]]+Ur[r[t+7]]+"-"+Ur[r[t+8]]+Ur[r[t+9]]+"-"+Ur[r[t+10]]+Ur[r[t+11]]+Ur[r[t+12]]+Ur[r[t+13]]+Ur[r[t+14]]+Ur[r[t+15]]}const rEe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Hx={randomUUID:rEe};function vf(r,t,e){if(Hx.randomUUID&&!t&&!r)return Hx.randomUUID();r=r||{};const i=r.random||(r.rng||eEe)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let n=0;n<16;++n)t[e+n]=i[n];return t}return tEe(i)}var Qr=function(){function r(){qe(this,r)}return He(r,null,[{key:"getRange",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,a=-1e9,s=1e9,o=-1e9,l;if(i.length>0)for(var u=0;u<i.length;u++)l=e[i[u]],s>l.shape.boundingBox.left&&(s=l.shape.boundingBox.left),o<l.shape.boundingBox.right&&(o=l.shape.boundingBox.right),n>l.shape.boundingBox.top&&(n=l.shape.boundingBox.top),a<l.shape.boundingBox.bottom&&(a=l.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&n===1e9&&a===-1e9&&(n=0,a=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:a}}},{key:"getRangeCore",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,a=-1e9,s=1e9,o=-1e9,l;if(i.length>0)for(var u=0;u<i.length;u++)l=e[i[u]],s>l.x&&(s=l.x),o<l.x&&(o=l.x),n>l.y&&(n=l.y),a<l.y&&(a=l.y);return s===1e9&&o===-1e9&&n===1e9&&a===-1e9&&(n=0,a=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:a}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,i){var n={};return i===void 0||i==="node"?(zt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):zt(n,e.options,!0),n}}]),r}();function iEe(r){var t=nEe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function nEe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var aEe=function(r){It(e,r);var t=iEe(e);function e(i,n,a,s,o,l){var u;return qe(this,e),u=t.call(this,i,n,a,s,o,l),u.isCluster=!0,u.containedNodes={},u.containedEdges={},u}return He(e,[{key:"_openChildCluster",value:function(n){var a=this,s=this.body.nodes[n];if(this.containedNodes[n]===void 0)throw new Error("node with id: "+n+" not in current cluster");if(!s.isCluster)throw new Error("node with id: "+n+" is not a cluster");delete this.containedNodes[n],pt(s.edges,function(o){delete a.containedEdges[o.id]}),pt(s.containedNodes,function(o,l){a.containedNodes[l]=o}),s.containedNodes={},pt(s.containedEdges,function(o,l){a.containedEdges[l]=o}),s.containedEdges={},pt(s.edges,function(o){pt(a.edges,function(l){var u,f,h=Et(u=l.clusteringEdgeReplacingIds).call(u,o.id);h!==-1&&(pt(o.clusteringEdgeReplacingIds,function(c){l.clusteringEdgeReplacingIds.push(c),a.body.edges[c].edgeReplacedById=l.id}),pa(f=l.clusteringEdgeReplacingIds).call(f,h,1))})}),s.edges=[]}}]),e}(Oi),sEe=function(){function r(t){var e=this;qe(this,r),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},pr(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}return He(r,[{key:"clusterByHubsize",value:function(e,i){e===void 0?e=this._getHubSize():Nt(e)==="object"&&(i=this._checkOptions(e),e=this._getHubSize());for(var n=[],a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodes[this.body.nodeIndices[a]];s.edges.length>=e&&n.push(s.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],i,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(i.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");i=this._checkOptions(i);var a={},s={};pt(this.body.nodes,function(o,l){o.options&&i.joinCondition(o.options)===!0&&(a[l]=o,pt(o.edges,function(u){e.clusteredEdges[u.id]===void 0&&(s[u.id]=u)}))}),this._cluster(a,s,i,n)}},{key:"clusterByEdgeCount",value:function(e,i){var n=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;i=this._checkOptions(i);for(var s=[],o={},l,u,f,h=function(){var v={},b={},g=n.body.nodeIndices[c],y=n.body.nodes[g];if(o[g]===void 0){f=0,u=[];for(var _=0;_<y.edges.length;_++)l=y.edges[_],n.clusteredEdges[l.id]===void 0&&(l.toId!==l.fromId&&f++,u.push(l));if(f===e){for(var w=function(J){if(i.joinCondition===void 0||i.joinCondition===null)return!0;var Q=Qr.cloneOptions(J);return i.joinCondition(Q)},O=!0,I=0;I<u.length;I++){l=u[I];var M=n._getConnectedId(l,g);if(w(y))b[l.id]=l,v[g]=y,v[M]=n.body.nodes[M],o[g]=!0;else{O=!1;break}}if(tr(v).length>0&&tr(b).length>0&&O===!0){var T=function(){for(var J=0;J<s.length;++J)for(var Q in v)if(s[J].nodes[Q]!==void 0)return s[J]},E=T();if(E!==void 0){for(var q in v)E.nodes[q]===void 0&&(E.nodes[q]=v[q]);for(var k in b)E.edges[k]===void 0&&(E.edges[k]=b[k])}else s.push({nodes:v,edges:b})}}}},c=0;c<this.body.nodeIndices.length;c++)h();for(var m=0;m<s.length;m++)this._cluster(s[m].nodes,s[m].edges,i,!1);a===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,i)}},{key:"clusterBridges",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,i)}},{key:"clusterByConnection",value:function(e,i){var n,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var s=this.body.nodes[e];i=this._checkOptions(i,s),i.clusterNodeProperties.x===void 0&&(i.clusterNodeProperties.x=s.x),i.clusterNodeProperties.y===void 0&&(i.clusterNodeProperties.y=s.y),i.clusterNodeProperties.fixed===void 0&&(i.clusterNodeProperties.fixed={},i.clusterNodeProperties.fixed.x=s.options.fixed.x,i.clusterNodeProperties.fixed.y=s.options.fixed.y);var o={},l={},u=s.id,f=Qr.cloneOptions(s);o[u]=s;for(var h=0;h<s.edges.length;h++){var c=s.edges[h];if(this.clusteredEdges[c.id]===void 0){var m=this._getConnectedId(c,u);if(this.clusteredNodes[m]===void 0)if(m!==u)if(i.joinCondition===void 0)l[c.id]=c,o[m]=this.body.nodes[m];else{var d=Qr.cloneOptions(this.body.nodes[m]);i.joinCondition(f,d)===!0&&(l[c.id]=c,o[m]=this.body.nodes[m])}else l[c.id]=c}}var v=ou(n=tr(o)).call(n,function(w){return o[w].id});for(var b in o)if(Object.prototype.hasOwnProperty.call(o,b))for(var g=o[b],y=0;y<g.edges.length;y++){var _=g.edges[y];Et(v).call(v,this._getConnectedId(_,g.id))>-1&&(l[_.id]=_)}this._cluster(o,l,i,a)}},{key:"_createClusterEdges",value:function(e,i,n,a){for(var s,o,l,u,f,h,c=tr(e),m=[],d=0;d<c.length;d++){o=c[d],l=e[o];for(var v=0;v<l.edges.length;v++)s=l.edges[v],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?i[s.id]=s:s.toId==o?(u=n.id,f=s.fromId,h=f):(u=s.toId,f=n.id,h=u),e[h]===void 0&&m.push({edge:s,fromId:f,toId:u}))}for(var b=[],g=function(M){for(var T=0;T<b.length;T++){var E=b[T],q=M.fromId===E.fromId&&M.toId===E.toId,k=M.fromId===E.toId&&M.toId===E.fromId;if(q||k)return E}return null},y=0;y<m.length;y++){var _=m[y],w=_.edge,O=g(_);O===null?(O=this._createClusteredEdge(_.fromId,_.toId,w,a),b.push(O)):O.clusteringEdgeReplacingIds.push(w.id),this.body.edges[w.id].edgeReplacedById=O.id,this._backupEdgeOptions(w),w.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&this.clusteredNodes[o]!==void 0&&s.push(o);for(var l=0;l<s.length;++l)delete e[s[l]];if(tr(e).length!=0&&!(tr(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)){var u=zt({},n.clusterNodeProperties);if(n.processProperties!==void 0){var f=[];for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var c=Qr.cloneOptions(e[h]);f.push(c)}var m=[];for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)&&d.substr(0,12)!=="clusterEdge:"){var v=Qr.cloneOptions(i[d],"edge");m.push(v)}if(u=n.processProperties(u,f,m),!u)throw new Error("The processProperties function does not return properties!")}u.id===void 0&&(u.id="cluster:"+vf());var b=u.id;u.label===void 0&&(u.label="cluster");var g=void 0;u.x===void 0&&(g=this._getClusterPosition(e),u.x=g.x),u.y===void 0&&(g===void 0&&(g=this._getClusterPosition(e)),u.y=g.y),u.id=b;var y=this.body.functions.createNode(u,aEe);y.containedNodes=e,y.containedEdges=i,y.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[u.id]=y,this._clusterEdges(e,i,u,n.clusterEdgeProperties),u.id=void 0,a===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var i=this.clusteredEdges[e.id];i!==void 0&&(e.setOptions({physics:i.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var i=tr(e),n=e[i[0]].x,a=e[i[0]].x,s=e[i[0]].y,o=e[i[0]].y,l,u=1;u<i.length;u++)l=e[i[u]],n=l.x<n?l.x:n,a=l.x>a?l.x:a,s=l.y<s?l.y:s,o=l.y>o?l.y:o;return{x:.5*(n+a),y:.5*(s+o)}}},{key:"openCluster",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var a=this.body.nodes[e];if(a===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(a.isCluster!==!0||a.containedNodes===void 0||a.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var s=this.findNode(e),o=Et(s).call(s,e)-1;if(o>=0){var l=s[o],u=this.body.nodes[l];u._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}var f=a.containedNodes,h=a.containedEdges;if(i!==void 0&&i.releaseFunction!==void 0&&typeof i.releaseFunction=="function"){var c={},m={x:a.x,y:a.y};for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)){var v=this.body.nodes[d];c[d]={x:v.x,y:v.y}}var b=i.releaseFunction(m,c);for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)){var y=this.body.nodes[g];b[g]!==void 0&&(y.x=b[g].x===void 0?a.x:b[g].x,y.y=b[g].y===void 0?a.y:b[g].y)}}else pt(f,function(te){te.options.fixed.x===!1&&(te.x=a.x),te.options.fixed.y===!1&&(te.y=a.y)});for(var _ in f)if(Object.prototype.hasOwnProperty.call(f,_)){var w=this.body.nodes[_];w.vx=a.vx,w.vy=a.vy,w.setOptions({physics:!0}),delete this.clusteredNodes[_]}for(var O=[],I=0;I<a.edges.length;I++)O.push(a.edges[I]);for(var M=0;M<O.length;M++){for(var T=O[M],E=this._getConnectedId(T,e),q=this.clusteredNodes[E],k=0;k<T.clusteringEdgeReplacingIds.length;k++){var j=T.clusteringEdgeReplacingIds[k],J=this.body.edges[j];if(J!==void 0)if(q!==void 0){var Q=this.body.nodes[q.clusterId];Q.containedEdges[J.id]=J,delete h[J.id];var R=J.fromId,B=J.toId;J.toId==E?B=q.clusterId:R=q.clusterId,this._createClusteredEdge(R,B,J,Q.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(J)}T.remove()}for(var U in h)Object.prototype.hasOwnProperty.call(h,U)&&this._restoreEdge(h[U]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var i=[];if(this.isCluster(e)===!0){var n=this.body.nodes[e].containedNodes;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.push(this.body.nodes[a].id)}return i}},{key:"findNode",value:function(e){for(var i=[],n=100,a=0,s;this.clusteredNodes[e]!==void 0&&a<n;){if(s=this.body.nodes[e],s===void 0)return[];i.push(s.id),e=this.clusteredNodes[e].clusterId,a++}return s=this.body.nodes[e],s===void 0?[]:(i.push(s.id),xo(i).call(i),i)}},{key:"updateClusteredNode",value:function(e,i){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(i===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(i),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,i){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(i===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),a=0;a<n.length;a++){var s=this.body.edges[n[a]];s.setOptions(i)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var i=[],n=100,a=0;e!==void 0&&this.body.edges[e]!==void 0&&a<n;)i.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,a++;return xo(i).call(i),i}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var i=[e],n=[],a=[],s=100,o=0;i.length>0&&o<s;){var l=i.pop();if(l!==void 0){var u=this.body.edges[l];if(u!==void 0){o++;var f=u.clusteringEdgeReplacingIds;if(f===void 0)a.push(l);else for(var h=0;h<f.length;++h){var c=f[h];Et(i).call(i,f)!==-1||Et(n).call(n,f)!==-1||i.push(c)}n.push(l)}}}return a}},{key:"_getConnectedId",value:function(e,i){return e.toId!=i?e.toId:(e.fromId!=i,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,i=0,n=0,a=0,s=0;s<this.body.nodeIndices.length;s++){var o=this.body.nodes[this.body.nodeIndices[s]];o.edges.length>a&&(a=o.edges.length),e+=o.edges.length,i+=Math.pow(o.edges.length,2),n+=1}e=e/n,i=i/n;var l=i-Math.pow(e,2),u=Math.sqrt(l),f=Math.floor(e+2*u);return f>a&&(f=a),f}},{key:"_createClusteredEdge",value:function(e,i,n,a,s){var o=Qr.cloneOptions(n,"edge");zt(o,a),o.from=e,o.to=i,o.id="clusterEdge:"+vf(),s!==void 0&&zt(o,s);var l=this.body.functions.createEdge(o);return l.clusteringEdgeReplacingIds=[n.id],l.connect(),this.body.edges[l.id]=l,l}},{key:"_clusterEdges",value:function(e,i,n,a){if(i instanceof Vl){var s=i,o={};o[s.id]=s,i=o}if(e instanceof Oi){var l=e,u={};u[l.id]=l,e=u}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");a===void 0&&(a=n.clusterEdgeProperties),this._createClusterEdges(e,i,n,a);for(var f in i)if(Object.prototype.hasOwnProperty.call(i,f)&&this.body.edges[f]!==void 0){var h=this.body.edges[f];this._backupEdgeOptions(h),h.setOptions({physics:!1})}for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var i=this.clusteredNodes[e];if(i!==void 0){var n=i.clusterId;if(n!==void 0)return this.body.nodes[n]}}}},{key:"_filter",value:function(e,i){var n=[];return pt(e,function(a){i(a)&&n.push(a)}),n}},{key:"_updateState",value:function(){var e=this,i,n=[],a={},s=function(d){pt(e.body.nodes,function(v){v.isCluster===!0&&d(v)})};for(i in this.clusteredNodes)if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,i)){var o=this.body.nodes[i];o===void 0&&n.push(i)}s(function(m){for(var d=0;d<n.length;d++)delete m.containedNodes[n[d]]});for(var l=0;l<n.length;l++)delete this.clusteredNodes[n[l]];pt(this.clusteredEdges,function(m){var d=e.body.edges[m];(d===void 0||!d.endPointsValid())&&(a[m]=m)}),s(function(m){pt(m.containedEdges,function(d,v){!d.endPointsValid()&&!a[v]&&(a[v]=v)})}),pt(this.body.edges,function(m,d){var v=!0,b=m.clusteringEdgeReplacingIds;if(b!==void 0){var g=0;pt(b,function(y){var _=e.body.edges[y];_!==void 0&&_.endPointsValid()&&(g+=1)}),v=g>0}(!m.endPointsValid()||!v)&&(a[d]=d)}),s(function(m){pt(a,function(d){delete m.containedEdges[d],pt(m.edges,function(v,b){if(v.id===d){m.edges[b]=null;return}v.clusteringEdgeReplacingIds=e._filter(v.clusteringEdgeReplacingIds,function(g){return!a[g]})}),m.edges=e._filter(m.edges,function(v){return v!==null})})}),pt(a,function(m){delete e.clusteredEdges[m]}),pt(a,function(m){delete e.body.edges[m]});var u=tr(this.body.edges);pt(u,function(m){var d=e.body.edges[m],v=e._isClusteredNode(d.fromId)||e._isClusteredNode(d.toId);if(v!==e._isClusteredEdge(d.id))if(v){var b=e._getClusterNodeForNode(d.fromId);b!==void 0&&e._clusterEdges(e.body.nodes[d.fromId],d,b);var g=e._getClusterNodeForNode(d.toId);g!==void 0&&e._clusterEdges(e.body.nodes[d.toId],d,g)}else delete e._clusterEdges[m],e._restoreEdge(d)});for(var f=!1,h=!0,c=function(){var d=[];s(function(b){var g=tr(b.containedNodes).length,y=b.options.allowSingleNodeCluster===!0;(y&&g<1||!y&&g<2)&&d.push(b.id)});for(var v=0;v<d.length;++v)e.openCluster(d[v],{},!1);h=d.length>0,f=f||h};h;)c();f&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),r}();function oEe(){var r;window!==void 0&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),r===void 0?window.requestAnimationFrame=function(t){t()}:window.requestAnimationFrame=r}var lEe=function(){function r(t,e){qe(this,r),oEe(),this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},pr(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return He(r,[{key:"bindEventListeners",value:function(){var e=this,i;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("zoom",function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=Hn(function(){var n;e.zooming=!1,Fe(n=e._requestRedraw).call(n,e)()},250)}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Fe(i=this._requestRedraw).call(i,this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(e!==void 0){var i=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];ju(i,this.options,e)}}},{key:"_requestNextFrame",value:function(e,i){if(!(typeof window>"u")){var n,a=window;return this.requiresTimeout===!0?n=Hn(e,i):a.requestAnimationFrame&&(n=a.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var e;this.renderTimer=this._requestNextFrame(Fe(e=this._renderStep).call(e,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var i={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),a=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,a,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var o=this._drawNodes(n,e),l=o.drawExternalLabels;i.drawExternalLabels=l}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),i.drawExternalLabels!=null&&i.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,a,s)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var i=this.body.nodes,n;for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n=i[a],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.nodes,a=this.body.nodeIndices,s,o=[],l=[],u=20,f=this.canvas.DOMtoCanvas({x:-u,y:-u}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),c={top:f.y,left:f.x,bottom:h.y,right:h.x},m=[],d=0;d<a.length;d++)if(s=n[a[d]],s.hover)l.push(a[d]);else if(s.isSelected())o.push(a[d]);else if(i===!0){var v=s.draw(e);v.drawExternalLabel!=null&&m.push(v.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){var b=s.draw(e);b.drawExternalLabel!=null&&m.push(b.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);var g,y=o.length,_=l.length;for(g=0;g<y;g++){s=n[o[g]];var w=s.draw(e);w.drawExternalLabel!=null&&m.push(w.drawExternalLabel)}for(g=0;g<_;g++){s=n[l[g]];var O=s.draw(e);O.drawExternalLabel!=null&&m.push(O.drawExternalLabel)}return{drawExternalLabels:function(){for(var M=0,T=m;M<T.length;M++){var E=T[M];E()}}}}},{key:"_drawEdges",value:function(e){for(var i=this.body.edges,n=this.body.edgeIndices,a=0;a<n.length;a++){var s=i[n[a]];s.connected===!0&&s.draw(e)}}},{key:"_drawArrows",value:function(e){for(var i=this.body.edges,n=this.body.edgeIndices,a=0;a<n.length;a++){var s=i[n[a]];s.connected===!0&&s.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,Et(e).call(e,"msie 9.0")!=-1?this.requiresTimeout=!0:Et(e).call(e,"safari")!=-1&&Et(e).call(e,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var i=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,i,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,i,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),r}(),uEe=Tt,fEe=uEe.setInterval,cEe=fEe,hEe=Je(cEe);function Xm(r,t){t.inputHandler=function(e){e.isFirst&&t(e)},r.on("hammer.input",t.inputHandler)}function kI(r,t){return t.inputHandler=function(e){e.isFinal&&t(e)},r.on("hammer.input",t.inputHandler)}var mEe=function(){function r(t){qe(this,r),this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},pr(this.options,this.defaultOptions),this.bindEventListeners()}return He(r,[{key:"bindEventListeners",value:function(){var e=this,i;this.body.emitter.once("resize",function(n){n.width!==0&&(e.body.view.translation.x=n.width*.5),n.height!==0&&(e.body.view.translation.y=n.height*.5)}),this.body.emitter.on("setSize",Fe(i=this.setSize).call(i,this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var i=this;if(e!==void 0){var n=["width","height","autoResize"];ju(n,this.options,e)}if(this._cleanUp(),this.options.autoResize===!0){var a;if(window.ResizeObserver){var s=new ResizeObserver(function(){var f=i.setSize();f===!0&&i.body.emitter.emit("_requestRedraw")}),o=this.frame;s.observe(o),this._cleanupCallbacks.push(function(){s.unobserve(o)})}else{var l=hEe(function(){var f=i.setSize();f===!0&&i.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(l)})}var u=Fe(a=this._onResize).call(a,this);window.addEventListener("resize",u),this._cleanupCallbacks.push(function(){window.removeEventListener("resize",u)})}}},{key:"_cleanUp",value:function(){var e,i,n;Mt(e=xo(i=pa(n=this._cleanupCallbacks).call(n,0)).call(i)).call(e,function(a){try{a()}catch(s){console.error(s)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,i=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;e!=1&&i!=1?n=this.cameraState.scale*.5*(e+i):e!=1?n=this.cameraState.scale*e:i!=1&&(n=this.cameraState.scale*i),this.body.view.scale=n;var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:a.x-this.cameraState.position.x,y:a.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Et(e).call(e,"%")!==-1||Et(e).call(e,"px")!==-1)return e;if(Et(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Wl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Wl.DIRECTION_ALL}),Xm(this.hammer,function(i){e.body.eventListeners.onTouch(i)}),this.hammer.on("tap",function(i){e.body.eventListeners.onTap(i)}),this.hammer.on("doubletap",function(i){e.body.eventListeners.onDoubleTap(i)}),this.hammer.on("press",function(i){e.body.eventListeners.onHold(i)}),this.hammer.on("panstart",function(i){e.body.eventListeners.onDragStart(i)}),this.hammer.on("panmove",function(i){e.body.eventListeners.onDrag(i)}),this.hammer.on("panend",function(i){e.body.eventListeners.onDragEnd(i)}),this.hammer.on("pinch",function(i){e.body.eventListeners.onPinch(i)}),this.frame.canvas.addEventListener("wheel",function(i){e.body.eventListeners.onMouseWheel(i)}),this.frame.canvas.addEventListener("mousemove",function(i){e.body.eventListeners.onMouseMove(i)}),this.frame.canvas.addEventListener("contextmenu",function(i){e.body.eventListeners.onContext(i)}),this.hammerFrame=new Wl(this.frame),kI(this.hammerFrame,function(i){e.body.eventListeners.onRelease(i)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),i=this._prepareValue(i);var n=!1,a=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||i!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=i)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=i,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=i,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var l=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==l||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==l&&(this.frame.canvas.width=l,n=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(a/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var i=1;typeof window<"u"&&(i=window.devicePixelRatio||1);var n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return i/n}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),r}();function pEe(r,t){var e=pr({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},r??{});if(!Pt(e.nodes))throw new TypeError("Nodes has to be an array of ids.");if(e.nodes.length===0&&(e.nodes=t),!(typeof e.minZoomLevel=="number"&&e.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof e.maxZoomLevel=="number"&&e.minZoomLevel<=e.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return e}var dEe=function(){function r(t,e){var i,n=this,a;qe(this,r),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Fe(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Fe(a=this.releaseNode).call(a,this))}return He(r,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=pEe(e,this.body.nodeIndices);var n=this.canvas.frame.canvas.clientWidth,a=this.canvas.frame.canvas.clientHeight,s,o;if(n===0||a===0)o=1,s=Qr.getRange(this.body.nodes,e.nodes);else if(i===!0){var l=0;for(var u in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,u)){var f=this.body.nodes[u];f.predefinedPosition===!0&&(l+=1)}if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Qr.getRange(this.body.nodes,e.nodes);var h=this.body.nodeIndices.length;o=12.662/(h+7.4147)+.0964822;var c=Math.min(n/600,a/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=Qr.getRange(this.body.nodes,e.nodes);var m=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,v=n/m,b=a/d;o=v<=b?v:b}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);var g=Qr.findCenter(s),y={position:g,scale:o,animation:e.animation};this.moveTo(y)}},{key:"focus",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};i.position=n,i.lockedOnNode=e,this.moveTo(i)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!po(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!po(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!po(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!po(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:i.x-e.position.x,y:i.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var a;this.viewFunction=Fe(a=this._lockedRedraw).call(a,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Fe(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:i.x-e.x,y:i.y-e.y},a=this.body.view.translation,s={x:a.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:a.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var i=Qwe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=Fe(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),r}();function Gx(r){var t=r&&r.preventDefault||!1,e=r&&r.container||window,i={},n={keydown:{},keyup:{}},a={},s;for(s=97;s<=122;s++)a[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)a[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)a[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)a["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)a["num"+s]={code:96+s,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var o=function(f){u(f,"keydown")},l=function(f){u(f,"keyup")},u=function(f,h){if(n[h][f.keyCode]!==void 0){for(var c=n[h][f.keyCode],m=0;m<c.length;m++)(c[m].shift===void 0||c[m].shift==!0&&f.shiftKey==!0||c[m].shift==!1&&f.shiftKey==!1)&&c[m].fn(f);t==!0&&f.preventDefault()}};return i.bind=function(f,h,c){if(c===void 0&&(c="keydown"),a[f]===void 0)throw new Error("unsupported key: "+f);n[c][a[f].code]===void 0&&(n[c][a[f].code]=[]),n[c][a[f].code].push({fn:h,shift:a[f].shift})},i.bindAll=function(f,h){h===void 0&&(h="keydown");for(var c in a)a.hasOwnProperty(c)&&i.bind(c,f,h)},i.getKey=function(f){for(var h in a)if(a.hasOwnProperty(h)){if(f.shiftKey==!0&&a[h].shift==!0&&f.keyCode==a[h].code)return h;if(f.shiftKey==!1&&a[h].shift==!1&&f.keyCode==a[h].code)return h;if(f.keyCode==a[h].code&&h=="shift")return h}return"unknown key, currently not supported"},i.unbind=function(f,h,c){if(c===void 0&&(c="keydown"),a[f]===void 0)throw new Error("unsupported key: "+f);if(h!==void 0){var m=[],d=n[c][a[f].code];if(d!==void 0)for(var v=0;v<d.length;v++)d[v].fn==h&&d[v].shift==a[f].shift||m.push(n[c][a[f].code][v]);n[c][a[f].code]=m}else n[c][a[f].code]=[]},i.reset=function(){n={keydown:{},keyup:{}}},i.destroy=function(){n={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",l,!0),i}var vEe=function(){function r(t,e){var i=this;qe(this,r),this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){i.keycharm!==void 0&&i.keycharm.destroy()}),this.options={}}return He(r,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var i=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var a=0;a<i.length;a++){this.navigationDOM[i[a]]=document.createElement("div"),this.navigationDOM[i[a]].className="vis-button vis-"+i[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[i[a]]);var s=new Wl(this.navigationDOM[i[a]]);if(n[a]==="_fit"){var o;Xm(s,Fe(o=this._fit).call(o,this))}else{var l;Xm(s,Fe(l=this.bindToRedraw).call(l,this,n[a]))}this.navigationHammers.push(s)}var u=new Wl(this.canvas.frame);kI(u,function(){e._stopMovement()}),this.navigationHammers.push(u),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){if(this.boundFunctions[e]===void 0){var i;this.boundFunctions[e]=Fe(i=this[e]).call(i,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,i=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,a=i/e,s=(1-a)*this.canvas.canvasViewCenter.x+n.x*a,o=(1-a)*this.canvas.canvasViewCenter.y+n.y*a;this.body.view.scale=i,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,i=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,a=i/e,s=(1-a)*this.canvas.canvasViewCenter.x+n.x*a,o=(1-a)*this.canvas.canvasViewCenter.y+n.y*a;this.body.view.scale=i,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=Gx({container:window,preventDefault:!0}):this.keycharm=Gx({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I,M,T,E,q;Fe(i=this.keycharm).call(i,"up",function(){e.bindToRedraw("_moveUp")},"keydown"),Fe(n=this.keycharm).call(n,"down",function(){e.bindToRedraw("_moveDown")},"keydown"),Fe(a=this.keycharm).call(a,"left",function(){e.bindToRedraw("_moveLeft")},"keydown"),Fe(s=this.keycharm).call(s,"right",function(){e.bindToRedraw("_moveRight")},"keydown"),Fe(o=this.keycharm).call(o,"=",function(){e.bindToRedraw("_zoomIn")},"keydown"),Fe(l=this.keycharm).call(l,"num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),Fe(u=this.keycharm).call(u,"num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),Fe(f=this.keycharm).call(f,"-",function(){e.bindToRedraw("_zoomOut")},"keydown"),Fe(h=this.keycharm).call(h,"[",function(){e.bindToRedraw("_zoomOut")},"keydown"),Fe(c=this.keycharm).call(c,"]",function(){e.bindToRedraw("_zoomIn")},"keydown"),Fe(m=this.keycharm).call(m,"pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),Fe(d=this.keycharm).call(d,"pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),Fe(v=this.keycharm).call(v,"up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),Fe(b=this.keycharm).call(b,"down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),Fe(g=this.keycharm).call(g,"left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),Fe(y=this.keycharm).call(y,"right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),Fe(_=this.keycharm).call(_,"=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Fe(w=this.keycharm).call(w,"num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Fe(O=this.keycharm).call(O,"num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Fe(I=this.keycharm).call(I,"-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Fe(M=this.keycharm).call(M,"[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Fe(T=this.keycharm).call(T,"]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Fe(E=this.keycharm).call(E,"pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Fe(q=this.keycharm).call(q,"pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")}}}]),r}();function gEe(r,t){var e=typeof Qs<"u"&&rl(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=bEe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function bEe(r,t){var e;if(r){if(typeof r=="string")return Wx(r,t);var i=Hr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return tl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Wx(r,t)}}function Wx(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var yEe=function(){function r(t,e,i){var n,a,s,o,l,u,f,h,c,m,d,v,b;qe(this,r),this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new vEe(t,e),this.body.eventListeners.onTap=Fe(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=Fe(a=this.onTouch).call(a,this),this.body.eventListeners.onDoubleTap=Fe(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Fe(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=Fe(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Fe(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Fe(f=this.onDragEnd).call(f,this),this.body.eventListeners.onMouseWheel=Fe(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Fe(c=this.onPinch).call(c,this),this.body.eventListeners.onMouseMove=Fe(m=this.onMouseMove).call(m,this),this.body.eventListeners.onRelease=Fe(d=this.onRelease).call(d,this),this.body.eventListeners.onContext=Fe(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Fe(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},pr(this.options,this.defaultOptions),this.bindEventListeners()}return He(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(e!==void 0){var i=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];Hm(i,this.options,e),Wi(this.options,e,"keyboard"),e.tooltip&&(pr(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=fb(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-Xwe(this.canvas.frame.canvas),y:e.y-Kwe(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var i=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(i,n),this.selectionHandler.commitAndEmit(i,e),this.selectionHandler.generateClickEvent("click",e,i)}},{key:"onDoubleTap",value:function(e){var i=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,i)}},{key:"onHold",value:function(e){var i=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(i,n),this.selectionHandler.commitAndEmit(i,e),this.selectionHandler.generateClickEvent("click",e,i),this.selectionHandler.generateClickEvent("hold",e,i)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var i=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,i),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var i=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,i)}},{key:"checkSelectionChanges",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,i){var n=function(s,o){for(var l=[],u=0;u<s.length;u++){var f=s[u];Et(o).call(o,f)===-1&&l.push(f)}return l};return{nodes:n(e.nodes,i.nodes),edges:n(e.edges,i.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var i=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=pr({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(i!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=i.id,i.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[i.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var a=gEe(this.selectionHandler.getSelectedNodes()),s;try{for(a.s();!(s=a.n()).done;){var o=s.value,l={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(l)}}catch(u){a.e(u)}finally{a.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var i=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),a=this.drag.selection;if(a&&a.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,n);var s=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;Mt(a).call(a,function(f){var h=f.node;f.xFixed===!1&&(h.x=i.canvas._XconvertDOMtoCanvas(i.canvas._XconvertCanvasToDOM(f.x)+s)),f.yFixed===!1&&(h.y=i.canvas._YconvertDOMtoCanvas(i.canvas._YconvertCanvasToDOM(f.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}var l=n.x-this.drag.pointer.x,u=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+l,y:this.drag.translation.y+u},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var i=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var a=this.body.selectionBox.position,s={minX:Math.min(a.start.x,a.end.x),minY:Math.min(a.start.y,a.end.y),maxX:Math.max(a.start.x,a.end.x),maxY:Math.max(a.start.y,a.end.y)},o=vi(n=this.body.nodeIndices).call(n,function(f){var h=i.body.nodes[f];return h.x>=s.minX&&h.x<=s.maxX&&h.y>=s.minY&&h.y<=s.maxY});Mt(o).call(o,function(f){return i.selectionHandler.selectObject(i.body.nodes[f])});var l=this.getPointer(e.center);this.selectionHandler.commitAndEmit(l,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var u=this.drag.selection;u&&u.length?(Mt(u).call(u,function(f){f.node.options.fixed.x=f.xFixed,f.node.options.fixed.y=f.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var i=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,i)}},{key:"zoom",value:function(e,i){if(this.options.zoomView===!0){var n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var a=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(a=this.canvas.DOMtoCanvas(this.drag.pointer));var s=this.body.view.translation,o=e/n,l=(1-o)*i.x+s.x*o,u=(1-o)*i.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:l,y:u},a!=null){var f=this.canvas.canvasToDOM(a);this.drag.pointer.x=f.x,this.drag.pointer.y=f.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:i}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:i})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var i=this.body.view.scale;i*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(i,n)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var i=this,n=this.getPointer({x:e.clientX,y:e.clientY}),a=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(n),this.popup.hidden===!1&&(a=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),a===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Hn(function(){return i._checkShowPopup(n)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var i=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),a={left:i,top:n,right:i,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id,o=!1,l="node";if(this.popupObj===void 0){for(var u=this.body.nodeIndices,f=this.body.nodes,h,c=[],m=0;m<u.length;m++)h=f[u[m]],h.isOverlappingWith(a)===!0&&(o=!0,h.getTitle()!==void 0&&c.push(u[m]));c.length>0&&(this.popupObj=f[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){for(var d=this.body.edgeIndices,v=this.body.edges,b,g=[],y=0;y<d.length;y++)b=v[d[y]],b.isOverlappingWith(a)===!0&&b.connected===!0&&b.getTitle()!==void 0&&g.push(d[y]);g.length>0&&(this.popupObj=v[g[g.length-1]],l="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new s3e(this.canvas.frame)),this.popup.popupTargetType=l,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var i=this.selectionHandler._pointerToPositionObject(e),n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(i),n===!0)){var a=this.selectionHandler.getNodeAt(e);n=a===void 0?!1:a.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(i));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),r}(),$Ee=I$,_Ee=nI;$Ee("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},_Ee);var wEe=Tt,xEe=wEe.Set,SEe=xEe,EEe=SEe,kEe=EEe,fo=Je(kEe),TEe=At,Vx=C$,zh=cd.getWeakData,OEe=A$,AEe=Fi,IEe=Iu,xg=Dr,CEe=O$,TI=Js,Xx=Nr,OI=el,PEe=OI.set,DEe=OI.getterFor,NEe=TI.find,REe=TI.findIndex,MEe=TEe([].splice),BEe=0,Lh=function(r){return r.frozen||(r.frozen=new AI)},AI=function(){this.entries=[]},Sg=function(r,t){return NEe(r.entries,function(e){return e[0]===t})};AI.prototype={get:function(r){var t=Sg(this,r);if(t)return t[1]},has:function(r){return!!Sg(this,r)},set:function(r,t){var e=Sg(this,r);e?e[1]=t:this.entries.push([r,t])},delete:function(r){var t=REe(this.entries,function(e){return e[0]===r});return~t&&MEe(this.entries,t,1),!!~t}};var FEe={getConstructor:function(r,t,e,i){var n=r(function(l,u){OEe(l,a),PEe(l,{type:t,id:BEe++,frozen:void 0}),IEe(u)||CEe(u,l[i],{that:l,AS_ENTRIES:e})}),a=n.prototype,s=DEe(t),o=function(l,u,f){var h=s(l),c=zh(AEe(u),!0);return c===!0?Lh(h).set(u,f):c[h.id]=f,l};return Vx(a,{delete:function(l){var u=s(this);if(!xg(l))return!1;var f=zh(l);return f===!0?Lh(u).delete(l):f&&Xx(f,u.id)&&delete f[u.id]},has:function(u){var f=s(this);if(!xg(u))return!1;var h=zh(u);return h===!0?Lh(f).has(u):h&&Xx(h,f.id)}}),Vx(a,e?{get:function(u){var f=s(this);if(xg(u)){var h=zh(u);return h===!0?Lh(f).get(u):h?h[f.id]:void 0}},set:function(u,f){return o(this,u,f)}}:{add:function(u){return o(this,u,!0)}}),n}},zEe=eI,Kx=ar,hm=At,Yx=C$,LEe=cd,jEe=I$,II=FEe,jh=Dr,Uh=el.enforce,UEe=kt,qEe=H9,Hc=Object,HEe=Array.isArray,qh=Hc.isExtensible,CI=Hc.isFrozen,GEe=Hc.isSealed,PI=Hc.freeze,WEe=Hc.seal,Jx={},Qx={},VEe=!Kx.ActiveXObject&&"ActiveXObject"in Kx,Qu,DI=function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},NI=jEe("WeakMap",DI,II),Ol=NI.prototype,mm=hm(Ol.set),XEe=function(){return zEe&&UEe(function(){var r=PI([]);return mm(new NI,r,1),!CI(r)})};if(qEe)if(VEe){Qu=II.getConstructor(DI,"WeakMap",!0),LEe.enable();var Zx=hm(Ol.delete),Hh=hm(Ol.has),e7=hm(Ol.get);Yx(Ol,{delete:function(r){if(jh(r)&&!qh(r)){var t=Uh(this);return t.frozen||(t.frozen=new Qu),Zx(this,r)||t.frozen.delete(r)}return Zx(this,r)},has:function(t){if(jh(t)&&!qh(t)){var e=Uh(this);return e.frozen||(e.frozen=new Qu),Hh(this,t)||e.frozen.has(t)}return Hh(this,t)},get:function(t){if(jh(t)&&!qh(t)){var e=Uh(this);return e.frozen||(e.frozen=new Qu),Hh(this,t)?e7(this,t):e.frozen.get(t)}return e7(this,t)},set:function(t,e){if(jh(t)&&!qh(t)){var i=Uh(this);i.frozen||(i.frozen=new Qu),Hh(this,t)?mm(this,t,e):i.frozen.set(t,e)}else mm(this,t,e);return this}})}else XEe()&&Yx(Ol,{set:function(t,e){var i;return HEe(t)&&(CI(t)?i=Jx:GEe(t)&&(i=Qx)),mm(this,t,e),i===Jx&&PI(t),i===Qx&&WEe(t),this}});var KEe=Tt,YEe=KEe.WeakMap,JEe=YEe,QEe=JEe,ZEe=QEe,gf=Je(ZEe);function Ft(r,t,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(r):i?i.value:t.get(r)}function bb(r,t,e,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,e):n?n.value=e:t.set(r,e),e}function yb(r,t){var e=typeof Qs<"u"&&rl(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=eke(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function eke(r,t){var e;if(r){if(typeof r=="string")return t7(r,t);var i=Hr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return tl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t7(r,t)}}function t7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var uo,Hi,gs,bs,pm;function r7(r,t){var e=new fo,i=yb(t),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;r.has(a)||e.add(a)}}catch(s){i.e(s)}finally{i.f()}return e}var i7=function(){function r(){qe(this,r),uo.set(this,new fo),Hi.set(this,new fo)}return He(r,[{key:"size",get:function(){return Ft(this,Hi,"f").size}},{key:"add",value:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var a=0,s=i;a<s.length;a++){var o=s[a];Ft(this,Hi,"f").add(o)}}},{key:"delete",value:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var a=0,s=i;a<s.length;a++){var o=s[a];Ft(this,Hi,"f").delete(o)}}},{key:"clear",value:function(){Ft(this,Hi,"f").clear()}},{key:"getSelection",value:function(){return Mn(Ft(this,Hi,"f"))}},{key:"getChanges",value:function(){return{added:Mn(r7(Ft(this,uo,"f"),Ft(this,Hi,"f"))),deleted:Mn(r7(Ft(this,Hi,"f"),Ft(this,uo,"f"))),previous:Mn(new fo(Ft(this,uo,"f"))),current:Mn(new fo(Ft(this,Hi,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();bb(this,uo,Ft(this,Hi,"f"),"f"),bb(this,Hi,new fo(Ft(this,uo,"f")),"f");var i=yb(e.added),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;a.select()}}catch(u){i.e(u)}finally{i.f()}var s=yb(e.deleted),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;l.unselect()}}catch(u){s.e(u)}finally{s.f()}return e}}]),r}();uo=new gf,Hi=new gf;var tke=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};qe(this,r),gs.set(this,new i7),bs.set(this,new i7),pm.set(this,void 0),bb(this,pm,t,"f")}return He(r,[{key:"sizeNodes",get:function(){return Ft(this,gs,"f").size}},{key:"sizeEdges",get:function(){return Ft(this,bs,"f").size}},{key:"getNodes",value:function(){return Ft(this,gs,"f").getSelection()}},{key:"getEdges",value:function(){return Ft(this,bs,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=Ft(this,gs,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Ft(this,bs,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Ft(this,gs,"f").delete(e)}},{key:"deleteEdges",value:function(e){Ft(this,bs,"f").delete(e)}},{key:"clear",value:function(){Ft(this,gs,"f").clear(),Ft(this,bs,"f").clear()}},{key:"commit",value:function(){for(var e,i,n={nodes:Ft(this,gs,"f").commit(),edges:Ft(this,bs,"f").commit()},a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=Ft(this,pm,"f")).call.apply(e,m$(i=[this,n]).call(i,s)),n}}]),r}();gs=new gf,bs=new gf,pm=new gf;function n7(r,t){var e=typeof Qs<"u"&&rl(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=rke(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function rke(r,t){var e;if(r){if(typeof r=="string")return a7(r,t);var i=Hr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return tl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a7(r,t)}}function a7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var ike=function(){function r(t,e){var i=this;qe(this,r),this.body=t,this.canvas=e,this._selectionAccumulator=new tke,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},pr(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return He(r,[{key:"setOptions",value:function(e){if(e!==void 0){var i=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];ju(i,this.options,e)}}},{key:"selectOnPoint",value:function(e){var i=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(i=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return i}},{key:"selectAdditionalOnPoint",value:function(e){var i=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(i=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return i}},{key:"_initBaseEvent",value:function(e,i){var n={};return n.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},n.event=e,n}},{key:"generateClickEvent",value:function(e,i,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=this._initBaseEvent(i,n);if(s===!0)o.nodes=[],o.edges=[];else{var l=this.getSelection();o.nodes=l.nodes,o.edges=l.edges}a!==void 0&&(o.previousSelection=a),e=="click"&&(o.items=this.getClickedItems(n)),i.controlEdge!==void 0&&(o.controlEdge=i.controlEdge),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof Oi){if(i===!0){var n;(n=this._selectionAccumulator).addEdges.apply(n,Mn(e.edges))}this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var i=[],n=this.body.nodes,a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodeIndices[a];n[s].isOverlappingWith(e)&&i.push(s)}return i}},{key:"_pointerToPositionObject",value:function(e){var i=this.canvas.DOMtoCanvas(e);return{left:i.x-1,top:i.y+1,right:i.x+1,bottom:i.y-1}}},{key:"getNodeAt",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._pointerToPositionObject(e),a=this._getAllNodesOverlappingWith(n);if(a.length>0)return i===!0?this.body.nodes[a[a.length-1]]:a[a.length-1]}},{key:"_getEdgesOverlappingWith",value:function(e,i){for(var n=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a];n[s].isOverlappingWith(e)&&i.push(s)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var i=[];return this._getEdgesOverlappingWith(e,i),i}},{key:"getEdgeAt",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.canvas.DOMtoCanvas(e),a=10,s=null,o=this.body.edges,l=0;l<this.body.edgeIndices.length;l++){var u=this.body.edgeIndices[l],f=o[u];if(f.connected){var h=f.from.x,c=f.from.y,m=f.to.x,d=f.to.y,v=f.edgeType.getDistanceToEdge(h,c,m,d,n.x,n.y);v<a&&(s=u,a=v)}}if(s!==null)return i===!0?this.body.edges[s]:s}},{key:"_addToHover",value:function(e){e instanceof Oi?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){if(e instanceof Oi){var i;this._selectionAccumulator.deleteNodes(e),(i=this._selectionAccumulator).deleteEdges.apply(i,Mn(e.edges))}else this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var i=0;i<e.edges.length;i++){var n=e.edges[i];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(e,i,n){var a=this._initBaseEvent(e,i);n.hover===!0&&(n.hover=!1,n instanceof Oi?(a.node=n.id,this.body.emitter.emit("blurNode",a)):(a.edge=n.id,this.body.emitter.emit("blurEdge",a)))}},{key:"emitHoverEvent",value:function(e,i,n){var a=this._initBaseEvent(e,i),s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof Oi?(a.node=n.id,this.body.emitter.emit("hoverNode",a)):(a.edge=n.id,this.body.emitter.emit("hoverEdge",a))),s}},{key:"hoverObject",value:function(e,i){var n=this.getNodeAt(i);n===void 0&&(n=this.getEdgeAt(i));var a=!1;for(var s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof Oi&&n.id!=s||n instanceof Vl)&&(this.emitBlurEvent(e,i,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],a=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(a===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(n===void 0||n instanceof Vl&&n.id!=o||n instanceof Oi&&!n.hover)&&(this.emitBlurEvent(e,i,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],a=!0));if(n!==void 0){var l=tr(this.hoverObj.edges).length,u=tr(this.hoverObj.nodes).length,f=n instanceof Vl&&l===0&&u===0,h=n instanceof Oi&&l===0&&u===0;(a||f||h)&&(a=this.emitHoverEvent(e,i,n)),n instanceof Oi&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}a===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,i){var n=!1,a=this._selectionAccumulator.commit(),s={nodes:a.nodes.previous,edges:a.edges.previous};a.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",i,e,s),n=!0),a.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",i,e,s),n=!0),a.nodes.added.length>0&&(this.generateClickEvent("selectNode",i,e),n=!0),a.edges.added.length>0&&(this.generateClickEvent("selectEdge",i,e),n=!0),n===!0&&this.generateClickEvent("select",i,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return ou(e=this._selectionAccumulator.getNodes()).call(e,function(i){return i.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return ou(e=this._selectionAccumulator.getEdges()).call(e,function(i){return i.id})}},{key:"setSelection",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((i.unselectAll||i.unselectAll===void 0)&&this.unselectAll(),e.nodes){var n=n7(e.nodes),a;try{for(n.s();!(a=n.n()).done;){var s=a.value,o=this.body.nodes[s];if(!o)throw new RangeError('Node with id "'+s+'" not found');this.selectObject(o,i.highlightEdges)}}catch(c){n.e(c)}finally{n.f()}}if(e.edges){var l=n7(e.edges),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=this.body.edges[f];if(!h)throw new RangeError('Edge with id "'+f+'" not found');this.selectObject(h)}}catch(c){l.e(c)}finally{l.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:i})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var i in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,i.id)||this._selectionAccumulator.deleteEdges(i)}},{key:"getClickedItems",value:function(e){for(var i=this.canvas.DOMtoCanvas(e),n=[],a=this.body.nodeIndices,s=this.body.nodes,o=a.length-1;o>=0;o--){var l=s[a[o]],u=l.getItemsOnPoint(i);n.push.apply(n,u)}for(var f=this.body.edgeIndices,h=this.body.edges,c=f.length-1;c>=0;c--){var m=h[f[c]],d=m.getItemsOnPoint(i);n.push.apply(n,d)}return n}}]),r}(),s7=bO,nke=Math.floor,$b=function(r,t){var e=r.length,i=nke(e/2);return e<8?ake(r,t):ske(r,$b(s7(r,0,i),t),$b(s7(r,i),t),t)},ake=function(r,t){for(var e=r.length,i=1,n,a;i<e;){for(a=i,n=r[i];a&&t(r[a-1],n)>0;)r[a]=r[--a];a!==i++&&(r[a]=n)}return r},ske=function(r,t,e,i){for(var n=t.length,a=e.length,s=0,o=0;s<n||o<a;)r[s+o]=s<n&&o<a?i(t[s],e[o])<=0?t[s++]:e[o++]:s<n?t[s++]:e[o++];return r},oke=$b,lke=xc,o7=lke.match(/firefox\/(\d+)/i),uke=!!o7&&+o7[1],fke=xc,cke=/MSIE|Trident/.test(fke),hke=xc,l7=hke.match(/AppleWebKit\/(\d+)\./),mke=!!l7&&+l7[1],pke=at,RI=At,dke=Qo,vke=Si,u7=un,gke=nA,f7=ra,B$=kt,bke=oke,yke=zu,c7=uke,$ke=cke,h7=Sc,m7=mke,ks=[],p7=RI(ks.sort),_ke=RI(ks.push),wke=B$(function(){ks.sort(void 0)}),xke=B$(function(){ks.sort(null)}),Ske=yke("sort"),MI=!B$(function(){if(h7)return h7<70;if(!(c7&&c7>3)){if($ke)return!0;if(m7)return m7<603;var r="",t,e,i,n;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)ks.push({k:e+n,v:i})}for(ks.sort(function(a,s){return s.v-a.v}),n=0;n<ks.length;n++)e=ks[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!=="DGBEFHACIJK"}}),Eke=wke||!xke||!Ske||!MI,kke=function(r){return function(t,e){return e===void 0?-1:t===void 0?1:r!==void 0?+r(t,e)||0:f7(t)>f7(e)?1:-1}};pke({target:"Array",proto:!0,forced:Eke},{sort:function(t){t!==void 0&&dke(t);var e=vke(this);if(MI)return t===void 0?p7(e):p7(e,t);var i=[],n=u7(e),a,s;for(s=0;s<n;s++)s in e&&_ke(i,e[s]);for(bke(i,kke(t)),a=u7(i),s=0;s<a;)e[s]=i[s++];for(;s<n;)gke(e,s++);return e}});var Tke=Rr,Oke=Tke("Array").sort,Ake=cr,Ike=Oke,Eg=Array.prototype,Cke=function(r){var t=r.sort;return r===Eg||Ake(Eg,r)&&t===Eg.sort?Ike:t},Pke=Cke,Dke=Pke,Nke=Dke,bf=Je(Nke),Rke=Qo,Mke=Si,Bke=qp,Fke=un,zke=TypeError,d7=function(r){return function(t,e,i,n){Rke(e);var a=Mke(t),s=Bke(a),o=Fke(a),l=r?o-1:0,u=r?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=u;break}if(l+=u,r?l<0:o<=l)throw new zke("Reduce of empty array with no initial value")}for(;r?l>=0:o>l;l+=u)l in s&&(n=e(n,s[l],l,a));return n}},Lke={left:d7(!1),right:d7(!0)},jke=ar,Uke=Aa,qke=Uke(jke.process)==="process",Hke=at,Gke=Lke.left,Wke=zu,v7=Sc,Vke=qke,Xke=!Vke&&v7>79&&v7<83,Kke=Xke||!Wke("reduce");Hke({target:"Array",proto:!0,forced:Kke},{reduce:function(t){var e=arguments.length;return Gke(this,t,e,e>1?arguments[1]:void 0)}});var Yke=Rr,Jke=Yke("Array").reduce,Qke=cr,Zke=Jke,kg=Array.prototype,eTe=function(r){var t=r.reduce;return r===kg||Qke(kg,r)&&t===kg.reduce?Zke:t},tTe=eTe,rTe=tTe,iTe=rTe,BI=Je(iTe);function FI(r){var t=nTe();return function(){var i=Xe(r),n;if(t){var a=Xe(this).constructor;n=Ce(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function nTe(){if(typeof Reflect>"u"||!Ce||Ce.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ce(Boolean,[],function(){})),!0}catch{return!1}}var zI=function(){function r(){qe(this,r)}return He(r,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,i,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,i){this.fake_use(e,i),this.abstract()}},{key:"shift",value:function(e,i){this.fake_use(e,i),this.abstract()}}]),r}(),aTe=function(r){It(e,r);var t=FI(e);function e(i){var n;return qe(this,e),n=t.call(this),n.layout=i,n}return He(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(n){return n.x}},{key:"setPosition",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(n,s),n.x=a}},{key:"getTreeSize",value:function(n){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:a.min_x,max:a.max_x}}},{key:"sort",value:function(n){bf(n).call(n,function(a,s){return a.x-s.x})}},{key:"fix",value:function(n,a){n.y=this.layout.options.hierarchical.levelSeparation*a,n.options.fixed.y=!0}},{key:"shift",value:function(n,a){this.layout.body.nodes[n].x+=a}}]),e}(zI),sTe=function(r){It(e,r);var t=FI(e);function e(i){var n;return qe(this,e),n=t.call(this),n.layout=i,n}return He(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(n){return n.y}},{key:"setPosition",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(n,s),n.y=a}},{key:"getTreeSize",value:function(n){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:a.min_y,max:a.max_y}}},{key:"sort",value:function(n){bf(n).call(n,function(a,s){return a.y-s.y})}},{key:"fix",value:function(n,a){n.x=this.layout.options.hierarchical.levelSeparation*a,n.options.fixed.x=!0}},{key:"shift",value:function(n,a){this.layout.body.nodes[n].y+=a}}]),e}(zI),oTe=at,lTe=Js.every,uTe=zu,fTe=uTe("every");oTe({target:"Array",proto:!0,forced:!fTe},{every:function(t){return lTe(this,t,arguments.length>1?arguments[1]:void 0)}});var cTe=Rr,hTe=cTe("Array").every,mTe=cr,pTe=hTe,Tg=Array.prototype,dTe=function(r){var t=r.every;return r===Tg||mTe(Tg,r)&&t===Tg.every?pTe:t},vTe=dTe,gTe=vTe,bTe=gTe,LI=Je(bTe);function yTe(r,t){var e=typeof Qs<"u"&&rl(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=$Te(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function $Te(r,t){var e;if(r){if(typeof r=="string")return g7(r,t);var i=Hr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return tl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return g7(r,t)}}function g7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function _Te(r,t){var e=new fo;return Mt(r).call(r,function(i){var n;Mt(n=i.edges).call(n,function(a){a.connected&&e.add(a)})}),Mt(e).call(e,function(i){var n=i.from.id,a=i.to.id;t[n]==null&&(t[n]=0),(t[a]==null||t[n]>=t[a])&&(t[a]=t[n]+1)}),t}function wTe(r){return jI(function(t){var e,i;return LI(e=vi(i=t.edges).call(i,function(n){return r.has(n.toId)})).call(e,function(n){return n.to===t})},function(t,e){return e>t},"from",r)}function xTe(r){return jI(function(t){var e,i;return LI(e=vi(i=t.edges).call(i,function(n){return r.has(n.toId)})).call(e,function(n){return n.from===t})},function(t,e){return e<t},"to",r)}function jI(r,t,e,i){var n,a=So(null),s=BI(n=Mn(vI(i).call(i))).call(n,function(m,d){return m+1+d.edges.length},0),o=e+"Id",l=e==="to"?1:-1,u=yTe(i),f;try{var h=function(){var d=rr(f.value,2),v=d[0],b=d[1];if(!i.has(v)||!r(b))return 0;a[v]=0;for(var g=[b],y=0,_,w=function(){var M,T;if(!i.has(v))return 0;var E=a[_.id]+l;if(Mt(M=vi(T=_.edges).call(T,function(q){return q.connected&&q.to!==q.from&&q[e]!==_&&i.has(q.toId)&&i.has(q.fromId)})).call(M,function(q){var k=q[o],j=a[k];(j==null||t(E,j))&&(a[k]=E,g.push(q[e]))}),y>s)return{v:{v:_Te(i,a)}};++y},O;_=g.pop();)if(O=w(),O!==0&&O)return O.v},c;for(u.s();!(f=u.n()).done;)if(c=h(),c!==0&&c)return c.v}catch(m){u.e(m)}finally{u.f()}return a}var STe=function(){function r(){qe(this,r),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return He(r,[{key:"addRelation",value:function(e,i){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(i),this.parentReference[i]===void 0&&(this.parentReference[i]=[]),this.parentReference[i].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,i){i!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=i,this.treeIndex=Math.max(i,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var i=this,n={},a=function s(o){if(n[o]!==void 0)return n[o];var l=i.levels[o];if(i.childrenReference[o]){var u=i.childrenReference[o];if(u.length>0)for(var f=0;f<u.length;f++)l=Math.max(l,s(u[f]))}return n[o]=l,l};return a(e)}},{key:"levelDownstream",value:function(e,i){this.levels[i.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[i.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var i=1e9;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.levels[n]!==void 0&&(i=Math.min(this.levels[n],i));for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&this.levels[a]!==void 0&&(this.levels[a]-=i)}},{key:"getTreeSize",value:function(e,i){var n=1e9,a=-1e9,s=1e9,o=-1e9;for(var l in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,l)&&this.trees[l]===i){var u=e[l];n=Math.min(u.x,n),a=Math.max(u.x,a),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:n,max_x:a,min_y:s,max_y:o}}},{key:"hasSameParent",value:function(e,i){var n=this.parentReference[e.id],a=this.parentReference[i.id];if(n===void 0||a===void 0)return!1;for(var s=0;s<n.length;s++)for(var o=0;o<a.length;o++)if(n[s]==a[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,i){return this.trees[e.id]===this.trees[i.id]}},{key:"getLevels",value:function(){return tr(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,i){this.distributionOrdering[i]===void 0&&(this.distributionOrdering[i]=[]);var n=!1,a=this.distributionOrdering[i];for(var s in a)if(a[s]===e){n=!0;break}n||(this.distributionOrdering[i].push(e),this.distributionIndex[e.id]=this.distributionOrdering[i].length-1)}}]),r}(),ETe=function(){function r(t){qe(this,r),this.body=t,this._resetRNG(Math.random()+":"+Lm()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},pr(this.options,this.defaultOptions),this.bindEventListeners()}return He(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var i=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",i,!1)}})}},{key:"setOptions",value:function(e,i){if(e!==void 0){var n=this.options.hierarchical,a=n.enabled;if(ju(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Wi(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return a===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(i);if(a===!0)return this.body.emitter.emit("refresh"),zt(i,this.optionsBackup)}return i}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=fd(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var i=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:i.enabled===void 0?!0:i.enabled,solver:"hierarchicalRepulsion"},i.enabled=i.enabled===void 0?!0:i.enabled,i.solver=i.solver||"barnesHut"):Nt(e.physics)==="object"?(i.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,i.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(i.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var a=e.edges.smooth;a.type!==void 0&&a.type!=="dynamic"&&(n=a.type),this.optionsBackup.edges={smooth:{enabled:a.enabled===void 0?!0:a.enabled,type:a.type===void 0?"dynamic":a.type,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}},e.edges.smooth={enabled:a.enabled===void 0?!0:a.enabled,type:n,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var i=e.length+50,n=0;n<e.length;n++){var a=e[n],s=2*Math.PI*this._rng();a.x===void 0&&(a.x=i*Math.cos(s)),a.y===void 0&&(a.y=i*Math.sin(s))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,i=0,n=0;n<e.length;n++){var a=this.body.nodes[e[n]];a.predefinedPosition===!0&&(i+=1)}if(i<.5*e.length){var s=10,o=0,l=this.options.clusterThreshold,u={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>l){for(var f=e.length;e.length>l&&o<=s;){o+=1;var h=e.length;o%3===0?this.body.modules.clustering.clusterBridges(u):this.body.modules.clustering.clusterOutliers(u);var c=e.length;if(h==c&&o%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*f)})}o>s&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var m=70,d=0;d<e.length;d++){var v=this.body.nodes[e[d]];v.predefinedPosition===!1&&(v.x+=(.5-this._rng())*m,v.y+=(.5-this._rng())*m)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=Qr.getRangeCore(this.body.nodes,this.body.nodeIndices),i=Qr.findCenter(e),n=0;n<this.body.nodeIndices.length;n++){var a=this.body.nodes[this.body.nodeIndices[n]];a.x-=i.x,a.y-=i.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var i=0;i<this.body.nodeIndices.length;i++)this.body.nodes[this.body.nodeIndices[i]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[i],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,i,n=!1,a=!1;this.lastNodeOnLevel={},this.hierarchical=new STe;for(i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&(e=this.body.nodes[i],e.options.level!==void 0?(n=!0,this.hierarchical.levels[i]=e.options.level):a=!0);if(a===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(a===!0){var s=this.options.hierarchical.sortMethod;s==="hubsize"?this._determineLevelsByHubsize():s==="directed"?this._determineLevelsDirected():s==="custom"&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var l=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(l),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,i=!1,n={},a=function(){for(var _=o(),w=0,O=0;O<_.length-1;O++){var I=_[O].max-_[O+1].min;w+=I+e.options.hierarchical.treeSpacing,s(O+1,w)}},s=function(_,w){var O=e.hierarchical.trees;for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&O[I]===_&&e.direction.shift(I,w)},o=function(){for(var _=[],w=0;w<e.hierarchical.numTrees();w++)_.push(e.direction.getTreeSize(w));return _},l=function y(_,w){if(!w[_.id]&&(w[_.id]=!0,e.hierarchical.childrenReference[_.id])){var O=e.hierarchical.childrenReference[_.id];if(O.length>0)for(var I=0;I<O.length;I++)y(e.body.nodes[O[I]],w)}},u=function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,O=1e9,I=1e9,M=1e9,T=-1e9;for(var E in _)if(Object.prototype.hasOwnProperty.call(_,E)){var q=e.body.nodes[E],k=e.hierarchical.levels[q.id],j=e.direction.getPosition(q),J=e._getSpaceAroundNode(q,_),Q=rr(J,2),R=Q[0],B=Q[1];O=Math.min(R,O),I=Math.min(B,I),k<=w&&(M=Math.min(j,M),T=Math.max(j,T))}return[M,T,O,I]},f=function(_,w){var O=e.hierarchical.getMaxLevel(_.id),I=e.hierarchical.getMaxLevel(w.id);return Math.min(O,I)},h=function(_,w,O){for(var I=e.hierarchical,M=0;M<w.length;M++){var T=w[M],E=I.distributionOrdering[T];if(E.length>1)for(var q=0;q<E.length-1;q++){var k=E[q],j=E[q+1];I.hasSameParent(k,j)&&I.inSameSubNetwork(k,j)&&_(k,j,O)}}},c=function(_,w){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,I=e.direction.getPosition(_),M=e.direction.getPosition(w),T=Math.abs(M-I),E=e.options.hierarchical.nodeSpacing;if(T>E){var q={},k={};l(_,q),l(w,k);var j=f(_,w),J=u(q,j),Q=u(k,j),R=J[1],B=Q[0],U=Q[2],te=Math.abs(R-B);if(te>E){var de=R-B+E;de<-U+E&&(de=-U+E),de<0&&(e._shiftBlock(w.id,de),i=!0,O===!0&&e._centerParent(w))}}},m=function(_,w){for(var O=w.id,I=w.edges,M=e.hierarchical.levels[w.id],T=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,E={},q=[],k=0;k<I.length;k++){var j=I[k];if(j.toId!=j.fromId){var J=j.toId==O?j.from:j.to;E[I[k].id]=J,e.hierarchical.levels[J.id]<M&&q.push(j)}}var Q=function(ee,re){for(var ue=0,Te=0;Te<re.length;Te++)if(E[re[Te].id]!==void 0){var we=e.direction.getPosition(E[re[Te].id])-ee;ue+=we/Math.sqrt(we*we+T)}return ue},R=function(ee,re){for(var ue=0,Te=0;Te<re.length;Te++)if(E[re[Te].id]!==void 0){var we=e.direction.getPosition(E[re[Te].id])-ee;ue-=T*Math.pow(we*we+T,-1.5)}return ue},B=function(ee,re){for(var ue=e.direction.getPosition(w),Te={},we=0;we<ee;we++){var xe=Q(ue,re),Oe=R(ue,re),Ie=40,pe=Math.max(-Ie,Math.min(Ie,Math.round(xe/Oe)));if(ue=ue-pe,Te[ue]!==void 0)break;Te[ue]=we}return ue},U=function(ee){var re=e.direction.getPosition(w);if(n[w.id]===void 0){var ue={};l(w,ue),n[w.id]=ue}var Te=u(n[w.id]),we=Te[2],xe=Te[3],Oe=ee-re,Ie=0;Oe>0?Ie=Math.min(Oe,xe-e.options.hierarchical.nodeSpacing):Oe<0&&(Ie=-Math.min(-Oe,we-e.options.hierarchical.nodeSpacing)),Ie!=0&&(e._shiftBlock(w.id,Ie),i=!0)},te=function(ee){var re=e.direction.getPosition(w),ue=e._getSpaceAroundNode(w),Te=rr(ue,2),we=Te[0],xe=Te[1],Oe=ee-re,Ie=re;Oe>0?Ie=Math.min(re+(xe-e.options.hierarchical.nodeSpacing),ee):Oe<0&&(Ie=Math.max(re-(we-e.options.hierarchical.nodeSpacing),ee)),Ie!==re&&(e.direction.setPosition(w,Ie),i=!0)},de=B(_,q);U(de),de=B(_,I),te(de)},d=function(_){var w=e.hierarchical.getLevels();w=xo(w).call(w);for(var O=0;O<_;O++){i=!1;for(var I=0;I<w.length;I++)for(var M=w[I],T=e.hierarchical.distributionOrdering[M],E=0;E<T.length;E++)m(1e3,T[E]);if(i!==!0)break}},v=function(_){var w=e.hierarchical.getLevels();w=xo(w).call(w);for(var O=0;O<_&&(i=!1,h(c,w,!0),i===!0);O++);},b=function(){for(var _ in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,_)&&e._centerParent(e.body.nodes[_])},g=function(){var _=e.hierarchical.getLevels();_=xo(_).call(_);for(var w=0;w<_.length;w++)for(var O=_[w],I=e.hierarchical.distributionOrdering[O],M=0;M<I.length;M++)e._centerParent(I[M])};this.options.hierarchical.blockShifting===!0&&(v(5),b()),this.options.hierarchical.edgeMinimization===!0&&d(20),this.options.hierarchical.parentCentralization===!0&&g(),a()}},{key:"_getSpaceAroundNode",value:function(e,i){var n=!0;i===void 0&&(n=!1);var a=this.hierarchical.levels[e.id];if(a!==void 0){var s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),l=this.hierarchical.distributionOrdering[a],u=1e9,f=1e9;if(s!==0){var h=l[s-1];if(n===!0&&i[h.id]===void 0||n===!1){var c=this.direction.getPosition(h);u=o-c}}if(s!=l.length-1){var m=l[s+1];if(n===!0&&i[m.id]===void 0||n===!1){var d=this.direction.getPosition(m);f=Math.min(f,d-o)}}return[u,f]}else return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var i=this.hierarchical.parentReference[e.id],n=0;n<i.length;n++){var a=i[n],s=this.body.nodes[a],o=this.hierarchical.childrenReference[a];if(o!==void 0){var l=this._getCenterPosition(o),u=this.direction.getPosition(s),f=this._getSpaceAroundNode(s),h=rr(f,2),c=h[0],m=h[1],d=u-l;(d<0&&Math.abs(d)<m-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,l)}}}},{key:"_placeNodesByHierarchy",value:function(e){this.positionedNodes={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n,a=tr(e[i]);a=this._indexArrayToNodes(a),bf(n=this.direction).call(n,a);for(var s=0,o=0;o<a.length;o++){var l=a[o];if(this.positionedNodes[l.id]===void 0){var u=this.options.hierarchical.nodeSpacing,f=u*s;s>0&&(f=this.direction.getPosition(a[o-1])+u),this.direction.setPosition(l,f,i),this._validatePositionAndContinue(l,i,f),s++}}}}},{key:"_placeBranchNodes",value:function(e,i){var n,a=this.hierarchical.childrenReference[e];if(a!==void 0){for(var s=[],o=0;o<a.length;o++)s.push(this.body.nodes[a[o]]);bf(n=this.direction).call(n,s);for(var l=0;l<s.length;l++){var u=s[l],f=this.hierarchical.levels[u.id];if(f>i&&this.positionedNodes[u.id]===void 0){var h=this.options.hierarchical.nodeSpacing,c=void 0;l===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[l-1])+h,this.direction.setPosition(u,c,f),this._validatePositionAndContinue(u,f,c)}else return}var m=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],m,i)}}},{key:"_validatePositionAndContinue",value:function(e,i,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[i]!==void 0){var a=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[i]]);if(n-a<this.options.hierarchical.nodeSpacing){var s=a+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[i],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[i]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,i)}}},{key:"_indexArrayToNodes",value:function(e){for(var i=[],n=0;n<e.length;n++)i.push(this.body.nodes[e[n]]);return i}},{key:"_getDistribution",value:function(){var e={},i,n;for(i in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,i)){n=this.body.nodes[i];var a=this.hierarchical.levels[i]===void 0?0:this.hierarchical.levels[i];this.direction.fix(n,a),e[a]===void 0&&(e[a]={}),e[a][i]=n}return e}},{key:"_getActiveEdges",value:function(e){var i=this,n=[];return pt(e.edges,function(a){var s;Et(s=i.body.edgeIndices).call(s,a.id)!==-1&&n.push(a)}),n}},{key:"_getHubSizes",value:function(){var e=this,i={},n=this.body.nodeIndices;pt(n,function(s){var o=e.body.nodes[s],l=e._getActiveEdges(o).length;i[l]=!0});var a=[];return pt(i,function(s){a.push(Number(s))}),bf(a).call(a,function(s,o){return o-s}),a}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,i=function(l,u){e.hierarchical.levelDownstream(l,u)},n=this._getHubSizes(),a=function(){var l=n[s];if(l===0)return 1;pt(e.body.nodeIndices,function(u){var f=e.body.nodes[u];l===e._getActiveEdges(f).length&&e._crawlNetwork(i,u)})},s=0;s<n.length&&!a();++s);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this,i=1e5,n=function(o,l,u){},a=function(o,l,u){var f=e.hierarchical.levels[o.id];f===void 0&&(f=e.hierarchical.levels[o.id]=i);var h=n(Qr.cloneOptions(o,"node"),Qr.cloneOptions(l,"node"),Qr.cloneOptions(u,"edge"));e.hierarchical.levels[l.id]=f+h};this._crawlNetwork(a),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,i=this,n=BI(e=this.body.nodeIndices).call(e,function(a,s){return a.set(s,i.body.nodes[s]),a},new aI);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=xTe(n):this.hierarchical.levels=wTe(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this,i=function(a,s){e.hierarchical.levels[s.id]>e.hierarchical.levels[a.id]&&e.hierarchical.addRelation(a.id,s.id)};this._crawlNetwork(i),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,a={},s=function c(m,d){if(a[m.id]===void 0){e.hierarchical.setTreeIndex(m,d),a[m.id]=!0;for(var v,b=e._getActiveEdges(m),g=0;g<b.length;g++){var y=b[g];y.connected===!0&&(y.toId==m.id?v=y.from:v=y.to,m.id!=v.id&&(i(m,v,y),c(v,d)))}}};if(n===void 0)for(var o=0,l=0;l<this.body.nodeIndices.length;l++){var u=this.body.nodeIndices[l];if(a[u]===void 0){var f=this.body.nodes[u];s(f,o),o+=1}}else{var h=this.body.nodes[n];if(h===void 0){console.error("Node not found:",n);return}s(h)}}},{key:"_shiftBlock",value:function(e,i){var n=this,a={},s=function o(l){if(!a[l]){a[l]=!0,n.direction.shift(l,i);var u=n.hierarchical.childrenReference[l];if(u!==void 0)for(var f=0;f<u.length;f++)o(u[f])}};s(e)}},{key:"_findCommonParent",value:function(e,i){var n=this,a={},s=function l(u,f){var h=n.hierarchical.parentReference[f];if(h!==void 0)for(var c=0;c<h.length;c++){var m=h[c];u[m]=!0,l(u,m)}},o=function l(u,f){var h=n.hierarchical.parentReference[f];if(h!==void 0)for(var c=0;c<h.length;c++){var m=h[c];if(u[m]!==void 0)return{foundParent:m,withChild:f};var d=l(u,m);if(d.foundParent!==null)return d}return{foundParent:null,withChild:f}};return s(a,e),o(a,i)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";e?this.direction=new aTe(this):this.direction=new sTe(this)}},{key:"_getCenterPosition",value:function(e){for(var i=1e9,n=-1e9,a=0;a<e.length;a++){var s=void 0;if(e[a].id!==void 0)s=e[a];else{var o=e[a];s=this.body.nodes[o]}var l=this.direction.getPosition(s);i=Math.min(i,l),n=Math.max(n,l)}return .5*(i+n)}}]),r}();function kTe(r,t){var e=typeof Qs<"u"&&rl(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=TTe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function TTe(r,t){var e;if(r){if(typeof r=="string")return b7(r,t);var i=Hr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return tl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b7(r,t)}}function b7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var OTe=function(){function r(t,e,i,n){var a=this,s,o;qe(this,r),this.body=t,this.canvas=e,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},pr(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){a._clean()}),this.body.emitter.on("_dataChanged",Fe(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",Fe(o=this._restore).call(o,this))}return He(r,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,i,n){i!==void 0&&(i.locale!==void 0?this.options.locale=i.locale:this.options.locale=n.locale,i.locales!==void 0?this.options.locales=i.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,zt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,i;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),a=this.selectionHandler.getSelectedEdgeCount(),s=n+a,o=this.options.locales[this.options.locale],l=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),l=!0),this.options.addEdge!==!1&&(l===!0?this._createSeperator(1):l=!0,this._createAddEdgeButton(o)),n===1&&typeof this.options.editNode=="function"?(l===!0?this._createSeperator(2):l=!0,this._createEditNodeButton(o)):a===1&&n===0&&this.options.editEdge!==!1&&(l===!0?this._createSeperator(3):l=!0,this._createEditEdgeButton(o)),s!==0&&(n>0&&this.options.deleteNode!==!1?(l===!0&&this._createSeperator(4),this._createDeleteButton(o)):n===0&&this.options.deleteEdge!==!1&&(l===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,Fe(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Fe(i=this.showManipulatorToolbar).call(i,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var i,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Fe(i=this.toggleEditMode).call(i,this))}this._temporaryBindEvent("click",Fe(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var i=this.selectionHandler.getSelectedNodes()[0];if(i!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(i.isCluster!==!0){var n=zt({},i.options,!1);if(n.x=i.x,n.y=i.y,this.options.editNode.length===2)this.options.editNode(n,function(a){a!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(a),e.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,i,n,a,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Fe(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",Fe(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Fe(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDrag",Fe(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Fe(a=this._finishConnect).call(a,this)),this._temporaryBindUI("onDragStart",Fe(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",Nt(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from.id,e.to.id);return}if(this.guiEnabled===!0){var i,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Fe(i=this.toggleEditMode).call(i,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var a,s,o,l,u=this.body.edges[this.edgeBeingEditedId],f=this._getNewTargetNode(u.from.x,u.from.y),h=this._getNewTargetNode(u.to.x,u.to.y);this.temporaryIds.nodes.push(f.id),this.temporaryIds.nodes.push(h.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this._temporaryBindUI("onTouch",Fe(a=this._controlNodeTouch).call(a,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",Fe(s=this._controlNodeDragStart).call(s,this)),this._temporaryBindUI("onDrag",Fe(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",Fe(l=this._controlNodeDragEnd).call(l,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(c){var m=u.edgeType.findBorderPositions(c);f.selected===!1&&(f.x=m.from.x,f.y=m.from.y),h.selected===!1&&(h.x=m.to.x,h.y=m.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var i=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),a=void 0;if(i.length>0){for(var s=0;s<i.length;s++)if(this.body.nodes[i[s]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(a=this.options.deleteNode)}else n.length>0&&typeof this.options.deleteEdge=="function"&&(a=this.options.deleteEdge);if(typeof a=="function"){var o={nodes:i,edges:n};if(a.length===2)a(o,function(l){l!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(l.edges),e.body.data.nodes.getDataSet().remove(l.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(i),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,i;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(i=this.options.locales[this.options.locale])===null||i===void 0?void 0:i.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(e,i){var n=zt({},this.options.controlNodeStyle);n.id="targetNode"+vf(),n.hidden=!1,n.physics=!1,n.x=e,n.y=i;var a=this.body.functions.createNode(n);return a.shape.boundingBox={left:e,right:e,top:i,bottom:i},a}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},ys(this.editModeDiv);var i=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",i.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Fe(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(ys(this.editModeDiv),ys(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,i=kTe(pa(e=this._domEventListenerCleanupQueue).call(e,0)),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;a()}}catch(s){i.e(s)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),ys(this.manipulationDiv),ys(this.editModeDiv),ys(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var i,n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Fe(i=this.addNodeMode).call(i,this))}},{key:"_createAddEdgeButton",value:function(e){var i,n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Fe(i=this.addEdgeMode).call(i,this))}},{key:"_createEditNodeButton",value:function(e){var i,n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Fe(i=this.editNode).call(i,this))}},{key:"_createEditEdgeButton",value:function(e){var i,n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Fe(i=this.editEdgeMode).call(i,this))}},{key:"_createDeleteButton",value:function(e){var i,n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";var a=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,Fe(i=this.deleteSelected).call(i,this))}},{key:"_createBackButton",value:function(e){var i,n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Fe(i=this.showManipulatorToolbar).call(i,this))}},{key:"_createButton",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+i,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=a,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,i){this.temporaryEventFunctions.push({event:e,boundFunction:i}),this.body.emitter.on(e,i)}},{key:"_temporaryBindUI",value:function(e,i){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=i;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Bc(tr(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var i=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(i,n)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,i){var n=new Wl(e,{});Xm(n,i),this._domEventListenerCleanupQueue.push(function(){n.destroy()});var a=function(o){var l=o.keyCode,u=o.key;(u==="Enter"||u===" "||l===13||l===32)&&i()};e.addEventListener("keyup",a,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",a,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var i;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var n=Et(i=this.body.edgeIndices).call(i,this.temporaryIds.edges[e]);if(n!==-1){var a;pa(a=this.body.edgeIndices).call(a,n,1)}}for(var s=0;s<this.temporaryIds.nodes.length;s++){var o;delete this.body.nodes[this.temporaryIds.nodes[s]];var l=Et(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[s]);if(l!==-1){var u;pa(u=this.body.nodeIndices).call(u,l,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=pr({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],a=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(i),l=a.isOverlappingWith(i);o===!0?(this.selectedControlNode=n,s.edgeType.from=n):l===!0&&(this.selectedControlNode=a,s.edgeType.to=a),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var i=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(i);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),a=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=s.length-1;l>=0;l--)if(s[l]!==this.selectedControlNode.id){o=this.body.nodes[s[l]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var u=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===u.id?this._performEditEdge(o.id,a.to.id):this._performEditEdge(a.from.id,o.id)}else a.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=pr({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var i=this.lastTouch,n=this.selectionHandler.getNodeAt(i);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this._getNewTargetNode(n.x,n.y);this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id);var s=this.body.functions.createEdge({id:"connectionEdge"+vf(),from:n.id,to:a.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(a.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=s.length-1;l>=0;l--){var u;if(Et(u=this.temporaryIds.nodes).call(u,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:a,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,i),this.temporaryIds.nodes[0]!==void 0){var f=this.body.nodes[this.temporaryIds.nodes[0]];f.x=this.canvas._XconvertDOMtoCanvas(i.x),f.y=this.canvas._YconvertDOMtoCanvas(i.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=s.length-1;l>=0;l--){var u;if(Et(u=this.temporaryIds.nodes).call(u,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[a]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(a,o.id)),e.controlEdge={from:a,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,i),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var i=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,i,void 0,!0)}},{key:"_performAddNode",value:function(e){var i=this,n={id:vf(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(n,function(a){a!=null&&i.inMode==="addNode"&&i.body.data.nodes.getDataSet().add(a),i.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,i){var n=this,a={from:e,to:i};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(a,function(s){s!=null&&n.inMode==="addEdge"&&(n.body.data.edges.getDataSet().add(s),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,i){var n=this,a={id:this.edgeBeingEditedId,from:e,to:i,label:this.body.data.edges.get(this.edgeBeingEditedId).label},s=this.options.editEdge;if(Nt(s)==="object"&&(s=s.editWithoutDrag),typeof s=="function")if(s.length===2)s(a,function(o){o==null||n.inMode!=="editEdge"?(n.body.edges[a.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(o),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),r}(),je="string",Me="boolean",_e="number",nf="array",Ye="object",UI="dom",ATe="any",Og=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Ag={borderWidth:{number:_e},borderWidthSelected:{number:_e,undefined:"undefined"},brokenImage:{string:je,undefined:"undefined"},chosen:{label:{boolean:Me,function:"function"},node:{boolean:Me,function:"function"},__type__:{object:Ye,boolean:Me}},color:{border:{string:je},background:{string:je},highlight:{border:{string:je},background:{string:je},__type__:{object:Ye,string:je}},hover:{border:{string:je},background:{string:je},__type__:{object:Ye,string:je}},__type__:{object:Ye,string:je}},opacity:{number:_e,undefined:"undefined"},fixed:{x:{boolean:Me},y:{boolean:Me},__type__:{object:Ye,boolean:Me}},font:{align:{string:je},color:{string:je},size:{number:_e},face:{string:je},background:{string:je},strokeWidth:{number:_e},strokeColor:{string:je},vadjust:{number:_e},multi:{boolean:Me,string:je},bold:{color:{string:je},size:{number:_e},face:{string:je},mod:{string:je},vadjust:{number:_e},__type__:{object:Ye,string:je}},boldital:{color:{string:je},size:{number:_e},face:{string:je},mod:{string:je},vadjust:{number:_e},__type__:{object:Ye,string:je}},ital:{color:{string:je},size:{number:_e},face:{string:je},mod:{string:je},vadjust:{number:_e},__type__:{object:Ye,string:je}},mono:{color:{string:je},size:{number:_e},face:{string:je},mod:{string:je},vadjust:{number:_e},__type__:{object:Ye,string:je}},__type__:{object:Ye,string:je}},group:{string:je,number:_e,undefined:"undefined"},heightConstraint:{minimum:{number:_e},valign:{string:je},__type__:{object:Ye,boolean:Me,number:_e}},hidden:{boolean:Me},icon:{face:{string:je},code:{string:je},size:{number:_e},color:{string:je},weight:{string:je,number:_e},__type__:{object:Ye}},id:{string:je,number:_e},image:{selected:{string:je,undefined:"undefined"},unselected:{string:je,undefined:"undefined"},__type__:{object:Ye,string:je}},imagePadding:{top:{number:_e},right:{number:_e},bottom:{number:_e},left:{number:_e},__type__:{object:Ye,number:_e}},label:{string:je,undefined:"undefined"},labelHighlightBold:{boolean:Me},level:{number:_e,undefined:"undefined"},margin:{top:{number:_e},right:{number:_e},bottom:{number:_e},left:{number:_e},__type__:{object:Ye,number:_e}},mass:{number:_e},physics:{boolean:Me},scaling:{min:{number:_e},max:{number:_e},label:{enabled:{boolean:Me},min:{number:_e},max:{number:_e},maxVisible:{number:_e},drawThreshold:{number:_e},__type__:{object:Ye,boolean:Me}},customScalingFunction:{function:"function"},__type__:{object:Ye}},shadow:{enabled:{boolean:Me},color:{string:je},size:{number:_e},x:{number:_e},y:{number:_e},__type__:{object:Ye,boolean:Me}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Me,array:nf},borderRadius:{number:_e},interpolation:{boolean:Me},useImageSize:{boolean:Me},useBorderWithImage:{boolean:Me},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Ye}},size:{number:_e},title:{string:je,dom:UI,undefined:"undefined"},value:{number:_e,undefined:"undefined"},widthConstraint:{minimum:{number:_e},maximum:{number:_e},__type__:{object:Ye,boolean:Me,number:_e}},x:{number:_e},y:{number:_e},__type__:{object:Ye}},ITe={configure:{enabled:{boolean:Me},filter:{boolean:Me,string:je,array:nf,function:"function"},container:{dom:UI},showButton:{boolean:Me},__type__:{object:Ye,boolean:Me,string:je,array:nf,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Me},scaleFactor:{number:_e},type:{string:Og},imageHeight:{number:_e},imageWidth:{number:_e},src:{string:je},__type__:{object:Ye,boolean:Me}},middle:{enabled:{boolean:Me},scaleFactor:{number:_e},type:{string:Og},imageWidth:{number:_e},imageHeight:{number:_e},src:{string:je},__type__:{object:Ye,boolean:Me}},from:{enabled:{boolean:Me},scaleFactor:{number:_e},type:{string:Og},imageWidth:{number:_e},imageHeight:{number:_e},src:{string:je},__type__:{object:Ye,boolean:Me}},__type__:{string:["from","to","middle"],object:Ye}},endPointOffset:{from:{number:_e},to:{number:_e},__type__:{object:Ye,number:_e}},arrowStrikethrough:{boolean:Me},background:{enabled:{boolean:Me},color:{string:je},size:{number:_e},dashes:{boolean:Me,array:nf},__type__:{object:Ye,boolean:Me}},chosen:{label:{boolean:Me,function:"function"},edge:{boolean:Me,function:"function"},__type__:{object:Ye,boolean:Me}},color:{color:{string:je},highlight:{string:je},hover:{string:je},inherit:{string:["from","to","both"],boolean:Me},opacity:{number:_e},__type__:{object:Ye,string:je}},dashes:{boolean:Me,array:nf},font:{color:{string:je},size:{number:_e},face:{string:je},background:{string:je},strokeWidth:{number:_e},strokeColor:{string:je},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:_e},multi:{boolean:Me,string:je},bold:{color:{string:je},size:{number:_e},face:{string:je},mod:{string:je},vadjust:{number:_e},__type__:{object:Ye,string:je}},boldital:{color:{string:je},size:{number:_e},face:{string:je},mod:{string:je},vadjust:{number:_e},__type__:{object:Ye,string:je}},ital:{color:{string:je},size:{number:_e},face:{string:je},mod:{string:je},vadjust:{number:_e},__type__:{object:Ye,string:je}},mono:{color:{string:je},size:{number:_e},face:{string:je},mod:{string:je},vadjust:{number:_e},__type__:{object:Ye,string:je}},__type__:{object:Ye,string:je}},hidden:{boolean:Me},hoverWidth:{function:"function",number:_e},label:{string:je,undefined:"undefined"},labelHighlightBold:{boolean:Me},length:{number:_e,undefined:"undefined"},physics:{boolean:Me},scaling:{min:{number:_e},max:{number:_e},label:{enabled:{boolean:Me},min:{number:_e},max:{number:_e},maxVisible:{number:_e},drawThreshold:{number:_e},__type__:{object:Ye,boolean:Me}},customScalingFunction:{function:"function"},__type__:{object:Ye}},selectionWidth:{function:"function",number:_e},selfReferenceSize:{number:_e},selfReference:{size:{number:_e},angle:{number:_e},renderBehindTheNode:{boolean:Me},__type__:{object:Ye}},shadow:{enabled:{boolean:Me},color:{string:je},size:{number:_e},x:{number:_e},y:{number:_e},__type__:{object:Ye,boolean:Me}},smooth:{enabled:{boolean:Me},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:_e},forceDirection:{string:["horizontal","vertical","none"],boolean:Me},__type__:{object:Ye,boolean:Me}},title:{string:je,undefined:"undefined"},width:{number:_e},widthConstraint:{maximum:{number:_e},__type__:{object:Ye,boolean:Me,number:_e}},value:{number:_e,undefined:"undefined"},__type__:{object:Ye}},groups:{useDefaultGroups:{boolean:Me},__any__:Ag,__type__:{object:Ye}},interaction:{dragNodes:{boolean:Me},dragView:{boolean:Me},hideEdgesOnDrag:{boolean:Me},hideEdgesOnZoom:{boolean:Me},hideNodesOnDrag:{boolean:Me},hover:{boolean:Me},keyboard:{enabled:{boolean:Me},speed:{x:{number:_e},y:{number:_e},zoom:{number:_e},__type__:{object:Ye}},bindToWindow:{boolean:Me},autoFocus:{boolean:Me},__type__:{object:Ye,boolean:Me}},multiselect:{boolean:Me},navigationButtons:{boolean:Me},selectable:{boolean:Me},selectConnectedEdges:{boolean:Me},hoverConnectedEdges:{boolean:Me},tooltipDelay:{number:_e},zoomView:{boolean:Me},zoomSpeed:{number:_e},__type__:{object:Ye}},layout:{randomSeed:{undefined:"undefined",number:_e,string:je},improvedLayout:{boolean:Me},clusterThreshold:{number:_e},hierarchical:{enabled:{boolean:Me},levelSeparation:{number:_e},nodeSpacing:{number:_e},treeSpacing:{number:_e},blockShifting:{boolean:Me},edgeMinimization:{boolean:Me},parentCentralization:{boolean:Me},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Ye,boolean:Me}},__type__:{object:Ye}},manipulation:{enabled:{boolean:Me},initiallyActive:{boolean:Me},addNode:{boolean:Me,function:"function"},addEdge:{boolean:Me,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Ye,boolean:Me,function:"function"}},deleteNode:{boolean:Me,function:"function"},deleteEdge:{boolean:Me,function:"function"},controlNodeStyle:Ag,__type__:{object:Ye,boolean:Me}},nodes:Ag,physics:{enabled:{boolean:Me},barnesHut:{theta:{number:_e},gravitationalConstant:{number:_e},centralGravity:{number:_e},springLength:{number:_e},springConstant:{number:_e},damping:{number:_e},avoidOverlap:{number:_e},__type__:{object:Ye}},forceAtlas2Based:{theta:{number:_e},gravitationalConstant:{number:_e},centralGravity:{number:_e},springLength:{number:_e},springConstant:{number:_e},damping:{number:_e},avoidOverlap:{number:_e},__type__:{object:Ye}},repulsion:{centralGravity:{number:_e},springLength:{number:_e},springConstant:{number:_e},nodeDistance:{number:_e},damping:{number:_e},__type__:{object:Ye}},hierarchicalRepulsion:{centralGravity:{number:_e},springLength:{number:_e},springConstant:{number:_e},nodeDistance:{number:_e},damping:{number:_e},avoidOverlap:{number:_e},__type__:{object:Ye}},maxVelocity:{number:_e},minVelocity:{number:_e},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Me},iterations:{number:_e},updateInterval:{number:_e},onlyDynamicEdges:{boolean:Me},fit:{boolean:Me},__type__:{object:Ye,boolean:Me}},timestep:{number:_e},adaptiveTimestep:{boolean:Me},wind:{x:{number:_e},y:{number:_e},__type__:{object:Ye}},__type__:{object:Ye,boolean:Me}},autoResize:{boolean:Me},clickToUse:{boolean:Me},locale:{string:je},locales:{__any__:{any:ATe},__type__:{object:Ye}},height:{string:je},width:{string:je},__type__:{object:Ye}},qI={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},CTe=function(t,e,i){var n;return!!(Ps(t).call(t,"physics")&&Ps(n=qI.physics.solver).call(n,e)&&i.physics.solver!==e&&e!=="wind")},PTe=function(){function r(){qe(this,r)}return He(r,[{key:"getDistances",value:function(e,i,n){for(var a={},s=e.edges,o=0;o<i.length;o++){var l=i[o],u={};a[l]=u;for(var f=0;f<i.length;f++)u[i[f]]=o==f?0:1e9}for(var h=0;h<n.length;h++){var c=s[n[h]];c.connected===!0&&a[c.fromId]!==void 0&&a[c.toId]!==void 0&&(a[c.fromId][c.toId]=1,a[c.toId][c.fromId]=1)}for(var m=i.length,d=0;d<m;d++)for(var v=i[d],b=a[v],g=0;g<m-1;g++)for(var y=i[g],_=a[y],w=g+1;w<m;w++){var O=i[w],I=a[O],M=Math.min(_[O],_[v]+b[O]);_[O]=M,I[y]=M}return a}}]),r}(),DTe=function(){function r(t,e,i){qe(this,r),this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new PTe}return He(r,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.distanceSolver.getDistances(this.body,e,i);this._createL_matrix(a),this._createK_matrix(a),this._createE_matrix();for(var s=.01,o=1,l=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),f=5,h=1e9,c=0,m=0,d=0,v=0,b=0;h>s&&l<u;){l+=1;var g=this._getHighestEnergyNode(n),y=rr(g,4);for(c=y[0],h=y[1],m=y[2],d=y[3],v=h,b=0;v>o&&b<f;){b+=1,this._moveNode(c,m,d);var _=this._getEnergy(c),w=rr(_,3);v=w[0],m=w[1],d=w[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var i=this.body.nodeIndices,n=this.body.nodes,a=0,s=i[0],o=0,l=0,u=0;u<i.length;u++){var f=i[u];if(n[f].predefinedPosition!==!0||n[f].isCluster===!0&&e===!0||n[f].options.fixed.x!==!0||n[f].options.fixed.y!==!0){var h=this._getEnergy(f),c=rr(h,3),m=c[0],d=c[1],v=c[2];a<m&&(a=m,s=f,o=d,l=v)}}return[s,a,o,l]}},{key:"_getEnergy",value:function(e){var i=rr(this.E_sums[e],2),n=i[0],a=i[1],s=Math.sqrt(Math.pow(n,2)+Math.pow(a,2));return[s,n,a]}},{key:"_moveNode",value:function(e,i,n){for(var a=this.body.nodeIndices,s=this.body.nodes,o=0,l=0,u=0,f=s[e].x,h=s[e].y,c=this.K_matrix[e],m=this.L_matrix[e],d=0;d<a.length;d++){var v=a[d];if(v!==e){var b=s[v].x,g=s[v].y,y=c[v],_=m[v],w=1/Math.pow(Math.pow(f-b,2)+Math.pow(h-g,2),1.5);o+=y*(1-_*Math.pow(h-g,2)*w),l+=y*(_*(f-b)*(h-g)*w),u+=y*(1-_*Math.pow(f-b,2)*w)}}var O=o,I=l,M=i,T=u,E=n,q=(M/O+E/I)/(I/O-T/I),k=-(I*q+M)/O;s[e].x+=k,s[e].y+=q,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var i=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var a=0;a<i.length;a++){this.L_matrix[i[a]]={};for(var s=0;s<i.length;s++)this.L_matrix[i[a]][i[s]]=n*e[i[a]][i[s]]}}},{key:"_createK_matrix",value:function(e){var i=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var a=0;a<i.length;a++){this.K_matrix[i[a]]={};for(var s=0;s<i.length;s++)this.K_matrix[i[a]][i[s]]=n*Math.pow(e[i[a]][i[s]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,i=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(var a=0;a<e.length;a++){for(var s=e[a],o=i[s].x,l=i[s].y,u=0,f=0,h=a;h<e.length;h++){var c=e[h];if(c!==s){var m=i[c].x,d=i[c].y,v=1/Math.sqrt(Math.pow(o-m,2)+Math.pow(l-d,2));this.E_matrix[s][h]=[this.K_matrix[s][c]*(o-m-this.L_matrix[s][c]*(o-m)*v),this.K_matrix[s][c]*(l-d-this.L_matrix[s][c]*(l-d)*v)],this.E_matrix[c][a]=this.E_matrix[s][h],u+=this.E_matrix[s][h][0],f+=this.E_matrix[s][h][1]}}this.E_sums[s]=[u,f]}}},{key:"_updateE_matrix",value:function(e){for(var i=this.body.nodeIndices,n=this.body.nodes,a=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],l=n[e].x,u=n[e].y,f=0,h=0,c=0;c<i.length;c++){var m=i[c];if(m!==e){var d=a[c],v=d[0],b=d[1],g=n[m].x,y=n[m].y,_=1/Math.sqrt(Math.pow(l-g,2)+Math.pow(u-y,2)),w=s[m]*(l-g-o[m]*(l-g)*_),O=s[m]*(u-y-o[m]*(u-y)*_);a[c]=[w,O],f+=w,h+=O;var I=this.E_sums[m];I[0]+=w-v,I[1]+=O-b}}this.E_sums[e]=[f,h]}}]),r}();function Ke(r,t,e){var i,n,a,s,o=this;if(!(this instanceof Ke))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:I3e,clickToUse:!1},pr(this.options,this.defaultOptions),this.body={container:r,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Fe(i=this.on).call(i,this),off:Fe(n=this.off).call(n,this),emit:Fe(a=this.emit).call(a,this),once:Fe(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new D3e(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new Y5e,this.canvas=new mEe(this.body),this.selectionHandler=new ike(this.body,this.canvas),this.interactionHandler=new yEe(this.body,this.canvas,this.selectionHandler),this.view=new dEe(this.body,this.canvas),this.renderer=new lEe(this.body,this.canvas),this.physics=new Q8e(this.body),this.layoutEngine=new ETe(this.body),this.clustering=new sEe(this.body),this.manipulation=new OTe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new RSe(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new U8e(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new DTe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(e),this.setData(t)}U9(Ke.prototype);Ke.prototype.setOptions=function(r){var t=this;if(r===null&&(r=void 0),r!==void 0){var e=o3e.validate(r,ITe);e===!0&&console.error("%cErrors have been found in the supplied options object.",GA);var i=["locale","locales","clickToUse"];if(ju(i,this.options,r),r.locale!==void 0&&(r.locale=C3e(r.locales||this.options.locales,r.locale)),r=this.layoutEngine.setOptions(r.layout,r),this.canvas.setOptions(r),this.groups.setOptions(r.groups),this.nodesHandler.setOptions(r.nodes),this.edgesHandler.setOptions(r.edges),this.physics.setOptions(r.physics),this.manipulation.setOptions(r.manipulation,r,this.options),this.interactionHandler.setOptions(r.interaction),this.renderer.setOptions(r.interaction),this.selectionHandler.setOptions(r.interaction),r.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in r&&(this.configurator||(this.configurator=new a3e(this,this.body.container,qI,this.canvas.pixelRatio,CTe)),this.configurator.setOptions(r.configure)),this.configurator&&this.configurator.options.enabled===!0){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};zt(n.nodes,this.nodesHandler.options),zt(n.edges,this.edgesHandler.options),zt(n.layout,this.layoutEngine.options),zt(n.interaction,this.selectionHandler.options),zt(n.interaction,this.renderer.options),zt(n.interaction,this.interactionHandler.options),zt(n.manipulation,this.manipulation.options),zt(n.physics,this.physics.options),zt(n.global,this.canvas.options),zt(n.global,this.options),this.configurator.setModuleOptions(n)}r.clickToUse!==void 0?r.clickToUse===!0?this.activator===void 0&&(this.activator=new n3e(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};Ke.prototype._updateVisibleIndices=function(){var r=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&!this.clustering._isClusteredNode(e)&&r[e].options.hidden===!1&&this.body.nodeIndices.push(r[e].id);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i],a=r[n.fromId],s=r[n.toId],o=a!==void 0&&s!==void 0,l=!this.clustering._isClusteredEdge(i)&&n.options.hidden===!1&&o&&a.options.hidden===!1&&s.options.hidden===!1;l&&this.body.edgeIndices.push(n.id)}};Ke.prototype.bindEventListeners=function(){var r=this;this.body.emitter.on("_dataChanged",function(){r.edgesHandler._updateState(),r.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){r.clustering._updateState(),r._updateVisibleIndices(),r._updateValueRange(r.body.nodes),r._updateValueRange(r.body.edges),r.body.emitter.emit("startSimulation"),r.body.emitter.emit("_requestRedraw")})};Ke.prototype.setData=function(r){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),r&&r.dot&&(r.nodes||r.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(r&&r.options),r&&r.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=g3e(r.dot);this.setData(t);return}else if(r&&r.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var e=b3e(r.gephi);this.setData(e);return}else this.nodesHandler.setData(r&&r.nodes,!0),this.edgesHandler.setData(r&&r.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};Ke.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&delete this.body.nodes[r];for(var t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];ys(this.body.container)};Ke.prototype._updateValueRange=function(r){var t,e=void 0,i=void 0,n=0;for(t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var a=r[t].getValue();a!==void 0&&(e=e===void 0?a:Math.min(a,e),i=i===void 0?a:Math.max(a,i),n+=a)}if(e!==void 0&&i!==void 0)for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&r[t].setValueRange(e,i,n)};Ke.prototype.isActive=function(){return!this.activator||this.activator.active};Ke.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Ke.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Ke.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Ke.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Ke.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Ke.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Ke.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Ke.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Ke.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Ke.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Ke.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Ke.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Ke.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Ke.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Ke.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Ke.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Ke.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Ke.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Ke.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Ke.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Ke.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Ke.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};Ke.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Ke.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Ke.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Ke.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Ke.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Ke.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Ke.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Ke.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Ke.prototype.getConnectedNodes=function(r){return this.body.nodes[r]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};Ke.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Ke.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Ke.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Ke.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Ke.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Ke.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Ke.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Ke.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Ke.prototype.getNodeAt=function(){var r=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Ke.prototype.getEdgeAt=function(){var r=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Ke.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Ke.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Ke.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};Ke.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Ke.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Ke.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Ke.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Ke.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Ke.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Ke.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Ke.prototype.getOptionsFromConfigurator=function(){var r={};return this.configurator&&(r=this.configurator.getOptions.apply(this.configurator)),r};function NTe(r){let t,e,i,n;return Rs(r[15]),{c(){t=ve("div"),this.h()},l(a){t=ge(a,"DIV",{class:!0,style:!0}),Pe(t).forEach($),this.h()},h(){fe(t,"class","fixedNodeGraph canvasBreadcrumb svelte-hrzyxh"),fe(t,"style",e=`width:${r[2]}px;height:${r[1]}px;`)},m(a,s){S(a,t,s),r[16](t),i||(n=gt(window,"resize",r[15]),i=!0)},p(a,[s]){s&6&&e!==(e=`width:${a[2]}px;height:${a[1]}px;`)&&fe(t,"style",e)},i:se,o:se,d(a){a&&$(t),r[16](null),i=!1,n()}}}const Tl=30;function RTe(r,t,e){let i,n,a,s,o,l,{nodes:u}=t,{edges:f}=t,{boldEdges:h=[]}=t,{directed:c=!1}=t,{width:m=500}=t,{height:d=350}=t,{options:v={}}=t,b;v={interaction:{zoomView:!1,dragView:!1}};let g={};c&&(v.edges={arrows:"to",font:{size:30,background:"white"}});let y;hu(()=>{const O={nodes:o,edges:l};new Ke(y,O,v)});function _(){e(0,b=window.innerWidth)}function w(O){nn[O?"unshift":"push"](()=>{y=O,e(3,y)})}return r.$$set=O=>{"nodes"in O&&e(5,u=O.nodes),"edges"in O&&e(6,f=O.edges),"boldEdges"in O&&e(7,h=O.boldEdges),"directed"in O&&e(8,c=O.directed),"width"in O&&e(9,m=O.width),"height"in O&&e(10,d=O.height),"options"in O&&e(4,v=O.options)},r.$$.update=()=>{if(r.$$.dirty&513&&e(2,i=Math.min(m,Math.max(.8*b||999999,250))),r.$$.dirty&1540&&e(1,n=i*(d/m)),r.$$.dirty&4&&e(14,a=i-Tl),r.$$.dirty&2&&e(13,s=n-Tl),r.$$.dirty&24608&&e(12,o=u.map(O=>(O=JSON.parse(JSON.stringify(O)),O.fixed=!0,O.x=O.x*a,O.y=-O.y*s,O.widthConstraint={minimum:Tl,maximum:Tl},O.heightConstraint={minimum:Tl,maximum:Tl},O.font={size:20},O.label||(O.label=`${O.id}`),O))),r.$$.dirty&4096)for(const O of o)e(11,g[O.label]=O.id,g);r.$$.dirty&2240&&(l=f.map(O=>{const I={};if(typeof O=="string"){h.includes(O)&&(I.width=5);const M=O.split("-"),T=parseInt(M[0])||g[M[0]],E=parseInt(M[1])||g[M[1]];O={from:T,to:E},M.length>2&&(O.label=`${M[2]}`)}return{...O,...I}}))},[b,n,i,y,v,u,f,h,c,m,d,g,o,s,a,_,w]}class Gc extends $t{constructor(t){super(),_t(this,t,RTe,NTe,yt,{nodes:5,edges:6,boldEdges:7,directed:8,width:9,height:10,options:4})}}const HI=(r,t,e)=>{t=e+":"+t;const i=`${qu(qr).hierarchy.length}`;let n=i;Object.keys(qu(qr).dispSecNums).includes(i)&&(n=qu(qr).dispSecNums[i]),Object.keys(qu(r).secCounts).includes(i+"")||r.update(s=>(s.secCounts[i]=0,s)),r.update(s=>(s.secCounts[i]+=1,s));const a=n+"."+qu(r).secCounts[i];return r.update(s=>(s.numbers[t]=a,s)),t},MTe=r=>({}),y7=r=>({});function $7(r){let t,e,i,n,a;return{c(){t=ve("a"),e=P("↩︎"),this.h()},l(s){t=ge(s,"A",{style:!0,href:!0});var o=Pe(t);e=D(o,"↩︎"),o.forEach($),this.h()},h(){Ot(t,"float","right"),Ot(t,"font-size","1.4rem"),fe(t,"href",i="#"+r[1])},m(s,o){S(s,t,o),oe(t,e),n||(a=gt(t,"click",r[6]),n=!0)},p(s,o){o&2&&i!==(i="#"+s[1])&&fe(t,"href",i)},d(s){s&&$(t),n=!1,a()}}}function BTe(r){let t,e,i,n,a,s,o,l,u,f,h;const c=r[5].default,m=jt(c,r,r[4],null),d=r[5].caption,v=jt(d,r,r[4],y7);let b=!!r[1]&&$7(r);return{c(){t=ve("div"),m&&m.c(),e=Se(),i=ve("div"),n=ve("b"),a=P("Figure "),s=P(r[2]),o=P(":"),l=Se(),v&&v.c(),u=Se(),b&&b.c(),f=ct(),this.h()},l(g){t=ge(g,"DIV",{class:!0,id:!0});var y=Pe(t);m&&m.l(y),e=Ee(y),i=ge(y,"DIV",{class:!0});var _=Pe(i);n=ge(_,"B",{});var w=Pe(n);a=D(w,"Figure "),s=D(w,r[2]),o=D(w,":"),w.forEach($),l=Ee(_),v&&v.l(_),_.forEach($),y.forEach($),u=Ee(g),b&&b.l(g),f=ct(),this.h()},h(){fe(i,"class","caption svelte-rlxukd"),fe(t,"class","figDiv svelte-rlxukd"),fe(t,"id",r[0])},m(g,y){S(g,t,y),m&&m.m(t,null),oe(t,e),oe(t,i),oe(i,n),oe(n,a),oe(n,s),oe(n,o),oe(i,l),v&&v.m(i,null),S(g,u,y),b&&b.m(g,y),S(g,f,y),h=!0},p(g,[y]){m&&m.p&&(!h||y&16)&&Ut(m,c,g,g[4],h?Ht(c,g[4],y,null):qt(g[4]),null),v&&v.p&&(!h||y&16)&&Ut(v,d,g,g[4],h?Ht(d,g[4],y,MTe):qt(g[4]),y7),(!h||y&1)&&fe(t,"id",g[0]),g[1]?b?b.p(g,y):(b=$7(g),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null)},i(g){h||(z(m,g),z(v,g),h=!0)},o(g){L(m,g),L(v,g),h=!1},d(g){g&&($(t),$(u),$(f)),m&&m.d(g),v&&v.d(g),b&&b.d(g)}}}function FTe(r,t,e){let i,n;xt(r,Ul,f=>e(3,n=f));let{$$slots:a={},$$scope:s}=t,{refId:o}=t;o=HI(Ul,o,"fig");const l=n.numbers[o],u=()=>{Ul.update(f=>(delete f.returnIds[o],f))};return r.$$set=f=>{"refId"in f&&e(0,o=f.refId),"$$scope"in f&&e(4,s=f.$$scope)},r.$$.update=()=>{r.$$.dirty&9&&e(1,i=n.returnIds[o])},[o,i,l,n,s,a,u]}class af extends $t{constructor(t){super(),_t(this,t,FTe,BTe,yt,{refId:0})}}function zTe(r){var f;let t,e,i,n,a=((f=r[3])==null?void 0:f.numbers[r[0]])+"",s,o,l,u;return t=new np({props:{show:r[2],divId:r[1]}}),{c(){V(t.$$.fragment),e=Se(),i=ve("span"),n=P("Figure "),s=P(a),this.h()},l(h){X(t.$$.fragment,h),e=Ee(h),i=ge(h,"SPAN",{class:!0,id:!0,role:!0,tabindex:!0,"aria-label":!0});var c=Pe(i);n=D(c,"Figure "),s=D(c,a),c.forEach($),this.h()},h(){fe(i,"class","eqRef svelte-17atccr"),fe(i,"id",r[1]),fe(i,"role","button"),fe(i,"tabindex","0"),fe(i,"aria-label","Toggle popup")},m(h,c){K(t,h,c),S(h,e,c),S(h,i,c),oe(i,n),oe(i,s),o=!0,l||(u=[gt(i,"keydown",r[5]),gt(i,"click",r[5])],l=!0)},p(h,c){var d;const m={};c&4&&(m.show=h[2]),c&2&&(m.divId=h[1]),t.$set(m),(!o||c&9)&&a!==(a=((d=h[3])==null?void 0:d.numbers[h[0]])+"")&&Gs(s,a),(!o||c&2)&&fe(i,"id",h[1])},i(h){o||(z(t.$$.fragment,h),o=!0)},o(h){L(t.$$.fragment,h),o=!1},d(h){h&&($(e),$(i)),Y(t,h),l=!1,Sn(u)}}}function LTe(r){var s;let t,e,i=((s=r[3])==null?void 0:s.numbers[r[0]])+"",n,a;return{c(){t=ve("a"),e=P("Figure "),n=P(i),this.h()},l(o){t=ge(o,"A",{class:!0,href:!0});var l=Pe(t);e=D(l,"Figure "),n=D(l,i),l.forEach($),this.h()},h(){fe(t,"class","figRef"),fe(t,"href",a=`#${r[0]}`)},m(o,l){S(o,t,l),oe(t,e),oe(t,n)},p(o,l){var u;l&9&&i!==(i=((u=o[3])==null?void 0:u.numbers[o[0]])+"")&&Gs(n,i),l&1&&a!==(a=`#${o[0]}`)&&fe(t,"href",a)},i:se,o:se,d(o){o&&$(t)}}}function jTe(r){let t,e,i,n;const a=[LTe,zTe],s=[];function o(l,u){return l[4]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ct()},l(l){e.l(l),i=ct()},m(l,u){s[t].m(l,u),S(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(Ji(),L(s[f],1,1,()=>{s[f]=null}),Qi(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),z(e,1),e.m(i.parentNode,i))},i(l){n||(z(e),n=!0)},o(l){L(e),n=!1},d(l){l&&$(i),s[t].d(l)}}}function UTe(r,t,e){let i,n,a,s;xt(r,Ul,c=>e(3,a=c)),xt(r,Zi,c=>e(4,s=c));let{refId:o}=t;o="fig:"+o;const l=(a.numRefs[o]||0)+1;Ul.update(c=>(Object.keys(c.numRefs).includes(o)||(c.numRefs[o]=0),c.numRefs[o]+=1,c));const u=(c,m=[])=>{let d=[];const v=f(c);for(const b of v){const g=m.concat([b[0]]);if(b[1]==="complete")d.push(g);else{const y=c.children[parseInt(b[0])];d=d.concat(u(y,g))}}return d},f=c=>{const m=[];for(const d in c.children){const v=c.children[d];if(v.tagName)new Set(v.classList).intersection(new Set(["canvasBreadcrumb","vis-network"])).size>0?m.push([d,"incomplete"]):v.tagName.toLowerCase()==="canvas"&&m.push([d,"complete"]);else continue}return m},h=()=>{e(2,n=!n);const c=document.getElementById(i);if((c==null?void 0:c.childElementCount)===1){let m=0;const d=document.createElement("div");c==null||c.appendChild(d),setTimeout(function(){const v=document.getElementById(o),b=v.cloneNode(!0);b.id=b.id||"",b.id+="Ref"+l;const g=u(v);for(const _ of g){let w=v,O=b;for(const M of _)w=w.children[parseInt(M)],O=O.children[parseInt(M)];const I=O.getContext("2d");I==null||I.drawImage(w,0,0)}c==null||c.appendChild(b);const y=document.createElement("a");y.innerHTML="jump to",y.setAttribute("href","#"+o),y.style.fontSize="1.2rem",y.style.float="right",y.onclick=()=>{Ul.update(_=>(_.returnIds[o]=i,_))},c==null||c.appendChild(y)},m)}};return r.$$set=c=>{"refId"in c&&e(0,o=c.refId)},r.$$.update=()=>{r.$$.dirty&1&&e(1,i=o+"-ref"+l)},e(2,n=!1),[o,i,n,a,s,h]}class qo extends $t{constructor(t){super(),_t(this,t,UTe,jTe,yt,{refId:0})}}function qTe(r){let t,e,i="[note]",n,a,s;return t=new np({props:{show:r[0],$$slots:{default:[GTe]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment),e=ve("span"),e.textContent=i,this.h()},l(o){X(t.$$.fragment,o),e=ge(o,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Ze(e)!=="svelte-15se7qy"&&(e.textContent=i),this.h()},h(){fe(e,"class","footnote svelte-8qyc4p"),fe(e,"role","button"),fe(e,"tabindex","0"),fe(e,"aria-label","Toggle popup")},m(o,l){K(t,o,l),S(o,e,l),n=!0,a||(s=[gt(e,"keydown",r[2]),gt(e,"click",r[2])],a=!0)},p(o,l){const u={};l&1&&(u.show=o[0]),l&16&&(u.$$scope={dirty:l,ctx:o}),t.$set(u)},i(o){n||(z(t.$$.fragment,o),n=!0)},o(o){L(t.$$.fragment,o),n=!1},d(o){o&&$(e),Y(t,o),a=!1,Sn(s)}}}function HTe(r){let t;return{c(){t=ve("span")},l(e){t=ge(e,"SPAN",{}),Pe(t).forEach($)},m(e,i){S(e,t,i)},p:se,i:se,o:se,d(e){e&&$(t)}}}function GTe(r){let t,e;const i=r[3].default,n=jt(i,r,r[4],null);return{c(){n&&n.c(),t=Se()},l(a){n&&n.l(a),t=Ee(a)},m(a,s){n&&n.m(a,s),S(a,t,s),e=!0},p(a,s){n&&n.p&&(!e||s&16)&&Ut(n,i,a,a[4],e?Ht(i,a[4],s,null):qt(a[4]),null)},i(a){e||(z(n,a),e=!0)},o(a){L(n,a),e=!1},d(a){a&&$(t),n&&n.d(a)}}}function WTe(r){let t,e,i,n;const a=[HTe,qTe],s=[];function o(l,u){return l[1]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ct()},l(l){e.l(l),i=ct()},m(l,u){s[t].m(l,u),S(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(Ji(),L(s[f],1,1,()=>{s[f]=null}),Qi(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),z(e,1),e.m(i.parentNode,i))},i(l){n||(z(e),n=!0)},o(l){L(e),n=!1},d(l){l&&$(i),s[t].d(l)}}}function VTe(r,t,e){let i,n;xt(r,Zi,l=>e(1,n=l));let{$$slots:a={},$$scope:s}=t;const o=()=>{e(0,i=!i)};return r.$$set=l=>{"$$scope"in l&&e(4,s=l.$$scope)},e(0,i=!1),[i,n,o,a,s]}class dd extends $t{constructor(t){super(),_t(this,t,VTe,WTe,yt,{})}}function XTe(r){let t;const e=r[9].default,i=jt(e,r,r[11],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&2048)&&Ut(i,e,n,n[11],t?Ht(e,n[11],a,null):qt(n[11]),null)},i(n){t||(z(i,n),t=!0)},o(n){L(i,n),t=!1},d(n){i&&i.d(n)}}}function _7(r){let t,e,i,n;return{c(){t=ve("div"),e=P("("),i=P(r[3]),n=P(")"),this.h()},l(a){t=ge(a,"DIV",{style:!0});var s=Pe(t);e=D(s,"("),i=D(s,r[3]),n=D(s,")"),s.forEach($),this.h()},h(){Ot(t,"font-size","1.2rem"),Ot(t,"margin-left","0.5rem")},m(a,s){S(a,t,s),oe(t,e),oe(t,i),oe(t,n)},p(a,s){s&8&&Gs(i,a[3])},d(a){a&&$(t)}}}function w7(r){let t,e,i,n,a;return{c(){t=ve("a"),e=P("↩︎"),this.h()},l(s){t=ge(s,"A",{style:!0,href:!0});var o=Pe(t);e=D(o,"↩︎"),o.forEach($),this.h()},h(){Ot(t,"float","right"),Ot(t,"font-size","1.4rem"),fe(t,"href",i="#"+r[4])},m(s,o){S(s,t,o),oe(t,e),n||(a=gt(t,"click",r[10]),n=!0)},p(s,o){o&16&&i!==(i="#"+s[4])&&fe(t,"href",i)},d(s){s&&$(t),n=!1,a()}}}function KTe(r){let t,e,i,n,a,s,o,l;i=new L8({props:{options:r[6],fontSize:r[5]?parseFloat(r[2])*.8:r[2],refId:r[0],$$slots:{default:[XTe]},$$scope:{ctx:r}}});let u=r[3]!==""&&_7(r),f=!!r[4]&&w7(r);return{c(){t=ve("div"),e=ve("div"),V(i.$$.fragment),a=Se(),u&&u.c(),s=Se(),f&&f.c(),o=ct(),this.h()},l(h){t=ge(h,"DIV",{style:!0});var c=Pe(t);e=ge(c,"DIV",{style:!0,id:!0});var m=Pe(e);X(i.$$.fragment,m),m.forEach($),a=Ee(c),u&&u.l(c),c.forEach($),s=Ee(h),f&&f.l(h),o=ct(),this.h()},h(){fe(e,"style",n="flex-grow:1;"+(r[1]?"":"overflow-x:auto")),fe(e,"id",r[0]),Ot(t,"display","flex"),Ot(t,"align-items","center")},m(h,c){S(h,t,c),oe(t,e),K(i,e,null),oe(t,a),u&&u.m(t,null),S(h,s,c),f&&f.m(h,c),S(h,o,c),l=!0},p(h,[c]){const m={};c&36&&(m.fontSize=h[5]?parseFloat(h[2])*.8:h[2]),c&1&&(m.refId=h[0]),c&2048&&(m.$$scope={dirty:c,ctx:h}),i.$set(m),(!l||c&2&&n!==(n="flex-grow:1;"+(h[1]?"":"overflow-x:auto")))&&fe(e,"style",n),(!l||c&1)&&fe(e,"id",h[0]),h[3]!==""?u?u.p(h,c):(u=_7(h),u.c(),u.m(t,null)):u&&(u.d(1),u=null),h[4]?f?f.p(h,c):(f=w7(h),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},i(h){l||(z(i.$$.fragment,h),l=!0)},o(h){L(i.$$.fragment,h),l=!1},d(h){h&&($(t),$(s),$(o)),Y(i),u&&u.d(),f&&f.d(h)}}}function YTe(r,t,e){let i,n,a;xt(r,Yc,v=>e(8,n=v)),xt(r,Zi,v=>e(5,a=v));let{$$slots:s={},$$scope:o}=t,{refId:l=""}=t,{ignoreOverflow:u=!1}=t,{fontSize:f="1"}=t,{name:h=""}=t;const c={displayMode:!0,throwOnError:!1};let m="";l!==""&&(l=HI(Yc,l,"eqn"),m=n.numbers[l],h!==""&&Yc.update(v=>(v.names[l]=h,v)));const d=()=>{Yc.update(v=>(delete v.returnIds[l],v))};return r.$$set=v=>{"refId"in v&&e(0,l=v.refId),"ignoreOverflow"in v&&e(1,u=v.ignoreOverflow),"fontSize"in v&&e(2,f=v.fontSize),"name"in v&&e(7,h=v.name),"$$scope"in v&&e(11,o=v.$$scope)},r.$$.update=()=>{r.$$.dirty&257&&e(4,i=n.returnIds[l])},[l,u,f,m,i,a,c,h,n,s,d,o]}class Pi extends $t{constructor(t){super(),_t(this,t,YTe,KTe,yt,{refId:0,ignoreOverflow:1,fontSize:2,name:7})}}const JTe=r=>({}),x7=r=>({}),QTe=r=>({}),S7=r=>({}),ZTe=r=>({}),E7=r=>({}),e9e=r=>({}),k7=r=>({});function t9e(r){let t;const e=r[5].default,i=jt(e,r,r[8],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&256)&&Ut(i,e,n,n[8],t?Ht(e,n[8],a,null):qt(n[8]),null)},i(n){t||(z(i,n),t=!0)},o(n){L(i,n),t=!1},d(n){i&&i.d(n)}}}function r9e(r){let t;const e=r[5].glossaryDisp,i=jt(e,r,r[8],E7);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&256)&&Ut(i,e,n,n[8],t?Ht(e,n[8],a,ZTe):qt(n[8]),E7)},i(n){t||(z(i,n),t=!0)},o(n){L(i,n),t=!1},d(n){i&&i.d(n)}}}function T7(r){let t,e,i;const n=r[5].context,a=jt(n,r,r[8],S7);return{c(){t=P(" ("),a&&a.c(),e=P(")")},l(s){t=D(s," ("),a&&a.l(s),e=D(s,")")},m(s,o){S(s,t,o),a&&a.m(s,o),S(s,e,o),i=!0},p(s,o){a&&a.p&&(!i||o&256)&&Ut(a,n,s,s[8],i?Ht(n,s[8],o,QTe):qt(s[8]),S7)},i(s){i||(z(a,s),i=!0)},o(s){L(a,s),i=!1},d(s){s&&($(t),$(e)),a&&a.d(s)}}}function O7(r){let t;const e=r[5].definition,i=jt(e,r,r[8],x7);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&256)&&Ut(i,e,n,n[8],t?Ht(e,n[8],a,JTe):qt(n[8]),x7)},i(n){t||(z(i,n),t=!0)},o(n){L(i,n),t=!1},d(n){i&&i.d(n)}}}function i9e(r){let t,e,i,n,a,s,o,l,u,f;const h=[r9e,t9e],c=[];function m(b,g){return b[3].glossaryDisp?0:1}i=m(r),n=c[i]=h[i](r);let d=r[3].context&&T7(r),v=r[3].definition&&O7(r);return{c(){t=ve("a"),e=ve("span"),n.c(),a=ct(),d&&d.c(),l=P(`:
        `),v&&v.c(),u=ct(),this.h()},l(b){t=ge(b,"A",{class:!0,href:!0});var g=Pe(t);e=ge(g,"SPAN",{id:!0});var y=Pe(e);n.l(y),a=ct(),d&&d.l(y),y.forEach($),g.forEach($),l=D(b,`:
        `),v&&v.l(b),u=ct(),this.h()},h(){fe(e,"id",s=r[0]+":glossaryDisp"),fe(t,"class","inGlossary svelte-1e5doxm"),fe(t,"href",o="#"+r[0])},m(b,g){S(b,t,g),oe(t,e),c[i].m(e,null),oe(e,a),d&&d.m(e,null),S(b,l,g),v&&v.m(b,g),S(b,u,g),f=!0},p(b,g){let y=i;i=m(b),i===y?c[i].p(b,g):(Ji(),L(c[y],1,1,()=>{c[y]=null}),Qi(),n=c[i],n?n.p(b,g):(n=c[i]=h[i](b),n.c()),z(n,1),n.m(e,a)),b[3].context?d?(d.p(b,g),g&8&&z(d,1)):(d=T7(b),d.c(),z(d,1),d.m(e,null)):d&&(Ji(),L(d,1,1,()=>{d=null}),Qi()),(!f||g&1&&s!==(s=b[0]+":glossaryDisp"))&&fe(e,"id",s),(!f||g&1&&o!==(o="#"+b[0]))&&fe(t,"href",o),b[3].definition?v?(v.p(b,g),g&8&&z(v,1)):(v=O7(b),v.c(),z(v,1),v.m(u.parentNode,u)):v&&(Ji(),L(v,1,1,()=>{v=null}),Qi())},i(b){f||(z(n),z(d),z(v),f=!0)},o(b){L(n),L(d),L(v),f=!1},d(b){b&&($(t),$(l),$(u)),c[i].d(),d&&d.d(),v&&v.d(b)}}}function n9e(r){let t,e,i,n,a,s,o,l,u,f;const h=r[5].default,c=jt(h,r,r[8],null),m=r[5].glossaryDisp,d=jt(m,r,r[8],k7),v=r[5].default,b=jt(v,r,r[8],null);return l=new vt({props:{$$slots:{default:[i9e]},$$scope:{ctx:r}}}),{c(){t=ve("span"),c&&c.c(),e=Se(),i=ve("span"),d&&d.c(),n=Se(),a=ve("span"),b&&b.c(),s=Se(),o=ve("div"),V(l.$$.fragment),this.h()},l(g){t=ge(g,"SPAN",{style:!0});var y=Pe(t);c&&c.l(y),y.forEach($),e=Ee(g),i=ge(g,"SPAN",{style:!0});var _=Pe(i);d&&d.l(_),_.forEach($),n=Ee(g),a=ge(g,"SPAN",{id:!0,class:!0});var w=Pe(a);b&&b.l(w),w.forEach($),s=Ee(g),o=ge(g,"DIV",{id:!0,style:!0});var O=Pe(o);X(l.$$.fragment,O),O.forEach($),this.h()},h(){Ot(t,"display","none"),Ot(i,"display","none"),fe(a,"id",r[0]),fe(a,"class","inText svelte-1e5doxm"),fe(o,"id",u=r[0]+":glossaryEntry"),Ot(o,"display","none")},m(g,y){S(g,t,y),c&&c.m(t,null),r[6](t),S(g,e,y),S(g,i,y),d&&d.m(i,null),r[7](i),S(g,n,y),S(g,a,y),b&&b.m(a,null),S(g,s,y),S(g,o,y),K(l,o,null),f=!0},p(g,[y]){c&&c.p&&(!f||y&256)&&Ut(c,h,g,g[8],f?Ht(h,g[8],y,null):qt(g[8]),null),d&&d.p&&(!f||y&256)&&Ut(d,m,g,g[8],f?Ht(m,g[8],y,e9e):qt(g[8]),k7),b&&b.p&&(!f||y&256)&&Ut(b,v,g,g[8],f?Ht(v,g[8],y,null):qt(g[8]),null),(!f||y&1)&&fe(a,"id",g[0]);const _={};y&265&&(_.$$scope={dirty:y,ctx:g}),l.$set(_),(!f||y&1&&u!==(u=g[0]+":glossaryEntry"))&&fe(o,"id",u)},i(g){f||(z(c,g),z(d,g),z(b,g),z(l.$$.fragment,g),f=!0)},o(g){L(c,g),L(d,g),L(b,g),L(l.$$.fragment,g),f=!1},d(g){g&&($(t),$(e),$(i),$(n),$(a),$(s),$(o)),c&&c.d(g),r[6](null),d&&d.d(g),r[7](null),b&&b.d(g),Y(l)}}}function a9e(r,t,e){let{$$slots:i={},$$scope:n}=t;const a=G7(i);let{refId:s}=t,{plainText:o=""}=t;s="def:"+s;let l,u;Kg.update(c=>(c.plainText[s]=o,c));function f(c){nn[c?"unshift":"push"](()=>{l=c,e(1,l)})}function h(c){nn[c?"unshift":"push"](()=>{u=c,e(2,u)})}return r.$$set=c=>{"refId"in c&&e(0,s=c.refId),"plainText"in c&&e(4,o=c.plainText),"$$scope"in c&&e(8,n=c.$$scope)},r.$$.update=()=>{r.$$.dirty&23&&o===""&&(e(4,o=(u==null?void 0:u.innerText)||(l==null?void 0:l.innerText)||""),Kg.update(c=>(c.plainText[s]=o,c)))},[s,l,u,a,o,i,f,h,n]}class Zr extends $t{constructor(t){super(),_t(this,t,a9e,n9e,yt,{refId:0,plainText:4})}}function s9e(r){let t,e,i,n,a,s;const o=r[4].default,l=jt(o,r,r[3],null);return{c(){t=ve("div"),l&&l.c(),e=Se(),i=ve("a"),n=new Xn(!1),this.h()},l(u){t=ge(u,"DIV",{style:!0});var f=Pe(t);l&&l.l(f),f.forEach($),e=Ee(u),i=ge(u,"A",{href:!0});var h=Pe(i);n=Kn(h,!1),h.forEach($),this.h()},h(){Ot(t,"display","none"),n.a=null,fe(i,"href",a="#def:"+r[1]+":InGlossary")},m(u,f){S(u,t,f),l&&l.m(t,null),r[5](t),S(u,e,f),S(u,i,f),n.m(r[0],i),s=!0},p(u,[f]){l&&l.p&&(!s||f&8)&&Ut(l,o,u,u[3],s?Ht(o,u[3],f,null):qt(u[3]),null),(!s||f&1)&&n.p(u[0]),(!s||f&2&&a!==(a="#def:"+u[1]+":InGlossary"))&&fe(i,"href",a)},i(u){s||(z(l,u),s=!0)},o(u){L(l,u),s=!1},d(u){u&&($(t),$(e),$(i)),l&&l.d(u),r[5](null)}}}function o9e(r,t,e){let{$$slots:i={},$$scope:n}=t,{refId:a}=t,{linkText:s="_unknown_"}=t,o;function l(u){nn[u?"unshift":"push"](()=>{o=u,e(2,o)})}return r.$$set=u=>{"refId"in u&&e(1,a=u.refId),"linkText"in u&&e(0,s=u.linkText),"$$scope"in u&&e(3,n=u.$$scope)},r.$$.update=()=>{r.$$.dirty&7&&hu(()=>{if(s==="_unknown_"){const u=document.getElementById("def:"+a+":glossaryDisp");e(0,s=(o==null?void 0:o.innerHTML)||(u==null?void 0:u.innerHTML)||"_unknown_"),e(0,s=s.trim())}})},[s,a,o,n,i,l]}class yi extends $t{constructor(t){super(),_t(this,t,o9e,s9e,yt,{refId:1,linkText:0})}}function l9e(r){let t;return{c(){t=P("Graph theory")},l(e){t=D(e,"Graph theory")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function u9e(r){let t,e="Some basics from graph theory, which are useful for describing several common combinatorial optimization problems.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-117eoas"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function f9e(r){let t,e,i="Graph Theory",n,a,s,o;return a=new Ki({props:{refId:"diestel2018"}}),{c(){t=P("Familiarity with graph theory will be useful for this course. You don't need to know too much though, really just the basic definitions should be enough to understand the material. For interested readers, Reinhard Diestel's "),e=ve("em"),e.textContent=i,n=Se(),V(a.$$.fragment),s=P(" is an excellent overview of the topic.")},l(l){t=D(l,"Familiarity with graph theory will be useful for this course. You don't need to know too much though, really just the basic definitions should be enough to understand the material. For interested readers, Reinhard Diestel's "),e=ge(l,"EM",{"data-svelte-h":!0}),Ze(e)!=="svelte-1avczrj"&&(e.textContent=i),n=Ee(l),X(a.$$.fragment,l),s=D(l," is an excellent overview of the topic.")},m(l,u){S(l,t,u),S(l,e,u),S(l,n,u),K(a,l,u),S(l,s,u),o=!0},p:se,i(l){o||(z(a.$$.fragment,l),o=!0)},o(l){L(a.$$.fragment,l),o=!1},d(l){l&&($(t),$(e),$(n),$(s)),Y(a,l)}}}function c9e(r){let t;return{c(){t=P("Graph theory")},l(e){t=D(e,"Graph theory")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function h9e(r){let t;return{c(){t=P("graphs")},l(e){t=D(e,"graphs")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function m9e(r){let t,e,i,n,a;return i=new yi({props:{refId:"graph",$$slots:{default:[h9e]},$$scope:{ctx:r}}}),{c(){t=ve("span"),e=P("The branch of mathematics that studies "),V(i.$$.fragment),n=P("."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"The branch of mathematics that studies "),X(i.$$.fragment,o),n=D(o,"."),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p(s,o){const l={};o&32&&(l.$$scope={dirty:o,ctx:s}),i.$set(l)},i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function p9e(r){let t,e="graph theory";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-mn6otu"&&(t.textContent=e),this.h()},h(){fe(t,"slot","glossaryDisp")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function d9e(r){let t;return{c(){t=P("graph")},l(e){t=D(e,"graph")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function v9e(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function g9e(r){let t;return{c(){t=P("vertices")},l(e){t=D(e,"vertices")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function b9e(r){let t=String.raw`V`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function y9e(r){let t;return{c(){t=P("edges")},l(e){t=D(e,"edges")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function $9e(r){let t=String.raw`E`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function _9e(r){let t,e,i,n,a,s,o,l,u,f,h,c,m;return i=new Ae({props:{$$slots:{default:[v9e]},$$scope:{ctx:r}}}),a=new yi({props:{refId:"vertex",$$slots:{default:[g9e]},$$scope:{ctx:r}}}),o=new Ae({props:{$$slots:{default:[b9e]},$$scope:{ctx:r}}}),u=new yi({props:{refId:"edge",$$slots:{default:[y9e]},$$scope:{ctx:r}}}),h=new Ae({props:{$$slots:{default:[$9e]},$$scope:{ctx:r}}}),{c(){t=ve("span"),e=P("A mathematical object "),V(i.$$.fragment),n=P(" consisting of a set of "),V(a.$$.fragment),s=Se(),V(o.$$.fragment),l=P(" and a set of "),V(u.$$.fragment),f=Se(),V(h.$$.fragment),c=P(". Typically the vertices represent some object of interest, and the edges represent some pairwise relationship between two vertices."),this.h()},l(d){t=ge(d,"SPAN",{slot:!0});var v=Pe(t);e=D(v,"A mathematical object "),X(i.$$.fragment,v),n=D(v," consisting of a set of "),X(a.$$.fragment,v),s=Ee(v),X(o.$$.fragment,v),l=D(v," and a set of "),X(u.$$.fragment,v),f=Ee(v),X(h.$$.fragment,v),c=D(v,". Typically the vertices represent some object of interest, and the edges represent some pairwise relationship between two vertices."),v.forEach($),this.h()},h(){fe(t,"slot","definition")},m(d,v){S(d,t,v),oe(t,e),K(i,t,null),oe(t,n),K(a,t,null),oe(t,s),K(o,t,null),oe(t,l),K(u,t,null),oe(t,f),K(h,t,null),oe(t,c),m=!0},p(d,v){const b={};v&32&&(b.$$scope={dirty:v,ctx:d}),i.$set(b);const g={};v&32&&(g.$$scope={dirty:v,ctx:d}),a.$set(g);const y={};v&32&&(y.$$scope={dirty:v,ctx:d}),o.$set(y);const _={};v&32&&(_.$$scope={dirty:v,ctx:d}),u.$set(_);const w={};v&32&&(w.$$scope={dirty:v,ctx:d}),h.$set(w)},i(d){m||(z(i.$$.fragment,d),z(a.$$.fragment,d),z(o.$$.fragment,d),z(u.$$.fragment,d),z(h.$$.fragment,d),m=!0)},o(d){L(i.$$.fragment,d),L(a.$$.fragment,d),L(o.$$.fragment,d),L(u.$$.fragment,d),L(h.$$.fragment,d),m=!1},d(d){d&&$(t),Y(i),Y(a),Y(o),Y(u),Y(h)}}}function w9e(r){let t=String.raw`V`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function x9e(r){let t=String.raw`E`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function S9e(r){let t;return{c(){t=P("vertices")},l(e){t=D(e,"vertices")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function E9e(r){let t,e,i,n,a;return i=new yi({props:{refId:"graph"}}),{c(){t=ve("span"),e=P("Along with the edge, one of two main components of a "),V(i.$$.fragment),n=P(". They're typically the base object of interest in a graph, and visually represented by a circle in a diagram."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"Along with the edge, one of two main components of a "),X(i.$$.fragment,o),n=D(o,". They're typically the base object of interest in a graph, and visually represented by a circle in a diagram."),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function k9e(r){let t,e="vertex";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-9hv9r1"&&(t.textContent=e),this.h()},h(){fe(t,"slot","glossaryDisp")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function T9e(r){let t;return{c(){t=P(`nodes
        
        
    `)},l(e){t=D(e,`nodes
        
        
    `)},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function O9e(r){let t,e,i,n,a;return i=new yi({props:{refId:"vertex"}}),{c(){t=ve("span"),e=P("See "),V(i.$$.fragment),n=P("."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"See "),X(i.$$.fragment,o),n=D(o,"."),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function A9e(r){let t,e="node";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-11jyezr"&&(t.textContent=e),this.h()},h(){fe(t,"slot","glossaryDisp")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function I9e(r){let t;return{c(){t=P("edges")},l(e){t=D(e,"edges")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function C9e(r){let t,e,i,n,a;return i=new yi({props:{refId:"graph"}}),{c(){t=ve("span"),e=P("Along with the vertex, one of two main components of a "),V(i.$$.fragment),n=P(". They typically represent relationships between vertices."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"Along with the vertex, one of two main components of a "),X(i.$$.fragment,o),n=D(o,". They typically represent relationships between vertices."),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function P9e(r){let t,e="edge";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1nnu80q"&&(t.textContent=e),this.h()},h(){fe(t,"slot","glossaryDisp")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function D9e(r){let t;return{c(){t=P(`arcs
        
        
    `)},l(e){t=D(e,`arcs
        
        
    `)},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function N9e(r){let t,e,i,n,a;return i=new yi({props:{refId:"edge"}}),{c(){t=ve("span"),e=P("See "),V(i.$$.fragment),n=P(`.
        `),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"See "),X(i.$$.fragment,o),n=D(o,`.
        `),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function R9e(r){let t,e="arc";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-v8jvmj"&&(t.textContent=e),this.h()},h(){fe(t,"slot","glossaryDisp")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function M9e(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function B9e(r){let t=String.raw`V`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function F9e(r){let t=String.raw`E`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function z9e(r){let t=String.raw`V`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function L9e(r){let t=String.raw`E`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function j9e(r){let t=String.raw`(v{:underscore:}1,v{:underscore:}2)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function U9e(r){let t=String.raw`v{:underscore:}1, v{:underscore:}2\in V`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function q9e(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I,M,T,E,q,k,j,J,Q,R;return t=new Zr({props:{refId:"graphTheory",$$slots:{glossaryDisp:[p9e],definition:[m9e],default:[c9e]},$$scope:{ctx:r}}}),i=new Zr({props:{refId:"graph",$$slots:{definition:[_9e],default:[d9e]},$$scope:{ctx:r}}}),a=new Ae({props:{$$slots:{default:[w9e]},$$scope:{ctx:r}}}),o=new Ae({props:{$$slots:{default:[x9e]},$$scope:{ctx:r}}}),u=new Zr({props:{refId:"vertex",$$slots:{glossaryDisp:[k9e],definition:[E9e],default:[S9e]},$$scope:{ctx:r}}}),h=new Zr({props:{refId:"node",$$slots:{glossaryDisp:[A9e],definition:[O9e],default:[T9e]},$$scope:{ctx:r}}}),m=new Zr({props:{refId:"edge",$$slots:{glossaryDisp:[P9e],definition:[C9e],default:[I9e]},$$scope:{ctx:r}}}),v=new Zr({props:{refId:"arc",$$slots:{glossaryDisp:[R9e],definition:[N9e],default:[D9e]},$$scope:{ctx:r}}}),g=new Ae({props:{$$slots:{default:[M9e]},$$scope:{ctx:r}}}),_=new Ae({props:{$$slots:{default:[B9e]},$$scope:{ctx:r}}}),O=new Ae({props:{$$slots:{default:[F9e]},$$scope:{ctx:r}}}),M=new Ae({props:{$$slots:{default:[z9e]},$$scope:{ctx:r}}}),E=new Ae({props:{$$slots:{default:[L9e]},$$scope:{ctx:r}}}),k=new Ae({props:{$$slots:{default:[j9e]},$$scope:{ctx:r}}}),J=new Ae({props:{$$slots:{default:[U9e]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment),e=P(" is a branch of mathematics that studies a certain type of object called a graph. A "),V(i.$$.fragment),n=P(" is composed of two sets "),V(a.$$.fragment),s=P(" and "),V(o.$$.fragment),l=P(" called the "),V(u.$$.fragment),f=P(" (also called "),V(h.$$.fragment),c=P(") and "),V(m.$$.fragment),d=P(" (also called "),V(v.$$.fragment),b=P("), respectively. Graphs are used to model relationships (denoted by the edges) between pairs of entities (represented by the vertices). More concretely, let a graph "),V(g.$$.fragment),y=P(" be defined by the pair of sets "),V(_.$$.fragment),w=P(" and "),V(O.$$.fragment),I=P(". "),V(M.$$.fragment),T=P(" is the set of vertices, and the elements of "),V(E.$$.fragment),q=P(" are pairs of vertices "),V(k.$$.fragment),j=P(", with "),V(J.$$.fragment),Q=P(".")},l(B){X(t.$$.fragment,B),e=D(B," is a branch of mathematics that studies a certain type of object called a graph. A "),X(i.$$.fragment,B),n=D(B," is composed of two sets "),X(a.$$.fragment,B),s=D(B," and "),X(o.$$.fragment,B),l=D(B," called the "),X(u.$$.fragment,B),f=D(B," (also called "),X(h.$$.fragment,B),c=D(B,") and "),X(m.$$.fragment,B),d=D(B," (also called "),X(v.$$.fragment,B),b=D(B,"), respectively. Graphs are used to model relationships (denoted by the edges) between pairs of entities (represented by the vertices). More concretely, let a graph "),X(g.$$.fragment,B),y=D(B," be defined by the pair of sets "),X(_.$$.fragment,B),w=D(B," and "),X(O.$$.fragment,B),I=D(B,". "),X(M.$$.fragment,B),T=D(B," is the set of vertices, and the elements of "),X(E.$$.fragment,B),q=D(B," are pairs of vertices "),X(k.$$.fragment,B),j=D(B,", with "),X(J.$$.fragment,B),Q=D(B,".")},m(B,U){K(t,B,U),S(B,e,U),K(i,B,U),S(B,n,U),K(a,B,U),S(B,s,U),K(o,B,U),S(B,l,U),K(u,B,U),S(B,f,U),K(h,B,U),S(B,c,U),K(m,B,U),S(B,d,U),K(v,B,U),S(B,b,U),K(g,B,U),S(B,y,U),K(_,B,U),S(B,w,U),K(O,B,U),S(B,I,U),K(M,B,U),S(B,T,U),K(E,B,U),S(B,q,U),K(k,B,U),S(B,j,U),K(J,B,U),S(B,Q,U),R=!0},p(B,U){const te={};U&32&&(te.$$scope={dirty:U,ctx:B}),t.$set(te);const de={};U&32&&(de.$$scope={dirty:U,ctx:B}),i.$set(de);const me={};U&32&&(me.$$scope={dirty:U,ctx:B}),a.$set(me);const ee={};U&32&&(ee.$$scope={dirty:U,ctx:B}),o.$set(ee);const re={};U&32&&(re.$$scope={dirty:U,ctx:B}),u.$set(re);const ue={};U&32&&(ue.$$scope={dirty:U,ctx:B}),h.$set(ue);const Te={};U&32&&(Te.$$scope={dirty:U,ctx:B}),m.$set(Te);const we={};U&32&&(we.$$scope={dirty:U,ctx:B}),v.$set(we);const xe={};U&32&&(xe.$$scope={dirty:U,ctx:B}),g.$set(xe);const Oe={};U&32&&(Oe.$$scope={dirty:U,ctx:B}),_.$set(Oe);const Ie={};U&32&&(Ie.$$scope={dirty:U,ctx:B}),O.$set(Ie);const pe={};U&32&&(pe.$$scope={dirty:U,ctx:B}),M.$set(pe);const be={};U&32&&(be.$$scope={dirty:U,ctx:B}),E.$set(be);const W={};U&32&&(W.$$scope={dirty:U,ctx:B}),k.$set(W);const ae={};U&32&&(ae.$$scope={dirty:U,ctx:B}),J.$set(ae)},i(B){R||(z(t.$$.fragment,B),z(i.$$.fragment,B),z(a.$$.fragment,B),z(o.$$.fragment,B),z(u.$$.fragment,B),z(h.$$.fragment,B),z(m.$$.fragment,B),z(v.$$.fragment,B),z(g.$$.fragment,B),z(_.$$.fragment,B),z(O.$$.fragment,B),z(M.$$.fragment,B),z(E.$$.fragment,B),z(k.$$.fragment,B),z(J.$$.fragment,B),R=!0)},o(B){L(t.$$.fragment,B),L(i.$$.fragment,B),L(a.$$.fragment,B),L(o.$$.fragment,B),L(u.$$.fragment,B),L(h.$$.fragment,B),L(m.$$.fragment,B),L(v.$$.fragment,B),L(g.$$.fragment,B),L(_.$$.fragment,B),L(O.$$.fragment,B),L(M.$$.fragment,B),L(E.$$.fragment,B),L(k.$$.fragment,B),L(J.$$.fragment,B),R=!1},d(B){B&&($(e),$(n),$(s),$(l),$(f),$(c),$(d),$(b),$(y),$(w),$(I),$(T),$(q),$(j),$(Q)),Y(t,B),Y(i,B),Y(a,B),Y(o,B),Y(u,B),Y(h,B),Y(m,B),Y(v,B),Y(g,B),Y(_,B),Y(O,B),Y(M,B),Y(E,B),Y(k,B),Y(J,B)}}}function H9e(r){let t=String.raw`d{:underscore:}e`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function G9e(r){let t=String.raw`e\in E`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function W9e(r){let t,e,i,n,a,s;return e=new Ae({props:{$$slots:{default:[H9e]},$$scope:{ctx:r}}}),n=new Ae({props:{$$slots:{default:[G9e]},$$scope:{ctx:r}}}),{c(){t=P("Initially, these definitions feel rather abstract. But in practice graphs often have very natural interpretations. Generally they are used to model relationships between entities, e.g. the nodes are people signed up for some social network, and an edge is drawn between two people if they are friends. Another common interpretation is as a road network, when the vertices are cities on a map, and an edge is drawn between two cities if it is possible to drive from one city to the other. In this case, there is often a distance "),V(e.$$.fragment),i=P(" associated with each "),V(n.$$.fragment),a=P(" that denotes the distance between two cities, and you are perhaps trying to find the shortest route that lets you get from one place to another.")},l(o){t=D(o,"Initially, these definitions feel rather abstract. But in practice graphs often have very natural interpretations. Generally they are used to model relationships between entities, e.g. the nodes are people signed up for some social network, and an edge is drawn between two people if they are friends. Another common interpretation is as a road network, when the vertices are cities on a map, and an edge is drawn between two cities if it is possible to drive from one city to the other. In this case, there is often a distance "),X(e.$$.fragment,o),i=D(o," associated with each "),X(n.$$.fragment,o),a=D(o," that denotes the distance between two cities, and you are perhaps trying to find the shortest route that lets you get from one place to another.")},m(o,l){S(o,t,l),K(e,o,l),S(o,i,l),K(n,o,l),S(o,a,l),s=!0},p(o,l){const u={};l&32&&(u.$$scope={dirty:l,ctx:o}),e.$set(u);const f={};l&32&&(f.$$scope={dirty:l,ctx:o}),n.$set(f)},i(o){s||(z(e.$$.fragment,o),z(n.$$.fragment,o),s=!0)},o(o){L(e.$$.fragment,o),L(n.$$.fragment,o),s=!1},d(o){o&&($(t),$(i),$(a)),Y(e,o),Y(n,o)}}}function V9e(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function X9e(r){let t=String.raw`V=\{1,2,3,4,5\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function K9e(r){let t=String.raw`E=\{(1,2), (1,3), (2,3), (2,4), (2,5), (3,5), (4,5)\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function Y9e(r){let t,e,i,n,a,s,o,l,u,f,h;return e=new qo({props:{refId:"exampleGraph"}}),n=new qo({props:{refId:"exampleGraph"}}),s=new Ae({props:{$$slots:{default:[V9e]},$$scope:{ctx:r}}}),l=new Pi({props:{$$slots:{default:[X9e]},$$scope:{ctx:r}}}),f=new Pi({props:{$$slots:{default:[K9e]},$$scope:{ctx:r}}}),{c(){t=P("Graphs are typically represented visually as in "),V(e.$$.fragment),i=P(": Each vertex/node is represented as a circle in the diagram, while edges/arcs are denoted by lines between the circles. In the case if "),V(n.$$.fragment),a=P(", the graph being represented is the graph "),V(s.$$.fragment),o=P(` with vertices:
    `),V(l.$$.fragment),u=P(`
    and edges:
    `),V(f.$$.fragment)},l(c){t=D(c,"Graphs are typically represented visually as in "),X(e.$$.fragment,c),i=D(c,": Each vertex/node is represented as a circle in the diagram, while edges/arcs are denoted by lines between the circles. In the case if "),X(n.$$.fragment,c),a=D(c,", the graph being represented is the graph "),X(s.$$.fragment,c),o=D(c,` with vertices:
    `),X(l.$$.fragment,c),u=D(c,`
    and edges:
    `),X(f.$$.fragment,c)},m(c,m){S(c,t,m),K(e,c,m),S(c,i,m),K(n,c,m),S(c,a,m),K(s,c,m),S(c,o,m),K(l,c,m),S(c,u,m),K(f,c,m),h=!0},p(c,m){const d={};m&32&&(d.$$scope={dirty:m,ctx:c}),s.$set(d);const v={};m&32&&(v.$$scope={dirty:m,ctx:c}),l.$set(v);const b={};m&32&&(b.$$scope={dirty:m,ctx:c}),f.$set(b)},i(c){h||(z(e.$$.fragment,c),z(n.$$.fragment,c),z(s.$$.fragment,c),z(l.$$.fragment,c),z(f.$$.fragment,c),h=!0)},o(c){L(e.$$.fragment,c),L(n.$$.fragment,c),L(s.$$.fragment,c),L(l.$$.fragment,c),L(f.$$.fragment,c),h=!1},d(c){c&&($(t),$(i),$(a),$(o),$(u)),Y(e,c),Y(n,c),Y(s,c),Y(l,c),Y(f,c)}}}function J9e(r){let t,e;return t=new Gc({props:{nodes:r[0],edges:r[1]}}),{c(){V(t.$$.fragment)},l(i){X(t.$$.fragment,i)},m(i,n){K(t,i,n),e=!0},p:se,i(i){e||(z(t.$$.fragment,i),e=!0)},o(i){L(t.$$.fragment,i),e=!1},d(i){Y(t,i)}}}function Q9e(r){let t,e="Visualization of a graph.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1yxrrm1"&&(t.textContent=e),this.h()},h(){fe(t,"slot","caption")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function Z9e(r){let t;return{c(){t=P(`directed graphs
        
        
    `)},l(e){t=D(e,`directed graphs
        
        
    `)},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function eOe(r){let t=String.raw`v{:underscore:}1, v{:underscore:}2\in V`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function tOe(r){let t=String.raw`(v{:underscore:}1,v{:underscore:}2)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function rOe(r){let t=String.raw`(v{:underscore:}2,v{:underscore:}1)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function iOe(r){let t,e,i,n,a,s,o,l,u,f,h;return i=new yi({props:{refId:"graph"}}),a=new Ae({props:{$$slots:{default:[eOe]},$$scope:{ctx:r}}}),o=new Ae({props:{$$slots:{default:[tOe]},$$scope:{ctx:r}}}),u=new Ae({props:{$$slots:{default:[rOe]},$$scope:{ctx:r}}}),{c(){t=ve("span"),e=P("A "),V(i.$$.fragment),n=P(" whose edges are directed, so that for two vertices "),V(a.$$.fragment),s=P(" there is a difference between the edges "),V(o.$$.fragment),l=P(" and "),V(u.$$.fragment),f=P(`.
        `),this.h()},l(c){t=ge(c,"SPAN",{slot:!0});var m=Pe(t);e=D(m,"A "),X(i.$$.fragment,m),n=D(m," whose edges are directed, so that for two vertices "),X(a.$$.fragment,m),s=D(m," there is a difference between the edges "),X(o.$$.fragment,m),l=D(m," and "),X(u.$$.fragment,m),f=D(m,`.
        `),m.forEach($),this.h()},h(){fe(t,"slot","definition")},m(c,m){S(c,t,m),oe(t,e),K(i,t,null),oe(t,n),K(a,t,null),oe(t,s),K(o,t,null),oe(t,l),K(u,t,null),oe(t,f),h=!0},p(c,m){const d={};m&32&&(d.$$scope={dirty:m,ctx:c}),a.$set(d);const v={};m&32&&(v.$$scope={dirty:m,ctx:c}),o.$set(v);const b={};m&32&&(b.$$scope={dirty:m,ctx:c}),u.$set(b)},i(c){h||(z(i.$$.fragment,c),z(a.$$.fragment,c),z(o.$$.fragment,c),z(u.$$.fragment,c),h=!0)},o(c){L(i.$$.fragment,c),L(a.$$.fragment,c),L(o.$$.fragment,c),L(u.$$.fragment,c),h=!1},d(c){c&&$(t),Y(i),Y(a),Y(o),Y(u)}}}function nOe(r){let t,e="directed graph";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-refhwn"&&(t.textContent=e),this.h()},h(){fe(t,"slot","glossaryDisp")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function aOe(r){let t;return{c(){t=P("digraphs")},l(e){t=D(e,"digraphs")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function sOe(r){let t,e,i,n,a;return i=new yi({props:{refId:"directedGraph"}}),{c(){t=ve("span"),e=P("See "),V(i.$$.fragment),n=P("."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"See "),X(i.$$.fragment,o),n=D(o,"."),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function oOe(r){let t,e="digraph";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-7eo76g"&&(t.textContent=e),this.h()},h(){fe(t,"slot","glossaryDisp")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function lOe(r){let t=String.raw`(v{:underscore:}1,v{:underscore:}2)\in E`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function uOe(r){let t=String.raw`v{:underscore:}1`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function fOe(r){let t=String.raw`v{:underscore:}2`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function cOe(r){let t=String.raw`(4,5)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function hOe(r){let t=String.raw`(5,4)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function mOe(r){let t,e,i,n,a,s,o,l,u="from",f,h,c,m,d="to",v,b,g,y,_,w,O,I,M,T;return e=new Zr({props:{refId:"directedGraph",$$slots:{glossaryDisp:[nOe],definition:[iOe],default:[Z9e]},$$scope:{ctx:r}}}),n=new Zr({props:{refId:"digraph",$$slots:{glossaryDisp:[oOe],definition:[sOe],default:[aOe]},$$scope:{ctx:r}}}),s=new Ae({props:{$$slots:{default:[lOe]},$$scope:{ctx:r}}}),h=new Ae({props:{$$slots:{default:[uOe]},$$scope:{ctx:r}}}),b=new Ae({props:{$$slots:{default:[fOe]},$$scope:{ctx:r}}}),y=new qo({props:{refId:"exampleDirectedGraph"}}),w=new Ae({props:{$$slots:{default:[cOe]},$$scope:{ctx:r}}}),I=new Ae({props:{$$slots:{default:[hOe]},$$scope:{ctx:r}}}),{c(){t=P(`Sometimes it makes sense for the edges to be directional. For example, we might want to represent a road network with some one-way streets. Or perhaps we'd like to model teams from a sports league that have played each other, with the edges drawn "from" the winning team "to" the losing team. Such a graph with directed edges are called `),V(e.$$.fragment),i=P(", or "),V(n.$$.fragment),a=P(" for short. In these cases, the ordering of the vertices in each edge "),V(s.$$.fragment),o=P(" matters, and we'd say that the edge goes "),l=ve("em"),l.textContent=u,f=Se(),V(h.$$.fragment),c=Se(),m=ve("em"),m.textContent=d,v=Se(),V(b.$$.fragment),g=P(". "),V(y.$$.fragment),_=P(" shows an example visualization of a directed graph. Note that it is entirely possible for digraph edges to exist in both directions between a pair of vertices, as we see with both "),V(w.$$.fragment),O=P(" and "),V(I.$$.fragment),M=P(" existing in the figure.")},l(E){t=D(E,`Sometimes it makes sense for the edges to be directional. For example, we might want to represent a road network with some one-way streets. Or perhaps we'd like to model teams from a sports league that have played each other, with the edges drawn "from" the winning team "to" the losing team. Such a graph with directed edges are called `),X(e.$$.fragment,E),i=D(E,", or "),X(n.$$.fragment,E),a=D(E," for short. In these cases, the ordering of the vertices in each edge "),X(s.$$.fragment,E),o=D(E," matters, and we'd say that the edge goes "),l=ge(E,"EM",{"data-svelte-h":!0}),Ze(l)!=="svelte-yvfinu"&&(l.textContent=u),f=Ee(E),X(h.$$.fragment,E),c=Ee(E),m=ge(E,"EM",{"data-svelte-h":!0}),Ze(m)!=="svelte-1wkmrfv"&&(m.textContent=d),v=Ee(E),X(b.$$.fragment,E),g=D(E,". "),X(y.$$.fragment,E),_=D(E," shows an example visualization of a directed graph. Note that it is entirely possible for digraph edges to exist in both directions between a pair of vertices, as we see with both "),X(w.$$.fragment,E),O=D(E," and "),X(I.$$.fragment,E),M=D(E," existing in the figure.")},m(E,q){S(E,t,q),K(e,E,q),S(E,i,q),K(n,E,q),S(E,a,q),K(s,E,q),S(E,o,q),S(E,l,q),S(E,f,q),K(h,E,q),S(E,c,q),S(E,m,q),S(E,v,q),K(b,E,q),S(E,g,q),K(y,E,q),S(E,_,q),K(w,E,q),S(E,O,q),K(I,E,q),S(E,M,q),T=!0},p(E,q){const k={};q&32&&(k.$$scope={dirty:q,ctx:E}),e.$set(k);const j={};q&32&&(j.$$scope={dirty:q,ctx:E}),n.$set(j);const J={};q&32&&(J.$$scope={dirty:q,ctx:E}),s.$set(J);const Q={};q&32&&(Q.$$scope={dirty:q,ctx:E}),h.$set(Q);const R={};q&32&&(R.$$scope={dirty:q,ctx:E}),b.$set(R);const B={};q&32&&(B.$$scope={dirty:q,ctx:E}),w.$set(B);const U={};q&32&&(U.$$scope={dirty:q,ctx:E}),I.$set(U)},i(E){T||(z(e.$$.fragment,E),z(n.$$.fragment,E),z(s.$$.fragment,E),z(h.$$.fragment,E),z(b.$$.fragment,E),z(y.$$.fragment,E),z(w.$$.fragment,E),z(I.$$.fragment,E),T=!0)},o(E){L(e.$$.fragment,E),L(n.$$.fragment,E),L(s.$$.fragment,E),L(h.$$.fragment,E),L(b.$$.fragment,E),L(y.$$.fragment,E),L(w.$$.fragment,E),L(I.$$.fragment,E),T=!1},d(E){E&&($(t),$(i),$(a),$(o),$(l),$(f),$(c),$(m),$(v),$(g),$(_),$(O),$(M)),Y(e,E),Y(n,E),Y(s,E),Y(h,E),Y(b,E),Y(y,E),Y(w,E),Y(I,E)}}}function pOe(r){let t,e;return t=new Gc({props:{nodes:r[0],edges:r[2],directed:!0}}),{c(){V(t.$$.fragment)},l(i){X(t.$$.fragment,i)},m(i,n){K(t,i,n),e=!0},p:se,i(i){e||(z(t.$$.fragment,i),e=!0)},o(i){L(t.$$.fragment,i),e=!1},d(i){Y(t,i)}}}function dOe(r){let t,e="Visualization of a directed graph.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-c459dl"&&(t.textContent=e),this.h()},h(){fe(t,"slot","caption")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function vOe(r){let t=String.raw`D=(V,A)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function gOe(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function bOe(r){let t=String.raw`D`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function yOe(r){let t=String.raw`G`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function $Oe(r){let t=String.raw`A`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function _Oe(r){let t=String.raw`E`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function wOe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b;return e=new Ae({props:{$$slots:{default:[vOe]},$$scope:{ctx:r}}}),n=new Ae({props:{$$slots:{default:[gOe]},$$scope:{ctx:r}}}),s=new Ae({props:{$$slots:{default:[bOe]},$$scope:{ctx:r}}}),l=new Ae({props:{$$slots:{default:[yOe]},$$scope:{ctx:r}}}),f=new Ae({props:{$$slots:{default:[$Oe]},$$scope:{ctx:r}}}),c=new Ae({props:{$$slots:{default:[_Oe]},$$scope:{ctx:r}}}),d=new Ki({props:{refId:"wolsey2020"}}),{c(){t=P("In the context of digraphs, it is sometimes customary to denote the graph by "),V(e.$$.fragment),i=P(" instead of "),V(n.$$.fragment),a=P(", using "),V(s.$$.fragment),o=P(" (for digraph) in place of "),V(l.$$.fragment),u=P(" for the graph and "),V(f.$$.fragment),h=P(" (for arc) in place of "),V(c.$$.fragment),m=P(" for the edge set. Indeed, this is the convention Wolsey takes in "),V(d.$$.fragment),v=P(" and so we will try to follow that practice here.")},l(g){t=D(g,"In the context of digraphs, it is sometimes customary to denote the graph by "),X(e.$$.fragment,g),i=D(g," instead of "),X(n.$$.fragment,g),a=D(g,", using "),X(s.$$.fragment,g),o=D(g," (for digraph) in place of "),X(l.$$.fragment,g),u=D(g," for the graph and "),X(f.$$.fragment,g),h=D(g," (for arc) in place of "),X(c.$$.fragment,g),m=D(g," for the edge set. Indeed, this is the convention Wolsey takes in "),X(d.$$.fragment,g),v=D(g," and so we will try to follow that practice here.")},m(g,y){S(g,t,y),K(e,g,y),S(g,i,y),K(n,g,y),S(g,a,y),K(s,g,y),S(g,o,y),K(l,g,y),S(g,u,y),K(f,g,y),S(g,h,y),K(c,g,y),S(g,m,y),K(d,g,y),S(g,v,y),b=!0},p(g,y){const _={};y&32&&(_.$$scope={dirty:y,ctx:g}),e.$set(_);const w={};y&32&&(w.$$scope={dirty:y,ctx:g}),n.$set(w);const O={};y&32&&(O.$$scope={dirty:y,ctx:g}),s.$set(O);const I={};y&32&&(I.$$scope={dirty:y,ctx:g}),l.$set(I);const M={};y&32&&(M.$$scope={dirty:y,ctx:g}),f.$set(M);const T={};y&32&&(T.$$scope={dirty:y,ctx:g}),c.$set(T)},i(g){b||(z(e.$$.fragment,g),z(n.$$.fragment,g),z(s.$$.fragment,g),z(l.$$.fragment,g),z(f.$$.fragment,g),z(c.$$.fragment,g),z(d.$$.fragment,g),b=!0)},o(g){L(e.$$.fragment,g),L(n.$$.fragment,g),L(s.$$.fragment,g),L(l.$$.fragment,g),L(f.$$.fragment,g),L(c.$$.fragment,g),L(d.$$.fragment,g),b=!1},d(g){g&&($(t),$(i),$(a),$(o),$(u),$(h),$(m),$(v)),Y(e,g),Y(n,g),Y(s,g),Y(l,g),Y(f,g),Y(c,g),Y(d,g)}}}function xOe(r){let t=String.raw`G`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function SOe(r){let t;return{c(){t=P("walk")},l(e){t=D(e,"walk")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function EOe(r){let t,e='In graph theory, a sequence of edges which joins a sequence of vertices, such that it denotes a way to "walk" from vertex to vertex using the edges of the graph.';return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1tpp3ue"&&(t.textContent=e),this.h()},h(){fe(t,"slot","definition")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function kOe(r){let t=String.raw`
        W=((1, 2), (2, 5), (4, 5), (2, 4), (2, 3))
    `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function TOe(r){let t=String.raw`
        1\rightarrow 2\rightarrow 5\rightarrow 4\rightarrow 2\rightarrow 3
    `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function OOe(r){let t,e,i,n,a,s,o,l,u,f,h;return e=new Ae({props:{$$slots:{default:[xOe]},$$scope:{ctx:r}}}),n=new Zr({props:{refId:"walk",$$slots:{definition:[EOe],default:[SOe]},$$scope:{ctx:r}}}),s=new Pi({props:{$$slots:{default:[kOe]},$$scope:{ctx:r}}}),l=new qo({props:{refId:"exampleGraph"}}),f=new Pi({props:{$$slots:{default:[TOe]},$$scope:{ctx:r}}}),{c(){t=P("On a given graph "),V(e.$$.fragment),i=P(", a "),V(n.$$.fragment),a=P(` is a sequence of edges which joins a sequence of vertices, such that it denotes a way to "walk" from vertex to vertex using the edges of the graph. So
    `),V(s.$$.fragment),o=P(`
    is a walk in the graph shown in `),V(l.$$.fragment),u=P(`, which represents traveling the sequence of vertices:
    `),V(f.$$.fragment)},l(c){t=D(c,"On a given graph "),X(e.$$.fragment,c),i=D(c,", a "),X(n.$$.fragment,c),a=D(c,` is a sequence of edges which joins a sequence of vertices, such that it denotes a way to "walk" from vertex to vertex using the edges of the graph. So
    `),X(s.$$.fragment,c),o=D(c,`
    is a walk in the graph shown in `),X(l.$$.fragment,c),u=D(c,`, which represents traveling the sequence of vertices:
    `),X(f.$$.fragment,c)},m(c,m){S(c,t,m),K(e,c,m),S(c,i,m),K(n,c,m),S(c,a,m),K(s,c,m),S(c,o,m),K(l,c,m),S(c,u,m),K(f,c,m),h=!0},p(c,m){const d={};m&32&&(d.$$scope={dirty:m,ctx:c}),e.$set(d);const v={};m&32&&(v.$$scope={dirty:m,ctx:c}),n.$set(v);const b={};m&32&&(b.$$scope={dirty:m,ctx:c}),s.$set(b);const g={};m&32&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){h||(z(e.$$.fragment,c),z(n.$$.fragment,c),z(s.$$.fragment,c),z(l.$$.fragment,c),z(f.$$.fragment,c),h=!0)},o(c){L(e.$$.fragment,c),L(n.$$.fragment,c),L(s.$$.fragment,c),L(l.$$.fragment,c),L(f.$$.fragment,c),h=!1},d(c){c&&($(t),$(i),$(a),$(o),$(u)),Y(e,c),Y(n,c),Y(s,c),Y(l,c),Y(f,c)}}}function AOe(r){let t;return{c(){t=P(`trail
        
    `)},l(e){t=D(e,`trail
        
    `)},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function IOe(r){let t,e,i,n,a;return i=new yi({props:{refId:"walk"}}),{c(){t=ve("span"),e=P("A "),V(i.$$.fragment),n=P(` in which all the edges are distinct.
        `),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"A "),X(i.$$.fragment,o),n=D(o,` in which all the edges are distinct.
        `),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function COe(r){let t=String.raw`W`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function POe(r){let t;return{c(){t=P("path")},l(e){t=D(e,"path")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function DOe(r){let t,e,i,n,a;return i=new yi({props:{refId:"walk"}}),{c(){t=ve("span"),e=P("A "),V(i.$$.fragment),n=P(" in which all the vertices are distinct."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"A "),X(i.$$.fragment,o),n=D(o," in which all the vertices are distinct."),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function NOe(r){let t=String.raw`W`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function ROe(r){let t=String.raw`2`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function MOe(r){let t=String.raw`
        P=((1, 2), (2, 5), (4, 5))
    `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function BOe(r){let t,e,i,n,a,s,o,l,u,f,h="not",c,m,d,v,b,g,y="is",_,w,O,I;return e=new Zr({props:{refId:"trail",$$slots:{definition:[IOe],default:[AOe]},$$scope:{ctx:r}}}),n=new Ae({props:{$$slots:{default:[COe]},$$scope:{ctx:r}}}),s=new Zr({props:{refId:"path",$$slots:{definition:[DOe],default:[POe]},$$scope:{ctx:r}}}),l=new Ae({props:{$$slots:{default:[NOe]},$$scope:{ctx:r}}}),m=new Ae({props:{$$slots:{default:[ROe]},$$scope:{ctx:r}}}),v=new Pi({props:{$$slots:{default:[MOe]},$$scope:{ctx:r}}}),w=new qo({props:{refId:"examplePath"}}),{c(){t=P("A very similar notion is that of a "),V(e.$$.fragment),i=P(", which is a walk in which all the edges are distinct. Note that the walk "),V(n.$$.fragment),a=P(" from the previous paragraph is also a trail, since it does not repeat any edges. Meanwhile, a walk is called a "),V(s.$$.fragment),o=P(" if all its vertices (and, therefore also it edges) are distinct. So "),V(l.$$.fragment),u=P(" is "),f=ve("em"),f.textContent=h,c=P(" a path, since it travels to vertex "),V(m.$$.fragment),d=P(` twice. But something like
    `),V(v.$$.fragment),b=Se(),g=ve("em"),g.textContent=y,_=P(" a path, which we can visualize as in "),V(w.$$.fragment),O=P(".")},l(M){t=D(M,"A very similar notion is that of a "),X(e.$$.fragment,M),i=D(M,", which is a walk in which all the edges are distinct. Note that the walk "),X(n.$$.fragment,M),a=D(M," from the previous paragraph is also a trail, since it does not repeat any edges. Meanwhile, a walk is called a "),X(s.$$.fragment,M),o=D(M," if all its vertices (and, therefore also it edges) are distinct. So "),X(l.$$.fragment,M),u=D(M," is "),f=ge(M,"EM",{"data-svelte-h":!0}),Ze(f)!=="svelte-r5iszh"&&(f.textContent=h),c=D(M," a path, since it travels to vertex "),X(m.$$.fragment,M),d=D(M,` twice. But something like
    `),X(v.$$.fragment,M),b=Ee(M),g=ge(M,"EM",{"data-svelte-h":!0}),Ze(g)!=="svelte-1yh91nu"&&(g.textContent=y),_=D(M," a path, which we can visualize as in "),X(w.$$.fragment,M),O=D(M,".")},m(M,T){S(M,t,T),K(e,M,T),S(M,i,T),K(n,M,T),S(M,a,T),K(s,M,T),S(M,o,T),K(l,M,T),S(M,u,T),S(M,f,T),S(M,c,T),K(m,M,T),S(M,d,T),K(v,M,T),S(M,b,T),S(M,g,T),S(M,_,T),K(w,M,T),S(M,O,T),I=!0},p(M,T){const E={};T&32&&(E.$$scope={dirty:T,ctx:M}),e.$set(E);const q={};T&32&&(q.$$scope={dirty:T,ctx:M}),n.$set(q);const k={};T&32&&(k.$$scope={dirty:T,ctx:M}),s.$set(k);const j={};T&32&&(j.$$scope={dirty:T,ctx:M}),l.$set(j);const J={};T&32&&(J.$$scope={dirty:T,ctx:M}),m.$set(J);const Q={};T&32&&(Q.$$scope={dirty:T,ctx:M}),v.$set(Q)},i(M){I||(z(e.$$.fragment,M),z(n.$$.fragment,M),z(s.$$.fragment,M),z(l.$$.fragment,M),z(m.$$.fragment,M),z(v.$$.fragment,M),z(w.$$.fragment,M),I=!0)},o(M){L(e.$$.fragment,M),L(n.$$.fragment,M),L(s.$$.fragment,M),L(l.$$.fragment,M),L(m.$$.fragment,M),L(v.$$.fragment,M),L(w.$$.fragment,M),I=!1},d(M){M&&($(t),$(i),$(a),$(o),$(u),$(f),$(c),$(d),$(b),$(g),$(_),$(O)),Y(e,M),Y(n,M),Y(s,M),Y(l,M),Y(m,M),Y(v,M),Y(w,M)}}}function FOe(r){let t,e;return t=new Gc({props:{nodes:r[0],edges:r[1],boldEdges:r[3]}}),{c(){V(t.$$.fragment)},l(i){X(t.$$.fragment,i)},m(i,n){K(t,i,n),e=!0},p:se,i(i){e||(z(t.$$.fragment,i),e=!0)},o(i){L(t.$$.fragment,i),e=!1},d(i){Y(t,i)}}}function zOe(r){let t=String.raw`P=((1, 2), (2, 5), (4, 5))`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function LOe(r){let t,e,i,n,a;return i=new Ae({props:{$$slots:{default:[zOe]},$$scope:{ctx:r}}}),{c(){t=ve("span"),e=P("Visualization of a path "),V(i.$$.fragment),n=P("."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"Visualization of a path "),X(i.$$.fragment,o),n=D(o,"."),o.forEach($),this.h()},h(){fe(t,"slot","caption")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p(s,o){const l={};o&32&&(l.$$scope={dirty:o,ctx:s}),i.$set(l)},i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function jOe(r){let t;return{c(){t=P("circuit")},l(e){t=D(e,"circuit")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function UOe(r){let t,e,i,n,a;return i=new yi({props:{refId:"trail"}}),{c(){t=ve("span"),e=P("A "),V(i.$$.fragment),n=P(" that starts and ends at the same vertex."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"A "),X(i.$$.fragment,o),n=D(o," that starts and ends at the same vertex."),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function qOe(r){let t;return{c(){t=P(`cycle
        
    `)},l(e){t=D(e,`cycle
        
    `)},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function HOe(r){let t,e,i,n,a;return i=new yi({props:{refId:"path"}}),{c(){t=ve("span"),e=P("A "),V(i.$$.fragment),n=P(` that begins and ends at the same vertex.
        `),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"A "),X(i.$$.fragment,o),n=D(o,` that begins and ends at the same vertex.
        `),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function GOe(r){let t;return{c(){t=P("Hamiltonian cycle")},l(e){t=D(e,"Hamiltonian cycle")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function WOe(r){let t,e,i,n,a;return i=new yi({props:{refId:"cycle"}}),{c(){t=ve("span"),e=P("A "),V(i.$$.fragment),n=P(" in which every vertex is visited exactly once."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"A "),X(i.$$.fragment,o),n=D(o," in which every vertex is visited exactly once."),o.forEach($),this.h()},h(){fe(t,"slot","definition")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function VOe(r){let t,e,i,n,a="trail",s,o,l="can",u,f,h,c,m,d,v,b;return e=new Zr({props:{refId:"circuit",$$slots:{definition:[UOe],default:[jOe]},$$scope:{ctx:r}}}),f=new Zr({props:{refId:"cycle",$$slots:{definition:[HOe],default:[qOe]},$$scope:{ctx:r}}}),c=new Zr({props:{refId:"hamCycle",$$slots:{definition:[WOe],default:[GOe]},$$scope:{ctx:r}}}),d=new qo({props:{refId:"exampleHamCycle"}}),{c(){t=P("A "),V(e.$$.fragment),i=P(" is a trail that starts and ends at the vertex. Note that the circuit is defined based on a "),n=ve("em"),n.textContent=a,s=P(", so therefore cannot be repeated in a circuit, though vertices "),o=ve("em"),o.textContent=l,u=P(" repeat. A similar notion is the "),V(f.$$.fragment),h=P(", which is a path that begins and ends at the same vertex. A cycle is called a "),V(c.$$.fragment),m=P(" if it visits every vertex exactly once. An example Hamiltonian cycle is shown in "),V(d.$$.fragment),v=P(".")},l(g){t=D(g,"A "),X(e.$$.fragment,g),i=D(g," is a trail that starts and ends at the vertex. Note that the circuit is defined based on a "),n=ge(g,"EM",{"data-svelte-h":!0}),Ze(n)!=="svelte-1g8d8mi"&&(n.textContent=a),s=D(g,", so therefore cannot be repeated in a circuit, though vertices "),o=ge(g,"EM",{"data-svelte-h":!0}),Ze(o)!=="svelte-gt6eco"&&(o.textContent=l),u=D(g," repeat. A similar notion is the "),X(f.$$.fragment,g),h=D(g,", which is a path that begins and ends at the same vertex. A cycle is called a "),X(c.$$.fragment,g),m=D(g," if it visits every vertex exactly once. An example Hamiltonian cycle is shown in "),X(d.$$.fragment,g),v=D(g,".")},m(g,y){S(g,t,y),K(e,g,y),S(g,i,y),S(g,n,y),S(g,s,y),S(g,o,y),S(g,u,y),K(f,g,y),S(g,h,y),K(c,g,y),S(g,m,y),K(d,g,y),S(g,v,y),b=!0},p(g,y){const _={};y&32&&(_.$$scope={dirty:y,ctx:g}),e.$set(_);const w={};y&32&&(w.$$scope={dirty:y,ctx:g}),f.$set(w);const O={};y&32&&(O.$$scope={dirty:y,ctx:g}),c.$set(O)},i(g){b||(z(e.$$.fragment,g),z(f.$$.fragment,g),z(c.$$.fragment,g),z(d.$$.fragment,g),b=!0)},o(g){L(e.$$.fragment,g),L(f.$$.fragment,g),L(c.$$.fragment,g),L(d.$$.fragment,g),b=!1},d(g){g&&($(t),$(i),$(n),$(s),$(o),$(u),$(h),$(m),$(v)),Y(e,g),Y(f,g),Y(c,g),Y(d,g)}}}function XOe(r){let t,e;return t=new Gc({props:{nodes:r[0],edges:r[1],boldEdges:r[4]}}),{c(){V(t.$$.fragment)},l(i){X(t.$$.fragment,i)},m(i,n){K(t,i,n),e=!0},p:se,i(i){e||(z(t.$$.fragment,i),e=!0)},o(i){L(t.$$.fragment,i),e=!1},d(i){Y(t,i)}}}function KOe(r){let t,e="Visualization of a Hamiltonian cycle.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1qzt00f"&&(t.textContent=e),this.h()},h(){fe(t,"slot","caption")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function YOe(r){let t;return{c(){t=P("Note that walks, trails, paths, circuits, and cycles can all exist on directed graphs as well, with the natural restriction that the underlying walk must travel in the direction of the edges.")},l(e){t=D(e,"Note that walks, trails, paths, circuits, and cycles can all exist on directed graphs as well, with the natural restriction that the underlying walk must travel in the direction of the edges.")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function JOe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I,M,T,E,q,k,j,J,Q;return t=new ei({props:{level:"2",refId:"graphTheory",$$slots:{context:[u9e],default:[l9e]},$$scope:{ctx:r}}}),i=new vt({props:{$$slots:{default:[f9e]},$$scope:{ctx:r}}}),a=new vt({props:{$$slots:{default:[q9e]},$$scope:{ctx:r}}}),o=new vt({props:{$$slots:{default:[W9e]},$$scope:{ctx:r}}}),u=new vt({props:{$$slots:{default:[Y9e]},$$scope:{ctx:r}}}),h=new af({props:{refId:"exampleGraph",$$slots:{caption:[Q9e],default:[J9e]},$$scope:{ctx:r}}}),m=new vt({props:{$$slots:{default:[mOe]},$$scope:{ctx:r}}}),v=new af({props:{refId:"exampleDirectedGraph",$$slots:{caption:[dOe],default:[pOe]},$$scope:{ctx:r}}}),g=new vt({props:{$$slots:{default:[wOe]},$$scope:{ctx:r}}}),_=new vt({props:{$$slots:{default:[OOe]},$$scope:{ctx:r}}}),O=new vt({props:{$$slots:{default:[BOe]},$$scope:{ctx:r}}}),M=new af({props:{refId:"examplePath",$$slots:{caption:[LOe],default:[FOe]},$$scope:{ctx:r}}}),E=new vt({props:{$$slots:{default:[VOe]},$$scope:{ctx:r}}}),k=new af({props:{refId:"exampleHamCycle",$$slots:{caption:[KOe],default:[XOe]},$$scope:{ctx:r}}}),J=new vt({props:{$$slots:{default:[YOe]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment),e=Se(),V(i.$$.fragment),n=Se(),V(a.$$.fragment),s=Se(),V(o.$$.fragment),l=Se(),V(u.$$.fragment),f=Se(),V(h.$$.fragment),c=Se(),V(m.$$.fragment),d=Se(),V(v.$$.fragment),b=Se(),V(g.$$.fragment),y=Se(),V(_.$$.fragment),w=Se(),V(O.$$.fragment),I=Se(),V(M.$$.fragment),T=Se(),V(E.$$.fragment),q=Se(),V(k.$$.fragment),j=Se(),V(J.$$.fragment)},l(R){X(t.$$.fragment,R),e=Ee(R),X(i.$$.fragment,R),n=Ee(R),X(a.$$.fragment,R),s=Ee(R),X(o.$$.fragment,R),l=Ee(R),X(u.$$.fragment,R),f=Ee(R),X(h.$$.fragment,R),c=Ee(R),X(m.$$.fragment,R),d=Ee(R),X(v.$$.fragment,R),b=Ee(R),X(g.$$.fragment,R),y=Ee(R),X(_.$$.fragment,R),w=Ee(R),X(O.$$.fragment,R),I=Ee(R),X(M.$$.fragment,R),T=Ee(R),X(E.$$.fragment,R),q=Ee(R),X(k.$$.fragment,R),j=Ee(R),X(J.$$.fragment,R)},m(R,B){K(t,R,B),S(R,e,B),K(i,R,B),S(R,n,B),K(a,R,B),S(R,s,B),K(o,R,B),S(R,l,B),K(u,R,B),S(R,f,B),K(h,R,B),S(R,c,B),K(m,R,B),S(R,d,B),K(v,R,B),S(R,b,B),K(g,R,B),S(R,y,B),K(_,R,B),S(R,w,B),K(O,R,B),S(R,I,B),K(M,R,B),S(R,T,B),K(E,R,B),S(R,q,B),K(k,R,B),S(R,j,B),K(J,R,B),Q=!0},p(R,[B]){const U={};B&32&&(U.$$scope={dirty:B,ctx:R}),t.$set(U);const te={};B&32&&(te.$$scope={dirty:B,ctx:R}),i.$set(te);const de={};B&32&&(de.$$scope={dirty:B,ctx:R}),a.$set(de);const me={};B&32&&(me.$$scope={dirty:B,ctx:R}),o.$set(me);const ee={};B&32&&(ee.$$scope={dirty:B,ctx:R}),u.$set(ee);const re={};B&32&&(re.$$scope={dirty:B,ctx:R}),h.$set(re);const ue={};B&32&&(ue.$$scope={dirty:B,ctx:R}),m.$set(ue);const Te={};B&32&&(Te.$$scope={dirty:B,ctx:R}),v.$set(Te);const we={};B&32&&(we.$$scope={dirty:B,ctx:R}),g.$set(we);const xe={};B&32&&(xe.$$scope={dirty:B,ctx:R}),_.$set(xe);const Oe={};B&32&&(Oe.$$scope={dirty:B,ctx:R}),O.$set(Oe);const Ie={};B&32&&(Ie.$$scope={dirty:B,ctx:R}),M.$set(Ie);const pe={};B&32&&(pe.$$scope={dirty:B,ctx:R}),E.$set(pe);const be={};B&32&&(be.$$scope={dirty:B,ctx:R}),k.$set(be);const W={};B&32&&(W.$$scope={dirty:B,ctx:R}),J.$set(W)},i(R){Q||(z(t.$$.fragment,R),z(i.$$.fragment,R),z(a.$$.fragment,R),z(o.$$.fragment,R),z(u.$$.fragment,R),z(h.$$.fragment,R),z(m.$$.fragment,R),z(v.$$.fragment,R),z(g.$$.fragment,R),z(_.$$.fragment,R),z(O.$$.fragment,R),z(M.$$.fragment,R),z(E.$$.fragment,R),z(k.$$.fragment,R),z(J.$$.fragment,R),Q=!0)},o(R){L(t.$$.fragment,R),L(i.$$.fragment,R),L(a.$$.fragment,R),L(o.$$.fragment,R),L(u.$$.fragment,R),L(h.$$.fragment,R),L(m.$$.fragment,R),L(v.$$.fragment,R),L(g.$$.fragment,R),L(_.$$.fragment,R),L(O.$$.fragment,R),L(M.$$.fragment,R),L(E.$$.fragment,R),L(k.$$.fragment,R),L(J.$$.fragment,R),Q=!1},d(R){R&&($(e),$(n),$(s),$(l),$(f),$(c),$(d),$(b),$(y),$(w),$(I),$(T),$(q),$(j)),Y(t,R),Y(i,R),Y(a,R),Y(o,R),Y(u,R),Y(h,R),Y(m,R),Y(v,R),Y(g,R),Y(_,R),Y(O,R),Y(M,R),Y(E,R),Y(k,R),Y(J,R)}}}function QOe(r){const t=[{id:1,x:0,y:.5},{id:2,x:.5,y:1},{id:3,x:.5,y:0},{id:4,x:1,y:1},{id:5,x:1,y:0}],e=["1-2","1-3","2-3","2-4","2-5","4-5","3-5"],i=e.concat(["5-4"]);return[t,e,i,["1-2","2-5","4-5"],["1-2","2-4","4-5","3-5","1-3"]]}class ZOe extends $t{constructor(t){super(),_t(this,t,QOe,JOe,yt,{})}}function eAe(r){let t;return{c(){t=P("Special symbols")},l(e){t=D(e,"Special symbols")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function tAe(r){let t,e="A list of mathematical symbols and their usages.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-jdu0qk"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function rAe(r){let t=String.raw`\{\cdots\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function iAe(r){let t=String.raw`\{0,1\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function nAe(r){let t=String.raw`\R`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function aAe(r){let t=String.raw`-\infty`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function sAe(r){let t=String.raw`\infty`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function oAe(r){let t=String.raw`\R{:underscore:}+`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function lAe(r){let t=String.raw`\R`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function uAe(r){let t=String.raw`\Z`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function fAe(r){let t=String.raw`\R`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function cAe(r){let t=String.raw`\Z{:underscore:}+`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function hAe(r){let t=String.raw`\Z`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function mAe(r){let t=String.raw`\in`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function pAe(r){let t=String.raw`x\in S`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function dAe(r){let t=String.raw`x`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function vAe(r){let t=String.raw`S`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function gAe(r){let t=String.raw`\pi\in\R`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function bAe(r){let t=String.raw`\pi`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function yAe(r){let t=String.raw`\subseteq`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function $Ae(r){let t=String.raw`S, S'`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function _Ae(r){let t=String.raw`S'\subseteq S`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function wAe(r){let t=String.raw`S'`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function xAe(r){let t=String.raw`S`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function SAe(r){let t=String.raw`S'`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function EAe(r){let t=String.raw`S`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function kAe(r){let t=String.raw`|S|`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function TAe(r){let t=String.raw`|\{1,5,7,12\}|=4`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function OAe(r){let t=String.raw`\emptyset`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function AAe(r){let t=String.raw`\forall`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function IAe(r){let t=String.raw`x{:underscore:}j\geq 0\ \forall\ j\in\{1, 2, \cdots, n\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function CAe(r){let t=String.raw`x{:underscore:}1, x{:underscore:}2, \cdots, x{:underscore:}n`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function PAe(r){let t=String.raw`\{x: x\textit{ satisfies some condition}\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function DAe(r){let t=String.raw`x`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function NAe(r){let t=String.raw`x`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function RAe(r){let t=String.raw`\{n\in\Z:5\leq n\leq 10\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function MAe(r){let t=String.raw`\{5,6,7,8,9,10\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function BAe(r){let t=String.raw`S^m`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function FAe(r){let t=String.raw`m`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function zAe(r){let t=String.raw`S`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function LAe(r){let t=String.raw`\R^3`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function jAe(r){let t=String.raw`
                \begin{bmatrix}1 \\ 2.64 \\ -3\end{bmatrix}\in\R^3.
            `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function UAe(r){let t=String.raw`S^{m\times n}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function qAe(r){let t=String.raw`m`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function HAe(r){let t=String.raw`n`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function GAe(r){let t=String.raw`S`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function WAe(r){let t=String.raw`\Z^{m\times n}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function VAe(r){let t=String.raw`m\times n`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function XAe(r){let t=String.raw`
            \begin{bmatrix}4 & 3 & 9 & 6\\ 0 & 4 & 8 & 5\\ 7 & 7 & 2 & 1\end{bmatrix} \in \Z^{3\times 4}.
            `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function KAe(r){let t=String.raw`\zeros`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function YAe(r){let t=String.raw`\identity`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function JAe(r){let t=String.raw`
                \begin{bmatrix}
                1 & 0 & \cdots & 0 \\
                0 & 1 & \cdots & 0 \\
                \vdots & \vdots & \ddots & \vdots \\
                0 & 0 & \cdots & 1 \\
                \end{bmatrix}
            `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function QAe(r){let t=String.raw`\Leftrightarrow`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function ZAe(r){let t=String.raw`a > b \Leftrightarrow -a < -b`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function eIe(r){let t=String.raw`\floor{x}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function tIe(r){let t=String.raw`x\in\R`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function rIe(r){let t=String.raw`x`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function iIe(r){let t=String.raw`\floor{1.3}=1`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function nIe(r){let t=String.raw`\ceil{x}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function aIe(r){let t=String.raw`x\in\R`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function sIe(r){let t=String.raw`x`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function oIe(r){let t=String.raw`\ceil{1.3}=2`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function lIe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I,M,T,E,q,k,j,J,Q,R,B,U,te,de,me,ee,re,ue,Te,we,xe,Oe,Ie,pe,be,W,ae,ze,Le,Ge,G,C,N,Z,he,ke,Ne,ot,bt,mt,Wt,wt,hr,Mr,yr,wr,$r,Ia,kn,cn,sl,ol,zi,Tn,hn,xr,to,Br,ro,Uu,Fr,si,ll,On,oi,lr,Ca,mn,vd,Pa,gd,Ei,Da,bd,Na,yd,Ra,$d,Ma,_d,Ba,wd,zr,Fa,xd,za,Sd,La,Ed,ja,kd,Ua,Td,qa,Od,Ha,Ad,ul,Ga,Id,Cd,io,Wa,Pd,Va,Dd,Xa,Ka,Nd,Ya,Rd,Md,Li,Ja,Bd,Qa,Fd,Za,zd,es,Ld,jd,ji,ts,Ud,rs,qd,is,Hd,ns,Gd,Wc;return i=new Ae({props:{$$slots:{default:[rAe]},$$scope:{ctx:r}}}),a=new Ae({props:{$$slots:{default:[iAe]},$$scope:{ctx:r}}}),u=new Ae({props:{$$slots:{default:[nAe]},$$scope:{ctx:r}}}),h=new Ae({props:{$$slots:{default:[aAe]},$$scope:{ctx:r}}}),m=new Ae({props:{$$slots:{default:[sAe]},$$scope:{ctx:r}}}),g=new Ae({props:{$$slots:{default:[oAe]},$$scope:{ctx:r}}}),_=new Ae({props:{$$slots:{default:[lAe]},$$scope:{ctx:r}}}),M=new Ae({props:{$$slots:{default:[uAe]},$$scope:{ctx:r}}}),E=new Ae({props:{$$slots:{default:[fAe]},$$scope:{ctx:r}}}),J=new Ae({props:{$$slots:{default:[cAe]},$$scope:{ctx:r}}}),R=new Ae({props:{$$slots:{default:[hAe]},$$scope:{ctx:r}}}),de=new Ae({props:{$$slots:{default:[mAe]},$$scope:{ctx:r}}}),ee=new Ae({props:{$$slots:{default:[pAe]},$$scope:{ctx:r}}}),ue=new Ae({props:{$$slots:{default:[dAe]},$$scope:{ctx:r}}}),we=new Ae({props:{$$slots:{default:[vAe]},$$scope:{ctx:r}}}),Oe=new Ae({props:{$$slots:{default:[gAe]},$$scope:{ctx:r}}}),pe=new Ae({props:{$$slots:{default:[bAe]},$$scope:{ctx:r}}}),ze=new Ae({props:{$$slots:{default:[yAe]},$$scope:{ctx:r}}}),Ge=new Ae({props:{$$slots:{default:[$Ae]},$$scope:{ctx:r}}}),C=new Ae({props:{$$slots:{default:[_Ae]},$$scope:{ctx:r}}}),Z=new Ae({props:{$$slots:{default:[wAe]},$$scope:{ctx:r}}}),ke=new Ae({props:{$$slots:{default:[xAe]},$$scope:{ctx:r}}}),ot=new Ae({props:{$$slots:{default:[SAe]},$$scope:{ctx:r}}}),mt=new Ae({props:{$$slots:{default:[EAe]},$$scope:{ctx:r}}}),Mr=new Ae({props:{$$slots:{default:[kAe]},$$scope:{ctx:r}}}),wr=new Ae({props:{$$slots:{default:[TAe]},$$scope:{ctx:r}}}),cn=new Ae({props:{$$slots:{default:[OAe]},$$scope:{ctx:r}}}),Tn=new Ae({props:{$$slots:{default:[AAe]},$$scope:{ctx:r}}}),xr=new Ae({props:{$$slots:{default:[IAe]},$$scope:{ctx:r}}}),Br=new Ae({props:{$$slots:{default:[CAe]},$$scope:{ctx:r}}}),si=new Ae({props:{$$slots:{default:[PAe]},$$scope:{ctx:r}}}),On=new Ae({props:{$$slots:{default:[DAe]},$$scope:{ctx:r}}}),lr=new Ae({props:{$$slots:{default:[NAe]},$$scope:{ctx:r}}}),mn=new Ae({props:{$$slots:{default:[RAe]},$$scope:{ctx:r}}}),Pa=new Ae({props:{$$slots:{default:[MAe]},$$scope:{ctx:r}}}),Da=new Ae({props:{$$slots:{default:[BAe]},$$scope:{ctx:r}}}),Na=new Ae({props:{$$slots:{default:[FAe]},$$scope:{ctx:r}}}),Ra=new Ae({props:{$$slots:{default:[zAe]},$$scope:{ctx:r}}}),Ma=new Ae({props:{$$slots:{default:[LAe]},$$scope:{ctx:r}}}),Ba=new Pi({props:{$$slots:{default:[jAe]},$$scope:{ctx:r}}}),Fa=new Ae({props:{$$slots:{default:[UAe]},$$scope:{ctx:r}}}),za=new Ae({props:{$$slots:{default:[qAe]},$$scope:{ctx:r}}}),La=new Ae({props:{$$slots:{default:[HAe]},$$scope:{ctx:r}}}),ja=new Ae({props:{$$slots:{default:[GAe]},$$scope:{ctx:r}}}),Ua=new Ae({props:{$$slots:{default:[WAe]},$$scope:{ctx:r}}}),qa=new Ae({props:{$$slots:{default:[VAe]},$$scope:{ctx:r}}}),Ha=new Pi({props:{$$slots:{default:[XAe]},$$scope:{ctx:r}}}),Ga=new Ae({props:{$$slots:{default:[KAe]},$$scope:{ctx:r}}}),Wa=new Ae({props:{$$slots:{default:[YAe]},$$scope:{ctx:r}}}),Va=new Pi({props:{$$slots:{default:[JAe]},$$scope:{ctx:r}}}),Ka=new Ae({props:{$$slots:{default:[QAe]},$$scope:{ctx:r}}}),Ya=new Ae({props:{$$slots:{default:[ZAe]},$$scope:{ctx:r}}}),Ja=new Ae({props:{$$slots:{default:[eIe]},$$scope:{ctx:r}}}),Qa=new Ae({props:{$$slots:{default:[tIe]},$$scope:{ctx:r}}}),Za=new Ae({props:{$$slots:{default:[rIe]},$$scope:{ctx:r}}}),es=new Ae({props:{$$slots:{default:[iIe]},$$scope:{ctx:r}}}),ts=new Ae({props:{$$slots:{default:[nIe]},$$scope:{ctx:r}}}),rs=new Ae({props:{$$slots:{default:[aIe]},$$scope:{ctx:r}}}),is=new Ae({props:{$$slots:{default:[sIe]},$$scope:{ctx:r}}}),ns=new Ae({props:{$$slots:{default:[oIe]},$$scope:{ctx:r}}}),{c(){t=ve("ul"),e=ve("li"),V(i.$$.fragment),n=P(": Set notation. Items inside the curly brackets are the elements of the set, so "),V(a.$$.fragment),s=P(" is the 2-element set consisting of just the numbers 0 and 1."),o=Se(),l=ve("li"),V(u.$$.fragment),f=P(": The set of real numbers, i.e. anything on the number line between (though not including!) "),V(h.$$.fragment),c=P(" and "),V(m.$$.fragment),d=P("."),v=Se(),b=ve("li"),V(g.$$.fragment),y=P(": The set of non-negative real numbers, i.e. anything in "),V(_.$$.fragment),w=P(" that is greater than or equal to 0."),O=Se(),I=ve("li"),V(M.$$.fragment),T=P(": The set of integer numbers, i.e. whole numbers from the set "),V(E.$$.fragment),q=P("."),k=Se(),j=ve("li"),V(J.$$.fragment),Q=P(": The set of non-negative integer numbers, i.e. anything in "),V(R.$$.fragment),B=P(" that is greater than or equal to 0."),U=Se(),te=ve("li"),V(de.$$.fragment),me=P(": Set inclusion. When we write "),V(ee.$$.fragment),re=P(", we mean that "),V(ue.$$.fragment),Te=P(" is an element of the set "),V(we.$$.fragment),xe=P(". For example, we could write "),V(Oe.$$.fragment),Ie=P(", meaning the number "),V(pe.$$.fragment),be=P(" is a real number."),W=Se(),ae=ve("li"),V(ze.$$.fragment),Le=P(": Subset. For two sets "),V(Ge.$$.fragment),G=P(", we say "),V(C.$$.fragment),N=P(' (said "'),V(Z.$$.fragment),he=P(" is a subset of "),V(ke.$$.fragment),Ne=P('") if every element of '),V(ot.$$.fragment),bt=P(" is also an element of "),V(mt.$$.fragment),Wt=P("."),wt=Se(),hr=ve("li"),V(Mr.$$.fragment),yr=P(": Size of a set. This denotes the number of elements in a set, so e.g. "),V(wr.$$.fragment),$r=P("."),Ia=Se(),kn=ve("li"),V(cn.$$.fragment),sl=P(": Empty set. A set with no elements."),ol=Se(),zi=ve("li"),V(Tn.$$.fragment),hn=P(": For all. We use this symbol when we want to specify that something should be done for all elements in some set. So if we're writing out the constraints for some model and we say "),V(xr.$$.fragment),to=P(" we're just saying that each of "),V(Br.$$.fragment),ro=P(" should be non-negative."),Uu=Se(),Fr=ve("li"),V(si.$$.fragment),ll=P(": Conditional set. This represents the set of all "),V(On.$$.fragment),oi=P(" such that "),V(lr.$$.fragment),Ca=P(" satisfies the condition to the right of the colon (:). For example, "),V(mn.$$.fragment),vd=P(" is the set of all integers between 5 and 10, i.e. "),V(Pa.$$.fragment),gd=Se(),Ei=ve("li"),V(Da.$$.fragment),bd=P(": The set of vectors with "),V(Na.$$.fragment),yd=P(" elements, all of which are from some set "),V(Ra.$$.fragment),$d=P(". For example, "),V(Ma.$$.fragment),_d=P(` is the set of 3-element, real number vectors. So we could say
            `),V(Ba.$$.fragment),wd=Se(),zr=ve("li"),V(Fa.$$.fragment),xd=P(": The set of matrices with "),V(za.$$.fragment),Sd=P(" rows and "),V(La.$$.fragment),Ed=P(" columns, whose elements are from some set "),V(ja.$$.fragment),kd=P(". For example, "),V(Ua.$$.fragment),Td=P(" is the set of "),V(qa.$$.fragment),Od=P(` matrices whose entries are all integers. So we could say
            `),V(Ha.$$.fragment),Ad=Se(),ul=ve("li"),V(Ga.$$.fragment),Id=P(": A matrix (or vector) with all entries equal to 0 (the size of the matrix is usually clear by context)."),Cd=Se(),io=ve("li"),V(Wa.$$.fragment),Pd=P(`: A square matrix with all entries equal to 0, except the diagonal where all entries equal 1 (the size of the matrix is usually clear by context). This looks like:
            `),V(Va.$$.fragment),Dd=Se(),Xa=ve("li"),V(Ka.$$.fragment),Nd=P(": If and only if. It indicates the the statement to the left is logically equivalent to the statement on the right, e.g. "),V(Ya.$$.fragment),Rd=P("."),Md=Se(),Li=ve("li"),V(Ja.$$.fragment),Bd=P(': The "floor" of the number '),V(Qa.$$.fragment),Fd=P(", i.e. the value resulting from rounding "),V(Za.$$.fragment),zd=P(" down to the nearest integer. So "),V(es.$$.fragment),Ld=P("."),jd=Se(),ji=ve("li"),V(ts.$$.fragment),Ud=P(': The "ceiling" of the number '),V(rs.$$.fragment),qd=P(", i.e. the value resulting from rounding "),V(is.$$.fragment),Hd=P(" up to the nearest integer. So "),V(ns.$$.fragment),Gd=P(".")},l(ce){t=ge(ce,"UL",{});var ye=Pe(t);e=ge(ye,"LI",{});var as=Pe(e);X(i.$$.fragment,as),n=D(as,": Set notation. Items inside the curly brackets are the elements of the set, so "),X(a.$$.fragment,as),s=D(as," is the 2-element set consisting of just the numbers 0 and 1."),as.forEach($),o=Ee(ye),l=ge(ye,"LI",{});var An=Pe(l);X(u.$$.fragment,An),f=D(An,": The set of real numbers, i.e. anything on the number line between (though not including!) "),X(h.$$.fragment,An),c=D(An," and "),X(m.$$.fragment,An),d=D(An,"."),An.forEach($),v=Ee(ye),b=ge(ye,"LI",{});var ss=Pe(b);X(g.$$.fragment,ss),y=D(ss,": The set of non-negative real numbers, i.e. anything in "),X(_.$$.fragment,ss),w=D(ss," that is greater than or equal to 0."),ss.forEach($),O=Ee(ye),I=ge(ye,"LI",{});var os=Pe(I);X(M.$$.fragment,os),T=D(os,": The set of integer numbers, i.e. whole numbers from the set "),X(E.$$.fragment,os),q=D(os,"."),os.forEach($),k=Ee(ye),j=ge(ye,"LI",{});var ls=Pe(j);X(J.$$.fragment,ls),Q=D(ls,": The set of non-negative integer numbers, i.e. anything in "),X(R.$$.fragment,ls),B=D(ls," that is greater than or equal to 0."),ls.forEach($),U=Ee(ye),te=ge(ye,"LI",{});var Wr=Pe(te);X(de.$$.fragment,Wr),me=D(Wr,": Set inclusion. When we write "),X(ee.$$.fragment,Wr),re=D(Wr,", we mean that "),X(ue.$$.fragment,Wr),Te=D(Wr," is an element of the set "),X(we.$$.fragment,Wr),xe=D(Wr,". For example, we could write "),X(Oe.$$.fragment,Wr),Ie=D(Wr,", meaning the number "),X(pe.$$.fragment,Wr),be=D(Wr," is a real number."),Wr.forEach($),W=Ee(ye),ae=ge(ye,"LI",{});var Sr=Pe(ae);X(ze.$$.fragment,Sr),Le=D(Sr,": Subset. For two sets "),X(Ge.$$.fragment,Sr),G=D(Sr,", we say "),X(C.$$.fragment,Sr),N=D(Sr,' (said "'),X(Z.$$.fragment,Sr),he=D(Sr," is a subset of "),X(ke.$$.fragment,Sr),Ne=D(Sr,'") if every element of '),X(ot.$$.fragment,Sr),bt=D(Sr," is also an element of "),X(mt.$$.fragment,Sr),Wt=D(Sr,"."),Sr.forEach($),wt=Ee(ye),hr=ge(ye,"LI",{});var us=Pe(hr);X(Mr.$$.fragment,us),yr=D(us,": Size of a set. This denotes the number of elements in a set, so e.g. "),X(wr.$$.fragment,us),$r=D(us,"."),us.forEach($),Ia=Ee(ye),kn=ge(ye,"LI",{});var fl=Pe(kn);X(cn.$$.fragment,fl),sl=D(fl,": Empty set. A set with no elements."),fl.forEach($),ol=Ee(ye),zi=ge(ye,"LI",{});var In=Pe(zi);X(Tn.$$.fragment,In),hn=D(In,": For all. We use this symbol when we want to specify that something should be done for all elements in some set. So if we're writing out the constraints for some model and we say "),X(xr.$$.fragment,In),to=D(In," we're just saying that each of "),X(Br.$$.fragment,In),ro=D(In," should be non-negative."),In.forEach($),Uu=Ee(ye),Fr=ge(ye,"LI",{});var ki=Pe(Fr);X(si.$$.fragment,ki),ll=D(ki,": Conditional set. This represents the set of all "),X(On.$$.fragment,ki),oi=D(ki," such that "),X(lr.$$.fragment,ki),Ca=D(ki," satisfies the condition to the right of the colon (:). For example, "),X(mn.$$.fragment,ki),vd=D(ki," is the set of all integers between 5 and 10, i.e. "),X(Pa.$$.fragment,ki),ki.forEach($),gd=Ee(ye),Ei=ge(ye,"LI",{});var Ti=Pe(Ei);X(Da.$$.fragment,Ti),bd=D(Ti,": The set of vectors with "),X(Na.$$.fragment,Ti),yd=D(Ti," elements, all of which are from some set "),X(Ra.$$.fragment,Ti),$d=D(Ti,". For example, "),X(Ma.$$.fragment,Ti),_d=D(Ti,` is the set of 3-element, real number vectors. So we could say
            `),X(Ba.$$.fragment,Ti),Ti.forEach($),wd=Ee(ye),zr=ge(ye,"LI",{});var Lr=Pe(zr);X(Fa.$$.fragment,Lr),xd=D(Lr,": The set of matrices with "),X(za.$$.fragment,Lr),Sd=D(Lr," rows and "),X(La.$$.fragment,Lr),Ed=D(Lr," columns, whose elements are from some set "),X(ja.$$.fragment,Lr),kd=D(Lr,". For example, "),X(Ua.$$.fragment,Lr),Td=D(Lr," is the set of "),X(qa.$$.fragment,Lr),Od=D(Lr,` matrices whose entries are all integers. So we could say
            `),X(Ha.$$.fragment,Lr),Lr.forEach($),Ad=Ee(ye),ul=ge(ye,"LI",{});var cl=Pe(ul);X(Ga.$$.fragment,cl),Id=D(cl,": A matrix (or vector) with all entries equal to 0 (the size of the matrix is usually clear by context)."),cl.forEach($),Cd=Ee(ye),io=ge(ye,"LI",{});var no=Pe(io);X(Wa.$$.fragment,no),Pd=D(no,`: A square matrix with all entries equal to 0, except the diagonal where all entries equal 1 (the size of the matrix is usually clear by context). This looks like:
            `),X(Va.$$.fragment,no),no.forEach($),Dd=Ee(ye),Xa=ge(ye,"LI",{});var fs=Pe(Xa);X(Ka.$$.fragment,fs),Nd=D(fs,": If and only if. It indicates the the statement to the left is logically equivalent to the statement on the right, e.g. "),X(Ya.$$.fragment,fs),Rd=D(fs,"."),fs.forEach($),Md=Ee(ye),Li=ge(ye,"LI",{});var Ui=Pe(Li);X(Ja.$$.fragment,Ui),Bd=D(Ui,': The "floor" of the number '),X(Qa.$$.fragment,Ui),Fd=D(Ui,", i.e. the value resulting from rounding "),X(Za.$$.fragment,Ui),zd=D(Ui," down to the nearest integer. So "),X(es.$$.fragment,Ui),Ld=D(Ui,"."),Ui.forEach($),jd=Ee(ye),ji=ge(ye,"LI",{});var qi=Pe(ji);X(ts.$$.fragment,qi),Ud=D(qi,': The "ceiling" of the number '),X(rs.$$.fragment,qi),qd=D(qi,", i.e. the value resulting from rounding "),X(is.$$.fragment,qi),Hd=D(qi," up to the nearest integer. So "),X(ns.$$.fragment,qi),Gd=D(qi,"."),qi.forEach($),ye.forEach($)},m(ce,ye){S(ce,t,ye),oe(t,e),K(i,e,null),oe(e,n),K(a,e,null),oe(e,s),oe(t,o),oe(t,l),K(u,l,null),oe(l,f),K(h,l,null),oe(l,c),K(m,l,null),oe(l,d),oe(t,v),oe(t,b),K(g,b,null),oe(b,y),K(_,b,null),oe(b,w),oe(t,O),oe(t,I),K(M,I,null),oe(I,T),K(E,I,null),oe(I,q),oe(t,k),oe(t,j),K(J,j,null),oe(j,Q),K(R,j,null),oe(j,B),oe(t,U),oe(t,te),K(de,te,null),oe(te,me),K(ee,te,null),oe(te,re),K(ue,te,null),oe(te,Te),K(we,te,null),oe(te,xe),K(Oe,te,null),oe(te,Ie),K(pe,te,null),oe(te,be),oe(t,W),oe(t,ae),K(ze,ae,null),oe(ae,Le),K(Ge,ae,null),oe(ae,G),K(C,ae,null),oe(ae,N),K(Z,ae,null),oe(ae,he),K(ke,ae,null),oe(ae,Ne),K(ot,ae,null),oe(ae,bt),K(mt,ae,null),oe(ae,Wt),oe(t,wt),oe(t,hr),K(Mr,hr,null),oe(hr,yr),K(wr,hr,null),oe(hr,$r),oe(t,Ia),oe(t,kn),K(cn,kn,null),oe(kn,sl),oe(t,ol),oe(t,zi),K(Tn,zi,null),oe(zi,hn),K(xr,zi,null),oe(zi,to),K(Br,zi,null),oe(zi,ro),oe(t,Uu),oe(t,Fr),K(si,Fr,null),oe(Fr,ll),K(On,Fr,null),oe(Fr,oi),K(lr,Fr,null),oe(Fr,Ca),K(mn,Fr,null),oe(Fr,vd),K(Pa,Fr,null),oe(t,gd),oe(t,Ei),K(Da,Ei,null),oe(Ei,bd),K(Na,Ei,null),oe(Ei,yd),K(Ra,Ei,null),oe(Ei,$d),K(Ma,Ei,null),oe(Ei,_d),K(Ba,Ei,null),oe(t,wd),oe(t,zr),K(Fa,zr,null),oe(zr,xd),K(za,zr,null),oe(zr,Sd),K(La,zr,null),oe(zr,Ed),K(ja,zr,null),oe(zr,kd),K(Ua,zr,null),oe(zr,Td),K(qa,zr,null),oe(zr,Od),K(Ha,zr,null),oe(t,Ad),oe(t,ul),K(Ga,ul,null),oe(ul,Id),oe(t,Cd),oe(t,io),K(Wa,io,null),oe(io,Pd),K(Va,io,null),oe(t,Dd),oe(t,Xa),K(Ka,Xa,null),oe(Xa,Nd),K(Ya,Xa,null),oe(Xa,Rd),oe(t,Md),oe(t,Li),K(Ja,Li,null),oe(Li,Bd),K(Qa,Li,null),oe(Li,Fd),K(Za,Li,null),oe(Li,zd),K(es,Li,null),oe(Li,Ld),oe(t,jd),oe(t,ji),K(ts,ji,null),oe(ji,Ud),K(rs,ji,null),oe(ji,qd),K(is,ji,null),oe(ji,Hd),K(ns,ji,null),oe(ji,Gd),Wc=!0},p(ce,ye){const as={};ye&1&&(as.$$scope={dirty:ye,ctx:ce}),i.$set(as);const An={};ye&1&&(An.$$scope={dirty:ye,ctx:ce}),a.$set(An);const ss={};ye&1&&(ss.$$scope={dirty:ye,ctx:ce}),u.$set(ss);const os={};ye&1&&(os.$$scope={dirty:ye,ctx:ce}),h.$set(os);const ls={};ye&1&&(ls.$$scope={dirty:ye,ctx:ce}),m.$set(ls);const Wr={};ye&1&&(Wr.$$scope={dirty:ye,ctx:ce}),g.$set(Wr);const Sr={};ye&1&&(Sr.$$scope={dirty:ye,ctx:ce}),_.$set(Sr);const us={};ye&1&&(us.$$scope={dirty:ye,ctx:ce}),M.$set(us);const fl={};ye&1&&(fl.$$scope={dirty:ye,ctx:ce}),E.$set(fl);const In={};ye&1&&(In.$$scope={dirty:ye,ctx:ce}),J.$set(In);const ki={};ye&1&&(ki.$$scope={dirty:ye,ctx:ce}),R.$set(ki);const Ti={};ye&1&&(Ti.$$scope={dirty:ye,ctx:ce}),de.$set(Ti);const Lr={};ye&1&&(Lr.$$scope={dirty:ye,ctx:ce}),ee.$set(Lr);const cl={};ye&1&&(cl.$$scope={dirty:ye,ctx:ce}),ue.$set(cl);const no={};ye&1&&(no.$$scope={dirty:ye,ctx:ce}),we.$set(no);const fs={};ye&1&&(fs.$$scope={dirty:ye,ctx:ce}),Oe.$set(fs);const Ui={};ye&1&&(Ui.$$scope={dirty:ye,ctx:ce}),pe.$set(Ui);const qi={};ye&1&&(qi.$$scope={dirty:ye,ctx:ce}),ze.$set(qi);const z$={};ye&1&&(z$.$$scope={dirty:ye,ctx:ce}),Ge.$set(z$);const L$={};ye&1&&(L$.$$scope={dirty:ye,ctx:ce}),C.$set(L$);const j$={};ye&1&&(j$.$$scope={dirty:ye,ctx:ce}),Z.$set(j$);const U$={};ye&1&&(U$.$$scope={dirty:ye,ctx:ce}),ke.$set(U$);const q$={};ye&1&&(q$.$$scope={dirty:ye,ctx:ce}),ot.$set(q$);const H$={};ye&1&&(H$.$$scope={dirty:ye,ctx:ce}),mt.$set(H$);const G$={};ye&1&&(G$.$$scope={dirty:ye,ctx:ce}),Mr.$set(G$);const W$={};ye&1&&(W$.$$scope={dirty:ye,ctx:ce}),wr.$set(W$);const V$={};ye&1&&(V$.$$scope={dirty:ye,ctx:ce}),cn.$set(V$);const X$={};ye&1&&(X$.$$scope={dirty:ye,ctx:ce}),Tn.$set(X$);const K$={};ye&1&&(K$.$$scope={dirty:ye,ctx:ce}),xr.$set(K$);const Y$={};ye&1&&(Y$.$$scope={dirty:ye,ctx:ce}),Br.$set(Y$);const J$={};ye&1&&(J$.$$scope={dirty:ye,ctx:ce}),si.$set(J$);const Q$={};ye&1&&(Q$.$$scope={dirty:ye,ctx:ce}),On.$set(Q$);const Z$={};ye&1&&(Z$.$$scope={dirty:ye,ctx:ce}),lr.$set(Z$);const e_={};ye&1&&(e_.$$scope={dirty:ye,ctx:ce}),mn.$set(e_);const t_={};ye&1&&(t_.$$scope={dirty:ye,ctx:ce}),Pa.$set(t_);const r_={};ye&1&&(r_.$$scope={dirty:ye,ctx:ce}),Da.$set(r_);const i_={};ye&1&&(i_.$$scope={dirty:ye,ctx:ce}),Na.$set(i_);const n_={};ye&1&&(n_.$$scope={dirty:ye,ctx:ce}),Ra.$set(n_);const a_={};ye&1&&(a_.$$scope={dirty:ye,ctx:ce}),Ma.$set(a_);const s_={};ye&1&&(s_.$$scope={dirty:ye,ctx:ce}),Ba.$set(s_);const o_={};ye&1&&(o_.$$scope={dirty:ye,ctx:ce}),Fa.$set(o_);const l_={};ye&1&&(l_.$$scope={dirty:ye,ctx:ce}),za.$set(l_);const u_={};ye&1&&(u_.$$scope={dirty:ye,ctx:ce}),La.$set(u_);const f_={};ye&1&&(f_.$$scope={dirty:ye,ctx:ce}),ja.$set(f_);const c_={};ye&1&&(c_.$$scope={dirty:ye,ctx:ce}),Ua.$set(c_);const h_={};ye&1&&(h_.$$scope={dirty:ye,ctx:ce}),qa.$set(h_);const m_={};ye&1&&(m_.$$scope={dirty:ye,ctx:ce}),Ha.$set(m_);const p_={};ye&1&&(p_.$$scope={dirty:ye,ctx:ce}),Ga.$set(p_);const d_={};ye&1&&(d_.$$scope={dirty:ye,ctx:ce}),Wa.$set(d_);const v_={};ye&1&&(v_.$$scope={dirty:ye,ctx:ce}),Va.$set(v_);const g_={};ye&1&&(g_.$$scope={dirty:ye,ctx:ce}),Ka.$set(g_);const b_={};ye&1&&(b_.$$scope={dirty:ye,ctx:ce}),Ya.$set(b_);const y_={};ye&1&&(y_.$$scope={dirty:ye,ctx:ce}),Ja.$set(y_);const $_={};ye&1&&($_.$$scope={dirty:ye,ctx:ce}),Qa.$set($_);const __={};ye&1&&(__.$$scope={dirty:ye,ctx:ce}),Za.$set(__);const w_={};ye&1&&(w_.$$scope={dirty:ye,ctx:ce}),es.$set(w_);const x_={};ye&1&&(x_.$$scope={dirty:ye,ctx:ce}),ts.$set(x_);const S_={};ye&1&&(S_.$$scope={dirty:ye,ctx:ce}),rs.$set(S_);const E_={};ye&1&&(E_.$$scope={dirty:ye,ctx:ce}),is.$set(E_);const k_={};ye&1&&(k_.$$scope={dirty:ye,ctx:ce}),ns.$set(k_)},i(ce){Wc||(z(i.$$.fragment,ce),z(a.$$.fragment,ce),z(u.$$.fragment,ce),z(h.$$.fragment,ce),z(m.$$.fragment,ce),z(g.$$.fragment,ce),z(_.$$.fragment,ce),z(M.$$.fragment,ce),z(E.$$.fragment,ce),z(J.$$.fragment,ce),z(R.$$.fragment,ce),z(de.$$.fragment,ce),z(ee.$$.fragment,ce),z(ue.$$.fragment,ce),z(we.$$.fragment,ce),z(Oe.$$.fragment,ce),z(pe.$$.fragment,ce),z(ze.$$.fragment,ce),z(Ge.$$.fragment,ce),z(C.$$.fragment,ce),z(Z.$$.fragment,ce),z(ke.$$.fragment,ce),z(ot.$$.fragment,ce),z(mt.$$.fragment,ce),z(Mr.$$.fragment,ce),z(wr.$$.fragment,ce),z(cn.$$.fragment,ce),z(Tn.$$.fragment,ce),z(xr.$$.fragment,ce),z(Br.$$.fragment,ce),z(si.$$.fragment,ce),z(On.$$.fragment,ce),z(lr.$$.fragment,ce),z(mn.$$.fragment,ce),z(Pa.$$.fragment,ce),z(Da.$$.fragment,ce),z(Na.$$.fragment,ce),z(Ra.$$.fragment,ce),z(Ma.$$.fragment,ce),z(Ba.$$.fragment,ce),z(Fa.$$.fragment,ce),z(za.$$.fragment,ce),z(La.$$.fragment,ce),z(ja.$$.fragment,ce),z(Ua.$$.fragment,ce),z(qa.$$.fragment,ce),z(Ha.$$.fragment,ce),z(Ga.$$.fragment,ce),z(Wa.$$.fragment,ce),z(Va.$$.fragment,ce),z(Ka.$$.fragment,ce),z(Ya.$$.fragment,ce),z(Ja.$$.fragment,ce),z(Qa.$$.fragment,ce),z(Za.$$.fragment,ce),z(es.$$.fragment,ce),z(ts.$$.fragment,ce),z(rs.$$.fragment,ce),z(is.$$.fragment,ce),z(ns.$$.fragment,ce),Wc=!0)},o(ce){L(i.$$.fragment,ce),L(a.$$.fragment,ce),L(u.$$.fragment,ce),L(h.$$.fragment,ce),L(m.$$.fragment,ce),L(g.$$.fragment,ce),L(_.$$.fragment,ce),L(M.$$.fragment,ce),L(E.$$.fragment,ce),L(J.$$.fragment,ce),L(R.$$.fragment,ce),L(de.$$.fragment,ce),L(ee.$$.fragment,ce),L(ue.$$.fragment,ce),L(we.$$.fragment,ce),L(Oe.$$.fragment,ce),L(pe.$$.fragment,ce),L(ze.$$.fragment,ce),L(Ge.$$.fragment,ce),L(C.$$.fragment,ce),L(Z.$$.fragment,ce),L(ke.$$.fragment,ce),L(ot.$$.fragment,ce),L(mt.$$.fragment,ce),L(Mr.$$.fragment,ce),L(wr.$$.fragment,ce),L(cn.$$.fragment,ce),L(Tn.$$.fragment,ce),L(xr.$$.fragment,ce),L(Br.$$.fragment,ce),L(si.$$.fragment,ce),L(On.$$.fragment,ce),L(lr.$$.fragment,ce),L(mn.$$.fragment,ce),L(Pa.$$.fragment,ce),L(Da.$$.fragment,ce),L(Na.$$.fragment,ce),L(Ra.$$.fragment,ce),L(Ma.$$.fragment,ce),L(Ba.$$.fragment,ce),L(Fa.$$.fragment,ce),L(za.$$.fragment,ce),L(La.$$.fragment,ce),L(ja.$$.fragment,ce),L(Ua.$$.fragment,ce),L(qa.$$.fragment,ce),L(Ha.$$.fragment,ce),L(Ga.$$.fragment,ce),L(Wa.$$.fragment,ce),L(Va.$$.fragment,ce),L(Ka.$$.fragment,ce),L(Ya.$$.fragment,ce),L(Ja.$$.fragment,ce),L(Qa.$$.fragment,ce),L(Za.$$.fragment,ce),L(es.$$.fragment,ce),L(ts.$$.fragment,ce),L(rs.$$.fragment,ce),L(is.$$.fragment,ce),L(ns.$$.fragment,ce),Wc=!1},d(ce){ce&&$(t),Y(i),Y(a),Y(u),Y(h),Y(m),Y(g),Y(_),Y(M),Y(E),Y(J),Y(R),Y(de),Y(ee),Y(ue),Y(we),Y(Oe),Y(pe),Y(ze),Y(Ge),Y(C),Y(Z),Y(ke),Y(ot),Y(mt),Y(Mr),Y(wr),Y(cn),Y(Tn),Y(xr),Y(Br),Y(si),Y(On),Y(lr),Y(mn),Y(Pa),Y(Da),Y(Na),Y(Ra),Y(Ma),Y(Ba),Y(Fa),Y(za),Y(La),Y(ja),Y(Ua),Y(qa),Y(Ha),Y(Ga),Y(Wa),Y(Va),Y(Ka),Y(Ya),Y(Ja),Y(Qa),Y(Za),Y(es),Y(ts),Y(rs),Y(is),Y(ns)}}}function uIe(r){let t,e,i,n;return t=new ei({props:{level:"2",refId:"symbols",$$slots:{context:[tAe],default:[eAe]},$$scope:{ctx:r}}}),i=new vt({props:{$$slots:{default:[lIe]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment),e=Se(),V(i.$$.fragment)},l(a){X(t.$$.fragment,a),e=Ee(a),X(i.$$.fragment,a)},m(a,s){K(t,a,s),S(a,e,s),K(i,a,s),n=!0},p(a,[s]){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const l={};s&1&&(l.$$scope={dirty:s,ctx:a}),i.$set(l)},i(a){n||(z(t.$$.fragment,a),z(i.$$.fragment,a),n=!0)},o(a){L(t.$$.fragment,a),L(i.$$.fragment,a),n=!1},d(a){a&&$(e),Y(t,a),Y(i,a)}}}class fIe extends $t{constructor(t){super(),_t(this,t,null,uIe,yt,{})}}function cIe(r){let t;return{c(){t=P("Appendix")},l(e){t=D(e,"Appendix")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function hIe(r){let t,e="Extra content you may find useful for this course.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-15cnuce"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function mIe(r){let t,e,i,n,a,s;return t=new ei({props:{refId:"appendix",level:"1",dispSecNum:"A",includeDispSecNum:!1,$$slots:{context:[hIe],default:[cIe]},$$scope:{ctx:r}}}),i=new fIe({}),a=new ZOe({}),{c(){V(t.$$.fragment),e=Se(),V(i.$$.fragment),n=Se(),V(a.$$.fragment)},l(o){X(t.$$.fragment,o),e=Ee(o),X(i.$$.fragment,o),n=Ee(o),X(a.$$.fragment,o)},m(o,l){K(t,o,l),S(o,e,l),K(i,o,l),S(o,n,l),K(a,o,l),s=!0},p(o,[l]){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),t.$set(u)},i(o){s||(z(t.$$.fragment,o),z(i.$$.fragment,o),z(a.$$.fragment,o),s=!0)},o(o){L(t.$$.fragment,o),L(i.$$.fragment,o),L(a.$$.fragment,o),s=!1},d(o){o&&($(e),$(n)),Y(t,o),Y(i,o),Y(a,o)}}}class pIe extends $t{constructor(t){super(),_t(this,t,null,mIe,yt,{})}}function A7(r,t,e){const i=r.slice();return i[3]=t[e],i}function dIe(r){let t;return{c(){t=P("References")},l(e){t=D(e,"References")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function I7(r){let t,e,i=r[3]+"",n;return{c(){t=ve("li"),e=new Xn(!1),this.h()},l(a){t=ge(a,"LI",{class:!0});var s=Pe(t);e=Kn(s,!1),s.forEach($),this.h()},h(){e.a=null,fe(t,"class",n=Vn("bibline"+(r[0]?" biblinePrintMode":""))+" svelte-1nfaj4i")},m(a,s){S(a,t,s),e.m(i,t)},p(a,s){s&1&&n!==(n=Vn("bibline"+(a[0]?" biblinePrintMode":""))+" svelte-1nfaj4i")&&fe(t,"class",n)},d(a){a&&$(t)}}}function vIe(r){let t,e,i,n;t=new ei({props:{refId:"bibliography",level:"1",includeDispSecNum:!1,$$slots:{default:[dIe]},$$scope:{ctx:r}}});let a=Ms(r[1].sort()),s=[];for(let o=0;o<a.length;o+=1)s[o]=I7(A7(r,a,o));return{c(){V(t.$$.fragment),e=Se(),i=ve("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){X(t.$$.fragment,o),e=Ee(o),i=ge(o,"UL",{class:!0});var l=Pe(i);for(let u=0;u<s.length;u+=1)s[u].l(l);l.forEach($),this.h()},h(){fe(i,"class","bib svelte-1nfaj4i")},m(o,l){K(t,o,l),S(o,e,l),S(o,i,l);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);n=!0},p(o,[l]){const u={};if(l&64&&(u.$$scope={dirty:l,ctx:o}),t.$set(u),l&3){a=Ms(o[1].sort());let f;for(f=0;f<a.length;f+=1){const h=A7(o,a,f);s[f]?s[f].p(h,l):(s[f]=I7(h),s[f].c(),s[f].m(i,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=a.length}},i(o){n||(z(t.$$.fragment,o),n=!0)},o(o){L(t.$$.fragment,o),n=!1},d(o){o&&($(e),$(i)),Y(t,o),Km(s,o)}}}function gIe(r,t,e){let i,n;xt(r,Yg,s=>e(2,i=s)),xt(r,Zi,s=>e(0,n=s));let a=[];for(const s of Object.keys(i)){const o=i[s];o.referenced&&a.push(o.biblio)}return[n,a]}class bIe extends $t{constructor(t){super(),_t(this,t,gIe,vIe,yt,{})}}function yIe(r){let t;const e=r[2].default,i=jt(e,r,r[1],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&2)&&Ut(i,e,n,n[1],t?Ht(e,n[1],a,null):qt(n[1]),null)},i(n){t||(z(i,n),t=!0)},o(n){L(i,n),t=!1},d(n){i&&i.d(n)}}}function $Ie(r){let t,e;const i=r[2].default,n=jt(i,r,r[1],null);return{c(){t=ve("span"),n&&n.c(),this.h()},l(a){t=ge(a,"SPAN",{class:!0});var s=Pe(t);n&&n.l(s),s.forEach($),this.h()},h(){fe(t,"class","keyPoint svelte-1gh7i88")},m(a,s){S(a,t,s),n&&n.m(t,null),e=!0},p(a,s){n&&n.p&&(!e||s&2)&&Ut(n,i,a,a[1],e?Ht(i,a[1],s,null):qt(a[1]),null)},i(a){e||(z(n,a),e=!0)},o(a){L(n,a),e=!1},d(a){a&&$(t),n&&n.d(a)}}}function _Ie(r){let t,e,i,n;const a=[$Ie,yIe],s=[];function o(l,u){return l[0]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ct()},l(l){e.l(l),i=ct()},m(l,u){s[t].m(l,u),S(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(Ji(),L(s[f],1,1,()=>{s[f]=null}),Qi(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),z(e,1),e.m(i.parentNode,i))},i(l){n||(z(e),n=!0)},o(l){L(e),n=!1},d(l){l&&$(i),s[t].d(l)}}}function wIe(r,t,e){let i;xt(r,Jg,s=>e(0,i=s));let{$$slots:n={},$$scope:a}=t;return r.$$set=s=>{"$$scope"in s&&e(1,a=s.$$scope)},[i,a,n]}class dt extends $t{constructor(t){super(),_t(this,t,wIe,_Ie,yt,{})}}function xIe(r){let t;return{c(){t=P("Welcome!")},l(e){t=D(e,"Welcome!")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function SIe(r){let t,e="Where we discuss what to expect in this class and these notes.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1t10p2l"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function EIe(r){let t,e,i="IMSE 884: Integer Programming and Combinatorial Optimization",n;return{c(){t=P("You're reading the class notes for "),e=ve("em"),e.textContent=i,n=P(", taught at Kansas State University during the Spring 2025 semester.")},l(a){t=D(a,"You're reading the class notes for "),e=ge(a,"EM",{"data-svelte-h":!0}),Ze(e)!=="svelte-34fi29"&&(e.textContent=i),n=D(a,", taught at Kansas State University during the Spring 2025 semester.")},m(a,s){S(a,t,s),S(a,e,s),S(a,n,s)},p:se,d(a){a&&($(t),$(e),$(n))}}}function kIe(r){let t;return{c(){t=P("About the course")},l(e){t=D(e,"About the course")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function TIe(r){let t,e="Discussing topics and particulars of the course.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-y4e6li"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function OIe(r){let t;return{c(){t=P("overview of the related fields of integer programming and combinatorial optimization")},l(e){t=D(e,"overview of the related fields of integer programming and combinatorial optimization")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function AIe(r){let t;return{c(){t=P("best-studied and most widely-applicable problems")},l(e){t=D(e,"best-studied and most widely-applicable problems")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function IIe(r){let t;return{c(){t=P("We will lean more heavily on the theoretical aspects")},l(e){t=D(e,"We will lean more heavily on the theoretical aspects")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function CIe(r){let t,e,i,n,a,s,o,l;return e=new dt({props:{$$slots:{default:[OIe]},$$scope:{ctx:r}}}),n=new dt({props:{$$slots:{default:[AIe]},$$scope:{ctx:r}}}),s=new dt({props:{$$slots:{default:[IIe]},$$scope:{ctx:r}}}),{c(){t=P("As the name suggests, the aim of this course is to give an "),V(e.$$.fragment),i=P(", which together comprise a large portion of the "),V(n.$$.fragment),a=P(" in optimization and mathematical programming. "),V(s.$$.fragment),o=P(" of the subject, spending most of our time on theory and algorithms that allow solutions to be found to these important problems. We will devote a relatively smaller amount of time to building and solving these types of models in practice.")},l(u){t=D(u,"As the name suggests, the aim of this course is to give an "),X(e.$$.fragment,u),i=D(u,", which together comprise a large portion of the "),X(n.$$.fragment,u),a=D(u," in optimization and mathematical programming. "),X(s.$$.fragment,u),o=D(u," of the subject, spending most of our time on theory and algorithms that allow solutions to be found to these important problems. We will devote a relatively smaller amount of time to building and solving these types of models in practice.")},m(u,f){S(u,t,f),K(e,u,f),S(u,i,f),K(n,u,f),S(u,a,f),K(s,u,f),S(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&1&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){l||(z(e.$$.fragment,u),z(n.$$.fragment,u),z(s.$$.fragment,u),l=!0)},o(u){L(e.$$.fragment,u),L(n.$$.fragment,u),L(s.$$.fragment,u),l=!1},d(u){u&&($(t),$(i),$(a),$(o)),Y(e,u),Y(n,u),Y(s,u)}}}function PIe(r){let t;return{c(){t=P("familiarity with linear algebra")},l(e){t=D(e,"familiarity with linear algebra")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function DIe(r){let t;return{c(){t=P("matrix math (addition/multiplication)")},l(e){t=D(e,"matrix math (addition/multiplication)")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function NIe(r){let t;return{c(){t=P("linear programming")},l(e){t=D(e,"linear programming")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function RIe(r){let t,e,i,n,a,s,o,l;return e=new dt({props:{$$slots:{default:[PIe]},$$scope:{ctx:r}}}),n=new dt({props:{$$slots:{default:[DIe]},$$scope:{ctx:r}}}),s=new dt({props:{$$slots:{default:[NIe]},$$scope:{ctx:r}}}),{c(){t=P("As far as prerequisites, you should have some "),V(e.$$.fragment),i=P(", at a minimum the basic mechanics of "),V(n.$$.fragment),a=P(". Topics such as linear rank and determinants with surface as well. Some familiarity with other optimization topics, especially "),V(s.$$.fragment),o=P(", will also prove helpful.")},l(u){t=D(u,"As far as prerequisites, you should have some "),X(e.$$.fragment,u),i=D(u,", at a minimum the basic mechanics of "),X(n.$$.fragment,u),a=D(u,". Topics such as linear rank and determinants with surface as well. Some familiarity with other optimization topics, especially "),X(s.$$.fragment,u),o=D(u,", will also prove helpful.")},m(u,f){S(u,t,f),K(e,u,f),S(u,i,f),K(n,u,f),S(u,a,f),K(s,u,f),S(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&1&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){l||(z(e.$$.fragment,u),z(n.$$.fragment,u),z(s.$$.fragment,u),l=!0)},o(u){L(e.$$.fragment,u),L(n.$$.fragment,u),L(s.$$.fragment,u),l=!1},d(u){u&&($(t),$(i),$(a),$(o)),Y(e,u),Y(n,u),Y(s,u)}}}function MIe(r){let t;return{c(){t=P("exploring a selection of different combinatorial optimization problems")},l(e){t=D(e,"exploring a selection of different combinatorial optimization problems")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function BIe(r){let t;return{c(){t=P("preliminaries on integer programming")},l(e){t=D(e,"preliminaries on integer programming")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function FIe(r){let t,e,i,n,a,s;return e=new dt({props:{$$slots:{default:[MIe]},$$scope:{ctx:r}}}),n=new dt({props:{$$slots:{default:[BIe]},$$scope:{ctx:r}}}),{c(){t=P("We will begin the class by by "),V(e.$$.fragment),i=P(" and specialized algorithms for solving them. We'll then discuss "),V(n.$$.fragment),a=P(", which we will see can itself be used as a tool for combinatorial optimization (as well as other types of problems).")},l(o){t=D(o,"We will begin the class by by "),X(e.$$.fragment,o),i=D(o," and specialized algorithms for solving them. We'll then discuss "),X(n.$$.fragment,o),a=D(o,", which we will see can itself be used as a tool for combinatorial optimization (as well as other types of problems).")},m(o,l){S(o,t,l),K(e,o,l),S(o,i,l),K(n,o,l),S(o,a,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),e.$set(u);const f={};l&1&&(f.$$scope={dirty:l,ctx:o}),n.$set(f)},i(o){s||(z(e.$$.fragment,o),z(n.$$.fragment,o),s=!0)},o(o){L(e.$$.fragment,o),L(n.$$.fragment,o),s=!1},d(o){o&&($(t),$(i),$(a)),Y(e,o),Y(n,o)}}}function zIe(r){let t;return{c(){t=P("some problems seem to require more resources")},l(e){t=D(e,"some problems seem to require more resources")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function LIe(r){let t;return{c(){t=P("discussion on computational complexity")},l(e){t=D(e,"discussion on computational complexity")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function jIe(r){let t,e,i,n,a,s;return e=new dt({props:{$$slots:{default:[zIe]},$$scope:{ctx:r}}}),n=new dt({props:{$$slots:{default:[LIe]},$$scope:{ctx:r}}}),{c(){t=P("In these discussions, we'll begin to notice how "),V(e.$$.fragment),i=P(" than others while modeling and solving them. This will motivate a "),V(n.$$.fragment),a=P(". We will not develop this topic completely formally, but at least at enough depth to help frame our discussions on what problems may be easier to solve than others.")},l(o){t=D(o,"In these discussions, we'll begin to notice how "),X(e.$$.fragment,o),i=D(o," than others while modeling and solving them. This will motivate a "),X(n.$$.fragment,o),a=D(o,". We will not develop this topic completely formally, but at least at enough depth to help frame our discussions on what problems may be easier to solve than others.")},m(o,l){S(o,t,l),K(e,o,l),S(o,i,l),K(n,o,l),S(o,a,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),e.$set(u);const f={};l&1&&(f.$$scope={dirty:l,ctx:o}),n.$set(f)},i(o){s||(z(e.$$.fragment,o),z(n.$$.fragment,o),s=!0)},o(o){L(e.$$.fragment,o),L(n.$$.fragment,o),s=!1},d(o){o&&($(t),$(i),$(a)),Y(e,o),Y(n,o)}}}function UIe(r){let t;return{c(){t=P("theory of solving integer programs")},l(e){t=D(e,"theory of solving integer programs")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function qIe(r){let t;return{c(){t=P("I expect that most of you taking this course have studied linear programming before. But don't worry too much of that's not the case, as we'll touch on all the theory we need during the review.")},l(e){t=D(e,"I expect that most of you taking this course have studied linear programming before. But don't worry too much of that's not the case, as we'll touch on all the theory we need during the review.")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function HIe(r){let t,e,i,n;return e=new dd({props:{$$slots:{default:[qIe]},$$scope:{ctx:r}}}),{c(){t=P("review"),V(e.$$.fragment),i=P(" of linear programming")},l(a){t=D(a,"review"),X(e.$$.fragment,a),i=D(a," of linear programming")},m(a,s){S(a,t,s),K(e,a,s),S(a,i,s),n=!0},p(a,s){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){L(e.$$.fragment,a),n=!1},d(a){a&&($(t),$(i)),Y(e,a)}}}function GIe(r){let t;return{c(){t=P("cutting planes and branch-and-bound")},l(e){t=D(e,"cutting planes and branch-and-bound")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function WIe(r){let t;return{c(){t=P("specialized solving techniques")},l(e){t=D(e,"specialized solving techniques")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function VIe(r){let t;return{c(){t=P("solving integer programs in real-life")},l(e){t=D(e,"solving integer programs in real-life")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function XIe(r){let t,e,i,n,a,s,o,l,u,f,h,c;return e=new dt({props:{$$slots:{default:[UIe]},$$scope:{ctx:r}}}),n=new dt({props:{$$slots:{default:[HIe]},$$scope:{ctx:r}}}),s=new dt({props:{$$slots:{default:[GIe]},$$scope:{ctx:r}}}),l=new dt({props:{$$slots:{default:[WIe]},$$scope:{ctx:r}}}),f=new dt({props:{$$slots:{default:[VIe]},$$scope:{ctx:r}}}),{c(){t=P("From there, we'll take a deep dive into the "),V(e.$$.fragment),i=P(". We'll need to start with a "),V(n.$$.fragment),a=P(" and polyhedra. This will allow us to discuss the main integer programming techniques of "),V(s.$$.fragment),o=P(". From there we will cover some more "),V(l.$$.fragment),u=P(", and spend some time discussing practical matters of "),V(f.$$.fragment),h=P(" applications.")},l(m){t=D(m,"From there, we'll take a deep dive into the "),X(e.$$.fragment,m),i=D(m,". We'll need to start with a "),X(n.$$.fragment,m),a=D(m," and polyhedra. This will allow us to discuss the main integer programming techniques of "),X(s.$$.fragment,m),o=D(m,". From there we will cover some more "),X(l.$$.fragment,m),u=D(m,", and spend some time discussing practical matters of "),X(f.$$.fragment,m),h=D(m," applications.")},m(m,d){S(m,t,d),K(e,m,d),S(m,i,d),K(n,m,d),S(m,a,d),K(s,m,d),S(m,o,d),K(l,m,d),S(m,u,d),K(f,m,d),S(m,h,d),c=!0},p(m,d){const v={};d&1&&(v.$$scope={dirty:d,ctx:m}),e.$set(v);const b={};d&1&&(b.$$scope={dirty:d,ctx:m}),n.$set(b);const g={};d&1&&(g.$$scope={dirty:d,ctx:m}),s.$set(g);const y={};d&1&&(y.$$scope={dirty:d,ctx:m}),l.$set(y);const _={};d&1&&(_.$$scope={dirty:d,ctx:m}),f.$set(_)},i(m){c||(z(e.$$.fragment,m),z(n.$$.fragment,m),z(s.$$.fragment,m),z(l.$$.fragment,m),z(f.$$.fragment,m),c=!0)},o(m){L(e.$$.fragment,m),L(n.$$.fragment,m),L(s.$$.fragment,m),L(l.$$.fragment,m),L(f.$$.fragment,m),c=!1},d(m){m&&($(t),$(i),$(a),$(o),$(u),$(h)),Y(e,m),Y(n,m),Y(s,m),Y(l,m),Y(f,m)}}}function KIe(r){let t;return{c(){t=P("Textbooks")},l(e){t=D(e,"Textbooks")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function YIe(r){let t,e="Useful resources for students.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1baz3ta"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function JIe(r){let t;return{c(){t=P("this course will be taught from these notes")},l(e){t=D(e,"this course will be taught from these notes")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function QIe(r){let t;return{c(){t=P("not strictly required to obtain a separate textbook")},l(e){t=D(e,"not strictly required to obtain a separate textbook")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function ZIe(r){let t,e="Integer Programming",i,n,a,s;return n=new Ki({props:{refId:"wolsey2020"}}),{c(){t=ve("em"),t.textContent=e,i=Se(),V(n.$$.fragment),a=P(". A large portion of this course")},l(o){t=ge(o,"EM",{"data-svelte-h":!0}),Ze(t)!=="svelte-1pcnffb"&&(t.textContent=e),i=Ee(o),X(n.$$.fragment,o),a=D(o,". A large portion of this course")},m(o,l){S(o,t,l),S(o,i,l),K(n,o,l),S(o,a,l),s=!0},p:se,i(o){s||(z(n.$$.fragment,o),s=!0)},o(o){L(n.$$.fragment,o),s=!1},d(o){o&&($(t),$(i),$(a)),Y(n,o)}}}function eCe(r){let t,e,i,n,a,s,o,l;return e=new dt({props:{$$slots:{default:[JIe]},$$scope:{ctx:r}}}),n=new dt({props:{$$slots:{default:[QIe]},$$scope:{ctx:r}}}),s=new dt({props:{$$slots:{default:[ZIe]},$$scope:{ctx:r}}}),{c(){t=P("The core of "),V(e.$$.fragment),i=P(", thus students are "),V(n.$$.fragment),a=P(". But I will strongly suggest anyone taking the course find a copy of the second edition to Laurence Wolsey's book "),V(s.$$.fragment),o=P("'s content is derived from this book (although we'll present things in a slightly different order), and you'll find further details there not covered in the notes.")},l(u){t=D(u,"The core of "),X(e.$$.fragment,u),i=D(u,", thus students are "),X(n.$$.fragment,u),a=D(u,". But I will strongly suggest anyone taking the course find a copy of the second edition to Laurence Wolsey's book "),X(s.$$.fragment,u),o=D(u,"'s content is derived from this book (although we'll present things in a slightly different order), and you'll find further details there not covered in the notes.")},m(u,f){S(u,t,f),K(e,u,f),S(u,i,f),K(n,u,f),S(u,a,f),K(s,u,f),S(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&1&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){l||(z(e.$$.fragment,u),z(n.$$.fragment,u),z(s.$$.fragment,u),l=!0)},o(u){L(e.$$.fragment,u),L(n.$$.fragment,u),L(s.$$.fragment,u),l=!1},d(u){u&&($(t),$(i),$(a),$(o)),Y(e,u),Y(n,u),Y(s,u)}}}function tCe(r){let t,e="Integer and Combinatorial Optimization",i,n,a;return n=new Ki({props:{refId:"nemWol1999"}}),{c(){t=ve("em"),t.textContent=e,i=Se(),V(n.$$.fragment)},l(s){t=ge(s,"EM",{"data-svelte-h":!0}),Ze(t)!=="svelte-1n6swei"&&(t.textContent=e),i=Ee(s),X(n.$$.fragment,s)},m(s,o){S(s,t,o),S(s,i,o),K(n,s,o),a=!0},p:se,i(s){a||(z(n.$$.fragment,s),a=!0)},o(s){L(n.$$.fragment,s),a=!1},d(s){s&&($(t),$(i)),Y(n,s)}}}function rCe(r){let t,e,i,n,a,s,o,l,u,f;return e=new Ki({props:{refId:"nemWol1999"}}),n=new Ki({props:{refId:"wolsey2020"}}),s=new Ki({props:{refId:"nemWol1999"}}),l=new Ki({props:{refId:"wolsey2020"}}),{c(){t=P("Why didn't I choose "),V(e.$$.fragment),i=P(" as the course text? I think the presentation and level of "),V(n.$$.fragment),a=P(" is a little better suited for this course. It's also a bit newer, and although the theory found in "),V(s.$$.fragment),o=P(" is evergreen, "),V(l.$$.fragment),u=P(` contains a bit more updated information on techniques used by solvers in practice today.
    `)},l(h){t=D(h,"Why didn't I choose "),X(e.$$.fragment,h),i=D(h," as the course text? I think the presentation and level of "),X(n.$$.fragment,h),a=D(h," is a little better suited for this course. It's also a bit newer, and although the theory found in "),X(s.$$.fragment,h),o=D(h," is evergreen, "),X(l.$$.fragment,h),u=D(h,` contains a bit more updated information on techniques used by solvers in practice today.
    `)},m(h,c){S(h,t,c),K(e,h,c),S(h,i,c),K(n,h,c),S(h,a,c),K(s,h,c),S(h,o,c),K(l,h,c),S(h,u,c),f=!0},p:se,i(h){f||(z(e.$$.fragment,h),z(n.$$.fragment,h),z(s.$$.fragment,h),z(l.$$.fragment,h),f=!0)},o(h){L(e.$$.fragment,h),L(n.$$.fragment,h),L(s.$$.fragment,h),L(l.$$.fragment,h),f=!1},d(h){h&&($(t),$(i),$(a),$(o),$(u)),Y(e,h),Y(n,h),Y(s,h),Y(l,h)}}}function iCe(r){let t,e,i="the",n,a,s;return a=new dd({props:{$$slots:{default:[rCe]},$$scope:{ctx:r}}}),{c(){t=P("potentially "),e=ve("em"),e.textContent=i,n=P(" reference for this subject"),V(a.$$.fragment)},l(o){t=D(o,"potentially "),e=ge(o,"EM",{"data-svelte-h":!0}),Ze(e)!=="svelte-1qknu73"&&(e.textContent=i),n=D(o," reference for this subject"),X(a.$$.fragment,o)},m(o,l){S(o,t,l),S(o,e,l),S(o,n,l),K(a,o,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),a.$set(u)},i(o){s||(z(a.$$.fragment,o),s=!0)},o(o){L(a.$$.fragment,o),s=!1},d(o){o&&($(t),$(e),$(n)),Y(a,o)}}}function nCe(r){let t,e,i,n,a,s,o="Theory of Linear and Integer Programming",l,u,f,h,c="Combinatorial Optimization: Polyhedra and Efficiency",m,d,v,b,g="Model Building in Mathematical Programming",y,_,w,O;return e=new dt({props:{$$slots:{default:[tCe]},$$scope:{ctx:r}}}),n=new dt({props:{$$slots:{default:[iCe]},$$scope:{ctx:r}}}),u=new Ki({props:{refId:"schrijver1998theory"}}),d=new Ki({props:{refId:"schrijver2003combOpt"}}),_=new Ki({props:{refId:"williams2013model"}}),{c(){t=P("There are a few other sources that I recommend, whose contents is woven into this course. I have to start with the book "),V(e.$$.fragment),i=P(", written by Wolsey along with George Nemhauser, which is "),V(n.$$.fragment),a=P(". Two books written by Alexander Schrijver, "),s=ve("em"),s.textContent=o,l=Se(),V(u.$$.fragment),f=P(" and "),h=ve("em"),h.textContent=c,m=Se(),V(d.$$.fragment),v=P(", are excellect resources and cover the subject at an impressive depth (though the writing style is rather terse, and can be a little challenging for readers that are new to the subject). On the less theoretical, more practical side is Williams' book "),b=ve("em"),b.textContent=g,y=Se(),V(_.$$.fragment),w=P(", which gives several examples of taking real-world problems and modeling them to be solved as integer programs (as well as other types of optimization problesm).")},l(I){t=D(I,"There are a few other sources that I recommend, whose contents is woven into this course. I have to start with the book "),X(e.$$.fragment,I),i=D(I,", written by Wolsey along with George Nemhauser, which is "),X(n.$$.fragment,I),a=D(I,". Two books written by Alexander Schrijver, "),s=ge(I,"EM",{"data-svelte-h":!0}),Ze(s)!=="svelte-1csca4f"&&(s.textContent=o),l=Ee(I),X(u.$$.fragment,I),f=D(I," and "),h=ge(I,"EM",{"data-svelte-h":!0}),Ze(h)!=="svelte-bsx7f1"&&(h.textContent=c),m=Ee(I),X(d.$$.fragment,I),v=D(I,", are excellect resources and cover the subject at an impressive depth (though the writing style is rather terse, and can be a little challenging for readers that are new to the subject). On the less theoretical, more practical side is Williams' book "),b=ge(I,"EM",{"data-svelte-h":!0}),Ze(b)!=="svelte-84924t"&&(b.textContent=g),y=Ee(I),X(_.$$.fragment,I),w=D(I,", which gives several examples of taking real-world problems and modeling them to be solved as integer programs (as well as other types of optimization problesm).")},m(I,M){S(I,t,M),K(e,I,M),S(I,i,M),K(n,I,M),S(I,a,M),S(I,s,M),S(I,l,M),K(u,I,M),S(I,f,M),S(I,h,M),S(I,m,M),K(d,I,M),S(I,v,M),S(I,b,M),S(I,y,M),K(_,I,M),S(I,w,M),O=!0},p(I,M){const T={};M&1&&(T.$$scope={dirty:M,ctx:I}),e.$set(T);const E={};M&1&&(E.$$scope={dirty:M,ctx:I}),n.$set(E)},i(I){O||(z(e.$$.fragment,I),z(n.$$.fragment,I),z(u.$$.fragment,I),z(d.$$.fragment,I),z(_.$$.fragment,I),O=!0)},o(I){L(e.$$.fragment,I),L(n.$$.fragment,I),L(u.$$.fragment,I),L(d.$$.fragment,I),L(_.$$.fragment,I),O=!1},d(I){I&&($(t),$(i),$(a),$(s),$(l),$(f),$(h),$(m),$(v),$(b),$(y),$(w)),Y(e,I),Y(n,I),Y(u,I),Y(d,I),Y(_,I)}}}function aCe(r){let t;return{c(){t=P("About the notes")},l(e){t=D(e,"About the notes")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function sCe(r){let t,e="Discussing how to use this site.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1vim3mb"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function oCe(r){let t;return{c(){t=P("couldn't find a digital note-creating system that had the features I wanted, so I built my own")},l(e){t=D(e,"couldn't find a digital note-creating system that had the features I wanted, so I built my own")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function lCe(r){let t;return{c(){t=P("better on wider screens")},l(e){t=D(e,"better on wider screens")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function uCe(r){let t;return{c(){t=P("print these notes from your browser")},l(e){t=D(e,"print these notes from your browser")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function fCe(r){let t;return{c(){t=P("Your mileage may vary")},l(e){t=D(e,"Your mileage may vary")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function cCe(r){let t,e,i,n,a,s,o,l,u,f;return e=new dt({props:{$$slots:{default:[oCe]},$$scope:{ctx:r}}}),n=new dt({props:{$$slots:{default:[lCe]},$$scope:{ctx:r}}}),s=new dt({props:{$$slots:{default:[uCe]},$$scope:{ctx:r}}}),l=new dt({props:{$$slots:{default:[fCe]},$$scope:{ctx:r}}}),{c(){t=P("I have an irrational aversion to paper and think digital formats have so much more to offer. But I "),V(e.$$.fragment),i=P(". The result is what you're seeing now. These notes will display and generally work "),V(n.$$.fragment),a=P(" (e.g. a computer monitor/laptop/tablet as opposed to your phone), but can be accessed by anything with a web browser. If physical copies are your thing, you can "),V(s.$$.fragment),o=P(". From what I've seen, Chrome and Edge will create a decent PDF through their default print utility, while Firefox was lacking. "),V(l.$$.fragment),u=P(".")},l(h){t=D(h,"I have an irrational aversion to paper and think digital formats have so much more to offer. But I "),X(e.$$.fragment,h),i=D(h,". The result is what you're seeing now. These notes will display and generally work "),X(n.$$.fragment,h),a=D(h," (e.g. a computer monitor/laptop/tablet as opposed to your phone), but can be accessed by anything with a web browser. If physical copies are your thing, you can "),X(s.$$.fragment,h),o=D(h,". From what I've seen, Chrome and Edge will create a decent PDF through their default print utility, while Firefox was lacking. "),X(l.$$.fragment,h),u=D(h,".")},m(h,c){S(h,t,c),K(e,h,c),S(h,i,c),K(n,h,c),S(h,a,c),K(s,h,c),S(h,o,c),K(l,h,c),S(h,u,c),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),e.$set(m);const d={};c&1&&(d.$$scope={dirty:c,ctx:h}),n.$set(d);const v={};c&1&&(v.$$scope={dirty:c,ctx:h}),s.$set(v);const b={};c&1&&(b.$$scope={dirty:c,ctx:h}),l.$set(b)},i(h){f||(z(e.$$.fragment,h),z(n.$$.fragment,h),z(s.$$.fragment,h),z(l.$$.fragment,h),f=!0)},o(h){L(e.$$.fragment,h),L(n.$$.fragment,h),L(s.$$.fragment,h),L(l.$$.fragment,h),f=!1},d(h){h&&($(t),$(i),$(a),$(o),$(u)),Y(e,h),Y(n,h),Y(s,h),Y(l,h)}}}function hCe(r){let t;return{c(){t=P("I'd love to hear your feedback on the notes!")},l(e){t=D(e,"I'd love to hear your feedback on the notes!")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function mCe(r){let t,e,i,n;return e=new dt({props:{$$slots:{default:[hCe]},$$scope:{ctx:r}}}),{c(){t=P("Additionally, "),V(e.$$.fragment),i=P(" That means both content (the notes are almost surely littered with typos and unclear wordings) and user experience. If you find mistakes or have any ideas for how to make the notes better, I'd love to hear about them! (Though I'm only a hack of a web developer, so my ability to deliver on any of your technical suggestions may be limited.) I will be keeping track of who has contributed to improving these notes, and will have a prize at the end of the semester for the student(s) responsible for the most/best improvements.")},l(a){t=D(a,"Additionally, "),X(e.$$.fragment,a),i=D(a," That means both content (the notes are almost surely littered with typos and unclear wordings) and user experience. If you find mistakes or have any ideas for how to make the notes better, I'd love to hear about them! (Though I'm only a hack of a web developer, so my ability to deliver on any of your technical suggestions may be limited.) I will be keeping track of who has contributed to improving these notes, and will have a prize at the end of the semester for the student(s) responsible for the most/best improvements.")},m(a,s){S(a,t,s),K(e,a,s),S(a,i,s),n=!0},p(a,s){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){L(e.$$.fragment,a),n=!1},d(a){a&&($(t),$(i)),Y(e,a)}}}function pCe(r){let t;return{c(){t=P(`These notes were created for educational use. With proper attribution,
    readers may freely copy, distribute, or produce derivative work from this
    content, in whole or in part, for any non-commercial use.`)},l(e){t=D(e,`These notes were created for educational use. With proper attribution,
    readers may freely copy, distribute, or produce derivative work from this
    content, in whole or in part, for any non-commercial use.`)},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function dCe(r){let t,e;return t=new dt({props:{$$slots:{default:[pCe]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment)},l(i){X(t.$$.fragment,i)},m(i,n){K(t,i,n),e=!0},p(i,n){const a={};n&1&&(a.$$scope={dirty:n,ctx:i}),t.$set(a)},i(i){e||(z(t.$$.fragment,i),e=!0)},o(i){L(t.$$.fragment,i),e=!1},d(i){Y(t,i)}}}function vCe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I,M,T,E,q,k,j,J,Q;return t=new ei({props:{level:"1",refId:"welcome",$$slots:{context:[SIe],default:[xIe]},$$scope:{ctx:r}}}),i=new vt({props:{$$slots:{default:[EIe]},$$scope:{ctx:r}}}),a=new ei({props:{level:"2",refId:"aboutTheCourse",$$slots:{context:[TIe],default:[kIe]},$$scope:{ctx:r}}}),o=new vt({props:{$$slots:{default:[CIe]},$$scope:{ctx:r}}}),u=new vt({props:{$$slots:{default:[RIe]},$$scope:{ctx:r}}}),h=new vt({props:{$$slots:{default:[FIe]},$$scope:{ctx:r}}}),m=new vt({props:{$$slots:{default:[jIe]},$$scope:{ctx:r}}}),v=new vt({props:{$$slots:{default:[XIe]},$$scope:{ctx:r}}}),g=new ei({props:{level:"3",refId:"textbooks",$$slots:{context:[YIe],default:[KIe]},$$scope:{ctx:r}}}),_=new vt({props:{$$slots:{default:[eCe]},$$scope:{ctx:r}}}),O=new vt({props:{$$slots:{default:[nCe]},$$scope:{ctx:r}}}),M=new ei({props:{level:"2",refId:"aboutTheNotes",$$slots:{context:[sCe],default:[aCe]},$$scope:{ctx:r}}}),E=new vt({props:{$$slots:{default:[cCe]},$$scope:{ctx:r}}}),k=new vt({props:{$$slots:{default:[mCe]},$$scope:{ctx:r}}}),J=new vt({props:{$$slots:{default:[dCe]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment),e=Se(),V(i.$$.fragment),n=Se(),V(a.$$.fragment),s=Se(),V(o.$$.fragment),l=Se(),V(u.$$.fragment),f=Se(),V(h.$$.fragment),c=Se(),V(m.$$.fragment),d=Se(),V(v.$$.fragment),b=Se(),V(g.$$.fragment),y=Se(),V(_.$$.fragment),w=Se(),V(O.$$.fragment),I=Se(),V(M.$$.fragment),T=Se(),V(E.$$.fragment),q=Se(),V(k.$$.fragment),j=Se(),V(J.$$.fragment)},l(R){X(t.$$.fragment,R),e=Ee(R),X(i.$$.fragment,R),n=Ee(R),X(a.$$.fragment,R),s=Ee(R),X(o.$$.fragment,R),l=Ee(R),X(u.$$.fragment,R),f=Ee(R),X(h.$$.fragment,R),c=Ee(R),X(m.$$.fragment,R),d=Ee(R),X(v.$$.fragment,R),b=Ee(R),X(g.$$.fragment,R),y=Ee(R),X(_.$$.fragment,R),w=Ee(R),X(O.$$.fragment,R),I=Ee(R),X(M.$$.fragment,R),T=Ee(R),X(E.$$.fragment,R),q=Ee(R),X(k.$$.fragment,R),j=Ee(R),X(J.$$.fragment,R)},m(R,B){K(t,R,B),S(R,e,B),K(i,R,B),S(R,n,B),K(a,R,B),S(R,s,B),K(o,R,B),S(R,l,B),K(u,R,B),S(R,f,B),K(h,R,B),S(R,c,B),K(m,R,B),S(R,d,B),K(v,R,B),S(R,b,B),K(g,R,B),S(R,y,B),K(_,R,B),S(R,w,B),K(O,R,B),S(R,I,B),K(M,R,B),S(R,T,B),K(E,R,B),S(R,q,B),K(k,R,B),S(R,j,B),K(J,R,B),Q=!0},p(R,[B]){const U={};B&1&&(U.$$scope={dirty:B,ctx:R}),t.$set(U);const te={};B&1&&(te.$$scope={dirty:B,ctx:R}),i.$set(te);const de={};B&1&&(de.$$scope={dirty:B,ctx:R}),a.$set(de);const me={};B&1&&(me.$$scope={dirty:B,ctx:R}),o.$set(me);const ee={};B&1&&(ee.$$scope={dirty:B,ctx:R}),u.$set(ee);const re={};B&1&&(re.$$scope={dirty:B,ctx:R}),h.$set(re);const ue={};B&1&&(ue.$$scope={dirty:B,ctx:R}),m.$set(ue);const Te={};B&1&&(Te.$$scope={dirty:B,ctx:R}),v.$set(Te);const we={};B&1&&(we.$$scope={dirty:B,ctx:R}),g.$set(we);const xe={};B&1&&(xe.$$scope={dirty:B,ctx:R}),_.$set(xe);const Oe={};B&1&&(Oe.$$scope={dirty:B,ctx:R}),O.$set(Oe);const Ie={};B&1&&(Ie.$$scope={dirty:B,ctx:R}),M.$set(Ie);const pe={};B&1&&(pe.$$scope={dirty:B,ctx:R}),E.$set(pe);const be={};B&1&&(be.$$scope={dirty:B,ctx:R}),k.$set(be);const W={};B&1&&(W.$$scope={dirty:B,ctx:R}),J.$set(W)},i(R){Q||(z(t.$$.fragment,R),z(i.$$.fragment,R),z(a.$$.fragment,R),z(o.$$.fragment,R),z(u.$$.fragment,R),z(h.$$.fragment,R),z(m.$$.fragment,R),z(v.$$.fragment,R),z(g.$$.fragment,R),z(_.$$.fragment,R),z(O.$$.fragment,R),z(M.$$.fragment,R),z(E.$$.fragment,R),z(k.$$.fragment,R),z(J.$$.fragment,R),Q=!0)},o(R){L(t.$$.fragment,R),L(i.$$.fragment,R),L(a.$$.fragment,R),L(o.$$.fragment,R),L(u.$$.fragment,R),L(h.$$.fragment,R),L(m.$$.fragment,R),L(v.$$.fragment,R),L(g.$$.fragment,R),L(_.$$.fragment,R),L(O.$$.fragment,R),L(M.$$.fragment,R),L(E.$$.fragment,R),L(k.$$.fragment,R),L(J.$$.fragment,R),Q=!1},d(R){R&&($(e),$(n),$(s),$(l),$(f),$(c),$(d),$(b),$(y),$(w),$(I),$(T),$(q),$(j)),Y(t,R),Y(i,R),Y(a,R),Y(o,R),Y(u,R),Y(h,R),Y(m,R),Y(v,R),Y(g,R),Y(_,R),Y(O,R),Y(M,R),Y(E,R),Y(k,R),Y(J,R)}}}class gCe extends $t{constructor(t){super(),_t(this,t,null,vCe,yt,{})}}function bCe(r){let t,e,i;const n=r[1].default,a=jt(n,r,r[0],null);return{c(){t=ve("blockquote"),e=ve("div"),a&&a.c(),this.h()},l(s){t=ge(s,"BLOCKQUOTE",{class:!0});var o=Pe(t);e=ge(o,"DIV",{class:!0});var l=Pe(e);a&&a.l(l),l.forEach($),o.forEach($),this.h()},h(){fe(e,"class","svelte-4acvjz"),fe(t,"class","svelte-4acvjz")},m(s,o){S(s,t,o),oe(t,e),a&&a.m(e,null),i=!0},p(s,[o]){a&&a.p&&(!i||o&1)&&Ut(a,n,s,s[0],i?Ht(n,s[0],o,null):qt(s[0]),null)},i(s){i||(z(a,s),i=!0)},o(s){L(a,s),i=!1},d(s){s&&$(t),a&&a.d(s)}}}function yCe(r,t,e){let{$$slots:i={},$$scope:n}=t;return r.$$set=a=>{"$$scope"in a&&e(0,n=a.$$scope)},[n,i]}class F$ extends $t{constructor(t){super(),_t(this,t,yCe,bCe,yt,{})}}const $Ce=r=>({}),C7=r=>({}),_Ce=r=>({}),P7=r=>({}),wCe=r=>({}),D7=r=>({}),xCe=r=>({}),N7=r=>({});function R7(r){let t,e,i;const n=r[6].abbrev,a=jt(n,r,r[10],C7);return{c(){t=P("("),a&&a.c(),e=P(")")},l(s){t=D(s,"("),a&&a.l(s),e=D(s,")")},m(s,o){S(s,t,o),a&&a.m(s,o),S(s,e,o),i=!0},p(s,o){a&&a.p&&(!i||o&1024)&&Ut(a,n,s,s[10],i?Ht(n,s[10],o,$Ce):qt(s[10]),C7)},i(s){i||(z(a,s),i=!0)},o(s){L(a,s),i=!1},d(s){s&&($(t),$(e)),a&&a.d(s)}}}function SCe(r){let t,e,i;const n=r[6].name,a=jt(n,r,r[10],P7);let s=r[4].abbrev&&R7(r);return{c(){a&&a.c(),t=Se(),s&&s.c(),e=ct()},l(o){a&&a.l(o),t=Ee(o),s&&s.l(o),e=ct()},m(o,l){a&&a.m(o,l),S(o,t,l),s&&s.m(o,l),S(o,e,l),i=!0},p(o,l){a&&a.p&&(!i||l&1024)&&Ut(a,n,o,o[10],i?Ht(n,o[10],l,_Ce):qt(o[10]),P7),o[4].abbrev?s?(s.p(o,l),l&16&&z(s,1)):(s=R7(o),s.c(),z(s,1),s.m(e.parentNode,e)):s&&(Ji(),L(s,1,1,()=>{s=null}),Qi())},i(o){i||(z(a,o),z(s),i=!0)},o(o){L(a,o),L(s),i=!1},d(o){o&&($(t),$(e)),a&&a.d(o),s&&s.d(o)}}}function ECe(r){let t;const e=r[6].default,i=jt(e,r,r[10],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&1024)&&Ut(i,e,n,n[10],t?Ht(e,n[10],a,null):qt(n[10]),null)},i(n){t||(z(i,n),t=!0)},o(n){L(i,n),t=!1},d(n){i&&i.d(n)}}}function M7(r){let t,e,i,n,a;return{c(){t=ve("a"),e=P("↩︎"),this.h()},l(s){t=ge(s,"A",{style:!0,href:!0});var o=Pe(t);e=D(o,"↩︎"),o.forEach($),this.h()},h(){Ot(t,"float","right"),Ot(t,"font-size","1.4rem"),fe(t,"href",i="#"+r[3])},m(s,o){S(s,t,o),oe(t,e),n||(a=gt(t,"click",r[9]),n=!0)},p(s,o){o&8&&i!==(i="#"+s[3])&&fe(t,"href",i)},d(s){s&&$(t),n=!1,a()}}}function kCe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d;const v=r[6].name,b=jt(v,r,r[10],N7),g=r[6].abbrev,y=jt(g,r,r[10],D7);f=new vt({props:{$$slots:{default:[SCe]},$$scope:{ctx:r}}}),c=new vt({props:{$$slots:{default:[ECe]},$$scope:{ctx:r}}});let _=!!r[3]&&M7(r);return{c(){t=ve("span"),b&&b.c(),i=Se(),n=ve("span"),y&&y.c(),s=Se(),o=ve("div"),l=ve("div"),u=ve("div"),V(f.$$.fragment),h=Se(),V(c.$$.fragment),m=Se(),_&&_.c(),this.h()},l(w){t=ge(w,"SPAN",{id:!0,style:!0});var O=Pe(t);b&&b.l(O),O.forEach($),i=Ee(w),n=ge(w,"SPAN",{id:!0,style:!0});var I=Pe(n);y&&y.l(I),I.forEach($),s=Ee(w),o=ge(w,"DIV",{class:!0});var M=Pe(o);l=ge(M,"DIV",{id:!0});var T=Pe(l);u=ge(T,"DIV",{class:!0});var E=Pe(u);X(f.$$.fragment,E),E.forEach($),h=Ee(T),X(c.$$.fragment,T),T.forEach($),m=Ee(M),_&&_.l(M),M.forEach($),this.h()},h(){fe(t,"id",e=r[0]+":nameSlot"),Ot(t,"display","none"),fe(n,"id",a=r[0]+":abbrevSlot"),Ot(n,"display","none"),fe(u,"class","problemTitle svelte-1l1pya5"),fe(l,"id",r[0]),fe(o,"class","problemContainer svelte-1l1pya5")},m(w,O){S(w,t,O),b&&b.m(t,null),r[7](t),S(w,i,O),S(w,n,O),y&&y.m(n,null),r[8](n),S(w,s,O),S(w,o,O),oe(o,l),oe(l,u),K(f,u,null),oe(l,h),K(c,l,null),oe(o,m),_&&_.m(o,null),d=!0},p(w,[O]){b&&b.p&&(!d||O&1024)&&Ut(b,v,w,w[10],d?Ht(v,w[10],O,xCe):qt(w[10]),N7),(!d||O&1&&e!==(e=w[0]+":nameSlot"))&&fe(t,"id",e),y&&y.p&&(!d||O&1024)&&Ut(y,g,w,w[10],d?Ht(g,w[10],O,wCe):qt(w[10]),D7),(!d||O&1&&a!==(a=w[0]+":abbrevSlot"))&&fe(n,"id",a);const I={};O&1040&&(I.$$scope={dirty:O,ctx:w}),f.$set(I);const M={};O&1024&&(M.$$scope={dirty:O,ctx:w}),c.$set(M),(!d||O&1)&&fe(l,"id",w[0]),w[3]?_?_.p(w,O):(_=M7(w),_.c(),_.m(o,null)):_&&(_.d(1),_=null)},i(w){d||(z(b,w),z(y,w),z(f.$$.fragment,w),z(c.$$.fragment,w),d=!0)},o(w){L(b,w),L(y,w),L(f.$$.fragment,w),L(c.$$.fragment,w),d=!1},d(w){w&&($(t),$(i),$(n),$(s),$(o)),b&&b.d(w),r[7](null),y&&y.d(w),r[8](null),Y(f),Y(c),_&&_.d()}}}function TCe(r,t,e){let i,n;xt(r,ql,d=>e(5,n=d));let{$$slots:a={},$$scope:s}=t;const o=G7(a);let{refId:l}=t,u,f;l="prob:"+l;function h(d){nn[d?"unshift":"push"](()=>{u=d,e(1,u)})}function c(d){nn[d?"unshift":"push"](()=>{f=d,e(2,f)})}const m=()=>{ql.update(d=>(delete d.returnIds[l],d))};return r.$$set=d=>{"refId"in d&&e(0,l=d.refId),"$$scope"in d&&e(10,s=d.$$scope)},r.$$.update=()=>{r.$$.dirty&7&&ql.update(d=>(d.names[l]=u==null?void 0:u.firstChild,d.abbrevs[l]=f==null?void 0:f.firstChild,d)),r.$$.dirty&33&&e(3,i=n.returnIds[l])},[l,u,f,i,o,n,a,h,c,m,s]}class _b extends $t{constructor(t){super(),_t(this,t,TCe,kCe,yt,{refId:0})}}function OCe(r){var n;let t,e=((n=r[2])==null?void 0:n.innerHTML)+"",i;return{c(){t=new Xn(!1),i=ct(),this.h()},l(a){t=Kn(a,!1),i=ct(),this.h()},h(){t.a=i},m(a,s){t.m(e,a,s),S(a,i,s)},p(a,s){var o;s&4&&e!==(e=((o=a[2])==null?void 0:o.innerHTML)+"")&&t.p(e)},i:se,o:se,d(a){a&&($(i),t.d())}}}function ACe(r){var u;let t,e,i,n,a=((u=r[2])==null?void 0:u.innerHTML)+"",s,o,l;return t=new np({props:{show:r[4],divId:r[3]}}),{c(){V(t.$$.fragment),e=Se(),i=ve("span"),n=new Xn(!1),this.h()},l(f){X(t.$$.fragment,f),e=Ee(f),i=ge(f,"SPAN",{class:!0,id:!0,role:!0,tabindex:!0,"aria-label":!0});var h=Pe(i);n=Kn(h,!1),h.forEach($),this.h()},h(){n.a=null,fe(i,"class","eqRef svelte-17atccr"),fe(i,"id",r[3]),fe(i,"role","button"),fe(i,"tabindex","0"),fe(i,"aria-label","Toggle popup")},m(f,h){K(t,f,h),S(f,e,h),S(f,i,h),n.m(a,i),s=!0,o||(l=[gt(i,"keydown",r[6]),gt(i,"click",r[6])],o=!0)},p(f,h){var m;const c={};h&16&&(c.show=f[4]),h&8&&(c.divId=f[3]),t.$set(c),(!s||h&4)&&a!==(a=((m=f[2])==null?void 0:m.innerHTML)+"")&&n.p(a),(!s||h&8)&&fe(i,"id",f[3])},i(f){s||(z(t.$$.fragment,f),s=!0)},o(f){L(t.$$.fragment,f),s=!1},d(f){f&&($(e),$(i)),Y(t,f),o=!1,Sn(l)}}}function ICe(r){let t=r[1]?"a":"span",e,i=(r[1]?"a":"span")&&Ig(r);return{c(){i&&i.c(),e=ct()},l(n){i&&i.l(n),e=ct()},m(n,a){i&&i.m(n,a),S(n,e,a)},p(n,a){n[1],t?yt(t,n[1]?"a":"span")?(i.d(1),i=Ig(n),t=n[1]?"a":"span",i.c(),i.m(e.parentNode,e)):i.p(n,a):(i=Ig(n),t=n[1]?"a":"span",i.c(),i.m(e.parentNode,e))},i:se,o:se,d(n){n&&$(e),i&&i.d(n)}}}function Ig(r){var l;let t,e,i=((l=r[2])==null?void 0:l.innerHTML)+"",n,a,s=[{class:n=Vn(r[1]?"eqRef":"")+" svelte-17atccr"},{href:a=`#${r[0]}`}],o={};for(let u=0;u<s.length;u+=1)o=H7(o,s[u]);return{c(){t=ve(r[1]?"a":"span"),e=new Xn(!1),this.h()},l(u){t=ge(u,((r[1]?"a":"span")||"null").toUpperCase(),{class:!0,href:!0});var f=Pe(t);e=Kn(f,!1),f.forEach($),this.h()},h(){e.a=null,dm(r[1]?"a":"span")(t,o)},m(u,f){S(u,t,f),e.m(i,t)},p(u,f){var h;f&4&&i!==(i=((h=u[2])==null?void 0:h.innerHTML)+"")&&e.p(i),dm(u[1]?"a":"span")(t,o=W7(s,[f&2&&n!==(n=Vn(u[1]?"eqRef":"")+" svelte-17atccr")&&{class:n},f&1&&a!==(a=`#${u[0]}`)&&{href:a}]))},d(u){u&&$(t)}}}function CCe(r){let t,e,i,n;const a=[ICe,ACe,OCe],s=[];function o(l,u){return l[5]?0:l[1]?1:2}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ct()},l(l){e.l(l),i=ct()},m(l,u){s[t].m(l,u),S(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(Ji(),L(s[f],1,1,()=>{s[f]=null}),Qi(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),z(e,1),e.m(i.parentNode,i))},i(l){n||(z(e),n=!0)},o(l){L(e),n=!1},d(l){l&&$(i),s[t].d(l)}}}function PCe(r,t,e){let i,n,a,s,o,l;xt(r,ql,d=>e(9,o=d)),xt(r,Zi,d=>e(5,l=d));let{refId:u}=t,{desiredRefStyle:f="abbrev"}=t,{link:h=!0}=t;u="prob:"+u;const c=(o.numRefs[u]||0)+1;ql.update(d=>(Object.keys(d.numRefs).includes(u)||(d.numRefs[u]=0),d.numRefs[u]+=1,d));const m=()=>{e(4,n=!n);const d=document.getElementById(i);if((d==null?void 0:d.childElementCount)===1){let v=0;const b=document.createElement("div");d==null||d.appendChild(b),setTimeout(function(){const y=document.getElementById(u).cloneNode(!0);y.id=y.id||"",y.id+="Ref"+c,d==null||d.appendChild(y);const _=document.createElement("a");_.innerHTML="jump to",_.setAttribute("href","#"+u),_.style.fontSize="1.2rem",_.style.float="right",_.onclick=()=>{ql.update(w=>(w.returnIds[u]=i,w))},d==null||d.appendChild(_)},v)}};return r.$$set=d=>{"refId"in d&&e(0,u=d.refId),"desiredRefStyle"in d&&e(7,f=d.desiredRefStyle),"link"in d&&e(1,h=d.link)},r.$$.update=()=>{r.$$.dirty&1&&e(3,i=u+"-ref"+c),r.$$.dirty&641&&e(8,a=o.abbrevs[u]?f:"name"),r.$$.dirty&769&&e(2,s=a==="name"?o.names[u]:o.abbrevs[u])},e(4,n=!1),[u,h,s,i,n,l,m,f,a,o]}class Wn extends $t{constructor(t){super(),_t(this,t,PCe,CCe,yt,{refId:0,desiredRefStyle:7,link:1})}}function DCe(r){let t,e,i=r[2].numbers[r[0]]+"",n,a,s,o;return{c(){t=ve("a"),e=P("Section "),n=P(i),this.h()},l(l){t=ge(l,"A",{id:!0,href:!0});var u=Pe(t);e=D(u,"Section "),n=D(u,i),u.forEach($),this.h()},h(){fe(t,"id",r[1]),fe(t,"href",a="#"+r[0])},m(l,u){S(l,t,u),oe(t,e),oe(t,n),s||(o=gt(t,"click",r[3]),s=!0)},p(l,[u]){u&5&&i!==(i=l[2].numbers[l[0]]+"")&&Gs(n,i),u&2&&fe(t,"id",l[1]),u&1&&a!==(a="#"+l[0])&&fe(t,"href",a)},i:se,o:se,d(l){l&&$(t),s=!1,o()}}}function NCe(r,t,e){let i,n;xt(r,qr,l=>e(2,n=l));let{refId:a}=t;const s=n.numRefs[a]||1;qr.update(l=>(Object.keys(l.numRefs).includes(a)||(l.numRefs[a]=0),l.numRefs[a]+=1,l));const o=()=>{qr.update(l=>(l.returnIds[a]=i,l))};return r.$$set=l=>{"refId"in l&&e(0,a=l.refId)},r.$$.update=()=>{r.$$.dirty&1&&e(0,a="sec:"+a),r.$$.dirty&1&&e(1,i=a+"-ref"+s)},[a,i,n,o]}class GI extends $t{constructor(t){super(),_t(this,t,NCe,DCe,yt,{refId:0})}}function RCe(r){let t;return{c(){t=P("Definitions")},l(e){t=D(e,"Definitions")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function MCe(r){let t,e="What is combinatorial optimization anyway?";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1bmw5sv"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function BCe(r){let t;return{c(){t=P("what is combinatorial optimization?")},l(e){t=D(e,"what is combinatorial optimization?")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function FCe(r){let t;return{c(){t=P('definition of "optimization"')},l(e){t=D(e,'definition of "optimization"')},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function zCe(r){let t;return{c(){t=P("Mathematics. a mathematical technique for finding a maximum or minimum value of a function of several variables subject to a set of constraints, as linear programming or systems analysis.")},l(e){t=D(e,"Mathematics. a mathematical technique for finding a maximum or minimum value of a function of several variables subject to a set of constraints, as linear programming or systems analysis.")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function LCe(r){let t,e,i="the fact of optimizing; making the best of anything.",n,a,s="the condition of being optimized.",o,l,u,f;return u=new dt({props:{$$slots:{default:[zCe]},$$scope:{ctx:r}}}),{c(){t=ve("ol"),e=ve("li"),e.textContent=i,n=Se(),a=ve("li"),a.textContent=s,o=Se(),l=ve("li"),V(u.$$.fragment)},l(h){t=ge(h,"OL",{});var c=Pe(t);e=ge(c,"LI",{"data-svelte-h":!0}),Ze(e)!=="svelte-13p2ae2"&&(e.textContent=i),n=Ee(c),a=ge(c,"LI",{"data-svelte-h":!0}),Ze(a)!=="svelte-62xkzt"&&(a.textContent=s),o=Ee(c),l=ge(c,"LI",{});var m=Pe(l);X(u.$$.fragment,m),m.forEach($),c.forEach($)},m(h,c){S(h,t,c),oe(t,e),oe(t,n),oe(t,a),oe(t,o),oe(t,l),K(u,l,null),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),u.$set(m)},i(h){f||(z(u.$$.fragment,h),f=!0)},o(h){L(u.$$.fragment,h),f=!1},d(h){h&&$(t),Y(u)}}}function jCe(r){let t;return{c(){t=P("shipping company determining how to deliver packages")},l(e){t=D(e,"shipping company determining how to deliver packages")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function UCe(r){let t;return{c(){t=P("airline determining what flights to offer")},l(e){t=D(e,"airline determining what flights to offer")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function qCe(r){let t,e,i,n,a="dictionary.com",s,o,l,u,f,h,c,m,d,v;return e=new dt({props:{$$slots:{default:[BCe]},$$scope:{ctx:r}}}),o=new dt({props:{$$slots:{default:[FCe]},$$scope:{ctx:r}}}),u=new F$({props:{$$slots:{default:[LCe]},$$scope:{ctx:r}}}),h=new dt({props:{$$slots:{default:[jCe]},$$scope:{ctx:r}}}),m=new dt({props:{$$slots:{default:[UCe]},$$scope:{ctx:r}}}),{c(){t=P("So, "),V(e.$$.fragment),i=P(" Maybe we should break it down into parts. As of the time of writing, the "),n=ve("a"),n.textContent=a,s=Se(),V(o.$$.fragment),l=P(` is:
    `),V(u.$$.fragment),f=P(`
    Definition number 3 matches perfectly with what we mean in this course. Abstractly, we're talking about maximizing or minimizing a function over some set of feasible solutions. Concretely, it could be something like a `),V(h.$$.fragment),c=P(" with the least overall cost. Or an "),V(m.$$.fragment),d=P(", considering crew/fuel/airport costs, subject to meeting projected customer demand."),this.h()},l(b){t=D(b,"So, "),X(e.$$.fragment,b),i=D(b," Maybe we should break it down into parts. As of the time of writing, the "),n=ge(b,"A",{href:!0,"data-svelte-h":!0}),Ze(n)!=="svelte-cbklv7"&&(n.textContent=a),s=Ee(b),X(o.$$.fragment,b),l=D(b,` is:
    `),X(u.$$.fragment,b),f=D(b,`
    Definition number 3 matches perfectly with what we mean in this course. Abstractly, we're talking about maximizing or minimizing a function over some set of feasible solutions. Concretely, it could be something like a `),X(h.$$.fragment,b),c=D(b," with the least overall cost. Or an "),X(m.$$.fragment,b),d=D(b,", considering crew/fuel/airport costs, subject to meeting projected customer demand."),this.h()},h(){fe(n,"href","https://www.dictionary.com/browse/optimization")},m(b,g){S(b,t,g),K(e,b,g),S(b,i,g),S(b,n,g),S(b,s,g),K(o,b,g),S(b,l,g),K(u,b,g),S(b,f,g),K(h,b,g),S(b,c,g),K(m,b,g),S(b,d,g),v=!0},p(b,g){const y={};g&1&&(y.$$scope={dirty:g,ctx:b}),e.$set(y);const _={};g&1&&(_.$$scope={dirty:g,ctx:b}),o.$set(_);const w={};g&1&&(w.$$scope={dirty:g,ctx:b}),u.$set(w);const O={};g&1&&(O.$$scope={dirty:g,ctx:b}),h.$set(O);const I={};g&1&&(I.$$scope={dirty:g,ctx:b}),m.$set(I)},i(b){v||(z(e.$$.fragment,b),z(o.$$.fragment,b),z(u.$$.fragment,b),z(h.$$.fragment,b),z(m.$$.fragment,b),v=!0)},o(b){L(e.$$.fragment,b),L(o.$$.fragment,b),L(u.$$.fragment,b),L(h.$$.fragment,b),L(m.$$.fragment,b),v=!1},d(b){b&&($(t),$(i),$(n),$(s),$(l),$(f),$(c),$(d)),Y(e,b),Y(o,b),Y(u,b),Y(h,b),Y(m,b)}}}function HCe(r){let t;return{c(){t=P('definition of "combinatorial"')},l(e){t=D(e,'definition of "combinatorial"')},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function GCe(r){let t;return{c(){t=P("of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration.")},l(e){t=D(e,"of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration.")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function WCe(r){let t,e,i="of, relating to, or involving the combination of elements, as in phonetics or music.",n,a,s,o,l,u="Mathematics. of or relating to combination, or the modes, properties, etc., of combinations.",f;return s=new dt({props:{$$slots:{default:[GCe]},$$scope:{ctx:r}}}),{c(){t=ve("ol"),e=ve("li"),e.textContent=i,n=Se(),a=ve("li"),V(s.$$.fragment),o=Se(),l=ve("li"),l.textContent=u},l(h){t=ge(h,"OL",{});var c=Pe(t);e=ge(c,"LI",{"data-svelte-h":!0}),Ze(e)!=="svelte-1mo51td"&&(e.textContent=i),n=Ee(c),a=ge(c,"LI",{});var m=Pe(a);X(s.$$.fragment,m),m.forEach($),o=Ee(c),l=ge(c,"LI",{"data-svelte-h":!0}),Ze(l)!=="svelte-1kqpjdy"&&(l.textContent=u),c.forEach($)},m(h,c){S(h,t,c),oe(t,e),oe(t,n),oe(t,a),K(s,a,null),oe(t,o),oe(t,l),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),s.$set(m)},i(h){f||(z(s.$$.fragment,h),f=!0)},o(h){L(s.$$.fragment,h),f=!1},d(h){h&&$(t),Y(s)}}}function VCe(r){let t;return{c(){t=P('"combinatorial" describes the set of feasible solutions')},l(e){t=D(e,'"combinatorial" describes the set of feasible solutions')},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function XCe(r){let t,e,i,n,a="dictionary.com",s,o,l,u,f,h;return e=new dt({props:{$$slots:{default:[HCe]},$$scope:{ctx:r}}}),o=new F$({props:{$$slots:{default:[WCe]},$$scope:{ctx:r}}}),u=new dt({props:{$$slots:{default:[VCe]},$$scope:{ctx:r}}}),{c(){t=P("Meanwhile, the "),V(e.$$.fragment),i=P(" (also from "),n=ve("a"),n.textContent=a,s=P(`) is:
    `),V(o.$$.fragment),l=P(`
    Most useful for us is definition number 2, "of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration." We will see that `),V(u.$$.fragment),f=P(" in the problems we are about to study."),this.h()},l(c){t=D(c,"Meanwhile, the "),X(e.$$.fragment,c),i=D(c," (also from "),n=ge(c,"A",{href:!0,"data-svelte-h":!0}),Ze(n)!=="svelte-1gvq6s2"&&(n.textContent=a),s=D(c,`) is:
    `),X(o.$$.fragment,c),l=D(c,`
    Most useful for us is definition number 2, "of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration." We will see that `),X(u.$$.fragment,c),f=D(c," in the problems we are about to study."),this.h()},h(){fe(n,"href","https://www.dictionary.com/browse/combinatorial")},m(c,m){S(c,t,m),K(e,c,m),S(c,i,m),S(c,n,m),S(c,s,m),K(o,c,m),S(c,l,m),K(u,c,m),S(c,f,m),h=!0},p(c,m){const d={};m&1&&(d.$$scope={dirty:m,ctx:c}),e.$set(d);const v={};m&1&&(v.$$scope={dirty:m,ctx:c}),o.$set(v);const b={};m&1&&(b.$$scope={dirty:m,ctx:c}),u.$set(b)},i(c){h||(z(e.$$.fragment,c),z(o.$$.fragment,c),z(u.$$.fragment,c),h=!0)},o(c){L(e.$$.fragment,c),L(o.$$.fragment,c),L(u.$$.fragment,c),h=!1},d(c){c&&($(t),$(i),$(n),$(s),$(l),$(f)),Y(e,c),Y(o,c),Y(u,c)}}}function KCe(r){let t;return{c(){t=P("combinatorial optimization")},l(e){t=D(e,"combinatorial optimization")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function YCe(r){let t,e="A subfield of mathematical optimization that consists of finding an optimal object from a finite set of objects, where the set of feasible solutions is discrete or can be reduced to a discrete set.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1rgbx2d"&&(t.textContent=e),this.h()},h(){fe(t,"slot","definition")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function JCe(r){let t;return{c(){t=P("a subfield of mathematical optimization that consists of finding an optimal object from a finite set of objects, where the set of feasible solutions is discrete or can be reduced to a discrete set")},l(e){t=D(e,"a subfield of mathematical optimization that consists of finding an optimal object from a finite set of objects, where the set of feasible solutions is discrete or can be reduced to a discrete set")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function QCe(r){let t,e;return t=new vt({props:{$$slots:{default:[JCe]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment)},l(i){X(t.$$.fragment,i)},m(i,n){K(t,i,n),e=!0},p(i,n){const a={};n&1&&(a.$$scope={dirty:n,ctx:i}),t.$set(a)},i(i){e||(z(t.$$.fragment,i),e=!0)},o(i){L(t.$$.fragment,i),e=!1},d(i){Y(t,i)}}}function ZCe(r){let t,e,i="Wikipedia page",n,a,s,o,l;return a=new Zr({props:{refId:"combinatorialOptimization",$$slots:{definition:[YCe],default:[KCe]},$$scope:{ctx:r}}}),o=new F$({props:{$$slots:{default:[QCe]},$$scope:{ctx:r}}}),{c(){t=P("Time to bring it all together. The "),e=ve("a"),e.textContent=i,n=P(" on "),V(a.$$.fragment),s=P(` describes it as:
    `),V(o.$$.fragment),this.h()},l(u){t=D(u,"Time to bring it all together. The "),e=ge(u,"A",{href:!0,"data-svelte-h":!0}),Ze(e)!=="svelte-1xuusl"&&(e.textContent=i),n=D(u," on "),X(a.$$.fragment,u),s=D(u,` describes it as:
    `),X(o.$$.fragment,u),this.h()},h(){fe(e,"href","https://en.wikipedia.org/wiki/Combinatorial_optimization")},m(u,f){S(u,t,f),S(u,e,f),S(u,n,f),K(a,u,f),S(u,s,f),K(o,u,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),a.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),o.$set(c)},i(u){l||(z(a.$$.fragment,u),z(o.$$.fragment,u),l=!0)},o(u){L(a.$$.fragment,u),L(o.$$.fragment,u),l=!1},d(u){u&&($(t),$(e),$(n),$(s)),Y(a,u),Y(o,u)}}}function ePe(r){let t;return{c(){t=P("define a combinatorial optimization problem as")},l(e){t=D(e,"define a combinatorial optimization problem as")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function tPe(r){let t,e,i,n;return e=new GI({props:{refId:"symbols"}}),{c(){t=P("Notation alert! We'll be using lots of mathematical notation like this in the course. Most if it is standard, and you might already be familiar with it if you've taken some higher-level math course. I'll try to point out new notation in class as we go along, but you can always check "),V(e.$$.fragment),i=P(` in the appendix for information on the symbols used.
    `)},l(a){t=D(a,"Notation alert! We'll be using lots of mathematical notation like this in the course. Most if it is standard, and you might already be familiar with it if you've taken some higher-level math course. I'll try to point out new notation in class as we go along, but you can always check "),X(e.$$.fragment,a),i=D(a,` in the appendix for information on the symbols used.
    `)},m(a,s){S(a,t,s),K(e,a,s),S(a,i,s),n=!0},p:se,i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){L(e.$$.fragment,a),n=!1},d(a){a&&($(t),$(i)),Y(e,a)}}}function rPe(r){let t,e,i,n,a,s,o;return e=new Ki({props:{refId:"wolsey2020"}}),n=new dt({props:{$$slots:{default:[ePe]},$$scope:{ctx:r}}}),a=new dd({props:{$$slots:{default:[tPe]},$$scope:{ctx:r}}}),{c(){t=P("For this class, we will adopt the formalism of "),V(e.$$.fragment),i=P(" and "),V(n.$$.fragment),V(a.$$.fragment),s=P(":")},l(l){t=D(l,"For this class, we will adopt the formalism of "),X(e.$$.fragment,l),i=D(l," and "),X(n.$$.fragment,l),X(a.$$.fragment,l),s=D(l,":")},m(l,u){S(l,t,u),K(e,l,u),S(l,i,u),K(n,l,u),K(a,l,u),S(l,s,u),o=!0},p(l,u){const f={};u&1&&(f.$$scope={dirty:u,ctx:l}),n.$set(f);const h={};u&1&&(h.$$scope={dirty:u,ctx:l}),a.$set(h)},i(l){o||(z(e.$$.fragment,l),z(n.$$.fragment,l),z(a.$$.fragment,l),o=!0)},o(l){L(e.$$.fragment,l),L(n.$$.fragment,l),L(a.$$.fragment,l),o=!1},d(l){l&&($(t),$(i),$(s)),Y(e,l),Y(n,l),Y(a,l)}}}function iPe(r){let t=String.raw`N=\{1,\dots,n\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function nPe(r){let t=String.raw`c{:underscore:}j`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function aPe(r){let t=String.raw`j\in N`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function sPe(r){let t=String.raw`\mathcal{F}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function oPe(r){let t=String.raw`N`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function lPe(r){let t=String.raw`
        \min{:underscore:}{S\subseteq N}\left\{\sum{:underscore:}{j\in S}c{:underscore:}j:S\in\mathcal{F}\right\}
    `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function uPe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m;return e=new Ae({props:{$$slots:{default:[iPe]},$$scope:{ctx:r}}}),n=new Ae({props:{$$slots:{default:[nPe]},$$scope:{ctx:r}}}),s=new Ae({props:{$$slots:{default:[aPe]},$$scope:{ctx:r}}}),l=new Ae({props:{$$slots:{default:[sPe]},$$scope:{ctx:r}}}),f=new Ae({props:{$$slots:{default:[oPe]},$$scope:{ctx:r}}}),c=new Pi({props:{$$slots:{default:[lPe]},$$scope:{ctx:r}}}),{c(){t=P("Given a finite set "),V(e.$$.fragment),i=P(", weights "),V(n.$$.fragment),a=P(" for each "),V(s.$$.fragment),o=P(", and a set "),V(l.$$.fragment),u=P(" of feasible subsets of "),V(f.$$.fragment),h=P(`, find a minimum weight feasible subset, i.e.
    `),V(c.$$.fragment)},l(d){t=D(d,"Given a finite set "),X(e.$$.fragment,d),i=D(d,", weights "),X(n.$$.fragment,d),a=D(d," for each "),X(s.$$.fragment,d),o=D(d,", and a set "),X(l.$$.fragment,d),u=D(d," of feasible subsets of "),X(f.$$.fragment,d),h=D(d,`, find a minimum weight feasible subset, i.e.
    `),X(c.$$.fragment,d)},m(d,v){S(d,t,v),K(e,d,v),S(d,i,v),K(n,d,v),S(d,a,v),K(s,d,v),S(d,o,v),K(l,d,v),S(d,u,v),K(f,d,v),S(d,h,v),K(c,d,v),m=!0},p(d,v){const b={};v&1&&(b.$$scope={dirty:v,ctx:d}),e.$set(b);const g={};v&1&&(g.$$scope={dirty:v,ctx:d}),n.$set(g);const y={};v&1&&(y.$$scope={dirty:v,ctx:d}),s.$set(y);const _={};v&1&&(_.$$scope={dirty:v,ctx:d}),l.$set(_);const w={};v&1&&(w.$$scope={dirty:v,ctx:d}),f.$set(w);const O={};v&1&&(O.$$scope={dirty:v,ctx:d}),c.$set(O)},i(d){m||(z(e.$$.fragment,d),z(n.$$.fragment,d),z(s.$$.fragment,d),z(l.$$.fragment,d),z(f.$$.fragment,d),z(c.$$.fragment,d),m=!0)},o(d){L(e.$$.fragment,d),L(n.$$.fragment,d),L(s.$$.fragment,d),L(l.$$.fragment,d),L(f.$$.fragment,d),L(c.$$.fragment,d),m=!1},d(d){d&&($(t),$(i),$(a),$(o),$(u),$(h)),Y(e,d),Y(n,d),Y(s,d),Y(l,d),Y(f,d),Y(c,d)}}}function fPe(r){let t,e="Combinatorial Optimization Problem";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1hl8dok"&&(t.textContent=e),this.h()},h(){fe(t,"slot","name")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function cPe(r){let t,e="COP";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-jwiro9"&&(t.textContent=e),this.h()},h(){fe(t,"slot","abbrev")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function hPe(r){let t,e,i,n,a,s,o,l,u,f,h,c;return t=new ei({props:{level:"2",refId:"combOptDefs",$$slots:{context:[MCe],default:[RCe]},$$scope:{ctx:r}}}),i=new vt({props:{$$slots:{default:[qCe]},$$scope:{ctx:r}}}),a=new vt({props:{$$slots:{default:[XCe]},$$scope:{ctx:r}}}),o=new vt({props:{$$slots:{default:[ZCe]},$$scope:{ctx:r}}}),u=new vt({props:{$$slots:{default:[rPe]},$$scope:{ctx:r}}}),h=new _b({props:{refId:"combOpt",$$slots:{abbrev:[cPe],name:[fPe],default:[uPe]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment),e=Se(),V(i.$$.fragment),n=Se(),V(a.$$.fragment),s=Se(),V(o.$$.fragment),l=Se(),V(u.$$.fragment),f=Se(),V(h.$$.fragment)},l(m){X(t.$$.fragment,m),e=Ee(m),X(i.$$.fragment,m),n=Ee(m),X(a.$$.fragment,m),s=Ee(m),X(o.$$.fragment,m),l=Ee(m),X(u.$$.fragment,m),f=Ee(m),X(h.$$.fragment,m)},m(m,d){K(t,m,d),S(m,e,d),K(i,m,d),S(m,n,d),K(a,m,d),S(m,s,d),K(o,m,d),S(m,l,d),K(u,m,d),S(m,f,d),K(h,m,d),c=!0},p(m,[d]){const v={};d&1&&(v.$$scope={dirty:d,ctx:m}),t.$set(v);const b={};d&1&&(b.$$scope={dirty:d,ctx:m}),i.$set(b);const g={};d&1&&(g.$$scope={dirty:d,ctx:m}),a.$set(g);const y={};d&1&&(y.$$scope={dirty:d,ctx:m}),o.$set(y);const _={};d&1&&(_.$$scope={dirty:d,ctx:m}),u.$set(_);const w={};d&1&&(w.$$scope={dirty:d,ctx:m}),h.$set(w)},i(m){c||(z(t.$$.fragment,m),z(i.$$.fragment,m),z(a.$$.fragment,m),z(o.$$.fragment,m),z(u.$$.fragment,m),z(h.$$.fragment,m),c=!0)},o(m){L(t.$$.fragment,m),L(i.$$.fragment,m),L(a.$$.fragment,m),L(o.$$.fragment,m),L(u.$$.fragment,m),L(h.$$.fragment,m),c=!1},d(m){m&&($(e),$(n),$(s),$(l),$(f)),Y(t,m),Y(i,m),Y(a,m),Y(o,m),Y(u,m),Y(h,m)}}}class mPe extends $t{constructor(t){super(),_t(this,t,null,hPe,yt,{})}}function pPe(r){let t,e,i,n;return e=new Wn({props:{refId:"combOpt",link:!1}}),{c(){t=P("Example "),V(e.$$.fragment),i=P("s")},l(a){t=D(a,"Example "),X(e.$$.fragment,a),i=D(a,"s")},m(a,s){S(a,t,s),K(e,a,s),S(a,i,s),n=!0},p:se,i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){L(e.$$.fragment,a),n=!1},d(a){a&&($(t),$(i)),Y(e,a)}}}function dPe(r){let t,e,i,n,a;return i=new Wn({props:{refId:"combOpt",link:!1}}),{c(){t=ve("span"),e=P("Presenting a few example "),V(i.$$.fragment),n=P("s to help make sense of the definition."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"Presenting a few example "),X(i.$$.fragment,o),n=D(o,"s to help make sense of the definition."),o.forEach($),this.h()},h(){fe(t,"slot","context")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function vPe(r){let t,e,i,n;return e=new Wn({props:{refId:"combOpt"}}),{c(){t=P("present a few "),V(e.$$.fragment),i=P("s and examine how they fit the framework")},l(a){t=D(a,"present a few "),X(e.$$.fragment,a),i=D(a,"s and examine how they fit the framework")},m(a,s){S(a,t,s),K(e,a,s),S(a,i,s),n=!0},p:se,i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){L(e.$$.fragment,a),n=!1},d(a){a&&($(t),$(i)),Y(e,a)}}}function gPe(r){let t;return{c(){t=P("graph theory")},l(e){t=D(e,"graph theory")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function bPe(r){let t,e,i,n,a,s,o,l;return e=new dt({props:{$$slots:{default:[vPe]},$$scope:{ctx:r}}}),n=new dt({props:{$$slots:{default:[gPe]},$$scope:{ctx:r}}}),s=new GI({props:{refId:"graphTheory"}}),{c(){t=P("It might take a few examples to really internalize the definition. So, let's go ahead and "),V(e.$$.fragment),i=P(". Several of these are most convenient to define in the language of "),V(n.$$.fragment),a=P(". If you've seen graphs before, then great! If not, you can brush up on the preliminaries in the appendix, "),V(s.$$.fragment),o=P(".")},l(u){t=D(u,"It might take a few examples to really internalize the definition. So, let's go ahead and "),X(e.$$.fragment,u),i=D(u,". Several of these are most convenient to define in the language of "),X(n.$$.fragment,u),a=D(u,". If you've seen graphs before, then great! If not, you can brush up on the preliminaries in the appendix, "),X(s.$$.fragment,u),o=D(u,".")},m(u,f){S(u,t,f),K(e,u,f),S(u,i,f),K(n,u,f),S(u,a,f),K(s,u,f),S(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c)},i(u){l||(z(e.$$.fragment,u),z(n.$$.fragment,u),z(s.$$.fragment,u),l=!0)},o(u){L(e.$$.fragment,u),L(n.$$.fragment,u),L(s.$$.fragment,u),l=!1},d(u){u&&($(t),$(i),$(a),$(o)),Y(e,u),Y(n,u),Y(s,u)}}}function yPe(r){let t;return{c(){t=P("Shortest paths")},l(e){t=D(e,"Shortest paths")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function $Pe(r){let t,e,i,n,a;return i=new Wn({props:{refId:"combOpt",link:!1}}),{c(){t=ve("span"),e=P("Showing how a simple problem fits into the "),V(i.$$.fragment),n=P(" framework"),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"Showing how a simple problem fits into the "),X(i.$$.fragment,o),n=D(o," framework"),o.forEach($),this.h()},h(){fe(t,"slot","context")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function _Pe(r){let t;return{c(){t=P("We'll start with a basic one:")},l(e){t=D(e,"We'll start with a basic one:")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function wPe(r){let t=String.raw`D=(V,A)`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function xPe(r){let t=String.raw`s,t\in V`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function SPe(r){let t=String.raw`c{:underscore:}{ij}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function EPe(r){let t=String.raw`i,j\in A`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function kPe(r){let t=String.raw`s`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function TPe(r){let t=String.raw`t`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function OPe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d;return e=new Ae({props:{$$slots:{default:[wPe]},$$scope:{ctx:r}}}),n=new Ae({props:{$$slots:{default:[xPe]},$$scope:{ctx:r}}}),s=new Ae({props:{$$slots:{default:[SPe]},$$scope:{ctx:r}}}),l=new Ae({props:{$$slots:{default:[EPe]},$$scope:{ctx:r}}}),f=new Ae({props:{$$slots:{default:[kPe]},$$scope:{ctx:r}}}),c=new Ae({props:{$$slots:{default:[TPe]},$$scope:{ctx:r}}}),{c(){t=P("Given a digraph "),V(e.$$.fragment),i=P(", two nodes "),V(n.$$.fragment),a=P(", and non-negative arc costs "),V(s.$$.fragment),o=P(" for each "),V(l.$$.fragment),u=P(", find a minimum-cost path from "),V(f.$$.fragment),h=P(" to "),V(c.$$.fragment),m=P(".")},l(v){t=D(v,"Given a digraph "),X(e.$$.fragment,v),i=D(v,", two nodes "),X(n.$$.fragment,v),a=D(v,", and non-negative arc costs "),X(s.$$.fragment,v),o=D(v," for each "),X(l.$$.fragment,v),u=D(v,", find a minimum-cost path from "),X(f.$$.fragment,v),h=D(v," to "),X(c.$$.fragment,v),m=D(v,".")},m(v,b){S(v,t,b),K(e,v,b),S(v,i,b),K(n,v,b),S(v,a,b),K(s,v,b),S(v,o,b),K(l,v,b),S(v,u,b),K(f,v,b),S(v,h,b),K(c,v,b),S(v,m,b),d=!0},p(v,b){const g={};b&1&&(g.$$scope={dirty:b,ctx:v}),e.$set(g);const y={};b&1&&(y.$$scope={dirty:b,ctx:v}),n.$set(y);const _={};b&1&&(_.$$scope={dirty:b,ctx:v}),s.$set(_);const w={};b&1&&(w.$$scope={dirty:b,ctx:v}),l.$set(w);const O={};b&1&&(O.$$scope={dirty:b,ctx:v}),f.$set(O);const I={};b&1&&(I.$$scope={dirty:b,ctx:v}),c.$set(I)},i(v){d||(z(e.$$.fragment,v),z(n.$$.fragment,v),z(s.$$.fragment,v),z(l.$$.fragment,v),z(f.$$.fragment,v),z(c.$$.fragment,v),d=!0)},o(v){L(e.$$.fragment,v),L(n.$$.fragment,v),L(s.$$.fragment,v),L(l.$$.fragment,v),L(f.$$.fragment,v),L(c.$$.fragment,v),d=!1},d(v){v&&($(t),$(i),$(a),$(o),$(u),$(h),$(m)),Y(e,v),Y(n,v),Y(s,v),Y(l,v),Y(f,v),Y(c,v)}}}function APe(r){let t,e="Shortest Path Problem";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-lm1nek"&&(t.textContent=e),this.h()},h(){fe(t,"slot","name")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function IPe(r){let t=String.raw`s`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function CPe(r){let t=String.raw`t`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function PPe(r){let t;return{c(){t=P("Why don't you go ahead and try to figure it out the best path by visual inspection. We'll come back and solve this example later.")},l(e){t=D(e,"Why don't you go ahead and try to figure it out the best path by visual inspection. We'll come back and solve this example later.")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function DPe(r){let t,e,i,n,a,s,o,l,u,f;return e=new qo({props:{refId:"shortestPathFirstExample"}}),n=new Ae({props:{$$slots:{default:[IPe]},$$scope:{ctx:r}}}),s=new Ae({props:{$$slots:{default:[CPe]},$$scope:{ctx:r}}}),l=new dd({props:{$$slots:{default:[PPe]},$$scope:{ctx:r}}}),{c(){t=P("Pretty simple setup. We have some directed graph, maybe like the one below in "),V(e.$$.fragment),i=P(". We want to find the lowest-cost path from node "),V(n.$$.fragment),a=P(" on the left of the graph to node "),V(s.$$.fragment),o=P(" on the right, where arc costs are written directly on each arc in the figure"),V(l.$$.fragment),u=P(".")},l(h){t=D(h,"Pretty simple setup. We have some directed graph, maybe like the one below in "),X(e.$$.fragment,h),i=D(h,". We want to find the lowest-cost path from node "),X(n.$$.fragment,h),a=D(h," on the left of the graph to node "),X(s.$$.fragment,h),o=D(h," on the right, where arc costs are written directly on each arc in the figure"),X(l.$$.fragment,h),u=D(h,".")},m(h,c){S(h,t,c),K(e,h,c),S(h,i,c),K(n,h,c),S(h,a,c),K(s,h,c),S(h,o,c),K(l,h,c),S(h,u,c),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),n.$set(m);const d={};c&1&&(d.$$scope={dirty:c,ctx:h}),s.$set(d);const v={};c&1&&(v.$$scope={dirty:c,ctx:h}),l.$set(v)},i(h){f||(z(e.$$.fragment,h),z(n.$$.fragment,h),z(s.$$.fragment,h),z(l.$$.fragment,h),f=!0)},o(h){L(e.$$.fragment,h),L(n.$$.fragment,h),L(s.$$.fragment,h),L(l.$$.fragment,h),f=!1},d(h){h&&($(t),$(i),$(a),$(o),$(u)),Y(e,h),Y(n,h),Y(s,h),Y(l,h)}}}function NPe(r){let t,e;return t=new Gc({props:{nodes:[{id:1,label:"s",x:0,y:.5},{id:2,label:"a",x:.3,y:1},{id:3,label:"b",x:.3,y:0},{id:4,label:"c",x:.7,y:1},{id:5,label:"d",x:.7,y:0},{id:6,label:"t",x:1,y:.5}],edges:["s-a-3","s-b-4","a-c-5","a-d-2","b-d-2","d-c-2","c-t-2","d-t-6"],directed:!0}}),{c(){V(t.$$.fragment)},l(i){X(t.$$.fragment,i)},m(i,n){K(t,i,n),e=!0},p:se,i(i){e||(z(t.$$.fragment,i),e=!0)},o(i){L(t.$$.fragment,i),e=!1},d(i){Y(t,i)}}}function RPe(r){let t=String.raw`N`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function MPe(r){let t=String.raw`
        \begin{align*}
        N = \{&(s,a), (s,b), (a,d), (a,c),\\
              &(b,d), (c,t), (d,c), (d,t) \}
        \end{align*}
    `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function BPe(r){let t=String.raw`c{:underscore:}j`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function FPe(r){let t=String.raw`j\in N`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function zPe(r){let t=String.raw`c{:underscore:}{sa}=3`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function LPe(r){let t=String.raw`c{:underscore:}{sb}=4`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function jPe(r){let t=String.raw`\mathcal{F}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function UPe(r){let t=String.raw`N`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function qPe(r){let t=String.raw`s`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function HPe(r){let t=String.raw`t`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function GPe(r){let t=String.raw`
        \begin{align*}
        \{(s,b),(b,d),(d,t)\}&\in\mathcal{F},\\
        \{(s,a),(a,d),(d,c),(c,t)\}&\in\mathcal{F}
        \end{align*}
    `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function WPe(r){let t=String.raw`s`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function VPe(r){let t=String.raw`t`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function XPe(r){let t=String.raw`
        \{(s,a),(a,c)\}\not\in\mathcal{F}
    `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function KPe(r){let t=String.raw`t`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function YPe(r){let t=String.raw`s-t`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function JPe(r){let t=String.raw`
        \min{:underscore:}{S\subseteq N}\left\{\sum{:underscore:}{j\in S}c{:underscore:}j:S\in\mathcal{F}\right\}
    `+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function QPe(r){let t=String.raw`N,c`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function ZPe(r){let t=String.raw`\mathcal{F}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function eDe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I,M,T,E,q,k,j,J,Q,R,B,U,te,de,me,ee,re,ue,Te,we,xe,Oe,Ie,pe,be;return e=new Wn({props:{refId:"combOpt"}}),n=new Ae({props:{$$slots:{default:[RPe]},$$scope:{ctx:r}}}),s=new Pi({props:{$$slots:{default:[MPe]},$$scope:{ctx:r}}}),l=new Ae({props:{$$slots:{default:[BPe]},$$scope:{ctx:r}}}),f=new Ae({props:{$$slots:{default:[FPe]},$$scope:{ctx:r}}}),c=new Ae({props:{$$slots:{default:[zPe]},$$scope:{ctx:r}}}),d=new Ae({props:{$$slots:{default:[LPe]},$$scope:{ctx:r}}}),b=new Ae({props:{$$slots:{default:[jPe]},$$scope:{ctx:r}}}),y=new Ae({props:{$$slots:{default:[UPe]},$$scope:{ctx:r}}}),w=new Ae({props:{$$slots:{default:[qPe]},$$scope:{ctx:r}}}),I=new Ae({props:{$$slots:{default:[HPe]},$$scope:{ctx:r}}}),T=new Pi({props:{$$slots:{default:[GPe]},$$scope:{ctx:r}}}),q=new Ae({props:{$$slots:{default:[WPe]},$$scope:{ctx:r}}}),j=new Ae({props:{$$slots:{default:[VPe]},$$scope:{ctx:r}}}),Q=new Pi({props:{$$slots:{default:[XPe]},$$scope:{ctx:r}}}),B=new Ae({props:{$$slots:{default:[KPe]},$$scope:{ctx:r}}}),te=new Wn({props:{refId:"shortestPath"}}),me=new Wn({props:{refId:"combOpt"}}),re=new Ae({props:{$$slots:{default:[YPe]},$$scope:{ctx:r}}}),Te=new Pi({props:{$$slots:{default:[JPe]},$$scope:{ctx:r}}}),xe=new Ae({props:{$$slots:{default:[QPe]},$$scope:{ctx:r}}}),Ie=new Ae({props:{$$slots:{default:[ZPe]},$$scope:{ctx:r}}}),{c(){t=P("How does this fit into our definition of a "),V(e.$$.fragment),i=P("? Well, our finite set "),V(n.$$.fragment),a=P(` is the set of arcs in the network, so
    `),V(s.$$.fragment),o=P(`
    The weights `),V(l.$$.fragment),u=P(" for each "),V(f.$$.fragment),h=P(" are the arc costs displayed in the diagram, so "),V(c.$$.fragment),m=P(", "),V(d.$$.fragment),v=P(", and so on. And the set "),V(b.$$.fragment),g=P(" of feasible subsets of "),V(y.$$.fragment),_=P(" are sets of arcs that create a valid path from "),V(w.$$.fragment),O=P(" to "),V(I.$$.fragment),M=P(`. So for example we have
    `),V(T.$$.fragment),E=P(`
    since they all denote paths from `),V(q.$$.fragment),k=P(" to "),V(j.$$.fragment),J=P(`, but 
    `),V(Q.$$.fragment),R=P(`
    since that path doesn't end at `),V(B.$$.fragment),U=P(". So we can see that the "),V(te.$$.fragment),de=P(" indeed fits the "),V(me.$$.fragment),ee=P(" framework, since finding the minimum-cost "),V(re.$$.fragment),ue=P(` path corresponds to finding
    `),V(Te.$$.fragment),we=P(`
    with `),V(xe.$$.fragment),Oe=P(", and "),V(Ie.$$.fragment),pe=P(" as we've just defined them.")},l(W){t=D(W,"How does this fit into our definition of a "),X(e.$$.fragment,W),i=D(W,"? Well, our finite set "),X(n.$$.fragment,W),a=D(W,` is the set of arcs in the network, so
    `),X(s.$$.fragment,W),o=D(W,`
    The weights `),X(l.$$.fragment,W),u=D(W," for each "),X(f.$$.fragment,W),h=D(W," are the arc costs displayed in the diagram, so "),X(c.$$.fragment,W),m=D(W,", "),X(d.$$.fragment,W),v=D(W,", and so on. And the set "),X(b.$$.fragment,W),g=D(W," of feasible subsets of "),X(y.$$.fragment,W),_=D(W," are sets of arcs that create a valid path from "),X(w.$$.fragment,W),O=D(W," to "),X(I.$$.fragment,W),M=D(W,`. So for example we have
    `),X(T.$$.fragment,W),E=D(W,`
    since they all denote paths from `),X(q.$$.fragment,W),k=D(W," to "),X(j.$$.fragment,W),J=D(W,`, but 
    `),X(Q.$$.fragment,W),R=D(W,`
    since that path doesn't end at `),X(B.$$.fragment,W),U=D(W,". So we can see that the "),X(te.$$.fragment,W),de=D(W," indeed fits the "),X(me.$$.fragment,W),ee=D(W," framework, since finding the minimum-cost "),X(re.$$.fragment,W),ue=D(W,` path corresponds to finding
    `),X(Te.$$.fragment,W),we=D(W,`
    with `),X(xe.$$.fragment,W),Oe=D(W,", and "),X(Ie.$$.fragment,W),pe=D(W," as we've just defined them.")},m(W,ae){S(W,t,ae),K(e,W,ae),S(W,i,ae),K(n,W,ae),S(W,a,ae),K(s,W,ae),S(W,o,ae),K(l,W,ae),S(W,u,ae),K(f,W,ae),S(W,h,ae),K(c,W,ae),S(W,m,ae),K(d,W,ae),S(W,v,ae),K(b,W,ae),S(W,g,ae),K(y,W,ae),S(W,_,ae),K(w,W,ae),S(W,O,ae),K(I,W,ae),S(W,M,ae),K(T,W,ae),S(W,E,ae),K(q,W,ae),S(W,k,ae),K(j,W,ae),S(W,J,ae),K(Q,W,ae),S(W,R,ae),K(B,W,ae),S(W,U,ae),K(te,W,ae),S(W,de,ae),K(me,W,ae),S(W,ee,ae),K(re,W,ae),S(W,ue,ae),K(Te,W,ae),S(W,we,ae),K(xe,W,ae),S(W,Oe,ae),K(Ie,W,ae),S(W,pe,ae),be=!0},p(W,ae){const ze={};ae&1&&(ze.$$scope={dirty:ae,ctx:W}),n.$set(ze);const Le={};ae&1&&(Le.$$scope={dirty:ae,ctx:W}),s.$set(Le);const Ge={};ae&1&&(Ge.$$scope={dirty:ae,ctx:W}),l.$set(Ge);const G={};ae&1&&(G.$$scope={dirty:ae,ctx:W}),f.$set(G);const C={};ae&1&&(C.$$scope={dirty:ae,ctx:W}),c.$set(C);const N={};ae&1&&(N.$$scope={dirty:ae,ctx:W}),d.$set(N);const Z={};ae&1&&(Z.$$scope={dirty:ae,ctx:W}),b.$set(Z);const he={};ae&1&&(he.$$scope={dirty:ae,ctx:W}),y.$set(he);const ke={};ae&1&&(ke.$$scope={dirty:ae,ctx:W}),w.$set(ke);const Ne={};ae&1&&(Ne.$$scope={dirty:ae,ctx:W}),I.$set(Ne);const ot={};ae&1&&(ot.$$scope={dirty:ae,ctx:W}),T.$set(ot);const bt={};ae&1&&(bt.$$scope={dirty:ae,ctx:W}),q.$set(bt);const mt={};ae&1&&(mt.$$scope={dirty:ae,ctx:W}),j.$set(mt);const Wt={};ae&1&&(Wt.$$scope={dirty:ae,ctx:W}),Q.$set(Wt);const wt={};ae&1&&(wt.$$scope={dirty:ae,ctx:W}),B.$set(wt);const hr={};ae&1&&(hr.$$scope={dirty:ae,ctx:W}),re.$set(hr);const Mr={};ae&1&&(Mr.$$scope={dirty:ae,ctx:W}),Te.$set(Mr);const yr={};ae&1&&(yr.$$scope={dirty:ae,ctx:W}),xe.$set(yr);const wr={};ae&1&&(wr.$$scope={dirty:ae,ctx:W}),Ie.$set(wr)},i(W){be||(z(e.$$.fragment,W),z(n.$$.fragment,W),z(s.$$.fragment,W),z(l.$$.fragment,W),z(f.$$.fragment,W),z(c.$$.fragment,W),z(d.$$.fragment,W),z(b.$$.fragment,W),z(y.$$.fragment,W),z(w.$$.fragment,W),z(I.$$.fragment,W),z(T.$$.fragment,W),z(q.$$.fragment,W),z(j.$$.fragment,W),z(Q.$$.fragment,W),z(B.$$.fragment,W),z(te.$$.fragment,W),z(me.$$.fragment,W),z(re.$$.fragment,W),z(Te.$$.fragment,W),z(xe.$$.fragment,W),z(Ie.$$.fragment,W),be=!0)},o(W){L(e.$$.fragment,W),L(n.$$.fragment,W),L(s.$$.fragment,W),L(l.$$.fragment,W),L(f.$$.fragment,W),L(c.$$.fragment,W),L(d.$$.fragment,W),L(b.$$.fragment,W),L(y.$$.fragment,W),L(w.$$.fragment,W),L(I.$$.fragment,W),L(T.$$.fragment,W),L(q.$$.fragment,W),L(j.$$.fragment,W),L(Q.$$.fragment,W),L(B.$$.fragment,W),L(te.$$.fragment,W),L(me.$$.fragment,W),L(re.$$.fragment,W),L(Te.$$.fragment,W),L(xe.$$.fragment,W),L(Ie.$$.fragment,W),be=!1},d(W){W&&($(t),$(i),$(a),$(o),$(u),$(h),$(m),$(v),$(g),$(_),$(O),$(M),$(E),$(k),$(J),$(R),$(U),$(de),$(ee),$(ue),$(we),$(Oe),$(pe)),Y(e,W),Y(n,W),Y(s,W),Y(l,W),Y(f,W),Y(c,W),Y(d,W),Y(b,W),Y(y,W),Y(w,W),Y(I,W),Y(T,W),Y(q,W),Y(j,W),Y(Q,W),Y(B,W),Y(te,W),Y(me,W),Y(re,W),Y(Te,W),Y(xe,W),Y(Ie,W)}}}function tDe(r){let t;return{c(){t=P("Knapsack")},l(e){t=D(e,"Knapsack")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function rDe(r){let t,e,i,n,a;return i=new Wn({props:{refId:"combOpt",link:!1}}),{c(){t=ve("span"),e=P("Another example problem that fits the "),V(i.$$.fragment),n=P(" framework"),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"Another example problem that fits the "),X(i.$$.fragment,o),n=D(o," framework"),o.forEach($),this.h()},h(){fe(t,"slot","context")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function iDe(r){let t,e,i,n;return e=new Wn({props:{refId:"combOpt"}}),{c(){t=P("Here's another inuitive problem that fits the "),V(e.$$.fragment),i=P(" framework:")},l(a){t=D(a,"Here's another inuitive problem that fits the "),X(e.$$.fragment,a),i=D(a," framework:")},m(a,s){S(a,t,s),K(e,a,s),S(a,i,s),n=!0},p:se,i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){L(e.$$.fragment,a),n=!1},d(a){a&&($(t),$(i)),Y(e,a)}}}function nDe(r){let t=String.raw`J=\{1,\dots,n\}`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function aDe(r){let t=String.raw`n`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function sDe(r){let t=String.raw`w{:underscore:}j`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function oDe(r){let t=String.raw`v{:underscore:}j`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function lDe(r){let t=String.raw`j\in J`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function uDe(r){let t=String.raw`b`+"",e;return{c(){e=P(t)},l(i){e=D(i,t)},m(i,n){S(i,e,n)},p:se,d(i){i&&$(e)}}}function fDe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d;return e=new Ae({props:{$$slots:{default:[nDe]},$$scope:{ctx:r}}}),n=new Ae({props:{$$slots:{default:[aDe]},$$scope:{ctx:r}}}),s=new Ae({props:{$$slots:{default:[sDe]},$$scope:{ctx:r}}}),l=new Ae({props:{$$slots:{default:[oDe]},$$scope:{ctx:r}}}),f=new Ae({props:{$$slots:{default:[lDe]},$$scope:{ctx:r}}}),c=new Ae({props:{$$slots:{default:[uDe]},$$scope:{ctx:r}}}),{c(){t=P("You are given a set "),V(e.$$.fragment),i=P(" of "),V(n.$$.fragment),a=P(" objects, a weight "),V(s.$$.fragment),o=P(" and a value "),V(l.$$.fragment),u=P(" for each "),V(f.$$.fragment),h=P(", and an overall weight limit "),V(c.$$.fragment),m=P(". Select a set of objects whose combined weight is below the weight limit, such that the sum of their values is maximized.")},l(v){t=D(v,"You are given a set "),X(e.$$.fragment,v),i=D(v," of "),X(n.$$.fragment,v),a=D(v," objects, a weight "),X(s.$$.fragment,v),o=D(v," and a value "),X(l.$$.fragment,v),u=D(v," for each "),X(f.$$.fragment,v),h=D(v,", and an overall weight limit "),X(c.$$.fragment,v),m=D(v,". Select a set of objects whose combined weight is below the weight limit, such that the sum of their values is maximized.")},m(v,b){S(v,t,b),K(e,v,b),S(v,i,b),K(n,v,b),S(v,a,b),K(s,v,b),S(v,o,b),K(l,v,b),S(v,u,b),K(f,v,b),S(v,h,b),K(c,v,b),S(v,m,b),d=!0},p(v,b){const g={};b&1&&(g.$$scope={dirty:b,ctx:v}),e.$set(g);const y={};b&1&&(y.$$scope={dirty:b,ctx:v}),n.$set(y);const _={};b&1&&(_.$$scope={dirty:b,ctx:v}),s.$set(_);const w={};b&1&&(w.$$scope={dirty:b,ctx:v}),l.$set(w);const O={};b&1&&(O.$$scope={dirty:b,ctx:v}),f.$set(O);const I={};b&1&&(I.$$scope={dirty:b,ctx:v}),c.$set(I)},i(v){d||(z(e.$$.fragment,v),z(n.$$.fragment,v),z(s.$$.fragment,v),z(l.$$.fragment,v),z(f.$$.fragment,v),z(c.$$.fragment,v),d=!0)},o(v){L(e.$$.fragment,v),L(n.$$.fragment,v),L(s.$$.fragment,v),L(l.$$.fragment,v),L(f.$$.fragment,v),L(c.$$.fragment,v),d=!1},d(v){v&&($(t),$(i),$(a),$(o),$(u),$(h),$(m)),Y(e,v),Y(n,v),Y(s,v),Y(l,v),Y(f,v),Y(c,v)}}}function cDe(r){let t,e="Knapsack Problem";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1d4c9nn"&&(t.textContent=e),this.h()},h(){fe(t,"slot","name")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function hDe(r){let t;return{c(){t=P("This fits the framework because...")},l(e){t=D(e,"This fits the framework because...")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function mDe(r){let t;return{c(){t=P("Other examples")},l(e){t=D(e,"Other examples")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function pDe(r){let t,e,i,n,a;return i=new Wn({props:{refId:"combOpt"}}),{c(){t=ve("span"),e=P("Defining more sample "),V(i.$$.fragment),n=P("s, to give a sense of the breadth of problems available."),this.h()},l(s){t=ge(s,"SPAN",{slot:!0});var o=Pe(t);e=D(o,"Defining more sample "),X(i.$$.fragment,o),n=D(o,"s, to give a sense of the breadth of problems available."),o.forEach($),this.h()},h(){fe(t,"slot","context")},m(s,o){S(s,t,o),oe(t,e),K(i,t,null),oe(t,n),a=!0},p:se,i(s){a||(z(i.$$.fragment,s),a=!0)},o(s){L(i.$$.fragment,s),a=!1},d(s){s&&$(t),Y(i)}}}function dDe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I,M,T,E,q;return t=new ei({props:{level:"2",refId:"exampleCOPs",$$slots:{context:[dPe],default:[pPe]},$$scope:{ctx:r}}}),i=new vt({props:{$$slots:{default:[bPe]},$$scope:{ctx:r}}}),a=new ei({props:{level:"3",refId:"shortestPathDef",$$slots:{context:[$Pe],default:[yPe]},$$scope:{ctx:r}}}),o=new vt({props:{$$slots:{default:[_Pe]},$$scope:{ctx:r}}}),u=new _b({props:{refId:"shortestPath",$$slots:{name:[APe],default:[OPe]},$$scope:{ctx:r}}}),h=new vt({props:{$$slots:{default:[DPe]},$$scope:{ctx:r}}}),m=new af({props:{refId:"shortestPathFirstExample",$$slots:{default:[NPe]},$$scope:{ctx:r}}}),v=new vt({props:{$$slots:{default:[eDe]},$$scope:{ctx:r}}}),g=new ei({props:{level:"3",refId:"knapsackDef",$$slots:{context:[rDe],default:[tDe]},$$scope:{ctx:r}}}),_=new vt({props:{$$slots:{default:[iDe]},$$scope:{ctx:r}}}),O=new _b({props:{refId:"knapsack",$$slots:{name:[cDe],default:[fDe]},$$scope:{ctx:r}}}),M=new vt({props:{$$slots:{default:[hDe]},$$scope:{ctx:r}}}),E=new ei({props:{level:"3",refId:"otherExampleDefs",$$slots:{context:[pDe],default:[mDe]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment),e=Se(),V(i.$$.fragment),n=Se(),V(a.$$.fragment),s=Se(),V(o.$$.fragment),l=Se(),V(u.$$.fragment),f=Se(),V(h.$$.fragment),c=Se(),V(m.$$.fragment),d=Se(),V(v.$$.fragment),b=Se(),V(g.$$.fragment),y=Se(),V(_.$$.fragment),w=Se(),V(O.$$.fragment),I=Se(),V(M.$$.fragment),T=Se(),V(E.$$.fragment)},l(k){X(t.$$.fragment,k),e=Ee(k),X(i.$$.fragment,k),n=Ee(k),X(a.$$.fragment,k),s=Ee(k),X(o.$$.fragment,k),l=Ee(k),X(u.$$.fragment,k),f=Ee(k),X(h.$$.fragment,k),c=Ee(k),X(m.$$.fragment,k),d=Ee(k),X(v.$$.fragment,k),b=Ee(k),X(g.$$.fragment,k),y=Ee(k),X(_.$$.fragment,k),w=Ee(k),X(O.$$.fragment,k),I=Ee(k),X(M.$$.fragment,k),T=Ee(k),X(E.$$.fragment,k)},m(k,j){K(t,k,j),S(k,e,j),K(i,k,j),S(k,n,j),K(a,k,j),S(k,s,j),K(o,k,j),S(k,l,j),K(u,k,j),S(k,f,j),K(h,k,j),S(k,c,j),K(m,k,j),S(k,d,j),K(v,k,j),S(k,b,j),K(g,k,j),S(k,y,j),K(_,k,j),S(k,w,j),K(O,k,j),S(k,I,j),K(M,k,j),S(k,T,j),K(E,k,j),q=!0},p(k,[j]){const J={};j&1&&(J.$$scope={dirty:j,ctx:k}),t.$set(J);const Q={};j&1&&(Q.$$scope={dirty:j,ctx:k}),i.$set(Q);const R={};j&1&&(R.$$scope={dirty:j,ctx:k}),a.$set(R);const B={};j&1&&(B.$$scope={dirty:j,ctx:k}),o.$set(B);const U={};j&1&&(U.$$scope={dirty:j,ctx:k}),u.$set(U);const te={};j&1&&(te.$$scope={dirty:j,ctx:k}),h.$set(te);const de={};j&1&&(de.$$scope={dirty:j,ctx:k}),m.$set(de);const me={};j&1&&(me.$$scope={dirty:j,ctx:k}),v.$set(me);const ee={};j&1&&(ee.$$scope={dirty:j,ctx:k}),g.$set(ee);const re={};j&1&&(re.$$scope={dirty:j,ctx:k}),_.$set(re);const ue={};j&1&&(ue.$$scope={dirty:j,ctx:k}),O.$set(ue);const Te={};j&1&&(Te.$$scope={dirty:j,ctx:k}),M.$set(Te);const we={};j&1&&(we.$$scope={dirty:j,ctx:k}),E.$set(we)},i(k){q||(z(t.$$.fragment,k),z(i.$$.fragment,k),z(a.$$.fragment,k),z(o.$$.fragment,k),z(u.$$.fragment,k),z(h.$$.fragment,k),z(m.$$.fragment,k),z(v.$$.fragment,k),z(g.$$.fragment,k),z(_.$$.fragment,k),z(O.$$.fragment,k),z(M.$$.fragment,k),z(E.$$.fragment,k),q=!0)},o(k){L(t.$$.fragment,k),L(i.$$.fragment,k),L(a.$$.fragment,k),L(o.$$.fragment,k),L(u.$$.fragment,k),L(h.$$.fragment,k),L(m.$$.fragment,k),L(v.$$.fragment,k),L(g.$$.fragment,k),L(_.$$.fragment,k),L(O.$$.fragment,k),L(M.$$.fragment,k),L(E.$$.fragment,k),q=!1},d(k){k&&($(e),$(n),$(s),$(l),$(f),$(c),$(d),$(b),$(y),$(w),$(I),$(T)),Y(t,k),Y(i,k),Y(a,k),Y(o,k),Y(u,k),Y(h,k),Y(m,k),Y(v,k),Y(g,k),Y(_,k),Y(O,k),Y(M,k),Y(E,k)}}}class vDe extends $t{constructor(t){super(),_t(this,t,null,dDe,yt,{})}}function gDe(r){let t;return{c(){t=P("Intro to combinatorial optimization")},l(e){t=D(e,"Intro to combinatorial optimization")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function bDe(r){let t,e="Presenting the basics of the field of combinatorial optimization.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-pcgmef"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function yDe(r){let t;return{c(){t=P("introduce the field of combinatorial optimization")},l(e){t=D(e,"introduce the field of combinatorial optimization")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function $De(r){let t,e,i,n;return e=new dt({props:{$$slots:{default:[yDe]},$$scope:{ctx:r}}}),{c(){t=P("In this section, we'll "),V(e.$$.fragment),i=P(". We'll describe several common problems that fall under the combinatorial optimization umbrella. For a few of these problems, we'll also present special-case algorithms used to solve them.")},l(a){t=D(a,"In this section, we'll "),X(e.$$.fragment,a),i=D(a,". We'll describe several common problems that fall under the combinatorial optimization umbrella. For a few of these problems, we'll also present special-case algorithms used to solve them.")},m(a,s){S(a,t,s),K(e,a,s),S(a,i,s),n=!0},p(a,s){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(z(e.$$.fragment,a),n=!0)},o(a){L(e.$$.fragment,a),n=!1},d(a){a&&($(t),$(i)),Y(e,a)}}}function _De(r){let t,e,i,n,a,s,o,l;return t=new ei({props:{level:"1",refId:"combOptIntro",$$slots:{context:[bDe],default:[gDe]},$$scope:{ctx:r}}}),i=new vt({props:{$$slots:{default:[$De]},$$scope:{ctx:r}}}),a=new mPe({}),o=new vDe({}),{c(){V(t.$$.fragment),e=Se(),V(i.$$.fragment),n=Se(),V(a.$$.fragment),s=Se(),V(o.$$.fragment)},l(u){X(t.$$.fragment,u),e=Ee(u),X(i.$$.fragment,u),n=Ee(u),X(a.$$.fragment,u),s=Ee(u),X(o.$$.fragment,u)},m(u,f){K(t,u,f),S(u,e,f),K(i,u,f),S(u,n,f),K(a,u,f),S(u,s,f),K(o,u,f),l=!0},p(u,[f]){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),t.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){l||(z(t.$$.fragment,u),z(i.$$.fragment,u),z(a.$$.fragment,u),z(o.$$.fragment,u),l=!0)},o(u){L(t.$$.fragment,u),L(i.$$.fragment,u),L(a.$$.fragment,u),L(o.$$.fragment,u),l=!1},d(u){u&&($(e),$(n),$(s)),Y(t,u),Y(i,u),Y(a,u),Y(o,u)}}}class wDe extends $t{constructor(t){super(),_t(this,t,null,_De,yt,{})}}function xDe(r){let t,e;return{c(){t=ve("div"),this.h()},l(i){t=ge(i,"DIV",{id:!0}),Pe(t).forEach($),this.h()},h(){fe(t,"id",e=r[0]+":InGlossary")},m(i,n){S(i,t,n),r[2](t)},p(i,[n]){n&1&&e!==(e=i[0]+":InGlossary")&&fe(t,"id",e)},i:se,o:se,d(i){i&&$(t),r[2](null)}}}function SDe(r,t,e){let{refId:i}=t,n;hu(()=>{setTimeout(()=>{const s=document.getElementById(i+":glossaryEntry");e(1,n.innerHTML=(s==null?void 0:s.innerHTML)||"",n)},1)});function a(s){nn[s?"unshift":"push"](()=>{n=s,e(1,n)})}return r.$$set=s=>{"refId"in s&&e(0,i=s.refId)},[i,n,a]}class EDe extends $t{constructor(t){super(),_t(this,t,SDe,xDe,yt,{refId:0})}}function B7(r,t,e){const i=r.slice();return i[2]=t[e],i}function kDe(r){let t;return{c(){t=P("Glossary")},l(e){t=D(e,"Glossary")},m(e,i){S(e,t,i)},d(e){e&&$(t)}}}function TDe(r){let t,e="Definitions of key terms.";return{c(){t=ve("span"),t.textContent=e,this.h()},l(i){t=ge(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-13rw5b"&&(t.textContent=e),this.h()},h(){fe(t,"slot","context")},m(i,n){S(i,t,n)},p:se,d(i){i&&$(t)}}}function F7(r){let t,e;return t=new EDe({props:{refId:r[2]}}),{c(){V(t.$$.fragment)},l(i){X(t.$$.fragment,i)},m(i,n){K(t,i,n),e=!0},p(i,n){const a={};n&1&&(a.refId=i[2]),t.$set(a)},i(i){e||(z(t.$$.fragment,i),e=!0)},o(i){L(t.$$.fragment,i),e=!1},d(i){Y(t,i)}}}function ODe(r){let t,e,i,n;t=new ei({props:{level:"1",refId:"glossary",includeDispSecNum:!1,$$slots:{context:[TDe],default:[kDe]},$$scope:{ctx:r}}});let a=Ms(r[0]),s=[];for(let l=0;l<a.length;l+=1)s[l]=F7(B7(r,a,l));const o=l=>L(s[l],1,1,()=>{s[l]=null});return{c(){V(t.$$.fragment),e=Se();for(let l=0;l<s.length;l+=1)s[l].c();i=ct()},l(l){X(t.$$.fragment,l),e=Ee(l);for(let u=0;u<s.length;u+=1)s[u].l(l);i=ct()},m(l,u){K(t,l,u),S(l,e,u);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(l,u);S(l,i,u),n=!0},p(l,[u]){const f={};if(u&32&&(f.$$scope={dirty:u,ctx:l}),t.$set(f),u&1){a=Ms(l[0]);let h;for(h=0;h<a.length;h+=1){const c=B7(l,a,h);s[h]?(s[h].p(c,u),z(s[h],1)):(s[h]=F7(c),s[h].c(),z(s[h],1),s[h].m(i.parentNode,i))}for(Ji(),h=a.length;h<s.length;h+=1)o(h);Qi()}},i(l){if(!n){z(t.$$.fragment,l);for(let u=0;u<a.length;u+=1)z(s[u]);n=!0}},o(l){L(t.$$.fragment,l),s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)L(s[u]);n=!1},d(l){l&&($(e),$(i)),Y(t,l),Km(s,l)}}}function ADe(r,t,e){let i,n;return xt(r,Kg,a=>e(1,n=a)),r.$$.update=()=>{r.$$.dirty&2&&e(0,i=Object.keys(n.plainText).sort((a,s)=>n.plainText[a].toLowerCase()<n.plainText[s].toLocaleLowerCase()?-1:1))},[i,n]}class IDe extends $t{constructor(t){super(),_t(this,t,ADe,ODe,yt,{})}}function CDe(r){let t,e,i,n,a,s,o,l,u,f;return t=new gCe({}),i=new wDe({}),a=new pIe({}),o=new IDe({}),u=new bIe({}),{c(){V(t.$$.fragment),e=Se(),V(i.$$.fragment),n=Se(),V(a.$$.fragment),s=Se(),V(o.$$.fragment),l=Se(),V(u.$$.fragment)},l(h){X(t.$$.fragment,h),e=Ee(h),X(i.$$.fragment,h),n=Ee(h),X(a.$$.fragment,h),s=Ee(h),X(o.$$.fragment,h),l=Ee(h),X(u.$$.fragment,h)},m(h,c){K(t,h,c),S(h,e,c),K(i,h,c),S(h,n,c),K(a,h,c),S(h,s,c),K(o,h,c),S(h,l,c),K(u,h,c),f=!0},p:se,i(h){f||(z(t.$$.fragment,h),z(i.$$.fragment,h),z(a.$$.fragment,h),z(o.$$.fragment,h),z(u.$$.fragment,h),f=!0)},o(h){L(t.$$.fragment,h),L(i.$$.fragment,h),L(a.$$.fragment,h),L(o.$$.fragment,h),L(u.$$.fragment,h),f=!1},d(h){h&&($(e),$(n),$(s),$(l)),Y(t,h),Y(i,h),Y(a,h),Y(o,h),Y(u,h)}}}class PDe extends $t{constructor(t){super(),_t(this,t,null,CDe,yt,{})}}function z7(r,t,e){const i=r.slice();return i[16]=t[e],i}function DDe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m=Ms(r[3]),d=[];for(let v=0;v<m.length;v+=1)d[v]=j7(z7(r,m,v));return{c(){t=ve("div"),e=ve("div"),i=ve("br"),n=Se();for(let v=0;v<d.length;v+=1)d[v].c();a=Se(),s=ve("div"),o=Se(),l=ve("br"),u=Se(),f=ve("br"),this.h()},l(v){t=ge(v,"DIV",{class:!0,role:!0});var b=Pe(t);e=ge(b,"DIV",{class:!0});var g=Pe(e);i=ge(g,"BR",{}),n=Ee(g);for(let y=0;y<d.length;y+=1)d[y].l(g);g.forEach($),a=Ee(b),s=ge(b,"DIV",{id:!0,style:!0}),Pe(s).forEach($),b.forEach($),o=Ee(v),l=ge(v,"BR",{}),u=Ee(v),f=ge(v,"BR",{}),this.h()},h(){fe(e,"class","sectionDisp"),fe(s,"id","sectionContextDisplay"),Ot(s,"display","none"),Ot(s,"margin-top","0.5rem"),fe(t,"class","sectionDispContainer svelte-13t11d"),fe(t,"role","tooltip")},m(v,b){S(v,t,b),oe(t,e),oe(e,i),oe(e,n);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(e,null);oe(t,a),oe(t,s),S(v,o,b),S(v,l,b),S(v,u,b),S(v,f,b),h||(c=gt(t,"mouseleave",r[8]),h=!0)},p(v,b){if(b&216){m=Ms(v[3]);let g;for(g=0;g<m.length;g+=1){const y=z7(v,m,g);d[g]?d[g].p(y,b):(d[g]=j7(y),d[g].c(),d[g].m(e,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=m.length}},d(v){v&&($(t),$(o),$(l),$(u),$(f)),Km(d,v),h=!1,c()}}}function NDe(r){let t;return{c(){t=ve("span")},l(e){t=ge(e,"SPAN",{}),Pe(t).forEach($)},m(e,i){S(e,t,i)},p:se,d(e){e&&$(t)}}}function L7(r){let t,e="❯",i;return{c(){t=ve("span"),t.textContent=e,i=P(" "),this.h()},l(n){t=ge(n,"SPAN",{style:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-1ivmefi"&&(t.textContent=e),i=D(n," "),this.h()},h(){Ot(t,"font-size","0.8rem")},m(n,a){S(n,t,a),S(n,i,a)},d(n){n&&($(t),$(i))}}}function j7(r){let t,e,i=r[6].headingTexts[r[16]]+"",n,a,s,o,l;function u(){return r[12](r[16])}function f(){return r[13](r[16])}function h(){return r[14](r[16])}function c(){return r[15](r[16])}let m=r[16]!==r[3][r[3].length-1]&&L7();return{c(){t=ve("span"),e=new Xn(!1),a=Se(),m&&m.c(),s=ct(),this.h()},l(d){t=ge(d,"SPAN",{class:!0,style:!0,role:!0,tabindex:!0});var v=Pe(t);e=Kn(v,!1),v.forEach($),a=Ee(d),m&&m.l(d),s=ct(),this.h()},h(){e.a=null,fe(t,"class","sectionDispText svelte-13t11d"),fe(t,"style",n=r[4]===r[16]?"font-weight:bold;":""),fe(t,"role","button"),fe(t,"tabindex","0")},m(d,v){S(d,t,v),e.m(i,t),S(d,a,v),m&&m.m(d,v),S(d,s,v),o||(l=[gt(t,"click",u),gt(t,"keydown",f),gt(t,"mouseover",h),gt(t,"focus",c)],o=!0)},p(d,v){r=d,v&72&&i!==(i=r[6].headingTexts[r[16]]+"")&&e.p(i),v&24&&n!==(n=r[4]===r[16]?"font-weight:bold;":"")&&fe(t,"style",n),r[16]!==r[3][r[3].length-1]?m||(m=L7(),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},d(d){d&&($(t),$(a),$(s)),m&&m.d(d),o=!1,Sn(l)}}}function RDe(r){let t=!1,e=()=>{t=!1},i,n,a,s;Rs(r[10]),Rs(r[11]);function o(f,h){return f[5]?NDe:DDe}let l=o(r),u=l(r);return{c(){u.c(),n=ct()},l(f){u.l(f),n=ct()},m(f,h){u.m(f,h),S(f,n,h),a||(s=[gt(window,"scroll",()=>{t=!0,clearTimeout(i),i=setTimeout(e,100),r[10]()}),gt(window,"resize",r[11])],a=!0)},p(f,[h]){h&1&&!t&&(t=!0,clearTimeout(i),scrollTo(window.pageXOffset,f[0]),i=setTimeout(e,100)),l===(l=o(f))&&u?u.p(f,h):(u.d(1),u=l(f),u&&(u.c(),u.m(n.parentNode,n)))},i:se,o:se,d(f){f&&$(n),u.d(f),a=!1,Sn(s)}}}const MDe=700;function BDe(r,t,e){let i,n,a,s;xt(r,qr,_=>e(6,a=_)),xt(r,Zi,_=>e(9,s=_));let o,l,u,f=[];const h=_=>{e(4,n=_);const w=document.getElementById(_+"Context"),O=document.getElementById("sectionContextDisplay");O.innerHTML=`<a href=#${_} style=color:blue;>Link</a>: `,(w==null?void 0:w.innerHTML)!==""?O.innerHTML+=w==null?void 0:w.innerHTML:O.innerHTML+="<span style=color:gray;font-style:italic;>Section description not available<span>",O.style.display="block"},c=()=>{const _=document.getElementById("sectionContextDisplay");_.style.display="none",e(4,n="")};function m(){e(0,o=window.pageYOffset)}function d(){e(1,l=window.innerHeight),e(2,u=window.innerWidth)}const v=_=>h(_),b=_=>h(_),g=_=>h(_),y=_=>h(_);return r.$$.update=()=>{if(r.$$.dirty&516&&e(5,i=s||(u||0)<MDe),r.$$.dirty&107&&!i){const _=Object.keys(a.numbers).map(O=>{try{}catch{return[O,-1]}const I=document.getElementById(O);return[O,o+.3*l-(I==null?void 0:I.offsetTop)]}).filter(O=>O[1]>=0).sort((O,I)=>O[1]>I[1]?1:-1);let w;if(_.length>0){w=_[0][0],e(3,f=[w]);let O=a.numbers[w];for(;O.split(".").length>1;)O=O.split(".").slice(0,O.split(".").length-1).join("."),e(3,f=Object.keys(a.numbers).filter(I=>a.numbers[I]===O).concat(f))}}if(r.$$.dirty&24&&n!==""&&!f.includes(n)){e(4,n="");const _=document.getElementById("sectionContextDisplay");_.style.display="none"}},e(4,n=""),[o,l,u,f,n,i,a,h,c,s,m,d,v,b,g,y]}class FDe extends $t{constructor(t){super(),_t(this,t,BDe,RDe,yt,{})}}const{window:WI}=KI;function U7(r){let t,e='<div>Your notes are loading.</div> <div>Hang in there, this can take some time.</div> <div class="loader svelte-1bkrn4g"></div>';return{c(){t=ve("div"),t.innerHTML=e,this.h()},l(i){t=ge(i,"DIV",{class:!0,"data-svelte-h":!0}),Ze(t)!=="svelte-qsacpj"&&(t.innerHTML=e),this.h()},h(){fe(t,"class","loading svelte-1bkrn4g")},m(i,n){S(i,t,n)},d(i){i&&$(t)}}}function q7(r){let t,e,i,n="🔑",a,s;return{c(){t=ve("div"),e=P(`© Copyright 2025, Jeffrey Pavelka
                    `),i=ve("span"),i.textContent=n,this.h()},l(o){t=ge(o,"DIV",{class:!0});var l=Pe(t);e=D(l,`© Copyright 2025, Jeffrey Pavelka
                    `),i=ge(l,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Ze(i)!=="svelte-14kyg8v"&&(i.textContent=n),l.forEach($),this.h()},h(){fe(i,"class","footerActions svelte-1bkrn4g"),fe(i,"role","button"),fe(i,"tabindex","0"),fe(i,"aria-label","Highlight key points"),fe(t,"class","footer svelte-1bkrn4g")},m(o,l){S(o,t,l),oe(t,e),oe(t,i),a||(s=[gt(i,"keydown",r[10]),gt(i,"click",r[11])],a=!0)},d(o){o&&$(t),a=!1,Sn(s)}}}function zDe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,y,_,w,O,I;Rs(r[9]);let M=r[1]&&U7();a=new yF({props:{smallScreen:r[0]<500}}),l=new EF({}),f=new FDe({}),m=new PDe({});let T=!r[6]&&q7(r);return{c(){t=ve("div"),e=ve("div"),M&&M.c(),i=Se(),n=ve("div"),V(a.$$.fragment),s=Se(),o=ve("div"),V(l.$$.fragment),u=Se(),V(f.$$.fragment),h=Se(),c=ve("div"),V(m.$$.fragment),d=Se(),v=ve("div"),y=Se(),T&&T.c(),this.h()},l(E){t=ge(E,"DIV",{style:!0});var q=Pe(t);e=ge(q,"DIV",{class:!0});var k=Pe(e);M&&M.l(k),i=Ee(k),n=ge(k,"DIV",{style:!0});var j=Pe(n);X(a.$$.fragment,j),s=Ee(j),o=ge(j,"DIV",{class:!0,style:!0});var J=Pe(o);X(l.$$.fragment,J),u=Ee(J),X(f.$$.fragment,J),h=Ee(J),c=ge(J,"DIV",{class:!0});var Q=Pe(c);X(m.$$.fragment,Q),d=Ee(Q),v=ge(Q,"DIV",{class:!0}),Pe(v).forEach($),Q.forEach($),J.forEach($),y=Ee(j),T&&T.l(j),j.forEach($),k.forEach($),q.forEach($),this.h()},h(){fe(v,"class","afterNotes svelte-1bkrn4g"),fe(c,"class",b=Vn("notesContent"+(r[6]?" notesPrint":(r[3]&&r[0]-r[5]>r[4]?" noteContentShifted":"")+(r[7]&&r[0]-r[4]>r[8]?" noteContentWithPopup":"")))+" svelte-1bkrn4g"),fe(o,"class","underBar svelte-1bkrn4g"),fe(o,"style",g="visibility:"+(r[2]?"hidden":"visible")),fe(n,"style",_="display:"+(r[1]?"none":"block")),fe(e,"class","allContent svelte-1bkrn4g"),Ot(t,"--totalWidth",r[0]),Ot(t,"--notesMaxWidth",r[4]),Ot(t,"--tocWidth",r[5])},m(E,q){S(E,t,q),oe(t,e),M&&M.m(e,null),oe(e,i),oe(e,n),K(a,n,null),oe(n,s),oe(n,o),K(l,o,null),oe(o,u),K(f,o,null),oe(o,h),oe(o,c),K(m,c,null),oe(c,d),oe(c,v),oe(n,y),T&&T.m(n,null),w=!0,O||(I=gt(WI,"resize",r[9]),O=!0)},p(E,[q]){E[1]?M||(M=U7(),M.c(),M.m(e,i)):M&&(M.d(1),M=null);const k={};q&1&&(k.smallScreen=E[0]<500),a.$set(k),(!w||q&505&&b!==(b=Vn("notesContent"+(E[6]?" notesPrint":(E[3]&&E[0]-E[5]>E[4]?" noteContentShifted":"")+(E[7]&&E[0]-E[4]>E[8]?" noteContentWithPopup":"")))+" svelte-1bkrn4g"))&&fe(c,"class",b),(!w||q&4&&g!==(g="visibility:"+(E[2]?"hidden":"visible")))&&fe(o,"style",g),E[6]?T&&(T.d(1),T=null):T||(T=q7(E),T.c(),T.m(n,null)),(!w||q&2&&_!==(_="display:"+(E[1]?"none":"block")))&&fe(n,"style",_),(!w||q&1)&&Ot(t,"--totalWidth",E[0]),(!w||q&16)&&Ot(t,"--notesMaxWidth",E[4]),(!w||q&32)&&Ot(t,"--tocWidth",E[5])},i(E){w||(z(a.$$.fragment,E),z(l.$$.fragment,E),z(f.$$.fragment,E),z(m.$$.fragment,E),w=!0)},o(E){L(a.$$.fragment,E),L(l.$$.fragment,E),L(f.$$.fragment,E),L(m.$$.fragment,E),w=!1},d(E){E&&$(t),M&&M.d(),Y(a),Y(l),Y(f),Y(m),T&&T.d(),O=!1,I()}}}function LDe(r,t,e){let i,n,a,s,o,l;xt(r,Of,b=>e(3,i=b)),xt(r,US,b=>e(4,n=b)),xt(r,dF,b=>e(5,a=b)),xt(r,Zi,b=>e(6,s=b)),xt(r,jS,b=>e(7,o=b)),xt(r,qS,b=>e(8,l=b));let u=0,f=!0,h=!0;const c=b=>{let g=b.target;if(i&&(g==null?void 0:g.id)!=="contentsClick"){for(;!["BODY","HTML"].includes(g.tagName);){if([...g.classList].includes("toc"))return;g=g==null?void 0:g.parentNode}Of.update(()=>!1)}};hu(()=>{const{hash:b}=document.location,g=b&&document.getElementById(b.slice(1));e(1,f=!1),setTimeout(()=>{g&&g.scrollIntoView(),e(2,h=!1)},100),window.onbeforeprint=()=>Zi.update(()=>!0),window.onafterprint=()=>Zi.update(()=>!1)});try{document.onclick=c}catch{}function m(){e(0,u=WI.innerWidth)}return[u,f,h,i,n,a,s,o,l,m,()=>Jg.update(b=>!b),()=>Jg.update(b=>!b)]}class GDe extends $t{constructor(t){super(),_t(this,t,LDe,zDe,yt,{})}}export{GDe as component};
