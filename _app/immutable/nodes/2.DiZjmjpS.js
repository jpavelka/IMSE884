import{s as St,n as ye,b as yt,r as bn,f as As,c as wr,u as xr,g as Sr,a as Er,o as Wm,y as D7,e as Is,z as zn,i as Uc,d as RI,A as Lu,B as MI}from"../chunks/scheduler.oslDIIsh.js";import{S as Ot,i as At,m as vt,j as C,g as S,e as de,s as Ee,c as ve,d as He,y as Xe,h as ke,o as pe,k as fe,z as pt,t as V,q as zs,n as Ls,a as X,A as vb,H as ba,B as ya,b as R,f as M,l as js,u as ee,v as te,w as re,C as S_,x as ie,p as Rt,D as cm,E as BI}from"../chunks/index.CkuUemzc.js";import{r as gb,w as Ln}from"../chunks/index.SsoF0sMC.js";const FI=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Hl(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function N7(r,t){const e={},i={},n={$$scope:1};let a=r.length;for(;a--;){const s=r[a],o=t[a];if(o){for(const l in s)l in o||(i[l]=1);for(const l in o)n[l]||(e[l]=o[l],n[l]=1);r[a]=o}else for(const l in s)n[l]=1}for(const s in i)s in e||(e[s]=void 0);return e}function zI(){return this.log.length}function LI(r=1){if(r<=0||r>this.currentVersion())return null;{const[t,e]=this.log[r-1],i=new this.constructor(JSON.parse(t),JSON.parse(e));return i.log=this.log.slice(0,r),i}}function jI(r=1){return this.retrieveVersion(this.currentVersion()-r)}function UI(){return this.retrieveVersion(this.currentVersion())}function qI(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}const HI=Object.freeze(Object.defineProperty({__proto__:null,currentVersion:zI,retrieveLastVersion:UI,retrieveVersion:LI,save:qI,undo:jI},Symbol.toStringTag,{value:"Module"})),E_=["real","string"],k_=["json","html","string","rtf"],T_=["csl","bibtex","bibtxt","citation-*","ris","ndjson"],O_=["string","function"];function Gm(r){if(typeof r!="object")throw new TypeError("Options not an object!");const{format:t,type:e,style:i,lang:n,append:a,prepend:s}=r;if(t&&!E_.includes(t))throw new TypeError(`Option format ("${t}") should be one of: ${E_}`);if(e&&!k_.includes(e))throw new TypeError(`Option type ("${e}") should be one of: ${k_}`);if(i&&!T_.includes(i)&&!/^citation/.test(i))throw new TypeError(`Option style ("${i}") should be one of: ${T_}`);if(n&&typeof n!="string")throw new TypeError(`Option lang should be a string, but is a ${typeof n}`);if(s&&!O_.includes(typeof s))throw new TypeError(`Option prepend should be a string or a function, but is a ${typeof s}`);if(a&&!O_.includes(typeof a))throw new TypeError(`Option append should be a string or a function, but is a ${typeof a}`);if(/^citation/.test(i)&&e==="json")throw new Error(`Combination type/style of json/citation-* is not valid: ${e}/${i}`);return!0}function WI(r){if(typeof r!="object")throw new TypeError("Options should be an object");if(r.output)Gm(r.output);else{if(r.maxChainLength&&typeof r.maxChainLength!="number")throw new TypeError("Option maxChainLength should be a number");if(r.forceType&&typeof r.forceType!="string")throw new TypeError("Option forceType should be a string");if(r.generateGraph!=null&&typeof r.generateGraph!="boolean")throw new TypeError("Option generateGraph should be a boolean");if(r.strict!=null&&typeof r.strict!="boolean")throw new TypeError("Option strict should be a boolean");if(r.target!=null&&typeof r.target!="string")throw new TypeError("Option target should be a boolean")}return!0}const GI={format:"real",type:"json",style:"csl",lang:"en-US"};function VI(r,t){return Gm(r),t&&this.save(),Object.assign(this._options,r),this}const XI=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:GI,options:VI},Symbol.toStringTag,{value:"Module"}));function Tg(r){switch(r){case void 0:return"Undefined";case null:return"Null";default:return r.constructor.name}}function R7(r){switch(typeof r){case"string":return"String";case"object":if(Array.isArray(r))return"Array";if(Tg(r)==="Object")return"SimpleObject";if(Tg(r)!=="Null")return"ComplexObject";default:return"Primitive"}}const KI=Object.freeze(Object.defineProperty({__proto__:null,dataTypeOf:R7,typeOf:Tg},Symbol.toStringTag,{value:"Module"}));function M7(r,t){if(r._graph){const e=t.findIndex(({type:i})=>i==="@else/list+object");e!==-1&&t.splice(e+1,0,...r._graph.slice(0,-1))}return r._graph=t,r}function B7(r){return delete r._graph,r}const YI=Object.freeze(Object.defineProperty({__proto__:null,applyGraph:M7,removeGraph:B7},Symbol.toStringTag,{value:"Module"})),dn={_output(r,t,e){this._log.push(t,e),!(this._levels.indexOf(r)<this._levels.indexOf(this.level))&&this._console.log(t,...e)},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"};for(const r of dn._levels)dn[r]=(t,...e)=>dn._output(r,t,e);typeof console.Console=="function"?dn._console=new console.Console(process.stderr):dn._console=console;const Rn={},So={},ll={};function A_(r,t){switch(t){case"Array":return r.length===0||r.every(e=>Eo(e)==="@csl/object")?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}}function F7(r=[],t){for(const e of r)if(Rn[e].predicate(t))return F7(Rn[e].extensions,t)||e}function Eo(r){const t=R7(r);return t==="Array"&&r.length===0?A_(r,t):F7(So[t],r)||A_(r,t)}function z7(r,{dataType:t,predicate:e,extends:i}){let n=[];r in ll&&(n=ll[r],delete ll[r],dn.debug("[core]",`Subclasses "${n}" finally registered to parent type "${r}"`));const a={predicate:e,extensions:n};if(Rn[r]=a,i){const s=Rn[i];s?s.extensions.push(r):(ll[i]||(ll[i]=[]),ll[i].push(r),dn.debug("[core]",`Subclass "${r}" is waiting on parent type "${i}"`))}else(So[t]||(So[t]=[])).push(r)}function JI(r){return Object.prototype.hasOwnProperty.call(Rn,r)}function L7(r){delete Rn[r],[...Object.keys(So).map(e=>So[e]),...Object.keys(Rn).map(e=>Rn[e].extensions).filter(e=>e.length>0)].forEach(e=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)})}function QI(){return Object.keys(Rn)}function ZI(){const r=t=>({name:t,children:Rn[t].extensions.map(r)});return{name:"Type tree",children:Object.keys(So).map(t=>({name:t,children:So[t].map(r)}))}}const j7=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/;function eC(r,t,e){return t=tC(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function tC(r){var t=rC(r,"string");return typeof t=="symbol"?t:String(t)}function rC(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}class U7{constructor(t){eC(this,"validDataTypes",["String","Array","SimpleObject","ComplexObject","Primitive"]),this.data=t}validateDataType(){const t=this.data.dataType;if(t&&!this.validDataTypes.includes(t))throw new RangeError(`dataType was ${t}; expected one of ${this.validDataTypes}`)}validateParseType(){const t=this.data.predicate;if(t&&!(t instanceof RegExp||typeof t=="function"))throw new TypeError(`predicate was ${typeof t}; expected RegExp or function`)}validateTokenList(){const t=this.data.tokenList;if(t&&typeof t!="object")throw new TypeError(`tokenList was ${typeof t}; expected object or RegExp`)}validatePropertyConstraint(){const t=this.data.propertyConstraint;if(t&&typeof t!="object")throw new TypeError(`propertyConstraint was ${typeof t}; expected array or object`)}validateElementConstraint(){const t=this.data.elementConstraint;if(t&&typeof t!="string")throw new TypeError(`elementConstraint was ${typeof t}; expected string`)}validateExtends(){const t=this.data.extends;if(t&&typeof t!="string")throw new TypeError(`extends was ${typeof t}; expected string`)}validate(){if(this.data===null||typeof this.data!="object")throw new TypeError(`typeParser was ${typeof this.data}; expected object`);this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let t=this.data.tokenList;if(t)t instanceof RegExp&&(t={token:t});else return[];const{token:e,split:i=/\s+/,trim:n=!0,every:a=!0}=t,s=u=>n?u.trim():u,o=a?"every":"some";return[u=>s(u).split(i)[o](f=>e.test(f))]}parsePropertyConstraint(){return[].concat(this.data.propertyConstraint||[]).map(({props:e,match:i,value:n})=>{switch(e=[].concat(e),i){case"any":case"some":return a=>e.some(s=>s in a&&(!n||n(a[s])));case"none":return a=>!e.some(s=>s in a&&(!n||n(a[s])));case"every":default:return a=>e.every(s=>s in a&&(!n||n(a[s])))}})}parseElementConstraint(){const t=this.data.elementConstraint;return t?[e=>e.every(i=>Eo(i)===t)]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){const t=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return t.length===0?()=>!0:t.length===1?t[0]:e=>t.every(i=>i(e))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp||this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}class Og{constructor(t,{async:e}={}){this.parser=t,this.async=e}validate(){const t=this.parser;if(typeof t!="function")throw new TypeError(`parser was ${typeof t}; expected function`)}}class q7{constructor(t,e={}){this.format=t,e.parseType&&(this.typeParser=new U7(e.parseType)),e.parse&&(this.dataParser=new Og(e.parse,{async:!1})),e.parseAsync&&(this.asyncDataParser=new Og(e.parseAsync,{async:!0}))}validateFormat(){const t=this.format;if(!j7.test(t))throw new TypeError(`format name was "${t}"; didn't match expected pattern`)}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}const iC=Object.freeze(Object.defineProperty({__proto__:null,DataParser:Og,FormatParser:q7,TypeParser:U7},Symbol.toStringTag,{value:"Module"}));var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yb={},In={};Object.defineProperty(In,"__esModule",{value:!0});In.default=In.parse=In.types=In.scope=void 0;function I_(r,t){return sC(r)||aC(r,t)||nC()}function nC(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function aC(r,t){var e=[],i=!0,n=!1,a=void 0;try{for(var s=r[Symbol.iterator](),o;!(i=(o=s.next()).done)&&(e.push(o.value),!(t&&e.length===t));i=!0);}catch(l){n=!0,a=l}finally{try{!i&&s.return!=null&&s.return()}finally{if(n)throw a}}return e}function sC(r){if(Array.isArray(r))return r}const H7=r=>r.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1"),$b=r=>`(?:${r.join("|")})\\b`,_b=(r,t)=>new RegExp(`(?:^| )(${r}$)`,t),oC=["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"],lC=["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"],uC=["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"],fC=$b(oC.map(H7)),Ag=$b(lC.map(H7)),cC=$b(uC),hC=new RegExp(`^((?:${fC} )*)(.*)$`,"i"),mC=_b(`(?:${Ag}, )*(?:${Ag})`,"i"),pC=_b(`${/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source}.*`),dC=_b(`(?:${/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source}.*|${cC}.*|\\S*)`),vC=function(t=""){typeof t!="string"&&(t=t+"");let e="",i="",n="";if(/[^.], /.test(t)){const d=t.split(", ");n=d.shift();const v=RegExp(Ag).exec(d.join(", "));e=d.splice(v&&v.index!==0?0:-1,1)[0],i=d.join(", ")}else{const d=t.split(mC,2),v=d.shift().split(dC,2);e=v[0],n=v[1],i=d.pop()}const a=e.match(hC),s=I_(a,3),o=s[1],l=s[2],u=i,f=n.split(pC,2).reverse(),h=I_(f,2),c=h[0],m=h[1];if(!l&&c)return c.includes(" ")?{literal:c}:{family:c};if(c){const d={"dropping-particle":o,given:l,suffix:u,"non-dropping-particle":m,family:c};return Object.keys(d).forEach(v=>{d[v]||delete d[v]}),d}else return{literal:t}};In.default=In.parse=vC;const gC="@name";In.scope=gC;const bC="@name";In.types=bC;var Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});Vm.default=void 0;const Ud=["dropping-particle","given"],qd=["suffix"],C_=["non-dropping-particle","family"],yC=function(t,e=!1){const i=n=>n.map(a=>t[a]||"").filter(Boolean).join(" ");if(t.literal)return t.literal;if(e){const n=i(qd)?`, ${i(qd)}`:"",a=i(Ud)?`, ${i(Ud)}`:"";return i(C_)+n+a}else return`${i([...Ud,...qd,...C_])}`};var $C=yC;Vm.default=$C;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"format",{enumerable:!0,get:function(){return e.default}});var t=i(In),e=i(Vm);function i(n){return n&&n.__esModule?n:{default:n}}})(yb);function P_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function Ig(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(e),!0).forEach(function(i){_C(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):P_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function _C(r,t,e){return t=wC(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function wC(r){var t=xC(r,"string");return typeof t=="symbol"?t:String(t)}function xC(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const SC=1,Nt=2,fs=3,W7=4,Hd={article:!0,"article-journal":!0,"article-magazine":!0,"article-newspaper":!0,bill:!0,book:!0,broadcast:!0,chapter:!0,classic:!0,collection:!0,dataset:!0,document:!0,entry:!0,"entry-dictionary":!0,"entry-encyclopedia":!0,event:!0,figure:!0,graphic:!0,hearing:!0,interview:!0,legal_case:!0,legislation:!0,manuscript:!0,map:!0,motion_picture:!0,musical_score:!0,pamphlet:!0,"paper-conference":!0,patent:!0,performance:!0,periodical:!0,personal_communication:!0,post:!0,"post-weblog":!0,regulation:!0,report:!0,review:!0,"review-book":!0,software:!0,song:!0,speech:!0,standard:!0,thesis:!0,treaty:!0,webpage:!0,"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference",dissertation:"thesis"},D_={author:Nt,chair:Nt,"collection-editor":Nt,compiler:Nt,composer:Nt,"container-author":Nt,contributor:Nt,curator:Nt,director:Nt,editor:Nt,"editorial-director":Nt,"executive-producer":Nt,guest:Nt,host:Nt,interviewer:Nt,illustrator:Nt,narrator:Nt,organizer:Nt,"original-author":Nt,performer:Nt,producer:Nt,"reviewed-author":Nt,recipient:Nt,"script-writer":Nt,"series-creator":Nt,translator:Nt,accessed:fs,"available-date":fs,container:fs,"event-date":fs,issued:fs,"original-date":fs,submitted:fs,type:W7,categories:"object",custom:"object",id:["string","number"],language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_collection:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-key":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",division:"string",DOI:"string",edition:["string","number"],event:"string","event-title":"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string","part-number":["string","number"],"part-title":"string",PMCID:"string",PMID:"string",printing:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string","reviewed-genre":"string",scale:"string",section:"string",source:"string",status:"string",supplement:["string","number"],title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"volume-title":"string","volume-title-short":"string","year-suffix":"string"};function G7(r,t){if(typeof r=="object"&&r!==null&&(r.literal||r.given||r.family))return(r.ORCID||r.orcid||r._ORCID)&&(r=Ig({_orcid:r.ORCID||r.orcid||r._ORCID},r),delete r.ORCID,delete r.orcid,delete r._ORCID),r;if(t){if(typeof r=="string")return yb.parse(r)}else return}function EC(r,t){if(r instanceof Array){const e=r.map(i=>G7(i,t)).filter(Boolean);return e.length?e:void 0}}function Wd(r,t){return r.every(e=>typeof e=="number")?r:!t||r.some(e=>isNaN(parseInt(e)))?void 0:r.map(e=>parseInt(e))}function kC(r,t){const e="date-parts";if(!(typeof r!="object"||r===null)){if(r[e]instanceof Array&&r[e].every(i=>i instanceof Array)){const i=r[e].map(n=>Wd(n,t)).filter(Boolean);return i.length?Ig(Ig({},r),{},{"date-parts":i}):void 0}else if(r instanceof Array&&r.every(i=>i[e]instanceof Array)){const i=r.map(n=>Wd(n[e],t)).filter(Boolean);return i.length?{"date-parts":i}:void 0}else if(r[e]instanceof Array){const i=Wd(r[e],t);return i&&{"date-parts":[i]}}else if("literal"in r||"raw"in r)return r}}function TC(r,t){return r=wb("language",r,t),Hd[r]===!0?r:t&&r in Hd?Hd[r]:void 0}function wb(r,t,e){const i=[].concat(D_[r]);switch(D_[r]){case SC:return G7(t,e);case Nt:return EC(t,e);case fs:return kC(t,e);case W7:return TC(t,e)}if(e){if(typeof t=="string"&&i.includes("number")&&!i.includes("string")&&!isNaN(+t))return parseFloat(t);if(typeof t=="number"&&i.includes("string")&&!i.includes("number"))return t.toString();if(Array.isArray(t)&&t.length)return wb(r,t[0],e)}if(i.includes(typeof t))return t}function V7(r,t=!0){return r.map(function(e){const i={};for(const n in e){const a=wb(n,e[n],t);a!==void 0&&(i[n]=a)}return i})}const OC=Object.freeze(Object.defineProperty({__proto__:null,clean:V7},Symbol.toStringTag,{value:"Module"}));function N_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function X7(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(e),!0).forEach(function(i){AC(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):N_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function AC(r,t,e){return t=IC(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function IC(r){var t=CC(r,"string");return typeof t=="symbol"?t:String(t)}function CC(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function K7(r){return Array.isArray(r)?r.map(K7):(r=X7({},r),"event"in r&&(r["event-title"]=r.event,delete r.event),r.type==="book"&&"version"in r&&(r.type="software"),r)}function df(r){return Array.isArray(r)?r.map(df):(r=X7({},r),"event-title"in r&&(r.event=r["event-title"],delete r["event-title"]),r.type==="software"&&(r.type="book"),r)}function ko(r,t=new Set){if(typeof r!="object"||r===null||r.constructor!==Object&&r.constructor!==Array)return r;if(t.has(r))throw new TypeError("Recursively copying circular structure");t.add(r);let e;if(r.constructor===Array)e=r.map(i=>ko(i,t));else{const i={};for(const n in r)i[n]=ko(r[n],t);e=i}return t.delete(r),e}var Y7={},Xm={};Xm.byteLength=NC;Xm.toByteArray=MC;Xm.fromByteArray=zC;var On=[],ji=[],PC=typeof Uint8Array<"u"?Uint8Array:Array,Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ul=0,DC=Gd.length;ul<DC;++ul)On[ul]=Gd[ul],ji[Gd.charCodeAt(ul)]=ul;ji[45]=62;ji[95]=63;function J7(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var i=e===t?0:4-e%4;return[e,i]}function NC(r){var t=J7(r),e=t[0],i=t[1];return(e+i)*3/4-i}function RC(r,t,e){return(t+e)*3/4-e}function MC(r){var t,e=J7(r),i=e[0],n=e[1],a=new PC(RC(r,i,n)),s=0,o=n>0?i-4:i,l;for(l=0;l<o;l+=4)t=ji[r.charCodeAt(l)]<<18|ji[r.charCodeAt(l+1)]<<12|ji[r.charCodeAt(l+2)]<<6|ji[r.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return n===2&&(t=ji[r.charCodeAt(l)]<<2|ji[r.charCodeAt(l+1)]>>4,a[s++]=t&255),n===1&&(t=ji[r.charCodeAt(l)]<<10|ji[r.charCodeAt(l+1)]<<4|ji[r.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function BC(r){return On[r>>18&63]+On[r>>12&63]+On[r>>6&63]+On[r&63]}function FC(r,t,e){for(var i,n=[],a=t;a<e;a+=3)i=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(r[a+2]&255),n.push(BC(i));return n.join("")}function zC(r){for(var t,e=r.length,i=e%3,n=[],a=16383,s=0,o=e-i;s<o;s+=a)n.push(FC(r,s,s+a>o?o:s+a));return i===1?(t=r[e-1],n.push(On[t>>2]+On[t<<4&63]+"==")):i===2&&(t=(r[e-2]<<8)+r[e-1],n.push(On[t>>10]+On[t>>4&63]+On[t<<2&63]+"=")),n.join("")}var xb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */xb.read=function(r,t,e,i,n){var a,s,o=n*8-i-1,l=(1<<o)-1,u=l>>1,f=-7,h=e?n-1:0,c=e?-1:1,m=r[t+h];for(h+=c,a=m&(1<<-f)-1,m>>=-f,f+=o;f>0;a=a*256+r[t+h],h+=c,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=i;f>0;s=s*256+r[t+h],h+=c,f-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,i),a=a-u}return(m?-1:1)*s*Math.pow(2,a-i)};xb.write=function(r,t,e,i,n,a){var s,o,l,u=a*8-n-1,f=(1<<u)-1,h=f>>1,c=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:a-1,d=i?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=c/l:t+=c*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=f?(o=0,s=f):s+h>=1?(o=(t*l-1)*Math.pow(2,n),s=s+h):(o=t*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;r[e+m]=o&255,m+=d,o/=256,n-=8);for(s=s<<n|o,u+=n;u>0;r[e+m]=s&255,m+=d,s/=256,u-=8);r[e+m-d]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){var t=Xm,e=xb,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=o,r.SlowBuffer=_,r.INSPECT_MAX_BYTES=50;var n=2147483647;r.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var q=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(q,k),q.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(q){if(q>n)throw new RangeError('The value "'+q+'" is invalid for option "size"');var k=new Uint8Array(q);return Object.setPrototypeOf(k,o.prototype),k}function o(q,k,P){if(typeof q=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(q)}return l(q,k,P)}o.poolSize=8192;function l(q,k,P){if(typeof q=="string")return c(q,k);if(ArrayBuffer.isView(q))return d(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(Be(q,ArrayBuffer)||q&&Be(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(q,SharedArrayBuffer)||q&&Be(q.buffer,SharedArrayBuffer)))return v(q,k,P);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=q.valueOf&&q.valueOf();if(G!=null&&G!==q)return o.from(G,k,P);var le=b(q);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return o.from(q[Symbol.toPrimitive]("string"),k,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}o.from=function(q,k,P){return l(q,k,P)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function f(q,k,P){return u(q),q<=0?s(q):k!==void 0?typeof P=="string"?s(q).fill(k,P):s(q).fill(k):s(q)}o.alloc=function(q,k,P){return f(q,k,P)};function h(q){return u(q),s(q<0?0:g(q)|0)}o.allocUnsafe=function(q){return h(q)},o.allocUnsafeSlow=function(q){return h(q)};function c(q,k){if((typeof k!="string"||k==="")&&(k="utf8"),!o.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var P=y(q,k)|0,G=s(P),le=G.write(q,k);return le!==P&&(G=G.slice(0,le)),G}function m(q){for(var k=q.length<0?0:g(q.length)|0,P=s(k),G=0;G<k;G+=1)P[G]=q[G]&255;return P}function d(q){if(Be(q,Uint8Array)){var k=new Uint8Array(q);return v(k.buffer,k.byteOffset,k.byteLength)}return m(q)}function v(q,k,P){if(k<0||q.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<k+(P||0))throw new RangeError('"length" is outside of buffer bounds');var G;return k===void 0&&P===void 0?G=new Uint8Array(q):P===void 0?G=new Uint8Array(q,k):G=new Uint8Array(q,k,P),Object.setPrototypeOf(G,o.prototype),G}function b(q){if(o.isBuffer(q)){var k=g(q.length)|0,P=s(k);return P.length===0||q.copy(P,0,0,k),P}if(q.length!==void 0)return typeof q.length!="number"||Fe(q.length)?s(0):m(q);if(q.type==="Buffer"&&Array.isArray(q.data))return m(q.data)}function g(q){if(q>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return q|0}function _(q){return+q!=q&&(q=0),o.alloc(+q)}o.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==o.prototype},o.compare=function(k,P){if(Be(k,Uint8Array)&&(k=o.from(k,k.offset,k.byteLength)),Be(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),!o.isBuffer(k)||!o.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===P)return 0;for(var G=k.length,le=P.length,xe=0,Pe=Math.min(G,le);xe<Pe;++xe)if(k[xe]!==P[xe]){G=k[xe],le=P[xe];break}return G<le?-1:le<G?1:0},o.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(k,P){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return o.alloc(0);var G;if(P===void 0)for(P=0,G=0;G<k.length;++G)P+=k[G].length;var le=o.allocUnsafe(P),xe=0;for(G=0;G<k.length;++G){var Pe=k[G];if(Be(Pe,Uint8Array))xe+Pe.length>le.length?o.from(Pe).copy(le,xe):Uint8Array.prototype.set.call(le,Pe,xe);else if(o.isBuffer(Pe))Pe.copy(le,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=Pe.length}return le};function y(q,k){if(o.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||Be(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var P=q.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&P===0)return 0;for(var le=!1;;)switch(k){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return Ie(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return be(q).length;default:if(le)return G?-1:Ie(q).length;k=(""+k).toLowerCase(),le=!0}}o.byteLength=y;function $(q,k,P){var G=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,k>>>=0,P<=k))return"";for(q||(q="utf8");;)switch(q){case"hex":return ne(this,k,P);case"utf8":case"utf-8":return L(this,k,P);case"ascii":return W(this,k,P);case"latin1":case"binary":return z(this,k,P);case"base64":return D(this,k,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,k,P);default:if(G)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),G=!0}}o.prototype._isBuffer=!0;function I(q,k,P){var G=q[k];q[k]=q[P],q[P]=G}o.prototype.swap16=function(){var k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<k;P+=2)I(this,P,P+1);return this},o.prototype.swap32=function(){var k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<k;P+=4)I(this,P,P+3),I(this,P+1,P+2);return this},o.prototype.swap64=function(){var k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<k;P+=8)I(this,P,P+7),I(this,P+1,P+6),I(this,P+2,P+5),I(this,P+3,P+4);return this},o.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?L(this,0,k):$.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(k){if(!o.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:o.compare(this,k)===0},o.prototype.inspect=function(){var k="",P=r.INSPECT_MAX_BYTES;return k=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(k+=" ... "),"<Buffer "+k+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(k,P,G,le,xe){if(Be(k,Uint8Array)&&(k=o.from(k,k.offset,k.byteLength)),!o.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(P===void 0&&(P=0),G===void 0&&(G=k?k.length:0),le===void 0&&(le=0),xe===void 0&&(xe=this.length),P<0||G>k.length||le<0||xe>this.length)throw new RangeError("out of range index");if(le>=xe&&P>=G)return 0;if(le>=xe)return-1;if(P>=G)return 1;if(P>>>=0,G>>>=0,le>>>=0,xe>>>=0,this===k)return 0;for(var Pe=xe-le,ut=G-P,gt=Math.min(Pe,ut),dt=this.slice(le,xe),Kt=k.slice(P,G),Tt=0;Tt<gt;++Tt)if(dt[Tt]!==Kt[Tt]){Pe=dt[Tt],ut=Kt[Tt];break}return Pe<ut?-1:ut<Pe?1:0};function A(q,k,P,G,le){if(q.length===0)return-1;if(typeof P=="string"?(G=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,Fe(P)&&(P=le?0:q.length-1),P<0&&(P=q.length+P),P>=q.length){if(le)return-1;P=q.length-1}else if(P<0)if(le)P=0;else return-1;if(typeof k=="string"&&(k=o.from(k,G)),o.isBuffer(k))return k.length===0?-1:B(q,k,P,G,le);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(q,k,P):Uint8Array.prototype.lastIndexOf.call(q,k,P):B(q,[k],P,G,le);throw new TypeError("val must be string, number or Buffer")}function B(q,k,P,G,le){var xe=1,Pe=q.length,ut=k.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(q.length<2||k.length<2)return-1;xe=2,Pe/=2,ut/=2,P/=2}function gt(ii,qr){return xe===1?ii[qr]:ii.readUInt16BE(qr*xe)}var dt;if(le){var Kt=-1;for(dt=P;dt<Pe;dt++)if(gt(q,dt)===gt(k,Kt===-1?0:dt-Kt)){if(Kt===-1&&(Kt=dt),dt-Kt+1===ut)return Kt*xe}else Kt!==-1&&(dt-=dt-Kt),Kt=-1}else for(P+ut>Pe&&(P=Pe-ut),dt=P;dt>=0;dt--){for(var Tt=!0,Dr=0;Dr<ut;Dr++)if(gt(q,dt+Dr)!==gt(k,Dr)){Tt=!1;break}if(Tt)return dt}return-1}o.prototype.includes=function(k,P,G){return this.indexOf(k,P,G)!==-1},o.prototype.indexOf=function(k,P,G){return A(this,k,P,G,!0)},o.prototype.lastIndexOf=function(k,P,G){return A(this,k,P,G,!1)};function T(q,k,P,G){P=Number(P)||0;var le=q.length-P;G?(G=Number(G),G>le&&(G=le)):G=le;var xe=k.length;G>xe/2&&(G=xe/2);for(var Pe=0;Pe<G;++Pe){var ut=parseInt(k.substr(Pe*2,2),16);if(Fe(ut))return Pe;q[P+Pe]=ut}return Pe}function x(q,k,P,G){return _e(Ie(k,q.length-P),q,P,G)}function U(q,k,P,G){return _e(ce(k),q,P,G)}function O(q,k,P,G){return _e(be(k),q,P,G)}function F(q,k,P,G){return _e(ge(k,q.length-P),q,P,G)}o.prototype.write=function(k,P,G,le){if(P===void 0)le="utf8",G=this.length,P=0;else if(G===void 0&&typeof P=="string")le=P,G=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(G)?(G=G>>>0,le===void 0&&(le="utf8")):(le=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var xe=this.length-P;if((G===void 0||G>xe)&&(G=xe),k.length>0&&(G<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");for(var Pe=!1;;)switch(le){case"hex":return T(this,k,P,G);case"utf8":case"utf-8":return x(this,k,P,G);case"ascii":case"latin1":case"binary":return U(this,k,P,G);case"base64":return O(this,k,P,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,k,P,G);default:if(Pe)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Pe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(q,k,P){return k===0&&P===q.length?t.fromByteArray(q):t.fromByteArray(q.slice(k,P))}function L(q,k,P){P=Math.min(q.length,P);for(var G=[],le=k;le<P;){var xe=q[le],Pe=null,ut=xe>239?4:xe>223?3:xe>191?2:1;if(le+ut<=P){var gt,dt,Kt,Tt;switch(ut){case 1:xe<128&&(Pe=xe);break;case 2:gt=q[le+1],(gt&192)===128&&(Tt=(xe&31)<<6|gt&63,Tt>127&&(Pe=Tt));break;case 3:gt=q[le+1],dt=q[le+2],(gt&192)===128&&(dt&192)===128&&(Tt=(xe&15)<<12|(gt&63)<<6|dt&63,Tt>2047&&(Tt<55296||Tt>57343)&&(Pe=Tt));break;case 4:gt=q[le+1],dt=q[le+2],Kt=q[le+3],(gt&192)===128&&(dt&192)===128&&(Kt&192)===128&&(Tt=(xe&15)<<18|(gt&63)<<12|(dt&63)<<6|Kt&63,Tt>65535&&Tt<1114112&&(Pe=Tt))}}Pe===null?(Pe=65533,ut=1):Pe>65535&&(Pe-=65536,G.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),G.push(Pe),le+=ut}return Y(G)}var H=4096;function Y(q){var k=q.length;if(k<=H)return String.fromCharCode.apply(String,q);for(var P="",G=0;G<k;)P+=String.fromCharCode.apply(String,q.slice(G,G+=H));return P}function W(q,k,P){var G="";P=Math.min(q.length,P);for(var le=k;le<P;++le)G+=String.fromCharCode(q[le]&127);return G}function z(q,k,P){var G="";P=Math.min(q.length,P);for(var le=k;le<P;++le)G+=String.fromCharCode(q[le]);return G}function ne(q,k,P){var G=q.length;(!k||k<0)&&(k=0),(!P||P<0||P>G)&&(P=G);for(var le="",xe=k;xe<P;++xe)le+=We[q[xe]];return le}function ue(q,k,P){for(var G=q.slice(k,P),le="",xe=0;xe<G.length-1;xe+=2)le+=String.fromCharCode(G[xe]+G[xe+1]*256);return le}o.prototype.slice=function(k,P){var G=this.length;k=~~k,P=P===void 0?G:~~P,k<0?(k+=G,k<0&&(k=0)):k>G&&(k=G),P<0?(P+=G,P<0&&(P=0)):P>G&&(P=G),P<k&&(P=k);var le=this.subarray(k,P);return Object.setPrototypeOf(le,o.prototype),le};function K(q,k,P){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+k>P)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(k,P,G){k=k>>>0,P=P>>>0,G||K(k,P,this.length);for(var le=this[k],xe=1,Pe=0;++Pe<P&&(xe*=256);)le+=this[k+Pe]*xe;return le},o.prototype.readUintBE=o.prototype.readUIntBE=function(k,P,G){k=k>>>0,P=P>>>0,G||K(k,P,this.length);for(var le=this[k+--P],xe=1;P>0&&(xe*=256);)le+=this[k+--P]*xe;return le},o.prototype.readUint8=o.prototype.readUInt8=function(k,P){return k=k>>>0,P||K(k,1,this.length),this[k]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(k,P){return k=k>>>0,P||K(k,2,this.length),this[k]|this[k+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(k,P){return k=k>>>0,P||K(k,2,this.length),this[k]<<8|this[k+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(k,P){return k=k>>>0,P||K(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(k,P){return k=k>>>0,P||K(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},o.prototype.readIntLE=function(k,P,G){k=k>>>0,P=P>>>0,G||K(k,P,this.length);for(var le=this[k],xe=1,Pe=0;++Pe<P&&(xe*=256);)le+=this[k+Pe]*xe;return xe*=128,le>=xe&&(le-=Math.pow(2,8*P)),le},o.prototype.readIntBE=function(k,P,G){k=k>>>0,P=P>>>0,G||K(k,P,this.length);for(var le=P,xe=1,Pe=this[k+--le];le>0&&(xe*=256);)Pe+=this[k+--le]*xe;return xe*=128,Pe>=xe&&(Pe-=Math.pow(2,8*P)),Pe},o.prototype.readInt8=function(k,P){return k=k>>>0,P||K(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},o.prototype.readInt16LE=function(k,P){k=k>>>0,P||K(k,2,this.length);var G=this[k]|this[k+1]<<8;return G&32768?G|4294901760:G},o.prototype.readInt16BE=function(k,P){k=k>>>0,P||K(k,2,this.length);var G=this[k+1]|this[k]<<8;return G&32768?G|4294901760:G},o.prototype.readInt32LE=function(k,P){return k=k>>>0,P||K(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},o.prototype.readInt32BE=function(k,P){return k=k>>>0,P||K(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},o.prototype.readFloatLE=function(k,P){return k=k>>>0,P||K(k,4,this.length),e.read(this,k,!0,23,4)},o.prototype.readFloatBE=function(k,P){return k=k>>>0,P||K(k,4,this.length),e.read(this,k,!1,23,4)},o.prototype.readDoubleLE=function(k,P){return k=k>>>0,P||K(k,8,this.length),e.read(this,k,!0,52,8)},o.prototype.readDoubleBE=function(k,P){return k=k>>>0,P||K(k,8,this.length),e.read(this,k,!1,52,8)};function Q(q,k,P,G,le,xe){if(!o.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>le||k<xe)throw new RangeError('"value" argument is out of bounds');if(P+G>q.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(k,P,G,le){if(k=+k,P=P>>>0,G=G>>>0,!le){var xe=Math.pow(2,8*G)-1;Q(this,k,P,G,xe,0)}var Pe=1,ut=0;for(this[P]=k&255;++ut<G&&(Pe*=256);)this[P+ut]=k/Pe&255;return P+G},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(k,P,G,le){if(k=+k,P=P>>>0,G=G>>>0,!le){var xe=Math.pow(2,8*G)-1;Q(this,k,P,G,xe,0)}var Pe=G-1,ut=1;for(this[P+Pe]=k&255;--Pe>=0&&(ut*=256);)this[P+Pe]=k/ut&255;return P+G},o.prototype.writeUint8=o.prototype.writeUInt8=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,1,255,0),this[P]=k&255,P+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,2,65535,0),this[P]=k&255,this[P+1]=k>>>8,P+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,2,65535,0),this[P]=k>>>8,this[P+1]=k&255,P+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,4,4294967295,0),this[P+3]=k>>>24,this[P+2]=k>>>16,this[P+1]=k>>>8,this[P]=k&255,P+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,4,4294967295,0),this[P]=k>>>24,this[P+1]=k>>>16,this[P+2]=k>>>8,this[P+3]=k&255,P+4},o.prototype.writeIntLE=function(k,P,G,le){if(k=+k,P=P>>>0,!le){var xe=Math.pow(2,8*G-1);Q(this,k,P,G,xe-1,-xe)}var Pe=0,ut=1,gt=0;for(this[P]=k&255;++Pe<G&&(ut*=256);)k<0&&gt===0&&this[P+Pe-1]!==0&&(gt=1),this[P+Pe]=(k/ut>>0)-gt&255;return P+G},o.prototype.writeIntBE=function(k,P,G,le){if(k=+k,P=P>>>0,!le){var xe=Math.pow(2,8*G-1);Q(this,k,P,G,xe-1,-xe)}var Pe=G-1,ut=1,gt=0;for(this[P+Pe]=k&255;--Pe>=0&&(ut*=256);)k<0&&gt===0&&this[P+Pe+1]!==0&&(gt=1),this[P+Pe]=(k/ut>>0)-gt&255;return P+G},o.prototype.writeInt8=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,1,127,-128),k<0&&(k=255+k+1),this[P]=k&255,P+1},o.prototype.writeInt16LE=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,2,32767,-32768),this[P]=k&255,this[P+1]=k>>>8,P+2},o.prototype.writeInt16BE=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,2,32767,-32768),this[P]=k>>>8,this[P+1]=k&255,P+2},o.prototype.writeInt32LE=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,4,2147483647,-2147483648),this[P]=k&255,this[P+1]=k>>>8,this[P+2]=k>>>16,this[P+3]=k>>>24,P+4},o.prototype.writeInt32BE=function(k,P,G){return k=+k,P=P>>>0,G||Q(this,k,P,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[P]=k>>>24,this[P+1]=k>>>16,this[P+2]=k>>>8,this[P+3]=k&255,P+4};function oe(q,k,P,G,le,xe){if(P+G>q.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function Ae(q,k,P,G,le){return k=+k,P=P>>>0,le||oe(q,k,P,4),e.write(q,k,P,G,23,4),P+4}o.prototype.writeFloatLE=function(k,P,G){return Ae(this,k,P,!0,G)},o.prototype.writeFloatBE=function(k,P,G){return Ae(this,k,P,!1,G)};function we(q,k,P,G,le){return k=+k,P=P>>>0,le||oe(q,k,P,8),e.write(q,k,P,G,52,8),P+8}o.prototype.writeDoubleLE=function(k,P,G){return we(this,k,P,!0,G)},o.prototype.writeDoubleBE=function(k,P,G){return we(this,k,P,!1,G)},o.prototype.copy=function(k,P,G,le){if(!o.isBuffer(k))throw new TypeError("argument should be a Buffer");if(G||(G=0),!le&&le!==0&&(le=this.length),P>=k.length&&(P=k.length),P||(P=0),le>0&&le<G&&(le=G),le===G||k.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),k.length-P<le-G&&(le=k.length-P+G);var xe=le-G;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,G,le):Uint8Array.prototype.set.call(k,this.subarray(G,le),P),xe},o.prototype.fill=function(k,P,G,le){if(typeof k=="string"){if(typeof P=="string"?(le=P,P=0,G=this.length):typeof G=="string"&&(le=G,G=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!o.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(k.length===1){var xe=k.charCodeAt(0);(le==="utf8"&&xe<128||le==="latin1")&&(k=xe)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(P<0||this.length<P||this.length<G)throw new RangeError("Out of range index");if(G<=P)return this;P=P>>>0,G=G===void 0?this.length:G>>>0,k||(k=0);var Pe;if(typeof k=="number")for(Pe=P;Pe<G;++Pe)this[Pe]=k;else{var ut=o.isBuffer(k)?k:o.from(k,le),gt=ut.length;if(gt===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(Pe=0;Pe<G-P;++Pe)this[Pe+P]=ut[Pe%gt]}return this};var Se=/[^+/0-9A-Za-z-_]/g;function Te(q){if(q=q.split("=")[0],q=q.trim().replace(Se,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function Ie(q,k){k=k||1/0;for(var P,G=q.length,le=null,xe=[],Pe=0;Pe<G;++Pe){if(P=q.charCodeAt(Pe),P>55295&&P<57344){if(!le){if(P>56319){(k-=3)>-1&&xe.push(239,191,189);continue}else if(Pe+1===G){(k-=3)>-1&&xe.push(239,191,189);continue}le=P;continue}if(P<56320){(k-=3)>-1&&xe.push(239,191,189),le=P;continue}P=(le-55296<<10|P-56320)+65536}else le&&(k-=3)>-1&&xe.push(239,191,189);if(le=null,P<128){if((k-=1)<0)break;xe.push(P)}else if(P<2048){if((k-=2)<0)break;xe.push(P>>6|192,P&63|128)}else if(P<65536){if((k-=3)<0)break;xe.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((k-=4)<0)break;xe.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return xe}function ce(q){for(var k=[],P=0;P<q.length;++P)k.push(q.charCodeAt(P)&255);return k}function ge(q,k){for(var P,G,le,xe=[],Pe=0;Pe<q.length&&!((k-=2)<0);++Pe)P=q.charCodeAt(Pe),G=P>>8,le=P%256,xe.push(le),xe.push(G);return xe}function be(q){return t.toByteArray(Te(q))}function _e(q,k,P,G){for(var le=0;le<G&&!(le+P>=k.length||le>=q.length);++le)k[le+P]=q[le];return le}function Be(q,k){return q instanceof k||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===k.name}function Fe(q){return q!==q}var We=function(){for(var q="0123456789abcdef",k=new Array(256),P=0;P<16;++P)for(var G=P*16,le=0;le<16;++le)k[G+le]=q[P]+q[le];return k}()})(Y7);const{Buffer:Hf}=Y7;function Cs(...r){const t=new Cs.Request(...r),e=new XMLHttpRequest;e.withCredentials=t.credentials==="include",e.timeout=t[Ze].timeout,e.open(t.method,t.url,!1);let i=!1;try{e.responseType="arraybuffer"}catch{e.overrideMimeType("text/plain; charset=x-user-defined"),i=!0}for(const o of t.headers)e.setRequestHeader(...o);e.send(t.body||null);let n=e.getAllResponseHeaders();n=n&&n.split(`\r
`).filter(Boolean).map(o=>o.split(": ",2));let a=e.response;if(i){const o=Hf.alloc(a.length);for(let l=0;l<a.length;l++)o[l]=a.charCodeAt(l)&255;a=o}const s=new Cs.Response(a,{headers:n,status:e.status,statusText:e.statusText});return s[Ze].url=e.responseURL,s[Ze].redirected=e.responseURL!==t.url,s}const Ze=Symbol("SyncFetch Internals"),LC=["mode","cache","redirect","referrer","integrity"],jC={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};class vf{constructor(t,e={}){for(const i of LC)if(i in e)throw new TypeError(`option ${i} not supported`);if(e.credentials==="same-origin")throw new TypeError("option credentials with value 'same-origin' not supported");if(this[Ze]={method:e.method||"GET",headers:new Cs.Headers(e.headers),body:e.body?Hf.from(e.body):null,credentials:e.credentials||"omit",timeout:e.timeout||0},typeof t=="string")this[Ze].url=t;else if(t instanceof vf)this[Ze].url=t.url,e.method||(this[Ze].method=t.method),e.headers||(this[Ze].headers=t.headers),e.body||(this[Ze].body=t[Ze].body),e.credentials||(this[Ze].credentials=t.credentials);else throw new TypeError("Request input should be a URL string or a Request object")}get cache(){return"default"}get credentials(){return this[Ze].credentials}get destination(){return""}get headers(){return this[Ze].headers}get integrity(){return""}get method(){return this[Ze].method}get mode(){return"cors"}get priority(){return"auto"}get redirect(){return"follow"}get referrer(){return"about:client"}get referrerPolicy(){return""}get url(){return this[Ze].url}clone(){return Sb(this),new vf(this.url,this[Ze])}}class Km{constructor(t,e={}){this[Ze]={body:t?Hf.from(t):null,bodyUsed:!1,headers:new Cs.Headers(e.headers),status:e.status,statusText:e.statusText}}get headers(){return this[Ze].headers}get ok(){const t=this[Ze].status;return t>=200&&t<300}get redirected(){return this[Ze].redirected}get status(){return this[Ze].status}get statusText(){return this[Ze].statusText}get url(){return this[Ze].url}clone(){return this.redirect(this[Ze].url,this[Ze].status)}redirect(t,e){Sb(this);const i=new Km(this[Ze].body,{headers:this[Ze].headers,status:e||this[Ze].status,statusText:jC[e]||this[Ze].statusText});return i[Ze].url=t||this[Ze].url,i[Ze].redirected=this[Ze].redirected,i}}class gf{constructor(t){this[Ze]={body:Hf.from(t),bodyUsed:!1}}get bodyUsed(){return this[Ze].bodyUsed}static mixin(t){for(const e of Object.getOwnPropertyNames(gf.prototype)){if(e==="constructor")continue;const i=Object.getOwnPropertyDescriptor(gf.prototype,e);Object.defineProperty(t,e,{...i,enumerable:!0})}}arrayBuffer(){const t=ju(this);return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}blob(){const t=this.headers&&this.headers.get("content-type");return new Blob([ju(this)],t&&{type:t})}text(){return ju(this).toString()}json(){try{return JSON.parse(ju(this).toString())}catch(t){throw new TypeError(`invalid json response body at ${this.url} reason: ${t.message}`,"invalid-json")}}buffer(){return ju(this).clone()}}function Sb(r){if(r.bodyUsed)throw new TypeError(`body used already for: ${r.url}`)}function ju(r){return Sb(r),r[Ze].bodyUsed=!0,r[Ze].body||Hf.alloc(0)}gf.mixin(vf.prototype);gf.mixin(Km.prototype);class UC{constructor(t){if(t instanceof Cs.Headers)this[Ze]={...t[Ze]};else if(this[Ze]={},Array.isArray(t))for(const[e,i]of t)this.append(e,i);else if(typeof t=="object")for(const e in t)this.set(e,t[e])}append(t,e){t=t.toLowerCase(),this[Ze][t]||(this[Ze][t]=[]),this[Ze][t].push(e)}delete(t){delete this[Ze][t.toLowerCase()]}set(t,e){this[Ze][t.toLowerCase()]=[e]}entries(){const t=[];for(const e in this[Ze])for(const i of this[Ze][e])t.push([e,i]);return t}get(t){return t=t.toLowerCase(),t in this[Ze]?this[Ze][t].join(", "):null}keys(){return Object.keys(this[Ze])}has(t){return t.toLowerCase()in this[Ze]}values(){const t=[];for(const e in this[Ze])for(const i of this[Ze][e])t.push(i);return t}*[Symbol.iterator](){for(const t in this[Ze])for(const e of this[Ze][t])yield[t,e]}}Cs.Headers=UC;Cs.Request=vf;Cs.Response=Km;var Cg={exports:{}};(function(r,t){(function(e){function i(n){var a=n&&n.Promise||e.Promise,s=n&&n.XMLHttpRequest||e.XMLHttpRequest;return function(){var o=Object.create(e,{fetch:{value:void 0,writable:!0}});return function(l,u){u(t)}(this,function(l){var u=typeof o<"u"&&o||typeof self<"u"&&self||typeof u<"u"&&u,f={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function h(W){return W&&DataView.prototype.isPrototypeOf(W)}if(f.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(W){return W&&c.indexOf(Object.prototype.toString.call(W))>-1};function d(W){if(typeof W!="string"&&(W=String(W)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(W)||W==="")throw new TypeError("Invalid character in header field name");return W.toLowerCase()}function v(W){return typeof W!="string"&&(W=String(W)),W}function b(W){var z={next:function(){var ne=W.shift();return{done:ne===void 0,value:ne}}};return f.iterable&&(z[Symbol.iterator]=function(){return z}),z}function g(W){this.map={},W instanceof g?W.forEach(function(z,ne){this.append(ne,z)},this):Array.isArray(W)?W.forEach(function(z){this.append(z[0],z[1])},this):W&&Object.getOwnPropertyNames(W).forEach(function(z){this.append(z,W[z])},this)}g.prototype.append=function(W,z){W=d(W),z=v(z);var ne=this.map[W];this.map[W]=ne?ne+", "+z:z},g.prototype.delete=function(W){delete this.map[d(W)]},g.prototype.get=function(W){return W=d(W),this.has(W)?this.map[W]:null},g.prototype.has=function(W){return this.map.hasOwnProperty(d(W))},g.prototype.set=function(W,z){this.map[d(W)]=v(z)},g.prototype.forEach=function(W,z){for(var ne in this.map)this.map.hasOwnProperty(ne)&&W.call(z,this.map[ne],ne,this)},g.prototype.keys=function(){var W=[];return this.forEach(function(z,ne){W.push(ne)}),b(W)},g.prototype.values=function(){var W=[];return this.forEach(function(z){W.push(z)}),b(W)},g.prototype.entries=function(){var W=[];return this.forEach(function(z,ne){W.push([ne,z])}),b(W)},f.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function _(W){if(W.bodyUsed)return a.reject(new TypeError("Already read"));W.bodyUsed=!0}function y(W){return new a(function(z,ne){W.onload=function(){z(W.result)},W.onerror=function(){ne(W.error)}})}function $(W){var z=new FileReader,ne=y(z);return z.readAsArrayBuffer(W),ne}function I(W){var z=new FileReader,ne=y(z);return z.readAsText(W),ne}function A(W){for(var z=new Uint8Array(W),ne=new Array(z.length),ue=0;ue<z.length;ue++)ne[ue]=String.fromCharCode(z[ue]);return ne.join("")}function B(W){if(W.slice)return W.slice(0);var z=new Uint8Array(W.byteLength);return z.set(new Uint8Array(W)),z.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(W){this.bodyUsed=this.bodyUsed,this._bodyInit=W,W?typeof W=="string"?this._bodyText=W:f.blob&&Blob.prototype.isPrototypeOf(W)?this._bodyBlob=W:f.formData&&FormData.prototype.isPrototypeOf(W)?this._bodyFormData=W:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(W)?this._bodyText=W.toString():f.arrayBuffer&&f.blob&&h(W)?(this._bodyArrayBuffer=B(W.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(W)||m(W))?this._bodyArrayBuffer=B(W):this._bodyText=W=Object.prototype.toString.call(W):this._bodyText="",this.headers.get("content-type")||(typeof W=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(W)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var W=_(this);if(W)return W;if(this._bodyBlob)return a.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return a.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return a.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var W=_(this);return W||(ArrayBuffer.isView(this._bodyArrayBuffer)?a.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):a.resolve(this._bodyArrayBuffer))}else return this.blob().then($)}),this.text=function(){var W=_(this);if(W)return W;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return a.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return a.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(W){var z=W.toUpperCase();return x.indexOf(z)>-1?z:W}function O(W,z){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');z=z||{};var ne=z.body;if(W instanceof O){if(W.bodyUsed)throw new TypeError("Already read");this.url=W.url,this.credentials=W.credentials,z.headers||(this.headers=new g(W.headers)),this.method=W.method,this.mode=W.mode,this.signal=W.signal,!ne&&W._bodyInit!=null&&(ne=W._bodyInit,W.bodyUsed=!0)}else this.url=String(W);if(this.credentials=z.credentials||this.credentials||"same-origin",(z.headers||!this.headers)&&(this.headers=new g(z.headers)),this.method=U(z.method||this.method||"GET"),this.mode=z.mode||this.mode||null,this.signal=z.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ne),(this.method==="GET"||this.method==="HEAD")&&(z.cache==="no-store"||z.cache==="no-cache")){var ue=/([?&])_=[^&]*/;if(ue.test(this.url))this.url=this.url.replace(ue,"$1_="+new Date().getTime());else{var K=/\?/;this.url+=(K.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function F(W){var z=new FormData;return W.trim().split("&").forEach(function(ne){if(ne){var ue=ne.split("="),K=ue.shift().replace(/\+/g," "),Q=ue.join("=").replace(/\+/g," ");z.append(decodeURIComponent(K),decodeURIComponent(Q))}}),z}function D(W){var z=new g,ne=W.replace(/\r?\n[\t ]+/g," ");return ne.split("\r").map(function(ue){return ue.indexOf(`
`)===0?ue.substr(1,ue.length):ue}).forEach(function(ue){var K=ue.split(":"),Q=K.shift().trim();if(Q){var oe=K.join(":").trim();z.append(Q,oe)}}),z}T.call(O.prototype);function L(W,z){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');z||(z={}),this.type="default",this.status=z.status===void 0?200:z.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in z?z.statusText:"",this.headers=new g(z.headers),this.url=z.url||"",this._initBody(W)}T.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},L.error=function(){var W=new L(null,{status:0,statusText:""});return W.type="error",W};var H=[301,302,303,307,308];L.redirect=function(W,z){if(H.indexOf(z)===-1)throw new RangeError("Invalid status code");return new L(null,{status:z,headers:{location:W}})},l.DOMException=u.DOMException;try{new l.DOMException}catch{l.DOMException=function(z,ne){this.message=z,this.name=ne;var ue=Error(z);this.stack=ue.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function Y(W,z){return new a(function(ne,ue){var K=new O(W,z);if(K.signal&&K.signal.aborted)return ue(new l.DOMException("Aborted","AbortError"));var Q=new s;function oe(){Q.abort()}Q.onload=function(){var we={status:Q.status,statusText:Q.statusText,headers:D(Q.getAllResponseHeaders()||"")};we.url="responseURL"in Q?Q.responseURL:we.headers.get("X-Request-URL");var Se="response"in Q?Q.response:Q.responseText;setTimeout(function(){ne(new L(Se,we))},0)},Q.onerror=function(){setTimeout(function(){ue(new TypeError("Network request failed"))},0)},Q.ontimeout=function(){setTimeout(function(){ue(new TypeError("Network request failed"))},0)},Q.onabort=function(){setTimeout(function(){ue(new l.DOMException("Aborted","AbortError"))},0)};function Ae(we){try{return we===""&&u.location.href?u.location.href:we}catch{return we}}Q.open(K.method,Ae(K.url),!0),K.credentials==="include"?Q.withCredentials=!0:K.credentials==="omit"&&(Q.withCredentials=!1),"responseType"in Q&&(f.blob?Q.responseType="blob":f.arrayBuffer&&K.headers.get("Content-Type")&&K.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Q.responseType="arraybuffer")),z&&typeof z.headers=="object"&&!(z.headers instanceof g)?Object.getOwnPropertyNames(z.headers).forEach(function(we){Q.setRequestHeader(we,v(z.headers[we]))}):K.headers.forEach(function(we,Se){Q.setRequestHeader(Se,we)}),K.signal&&(K.signal.addEventListener("abort",oe),Q.onreadystatechange=function(){Q.readyState===4&&K.signal.removeEventListener("abort",oe)}),Q.send(typeof K._bodyInit>"u"?null:K._bodyInit)})}Y.polyfill=!0,u.fetch||(u.fetch=Y,u.Headers=g,u.Request=O,u.Response=L),l.Headers=g,l.Request=O,l.Response=L,l.fetch=Y,Object.defineProperty(l,"__esModule",{value:!0})}),{fetch:o.fetch,Headers:o.Headers,Request:o.Request,Response:o.Response,DOMException:o.DOMException}}()}r.exports=i})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:jh)})(Cg,Cg.exports);var qC=Cg.exports;const HC=bb(qC),WC="@citation-js/core",GC="0.7.9",VC="Convert different bibliographic metadata sources",XC=["citation-js","citation","bibliography"],KC="Lars Willighagen <lars.willighagen@gmail.com>",YC="MIT",JC="lib/index.js",QC="lib-mjs/index.js",ZC={lib:"src",test:"__tests__"},eP="https://citation.js.org/",tP={type:"git",url:"https://github.com/citation-js/citation-js.git",directory:"packages/core"},rP={url:"https://github.com/citation-js/citation-js/issues"},iP={node:">=16.0.0"},nP=["lib","lib-mjs"],aP={test:"mocha -c -R dot test/*.spec.js"},sP={"@citation-js/date":"^0.5.0","@citation-js/name":"^0.4.2","fetch-ponyfill":"^7.1.0","sync-fetch":"^0.4.1"},oP="8fa1b9d3d420f489f9a8a57f9759b50a6369182c",lP={name:WC,version:GC,description:VC,keywords:XC,author:KC,license:YC,main:JC,module:QC,directories:ZC,homepage:eP,repository:tP,bugs:rP,engines:iP,files:nP,scripts:aP,dependencies:sP,gitHead:oP};HC();const uP=typeof location<"u"&&typeof document<"u";uP||`${lP.version}${process.version}`;function Q7(r,t){let e;for(;e===void 0||r.includes(e);)e=`${t}${Math.random().toString().slice(2)}`;return e}class Ym{constructor(t={}){this.data=t}set(t,e){return this.data[t]=e,this}add(...t){return this.set(...t)}delete(t){return delete this.data[t],this}remove(...t){return this.delete(...t)}get(t){return this.data[t]}has(t){return Object.prototype.hasOwnProperty.call(this.data,t)}list(){return Object.keys(this.data)}}class Z7{constructor(t,e){this.rules=t,this.defaultState=e,this.mainRule=Object.keys(t)[0],this.log=[]}parse(t,e){return this.lexer=t,this.token=this.lexer.next(),this.state=ko(this.defaultState),this.log=[],this.consumeRule(e||this.mainRule)}matchEndOfFile(){return!this.token}matchToken(t){return this.token&&t===this.token.type}consumeToken(t,e){const i=this.token;if(!t||i&&i.type===t)return this.token=this.lexer.next(),i;if(e)return;{const n=i?`"${i.type}"`:"EOF",a=new SyntaxError(this.lexer.formatError(i,`expected "${t}", got ${n}`));throw a.message+=` (${this.log.join("->")})`,a}}consumeRule(t){this.log.push(t);const e=this.rules[t].call(this);return this.log.pop(),e}}function fP(r){return function(e){return typeof r=="boolean"?r:Object.keys(r).every(i=>{const n=r[i];return n===!0?i in e:n===!1?!(i in e):typeof n=="function"?n(e[i]):Array.isArray(n)?n.includes(e[i]):e[i]===n})}}function cP(r,t){let e,i,n,a;if(typeof r=="string")e=i=r;else if(r)e=t?r.target:r.source,i=t?r.source:r.target,r.convert&&(n=t?r.convert.toSource:r.convert.toTarget),r.when&&(a=t?r.when.target:r.when.source,a!=null&&(a=fP(a)));else return null;return e=[].concat(e).filter(Boolean),i=[].concat(i).filter(Boolean),{inputProp:e,outputProp:i,convert:n,condition:a}}function R_(r,t){return t=t===fa.CONVERT_TO_SOURCE,r=r.map(e=>cP(e,t)).filter(Boolean),function(i){const n={};for(const{inputProp:a,outputProp:s,convert:o,condition:l}of r){if(s.length===0)continue;if(l&&!l(i))continue;if(a.length!==0&&a.every(f=>!(f in i)))continue;let u=a.map(f=>i[f]);if(o)try{const f=o.apply(i,u);u=s.length===1?[f]:f}catch(f){throw new Error(`Failed to convert ${a} to ${s}`,{cause:f})}s.forEach((f,h)=>{const c=u[h];c!==void 0&&(n[f]=c)})}return n}}class fa{constructor(t){this.convertToSource=R_(t,fa.CONVERT_TO_SOURCE),this.convertToTarget=R_(t,fa.CONVERT_TO_TARGET)}}fa.CONVERT_TO_SOURCE=Symbol("convert to source");fa.CONVERT_TO_TARGET=Symbol("convert to target");function hP(r){return r.reduce((t,e)=>{const i=t[t.length-1];return i&&i.type===e.type?i.count=i.count+1||2:t.push(e),t},[]).map(t=>(t.count>1?t.count+"x ":"")+t.type).join(" -> ")}class eS{constructor(t,e={}){this.options=Object.assign({generateGraph:!0,forceType:Eo(t),maxChainLength:10,strict:!0,target:"@csl/list+object"},e),this.type=this.options.forceType,this.data=typeof t=="object"?ko(t):t,this.graph=[{type:this.type,data:t}],this.iteration=0}iterate(){if(this.iteration!==0){const t=rS(this.type);t&&t.outputs?this.type=t.outputs:this.type=Eo(this.data),this.graph.push({type:this.type})}return this.error||this.type===this.options.target?!1:this.iteration>=this.options.maxChainLength?(this.error=new RangeError(`Max. number of parsing iterations reached (${hP(this.graph)})`),!1):(this.iteration++,!0)}end(){if(this.error){if(dn.error("[core]",this.error.message),this.options.strict!==!1)throw this.error;return[]}else return this.options.target==="@csl/list+object"?K7(this.data).map(this.options.generateGraph?t=>M7(t,this.graph):B7):this.data}}const Eb=(...r)=>{const t=new eS(...r);for(;t.iterate();)try{t.data=Jm(t.data,t.type)}catch(e){t.error=e}return t.end()},mP=r=>{const t=Eo(r),e=t.match(/array|object/)?ko(r):r;return Jm(e,t)},kb=async(...r)=>{const t=new eS(...r);for(;t.iterate();)t.data=await Tb(t.data,t.type).catch(e=>{t.error=e});return t.end()},pP=async r=>{const t=Eo(r),e=t.match(/array|object/)?ko(r):r;return Tb(e,t)},Wl={},Gl={},Pg={"@csl/object":r=>[r],"@csl/list+object":r=>r,"@else/list+object":r=>r.map(Eb).flat(),"@invalid":()=>{throw new Error("This format is not supported or recognized")}},Dg={"@else/list+object":async r=>(await Promise.all(r.map(kb))).flat()};function Jm(r,t){if(typeof Wl[t]=="function")return Wl[t](r);if(typeof Pg[t]=="function")return Pg[t](r);throw new TypeError(`No synchronous parser found for ${t}`)}async function Tb(r,t){if(typeof Gl[t]=="function")return Gl[t](r);if(typeof Dg[t]=="function")return Dg[t](r);if(tS(t,!1))return Jm(r,t);throw new TypeError(`No parser found for ${t}`)}function Ng(r,{parser:t,async:e}){e?Gl[r]=t:Wl[r]=t}function tS(r,t){return t?Gl[r]||Dg[r]:Wl[r]||Pg[r]}function Rg(r,t){delete(t?Gl:Wl)[r]}function dP(r){return Object.keys(r?Gl:Wl)}const To={};function vP(r,t){const e=new q7(r,t);e.validate();const i=To[r]||(To[r]={});e.typeParser&&(z7(r,e.typeParser),i.type=!0),e.dataParser&&(Ng(r,e.dataParser),i.data=!0),e.asyncDataParser&&(Ng(r,e.asyncDataParser),i.asyncData=!0),t.outputs&&(i.outputs=t.outputs)}function rS(r){return To[r]}function gP(r){const t=To[r];t&&(t.type&&L7(r),t.data&&Rg(r),t.asyncData&&Rg(r,!0),delete To[r])}function bP(r){return r in To}function yP(){return Object.keys(To)}const $P=Object.assign({},KI,YI,iC,OC),_P=Object.freeze(Object.defineProperty({__proto__:null,add:vP,addDataParser:Ng,addTypeParser:z7,chain:Eb,chainAsync:kb,chainLink:mP,chainLinkAsync:pP,data:Jm,dataAsync:Tb,get:rS,has:bP,hasDataParser:tS,hasTypeParser:JI,list:yP,listDataParser:dP,listTypeParser:QI,remove:gP,removeDataParser:Rg,removeTypeParser:L7,treeTypeParser:ZI,type:Eo,typeMatcher:j7,util:$P},Symbol.toStringTag,{value:"Module"}));function wP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data.push(...Eb(r,t)),this.data.filter(i=>!Object.prototype.hasOwnProperty.call(i,"id")).forEach(i=>{i.id=Q7(this.getIds(),"temp_id_")}),this}async function xP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data.push(...await kb(r,t)),this.data.filter(i=>!Object.prototype.hasOwnProperty.call(i,"id")).forEach(i=>{i.id=Q7(this.getIds(),"temp_id_")}),this}function SP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data=[],typeof t!="boolean"?this.add(r,t):this.add(r)}async function EP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data=[],typeof t!="boolean"?this.addAsync(r,t):this.addAsync(r)}function kP(r){return r&&this.save(),this.data=[],this._options={},this}const TP=Object.freeze(Object.defineProperty({__proto__:null,add:wP,addAsync:xP,reset:kP,set:SP,setAsync:EP},Symbol.toStringTag,{value:"Module"}));function iS(r){if("citation-label"in r)return r["citation-label"];let t="";return r.author&&(t+=r.author[0].family||r.author[0].literal),r.issued&&r.issued["date-parts"]&&r.issued["date-parts"][0]&&(t+=r.issued["date-parts"][0][0]),r["year-suffix"]?t+=r["year-suffix"]:r.title&&(t+=r.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),t}const OP={label(r){return r.reduce((t,e)=>(t[e.id]=iS(e),t),{})}};function M_(r,t,e=t==="label"){let i=e?iS(r):r[t];switch(t){case"author":case"editor":return i.map(n=>n.literal||n.family||yb.format(n));case"accessed":case"issued":return i["date-parts"][0];case"page":return i.split("-").map(n=>parseInt(n));case"edition":case"issue":case"volume":return i=parseInt(i),isNaN(i)?-1/0:i;default:return i||-1/0}}function AP(r,t,e,i=/^!/.test(e)){e=e.replace(/^!/,"");const n=M_(r,e),a=M_(t,e);return(i?-1:1)*(n>a?1:n<a?-1:0)}function IP(...r){return(t,e)=>{const i=r.slice();let n=0;for(;!n&&i.length;)n=AP(t,e,i.shift());return n}}function CP(r=[],t){return t&&this.save(),this.data.sort(typeof r=="function"?r:IP(...r,"label")),this}const PP=Object.freeze(Object.defineProperty({__proto__:null,sort:CP},Symbol.toStringTag,{value:"Module"}));function DP(r,t){if(typeof r!="string")throw new TypeError(`Invalid output format name, expected string, got ${typeof r}`);if(typeof t!="function")throw new TypeError(`Invalid formatter, expected function, got ${typeof t}`)}const Oo=new Ym;function NP(r,t){DP(r,t),Oo.set(r,t)}function RP(r){Oo.remove(r)}function MP(r){return Oo.has(r)}function BP(){return Oo.list()}function nS(r,t,...e){if(!Oo.has(r))throw new Error(`Output format "${r}" unavailable`);return Oo.get(r)(t,...e)}const FP=Object.freeze(Object.defineProperty({__proto__:null,add:NP,format:nS,has:MP,list:BP,register:Oo,remove:RP},Symbol.toStringTag,{value:"Module"}));function zP(){return this.data.map(r=>r.id)}function LP(r,...t){return nS(r,V7(this.data),...t)}function jP(r={}){Gm(r);const t=Object.assign({},this.defaultOptions,this._options.output,r),{type:e,style:i}=t,[n,a]=i.split("-"),s=n==="citation"?"bibliography":n==="csl"?"data":n,o=e==="string"?"text":e==="json"?"object":e;let l;switch(s){case"bibliography":{const{lang:h,append:c,prepend:m}=t;l={template:a,lang:h,format:o,append:c,prepend:m};break}case"data":case"bibtex":case"bibtxt":case"ndjson":case"ris":l={type:o};break;default:throw new Error(`Invalid style "${s}"`)}const u=this.format(s,Object.assign(l,r._newOptions)),{format:f}=t;if(f==="real"&&o==="html"&&typeof document<"u"&&typeof document.createElement=="function"){const h=document.createElement("div");return h.innerHTML=u,h.firstChild}else return f==="string"&&typeof u=="object"?JSON.stringify(u):u}const UP=Object.freeze(Object.defineProperty({__proto__:null,format:LP,get:jP,getIds:zP},Symbol.toStringTag,{value:"Module"}));function qP(r,t,e){typeof t=="function"&&!e&&(e=t,t=void 0);const i=new this().setAsync(r,t);if(typeof e=="function"){i.then(e);return}else return i}const HP=Object.freeze(Object.defineProperty({__proto__:null,async:qP,validateOptions:WI,validateOutputOptions:Gm},Symbol.toStringTag,{value:"Module"}));function Ao(r,t={}){return this instanceof Ao?(this._options=t,this.log=[],this.data=[],this.set(r,t),this.options(t),this):new Ao(r,t)}Object.assign(Ao.prototype,HI,XI,TP,PP,UP);Ao.prototype[Symbol.iterator]=function*(){yield*this.data};Object.assign(Ao,HP);function WP(r,t){if(typeof r!="string")throw new TypeError(`Invalid dict name, expected string, got ${typeof r}`);if(typeof t!="object")throw new TypeError(`Invalid dict, expected object, got ${typeof t}`);for(const e in t){const i=t[e];if(!Array.isArray(i)||i.some(n=>typeof n!="string"))throw new TypeError(`Invalid dict entry "${e}", expected array of strings`)}}const Io=new Ym({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["",`
`],entry:["",`
`],list:[`
`,""],listItem:["	",`
`]}});function GP(r,t){WP(r,t),Io.set(r,t)}function VP(r){Io.remove(r)}function aS(r){return Io.has(r)}function XP(){return Io.list()}function Ob(r){if(!Io.has(r))throw new Error(`Dict "${r}" unavailable`);return Io.get(r)}const KP={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},YP={wr_start:"",wr_end:`
`,en_start:"",en_end:`
`,ul_start:`
`,ul_end:"",li_start:"	",li_end:`
`},JP=Object.freeze(Object.defineProperty({__proto__:null,add:GP,get:Ob,has:aS,htmlDict:KP,list:XP,register:Io,remove:VP,textDict:YP},Symbol.toStringTag,{value:"Module"})),Wf={};function QP(r,t){Wf[r]=t}function ZP(r){return Wf[r]}function eD(r){return Object.prototype.hasOwnProperty.call(Wf,r)}function tD(r){delete Wf[r]}function rD(){return Object.keys(Wf)}const iD=Object.freeze(Object.defineProperty({__proto__:null,add:QP,get:ZP,has:eD,list:rD,remove:tD},Symbol.toStringTag,{value:"Module"})),B_={input:_P,output:FP,dict:JP,config:iD};function Ab(r,t={}){const e={};for(const i in t){if(i==="config"){e.config={[r]:t.config},B_.config.add(r,t.config);continue}const n=e[i]={},a=t[i];for(const s in a){const o=a[s];n[s]=!0,B_[i].add(s,o)}}}function Vd(){return[]}const nD=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];function aD(r){if(typeof r!="string")return JSON.parse(r);try{return JSON.parse(r)}catch{return dn.debug("[plugin-common]","Invalid JSON, switching to experimental parser"),nD.forEach(([e,i])=>{r=r.replace(e,i)}),JSON.parse(r)}}function sD(r){return r.val()||r.text()||r.html()}function oD(r){return r.value||r.textContent}const lD="@else",uD={"@empty/text":{parse:Vd,parseType:{dataType:"String",predicate:r=>r===""}},"@empty/whitespace+text":{parse:Vd,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:Vd,parseType:{dataType:"Primitive",predicate:r=>r==null}},"@else/json":{parse:aD,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:sD,parseType:{dataType:"ComplexObject",predicate(r){return typeof jQuery<"u"&&r instanceof jQuery}}},"@else/html":{parse:oD,parseType:{dataType:"ComplexObject",predicate(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}}}};function sS(r,t,e){return r+(t<e.length-1?",":"")}function oS(r,t){const e=Array.isArray(r);let i;return e?i=r.map(n=>F_(n,t)):i=Object.keys(r).filter(n=>JSON.stringify(r[n])).map(n=>`"${n}": ${F_(r[n],t)}`),i=i.map(sS).map(n=>t.listItem.join(n)),i=t.list.join(i.join("")),e?`[${i}]`:`{${i}}`}function F_(r,t){return typeof r=="object"&&r!==null?r.length===0?"[]":Object.keys(r).length===0?"{}":oS(r,t):JSON.stringify(r)}function fD(r,t){let e=r.map(i=>oS(i,t));return e=e.map(sS).map(i=>t.entry.join(i)),e=e.join(""),t.bibliographyContainer.join(`[${e}]`)}const cD={data(r,{type:t,format:e=t||"text",version:i="1.0.2"}={}){return i<"1.0.2"&&(r=df(r)),e==="object"?ko(r):e==="text"?JSON.stringify(r,null,2):(dn.warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),fD(r,Ob(e)))},ndjson(r,{version:t="1.0.2"}={}){return t<"1.0.2"&&(r=df(r)),r.map(e=>JSON.stringify(e)).join(`
`)}},hD=Object.assign({},cD,OP);Ab(lD,{input:uD,output:hD});var lS={exports:{}};(function(r){(function(t,e){r.exports?r.exports=e():t.moo=e()})(jh,function(){var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,i=typeof new RegExp().sticky=="boolean";function n(O){return O&&e.call(O)==="[object RegExp]"}function a(O){return O&&typeof O=="object"&&!n(O)&&!Array.isArray(O)}function s(O){return O.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(O){var F=new RegExp("|"+O);return F.exec("").length-1}function l(O){return"("+O+")"}function u(O){if(!O.length)return"(?!)";var F=O.map(function(D){return"(?:"+D+")"}).join("|");return"(?:"+F+")"}function f(O){if(typeof O=="string")return"(?:"+s(O)+")";if(n(O)){if(O.ignoreCase)throw new Error("RegExp /i flag not allowed");if(O.global)throw new Error("RegExp /g flag is implied");if(O.sticky)throw new Error("RegExp /y flag is implied");if(O.multiline)throw new Error("RegExp /m flag is implied");return O.source}else throw new Error("Not a pattern: "+O)}function h(O,F){return O.length>F?O:Array(F-O.length+1).join(" ")+O}function c(O,F){for(var D=O.length,L=0;;){var H=O.lastIndexOf(`
`,D-1);if(H===-1||(L++,D=H,L===F)||D===0)break}var Y=L<F?0:D+1;return O.substring(Y).split(`
`)}function m(O){for(var F=Object.getOwnPropertyNames(O),D=[],L=0;L<F.length;L++){var H=F[L],Y=O[H],W=[].concat(Y);if(H==="include"){for(var z=0;z<W.length;z++)D.push({include:W[z]});continue}var ne=[];W.forEach(function(ue){a(ue)?(ne.length&&D.push(v(H,ne)),D.push(v(H,ue)),ne=[]):ne.push(ue)}),ne.length&&D.push(v(H,ne))}return D}function d(O){for(var F=[],D=0;D<O.length;D++){var L=O[D];if(L.include){for(var H=[].concat(L.include),Y=0;Y<H.length;Y++)F.push({include:H[Y]});continue}if(!L.type)throw new Error("Rule has no type: "+JSON.stringify(L));F.push(v(L.type,L))}return F}function v(O,F){if(a(F)||(F={match:F}),F.include)throw new Error("Matching rules cannot also include states");var D={defaultType:O,lineBreaks:!!F.error||!!F.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var L in F)t.call(F,L)&&(D[L]=F[L]);if(typeof D.type=="string"&&O!==D.type)throw new Error("Type transform cannot be a string (type '"+D.type+"' for token '"+O+"')");var H=D.match;return D.match=Array.isArray(H)?H:H?[H]:[],D.match.sort(function(Y,W){return n(Y)&&n(W)?0:n(W)?-1:n(Y)?1:W.length-Y.length}),D}function b(O){return Array.isArray(O)?d(O):m(O)}var g=v("error",{lineBreaks:!0,shouldThrow:!0});function _(O,F){for(var D=null,L=Object.create(null),H=!0,Y=null,W=[],z=[],ne=0;ne<O.length;ne++)O[ne].fallback&&(H=!1);for(var ne=0;ne<O.length;ne++){var ue=O[ne];if(ue.include)throw new Error("Inheritance is not allowed in stateless lexers");if(ue.error||ue.fallback){if(D)throw!ue.fallback==!D.fallback?new Error("Multiple "+(ue.fallback?"fallback":"error")+" rules not allowed (for token '"+ue.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+ue.defaultType+"')");D=ue}var K=ue.match.slice();if(H)for(;K.length&&typeof K[0]=="string"&&K[0].length===1;){var Q=K.shift();L[Q.charCodeAt(0)]=ue}if(ue.pop||ue.push||ue.next){if(!F)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+ue.defaultType+"')");if(ue.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+ue.defaultType+"')")}if(K.length!==0){H=!1,W.push(ue);for(var oe=0;oe<K.length;oe++){var Ae=K[oe];if(n(Ae)){if(Y===null)Y=Ae.unicode;else if(Y!==Ae.unicode&&ue.fallback===!1)throw new Error("If one rule is /u then all must be")}}var we=u(K.map(f)),Se=new RegExp(we);if(Se.test(""))throw new Error("RegExp matches empty string: "+Se);var Te=o(we);if(Te>0)throw new Error("RegExp has capture groups: "+Se+`
Use (?: … ) instead`);if(!ue.lineBreaks&&Se.test(`
`))throw new Error("Rule should declare lineBreaks: "+Se);z.push(l(we))}}var Ie=D&&D.fallback,ce=i&&!Ie?"ym":"gm",ge=i||Ie?"":"|";Y===!0&&(ce+="u");var be=new RegExp(u(z)+ge,ce);return{regexp:be,groups:W,fast:L,error:D||g}}function y(O){var F=_(b(O));return new B({start:F},"start")}function $(O,F,D){var L=O&&(O.push||O.next);if(L&&!D[L])throw new Error("Missing state '"+L+"' (in token '"+O.defaultType+"' of state '"+F+"')");if(O&&O.pop&&+O.pop!=1)throw new Error("pop must be 1 (in token '"+O.defaultType+"' of state '"+F+"')")}function I(O,F){var D=O.$all?b(O.$all):[];delete O.$all;var L=Object.getOwnPropertyNames(O);F||(F=L[0]);for(var H=Object.create(null),Y=0;Y<L.length;Y++){var W=L[Y];H[W]=b(O[W]).concat(D)}for(var Y=0;Y<L.length;Y++)for(var W=L[Y],z=H[W],ne=Object.create(null),ue=0;ue<z.length;ue++){var K=z[ue];if(K.include){var Q=[ue,1];if(K.include!==W&&!ne[K.include]){ne[K.include]=!0;var oe=H[K.include];if(!oe)throw new Error("Cannot include nonexistent state '"+K.include+"' (in state '"+W+"')");for(var Ae=0;Ae<oe.length;Ae++){var we=oe[Ae];z.indexOf(we)===-1&&Q.push(we)}}z.splice.apply(z,Q),ue--}}for(var Se=Object.create(null),Y=0;Y<L.length;Y++){var W=L[Y];Se[W]=_(H[W],!0)}for(var Y=0;Y<L.length;Y++){for(var Te=L[Y],Ie=Se[Te],ce=Ie.groups,ue=0;ue<ce.length;ue++)$(ce[ue],Te,Se);for(var ge=Object.getOwnPropertyNames(Ie.fast),ue=0;ue<ge.length;ue++)$(Ie.fast[ge[ue]],Te,Se)}return new B(Se,F)}function A(O){for(var F=typeof Map<"u",D=F?new Map:Object.create(null),L=Object.getOwnPropertyNames(O),H=0;H<L.length;H++){var Y=L[H],W=O[Y],z=Array.isArray(W)?W:[W];z.forEach(function(ne){if(typeof ne!="string")throw new Error("keyword must be string (in keyword '"+Y+"')");F?D.set(ne,Y):D[ne]=Y})}return function(ne){return F?D.get(ne):D[ne]}}var B=function(O,F){this.startState=F,this.states=O,this.buffer="",this.stack=[],this.reset()};B.prototype.reset=function(O,F){return this.buffer=O||"",this.index=0,this.line=F?F.line:1,this.col=F?F.col:1,this.queuedToken=F?F.queuedToken:null,this.queuedText=F?F.queuedText:"",this.queuedThrow=F?F.queuedThrow:null,this.setState(F?F.state:this.startState),this.stack=F&&F.stack?F.stack.slice():[],this},B.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},B.prototype.setState=function(O){if(!(!O||this.state===O)){this.state=O;var F=this.states[O];this.groups=F.groups,this.error=F.error,this.re=F.regexp,this.fast=F.fast}},B.prototype.popState=function(){this.setState(this.stack.pop())},B.prototype.pushState=function(O){this.stack.push(this.state),this.setState(O)};var T=i?function(O,F){return O.exec(F)}:function(O,F){var D=O.exec(F);return D[0].length===0?null:D};B.prototype._getGroup=function(O){for(var F=this.groups.length,D=0;D<F;D++)if(O[D+1]!==void 0)return this.groups[D];throw new Error("Cannot find token type for matched text")};function x(){return this.value}if(B.prototype.next=function(){var O=this.index;if(this.queuedGroup){var F=this._token(this.queuedGroup,this.queuedText,O);return this.queuedGroup=null,this.queuedText="",F}var D=this.buffer;if(O!==D.length){var W=this.fast[D.charCodeAt(O)];if(W)return this._token(W,D.charAt(O),O);var L=this.re;L.lastIndex=O;var H=T(L,D),Y=this.error;if(H==null)return this._token(Y,D.slice(O,D.length),O);var W=this._getGroup(H),z=H[0];return Y.fallback&&H.index!==O?(this.queuedGroup=W,this.queuedText=z,this._token(Y,D.slice(O,H.index),O)):this._token(W,z,O)}},B.prototype._token=function(O,F,D){var L=0;if(O.lineBreaks){var H=/\n/g,Y=1;if(F===`
`)L=1;else for(;H.exec(F);)L++,Y=H.lastIndex}var W={type:typeof O.type=="function"&&O.type(F)||O.defaultType,value:typeof O.value=="function"?O.value(F):F,text:F,toString:x,offset:D,lineBreaks:L,line:this.line,col:this.col},z=F.length;if(this.index+=z,this.line+=L,L!==0?this.col=z-Y+1:this.col+=z,O.shouldThrow){var ne=new Error(this.formatError(W,"invalid syntax"));throw ne}return O.pop?this.popState():O.push?this.pushState(O.push):O.next&&this.setState(O.next),W},typeof Symbol<"u"&&Symbol.iterator){var U=function(O){this.lexer=O};U.prototype.next=function(){var O=this.lexer.next();return{value:O,done:!O}},U.prototype[Symbol.iterator]=function(){return this},B.prototype[Symbol.iterator]=function(){return new U(this)}}return B.prototype.formatError=function(O,F){if(O==null)var D=this.buffer.slice(this.index),O={text:D,offset:this.index,lineBreaks:D.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var L=2,H=Math.max(O.line-L,1),Y=O.line+L,W=String(Y).length,z=c(this.buffer,this.line-O.line+L+1).slice(0,5),ne=[];ne.push(F+" at line "+O.line+" col "+O.col+":"),ne.push("");for(var ue=0;ue<z.length;ue++){var K=z[ue],Q=H+ue;ne.push(h(String(Q),W)+"  "+K),Q===O.line&&ne.push(h("",W+O.col+1)+"^")}return ne.join(`
`)},B.prototype.clone=function(){return new B(this.states,this.state)},B.prototype.has=function(O){return!0},{compile:y,states:I,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:A}})})(lS);var mD=lS.exports;const uS=bb(mD),pD={article:"article-journal",book:"book",mvbook:"book",inbook:"chapter",bookinbook:"book",booklet:"book",collection:"book",mvcollection:"book",incollection:"chapter",dataset:"dataset",manual:"report",misc:"document",online:"webpage",patent:"patent",periodical:"periodical",proceedings:"book",mvproceedings:"book",inproceedings:"paper-conference",reference:"book",mvreference:"book",inreference:"entry",report:"report",software:"software",thesis:"thesis",unpublished:"manuscript",artwork:"graphic",audio:"song",image:"figure",jurisdiction:"legal_case",legislation:"legislation",legal:"treaty",letter:"personal_communication",movie:"motion_picture",music:"musical_score",performance:"performance",review:"review",standard:"standard",video:"motion_picture",conference:"paper-conference",electronic:"webpage",mastersthesis:"thesis",phdthesis:"thesis",techreport:"report",www:"webpage"},dD={article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",bill:"legislation",book:"book",broadcast:"audio",chapter:"inbook",classic:"unpublished",collection:"misc",dataset:"dataset",document:"misc",entry:"inreference","entry-dictionary":"inreference","entry-encyclopedia":"inreference",event:"misc",figure:"artwork",graphic:"artwork",hearing:"legal",interview:"audio",legal_case:"jurisdiction",legislation:"legislation",manuscript:"unpublished",motion_picture:"movie",musical_score:"music","paper-conference":"inproceedings",patent:"patent",performance:"performance",periodical:"periodical",personal_communication:"letter",post:"online","post-weblog":"online",regulation:"legal",report:"report",review:"review","review-book":"review",software:"software",song:"music",speech:"audio",standard:"standard",thesis:"thesis",treaty:"legal",webpage:"online"},Mg={source:pD,target:dD},vD={article:"article-journal",book:"book",booklet:"book",conference:"paper-conference",inbook:"chapter",incollection:"chapter",inproceedings:"paper-conference",manual:"report",mastersthesis:"thesis",misc:"document",phdthesis:"thesis",proceedings:"book",techreport:"report",unpublished:"manuscript"},gD={article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",book:"book",chapter:"inbook",manuscript:"unpublished","paper-conference":"inproceedings",report:"techreport",review:"article","review-book":"article"},Bg={source:vD,target:gD},bD={article:["author","title","journaltitle",["year","date"]],book:["author","title",["year","date"]],mvbook:["author","title",["year","date"]],inbook:["author","title","booktitle",["year","date"]],booklet:[["author","editor"],"title",["year","date"]],collection:["editor","title",["year","date"]],mvcollection:["editor","title",["year","date"]],incollection:["author","title","booktitle",["year","date"]],dataset:[["author","editor"],"title",["year","date"]],online:[["author","editor"],"title",["year","date"],["doi","eprint","url"]],patent:["author","title","number",["year","date"]],periodical:["editor","title",["year","date"]],proceedings:["title",["year","date"]],mvproceedings:["title",["year","date"]],inproceedings:["author","title","booktitle",["year","date"]],report:["author","title","type","institution",["year","date"]],thesis:["author","title","type","institution",["year","date"]],unpublished:["author","title",["year","date"]],conference:["author","title","booktitle",["year","date"]],electronic:[["author","editor"],"title",["year","date"],["doi","eprint","url"]],mastersthesis:["author","title","institution",["year","date"]],phdthesis:["author","title","institution",["year","date"]],techreport:["author","title","institution",["year","date"]],www:[["author","editor"],"title",["year","date"],["doi","eprint","url"]]},yD={article:["author","title","journal","year"],book:[["author","editor"],"title","publisher","year"],booklet:["title"],inbook:[["author","editor"],"title",["chapter","pages"],"publisher","year"],incollection:["author","title","booktitle","publisher","year"],inproceedings:["author","title","booktitle","year"],mastersthesis:["author","title","school","year"],phdthesis:["author","title","school","year"],proceedings:["title","year"],techreport:["author","title","institution","year"],unpublished:["author","title","note"]},$D={biblatex:bD,bibtex:yD},_D=["field","literal"],wD=["field","literal"],xD=["list","name"],SD=["field","literal"],ED=["list","name"],kD=["list","name"],TD=["field","key"],OD=["list","name"],AD=["field","key"],ID=["field","literal"],CD=["field","title"],PD=["field","literal"],DD=["field","literal"],ND=["list","name"],RD=["field","date"],MD=["field","verbatim"],BD=["field","literal"],FD=["list","name"],zD=["list","name"],LD=["list","name"],jD=["list","name"],UD=["field","key"],qD=["field","key"],HD=["field","key"],WD=["field","key"],GD=["field","literal"],VD=["field","literal"],XD=["field","verbatim"],KD=["field","literal"],YD=["field","literal"],JD=["field","date"],QD=["field","title"],ZD=["field","literal"],eN=["field","verbatim"],tN=["list","name"],rN=["list","name"],iN=["field","literal"],nN=["field","literal"],aN=["list","literal"],sN=["list","name"],oN=["field","literal"],lN=["field","literal"],uN=["field","literal"],fN=["field","literal"],cN=["field","literal"],hN=["field","literal"],mN=["field","literal"],pN=["field","literal"],dN=["field","literal"],vN=["field","literal"],gN=["field","literal"],bN=["field","literal"],yN=["list","key"],$N=["field","literal"],_N=["list","literal"],wN=["field","literal"],xN=["field","title"],SN=["field","literal"],EN=["field","literal"],kN=["field","literal"],TN=["field","literal"],ON=["field","literal"],AN=["list","literal"],IN=["field","date"],CN=["list","key"],PN=["list","literal"],DN=["list","literal"],NN=["field","title"],RN=["field","range"],MN=["field","literal"],BN=["field","key"],FN=["field","literal"],zN=["list","literal"],LN=["field","key"],jN=["field","literal"],UN=["field","title"],qN=["list","name"],HN=["list","name"],WN=["field","literal"],GN=["field","literal"],VN=["field","literal"],XN=["field","literal"],KN=["field","title"],YN=["field","literal"],JN=["field","title"],QN=["field","literal"],ZN=["list","name"],eR=["field","title"],tR=["field","uri"],rR=["field","date"],iR=["field","literal"],nR=["field","literal"],aR=["field","integer"],sR=["field","integer"],oR=["field","literal"],lR=["field","entry key"],uR=["separated","literal"],fR=["field","code"],cR=["field","gender"],hR=["field","identifier"],mR=["field","literal"],pR=["separated","entry key"],dR=["field","literal"],vR=["separated","literal"],gR=["separated","options"],bR=["field","string"],yR=["separated","literal"],$R=["separated","literal"],_R=["field","identifier"],wR=["field","literal"],xR=["field","literal"],SR=["list","name"],ER=["field","literal"],kR=["field","literal"],TR=["field","integer"],OR=["separated","entry key"],AR=["field","entry key"],IR=["list","name"],CR=["list","name"],PR=["list","name"],DR=["field","key"],NR=["field","key"],RR=["field","key"],MR=["list","literal"],BR=["list","literal"],FR=["list","literal"],zR=["list","literal"],LR=["list","literal"],jR=["list","literal"],UR=["field","literal"],qR=["field","literal"],HR=["field","literal"],WR=["field","literal"],GR=["field","literal"],VR=["field","literal"],XR=["field","literal"],KR=["field","literal"],YR=["field","literal"],JR=["list","literal"],QR=["field","literal"],ZR=["field","literal"],eM=["field","literal"],tM=["field","literal"],rM=["field","verbatim"],iM=["field","literal"],nM=["list","literal"],aM=["field","integer"],sM=["field","literal"],oM=["field","literal"],lM={abstract:_D,addendum:wD,afterword:xD,annotation:SD,annotator:ED,author:kD,authortype:TD,bookauthor:OD,bookpagination:AD,booksubtitle:ID,booktitle:CD,booktitleaddon:PD,chapter:DD,commentator:ND,date:RD,doi:MD,edition:BD,editor:FD,editora:zD,editorb:LD,editorc:jD,editortype:UD,editoratype:qD,editorbtype:HD,editorctype:WD,eid:GD,entrysubtype:VD,eprint:XD,eprintclass:KD,eprinttype:YD,eventdate:JD,eventtitle:QD,eventtitleaddon:ZD,file:eN,foreword:tN,holder:rN,howpublished:iN,indextitle:nN,institution:aN,introduction:sN,isan:oN,isbn:lN,ismn:uN,isrn:fN,issn:cN,issue:hN,issuesubtitle:mN,issuetitle:pN,iswc:dN,journalsubtitle:vN,journaltitle:gN,label:bN,language:yN,library:$N,location:_N,mainsubtitle:wN,maintitle:xN,maintitleaddon:SN,month:EN,nameaddon:kN,note:TN,number:ON,organization:AN,origdate:IN,origlanguage:CN,origlocation:PN,origpublisher:DN,origtitle:NN,pages:RN,pagetotal:MN,pagination:BN,part:FN,publisher:zN,pubstate:LN,reprinttitle:jN,series:UN,shortauthor:qN,shorteditor:HN,shorthand:WN,shorthandintro:GN,shortjournal:VN,shortseries:XN,shorttitle:KN,subtitle:YN,title:JN,titleaddon:QN,translator:ZN,type:eR,url:tR,urldate:rR,venue:iR,version:nR,volume:aR,volumes:sR,year:oR,crossref:lR,entryset:uR,execute:fR,gender:cR,langid:hR,langidopts:mR,ids:pR,indexsorttitle:dR,keywords:vR,options:gR,presort:bR,related:yR,relatedoptions:$R,relatedtype:_R,relatedstring:wR,sortkey:xR,sortname:SR,sortshorthand:ER,sorttitle:kR,sortyear:TR,xdata:OR,xref:AR,namea:IR,nameb:CR,namec:PR,nameatype:DR,namebtype:NR,namectype:RR,lista:MR,listb:BR,listc:FR,listd:zR,liste:LR,listf:jR,usera:UR,userb:qR,userc:HR,userd:WR,usere:GR,userf:VR,verba:XR,verbb:KR,verbc:YR,address:JR,annote:QR,archiveprefix:ZR,journal:eM,key:tM,pdf:rM,primaryclass:iM,school:nM,numpages:aM,pmid:sM,pmcid:oM},uM={"`":"̀","'":"́","^":"̂","~":"̃","=":"̄",u:"̆",".":"̇",'"':"̈",r:"̊",H:"̋",v:"̌",b:"̲",d:"̣",c:"̧",k:"̨",t:"͡",textcommabelow:"̦"},fM={textquotesingle:"'",textasciigrave:"`",textquotedbl:'"',textdollar:"$",textless:"<",textgreater:">",textbackslash:"\\",textasciicircum:"^",textunderscore:"_",textbraceleft:"{",textbar:"|",textbraceright:"}",textasciitilde:"~",textexclamdown:"¡",textcent:"¢",textsterling:"£",textcurrency:"¤",textyen:"¥",textbrokenbar:"¦",textsection:"§",textasciidieresis:"¨",textcopyright:"©",textordfeminine:"ª",guillemetleft:"«",guillemotleft:"«",textlnot:"¬",textregistered:"®",textasciimacron:"¯",textdegree:"°",textpm:"±",texttwosuperior:"²",textthreesuperior:"³",textasciiacute:"´",textmu:"µ",textparagraph:"¶",textperiodcentered:"·",textonesuperior:"¹",textordmasculine:"º",guillemetright:"»",guillemotright:"»",textonequarter:"¼",textonehalf:"½",textthreequarters:"¾",textquestiondown:"¿",AE:"Æ",DH:"Ð",texttimes:"×",O:"Ø",TH:"Þ",ss:"ß",ae:"æ",dh:"ð",textdiv:"÷",o:"ø",th:"þ",DJ:"Đ",dj:"đ",i:"ı",IJ:"Ĳ",ij:"ĳ",L:"Ł",l:"ł",NG:"Ŋ",ng:"ŋ",OE:"Œ",oe:"œ",textflorin:"ƒ",j:"ȷ",textasciicaron:"ˇ",textasciibreve:"˘",textacutedbl:"˝",textgravedbl:"˵",texttildelow:"˷",textbaht:"฿",SS:"ẞ",textcompwordmark:"‌",textendash:"–",textemdash:"—",textbardbl:"‖",textquoteleft:"‘",textquoteright:"’",quotesinglbase:"‚",textquotedblleft:"“",textquotedblright:"”",quotedblbase:"„",textdagger:"†",textdaggerdbl:"‡",textbullet:"•",textellipsis:"…",textperthousand:"‰",textpertenthousand:"‱",guilsinglleft:"‹",guilsinglright:"›",textreferencemark:"※",textinterrobang:"‽",textfractionsolidus:"⁄",textlquill:"⁅",textrquill:"⁆",textdiscount:"⁒",textcolonmonetary:"₡",textlira:"₤",textnaira:"₦",textwon:"₩",textdong:"₫",texteuro:"€",textpeso:"₱",textcelsius:"℃",textnumero:"№",textcircledP:"℗",textrecipe:"℞",textservicemark:"℠",texttrademark:"™",textohm:"Ω",textmho:"℧",textestimated:"℮",textleftarrow:"←",textuparrow:"↑",textrightarrow:"→",textdownarrow:"↓",textminus:"−",Hwithstroke:"Ħ",hwithstroke:"ħ",textasteriskcentered:"∗",textsurd:"√",textlangle:"〈",textrangle:"〉",textblank:"␢",textvisiblespace:"␣",textopenbullet:"◦",textbigcircle:"◯",textmusicalnote:"♪",textmarried:"⚭",textdivorced:"⚮",textinterrobangdown:"⸘",textcommabelow:null,copyright:"©"},cM={Gamma:"Γ",Delta:"Δ",Theta:"Θ",Lambda:"Λ",Xi:"Ξ",Pi:"Π",Sigma:"Σ",Phi:"Φ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",varepsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",pi:"π",rho:"ρ",varsigma:"ς",sigma:"σ",tau:"τ",upsilon:"υ",varphi:"φ",chi:"χ",psi:"ψ",omega:"ω",vartheta:"ϑ",Upsilon:"ϒ",phi:"ϕ",varpi:"ϖ",varrho:"ϱ",epsilon:"ϵ"},Ib={diacritics:uM,commands:fM,mathCommands:cM},Cb=$D,hm=lM,bf=Ib.diacritics,yf=Ib.commands,$f=Ib.mathCommands,fS={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"},Uh={it:"italics",itshape:"italics",sl:"italics",slshape:"italics",em:"italics",bf:"bold",bfseries:"bold",sc:"smallcaps",scshape:"smallcaps",rm:void 0,sf:void 0,tt:void 0},Fg={textit:"italics",textsl:"italics",emph:"italics",mkbibitalic:"italics",mkbibemph:"italics",textbf:"bold",strong:"bold",mkbibbold:"bold",textsc:"smallcaps",textsuperscript:"superscript",textsubscript:"subscript",enquote:"quotes",mkbibquote:"quotes",textmd:void 0,textrm:void 0,textsf:void 0,texttt:void 0,textup:void 0},mm={italics:["<i>","</i>"],bold:["<b>","</b>"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"],smallcaps:['<span style="font-variant:small-caps;">',"</span>"],nocase:['<span class="nocase">',"</span>"],quotes:["“","”"]},zg={ElsevierGlyph(r){return String.fromCharCode(parseInt(r,16))},href(r,t){return r},url(r){return r}},cS=/---?|''|``|~/g,_f={"--":"–","---":"—","``":"“","''":"”","~":" "},qh={"^":"superscript",sp:"superscript",_:"subscript",sb:"subscript",mathrm:void 0},Lg={"^":{0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻","=":"⁼","(":"⁽",")":"⁾",i:"ⁱ",n:"ⁿ"},_:{0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉","+":"₊","-":"₋","=":"₌","(":"₍",")":"₎",a:"ₐ",e:"ₑ",o:"ₒ",x:"ₓ",ə:"ₔ",h:"ₕ",k:"ₖ",l:"ₗ",m:"ₘ",n:"ₙ",s:"ₚ",p:"ₛ",t:"ₜ"}},hS=["american","british","canadian","english","australian","newzealand","usenglish","ukenglish","en","eng","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","anglais"],hM=Object.freeze(Object.defineProperty({__proto__:null,argumentCommands:zg,commands:yf,defaultStrings:fS,diacritics:bf,fieldTypes:hm,formatting:mm,formattingCommands:Fg,formattingEnvs:Uh,ligaturePattern:cS,ligatures:_f,mathCommands:$f,mathScriptFormatting:qh,mathScripts:Lg,required:Cb,sentenceCaseLanguages:hS},Symbol.toStringTag,{value:"Module"})),fi={constants:hM,types:{biblatex:Mg,bibtex:Bg},parse:{biblatex:!0,strict:!1,sentenceCase:"never"},format:{useIdAsLabel:!1,asciiOnly:!0},biber:{annotationMarker:"+an",namedAnnotationMarker:":"}};function z_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function Kn(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(e),!0).forEach(function(i){mM(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):z_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function mM(r,t,e){return t=pM(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function pM(r){var t=dM(r,"string");return typeof t=="symbol"?t:String(t)}function dM(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const L_=/[a-zA-Z_][a-zA-Z0-9_:+-]*/,qc={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},vM=uS.states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:Kn(Kn({},qc),{},{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:L_,next:"dataEntryContents"}}),otherEntryContents:Kn(Kn({},qc),{},{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:Kn(Kn({},qc),{},{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:Kn(Kn({},qc),{},{identifier:L_,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},quote:{match:'"',pop:!0},text:{match:/(?:\\[\\{]|[^{"])+/,lineBreaks:!0}},bracedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:"}",pop:!0},text:{match:/(?:\\[\\{}]|[^{}])+/,lineBreaks:!0}}}),gM={"(":")","{":"}"},bM=new Z7({Main(){const r=[];for(;;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;r.push(this.consumeRule("Entry"))}return r.filter(Boolean)},_(){let r;for(;r!==this.token;)r=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry(){this.consumeToken("at"),this.consumeRule("_");const r=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");const t=this.consumeToken("lbrace").value;this.consumeRule("_");let e;if(r==="string"){const[n,a]=this.consumeRule("Field");this.state.strings[n]=a}else if(r==="preamble")this.consumeRule("Expression");else{const n=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_");const a=this.consumeRule("EntryBody");e=Kn({type:r,label:n},a)}this.consumeRule("_");const i=this.consumeToken("rbrace").value;return i!==gM[t]&&dn.warn("[plugin-bibtex]",`entry started with "${t}", but ends with "${i}"`),e},EntryBody(){const r={properties:{}};for(;this.matchToken("identifier");){const[t,e]=this.consumeRule("Field");let i,n="default";if(t.endsWith(fi.biber.annotationMarker)?i=t.slice(0,-fi.biber.annotationMarker.length):t.includes(fi.biber.annotationMarker+fi.biber.namedAnnotationMarker)&&([i,n]=t.split(fi.biber.annotationMarker+fi.biber.namedAnnotationMarker)),i?(r.annotations||(r.annotations={}),r.annotations[i]||(r.annotations[i]={}),r.annotations[i][n]=e):r.properties[t]=e,this.consumeRule("_"),this.consumeToken("comma",!0))this.consumeRule("_");else break}return r},Field(){const r=this.consumeToken("identifier").value.toLowerCase();this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_");const t=this.consumeRule("Expression");return[r,t]},Expression(){let r=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),r+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return r},ExpressionPart(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value.toLowerCase()]||"":this.matchToken("number")?parseInt(this.consumeToken("number")):this.matchToken("quote")?this.consumeRule("QuoteString"):this.consumeRule("BracketString")},QuoteString(){let r="";for(this.consumeToken("quote");!this.matchToken("quote");)r+=this.consumeRule("Text");return this.consumeToken("quote"),r},BracketString(){let r="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)r+=this.consumeRule("Text");return this.consumeToken("rbrace"),r},Text(){return this.matchToken("lbrace")?`{${this.consumeRule("BracketString")}}`:this.consumeToken("text").value}},{strings:fS});function j_(r){return bM.parse(vM.reset(r))}const Hh={splitEntries:/\n\s*(?=\[)/g,parseEntry:/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,splitPairs:/((?=.)\s)*\n\s*/g,splitPair:/:(.*)/},yM=r=>{const[,t,e]=r.match(Hh.parseEntry)||[];if(!t||!e)return{};{const i={type:"book",label:t,properties:{}};return e.trim().split(Hh.splitPairs).filter(n=>n).forEach(n=>{let[a,s]=n.split(Hh.splitPair);s&&(a=a.trim(),s=s.trim(),a==="type"?i.type=s:i.properties[a]=s)}),i}},$M=r=>r.trim().split(Hh.splitEntries).map(yM),_M=new Set(["the","a","an"]),jg=/(?:<\/?.*?>|[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F])+/g,wM=/[^\u0020-\u007F]+/g;function U_(r){return r?r.normalize("NFKD").replace(wM,"").split(jg).find(t=>t.length&&!_M.has(t.toLowerCase())):""}const Hc=new fa([{source:"given",target:"given"},{source:"family",target:"family"},{source:"suffix",target:"suffix"},{source:"prefix",target:"non-dropping-particle"},{source:"family",target:"literal",when:{source:!1,target:{family:!1,given:!1}}}]),xM=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],yr="BibTeX type",wf="BibTeX label",fl={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},SM={bathesis:"Bachelor's thesis",mathesis:"Master's thesis",phdthesis:"PhD thesis",candthesis:"Candidate thesis",techreport:"technical report",resreport:"research report",software:"computer software",datacd:"data cd",audiocd:"audio cd",patent:"patent",patentde:"German patent",patenteu:"European patent",patentfr:"French patent",patentuk:"British patent",patentus:"U.S. patent",patreq:"patent request",patreqde:"German patent request",patreqeu:"European patent request",patreqfr:"French patent request",patrequk:"British patent request",patrequs:"U.S. patent request"},EM=/(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\d{9}|(?=[\d-]{11}$)\d+-\d+-\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\d{9}-?\d$)/i;function kM(r){const t=r.split("T")[0].replace(/[?~%]$/,"").split("-"),e=+t[0].replace(/^Y(?=-?\d{4}\d+)/,"").replace(/X/g,"0"),i=+t[1],n=+t[2];return!i||i>20?[e]:n?[e,i,n]:[e,i]}function TM(r){if(r==null)return[];if(+r)return[parseInt(r,10)];if(r=r.trim().toLowerCase(),r in fl)return[fl[r]];const t=r.split(/\s+/);let e,i;return t[0]in fl?(e=fl[t[0]],i=parseInt(t[1])):t[1]in fl&&(e=fl[t[1]],i=parseInt(t[0])),i?[e,i]:e?[e]:[]}function OM(r,t,e,i){let n="";return r&&r[0]&&(n+=U_(r[0].family||r[0].literal)),t&&t["date-parts"]&&t["date-parts"][0]&&(n+=t["date-parts"][0][0]),e?n+=e:i&&(n+=U_(i)),n}const lt={PICK:{toTarget(...r){return r.find(Boolean)},toSource(r){return[r]}},DATE:{toTarget(r){const t=r.split("/").map(e=>e&&e!==".."?kM(e):void 0);return isNaN(t[0][0])?{literal:r}:{"date-parts":t}},toSource(r){if("date-parts"in r)return r["date-parts"].map(t=>t.map(e=>e.toString().padStart(2,"0")).join("-")).join("/")}},YEAR_MONTH:{toTarget(r,t,e){return isNaN(+r)?{literal:r}:!isNaN(+e)&&!isNaN(+t)?{"date-parts":[[+r,+t,+e]]}:{"date-parts":[[+r,...TM(t)]]}},toSource(r){if("date-parts"in r){const[t,e,i]=r["date-parts"][0];return[t.toString(),e?i?`${xM[e-1]} ${i}`:e:void 0]}else return[]}},EPRINT:{toTarget(r,t){if(t==="pubmed")return r},toSource(r){return[r,"pubmed"]}},EVENT_TITLE:{toTarget(r,t){return t&&(r+=" ("+t+")"),r},toSource(r){return r.match(/^(.+)(?: \((.+)\))?$/).slice(1,3)}},HOW_PUBLISHED:{toTarget(r){if(r.startsWith("http"))return r}},KEYWORDS:{toTarget(r){return r.join(",")},toSource(r){return r.split(",")}},LABEL:{toTarget(r){return[r,r]},toSource(r,t,e,i,n,a){let s;return r===null?s="null":r===void 0?s="undefined":s=r.toString().replace(jg,""),fi.format.useIdAsLabel?s:t&&!jg.test(t)?t:OM(e,i,n,a)||s}},NAMES:{toTarget(r){return r.map(Hc.convertToTarget)},toSource(r){return r.map(Hc.convertToSource)}},NAMES_ORCID:{toTarget(r,t){return r.map((e,i)=>{var n;const a=Hc.convertToTarget(e);return typeof(t==null||(n=t.item)===null||n===void 0?void 0:n[i])=="string"&&(a._orcid=t.item[i]),a})},toSource(r){const t=[],e=[];for(let i=0;i<r.length;i++)t.push(Hc.convertToSource(r[i])),r[i]._orcid&&(e[i]=r[i]._orcid);return[t,e.length?{item:e}:void 0]}},PAGES:{toTarget(r){return r.replace(/[–—]/,"-")},toSource(r){return r.replace("-","--")}},STANDARD_NUMBERS:{toTarget(...r){return r.find(Boolean)},toSource(r){const t=r.toString().match(EM);return t?t.slice(1,5):[]}},STATUS:{toSource(r){if(/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(r))return r}},TITLE:{toTarget(r,t,e){return t&&(r+=": "+t),r},toSource(r){return[r]}}};var Pb={},Qm={};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.default=void 0;function Vl(r,t){return PM(r)||CM(r,t)||IM(r,t)||AM()}function AM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IM(r,t){if(r){if(typeof r=="string")return q_(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return q_(r,t)}}function q_(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function CM(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var i=[],n=!0,a=!1,s,o;try{for(e=e.call(r);!(n=(s=e.next()).done)&&(i.push(s.value),!(t&&i.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&e.return!=null&&e.return()}finally{if(a)throw o}}return i}}function PM(r){if(Array.isArray(r))return r}const DM={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},NM=/ (?:to|[-/]) | ?(?:--|[–—]) ?/,H_=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function lo(r){return DM[r.toLowerCase().slice(0,3)]}function RM(r){const t=new Date(r);return typeof r=="number"&&!isNaN(t.valueOf())?[t.getFullYear(),t.getMonth()+1,t.getDate()]:null}const MM=function(t){const e=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if(typeof t!="string"||!e.test(t))return null;const i=t.match(e),n=Vl(i,4),a=n[1],s=n[2],o=n[3];return+s?+o?[a,s,o]:[a,s]:[a]},BM=function(t){const e=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if(typeof t!="string"||!e.test(t))return null;let i=t.match(e),n=Vl(i,4),a=n[1],s=n[2],o=n[3];return s=lo(s),s?[o,s,a]:null};function FM(r){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if(typeof r!="string"||!t.test(r))return null;const e=r.match(t),i=Vl(e,4),n=i[1],a=i[2],s=i[3];return new Date(s,n,a).getMonth()===parseInt(n)?[s,n,a]:null}function zM(r){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,e=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let i,n,a;if(typeof r!="string")return null;if(t.test(r)){var s=r.match(t),o=Vl(s,4);a=o[1],n=o[2],i=o[3]}else if(e.test(r)){var l=r.match(e),u=Vl(l,4);i=u[1],n=u[2],a=u[3]}else return null;if(lo(n))n=lo(n);else if(isNaN(n))return null;return[i,n,a]}function LM(r){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if(typeof r=="string"&&t.test(r)){const e=r.match(t).slice(1,3);let i;if(lo(e[1]))i=lo(e.pop());else if(lo(e[0]))i=lo(e.shift());else{if(e.some(isNaN)||e.every(a=>+a<0))return null;+e[0]<0||+e[0]>+e[1]&&+e[1]>0?i=e.pop():i=e.shift()}return[e.pop(),i]}else return null}function jM(r){if(typeof r!="string")return null;const t=r.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=t.slice(1),i=Vl(e,2),n=i[0],a=i[1];return[n*(a.toLowerCase()[0]==="a"?1:-1)]}else return/^-?\d+$/.test(r)?[r]:null}function UM(r){const t=RM(r)||MM(r)||BM(r)||FM(r)||zM(r)||LM(r)||jM(r);return t&&t.map(e=>parseInt(e))}function qM(r){return H_.test(r)?r.match(H_).slice(1,3):r.split(NM)}function HM(r,t){const e=[],i=typeof r=="string"&&qM(r);t?e.push(r,t):i&&i.length===2?e.push(...i):e.push(r);const n=e.map(UM);return n.filter(Boolean).length===e.length?{"date-parts":n}:{raw:t?e.join("/"):r}}var WM=HM;Qm.default=WM;var Zm={};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.default=void 0;function Xd(r,t,e){if(r.length>=t)return r;for(;r.length<t;)r=e+r;return r.slice(-t)}const GM=function(t,e="-"){if(!t["date-parts"])return t.raw;const i=t["date-parts"][0].map(n=>n.toString());switch(i.length){case 3:i[2]=Xd(i[2],2,"0");case 2:i[1]=Xd(i[1],2,"0");case 1:i[0]=Xd(i[0],4,"0");break}return i.join(e)};var VM=GM;Zm.default=VM;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"format",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return t.default}});var t=i(Qm),e=i(Zm);function i(n){return n&&n.__esModule?n:{default:n}}})(Pb);const XM=[{source:"note",target:"accessed",when:{source:!1,target:{note:!1,addendum:!1}},convert:{toSource(r){return`[Online; accessed ${Pb.format(r)}]`}}},{source:"numpages",target:"number-of-pages",when:{source:{pagetotal:!1},target:!1}},{source:"pmid",target:"PMID",when:{source:{eprinttype(r){return r!=="pmid"},archiveprefix(r){return r!=="pmid"}},target:!1}},{source:"pmcid",target:"PMCID",when:{target:!1}},{source:"s2id",target:"custom",convert:{toTarget(r){return{S2ID:r}},toSource({S2ID:r}){return r}}}],KM=[{source:"annote",target:"annote",when:{source:{annotation:!1},target:!1}},{source:"address",target:"publisher-place",convert:lt.PICK,when:{source:{location:!1},target:!1}},{source:["eprint","archiveprefix"],target:"PMID",convert:lt.EPRINT,when:{source:{eprinttype:!1},target:!1}},{source:"journal",target:"container-title",when:{source:{maintitle:!1,booktitle:!1,journaltitle:!1},target:!1}},{source:"school",target:"publisher",convert:lt.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:!1}}],mS=new fa([...KM,...XM,{source:"abstract",target:"abstract"},{source:"urldate",target:"accessed",convert:lt.DATE},{source:"annotation",target:"annote"},{source:["author","author+an:orcid"],target:"author",convert:lt.NAMES_ORCID},{source:"library",target:"call-number"},{source:"chapter",target:"chapter-number"},{source:"bookauthor",target:"container-author",convert:lt.NAMES},{source:["maintitle","mainsubtitle","maintitleaddon"],target:"container-title",when:{source:!0,target:{"number-of-volumes":!0}},convert:lt.TITLE},{source:["booktitle","booksubtitle","booktitleaddon"],target:"container-title",when:{source:{maintitle:!1},target:{"number-of-volumes":!1,type(r){return!r||!r.startsWith("article")}}},convert:lt.TITLE},{source:["journaltitle","journalsubtitle","journaltitleaddon"],target:"container-title",when:{source:{[yr]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}},convert:lt.TITLE},{source:"shortjournal",target:"container-title-short",when:{source:{[yr]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"shortjournal",target:"journalAbbreviation",when:{source:!1,target:{"container-title-short":!1}}},{source:"number",target:"collection-number",when:{source:{[yr]:["book","mvbook","inbook","bookinbook","suppbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"shortseries",target:"collection-title-short"},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:lt.NAMES},{source:[yr,"entrysubtype","type"],target:["type","genre"],convert:{toTarget(r,t,e){return e||(r==="mastersthesis"&&(e="mathesis"),r==="phdthesis"&&(e="phdthesis"),r==="techreport"&&(e="techreport")),[Mg.source[r]||"document",e||t]},toSource(r,t){const e=Mg.target[r]||"misc";return t in SM?[e,void 0,t]:[e,t]}}},{source:yr,when:{target:{type:!1}},convert:{toSource(){return"misc"}}},{source:"eventdate",target:"event-date",convert:lt.DATE},{source:"venue",target:"event-place"},{source:["eventtitle","eventtitleaddon"],target:"event-title",convert:lt.EVENT_TITLE},{source:["eventtitle","eventtitleaddon"],target:"event",convert:lt.EVENT_TITLE,when:{source:!1,target:{"event-title":!1}}},{source:wf,target:["id","citation-key","author","issued","year-suffix","title"],convert:lt.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"issue",target:"issue",when:{source:{number:!1,[yr]:["article","periodical"]},target:{issue(r){return typeof r=="string"&&!r.match(/\d+/)},type:["article","article-journal","article-newspaper","article-magazine","periodical"]}}},{source:"number",target:"issue",when:{source:{[yr]:["article","periodical","inproceedings"]},target:{issue(r){return r&&(typeof r=="number"||r.match(/\d+/))},type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:"date",target:"issued",convert:lt.DATE},{source:["year","month","day"],target:"issued",convert:lt.YEAR_MONTH,when:{source:{date:!1},target:!1}},{source:"location",target:"jurisdiction",when:{source:{type:"patent"},target:{type:"patent"}}},{source:"keywords",target:"keyword",convert:lt.KEYWORDS},{source:"language",target:"language",convert:lt.PICK},{source:"langid",target:"language",when:{source:{language:!1},target:!1}},{source:"note",target:"note"},{source:"addendum",target:"note",when:{source:{note:!1},target:!1}},{source:"eid",target:"number",when:{target:{type:["article-journal"]}}},{source:["isan","ismn","isrn","iswc"],target:"number",convert:lt.STANDARD_NUMBERS,when:{source:{[yr](r){return r!=="patent"}},target:{type(r){return r!=="patent"}}}},{source:"number",target:"number",when:{source:{[yr]:["patent","report","techreport","legislation"]},target:{type:["patent","report","legislation"]}}},{source:"origdate",target:"original-date",convert:lt.DATE},{source:"origlocation",target:"original-publisher-place",convert:lt.PICK},{source:"origpublisher",target:"original-publisher",convert:lt.PICK},{source:"origtitle",target:"original-title"},{source:"pages",target:"page",when:{source:{bookpagination:[void 0,"page"]}},convert:lt.PAGES},{source:"pagetotal",target:"number-of-pages"},{source:"part",target:"part-number"},{source:["eprint","eprinttype"],target:"PMID",convert:lt.EPRINT},{source:"location",target:"publisher-place",convert:lt.PICK},{source:"publisher",target:"publisher",convert:lt.PICK,when:{source:!0,target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty"]}}},{source:"organization",target:"publisher",convert:lt.PICK,when:{source:{publisher:!1},target:{type:"webpage"}}},{source:"institution",target:"publisher",convert:lt.PICK,when:{source:{publisher:!1,organization:!1},target:{type:["report","thesis"]}}},{source:"howpublished",target:"publisher",convert:lt.PICK,when:{source:{howpublished(r){return r&&!r.startsWith("http")},publisher:!1,organization:!1,institution:!1},target:{type:"manuscript"}}},{source:["pages","bookpagination"],target:"section",when:{source:{bookpagination:"section"},target:{page:!1}},convert:{toTarget(r){return r},toSource(r){return[r,"section"]}}},{source:"pubstate",target:"status",convert:lt.STATUS},{source:"shorttitle",target:"title-short"},{source:"shorttitle",target:"shortTitle",when:{source:!1,target:{"title-short":!1}}},{source:["title","subtitle","titleaddon"],target:"title",convert:lt.TITLE},{source:"translator",target:"translator",convert:lt.NAMES},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:lt.HOW_PUBLISHED,when:{source:{url:!1},target:!1}},{source:"version",target:"version"},{source:"volume",target:"volume"},{source:"volumes",target:"number-of-volumes"},{source:["issuetitle","issuesubtitle","issuetitleaddon"],target:"volume-title",convert:lt.TITLE}]),pS=new fa([{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource(r){return`[Online; accessed ${Pb.format(r)}]`}}},{source:"annote",target:"annote"},{source:"address",target:"publisher-place",convert:lt.PICK},{source:"author",target:"author",convert:lt.NAMES},{source:"chapter",target:"chapter-number"},{source:"number",target:"collection-number",when:{source:{[yr]:["book","mvbook","inbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"booktitle",target:"container-title",when:{target:{type:["chapter","paper-conference"]}}},{source:"journal",target:"container-title",when:{source:{[yr]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:lt.NAMES},{source:wf,target:["id","citation-key","author","issued","year-suffix","title"],convert:lt.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"number",target:"issue",when:{source:{[yr]:["article","periodical","inproceedings"]},target:{issue(r){return typeof r=="number"||typeof r=="string"&&r.match(/\d+/)},type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:["year","month","day"],target:"issued",convert:lt.YEAR_MONTH},{source:"note",target:"note"},{source:"number",target:"number",when:{source:{[yr]:["patent","report","techreport"]},target:{type:["patent","report"]}}},{source:"eid",target:"number",when:{source:{number:!1},target:{type:["article-journal"]}}},{source:"pages",target:"page",convert:lt.PAGES},{source:"publisher",target:"publisher",convert:lt.PICK,when:{target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","map","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty","webpage"]}}},{source:"organization",target:"publisher",convert:lt.PICK,when:{source:{publisher:!1},target:{type:"paper-conference"}}},{source:"institution",target:"publisher",convert:lt.PICK,when:{source:{publisher:!1,organization:!1},target:{type:"report"}}},{source:"school",target:"publisher",convert:lt.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:{type:"thesis"}}},{source:"howpublished",target:"publisher",convert:lt.PICK,when:{source:{howpublished(r){return r&&!r.startsWith("http")},publisher:!1,organization:!1,institution:!1,school:!1},target:{type:"manuscript"}}},{source:"title",target:"title"},{source:[yr,"type"],target:["type","genre"],convert:{toTarget(r,t){const e=Bg.source[r]||"document";return t?[e,t]:r==="mastersthesis"?[e,"Master's thesis"]:r==="phdthesis"?[e,"PhD thesis"]:[e]},toSource(r,t){const e=Bg.target[r]||"misc";return/^(master'?s|diploma) thesis$/i.test(t)?["mastersthesis"]:/^(phd|doctoral) thesis$/i.test(t)?["phdthesis"]:[e,t]}}},{source:yr,when:{target:{type:!1}},convert:{toSource(){return"misc"}}},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:lt.HOW_PUBLISHED,when:{target:{publisher:!1}}},{source:"volume",target:"volume"}]);function W_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function YM(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(e),!0).forEach(function(i){JM(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):W_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function JM(r,t,e){return t=QM(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function QM(r){var t=ZM(r,"string");return typeof t=="symbol"?t:String(t)}function ZM(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const eB=new Set(["book","inbook","bookinbook","suppbook"]),dS=new Set(["inbook","bookinbook","suppbook"]),G_=new Set(["collection","reference","incollection","inreference","suppcollection"]),V_=new Set(["incollection","inreference","suppcollection"]),tB=new Set(["proceedings","inproceedings"]),rB=new Set(["inproceedings"]),iB=new Set(["article","suppperiodical"]),X_={mvbook:["main",eB],mvcollection:["main",G_],mvreference:["main",G_],mvproceedings:["main",tB],book:["book",dS],collection:["book",V_],reference:["book",V_],proceedings:["book",rB],periodical:["journal",iB]};function vS(r,t,e){if(t.crossref in e){const i=e[t.crossref];if(i.properties===t)return t;const n=YM({},vS(i.type,i.properties,e));if(delete n.ids,delete n.crossref,delete n.xref,delete n.entryset,delete n.entrysubtype,delete n.execute,delete n.label,delete n.options,delete n.presort,delete n.related,delete n.relatedoptions,delete n.relatedstring,delete n.relatedtype,delete n.shortand,delete n.shortandintro,delete n.sortkey,(i.type==="mvbook"||i.type==="book")&&dS.has(r)&&(n.bookauthor=n.author),i.type in X_){const[a,s]=X_[i.type];s.has(r)&&(n[a+"title"]=n.title,n[a+"subtitle"]=n.subtitle,a!=="journal"&&(n[a+"titleaddon"]=n.titleaddon),delete n.title,delete n.subtitle,delete n.titleaddon,delete n.shorttitle,delete n.sorttitle,delete n.indextitle,delete n.indexsorttitle)}return Object.assign(n,t)}return t}function nB(r,t){if(r==null)return{};var e=aB(r,t),i,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)i=a[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(e[i]=r[i])}return e}function aB(r,t){if(r==null)return{};var e={},i=Object.keys(r),n,a;for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(e[n]=r[n]);return e}function K_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function sB(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(e),!0).forEach(function(i){oB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):K_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function oB(r,t,e){return t=gS(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function gS(r){var t=lB(r,"string");return typeof t=="symbol"?t:String(t)}function lB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function bS(r,t){const e={};for(const i of r)e[i.label]=i;return r.map(({type:i,label:n,properties:a})=>t.convertToTarget(sB({[yr]:i,[wf]:n},vS(i,a,e))))}function yS(r,t){return r.map(e=>{const i=t.convertToSource(e),{[yr]:n,[wf]:a}=i,s=nB(i,[yr,wf].map(gS));return{type:n,label:a,properties:s}})}function uB(r){return bS(r,pS)}function fB(r){return yS(r,pS)}function cB(r){return bS(r,mS)}function hB(r){return yS(r,mS)}function mB(r){const t=r.toUpperCase(),e=r.toLowerCase();for(let i=0;i<r.length;i++)if(t[i]!==e[i])return t[i]===r[i];return null}function _s(r){if(r.length===0)return;let t="";for(;r.length>1;){const{value:i,hyphenated:n}=r.shift();t+=i+(n?"-":" ")}const e=t+r[0].value;return e[0]&&e}function pB(r,t=!0){const e=[],i=[];if(t)for(;r.length>1&&r[0].upperCase!==!1;){for(e.push(...i),i.length=0;r.length>1&&r[0].upperCase!==!1&&!r[0].hyphenated;)e.push(r.shift());for(;r.length>0&&r[0].upperCase!==!1&&r[0].hyphenated;)i.push(r.shift())}const n=[],a=[];for(;r.length>1;){for(n.push(...a),a.length=0;r.length>1&&r[0].upperCase===!1;)n.push(r.shift());for(;r.length>0&&r[0].upperCase!==!1;)a.push(r.shift())}return i.length&&a.unshift(...i),r.length&&a.push(r[0]),[_s(e),_s(n),_s(a)]}function dB(r){if(r[0][0].label){const a={};for(const[{value:s,label:o}]of r)a[o]=s;return a}const t={},[e,i,n]=pB(r[0],r.length===1);return n&&(t.family=n),i&&(t.prefix=i),r.length===3?(t.given=_s(r[2]),t.suffix=_s(r[1])):r.length===2?t.given=_s(r[1]):e&&(t.given=e),t}function Y_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function Wr(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(e),!0).forEach(function(i){vB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Y_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function vB(r,t,e){return t=gB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function gB(r){var t=bB(r,"string");return typeof t=="symbol"?t:String(t)}function bB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const as={commandBegin:{match:"\\begin",push:"environment"},command:{match:/\\(?:[a-zA-Z]+|.) */,value:r=>r.slice(1).trim()},lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/[\s]+|~/,lineBreaks:!0,value(r){return r==="~"?" ":" "}}},$S=uS.states({stringLiteral:Wr(Wr({},as),{},{text:/[^{$}\s~\\]+/}),namesLiteral:Wr(Wr({and:/\s+[aA][nN][dD]\s+/,comma:",",hyphen:"-",equals:"="},as),{},{text:/[^{$}\s~\\,=-]+/}),listLiteral:Wr(Wr({and:/\s+and\s+/},as),{},{text:/[^{$}\s~\\]+/}),separatedLiteral:Wr(Wr({comma:","},as),{},{text:/[^{$}\s~\\,]+/}),annotation:Wr(Wr({},as),{},{colon:":",equals:"=",comma:",",semicolon:";",quote:'"',itemCount:/\d+/,text:/[^{$}\s~\\":;,=]+/}),bracedLiteral:Wr(Wr({},as),{},{rbrace:{match:"}",pop:!0},text:/[^{$}\s~\\]+/}),mathLiteral:Wr(Wr({},as),{},{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s~\\^_]+/}),environment:Wr(Wr({commandEnd:{match:"\\end",pop:!0}},as),{},{text:/[^{$}\s~\\]+/})});function to(r){return r[0],r}function Uu(r,t){return t in mm?r&&mm[t].join(r):r}const _S=new Z7({String(){let r="";for(;!this.matchEndOfFile();)r+=this.consumeRule("Text");return to(r)},StringNames(){const r=[];for(;;){if(this.consumeToken("whitespace",!0),r.push(this.consumeRule("Name")),this.consumeToken("whitespace",!0),this.matchEndOfFile())return r;this.consumeToken("and")}},Name(){const r=[];for(;;){if(r.push(this.consumeRule("NamePiece")),this.matchEndOfFile()||this.matchToken("and"))return dB(r);this.consumeToken("comma"),this.consumeToken("whitespace",!0)}},NamePiece(){const r=[];for(;;){const t=this.consumeRule("NameToken");if(t.label)return t.label=_s([...r,{value:t.label}]),[t];if(r.push(t),this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma"))return r;for(;this.matchToken("hyphen")||this.matchToken("whitespace");)this.consumeToken()}},NameToken(){let r=null,t="";for(;;)if(r===null&&this.matchToken("text")){const e=this.consumeToken().value;t+=e,r=mB(e)}else{if(this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma")||this.matchToken("whitespace"))return{value:t,upperCase:r};if(this.matchToken("hyphen"))return{value:t,upperCase:r,hyphenated:!0};if(this.matchToken("equals")){this.consumeToken("equals");const e=this.consumeRule("NamePiece");return e[0].label&&(t+="="+e[0].label),{value:_s(e),label:t}}else t+=this.consumeRule("Text")}},StringList(){const r=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("and");)t+=this.consumeRule("Text");r.push(to(t)),this.consumeToken("and",!0)}return r.length===1?r[0]:r},StringSeparated(){const r=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("comma");)t+=this.consumeRule("Text");r.push(t.trim()),this.consumeToken("comma",!0),this.consumeToken("whitespace",!0)}return r},StringVerbatim(){let r="";for(;!this.matchEndOfFile();)r+=this.consumeToken().text;return to(r)},StringUri(){const r=this.consumeRule("StringVerbatim");try{return decodeURI(r)===r?encodeURI(r):r}catch{return encodeURI(r)}},StringTitleCase(){this.state.sentenceCase=!0;let r="";for(;!this.matchEndOfFile();)r+=this.consumeRule("Text");return to(r)},Annotations(){const r={};for(;;){const{scope:t,item:e,part:i,value:n}=this.consumeRule("Annotation");if(t==="part"?(r.part||(r.part=[]),r.part[e]||(r.part[e]={}),r.part[e][i]=n):t==="item"?(r.item||(r.item=[]),r.item[e]=n):r.field=n,this.matchEndOfFile())break;this.consumeToken("semicolon"),this.consumeRule("_")}return r},Annotation(){const r={};if(this.matchToken("itemCount")?(r.item=parseInt(this.consumeToken("itemCount"))-1,this.matchToken("colon")?(this.consumeToken("colon"),r.part=this.consumeToken("text"),r.scope="part"):r.scope="item"):r.scope="field",this.consumeToken("equals"),this.consumeRule("_"),this.matchToken("quote")){this.consumeToken("quote");let t="";for(;!this.matchToken("quote");)this.matchToken("itemCount")||this.matchToken("colon")||this.matchToken("comma")||this.matchToken("semicolon")||this.matchToken("equals")?(t+=this.token.value,this.token=this.lexer.next()):t+=this.consumeRule("Text");this.consumeToken("quote"),r.value=to(t),this.consumeRule("_")}else{r.value=[];let t="";for(;;)if(t+=this.consumeRule("Text"),this.matchToken("comma"))this.consumeToken("comma"),this.consumeRule("_"),r.value.push(to(t)),t="";else if(this.matchEndOfFile()||this.matchToken("semicolon")){r.value.push(to(t));break}}return r},BracketString(){var r;let t="";this.consumeToken("lbrace");const e=this.state.sentenceCase;for(this.state.sentenceCase=e&&this.matchToken("command"),(r=this.state).partlyLowercase&&(r.partlyLowercase=this.state.sentenceCase);!this.matchToken("rbrace");)t+=this.consumeRule("Text");const n=e&&!this.state.sentenceCase&&this.state.partlyLowercase;return this.state.sentenceCase=e,this.consumeToken("rbrace"),n?Uu(t,"nocase"):t},MathString(){let r="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");){if(this.matchToken("script")){const t=this.consumeToken("script").value,e=this.consumeRule("Text").split("");if(e.every(i=>i in Lg[t]))r+=e.map(i=>Lg[t][i]).join("");else{const i=qh[t];r+=mm[i].join(e.join(""))}continue}if(this.matchToken("command")){const t=this.token.value;if(t in qh){this.consumeToken("command");const e=this.consumeRule("BracketString");r+=Uu(e,qh[t]);continue}}r+=this.consumeRule("Text")}return this.consumeToken("mathShift"),r},Text(){if(this.matchToken("lbrace"))return this.consumeRule("BracketString");if(this.matchToken("mathShift"))return this.consumeRule("MathString");if(this.matchToken("whitespace"))return this.consumeToken("whitespace").value;if(this.matchToken("commandBegin"))return this.consumeRule("EnclosedEnv");if(this.matchToken("command"))return this.consumeRule("Command");const r=this.consumeToken("text").value.replace(cS,o=>_f[o]),t=this.state.afterPunctuation;if(this.state.afterPunctuation=/[?!.:]$/.test(r),!this.state.sentenceCase){var e;return(e=this.state).partlyLowercase||(e.partlyLowercase=r===r.toLowerCase()&&r!==r.toUpperCase()),r}const[i,...n]=r,a=n.join(""),s=a.toLowerCase();return a!==s?r:t?i+s:r.toLowerCase()},Command(){const r=this.consumeToken("command"),t=r.value;if(t in Uh){const e=this.consumeRule("Env"),i=Uh[t];return Uu(e,i)}else if(t in Fg){const e=this.consumeRule("BracketString"),i=Fg[t];return Uu(e,i)}else{if(t in yf)return yf[t];if(t in $f)return $f[t];if(t in bf&&!this.matchEndOfFile()){const e=this.consumeRule("Text");return(e[0]+bf[t]).normalize("NFC")+e.slice(1)}else if(t in zg){const e=zg[t],i=[];let n=e.length;for(;n-- >0;)this.consumeToken("whitespace",!0),i.push(this.consumeRule("BracketString"));return e(...i)}else return/^[&%$#_{}]$/.test(t)?r.text.slice(1):r.text}},Env(){let r="";for(;!this.matchEndOfFile()&&!this.matchToken("rbrace");)r+=this.consumeRule("Text");return r},EnclosedEnv(){this.consumeToken("commandBegin");const r=this.consumeRule("BracketString");let t="";for(;!this.matchToken("commandEnd");)t+=this.consumeRule("Text");const e=this.consumeToken("commandEnd"),i=this.consumeRule("BracketString");if(r!==i)throw new SyntaxError(this.lexer.formatError(e,`environment started with "${r}", ended with "${i}"`));return Uu(t,Uh[r])},_(){for(;this.matchToken("whitespace");)this.consumeToken("whitespace")}},{sentenceCase:!1,partlyLowercase:!1,afterPunctuation:!0});function J_(r){return hS.includes(r.toLowerCase())}function yB(r){return Array.isArray(r)?r.every(J_):J_(r)}function $B(r,t){if(r[1]==="name")return r[0]==="list"?"StringNames":"Name";if(r[1]==="title"){const e=fi.parse.sentenceCase;return e==="always"||e==="english"&&yB(t)?"StringTitleCase":"String"}switch(r[0]==="field"?r[1]:r[0]){case"list":return"StringList";case"separated":return"StringSeparated";case"verbatim":return"StringVerbatim";case"uri":return"StringUri";case"title":case"literal":default:return"String"}}function _B(r){if(r[1]==="name")return"namesLiteral";switch(r[0]){case"list":return"listLiteral";case"separated":return"separatedLiteral";case"field":default:return"stringLiteral"}}function Q_(r,t,e=[]){const i=hm[t]||[];return _S.parse($S.reset(r,{state:_B(i),line:0,col:0}),$B(i,e))}function wB(r){return _S.parse($S.reset(r,{state:"annotation",line:0,col:0}),"Annotations")}function Z_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function e2(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(e),!0).forEach(function(i){xB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Z_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function xB(r,t,e){return t=SB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function SB(r){var t=EB(r,"string");return typeof t=="symbol"?t:String(t)}function EB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function wS(r,t){const e=[];for(const{type:i,label:n,properties:a}of r)if(i in t){const s=[];for(const o of t[i])Array.isArray(o)&&!o.some(l=>l in a)?s.push(o.join("/")):typeof o=="string"&&!(o in a)&&s.push(o);s.length&&e.push([n,`missing fields: ${s.join(", ")}`])}else e.push([n,`invalid type: "${i}"`]);if(e.length)throw new RangeError(["Invalid entries:"].concat(e.map(([i,n])=>`  - ${i} has ${n}`)).join(`
`))}function xS(r){const t={};"language"in r.properties&&(t.language=Q_(r.properties.language,"language"));for(const e in r.properties){const i=r.properties[e];i!==""&&(t[e]=Q_(i+"",e,t.language))}for(const e in r.annotations)for(const i in r.annotations[e])t[e+"+an:"+i]=wB(r.annotations[e][i]);return e2(e2({},r),{},{properties:t})}function t2(r){return fi.parse.strict&&wS(r,Cb.biblatex),cB(r.map(xS))}function r2(r){return fi.parse.strict&&wS(r,Cb.bibtex),uB(r.map(xS))}const kB="@bibtex",TB={"@biblatex/text":{parse:j_,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@biblatex/entry+object":{parse(r){return t2([r])},parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@biblatex/entries+list":{parse:t2,parseType:{elementConstraint:"@biblatex/entry+object"}},"@bibtex/text":{parse:j_,outputs:"@bibtex/entries+list"},"@bibtex/entry+object":{parse(r){return r2([r])}},"@bibtex/entries+list":{parse:r2},"@bibtxt/text":{parse:$M,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}}},vs={};for(const r in yf)vs[yf[r]]=r;for(const r in bf)vs[bf[r]]=r;for(const r in _f)vs[_f[r]]=r;const Ug={};for(const r in $f)Ug[$f[r]]=r;const OB=/[^a-zA-Z0-9\s!"#%&'()*+,\-./:;=?@[\]{}\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,AB=/.[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]+/g,IB=/[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,Db={separated:",",list:" and "},i2={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};function CB(r){return r in vs?vs[r]in _f?vs[r]:`\\${vs[r]}{}`:r in Ug?`$\\${Ug[r]}$`:""}function xf(r){return fi.format.asciiOnly?r.normalize("NFKD").replace(OB,t=>CB(t)).replace(AB,t=>Array.from(t).reduce((e,i)=>`{\\${vs[i]} ${e}}`)).replace(IB,""):r}function SS(r){const t=[];let e=r.split(/<(\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);return e=e.map((i,n)=>n%2===0?xf(i):i in i2?(t.push("/"+i.split(" ")[0]),i2[i]):i===t[t.length-1]?(t.pop(),"}"):""),e.join("")}function PB(r){if(r.family&&!r.prefix&&!r.given&!r.suffix)return r.family.includes(Db.list)?r.family:`{${r.family}}`;const t=[""];return r.prefix&&r.family&&(t[0]+=r.prefix+" "),r.family&&(t[0]+=r.family),r.suffix?(t.push(r.suffix),t.push(r.given||"")):t.push(r.given),xf(t.join(", ").trim())}function DB(r){return SS(r).split(/(:\s*)/).map((t,e)=>e%2?t:t.replace(/([^\\])\b([a-z]*[A-Z].*?)\b/g,"$1{$2}")).join("")}function qg(r,t){switch(t){case"title":return DB(r);case"literal":return SS(r.toString());case"name":return PB(r);case"verbatim":case"uri":return r.toString();default:return xf(r.toString())}}function NB(r,t,e){const i=Db[e];return r.map(n=>{const a=qg(n,t);return a.includes(i)?`{${a}}`:a}).join(i)}function Kd(r){return Array.isArray(r)?r.map(t=>xf(t).replace(/([;,"])/g,"{$1}")).join(", "):'"'+xf(r).replace(/(["])/g,"{$1}")+'"'}function RB(r,t){if(!(r in hm))return qg(t,"verbatim");const[e,i]=hm[r];return e in Db?NB(t,i,e):qg(t,i)}function MB(r){const t=[];if(r.field&&t.push("="+Kd(r.field)),r.item)for(const[e,i]of Object.entries(r.item)){if(!i)continue;const n=parseInt(e)+1;t.push(n+"="+Kd(i))}if(r.part)for(const[e,i]of Object.entries(r.part)){if(!i)continue;const n=parseInt(e)+1;for(const a in i)i[a]&&t.push(n+":"+a+"="+Kd(i[a]))}return t.join("; ")}function ES({type:r,label:t,properties:e}){const i={type:r,label:t,properties:{}};for(const n in e){const a=e[n],[s,o]=n.split("+an:");o?(i.annotations||(i.annotations={}),i.annotations[s]||(i.annotations[s]={}),i.annotations[s][o]=MB(a)):i.properties[n]=RB(n,a)}return i}function BB(r){return hB(r).map(ES)}function n2(r){return fB(r).map(ES)}function a2(r,t,e){return e.listItem.join(`${r} = {${t}},`)}function FB(r,t){const e=[];for(const i in r.properties)if(e.push(a2(i,r.properties[i],t)),r.annotations&&r.annotations[i])for(const n in r.annotations[i]){let a=i+fi.biber.annotationMarker;n!=="default"&&(a+=fi.biber.namedAnnotationMarker+n),e.push(a2(a,r.annotations[i][n],t))}return t.entry.join(`@${r.type}{${r.label},${t.list.join(e.join(""))}}`)}function s2(r,t){const e=r.map(i=>FB(i,t)).join("");return t.bibliographyContainer.join(e)}function zB({type:r,label:t,properties:e},i){const n=Object.entries(e).concat([["type",r]]).map(([a,s])=>i.listItem.join(`${a}: ${s}`));return i.entry.join(`[${t}]${i.list.join(n.join(""))}`)}function LB(r,t){const e=r.map(i=>zB(i,t)).join(`
`);return t.bibliographyContainer.join(e)}const Yd=function(r,t){return function(e,i={}){const{type:n,format:a=n||"text"}=i;if(e=r(e),a==="object")return e;if(aS(a))return t(e,Ob(a),i);throw new RangeError(`Output dictionary "${a}" not available`)}},jB={bibtex:Yd(n2,s2),biblatex:Yd(BB,s2),bibtxt:Yd(n2,LB)};Ab(kB,{input:TB,output:jB,config:fi});const UB={"en-US":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><translator><name>Andrew Dunning</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Denis Meier</name></translator><translator><name>Brenton M. Wiernik</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">personal communication</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">personal communication</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">“</term><term name="close-quote">”</term><term name="open-inner-quote">‘</term><term name="close-inner-quote">’</term><term name="page-range-delimiter">–</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix" form="short">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator" form="short">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation" form="short">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation" form="short">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule" form="short">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene" form="short">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table" form="short">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp" form="short"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator" form="short">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term>
<!-- LONG MONTH FORMS --><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term>
<!-- SEASONS --><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms>
</locale>
`,"nl-NL":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze M. Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2017-04-01T12:00:00+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persoonlijke communicatie</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>druk</single><multiple>drukken</multiple></term><term name="edition" form="short">dr.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persoonlijke communicatie</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">‘</term><term name="close-quote">’</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">–</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio's</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple></term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina's</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina's</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">onder redactie van</term><term name="editorial-director" form="verb">onder redactie van</term><term name="illustrator" form="verb">geïllustreerd door</term><term name="interviewer" form="verb">geïnterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">onder redactie van</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">geïllustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>
<!-- LONG MONTH FORMS --><term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term>
<!-- SEASONS --><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms>
</locale>
`,"fr-FR":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>Grégoire Colly</name></translator><translator><name>Collectif Zotero francophone</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">publication en ligne anticipée</term><term name="album">album</term><term name="audio-recording">enregistrement audio</term><term name="film">film</term><term name="henceforth">désormais</term><term name="loc-cit">loc.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">sans lieu</term><term name="no-place" form="short">s.&#160;l.</term><term name="no-publisher">sans nom</term> <!-- sine nomine --><term name="no-publisher" form="short">s.&#160;n.</term><term name="on">sur</term><term name="op-cit">op.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">édition originale</term><term name="personal-communication">communication personnelle</term><term name="podcast">podcast</term><term name="podcast-episode">épisode de podcast</term><term name="preprint">prépublication</term><term name="radio-broadcast">émission de radio</term><term name="radio-series">série radiophonique</term><term name="radio-series-episode">épisode de série radiophonique</term><term name="special-issue">numéro spécial</term><term name="special-section">section spéciale</term><term name="television-broadcast">émission de télévision</term><term name="television-series">série télévisée</term><term name="television-series-episode">épisode de série télévisée</term><term name="video">vidéo</term><term name="working-paper">document de travail</term><term name="accessed">consulté le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">cité</term><term name="edition" gender="feminine"><single>édition</single><multiple>éditions</multiple></term><term name="edition" form="short">éd.</term><term name="et-al">et al.</term><term name="forthcoming">à paraître</term><term name="from">à l'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">présenté à</term><term name="reference"><single>référence</single><multiple>références</multiple></term><term name="reference" form="short"><single>réf.</single><multiple>réf.</multiple></term><term name="retrieved">consulté</term><term name="scale">échelle</term><term name="version">version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">article</term><term name="article-journal">article de revue</term><term name="article-magazine">article de magazine</term><term name="article-newspaper">article de presse</term><term name="bill">projet de loi</term><term name="book">livre</term><term name="broadcast">émission</term><term name="chapter">chapitre de livre</term><term name="classic">classique</term><term name="collection">collection</term><term name="dataset">jeu de données</term><term name="document">document</term><term name="entry">entrée</term><term name="entry-dictionary">entrée de dictionnaire</term><term name="entry-encyclopedia">entrée d'encyclopédie</term><term name="event">événement</term><!-- figure is in the list of locator terms --><term name="graphic">image</term><term name="hearing">audience</term><term name="interview">interview</term><term name="legal_case">affaire</term><term name="legislation">acte juridique</term><term name="manuscript">manuscrit</term><term name="map">carte</term><term name="motion_picture">enregistrement vidéo</term><term name="musical_score">partition</term><term name="pamphlet">pamphlet</term><term name="paper-conference">article de colloque</term><term name="patent">brevet</term><term name="performance">interprétation</term><term name="periodical">périodique</term><term name="personal_communication">communication personnelle</term><term name="post">billet</term><term name="post-weblog">billet de blog</term><term name="regulation">règlement</term><term name="report">rapport</term><term name="review">recension</term><term name="review-book">recension de livre</term><term name="software">logiciel</term><term name="song">chanson</term><term name="speech">présentation</term><term name="standard">norme</term><term name="thesis">thèse</term><term name="treaty">traité</term><term name="webpage">page web</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">art. de revue</term><term name="article-magazine" form="short">art. de mag.</term><term name="article-newspaper" form="short">art. de presse</term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap. de liv.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">ms</term><term name="motion_picture" form="short">enr. vidéo</term><term name="report" form="short">rap.</term><term name="review" form="short">recens.</term><term name="review-book" form="short">recens. de liv.</term><term name="song" form="short">enr. audio</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="bce">av. n. è.</term><term name="ce">n. è.</term>
<!-- PUNCTUATION --><term name="open-quote">«&#160;</term><term name="close-quote">&#160;»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">&#8209;</term> <!-- non-breaking hyphen --><term name="colon">&#160;:</term><term name="comma">,</term><term name="semicolon">&#160;;</term>
<!-- ORDINALS --><term name="ordinal">ᵉ</term><term name="ordinal-01" gender-form="feminine" match="whole-number">ʳᵉ</term><term name="ordinal-01" gender-form="masculine" match="whole-number">ᵉʳ</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxième</term><term name="long-ordinal-03">troisième</term><term name="long-ordinal-04">quatrième</term><term name="long-ordinal-05">cinquième</term><term name="long-ordinal-06">sixième</term><term name="long-ordinal-07">septième</term><term name="long-ordinal-08">huitième</term><term name="long-ordinal-09">neuvième</term><term name="long-ordinal-10">dixième</term>
<!-- LONG LOCATOR FORMS --><term name="act"><single>acte</single><multiple>actes</multiple></term><term name="appendix"><single>appendice</single><multiple>appendices</multiple></term><term name="article-locator"><single>article</single><multiple>articles</multiple></term><term name="canon"><single>canon</single><multiple>canons</multiple></term><term name="elocation"><single>emplacement</single><multiple>emplacements</multiple></term><term name="equation"><single>équation</single><multiple>équations</multiple></term><term name="rule"><single>règle</single><multiple>règles</multiple></term><term name="scene"><single>scène</single><multiple>scènes</multiple></term><term name="table"><single>tableau</single><multiple>tableaux</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>titre</single><multiple>titres</multiple></term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>numéro</single><multiple>numéros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix"><single>append.</single><multiple>append.</multiple></term><term name="article-locator"><single>art.</single><multiple>art.</multiple></term><term name="elocation"><single>emplact</single><multiple>emplact</multiple></term><term name="equation"><single>eq.</single><multiple>eq.</multiple></term><term name="rule"><single>règle</single><multiple>règles</multiple></term><term name="scene"><single>sc.</single><multiple>sc.</multiple></term><term name="table"><single>tab.</single><multiple>tab.</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>tit.</single><multiple>tit.</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>fᵒ</single><multiple>fᵒˢ</multiple></term><term name="issue" form="short"><single>nᵒ</single><multiple>nᵒˢ</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>président</single><multiple>présidents</multiple></term><term name="compiler"><single>compilateur</single><multiple>compilateurs</multiple></term><term name="contributor"><single>contributeur</single><multiple>contributeurs</multiple></term><term name="curator"><single>commissaire</single><multiple>commissaires</multiple></term><term name="executive-producer"><single>producteur exécutif</single><multiple>producteurs exécutifs</multiple></term><term name="guest"><single>invité</single><multiple>invités</multiple></term><term name="host"><single>hôte</single><multiple>hôtes</multiple></term><term name="narrator"><single>narrateur</single><multiple>narrateurs</multiple></term><term name="organizer"><single>organisateur</single><multiple>organisateurs</multiple></term><term name="performer"><single>interprète</single><multiple>interprètes</multiple></term><term name="producer"><single>producteur</single><multiple>producteurs</multiple></term><term name="script-writer"><single>scénariste</single><multiple>scénaristes</multiple></term><term name="series-creator"><single>créateur de série</single><multiple>créateurs de série</multiple></term><term name="director"><single>réalisateur</single><multiple>réalisateurs</multiple></term><term name="editor"><single>éditeur</single><multiple>éditeurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>éditeur et traducteur</single><multiple>éditeurs et traducteurs</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>compil.</single><multiple>compil.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contrib.</multiple></term><term name="curator" form="short"><single>commiss.</single><multiple>commiss.</multiple></term><term name="executive-producer" form="short"><single>prod. exé.</single><multiple>prod. exé.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narr.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>org.</multiple></term><term name="performer" form="short"><single>interpr.</single><multiple>interpr.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prod.</multiple></term><term name="script-writer" form="short"><single>scénar.</single><multiple>scénar.</multiple></term><term name="series-creator" form="short"><single>créat.</single><multiple>créat.</multiple></term><term name="director" form="short"><single>réal.</single><multiple>réal.</multiple></term><term name="editor" form="short"><single>éd.</single><multiple>éd.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>éd. et trad.</single><multiple>éd. et trad.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">présidé par</term><term name="compiler" form="verb">compilé par</term><term name="contributor" form="verb">avec</term><term name="curator" form="verb">organisé par</term><term name="executive-producer" form="verb">production exécutive par</term><term name="guest" form="verb">avec pour invité</term><term name="host" form="verb">animé par</term><term name="narrator" form="verb">lu par</term><term name="organizer" form="verb">organisé par</term><term name="performer" form="verb">interprété par</term><term name="producer" form="verb">produit par</term><term name="script-writer" form="verb">scénario de</term><term name="series-creator" form="verb">créé par</term><term name="container-author" form="verb">par</term><term name="director" form="verb">réalisé par</term><term name="editor" form="verb">édité par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustré par</term><term name="interviewer" form="verb">entretien réalisé par</term><term name="recipient" form="verb">à</term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">édité et traduit par</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">compil. par</term><term name="contributor" form="verb-short">ac</term><term name="curator" form="verb-short">org. par</term><term name="executive-producer" form="verb-short">prod. exé. par</term><term name="guest" form="verb-short">ac pr inv.</term><term name="host" form="verb-short">anim. par</term><term name="narrator" form="verb-short">lu par</term><term name="organizer" form="verb-short">org. par</term><term name="performer" form="verb-short">interpr. par</term><term name="producer" form="verb-short">prod. par</term><term name="script-writer" form="verb-short">scénar. de</term><term name="series-creator" form="verb-short">créé par</term><term name="director" form="verb-short">réal. par</term><term name="editor" form="verb-short">éd. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">éd. et trad. par</term>
<!-- LONG MONTH FORMS --><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">février</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">août</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">octobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">décembre</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">janv.</term><term name="month-02" form="short">févr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">août</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">déc.</term>
<!-- SEASONS --><term name="season-01">printemps</term><term name="season-02">été</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms>
</locale>
`,"de-DE":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><translator><name>Till A. Heilmann</name></translator><translator><name>Ulrich</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>jakov</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persönliche Kommunikation</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verfügbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">Maßstab</term><term name="version">Version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persönliche Kommunikation</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">&#160;n.&#160;Chr.</term><term name="bc">&#160;v.&#160;Chr.</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">„</term><term name="close-quote">“</term><term name="open-inner-quote">‚</term><term name="close-inner-quote">‘</term><term name="page-range-delimiter">–</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">.</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">fünfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>Buch</single><multiple>Bücher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>Blätter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>Absätze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>Bände</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">B.</term><term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>Übersetzer</single><multiple>Übersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; Übersetzer</single><multiple>Herausgeber&#160;&amp; Übersetzer</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>Übers.</single><multiple>Übers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; Übers.</single><multiple>Hrsg.&#160;&amp; Übers.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">übersetzt von</term><term name="editortranslator" form="verb">herausgegeben und übersetzt von</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">übers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; übers. von</term>
<!-- LONG MONTH FORMS --><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">März</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">März</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term>
<!-- SEASONS --><term name="season-01">Frühjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms>
</locale>
`,"es-ES":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><translator><name>javimat</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">comunicación personal</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">anónimo</term><term name="anonymous" form="short">anón.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>edición</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en línea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versión</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">comunicación personal</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">«</term><term name="close-quote">»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">-</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">.ª</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">séptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">décima</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>capítulo</single><multiple>capítulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>número</single><multiple>números</multiple></term><term name="line"><single>línea</single><multiple>líneas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>página</single><multiple>páginas</multiple></term><term name="number-of-pages"><single>página</single><multiple>páginas</multiple></term><term name="paragraph"><single>párrafo</single><multiple>párrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>sección</single><multiple>secciones</multiple></term><term name="sub-verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>volúmenes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">lib.</term><term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.º</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">párr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term>
<!-- LONG MONTH FORMS --><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dic.</term>
<!-- SEASONS --><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">otoño</term><term name="season-04">invierno</term></terms>
</locale>
`},El=new Ym(UB),qB=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never" page-range-format="expanded"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://www.zotero.org/styles/apa-6th-edition" rel="template"/><link href="https://apastyle.apa.org/style-grammar-guidelines/references/examples" rel="documentation"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2022-01-31T14:43:56+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short">trans.</term><term name="interviewer" form="short"><single>interviewer</single><multiple>interviewers</multiple></term><term name="collection-editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="circa" form="short">ca.</term><term name="bc"> B.C.E.</term><term name="ad"> C.E.</term><term name="letter">personal communication</term><term name="letter" form="short">letter</term><term name="issue" form="long"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang="af"><terms><term name="letter">persoonlike kommunikasie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="ar"><terms><term name="letter">اتصال شخصي</term><term name="letter" form="short">خطاب</term></terms></locale><locale xml:lang="bg"><terms><term name="letter">лична комуникация</term><term name="letter" form="short">писмо</term></terms></locale><locale xml:lang="ca"><terms><term name="letter">comunicació personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="cs"><terms><term name="letter">osobní komunikace</term><term name="letter" form="short">dopis</term></terms></locale><locale xml:lang="cy"><terms><term name="letter">cyfathrebu personol</term><term name="letter" form="short">llythyr</term></terms></locale><locale xml:lang="da"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="de"><terms><term name="et-al">et al.</term><term name="letter">persönliche Kommunikation</term><term name="letter" form="short">Brief</term></terms></locale><locale xml:lang="el"><terms><term name="letter">προσωπική επικοινωνία</term><term name="letter" form="short">επιστολή</term></terms></locale><locale xml:lang="es"><terms><term name="from">de</term><term name="letter">comunicación personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="et"><terms><term name="letter">isiklik suhtlus</term><term name="letter" form="short">kiri</term></terms></locale><locale xml:lang="eu"><terms><term name="letter">komunikazio pertsonala</term><term name="letter" form="short">gutuna</term></terms></locale><locale xml:lang="fa"><terms><term name="letter">ارتباط شخصی</term><term name="letter" form="short">نامه</term></terms></locale><locale xml:lang="fi"><terms><term name="letter">henkilökohtainen viestintä</term><term name="letter" form="short">kirje</term></terms></locale><locale xml:lang="fr"><terms><term name="letter">communication personnelle</term><term name="letter" form="short">lettre</term><term name="editor" form="short"><single>éd.</single><multiple>éds.</multiple></term></terms></locale><locale xml:lang="he"><terms><term name="letter">תקשורת אישית</term><term name="letter" form="short">מכתב</term></terms></locale><locale xml:lang="hr"><terms><term name="letter">osobna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="hu"><terms><term name="letter">személyes kommunikáció</term><term name="letter" form="short">levél</term></terms></locale><locale xml:lang="id"><terms><term name="letter">komunikasi pribadi</term><term name="letter" form="short">surat</term></terms></locale><locale xml:lang="is"><terms><term name="letter">persónuleg samskipti</term><term name="letter" form="short">bréf</term></terms></locale><locale xml:lang="it"><terms><term name="letter">comunicazione personale</term><term name="letter" form="short">lettera</term></terms></locale><locale xml:lang="ja"><terms><term name="letter">個人的なやり取り</term><term name="letter" form="short">手紙</term></terms></locale><locale xml:lang="ko"><terms><term name="letter">개인 서신</term><term name="letter" form="short">편지</term></terms></locale><locale xml:lang="la"><terms><term name="letter"/><term name="letter" form="short">epistula</term></terms></locale><locale xml:lang="lt"><terms><term name="letter">communicationis personalis</term><term name="letter" form="short"/></terms></locale><locale xml:lang="lv"><terms><term name="letter">personīga komunikācija</term><term name="letter" form="short">vēstule</term></terms></locale><locale xml:lang="mn"><terms><term name="letter">хувийн харилцаа холбоо</term><term name="letter" form="short">захиа</term></terms></locale><locale xml:lang="nb"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="nl"><terms><term name="et-al">et al.</term><term name="letter">persoonlijke communicatie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="nn"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="pl"><terms><term name="letter">osobista komunikacja</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="pt"><terms><term name="letter">comunicação pessoal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="ro"><terms><term name="letter">comunicare personală</term><term name="letter" form="short">scrisoare</term></terms></locale><locale xml:lang="ru"><terms><term name="letter">личная переписка</term><term name="letter" form="short">письмо</term></terms></locale><locale xml:lang="sk"><terms><term name="letter">osobná komunikácia</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="sl"><terms><term name="letter">osebna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="sr"><terms><term name="letter">лична комуникација</term><term name="letter" form="short">писмо</term></terms></locale><locale xml:lang="sv"><terms><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="th"><terms><term name="letter">การสื่อสารส่วนบุคคล</term><term name="letter" form="short">จดหมาย</term></terms></locale><locale xml:lang="tr"><terms><term name="letter">kişisel iletişim</term><term name="letter" form="short">mektup</term></terms></locale><locale xml:lang="uk"><terms><term name="letter">особисте спілкування</term><term name="letter" form="short">лист</term></terms></locale><locale xml:lang="vi"><terms><term name="letter">giao tiếp cá nhân</term><term name="letter" form="short">thư</term></terms></locale><locale xml:lang="zh-CN"><terms><term name="letter">的私人交流</term><term name="letter" form="short">信函</term></terms></locale><locale xml:lang="zh-TW"><terms><term name="letter">私人通訊</term><term name="letter" form="short">信函</term></terms></locale><!-- General categories of item types:Periodical: article-journal article-magazine article-newspaper post-weblog review review-bookPeriodical or Booklike: paper-conferenceBooklike: article book broadcast chapter dataset entry entry-dictionary entry-encyclopedia figure graphic interview manuscript map motion_picture musical_score pamphlet patent personal_communication report song speech thesis post webpageLegal: bill legal_case legislation treaty--><!-- APA references contain four parts: author, date, title, source --><macro name="author-bib"><names variable="composer" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></if></choose></if></choose><!-- Test for editortranslator and put that first as that becomes available --><names variable="editor" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="editorial-director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="collection-editor"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></substitute></names></macro><macro name="author-intext"><choose><if type="bill legal_case legislation treaty" match="any"><text macro="title-intext"/></if><else-if type="interview personal_communication" match="any"><choose><!-- These variables indicate that the letter is retrievable by the reader. If not, then use the APA in-text-only personal communication format --><if variable="archive container-title DOI publisher URL" match="none"><group delimiter=", "><names variable="author"><name and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names><!-- Replace with term="personal-communication" if that becomes available --><text term="letter"/></group></if><else><names variable="author" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names></else></choose></else-if><else><names variable="composer" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"/><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><text macro="title-intext"/></if></choose></if></choose><names variable="editor"/><names variable="editorial-director"/><text macro="title-intext"/></substitute></names></else></choose></macro><macro name="date-bib"><group delimiter=" " prefix="(" suffix=")"><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage" match="any"><!-- Many video and audio examples in manual give full dates. Err on the side of too much information. --><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if><else-if type="paper-conference"><!-- Capture 'speech' stored as 'paper-conference' --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if></choose></else-if><!-- Only year: article article-journal book chapter entry entry-dictionary entry-encyclopedia dataset figure graphic manuscript map musical_score paper-conference[published] patent report review review-book thesis --></choose></if><else-if variable="status"><group><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></group></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></group></group></macro><macro name="date-sort-group"><!-- APA sorts 1. no-date items, 2. items with dates, 3. in-press (status) items --><choose><if variable="issued"><text value="1"/></if><else-if variable="status"><text value="2"/></else-if><else><text value="0"/></else></choose></macro><macro name="date-sort-date"><date variable="issued" form="numeric"/></macro><macro name="date-intext"><choose><if variable="issued"><group delimiter="/"><group delimiter=" "><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group><group delimiter=" "><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><!-- These variables indicate that the communication is retrievable by the reader. If not, then use the in-text-only personal communication format --><date variable="issued" form="text"/></if><else><date variable="issued"><date-part name="year"/></date></else></choose></if><else><date variable="issued"><date-part name="year"/></date></else></choose><text variable="year-suffix"/></group></group></group></if><else-if variable="status"><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><!-- APA has two description elements following the title:title (parenthetical) [bracketed]  --><macro name="title-and-descriptions"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/><text macro="bracketed"/></group></if><else><group delimiter=" "><text macro="bracketed"/><text macro="parenthetical"/></group></else></choose></macro><macro name="title"><choose><if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" font-style="italic"/></if><else-if variable="container-title" match="any"><!-- Other types are italicized based on presence of container-title.Assume that review and review-book are published in periodicals/blogs,not just on a web page (ex. 69) --><text variable="title"/></else-if><else><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text variable="title" font-style="italic"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></if><else><text variable="title" font-style="italic"/></else></choose></else-if><else><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></else></choose></else></choose></macro><macro name="title-intext"><choose><if variable="title" match="none"><text macro="bracketed-intext" prefix="[" suffix="]"/></if><else-if type="bill"><!-- If a bill has no number or container-title, assume it is a hearing; italic --><choose><if variable="number container-title" match="none"><text variable="title" form="short" font-style="italic" text-case="title"/></if><else-if variable="title"><text variable="title" form="short" text-case="title"/></else-if><else><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group></else></choose></else-if><else-if type="legal_case" match="any"><!-- Cases are italicized --><text variable="title" font-style="italic"/></else-if><else-if type="legislation treaty" match="any"><!-- Legislation and treaties not italicized or quoted --><text variable="title" form="short" text-case="title"/></else-if><else-if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" form="short" font-style="italic" text-case="title"/></else-if><else-if variable="container-title" match="any"><!-- Other types are italicized or quoted based on presence of container-title. As in title macro. --><text variable="title" form="short" quotes="true" text-case="title"/></else-if><else><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="parenthetical"><!-- (Secondary contributors; Database location; Genre no. 123; Report Series 123, Version, Edition, Volume, Page) --><group prefix="(" suffix=")"><choose><if type="patent"><!-- authority: U.S. ; genre: patent ; number: 123,445 --><group delimiter=" "><text variable="authority" form="short"/><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else><!-- This should be localized --><text value="patent" text-case="capitalize-first"/></else></choose><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></group></if><else-if type="post webpage" match="any"><!-- For post webpage, container-title is treated as publisher --><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else-if><else-if variable="container-title"><group delimiter="; "><text macro="secondary-contributors"/><choose><if type="broadcast graphic map motion_picture song" match="any"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose></group></else-if><else><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else></choose></group></macro><macro name="parenthetical-container"><choose><if variable="container-title" match="any"><group prefix="(" suffix=")"><group delimiter="; "><text macro="database-location"/><choose><if type="broadcast graphic map motion_picture song" match="none"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose><text macro="locators-booklike"/></group></group></if></choose></macro><macro name="bracketed"><!-- [Descriptive information] --><!-- If there is a number, genre is already printed in macro="number" --><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- Reviewed item --><group delimiter="; "><group delimiter=", "><group delimiter=" "><!-- Assume that genre is entered as 'Review of the book' or similar --><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></else></choose><text macro="reviewed-title"/></group><names variable="reviewed-author"><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else-if type="thesis"><!-- Thesis type and institution --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=", "><text variable="genre" text-case="capitalize-first"/><choose><if variable="archive DOI URL" match="any"><!-- Include the university in brackets if thesis is published --><text variable="publisher"/></if></choose></group></if></choose><text variable="medium" text-case="capitalize-first"/></group></else-if><else-if variable="interviewer" type="interview" match="any"><!-- Interview information --><choose><if variable="title"><text macro="format"/></if><else-if variable="genre"><group delimiter="; "><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><group delimiter=" "><text term="author" form="verb"/><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></group></else-if><else-if variable="interviewer"><group delimiter="; "><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/></names><text variable="medium" text-case="capitalize-first"/></group></else-if><else><text macro="format"/></else></choose></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter="; "><group delimiter=" "><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else><text macro="format"/></else></choose></else-if><else-if variable="composer" type="song" match="all"><!-- Performer of classical music works --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=" "><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else-if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></if><else><group delimiter=" "><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></else></choose><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></else-if><else-if variable="container-title" match="none"><!-- Other description --><text macro="format"/></else-if><else><!-- For conference presentations, chapters in reports, software, place bracketed after the container title --><choose><if type="paper-conference speech" match="any"><choose><if variable="collection-editor editor editorial-director issue page volume" match="any"><text macro="format"/></if></choose></if><else-if type="book"><choose><if variable="version" match="none"><text macro="format"/></if></choose></else-if><else-if type="report" match="none"><text macro="format"/></else-if></choose></else></choose></group></macro><macro name="bracketed-intext"><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- This should be localized --><text macro="reviewed-title-intext" prefix="Review of "/></if><else-if variable="interviewer" type="interview" match="any"><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/><substitute><text macro="format-intext"/></substitute></names></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter=" "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group></if><else><text macro="format-intext"/></else></choose></else-if><else><text macro="format-intext"/></else></choose></group></macro><macro name="bracketed-container"><group prefix="[" suffix="]"><choose><if type="paper-conference speech" match="any"><!-- Conference presentations should describe the session [container] in bracketed unless published in a proceedings --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><text macro="format"/></if></choose></if><else-if type="book" variable="version" match="all"><!-- For entries in mobile app reference works, place bracketed after the container-title --><text macro="format"/></else-if><else-if type="report"><!-- For chapters in reports, place bracketed after the container title --><text macro="format"/></else-if></choose></group></macro><macro name="secondary-contributors"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text macro="secondary-contributors-periodical"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><text macro="secondary-contributors-booklike"/></if><else><text macro="secondary-contributors-periodical"/></else></choose></else-if><else><text macro="secondary-contributors-booklike"/></else></choose></macro><macro name="secondary-contributors-periodical"><group delimiter="; "><choose><if variable="title"><names variable="interviewer" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><names variable="translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></macro><macro name="secondary-contributors-booklike"><group delimiter="; "><choose><if variable="title"><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><!-- When editortranslator becomes available, add a test: variable="editortranslator" match="none"; then print translator --><choose><if type="post webpage" match="none"><!-- Webpages treat container-title like publisher --><choose><if variable="container-title" match="none"><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></if><else><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></else></choose></group></macro><macro name="database-location"><choose><if variable="archive-place" match="none"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- Add archive_collection as that becomes available --><text variable="archive_location"/></if></choose></macro><macro name="number"><choose><if variable="number"><group delimiter=", "><group delimiter=" "><text variable="genre" text-case="title"/><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></if><else><text variable="number"/></else></choose></group><choose><if type="thesis"><choose><!-- Include the university in brackets if thesis is published --><if variable="archive DOI URL" match="any"><text variable="publisher"/></if></choose></if></choose></group></if></choose></macro><macro name="locators-booklike"><choose><if type="article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage" match="any"/><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></if></choose></else-if><else><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></else></choose></macro><macro name="version"><choose><if is-numeric="version"><group delimiter=" "><!-- replace with label variable="version" if that becomes available --><text term="version" text-case="capitalize-first"/><text variable="version"/></group></if><else><text variable="version"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><label variable="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="volume-booklike"><group delimiter=", "><!-- Report series [ex. 52] --><choose><if type="report"><group delimiter=" "><text variable="collection-title" text-case="title"/><text variable="collection-number"/></group></if></choose><choose><if variable="volume" match="any"><choose><!-- Non-numeric volumes are already printed as part of the book title --><if is-numeric="volume" match="none"/><else><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><number variable="volume" form="numeric"/></group></else></choose></if><else><group><!-- Replace with label variable="number-of-volumes" if that becomes available --><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><text term="page-range-delimiter" prefix="1"/><number variable="number-of-volumes" form="numeric"/></group></else></choose><group delimiter=" "><label variable="issue" text-case="capitalize-first"/><text variable="issue"/></group><group delimiter=" "><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></macro><macro name="reviewed-title"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" font-style="italic"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" font-style="italic"/></else></choose></macro><macro name="reviewed-title-intext"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" form="short" font-style="italic" text-case="title"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="format"><choose><if variable="genre medium" match="any"><group delimiter="; "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if></choose><text variable="medium" text-case="capitalize-first"/></group></if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><macro name="format-intext"><choose><if variable="genre" match="any"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><!-- APA 'source' element contains four parts:container, event, publisher, access --><macro name="container"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><!-- Periodical items --><text macro="container-periodical"/></if><else-if type="paper-conference"><!-- Determine if paper-conference is a periodical or booklike --><choose><if variable="editor editorial-director collection-editor container-author" match="any"><text macro="container-booklike"/></if><else><text macro="container-periodical"/></else></choose></else-if><else-if type="post webpage" match="none"><!-- post and webpage treat container-title like publisher --><text macro="container-booklike"/></else-if></choose></macro><macro name="container-periodical"><group delimiter=". "><group delimiter=", "><text variable="container-title" font-style="italic" text-case="title"/><choose><if variable="volume"><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group></if><else><text variable="issue" font-style="italic"/></else></choose><choose><if variable="page"><text variable="page"/></if><else><!-- Ex. 6: Journal article with article number or eLocator --><!-- This should be localized --><text variable="number" prefix="Article "/></else></choose></group><choose><if variable="issued"><choose><if variable="issue page volume" match="none"><text variable="status" text-case="capitalize-first"/></if></choose></if></choose></group></macro><macro name="container-booklike"><choose><if variable="container-title" match="any"><group delimiter=" "><text term="in" text-case="capitalize-first"/><group delimiter=", "><names variable="editor translator" delimiter=", &amp; "><!-- Change to editortranslator and move editor to substitute as that becomes available --><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" text-case="title" prefix=" (" suffix=")"/><substitute><names variable="editorial-director"/><names variable="collection-editor"/><names variable="container-author"/></substitute></names><group delimiter=": " font-style="italic"><text variable="container-title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></group><text macro="parenthetical-container"/><text macro="bracketed-container"/></group></if></choose></macro><macro name="publisher"><group delimiter="; "><choose><if type="thesis"><choose><if variable="archive DOI URL" match="none"><text variable="publisher"/></if></choose></if><else-if type="post webpage" match="any"><!-- For websites, treat container title like publisher --><group delimiter="; "><text variable="container-title" text-case="title"/><text variable="publisher"/></group></else-if><else-if type="paper-conference"><!-- For paper-conference, don't print publisher if in a journal-like proceedings --><choose><if variable="collection-editor editor editorial-director" match="any"><text variable="publisher"/></if></choose></else-if><else-if type="article-journal article-magazine article-newspaper post-weblog" match="none"><text variable="publisher"/></else-if></choose><group delimiter=", "><choose><if variable="archive-place"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- For physical archives, print the location before the archive name.For electronic archives, these are printed in macro="description". --><!-- Split "archive_location" into "archive_collection" and "archive_location" as that becomes available --><!-- Must test for archive_collection:With collection: archive_collection (archive_location), archive, archive-placeNo collection: archive (archive_location), archive-place--><text variable="archive_location"/></if></choose><text variable="archive"/><text variable="archive-place"/></group></group></macro><macro name="access"><choose><if variable="DOI" match="any"><text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="URL"><group delimiter=" "><choose><if variable="issued status" match="none"><group delimiter=" "><text term="retrieved" text-case="capitalize-first"/><date variable="accessed" form="text" suffix=","/><text term="from"/></group></if></choose><text variable="URL"/></group></else-if></choose></macro><macro name="event"><choose><if variable="event"><!-- To prevent Zotero from printing event-place due to its double-mapping of all 'place' toboth publisher-place and event-place. Remove this 'choose' when that is changed. --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><!-- Don't print event info if published in a proceedings --><group delimiter=", "><text variable="event"/><text variable="event-place"/></group></if></choose></if></choose></macro><!-- After 'source', APA also prints publication history (original publication, reprint info, retraction info) --><macro name="publication-history"><choose><if type="patent" match="none"><group prefix="(" suffix=")"><choose><if variable="references"><!-- This provides the option for more elaborate description of publication history, such as full "reprinted" references(examples 11, 43, 44) or retracted references --><text variable="references"/></if><else><group delimiter=" "><text value="Original work published"/><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group></else></choose></group></if><else><text variable="references" prefix="(" suffix=")"/></else></choose></macro><!-- Legal citations have their own rules --><macro name="legal-cites"><choose><if type="legal_case"><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/></group><text variable="references"/></group><text macro="access"/></group></if><else-if type="bill"><!-- Currently designed to handle bills, resolutions, hearings, rederal reports. --><group delimiter=". "><group delimiter=", "><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><names variable="author" prefix="(testimony of " suffix=")"><name and="symbol" delimiter=", "/></names></if><else><text variable="status" prefix="(" suffix=")"/></else></choose></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="legislation"><!-- Currently designed to handle statutes, codified regulations, executive orders.For uncodified regulations, assume future code section is in status. --><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><text variable="status" prefix="(" suffix=")"/></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="treaty"><!-- APA generally defers to Bluebook for legal citations, but diverges withoutexplanation for treaty items. The Bluebook format that was used in APA 6thed. is used here. --><group delimiter=", "><text variable="title" text-case="title"/><names variable="author"><name initialize-with="." form="short" delimiter="-"/></names><text macro="date-legal"/><text macro="container-legal"/><text macro="access"/></group></else-if></choose></macro><macro name="date-legal"><choose><if type="legal_case"><group prefix="(" suffix=")" delimiter=" "><text variable="authority"/><choose><if variable="container-title" match="any"><!-- Print only year for cases published in reporters--><date variable="issued" form="numeric" date-parts="year"/></if><else><date variable="issued" form="text"/></else></choose></group></if><else-if type="bill legislation" match="any"><group prefix="(" suffix=")" delimiter=" "><group delimiter=" "><date variable="original-date"><date-part name="year"/></date><text term="and" form="symbol"/></group><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="treaty"><date variable="issued" form="text"/></else-if></choose></macro><macro name="container-legal"><!-- Expect legal item container-titles to be stored in short form --><choose><if type="legal_case"><group delimiter=" "><choose><if variable="container-title"><group delimiter=" "><text variable="volume"/><text variable="container-title"/><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><text value="___"/></else></choose></group></if><else><group delimiter=" "><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/></if></choose><text variable="number"/></group></else></choose></group></if><else-if type="bill"><group delimiter=", "><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group><text variable="authority"/><text variable="chapter-number"/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></else-if><else-if type="legislation"><choose><if variable="number"><!--There's a public law number--><group delimiter=", "><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></if><else><group delimiter=" "><text variable="volume"/><text variable="container-title"/><choose><if variable="section"><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group></if><else><text variable="page-first"/></else></choose></group></else></choose></else-if><else-if type="treaty"><group delimiter=" "><number variable="volume"/><text variable="container-title"/><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></else></choose></group></else-if></choose></macro><macro name="citation-locator"><group delimiter=" "><choose><if locator="chapter"><label variable="locator" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name-with-initials"><sort><key macro="author-bib" names-min="3" names-use-first="1"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-intext"/><text macro="date-intext"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="21" et-al-use-first="19" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author-bib"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/><key macro="title"/></sort><layout><choose><if type="bill legal_case legislation treaty" match="any"><!-- Legal items have different orders and delimiters --><choose><if variable="DOI URL" match="any"><text macro="legal-cites"/></if><else><text macro="legal-cites" suffix="."/></else></choose></if><else><group delimiter=" "><group delimiter=". " suffix="."><text macro="author-bib"/><text macro="date-bib"/><text macro="title-and-descriptions"/><text macro="container"/><text macro="event"/><text macro="publisher"/></group><text macro="access"/><text macro="publication-history"/></group></else></choose></layout></bibliography>
</style>
`,HB=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" initialize-with-hyphen="false" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_requirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2022-04-14T13:48:43+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><!--discard publisher info for articles--><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><!--add event-name and event-place once they become available--><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech"><group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number"><sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography>
</style>
`,WB=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" default-locale="en-GB"><info><title>Cite Them Right 11th edition - Harvard</title><id>http://www.zotero.org/styles/harvard-cite-them-right</id><link href="http://www.zotero.org/styles/harvard-cite-them-right" rel="self"/><link href="http://www.zotero.org/styles/harvard-cite-them-right-10th-edition" rel="template"/><link href="http://www.citethemrightonline.com/" rel="documentation"/><author><name>Patrick O'Brien</name></author><category citation-format="author-date"/><category field="generic-base"/><summary>Harvard according to Cite Them Right, 11th edition.</summary><updated>2021-09-01T10:12:20+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en-GB"><terms><term name="editor" form="short"><single>ed.</single><multiple>eds</multiple></term><term name="editortranslator" form="verb">edited and translated by</term><term name="edition" form="short">edn.</term></terms></locale><macro name="editor"><choose><if type="chapter paper-conference" match="any"><names variable="container-author" delimiter=", " suffix=", "><name and="text" initialize-with=". " delimiter=", " sort-separator=", " name-as-sort-order="all"/></names><choose><if variable="container-author" match="none"><names variable="editor translator" delimiter=", "><name and="text" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/></names></if></choose></if></choose></macro><macro name="secondary-contributors"><choose><if type="chapter paper-conference" match="none"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with="."/></names></if><else-if variable="container-author" match="any"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with=". " delimiter=", "/></names></else-if></choose></macro><macro name="author"><names variable="author"><name and="text" delimiter-precedes-last="never" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="text" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="access"><choose><if variable="DOI"><text variable="DOI" prefix="doi:"/></if><else-if variable="URL"><text term="available at" suffix=": " text-case="capitalize-first"/><text variable="URL"/><group prefix=" (" delimiter=": " suffix=")"><text term="accessed" text-case="capitalize-first"/><date form="text" variable="accessed"><date-part name="day"/><date-part name="month"/><date-part name="year"/></date></group></else-if></choose></macro><macro name="number-volumes"><choose><if variable="volume" match="none"><group delimiter=" " prefix="(" suffix=")"><text variable="number-of-volumes"/><label variable="volume" form="short" strip-periods="true"/></group></if></choose></macro><macro name="title"><choose><if type="bill book legal_case legislation motion_picture report song thesis webpage graphic" match="any"><group delimiter=". "><group delimiter=" "><group delimiter=" "><text variable="title" font-style="italic"/><text variable="medium" prefix="[" suffix="]"/></group><text macro="number-volumes"/></group><text macro="edition"/></group></if><else><text variable="title" form="long" quotes="true"/></else></choose></macro><macro name="publisher"><choose><if type="thesis"><group delimiter=". "><text variable="genre"/><text variable="publisher"/></group></if><else-if type="report"><group delimiter=". "><group delimiter=" "><text variable="genre"/><text variable="number"/></group><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group></else-if><else-if type="article-journal article-newspaper article-magazine" match="none"><group delimiter=" "><group delimiter=", "><choose><if type="speech" variable="event" match="any"><text variable="event" font-style="italic"/></if></choose><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group><group prefix="(" suffix=")" delimiter=", "><text variable="collection-title"/><text variable="collection-number"/></group></group></else-if></choose></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></if><else><text term="no date"/><text variable="year-suffix" prefix=" "/></else></choose></macro><macro name="locator"><choose><if type="article-journal"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="published-date"><choose><if type="article-newspaper article-magazine post-weblog speech" match="any"><date variable="issued"><date-part name="day" suffix=" "/><date-part name="month" form="long"/></date></if></choose></macro><macro name="pages"><choose><if type="chapter paper-conference article-journal article article-magazine article-newspaper book review review-book report" match="any"><group delimiter=" "><label variable="page" form="short"/><text variable="page"/></group></if></choose></macro><macro name="container-title"><choose><if variable="container-title"><group delimiter=". "><group delimiter=" "><text variable="container-title" font-style="italic"/><choose><if type="article article-journal" match="any"><choose><if match="none" variable="page volume"><text value="Preprint" prefix="[" suffix="]"/></if></choose></if></choose></group><text macro="edition"/></group></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short" strip-periods="true"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="container-prefix"><choose><if type="chapter paper-conference" match="any"><text term="in"/></if></choose></macro><citation et-al-min="4" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year"><sort><key macro="year-date"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=", "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short" suffix=" "/><text variable="locator"/></group></group></layout></citation><bibliography and="text" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key macro="year-date"/><key variable="title"/></sort><layout suffix="."><group delimiter=". "><group delimiter=" "><text macro="author"/><text macro="year-date" prefix="(" suffix=")"/><group delimiter=", "><text macro="title"/><group delimiter=" "><text macro="container-prefix"/><text macro="editor"/><text macro="container-title"/></group></group></group><text macro="secondary-contributors"/><text macro="publisher"/></group><group delimiter=", " prefix=", "><text macro="locator"/><text macro="published-date"/><text macro="pages"/></group><text macro="access" prefix=". "/></layout></bibliography>
</style>
`,GB={apa:qB,vancouver:HB,harvard1:WB},Hg=new Ym(GB);var p={PROCESSOR_VERSION:"1.4.61",error:function(r){throw typeof Error>"u"?new Error("citeproc-js error: "+r):"citeproc-js error: "+r},debug:function(r){typeof console>"u"?dump("CSL: "+r+`
`):console.log("citeproc-js warning: "+r)},toLocaleUpperCase(r){var t=this.tmp.lang_array;try{r=r.toLocaleUpperCase(t)}catch{r=r.toUpperCase()}return r},toLocaleLowerCase(r){var t=this.tmp.lang_array;try{r=r.toLocaleLowerCase(t)}catch{r=r.toLowerCase()}return r},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(r){r.opt.xclass==="note"?(this.depth=0,this.update=function(e){for(var e=e||"",i=e.split(/([\(\)])/),n=1,a=i.length;n<a;n+=2)i[n]==="("?(this.depth%2===1&&(i[n]="["),this.depth+=1):i[n]===")"&&(this.depth%2===0&&(i[n]="]"),this.depth-=1);var s=i.join("");return s}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(r,t,e){var i=null;if(r.opt.availableAbbrevDomains&&t&&t!=="default"){var n=r.locale[r.opt.lang].opts["jurisdiction-preference"],a=null;if(r.locale[e]&&(a=r.locale[e].opts["jurisdiction-preference"]),a){for(var s=a.length-1;s>-1;s--)if(r.opt.availableAbbrevDomains[t].indexOf(a[s])>-1){i=a[s];break}}if(!i&&n){for(var s=n.length-1;s>-1;s--)if(r.opt.availableAbbrevDomains[t].indexOf(n[s])>-1){i=n[s];break}}}return i},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(r){if(this.opt.development_extensions.locator_date_and_revision&&r.locator){r.locator=""+r.locator;var t=r.locator.indexOf("|");if(t>-1){var e=r.locator;r.locator=e.slice(0,t),e=e.slice(t+1);var i=e.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);i&&(r["locator-date"]=this.fun.dateparser.parseDateToObject(i[1]),e=e.slice(i[1].length)),r["locator-extra"]=e.replace(/^\s+/,"").replace(/\s+$/,"")}}return r.locator&&(r.locator=(""+r.locator).replace(/\s+$/,"")),r},normalizeLocaleStr:function(r){if(r){var t=r.split("-");return t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),t.join("-")}},parseNoteFieldHacks:function(r,t,e){if(typeof r.note=="string"){for(var i=[],n=r.note.split(`
`),a=0,s=n.length;a<s;a++){var o=n[a],i=[],l=o.match(p.NOTE_FIELDS_REGEXP);if(l){for(var u=o.split(p.NOTE_FIELDS_REGEXP),f=0,h=u.length-1;f<h;f++)i.push(u[f]),i.push(l[f]);i.push(u[u.length-1]);for(var f=1,h=i.length;f<h&&!(i[f-1].trim()&&(a>0||f>1)&&!i[f-1].match(p.NOTE_FIELD_REGEXP));f+=2)i[f]=`
`+i[f].slice(2,-1).trim()+`
`;n[a]=i.join("")}}n=n.join(`
`).split(`
`);for(var c=0,m={},a=0,s=n.length;a<s;a++){var o=n[a],d=o.match(p.NOTE_FIELD_REGEXP);if(o.trim()){if(!d){if(a===0)continue;c=a;break}}else continue;var v=d[1],b=d[2].replace(/^\s+/,"").replace(/\s+$/,"");if(v==="type")r.type=b,n[a]="";else if(p.DATE_VARIABLES.indexOf(v.replace(/^alt-/,""))>-1)(!r[v]||e)&&(r[v]=p.DateParser.parseDateToArray(b),(!t||t[v]&&this.isDateString(b))&&(n[a]=""));else if(!r[v]){if(p.NAME_VARIABLES.indexOf(v.replace(/^alt-/,""))>-1){m[v]||(m[v]=[]);var g=b.split(/\s*\|\|\s*/);if(g.length===1)m[v].push({literal:g[0]});else if(g.length===2){var _={family:g[0],given:g[1]};p.parseParticles(_),m[v].push(_)}}else r[v]=b;(!t||t[v])&&(n[a]="")}}for(var v in m)r[v]=m[v];if(t){n[c].trim()&&(n[c]=`
`+n[c]);for(var a=c-1;a>-1;a--)n[a].trim()||(n=n.slice(0,a).concat(n.slice(a+1)))}r.note=n.join(`
`).trim()}},checkPrefixSpaceAppend:function(r,a){a||(a="");var e="",i=a.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),n=i.slice(-1);(i.match(p.ENDSWITH_ROMANESQUE_REGEXP)||p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(n)>-1||n.match(/[\)\],0-9]/))&&(e=" ");var a=(a+e).replace(/\s+/g," ");return a},checkIgnorePredecessor:function(r,t){var e=t.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),i=e.slice(-1);return p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(i)>-1&&t.trim().indexOf(" ")>-1?(r.tmp.term_predecessor=!1,!0):!1},checkSuffixSpacePrepend:function(r,t){return t?((t.match(p.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(t.slice(0,1))>-1)&&(t=" "+t),t):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(r){for(var t=["title","short","main","sub","subjoin"],e={},i=0,n=t.length;i<n;i++)e[t[i]]=r+"title"+(t[i]==="title"?"":"-"+t[i]);return e},demoteNoiseWords:function(r,t,e){var i=r.locale[r.opt.lang].opts["leading-noise-words"];if(t&&e){t=t.split(/\s+/),t.reverse();for(var n=[],a=t.length-1;a>-1&&i.indexOf(t[a].toLowerCase())>-1;a+=-1)n.push(t.pop());t.reverse();var s=t.join(" "),o=n.join(" ");e==="drop"||!o?t=s:e==="demote"&&(t=[s,o].join(", "))}return t},extractTitleAndSubtitle:function(r,t){var e=t?" ":"",i=[""];this.opt.development_extensions.split_container_title&&i.push("container-");for(var n=0,a=i.length;n<a;n++){var s=i[n],o=p.TITLE_FIELD_SPLITS(s),l=[!1];if(r.multi)for(var u in r.multi._keys[o.short])l.push(u);for(var f=0,h=l.length;f<h;f++){var u=l[f],c={};u?(r.multi._keys[o.title]&&(c[o.title]=r.multi._keys[o.title][u]),r.multi._keys[o.short]&&(c[o.short]=r.multi._keys[o.short][u])):(c[o.title]=r[o.title],c[o.short]=r[o.short]),c[o.main]=c[o.title],c[o.sub]=!1;var m=c[o.short];if(c[o.title]){if(m&&m.toLowerCase()===c[o.title].toLowerCase())c[o.main]=c[o.title],c[o.subjoin]="",c[o.sub]="";else if(m){var d=c[o.title].slice(m.replace(/[\?\!]+$/,"").length),v=c[o.title].replace(d.replace(/^[\?\!]+/,""),"").trim(),b=p.TITLE_SPLIT_REGEXP.matchfirst.exec(d);if(b&&v.toLowerCase()===m.toLowerCase())c[o.main]=v,c[o.subjoin]=b[1].replace(/[\?\!]+(\s*)$/,"$1"),c[o.sub]=d.replace(p.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(c[o.short]=c[o.main]);else{var g=p.TITLE_SPLIT(c[o.title]);g.length==3?(c[o.main]=g[0],c[o.subjoin]=g[1],c[o.sub]=g[2]):(c[o.main]=c[o.title],c[o.subjoin]="",c[o.sub]="")}}else{var g=p.TITLE_SPLIT(c[o.title]);if(g.length==3){if(c[o.main]=g[0],c[o.subjoin]=g[1],c[o.sub]=g[2],this.opt.development_extensions.implicit_short_title&&r.type!=="legal_case"&&!r[o.short]&&!c[o.main].match(/^[\-\.[0-9]+$/)){var _=c[o.subjoin].trim();["?","!"].indexOf(_)===-1&&(_=""),c[o.short]=c[o.main]+_}}else c[o.main]=c[o.title],c[o.subjoin]="",c[o.sub]=""}if(c[o.subjoin]&&c[o.subjoin].match(/([\?\!])/)){var b=c[o.subjoin].match(/(\s*)$/);c[o.main]=c[o.main]+e+c[o.subjoin].trim(),c[o.subjoin]=b[1]}}if(c[o.subjoin]&&(c[o.subjoin].indexOf(":")>-1&&(c[o.subjoin]=e+": "),(c[o.subjoin].indexOf("-")>-1||c[o.subjoin].indexOf("—")>-1)&&(c[o.subjoin]="—")),u)for(var y in c)r.multi._keys[y]||(r.multi._keys[y]={}),r.multi._keys[y][u]=c[y];else for(var y in c)r[y]=c[y]}}},titlecaseSentenceOrNormal:function(r,t,e,i,n){var a=p.TITLE_FIELD_SPLITS(e),s={};if(i&&t.multi?(t.multi._keys[a.title]&&(s[a.title]=t.multi._keys[a.title][i]),t.multi._keys[a.main]&&(s[a.main]=t.multi._keys[a.main][i]),t.multi._keys[a.sub]&&(s[a.sub]=t.multi._keys[a.sub][i]),t.multi._keys[a.subjoin]&&(s[a.subjoin]=t.multi._keys[a.subjoin][i])):(s[a.title]=t[a.title],s[a.main]=t[a.main],s[a.sub]=t[a.sub],s[a.subjoin]=t[a.subjoin]),s[a.main]&&s[a.sub]){var o=s[a.main],l=s[a.subjoin],u=s[a.sub];return n?(o=p.Output.Formatters.sentence(r,o),u=p.Output.Formatters.sentence(r,u)):r.opt.development_extensions.uppercase_subtitles&&(u=p.Output.Formatters["capitalize-first"](r,u)),[o,l,u].join("")}else if(s[a.title]){if(n)return p.Output.Formatters.sentence(r,s[a.title]);if(r.opt.development_extensions.uppercase_subtitles){for(var f=p.TITLE_SPLIT(s[a.title]),h=0,c=f.length;h<c;h+=2)f[h]=p.Output.Formatters["capitalize-first"](r,f[h]);for(var h=1,c=f.length-1;h<c;h+=2){var m=f[h].match(/([:\?\!] )/);if(m){var d=r.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr"?" ":"";f[h]=d+m[1]}(f[h].indexOf("-")>-1||f[h].indexOf("—")>-1)&&(f[h]="—")}return s[a.title]=f.join(""),s[a.title]}else return s[a.title]}else return""},getSafeEscape:function(r){if(["bibliography","citation"].indexOf(r.tmp.area)>-1){var t=[];return r.opt.development_extensions.thin_non_breaking_space_html_hack&&r.opt.mode==="html"&&t.push(function(e){return e.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),t.length?function(e){for(var i=0,n=t.length;i<n;i+=1)e=t[i](e);return p.Output.Formats[r.opt.mode].text_escape(e)}:p.Output.Formats[r.opt.mode].text_escape}else return function(e){return e}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-à-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokmål)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{ª:"a","²":"2","³":"3","¹":"1",º:"o",ʰ:"h",ʱ:"ɦ",ʲ:"j",ʳ:"r",ʴ:"ɹ",ʵ:"ɻ",ʶ:"ʁ",ʷ:"w",ʸ:"y",ˠ:"ɣ",ˡ:"l",ˢ:"s",ˣ:"x",ˤ:"ʕ","ᴬ":"A","ᴭ":"Æ","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴲ":"Ǝ","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴽ":"Ȣ","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ᵂ":"W","ᵃ":"a","ᵄ":"ɐ","ᵅ":"ɑ","ᵆ":"ᴂ","ᵇ":"b","ᵈ":"d","ᵉ":"e","ᵊ":"ə","ᵋ":"ɛ","ᵌ":"ɜ","ᵍ":"g","ᵏ":"k","ᵐ":"m","ᵑ":"ŋ","ᵒ":"o","ᵓ":"ɔ","ᵔ":"ᴖ","ᵕ":"ᴗ","ᵖ":"p","ᵗ":"t","ᵘ":"u","ᵙ":"ᴝ","ᵚ":"ɯ","ᵛ":"v","ᵜ":"ᴥ","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"φ","ᵡ":"χ","⁰":"0","ⁱ":"i","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","⁺":"+","⁻":"−","⁼":"=","⁽":"(","⁾":")",ⁿ:"n","℠":"SM","™":"TM","㆒":"一","㆓":"二","㆔":"三","㆕":"四","㆖":"上","㆗":"中","㆘":"下","㆙":"甲","㆚":"乙","㆛":"丙","㆜":"丁","㆝":"天","㆞":"地","㆟":"人",ˀ:"ʔ",ˁ:"ʕ",ۥ:"و",ۦ:"ي"},SUPERSCRIPTS_REGEXP:new RegExp("[ª²³¹ºʰʱʲʳʴʵʶʷʸˠˡˢˣˤᴬᴭᴮᴰᴱᴲᴳᴴᴵᴶᴷᴸᴹᴺᴼᴽᴾᴿᵀᵁᵂᵃᵄᵅᵆᵇᵈᵉᵊᵋᵌᵍᵏᵐᵑᵒᵓᵔᵕᵖᵗᵘᵙᵚᵛᵜᵝᵞᵟᵠᵡ⁰ⁱ⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿ℠™㆒㆓㆔㆕㆖㆗㆘㆙㆚㆛㆜㆝㆞㆟ˀˁۥۦ]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(r,t,e,i,n){if(r.opt.use_context_condition){var a=r.tmp.group_context.tip;a.condition?(a.condition.termtxt||(a.condition.termtxt=t,a.condition.valueTerm=e),!a.value_seen&&a.condition.test==="comma-safe-numbers-only"&&n&&(a.value_seen=!0,n.match(/^[0-9]/)||(r.tmp.just_did_number=!1))):i&&i.decorations.filter(s=>s[0]==="@vertical-align").length>0||i&&i.strings.suffix?r.tmp.just_did_number=!1:t&&(t.match(/[0-9]$/)?r.tmp.just_did_number=!0:r.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(r,t){if(r.opt.use_context_condition){var e,i=t.condition.test==="comma-safe-numbers-only";if(t.condition.test==="empty-label")e=!t.condition.termtxt;else if(t.condition.test==="empty-label-no-decor")e=!t.condition.termtxt||t.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(t.condition.test)>-1){var n=t.condition.termtxt,a=!1;t.condition.termtxt&&(a=t.condition.termtxt.slice(0,1).match(p.ALL_ROMANESQUE_REGEXP));var s=r.tmp.just_did_number;s?t.condition.valueTerm?e=!i:n?a?e=!i:["always","after-number"].indexOf(r.opt.require_comma_on_symbol)>-1?e=!0:e=!1:e=!0:t.condition.valueTerm?e=!1:n?a?e=!i:r.opt.require_comma_on_symbol==="always"?e=!0:e=!1:e=!1}if(e)var o=!1;else var o=!0;return t.condition.not&&(o=!o),o}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:function(){var r=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*—\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"];return{match:new RegExp("("+r.join("|")+")","g"),matchfirst:new RegExp("^("+r.join("|")+")"),split:new RegExp("(?:"+r.join("|")+")")}}(),TITLE_SPLIT:function(r){if(!r)return r;for(var t=r.match(p.TITLE_SPLIT_REGEXP.match),e=r.split(p.TITLE_SPLIT_REGEXP.split),i=e.length-2;i>-1;i--)e[i]=e[i].trim(),e[i]&&e[i].slice(-1).toLowerCase()!==e[i].slice(-1)?(e[i]=e[i]+t[i]+e[i+1],e=e.slice(0,i+1).concat(e.slice(i+2))):e=e.slice(0,i+1).concat([t[i]]).concat(e.slice(i+1));return e},GET_COURT_CLASS:function(r,t,e){var i="",n=null,a=t.jurisdiction?t.jurisdiction.split(":")[0]:null,s="court_condition_classes";return e&&(s="court_key_classes"),a&&t.authority&&(typeof t.authority=="string"?n=t.authority:t.authority[0]&&t.authority[0].literal&&(n=t.authority[0].literal)),n&&(this.lang&&r.locale[this.lang].opts[s]&&r.locale[this.lang].opts[s][a]&&r.locale[this.lang].opts[s][a][n]?i=r.locale[this.lang].opts[s][a][n]:r.locale[r.opt["default-locale"][0]].opts[s]&&r.locale[r.opt["default-locale"][0]].opts[s][a]&&r.locale[r.opt["default-locale"][0]].opts[s][a][n]&&(i=r.locale[r.opt["default-locale"][0]].opts[s][a][n])),i},SET_COURT_CLASSES:function(r,t,e,i){for(var n=e.getNodesByName(i,"court-class"),a=0,s=e.numberofnodes(n);a<s;a+=1){var o=n[a],l=e.attributes(o),u=l["@name"],f=l["@country"],h=l["@courts"],c="court_key_classes";if(r.registry&&(c="court_condition_classes"),u&&f&&h){h=h.trim().split(/\s+/),r.locale[t].opts[c]||(r.locale[t].opts[c]={}),r.locale[t].opts[c][f]||(r.locale[t].opts[c][f]={});for(var m=0,d=h.length;m<d;m++)r.locale[t].opts[c][f][h[m]]=u}}},INIT_JURISDICTION_MACROS:function(r,t,e,i){if(t["best-jurisdiction"])return!0;if(!r.sys.retrieveStyleModule||!p.MODULE_MACROS[i]||!t.jurisdiction)return!1;var o=r.getJurisdictionList(t.jurisdiction);if(!r.opt.jurisdictions_seen[o[0]]){var n=r.retrieveAllStyleModules(o);for(var a in n){var s=r.loadStyleModule(a,n[a]);s&&(n[s]||(Object.assign(n,r.retrieveAllStyleModules([s])),r.loadStyleModule(s,n[s],!0)))}}var o=r.getJurisdictionList(t.jurisdiction);r.opt.parallel.enable&&(r.parallel||(r.parallel=new p.Parallel(r)));for(var l=0,u=o.length;l<u;l++){var a=o[l];if(e&&r.juris[a]&&!e["best-jurisdiction"]&&r.juris[a].types.locator&&(t["best-jurisdiction"]=a),r.juris[a]&&r.juris[a].types[t.type])return t["best-jurisdiction"]=a,!0}return!1}};p.XmlJSON=function(r){this.dataObj=r,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}};p.XmlJSON.prototype.clean=function(r){return r};p.XmlJSON.prototype.getStyleId=function(r,t){var e="id";t&&(e="title");for(var i="",n=r.children,a=0,s=n.length;a<s;a++)if(n[a].name==="info")for(var o=n[a].children,l=0,u=o.length;l<u;l++)o[l].name===e&&(i=o[l].children[0]);return i};p.XmlJSON.prototype.children=function(r){return r&&r.children.length?r.children.slice():!1};p.XmlJSON.prototype.nodename=function(r){return r?r.name:null};p.XmlJSON.prototype.attributes=function(r){var t={};for(var e in r.attrs)t["@"+e]=r.attrs[e];return t};p.XmlJSON.prototype.content=function(r){var t="";if(!r||!r.children)return t;for(var e=0,i=r.children.length;e<i;e+=1)typeof r.children[e]=="string"&&(t+=r.children[e]);return t};p.XmlJSON.prototype.namespace={};p.XmlJSON.prototype.numberofnodes=function(r){return r&&typeof r.length=="number"?r.length:0};p.XmlJSON.prototype.getAttributeValue=function(r,t,e){var i="";return e&&(t=e+":"+t),r&&r.attrs&&(r.attrs[t]?i=r.attrs[t]:i=""),i};p.XmlJSON.prototype.getNodeValue=function(r,t){var e="";if(t)for(var i=0,n=r.children.length;i<n;i+=1)r.children[i].name===t&&(r.children[i].children.length?e=r.children[i]:e="");else r&&(e=r);return e&&e.children&&e.children.length==1&&typeof e.children[0]=="string"&&(e=e.children[0]),e};p.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(r,t,e,i,n){i.slice(0,1)==="@"&&(i=i.slice(1));for(var a=0,s=r.children.length;a<s;a+=1)r.children[a].name===t&&r.children[a].attrs.name===e&&(r.children[a].attrs[i]=n)};p.XmlJSON.prototype.deleteNodeByNameAttribute=function(r,t){var e,i;for(e=0,i=r.children.length;e<i;e+=1)!r.children[e]||typeof r.children[e]=="string"||r.children[e].attrs.name==t&&(r.children=r.children.slice(0,e).concat(r.children.slice(e+1)))};p.XmlJSON.prototype.deleteAttribute=function(r,t){typeof r.attrs[t]<"u"&&r.attrs.pop(t)};p.XmlJSON.prototype.setAttribute=function(r,t,e){return r.attrs[t]=e,!1};p.XmlJSON.prototype.nodeCopy=function(r,t){if(!t)var t={};if(typeof t=="object"&&typeof t.length>"u")for(var e in r)typeof r[e]=="string"?t[e]=r[e]:typeof r[e]=="object"&&(typeof r[e].length>"u"?t[e]=this.nodeCopy(r[e],{}):t[e]=this.nodeCopy(r[e],[]));else for(var i=0,n=r.length;i<n;i+=1)typeof r[i]=="string"?t[i]=r[i]:t[i]=this.nodeCopy(r[i],{});return t};p.XmlJSON.prototype.getNodesByName=function(r,t,e,i){if(!i)var i=[];if(!r||!r.children)return i;t===r.name&&(e?e===r.attrs.name&&i.push(r):i.push(r));for(var n=0,a=r.children.length;n<a;n+=1)typeof r.children[n]=="object"&&this.getNodesByName(r.children[n],t,e,i);return i};p.XmlJSON.prototype.nodeNameIs=function(r,t){return typeof r>"u"?!1:t==r.name};p.XmlJSON.prototype.makeXml=function(r){return typeof r=="string"&&(r.slice(0,1)==="<"?r=this.jsonStringWalker.walkToObject(r):r=JSON.parse(r)),r};p.XmlJSON.prototype.insertChildNodeAfter=function(r,t,e,i){for(var n=0,a=r.children.length;n<a;n+=1)if(t===r.children[n]){r.children=r.children.slice(0,n).concat([i]).concat(r.children.slice(n+1));break}return r};p.XmlJSON.prototype.insertPublisherAndPlace=function(r){if(r.name==="group"){for(var t=!0,e=["publisher","publisher-place"],i=0,n=r.children.length;i<n;i+=1){var a=e.indexOf(r.children[i].attrs.variable),s=r.children[i].name==="text";if(s&&a>-1&&!r.children[i].attrs.prefix&&!r.children[i].attrs.suffix)e=e.slice(0,a).concat(e.slice(a+1));else{t=!1;break}}t&&!e.length&&(r.attrs["has-publisher-and-publisher-place"]=!0)}for(var i=0,n=r.children.length;i<n;i+=1)typeof r.children[i]=="object"&&this.insertPublisherAndPlace(r.children[i])};p.XmlJSON.prototype.isChildOfSubstitute=function(r){if(r.length>0){var t=r.slice(),e=t.pop();return e==="substitute"?!0:this.isChildOfSubstitute(t)}return!1};p.XmlJSON.prototype.addMissingNameNodes=function(r,t){if(t||(t=[]),r.name==="names"&&!this.isChildOfSubstitute(t)){for(var e=!0,i=0,n=r.children.length;i<n;i++)if(r.children[i].name==="name"){e=!1;break}e&&(r.children=[{name:"name",attrs:{},children:[]}].concat(r.children))}t.push(r.name);for(var i=0,n=r.children.length;i<n;i+=1)typeof r.children[i]=="object"&&this.addMissingNameNodes(r.children[i],t);t.pop()};p.XmlJSON.prototype.addInstitutionNodes=function(r){var t;if(r.name==="names"){for(var e={},i=-1,n=0,a=r.children.length;n<a;n+=1){if(r.children[n].name=="name"){for(var s in r.children[n].attrs)e[s]=r.children[n].attrs[s];e.delimiter=r.children[n].attrs.delimiter,e.and=r.children[n].attrs.and,i=n;for(var o=0,l=r.children[n].children.length;o<l;o+=1)if(r.children[n].children[o].attrs.name==="family")for(var s in r.children[n].children[o].attrs)e[s]=r.children[n].children[o].attrs[s]}if(r.children[n].name=="institution"){i=-1;break}}if(i>-1){for(var t=this.nodeCopy(this.institution),n=0,a=p.INSTITUTION_KEYS.length;n<a;n+=1){var u=p.INSTITUTION_KEYS[n];typeof e[u]<"u"&&(t.children[0].attrs[u]=e[u]),e.delimiter&&(t.attrs.delimiter=e.delimiter),e.and&&(t.attrs.and=e.and)}r.children=r.children.slice(0,i+1).concat([t]).concat(r.children.slice(i+1))}}for(var n=0,a=r.children.length;n<a;n+=1)typeof r.children[n]!="string"&&this.addInstitutionNodes(r.children[n])};p.XmlJSON.prototype.flagDateMacros=function(r){for(var t=0,e=r.children.length;t<e;t+=1)r.children[t].name==="macro"&&this.inspectDateMacros(r.children[t])&&(r.children[t].attrs["macro-has-date"]="true")};p.XmlJSON.prototype.inspectDateMacros=function(r){if(!r||!r.children)return!1;if(r.name==="date")return!0;for(var t=0,e=r.children.length;t<e;t+=1)if(this.inspectDateMacros(r.children[t]))return!0;return!1};p.stripXmlProcessingInstruction=function(r){return r&&(r=r.replace(/^<\?[^?]+\?>/,""),r=r.replace(/<!--[^>]+-->/g,""),r=r.replace(/^\s+/g,""),r=r.replace(/\s+$/g,""),r)};p.parseXml=function(r){var t={children:[]},e=[t.children];function i(g){g=g.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"");for(var _=g.split("><"),y=null,$=0,I=_.length;$<I;$++)$>0&&(_[$]="<"+_[$]),$<_.length-1&&(_[$]=_[$]+">"),typeof y!="number"&&(_[$].slice(0,7)==="<style "||_[$].slice(0,8)=="<locale ")&&(y=$);_=_.slice(y);for(var $=_.length-2;$>-1;$--)if(_[$].slice(1).indexOf("<")===-1){var A=_[$].slice(0,5);_[$].slice(-2)!=="/>"&&(A==="<term"?_[$+1].slice(0,6)==="</term"&&(_[$]=_[$]+_[$+1],_=_.slice(0,$+1).concat(_.slice($+2))):["<sing","<mult"].indexOf(A)>-1&&_[$].slice(-2)!=="/>"&&_[$+1].slice(0,1)==="<"&&(_[$]=_[$]+_[$+1],_=_.slice(0,$+1).concat(_.slice($+2))))}return _}function n(g){return g.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(_,y){var $=parseInt(y,10);return String.fromCharCode($)}).replace(/&#x([a-f0-9]{1,6});/gi,function(_,y){var $=parseInt(y,16);return String.fromCharCode($)})}function a(g){var _=g.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(_)for(var y=0,$=_.length;y<$;y++)_[y]=_[y].replace(/=.*/,"");return _}function s(g,_){var y=RegExp("^.*[	 ]+"+_+`=("(?:[^"]*)"|'(?:[^']*)').*$`),$=g.match(y);return $?$[1].slice(1,-1):null}function o(g){var _=RegExp("^<([^	 />]+)"),y=g.match(_);return y?y[1]:null}function l(g){var _={};_.name=o(g),_.attrs={};var y=a(g);if(y)for(var $=0,I=y.length;$<I;$++){var A={name:y[$],value:s(g,y[$])};_.attrs[A.name]=n(A.value)}return _.children=[],_}function u(g){var _=g.match(/^.*>([^<]*)<.*$/);return n(_[1])}function f(g){e.slice(-1)[0].push(g)}function h(g){e.push(g.children)}function c(g){var _;if(g.slice(1).indexOf("<")>-1){var y=g.slice(0,g.indexOf(">")+1);_=l(y),_.children=[u(g)],f(_)}else g.slice(-2)==="/>"?(_=l(g),o(g)==="term"&&_.children.push(""),f(_)):g.slice(0,2)==="</"?e.pop():(_=l(g),f(_),h(_))}for(var m=i(r),d=0,v=m.length;d<v;d++){var b=m[d];c(b)}return t.children[0]};p.XmlDOM=function(r){this.dataObj=r,typeof DOMParser>"u"?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(a,s){if(typeof ActiveXObject<"u"){var o=new ActiveXObject("MSXML.DomDocument");return o.async=!1,o.loadXML(a),o}else if(typeof XMLHttpRequest<"u"){var o=new XMLHttpRequest;return s||(s="text/xml"),o.open("GET","data:"+s+";charset=utf-8,"+encodeURIComponent(a),!1),o.overrideMimeType&&o.overrideMimeType(s),o.send(null),o.responseXML}else if(typeof marknote<"u"){var l=new marknote.Parser;return l.parse(a)}},this.hasAttributes=function(a){var s;return a.attributes&&a.attributes.length?s=!0:s=!1,s}):this.hasAttributes=function(a){var s;return a.attributes&&a.attributes.length?s=!0:s=!1,s},this.importNode=function(a,s){var o;return typeof a.importNode>"u"?o=this._importNode(a,s,!0):o=a.importNode(s,!0),o},this._importNode=function(a,s,o){switch(s.nodeType){case 1:var l=a.createElement(s.nodeName);if(s.attributes&&s.attributes.length>0)for(var u=0,f=s.attributes.length;u<f;)l.setAttribute(s.attributes[u].nodeName,s.getAttribute(s.attributes[u++].nodeName));if(o&&s.childNodes&&s.childNodes.length>0)for(var u=0,f=s.childNodes.length;u<f;)l.appendChild(this._importNode(a,s.childNodes[u++],o));return l}},this.parser=new DOMParser;var t='<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',e=this.parser.parseFromString(t,"text/xml"),i=e.getElementsByTagName("institution");this.institution=i.item(0);var n=e.getElementsByTagName("institution-part");this.institutionpart=n.item(0),this.ns="http://purl.org/net/xbiblio/csl"};p.XmlDOM.prototype.clean=function(r){return r=r.replace(/<\?[^?]+\?>/g,""),r=r.replace(/<![^>]+>/g,""),r=r.replace(/^\s+/,""),r=r.replace(/\s+$/,""),r=r.replace(/^\n*/,""),r};p.XmlDOM.prototype.getStyleId=function(r,t){var e="",i="id";t&&(i="title");var n=r.getElementsByTagName(i);return n&&n.length&&(n=n.item(0)),n&&(e=n.textContent),e||(e=n.innerText),e||(e=n.innerHTML),e};p.XmlDOM.prototype.children=function(r){var t,e,i,n;if(r){for(n=[],t=r.childNodes,e=0,i=t.length;e<i;e+=1)t[e].nodeName!="#text"&&n.push(t[e]);return n}else return[]};p.XmlDOM.prototype.nodename=function(r){var t=r.nodeName;return t};p.XmlDOM.prototype.attributes=function(r){var t,e,i,n,a;if(t=new Object,r&&this.hasAttributes(r))for(e=r.attributes,n=0,a=e.length;n<a;n+=1)i=e[n],t["@"+i.name]=i.value;return t};p.XmlDOM.prototype.content=function(r){var t;return typeof r.textContent<"u"?t=r.textContent:typeof r.innerText<"u"?t=r.innerText:t=r.txt,t};p.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"};p.XmlDOM.prototype.numberofnodes=function(r){return r?r.length:0};p.XmlDOM.prototype.getAttributeName=function(r){var t=r.name;return t};p.XmlDOM.prototype.getAttributeValue=function(r,t,e){var i="";return e&&(t=e+":"+t),r&&this.hasAttributes(r)&&r.getAttribute(t)&&(i=r.getAttribute(t)),i};p.XmlDOM.prototype.getNodeValue=function(r,t){var e=null;if(t){var i=r.getElementsByTagName(t);i.length>0&&(typeof i[0].textContent<"u"?e=i[0].textContent:typeof i[0].innerText<"u"?e=i[0].innerText:e=i[0].text)}return e===null&&r&&r.childNodes&&(r.childNodes.length==0||r.childNodes.length==1&&r.firstChild.nodeName=="#text")&&(typeof r.textContent<"u"?e=r.textContent:typeof r.innerText<"u"?e=r.innerText:e=r.text),e===null&&(e=r),e};p.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(r,t,e,i,n){var a,s,o,l;for(i.slice(0,1)==="@"&&(i=i.slice(1)),o=r.getElementsByTagName(t),a=0,s=o.length;a<s;a+=1)l=o[a],l.getAttribute("name")==e&&l.setAttribute(i,n)};p.XmlDOM.prototype.deleteNodeByNameAttribute=function(r,t){var e,i,n,a;for(a=r.childNodes,e=0,i=a.length;e<i;e+=1)n=a[e],!(!n||n.nodeType==n.TEXT_NODE)&&this.hasAttributes(n)&&n.getAttribute("name")==t&&r.removeChild(a[e])};p.XmlDOM.prototype.deleteAttribute=function(r,t){r.removeAttribute(t)};p.XmlDOM.prototype.setAttribute=function(r,t,e){return r.ownerDocument||(r=r.firstChild),["function","unknown"].indexOf(typeof r.setAttribute)>-1&&r.setAttribute(t,e),!1};p.XmlDOM.prototype.nodeCopy=function(r){var t=r.cloneNode(!0);return t};p.XmlDOM.prototype.getNodesByName=function(r,t,e){var i,n,a,s,o;for(i=[],n=r.getElementsByTagName(t),s=0,o=n.length;s<o;s+=1)a=n.item(s),!(e&&!(this.hasAttributes(a)&&a.getAttribute("name")==e))&&i.push(a);return i};p.XmlDOM.prototype.nodeNameIs=function(r,t){return t==r.nodeName};p.XmlDOM.prototype.makeXml=function(r){r||(r="<docco><bogus/></docco>"),r=r.replace(/\s*<\?[^>]*\?>\s*\n*/g,"");var t=this.parser.parseFromString(r,"application/xml");return t.firstChild};p.XmlDOM.prototype.insertChildNodeAfter=function(r,t,e,i){var n;return n=this.importNode(t.ownerDocument,i),r.replaceChild(n,t),r};p.XmlDOM.prototype.insertPublisherAndPlace=function(r){for(var t=r.getElementsByTagName("group"),e=0,i=t.length;e<i;e+=1){for(var n=t.item(e),a=[],s=0,o=n.childNodes.length;s<o;s+=1)n.childNodes.item(s).nodeType!==1&&a.push(s);if(n.childNodes.length-a.length===2){for(var l=[],s=0,o=2;s<o;s+=1)if(!(a.indexOf(s)>-1)){for(var u=n.childNodes.item(s),f=[],h=0,c=u.childNodes.length;h<c;h+=1)u.childNodes.item(h).nodeType!==1&&f.push(h);if(u.childNodes.length-f.length===0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&n.setAttribute("has-publisher-and-publisher-place",!0)}}};p.XmlDOM.prototype.isChildOfSubstitute=function(r){return r.parentNode?r.parentNode.tagName.toLowerCase()==="substitute"?!0:this.isChildOfSubstitute(r.parentNode):!1};p.XmlDOM.prototype.addMissingNameNodes=function(r){for(var t=r.getElementsByTagName("names"),e=0,i=t.length;e<i;e+=1){var n=t.item(e),a=n.getElementsByTagName("name");if((!a||a.length===0)&&!this.isChildOfSubstitute(n)){var s=n.ownerDocument,o=s.createElement("name");n.appendChild(o)}}};p.XmlDOM.prototype.addInstitutionNodes=function(r){var t,e,i,n,a,s,o,l,u;for(t=r.getElementsByTagName("names"),l=0,u=t.length;l<u;l+=1)if(e=t.item(l),s=e.getElementsByTagName("name"),s.length!=0&&(i=e.getElementsByTagName("institution"),i.length==0)){n=this.importNode(r.ownerDocument,this.institution),a=n.getElementsByTagName("institution-part").item(0),o=s.item(0),e.insertBefore(n,o.nextSibling);for(var f=0,h=p.INSTITUTION_KEYS.length;f<h;f+=1){var c=p.INSTITUTION_KEYS[f],m=o.getAttribute(c);m&&a.setAttribute(c,m)}for(var d=o.getElementsByTagName("name-part"),f=0,h=d.length;f<h;f+=1)if(d[f].getAttribute("name")==="family")for(var v=0,b=p.INSTITUTION_KEYS.length;v<b;v+=1){var c=p.INSTITUTION_KEYS[v],m=d[f].getAttribute(c);m&&a.setAttribute(c,m)}}};p.XmlDOM.prototype.flagDateMacros=function(r){var t,e,i,n,a=r.getElementsByTagName("macro");for(t=0,e=a.length;t<e;t+=1)i=a.item(t),n=i.getElementsByTagName("date"),n.length&&i.setAttribute("macro-has-date","true")};p.setupXml=function(r){var t={},e=null;return typeof r<"u"?typeof r=="string"?(r=r.replace("^\uFEFF","").replace(/^\s+/,""),r.slice(0,1)==="<"?t=p.parseXml(r):t=JSON.parse(r),e=new p.XmlJSON(t)):typeof r.getAttribute<"u"?e=new p.XmlDOM(r):typeof r.toXMLString<"u"?e=new p.XmlE4X(r):e=new p.XmlJSON(r):p.error("unable to parse XML input"),e||p.error("citeproc-js error: unable to parse CSL style or locale object"),e};p.getSortCompare=function(r){if(p.stringCompare)return p.stringCompare;var t=this,e,i={sensitivity:"base",ignorePunctuation:!0,numeric:!0};r||(r="en-US"),e=function(l,u){return p.toLocaleLowerCase.call(t,l).localeCompare(p.toLocaleLowerCase.call(t,u),r,i)};var n=function(l){return l.replace(/^[\[\]\'\"]*/g,"")},a=function(){return e("[x","x")?function(l,u){return e(n(l),n(u))}:!1},s=a(),o=function(l,u){return s?s(l,u):e(l,u)};return o};p.ambigConfigDiff=function(r,t){var e,i,n,a;if(r.names.length!==t.names.length)return 1;for(e=0,i=r.names.length;e<i;e+=1){if(r.names[e]!==t.names[e])return 1;for(n=0,a=r.givens[e];n<a;n+=1)if(r.givens[e][n]!==t.givens[e][n])return 1}return r.disambiguate!=t.disambiguate||r.year_suffix!==t.year_suffix?1:0};p.cloneAmbigConfig=function(r,t){var e,i,n,a,s,o={};for(o.names=[],o.givens=[],o.year_suffix=!1,o.disambiguate=!1,e=0,i=r.names.length;e<i;e+=1)s=r.names[e],o.names[e]=s;for(e=0,i=r.givens.length;e<i;e+=1){for(s=[],n=0,a=r.givens[e].length;n<a;n+=1)s.push(r.givens[e][n]);o.givens.push(s)}return t?(o.year_suffix=t.year_suffix,o.disambiguate=t.disambiguate):(o.year_suffix=r.year_suffix,o.disambiguate=r.disambiguate),o};p.getAmbigConfig=function(){var r,t;r=this.tmp.disambig_request,r||(r=this.tmp.disambig_settings);var t=p.cloneAmbigConfig(r);return t};p.getMaxVals=function(){return this.tmp.names_max.mystack.slice()};p.getMinVal=function(){return this.tmp["et-al-min"]};p.tokenExec=function(r,t,e){var i,n,a,s;s=!1,i=r.next,n=!1;var o=function(f){return f?(this.tmp.jump.replace("succeed"),r.succeed):(this.tmp.jump.replace("fail"),r.fail)};r.test&&(i=o.call(this,r.test(t,e)));for(var l=0,u=r.execs.length;l<u;l++)a=r.execs[l],n=a.call(r,this,t,e),n&&(i=n);return s&&p.debug(r.name+" ("+r.tokentype+") ---> done"),i};p.expandMacro=function(r,t){var e,i,n,a;e=r.postponed_macro;var s=r.strings.sort_direction;r=new p.Token("group",p.START);var o=!1,l=!1;i=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",e),i.length&&(l=this.cslXml.getAttributeValue(i[0],"cslid"),o=this.cslXml.getAttributeValue(i[0],"macro-has-date")),o&&(e=e+"@"+this.build.current_default_locale,a=function(h){h.tmp.extension&&(h.tmp["doing-macro-with-date"]=!0)},r.execs.push(a)),this.build.macro_stack.indexOf(e)>-1?p.error('CSL processor error: call to macro "'+e+'" would cause an infinite loop'):this.build.macro_stack.push(e),r.cslid=l,p.MODULE_MACROS[e]&&(r.juris=e,this.opt.update_mode=p.POSITION),p.Node.group.build.call(r,this,t,!0),this.cslXml.getNodeValue(i)||p.error('CSL style error: undefined macro "'+e+'"');var u=p.getMacroTarget.call(this,e);if(u&&(p.buildMacro.call(this,u,i),p.configureMacro.call(this,u)),!this.build.extension){var a=function(c){return function(m,d,v){for(var b=0;b<m.macros[c].length;)b=p.tokenExec.call(m,m.macros[c][b],d,v)}}(e),f=new p.Token("text",p.SINGLETON);f.execs.push(a),t.push(f)}n=new p.Token("group",p.END),n.strings.sort_direction=s,o&&(a=function(h){h.tmp.extension&&(h.tmp["doing-macro-with-date"]=!1)},n.execs.push(a)),r.juris&&(n.juris=e),p.Node.group.build.call(n,this,t,!0),this.build.macro_stack.pop()};p.getMacroTarget=function(r){var t=!1;return this.build.extension?t=this[this.build.root+this.build.extension].tokens:this.macros[r]||(t=[],this.macros[r]=t),t};p.buildMacro=function(r,t){var e=p.makeBuilder(this,r),i;typeof t.length>"u"?i=t:i=t[0],e(i)};p.configureMacro=function(r){this.build.extension||this.configureTokenList(r)};p.XmlToToken=function(r,t,e,i){var n,a,s,o,l,u,f;if(n=r.cslXml.nodename(this),!(r.build.skip&&r.build.skip!==n)){if(!n){a=r.cslXml.content(this),a&&(r.build.text=a);return}if(p.Node[r.cslXml.nodename(this)]||p.error('Undefined node name "'+n+'".'),s=r.cslXml.attributes(this),o=p.setDecorations.call(this,r,s),l=new p.Token(n,t),t!==p.END||n==="if"||n==="else-if"||n==="layout"){for(var u in s)if(s.hasOwnProperty(u)){if(t===p.END&&u!=="@language"&&u!=="@locale")continue;if(s.hasOwnProperty(u))if(p.Attributes[u])try{p.Attributes[u].call(l,r,""+s[u])}catch(c){p.error(u+" attribute: "+c)}else p.debug('warning: undefined attribute "'+u+'" in style')}l.decorations=o,p.DATE_VARIABLES.indexOf(s["@variable"])>-1&&i.push(l.variables)}else t===p.END&&s["@variable"]&&(l.hasVariable=!0,p.DATE_VARIABLES.indexOf(s["@variable"])>-1&&(l.variables=i.pop()));e?f=e:f=r[r.build.area].tokens,p.Node[n].build.call(l,r,f,!0)}};p.DateParser=function(){for(var r=[["明治",1867],["大正",1911],["昭和",1925],["平成",1988]],t=0,e=r.length;t<e;t++){r[t][0];var i=r[t][1]}for(var n=[],a={},t=0,e=r.length;t<e;t++){var s=r[t],i=s[0];n.push(i),a[s[0]]=s[1]}var o=n.join("|"),l=new RegExp("(?:"+o+")(?:[0-9]+)"),u=new RegExp("(?:"+o+")(?:[0-9]+)","g"),f=/(\u6708|\u5E74)/g,h=/\u65E5/g,c=/\u301c/g,m="(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])",d="[?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])",v="[?0-9]{1,3}",b="[%%DATED%%]",g="[?~]",_="[^-/~?0-9]+",y="("+d+"|"+m+"|"+v+"|"+b+"|"+g+"|"+_+")",$=new RegExp(y.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),I=new RegExp(y.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),A=new RegExp(y.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-")),B="january february march april may june july august september october november december spring summer fall winter spring summer";this.monthStrings=B.split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var T=0,x=this.monthStrings.length;T<x;T++)this.monthSets.push([this.monthStrings[T]]);this.monthAbbrevs=[];for(var T=0,x=this.monthSets.length;T<x;T++){this.monthAbbrevs.push([]);for(var U=0,O=this.monthSets[T].length;U<O;U++)this.monthAbbrevs[T].push(this.monthSets[T][0].slice(0,3))}this.monthRexes=[];for(var T=0,x=this.monthAbbrevs.length;T<x;T++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[T].join("|")+")"))},this.addDateParserMonths=function(T){if(typeof T=="string"&&(T=T.split(/\s+/)),T.length!==12&&T.length!==16){p.debug("month [+season] list of "+T.length+", expected 12 or 16. Ignoring.");return}for(var x=0,U=T.length;x<U;x++){for(var O=null,F=!1,D=3,L={},H=0,Y=this.monthAbbrevs.length;H<Y;H++){if(L[H]={},H===x){for(var W=0,z=this.monthAbbrevs[x].length;W<z;W++)if(this.monthAbbrevs[x][W]===T[x].slice(0,this.monthAbbrevs[x][W].length)){F=!0;break}}else for(var W=0,z=this.monthAbbrevs[H].length;W<z;W++)if(O=this.monthAbbrevs[H][W].length,this.monthAbbrevs[H][W]===T[x].slice(0,O)){for(;this.monthSets[H][W].slice(0,O)===T[x].slice(0,O);)if(O>T[x].length||O>this.monthSets[H][W].length){p.debug("unable to disambiguate month string in date parser: "+T[x]);break}else O+=1;D=O,L[H][W]=O}for(var ne in L)for(var ue in L[ne])O=L[ne][ue],ne=parseInt(ne,10),ue=parseInt(ue,10),this.monthAbbrevs[ne][ue]=this.monthSets[ne][ue].slice(0,O)}F||(this.monthSets[x].push(T[x]),this.monthAbbrevs[x].push(T[x].slice(0,D)))}this.monthRexes=[],this.monthRexStrs=[];for(var x=0,U=this.monthAbbrevs.length;x<U;x++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[x].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[x].join("|")+")");if(this.monthAbbrevs.length===18)for(var x=12,U=14;x<U;x++)this.monthRexes[x+4]=new RegExp("^(?:"+this.monthAbbrevs[x].join("|")+")"),this.monthRexStrs[x+4]="^(?:"+this.monthAbbrevs[x].join("|")+")"},this.convertDateObjectToArray=function(T){T["date-parts"]=[],T["date-parts"].push([]);for(var x=0,U,O=0,F=3;O<F&&(U=["year","month","day"][O],!!T[U]);O++)x+=1,T["date-parts"][0].push(T[U]),delete T[U];T["date-parts"].push([]);for(var O=0,F=x;O<F&&(U=["year_end","month_end","day_end"][O],!!T[U]);O++)T["date-parts"][1].push(T[U]),delete T[U];return T["date-parts"][0].length!==T["date-parts"][1].length&&T["date-parts"].pop(),T},this.convertDateObjectToString=function(T){for(var x=[],U=0,O=3;U<O&&T[p.DATE_PARTS_ALL[U]];U+=1)x.push(T[p.DATE_PARTS_ALL[U]]);return x.join("-")},this._parseNumericDate=function(T,x,U,O){U||(U="");for(var F=O.split(x),D=0,L=F.length;D<L;D++)if(F[D].length===4){T["year"+U]=F[D].replace(/^0*/,""),D?F=F.slice(0,D):F=F.slice(1);break}for(var D=0,L=F.length;D<L;D++)F[D]=parseInt(F[D],10);if(F.length===1||F.length===2&&!F[1]){var H=F[0];H&&(T["month"+U]=""+F[0])}else if(F.length===2)if(F[this.monthGuess]>12){var H=F[this.dayGuess],Y=F[this.monthGuess];H&&(T["month"+U]=""+H,Y&&(T["day"+U]=""+Y))}else{var H=F[this.monthGuess],Y=F[this.dayGuess];H&&(T["month"+U]=""+H,Y&&(T["day"+U]=""+Y))}},this.parseDateToObject=function(T){var x=T,U=-1,O=-1,F=!1,D;if(T){if(T=T.replace(/^(.*[0-9])T[0-9].*/,"$1"),T.slice(0,1)==="-"&&(F=!0,T=T.slice(1)),T.match(/^[0-9]{1,3}$/))for(;T.length<4;)T="0"+T;T=""+T,T=T.replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"");var L=T.match(f);if(L){T=T.replace(/\s+/g,""),T=T.replace(h,""),T=T.replace(f,"-"),T=T.replace(c,"/"),T=T.replace(/\-\//g,"/"),T=T.replace(/-$/g,"");var H=T.split(l);D=[];var Y=T.match(u);if(Y){for(var W=[],z=0,ne=Y.length;z<ne;z++)W=W.concat(Y[z].match(/([^0-9]+)([0-9]+)/).slice(1));for(var z=0,ne=H.length;z<ne;z++)if(D.push(H[z]),z!==ne-1){var ue=z*2;D.push(W[ue]),D.push(W[ue+1])}}else D=H;for(var z=1,ne=D.length;z<ne;z+=3)D[z+1]=a[D[z]]+parseInt(D[z+1],10),D[z]="";T=D.join(""),T=T.replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/"),T=T.replace(/\.\s*$/,""),T=T.replace(/\.(?! )/,""),U=T.indexOf("/"),O=T.indexOf("-")}}T=T.replace(/([A-Za-z])\./g,"$1");var K="",Q="",oe={},Ae,we;if(T.slice(0,1)==='"'&&T.slice(-1)==='"')return oe.literal=T.slice(1,-1),oe;if(U>-1&&O>-1){var Se=T.split("/");Se.length>3?(Ae="-",T=T.replace(/\_/g,"-"),we="/",D=T.split(A)):(Ae="/",T=T.replace(/\_/g,"/"),we="-",D=T.split(I))}else T=T.replace(/\//g,"-"),T=T.replace(/\_/g,"-"),Ae="-",we="-",D=T.split($);for(var Te=[],z=0,ne=D.length;z<ne;z++){var L=D[z].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/);L&&Te.push(L[1])}var Ie=Te.indexOf(Ae),ce=[],ge=!1;Ie>-1?(ce.push([0,Ie]),ce.push([Ie+1,Te.length]),ge=!0):ce.push([0,Te.length]);for(var be="",z=0,ne=ce.length;z<ne;z++){var _e=ce[z],Be=Te.slice(_e[0],_e[1]);e:for(var Fe=0,We=Be.length;Fe<We;Fe++){var q=Be[Fe];if(q.indexOf(we)>-1){this._parseNumericDate(oe,we,be,q);continue}if(q.match(/[0-9]{4}/)){oe["year"+be]=q.replace(/^0*/,"");continue}(q==="~"||q==="?"||q==="c"||q.match(/^cir/))&&(oe.circa=!0);for(var k=0,P=this.monthRexes.length;k<P;k++)if(q.toLocaleLowerCase().match(this.monthRexes[k])){oe["month"+be]=""+(parseInt(k,10)+1);continue e}if(q.match(/^[0-9]+$/)&&(K=q),q.toLocaleLowerCase().match(/^bc/)&&K){oe["year"+be]=""+K*-1,K="";continue}if(q.toLocaleLowerCase().match(/^ad/)&&K){oe["year"+be]=""+K,K="";continue}if(q.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)&&!oe["season"+be]){Q=q;continue}}K&&(oe["day"+be]=K,K=""),Q&&!oe["season"+be]&&(oe["season"+be]=Q.trim(),Q=""),be="_end"}if(ge)for(var Fe=0,We=p.DATE_PARTS_ALL.length;Fe<We;Fe++){var G=p.DATE_PARTS_ALL[Fe];oe[G]&&!oe[G+"_end"]?oe[G+"_end"]=oe[G]:!oe[G]&&oe[G+"_end"]&&(oe[G]=oe[G+"_end"])}(!oe.year||oe.year&&oe.day&&!oe.month)&&(oe={literal:x});for(var le=["year","month","day","year_end","month_end","day_end"],z=0,ne=le.length;z<ne;z++){var xe=le[z];typeof oe[xe]=="string"&&oe[xe].match(/^[0-9]+$/)&&(oe[xe]=parseInt(oe[xe],10))}return F&&Object.keys(oe).indexOf("year")>-1&&(oe.year=oe.year*-1),oe},this.parseDateToArray=function(T){return this.convertDateObjectToArray(this.parseDateToObject(T))},this.parseDateToString=function(T){return this.convertDateObjectToString(this.parseDateToObject(T))},this.parse=function(T){return this.parseDateToObject(T)},this.setOrderMonthDay(),this.resetDateParserMonths()};p.DateParser=new p.DateParser;p.Engine=function(r,t,e,i){var n,a;this.processor_version=p.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=r,typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(h),m=1;m<arguments.length;m++){var d=arguments[m];if(d!=null)for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(c[v]=d[v])}return c},writable:!0,configurable:!0}),r.variableWrapper&&(p.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(p.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),p.retrieveStyleModule&&(this.sys.retrieveStyleModule=p.retrieveStyleModule),p.getAbbreviation&&(this.sys.getAbbreviation=p.getAbbreviation),this.sys.stringCompare&&(p.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=p.AbbreviationSegments,this.transform=new p.Transform(this),this.setParseNames=function(f){this.opt["parse-names"]=f},this.opt=new p.Engine.Opt,this.tmp=new p.Engine.Tmp,this.build=new p.Engine.Build,this.fun=new p.Engine.Fun(this),this.configure=new p.Engine.Configure,this.citation_sort=new p.Engine.CitationSort,this.bibliography_sort=new p.Engine.BibliographySort,this.citation=new p.Engine.Citation(this),this.bibliography=new p.Engine.Bibliography,this.intext=new p.Engine.InText,this.output=new p.Output.Queue(this),this.dateput=new p.Output.Queue(this),this.cslXml=p.setupXml(t);for(var s in p.SYS_OPTIONS){var o=p.SYS_OPTIONS[s];typeof this.sys[o]=="boolean"&&(this.opt.development_extensions[o]=this.sys[o])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(f,h){var c=this.cslXml.children(f);this.cslXml.setAttribute(f,"cslid",this.build.cslNodeId),this.opt.nodenames.push(h),this.build.cslNodeId+=1;for(var m=0,d=this.cslXml.numberofnodes(c);m<d;m+=1)h=this.cslXml.nodename(c[m]),h&&this.setCslNodeIds(c[m],h)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),n=this.cslXml.attributes(this.cslXml.dataObj),typeof n["@sort-separator"]>"u"&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),this.opt.version.slice(0,4)==="1.1m"&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),e&&(e=e.replace("_","-"),e=p.normalizeLocaleStr(e)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=p.normalizeLocaleStr(this.opt["default-locale"][0])),e&&i&&(this.opt["default-locale"]=[e]),e&&!i&&this.opt["default-locale"][0]&&(e=this.opt["default-locale"][0]),this.opt["default-locale"].length===0&&(e||(e="en-US"),this.opt["default-locale"].push("en-US")),e||(e=this.opt["default-locale"][0]),a=p.localeResolve(e),this.opt.lang=a.best,this.opt["default-locale"][0]=a.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(a);function l(h){var h=h.slice(),c=new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+h.join("|")+")(?=[!?:]*\\s+|-|$))","g");return c}this.locale[this.opt.lang].opts["skip-words-regexp"]=l(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new p.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new p.Registry(this),this.macros={},this.build.area="citation";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="bibliography";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="intext";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new p.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new p.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=p.DateParser,this.fun.flipflopper=new p.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=p.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=p.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")};p.Engine.prototype.setCloseQuotesArray=function(){var r;r=[],r.push(this.getTerm("close-quote")),r.push(this.getTerm("close-inner-quote")),r.push('"'),r.push("'"),this.opt.close_quotes_array=r};p.makeBuilder=function(r,t){var e=[],i=[];function n(l){i.push(l),p.XmlToToken.call(l,r,p.START,t,e)}function a(){var l=i.pop();p.XmlToToken.call(l,r,p.END,t,e)}function s(l){p.XmlToToken.call(l,r,p.SINGLETON,t,e)}function o(l,u,f){l||(l=[]),typeof l.length>"u"&&(l=[l]);for(var h=0;h<l.length;h++){var c=l[h];r.cslXml.nodename(c)!==null&&(u&&r.cslXml.nodename(c)==="date"&&(p.Util.fixDateNode.call(r,u,h,c),c=r.cslXml.children(u)[h]),r.cslXml.numberofnodes(r.cslXml.children(c))?(n(c),o(r.cslXml.children(c),c),a()):s(c))}}return o};p.Engine.prototype.buildTokenLists=function(r,t){if(this.cslXml.getNodeValue(r)){var e=p.makeBuilder(this,t),i;typeof r.length>"u"?i=r:i=r[0],e(i)}};p.Engine.prototype.setStyleAttributes=function(){var e,r,t,e={};e.name=this.cslXml.nodename(this.cslXml.dataObj),r=this.cslXml.attributes(this.cslXml.dataObj);for(t in r)r.hasOwnProperty(t)&&p.Attributes[t].call(e,this,r[t])};p.Engine.prototype.getTerm=function(r,t,e,i,n,a){r&&r.match(/[A-Z]/)&&r===r.toUpperCase()&&(p.debug("Warning: term key is in uppercase form: "+r),r=r.toLowerCase());var s;a?s=this.opt["default-locale"][0]:s=this.opt.lang;var o=p.Engine.getField(p.LOOSE,this.locale[s].terms,r,t,e,i);return!o&&r==="range-delimiter"&&(o="–"),typeof o>"u"&&(n===p.STRICT?p.error('Error in getTerm: term "'+r+'" does not exist.'):n===p.TOLERANT&&(o="")),o&&(this.tmp.cite_renders_content=!0),o};p.Engine.prototype.getDate=function(r,t){var e;return t?e=this.opt["default-locale"]:e=this.opt.lang,this.locale[e].dates[r]?this.locale[e].dates[r]:!1};p.Engine.prototype.getOpt=function(r){return typeof this.locale[this.opt.lang].opts[r]<"u"?this.locale[this.opt.lang].opts[r]:!1};p.Engine.prototype.getVariable=function(r,t,e,i){return p.Engine.getField(p.LOOSE,r,t,e,i)};p.Engine.prototype.getDateNum=function(r,t){return typeof r>"u"?0:r[t]};p.Engine.getField=function(r,t,e,i,n,a){var s,o,l,u,f,h;if(s="",typeof t[e]>"u")if(r===p.STRICT)p.error('Error in getField: term "'+e+'" does not exist.');else return;for(a&&t[e][a]?h=t[e][a]:h=t[e],o=[],i==="symbol"?o=["symbol","short"]:i==="verb-short"?o=["verb-short","verb"]:i!=="long"&&(o=[i]),o=o.concat(["long"]),f=o.length,u=0;u<f;u+=1)if(l=o[u],typeof h=="string"||typeof h=="number")s=h;else if(typeof h[l]<"u"){typeof h[l]=="string"||typeof h[l]=="number"?s=h[l]:typeof n=="number"?s=h[l][n]:s=h[l][0];break}return s};p.Engine.prototype.configureTokenLists=function(){var r,t,e;for(e=p.AREAS.length,t=0;t<e;t+=1){r=p.AREAS[t];var i=this[r].tokens;this.configureTokenList(i)}return this.version=p.version,this.state};p.Engine.prototype.configureTokenList=function(r){var t,e,i,n,a,s,o,l;for(t=["year","month","day"],o=r.length-1,a=o;a>-1;a+=-1){if(e=r[a],e.name==="date"&&p.END===e.tokentype&&(i=[]),e.name==="date-part"&&e.strings.name)for(l=t.length,s=0;s<l;s+=1)n=t[s],n===e.strings.name&&i.push(e.strings.name);e.name==="date"&&p.START===e.tokentype&&(i.reverse(),e.dateparts=i),e.next=a+1,e.name&&p.Node[e.name].configure&&p.Node[e.name].configure.call(e,this,a)}};p.Engine.prototype.refetchItems=function(r){for(var t=[],e=0,i=r.length;e<i;e+=1)t.push(this.refetchItem(""+r[e]));return t};p.ITERATION=0;p.Engine.prototype.retrieveItem=function(r){var t,e,i;if(!this.tmp.loadedItemIDs[r])this.tmp.loadedItemIDs[r]=!0;else return this.registry.refhash[r];if(this.opt.development_extensions.normalize_lang_keys_to_lowercase&&typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase=="boolean"){for(var i=0,n=this.opt["default-locale"].length;i<n;i+=1)this.opt["default-locale"][i]=this.opt["default-locale"][i].toLowerCase();for(var i=0,n=this.opt["locale-translit"].length;i<n;i+=1)this.opt["locale-translit"][i]=this.opt["locale-translit"][i].toLowerCase();for(var i=0,n=this.opt["locale-translat"].length;i<n;i+=1)this.opt["locale-translat"][i]=this.opt["locale-translat"][i].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(p.ITERATION+=1,t=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+r))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(t.multi){if(t.multi._keys)for(var a in t.multi._keys)for(var s in t.multi._keys[a])s!==s.toLowerCase()&&(t.multi._keys[a][s.toLowerCase()]=t.multi._keys[a][s],delete t.multi._keys[a][s]);if(t.multi.main)for(var a in t.multi.main)t.multi.main[a]=t.multi.main[a].toLowerCase()}for(var i=0,n=p.NAME_VARIABLES.length;i>n;i+=1){var o=p.NAME_VARIABLES[i];if(t[o]&&t[o].multi)for(var l=0,u=t[o].length;l<u;l+=1){var f=t[o][l];if(f.multi){if(f.multi._key)for(var s in f.multi._key)s!==s.toLowerCase()&&(f.multi._key[s.toLowerCase()]=f.multi._key[s],delete f.multi._key[s]);f.multi.main&&(f.multi.main=f.multi.main.toLowerCase())}}}}if(t.language&&t.language.match(/[><]/)){var e=t.language.match(/(.*?)([<>])(.*)/);e[2]==="<"?(t["language-name"]=e[1],t["language-name-original"]=e[3]):(t["language-name"]=e[3],t["language-name-original"]=e[1]),this.opt.multi_layout?t["language-name-original"]&&(t.language=t["language-name-original"]):t["language-name"]&&(t.language=t["language-name"])}if(t.page){t["page-first"]=t.page;var h=""+t.page,e=h.split(/\s*(?:&|, |-|\u2013)\s*/);e[0].slice(-1)!=="\\"&&(t["page-first"]=e[0])}this.opt.development_extensions.field_hack&&t.note&&p.parseNoteFieldHacks(t,!1,this.opt.development_extensions.allow_field_hack_date_override);for(var s in t)if(p.DATE_VARIABLES.indexOf(s.replace(/^alt-/,""))>-1){var c=t[s];c&&(this.opt.development_extensions.raw_date_parsing&&c.raw&&(!c["date-parts"]||c["date-parts"].length===0)&&(c=this.fun.dateparser.parseDateToObject(c.raw)),t[s]=this.dateParseArray(c))}if(this.opt.development_extensions.consolidate_legal_items&&t.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1){for(var m,d=["type","title","jurisdiction","genre","volume","container-title"],v=[],i=0,n=d.length;i<n;i+=1)m=d[i],t[m]&&v.push(t[m]);d=["original-date","issued"];for(var i=0,n=d.length;i<n;i+=1)if(m=d[i],t[m]&&t[m].year){var b=t[m].year;v.push(b);break}t.legislation_id=v.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(t.type)>-1){for(var m,d=["type","container-title","publisher","edition"],g=[],i=0,n=d.length;i<n;i+=1)m=d[i],t[m]&&g.push(t[m]);t.container_id=g.join("::")}if(this.opt.development_extensions.force_jurisdiction&&typeof t.authority=="string"&&(t.authority=[{literal:t.authority,multi:{_key:{}}}],t.multi&&t.multi._keys&&t.multi._keys.authority)){t.authority[0].multi._key={};for(var s in t.multi._keys.authority)t.authority[0].multi._key[s]={literal:t.multi._keys.authority[s]}}if(t["title-short"]||(t["title-short"]=t.shortTitle),this.opt.development_extensions.main_title_from_short_title){var _=this.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr";p.extractTitleAndSubtitle.call(this,t,_)}var y=["bill","legal_case","legislation","gazette","regulation"].indexOf(t.type)>-1;this.opt.development_extensions.force_jurisdiction&&y&&(t.jurisdiction||(t.jurisdiction="us"));var $;if(!y&&t.title&&this.sys.getAbbreviation){t.jurisdiction,this.sys.normalizeAbbrevsKey?$=this.sys.normalizeAbbrevsKey("title",t.title):$=t.title;var I=this.transform.loadAbbreviation(t.jurisdiction,"title",$,t.language);this.transform.abbrevs[I].title&&this.transform.abbrevs[I].title[$]&&(t["title-short"]=this.transform.abbrevs[I].title[$])}if(t["container-title-short"]||(t["container-title-short"]=t.journalAbbreviation),t["container-title"]&&this.sys.getAbbreviation){this.sys.normalizeAbbrevsKey?$=this.sys.normalizeAbbrevsKey(t["container-title"]):$=t["container-title"];var I=this.transform.loadAbbreviation(t.jurisdiction,"container-title",$,t.language);this.transform.abbrevs[I]["container-title"]&&this.transform.abbrevs[I]["container-title"][$]&&(t["container-title-short"]=this.transform.abbrevs[I]["container-title"][$])}if(t.jurisdiction&&(t.country=t.jurisdiction.split(":")[0]),this.registry.refhash[r]){if(JSON.stringify(this.registry.refhash[r])!=JSON.stringify(t)){for(var s in this.registry.refhash[r])delete this.registry.refhash[r][s];this.tmp.taintedItemIDs[t.id]=!0,Object.assign(this.registry.refhash[r],t)}}else this.registry.refhash[r]=t;return this.registry.refhash[r]};p.Engine.prototype.refetchItem=function(r){return this.registry.refhash[r]};p.Engine.prototype.setOpt=function(r,t,e){r.name==="style"||r.name==="cslstyle"?(this.opt.inheritedAttributes[t]=e,this.citation.opt.inheritedAttributes[t]=e,this.bibliography.opt.inheritedAttributes[t]=e):["citation","bibliography"].indexOf(r.name)>-1?this[r.name].opt.inheritedAttributes[t]=e:r.strings[t]=e};p.Engine.prototype.inheritOpt=function(r,t,e,i){if(typeof r.strings[t]<"u")return r.strings[t];var n=this[this.tmp.root].opt.inheritedAttributes[e||t];return typeof n<"u"?n:i};p.Engine.prototype.remapSectionVariable=function(r){for(var t=0,e=r.length;t<e;t+=1){var i=r[t][0],n=r[t][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(i.type)>-1){if(n.locator){n.locator=n.locator.trim();var a=n.locator.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);a||(n.label?n.locator=p.STATUTE_SUBDIV_STRINGS_REVERSE[n.label]+" "+n.locator:n.locator="p. "+n.locator)}var s=null;if(i.section){i.section=i.section.trim();var a=i.section.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);a?s=a[0].trim():(i.section="sec. "+i.section,s="sec.")}if(i.section)if(!n.locator)n.locator=i.section;else{var a=n.locator.match(/^([^ ]*)\s*(.*)/),o=" ";a?(a[1]==="p."&&s!=="p."&&(n.locator=a[2]),["[","(",".",",",";",":","?"].indexOf(n.locator.slice(0,1))>-1&&(o="")):o="",n.locator=i.section+o+n.locator}n.label=""}}};p.Engine.prototype.setNumberLabels=function(r){if(r.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(r.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var t=""+r.number;t=t.split("\\").join("");var e=t.split(/\s+/)[0],i=p.STATUTE_SUBDIV_STRINGS[e];if(i){var n=t.split(p.STATUTE_SUBDIV_PLAIN_REGEX);if(n.length>1){for(var a=[],s=1,o=n.length;s<o;s+=1)a.push(n[s].replace(/\s*$/,"").replace(/^\s*/,""));t=a.join(" ")}else t=n[0];this.tmp.shadow_numbers.number.label=i,this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!0}};p.substituteOne=function(r){return function(t,e){return e?r.replace("%%STRING%%",e):""}};p.substituteTwo=function(r){return function(t){var e=r.replace("%%PARAM%%",t);return function(i,n){return n?e.replace("%%STRING%%",n):""}}};p.Mode=function(r){var t,e,i,n,a,s;t={},e=p.Output.Formats[r];for(i in e){if(i.slice(0,1)!=="@"){t[i]=e[i];continue}n=!1,a=e[i],s=i.split("/"),typeof a=="string"&&a.indexOf("%%STRING%%")>-1?a.indexOf("%%PARAM%%")>-1?n=p.substituteTwo(a):n=p.substituteOne(a):typeof a=="boolean"&&!a?n=p.Output.Formatters.passthrough:typeof a=="function"?n=a:p.error("Bad "+r+" config entry for "+i+": "+a),s.length===1?t[s[0]]=n:s.length===2&&(t[s[0]]||(t[s[0]]={}),t[s[0]][s[1]]=n)}return t};p.setDecorations=function(r,t){var e,i,n;e=[];for(n in p.FORMAT_KEY_SEQUENCE){var i=p.FORMAT_KEY_SEQUENCE[n];t[i]&&(e.push([i,t[i]]),delete t[i])}return e};p.Doppeler=function(r,t){var e=new RegExp("("+r+")","g"),i=new RegExp(r,"g");this.split=function(n){t&&(n=t(n));var a=n.match(e);if(!a)return{tags:[],strings:[n]};for(var s=n.split(i),o=a.length-1;o>-1;o--){typeof a[o]=="number"&&(a[o]="");var l=a[o];l==="'"&&s[o+1].length>0&&(s[o+1]=a[o]+s[o+1],a[o]="")}return{tags:a,strings:s,origStrings:s.slice()}},this.join=function(n){for(var a=n.strings.slice(-1),s=n.tags.length-1;s>-1;s--)a.push(n.tags[s]),a.push(n.strings[s]);return a.reverse(),a.join("")}};p.Engine.prototype.normalDecorIsOrphan=function(r,t){if(t[1]==="normal"){var e=!1,i;this.tmp.area==="citation"?i=[this.citation.opt.layout_decorations].concat(r.alldecor):i=r.alldecor;for(var n=i.length-1;n>-1;n+=-1)for(var a=i[n].length-1;a>-1;a+=-1)i[n][a][0]===t[0]&&i[n][a][1]!=="normal"&&(e=!0);if(!e)return!0}return!1};p.Engine.prototype.getCitationLabel=function(r){var t="",e=this.getTrigraphParams(),i=e[0],n=this.getTerm("reference","short",0);typeof n>"u"&&(n="reference"),n=n.replace(".",""),n=n.slice(0,1).toUpperCase()+n.slice(1);for(var a=0,s=p.NAME_VARIABLES.length;a<s;a+=1){var o=p.NAME_VARIABLES[a];if(r[o]){var l=r[o];l.length>e.length?i=e[e.length-1]:i=e[l.length-1];for(var u=0,f=l.length;u<f&&u!==i.authors.length;u+=1){var h=this.nameOutput.getName(l[u],"locale-translit",!0),c=h.name;c&&c.family?(n=c.family,n=n.replace(/^([ \'\u2019a-z]+\s+)/,"")):c&&c.literal&&(n=c.literal);var m=n.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(m&&(n=n.slice(m[1].length)),n=n.replace(p.ROMANESQUE_NOT_REGEXP,""),!n)break;n=n.slice(0,i.authors[u]),n.length>1?n=n.slice(0,1).toUpperCase()+n.slice(1).toLowerCase():n.length===1&&(n=n.toUpperCase()),t+=n}break}}if(!t&&r.title){for(var d=this.locale[this.opt.lang].opts["skip-words"],v=r.title.split(/\s+/),a=v.length-1;a>-1;a--)d.indexOf(v[a])>-1&&(v=v.slice(0,a).concat(v.slice(a+1)));var b=v.join("");b=b.slice(0,e[0].authors[0]),b.length>1?b=b.slice(0,1).toUpperCase()+b.slice(1).toLowerCase():b.length===1&&(b=b.toUpperCase()),t=b}var g="0000";return r.issued&&r.issued.year&&(g=""+r.issued.year),g=g.slice(i.year*-1),t=t+g,t};p.Engine.prototype.getTrigraphParams=function(){var r=[],t=this.opt.trigraph.split(":");(!this.opt.trigraph||this.opt.trigraph.slice(0,1)!=="A")&&p.error("Bad trigraph definition: "+this.opt.trigraph);for(var e=0,i=t.length;e<i;e+=1){for(var n=t[e],a={authors:[],year:0},s=0,o=n.length;s<o;s+=1)switch(n.slice(s,s+1)){case"A":a.authors.push(1);break;case"a":a.authors[a.authors.length-1]+=1;break;case"0":a.year+=1;break;default:p.error("Invalid character in trigraph definition: "+this.opt.trigraph)}r.push(a)}return r};p.Engine.prototype.setOutputFormat=function(r){this.opt.mode=r,this.fun.decorate=p.Mode(r),this.output[r]||(this.output[r]={},this.output[r].tmp={})};p.Engine.prototype.getSortFunc=function(){return function(r,t){return r=r.split("-"),t=t.split("-"),r.length<t.length?1:r.length>t.length?-1:(r=r.slice(-1)[0],t=t.slice(-1)[0],r.length<t.length?1:r.length>t.length?-1:0)}};p.Engine.prototype.setLangTagsForCslSort=function(r){var t,e;if(r)for(this.opt["locale-sort"]=[],t=0,e=r.length;t<e;t+=1)this.opt["locale-sort"].push(r[t]);this.opt["locale-sort"].sort(this.getSortFunc())};p.Engine.prototype.setLangTagsForCslTransliteration=function(r){var t,e;if(this.opt["locale-translit"]=[],r)for(t=0,e=r.length;t<e;t+=1)this.opt["locale-translit"].push(r[t]);this.opt["locale-translit"].sort(this.getSortFunc())};p.Engine.prototype.setLangTagsForCslTranslation=function(r){var t,e;if(this.opt["locale-translat"]=[],r)for(t=0,e=r.length;t<e;t+=1)this.opt["locale-translat"].push(r[t]);this.opt["locale-translat"].sort(this.getSortFunc())};p.Engine.prototype.setLangPrefsForCites=function(r,t){var e=this.opt["cite-lang-prefs"];t||(t=function(m){return m.toLowerCase()});for(var i=["Persons","Institutions","Titles","Journals","Publishers","Places"],n=0,a=i.length;n<a;n+=1){var s=t(i[n]),o=i[n].toLowerCase();if(r[s]){for(var l=[];r[s].length>1;)l.push(r[s].pop());var u={orig:1,translit:2,translat:3};for(l.length===2&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)r[s].push(l.pop());for(var f=e[o];f.length;)f.pop();for(var h=0,c=r[s].length;h<c;h+=1)f.push(r[s][h])}}};p.Engine.prototype.setLangPrefsForCiteAffixes=function(r){if(r&&r.length===48){for(var t=this.opt.citeAffixes,e=0,i=["persons","institutions","titles","journals","publishers","places"],n=["translit","orig","translit","translat"],a,s=0,o=i.length;s<o;s+=1)for(var l=0,u=n.length;l<u;l+=1)a="",e%8===4?!t[i[s]]["locale-"+n[l]].prefix&&!t[i[s]]["locale-"+n[l]].suffix&&(a=r[e]?r[e]:"",t[i[s]]["locale-"+n[l]].prefix=a,a=r[e]?r[e+1]:"",t[i[s]]["locale-"+n[l]].suffix=a):(a=r[e]?r[e]:"",t[i[s]]["locale-"+n[l]].prefix=a,a=r[e]?r[e+1]:"",t[i[s]]["locale-"+n[l]].suffix=a),e+=2;this.opt.citeAffixes=t}};p.Engine.prototype.setAutoVietnameseNamesOption=function(r){r?this.opt["auto-vietnamese-names"]=!0:this.opt["auto-vietnamese-names"]=!1};p.Engine.prototype.setAbbreviations=function(r){this.sys.setAbbreviations&&this.sys.setAbbreviations(r)};p.Engine.prototype.setSuppressTrailingPunctuation=function(r){this.citation.opt.suppressTrailingPunctuation=!!r};p.Output={};p.Output.Queue=function(r){this.levelname=["top"],this.state=r,this.queue=[],this.empty=new p.Token("empty");var t={};t.empty=this.empty,this.formats=new p.Stack(t),this.current=new p.Stack(this.queue)};p.Output.Queue.prototype.pop=function(){var r=this.current.value();return r.length?r.pop():r.blobs.pop()};p.Output.Queue.prototype.getToken=function(r){var t=this.formats.value()[r];return t};p.Output.Queue.prototype.mergeTokenStrings=function(r,t){var e,i,n,a;if(e=this.formats.value()[r],i=this.formats.value()[t],n=e,i){e||(e=new p.Token(r,p.SINGLETON),e.decorations=[]),n=new p.Token(r,p.SINGLETON);var a="";for(var a in e.strings)e.strings.hasOwnProperty(a)&&(n.strings[a]=e.strings[a]);for(var a in i.strings)i.strings.hasOwnProperty(a)&&(n.strings[a]=i.strings[a]);n.decorations=e.decorations.concat(i.decorations)}return n};p.Output.Queue.prototype.addToken=function(r,t,e){var i,n;if(i=new p.Token("output"),typeof e=="string"&&(e=this.formats.value()[e]),e&&e.strings){for(n in e.strings)e.strings.hasOwnProperty(n)&&(i.strings[n]=e.strings[n]);i.decorations=e.decorations}typeof t=="string"&&(i.strings.delimiter=t),this.formats.value()[r]=i};p.Output.Queue.prototype.pushFormats=function(r){r||(r={}),r.empty=this.empty,this.formats.push(r)};p.Output.Queue.prototype.popFormats=function(){this.formats.pop()};p.Output.Queue.prototype.startTag=function(r,t){var e={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(t=this.empty,r="empty"),e[r]=t,this.pushFormats(e),this.openLevel(r)};p.Output.Queue.prototype.endTag=function(r){this.closeLevel(r),this.popFormats()};p.Output.Queue.prototype.openLevel=function(r){var t,e;typeof r=="object"?t=new p.Blob(void 0,r):typeof r>"u"?t=new p.Blob(void 0,this.formats.value().empty,"empty"):((!this.formats.value()||!this.formats.value()[r])&&p.error('CSL processor error: call to nonexistent format token "'+r+'"'),t=new p.Blob(void 0,this.formats.value()[r],r)),e=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.prefix=this.checkNestedBrace.update(t.strings.prefix)),e.push(t),this.current.push(t)};p.Output.Queue.prototype.closeLevel=function(r){r&&r!==this.current.value().levelname&&p.error("Level mismatch error:  wanted "+r+" but found "+this.current.value().levelname);var t=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.suffix=this.checkNestedBrace.update(t.strings.suffix))};p.Output.Queue.prototype.append=function(r,t,e,i,n){var a,s,o,l=!0;if(e&&(i=!0),this.state.tmp["doing-macro-with-date"]&&!e){if(t!=="macro-with-date")return!1;t==="macro-with-date"&&(t="empty")}if(typeof r>"u"||(typeof r=="number"&&(r=""+r),!e&&this.state.tmp.element_trace&&this.state.tmp.element_trace.value()==="suppress-me"))return!1;if(s=!1,t?t==="literal"?(a=!0,l=!1):typeof t=="string"?a=this.formats.value()[t]:a=t:a=this.formats.value().empty,a||p.error("CSL processor error: unknown format token name: "+t),a.strings&&typeof a.strings.delimiter>"u"&&(a.strings.delimiter=""),typeof r=="string"&&r.length&&(r=r.replace(/ ([:;?!\u00bb])/g," $1").replace(/\u00ab /g,"« "),this.last_char_rendered=r.slice(-1),r=r.replace(/\s+'/g," '"),e||(r=r.replace(/^'/g," '")),i?e&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),s=new p.Blob(r,a),o=this.current.value(),typeof o>"u"&&this.current.mystack.length===0&&(this.current.mystack.push([]),o=this.current.value()),typeof s.blobs=="string"&&(i?e&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),typeof r=="string"){if(typeof s.blobs=="string"&&s.blobs.slice(0,1)!==" "){for(var u="",f=s.blobs;p.TERMINAL_PUNCTUATION.indexOf(f.slice(0,1))>-1;)u=u+f.slice(0,1),f=f.slice(1);f&&u&&(s.strings.prefix=s.strings.prefix+u,s.blobs=f)}s.strings["text-case"]&&(s.blobs=p.Output.Formatters[s.strings["text-case"]](this.state,r)),this.state.tmp.strip_periods&&!n&&(s.blobs=s.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var h=s.decorations.length-1;h>-1;h+=-1)s.decorations[h][0]==="@quotes"&&s.decorations[h][1]!=="false"&&(s.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),s.blobs.match(p.ROMANESQUE_REGEXP)||s.decorations[h][0]==="@font-style"&&(s.decorations=s.decorations.slice(0,h).concat(s.decorations.slice(h+1)));o.push(s),this.state.fun.flipflopper.processTags(s)}else l?o.push(s):o.push(r);return!0};p.Output.Queue.prototype.string=function(r,t,e){var i,n,a,s,o,l=p.getSafeEscape(this.state),u=t.slice(),f=[];if(u.length===0)return f;var h="";e?h=e.strings.delimiter:(r.tmp.count_offset_characters=!1,r.tmp.offset_characters=0),e&&e.new_locale&&(e.old_locale=r.opt.lang,r.opt.lang=e.new_locale);for(var c,m,d,v,i=0,n=u.length;i<n;i+=1){if(c=u[i],c.strings.first_blob&&(r.tmp.count_offset_characters=c.strings.first_blob),typeof c.blobs=="string"){if(typeof c.num=="number")f.push(c);else if(c.blobs){c.particle&&(c.blobs=c.particle+c.blobs,c.particle=""),o=l(c.blobs);var b=o.length;if(!r.tmp.suppress_decorations)for(a=0,s=c.decorations.length;a<s;a+=1)v=c.decorations[a],v[0]!=="@showid"&&(r.normalDecorIsOrphan(c,v)||(o=r.fun.decorate[v[0]][v[1]].call(c,r,o,v[2])));if(o&&o.length){if(o=l(c.strings.prefix)+o+l(c.strings.suffix),r.opt.development_extensions.csl_reverse_lookup_support&&!r.tmp.suppress_decorations)for(a=0,s=c.decorations.length;a<s;a+=1)v=c.decorations[a],v[0]==="@showid"&&(o=r.fun.decorate[v[0]][v[1]].call(c,r,o,v[2]));f.push(o),r.tmp.count_offset_characters&&(r.tmp.offset_characters+=b+c.strings.suffix.length+c.strings.prefix.length)}}}else if(c.blobs.length){var g=r.output.string(r,c.blobs,c);if(e&&g!=="string"&&g.length>1&&c.strings.delimiter)for(var _=!1,a=0,s=g.length;a<s;a++)typeof g[a]!="string"?_=!0:_&&(g[a]=c.strings.delimiter+g[a]);f=f.concat(g)}c.strings.first_blob&&r.registry.registry[c.strings.first_blob]&&(r.registry.registry[c.strings.first_blob].offset=r.tmp.offset_characters,r.tmp.count_offset_characters=!1)}for(i=0,n=f.length-1;i<n;i+=1)typeof f[i].num=="number"&&typeof f[i+1].num=="number"&&!f[i+1].UGLY_DELIMITER_SUPPRESS_HACK&&(f[i].strings.suffix=f[i].strings.suffix+(h||""),f[i+1].successor_prefix="",f[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);for(var y=0,i=0,n=f.length;i<n;i+=1)typeof f[i]=="string"&&(y=parseInt(i,10)+1,i<f.length-1&&typeof f[i+1]=="object"&&(h&&!f[i+1].UGLY_DELIMITER_SUPPRESS_HACK&&(f[i]+=l(h)),f[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(e&&(e.decorations.length||e.strings.suffix))y=f.length;else if(e&&e.strings.prefix){for(var i=0,n=f.length;i<n;i++)if(typeof f[i].num<"u"){y=i,i===0&&(f[i].strings.prefix=e.strings.prefix+f[i].strings.prefix);break}}var $=r.output.renderBlobs(f.slice(0,y),h,!1,e);if($&&e&&(e.decorations.length||e.strings.suffix||e.strings.prefix)){if(!r.tmp.suppress_decorations)for(var i=0,n=e.decorations.length;i<n;i+=1)v=e.decorations[i],!(["@cite","@bibliography","@display","@showid"].indexOf(v[0])>-1)&&(r.normalDecorIsOrphan(c,v)||v[0]&&typeof $=="string"&&($=r.fun.decorate[v[0]][v[1]].call(e,r,$,v[2])));if(o=$,m=e.strings.suffix,o&&o.length&&(d=e.strings.prefix,o=l(d)+o+l(m),r.tmp.count_offset_characters&&(r.tmp.offset_characters+=d.length+m.length)),$=o,!r.tmp.suppress_decorations)for(var i=0,n=e.decorations.length;i<n;i+=1)v=e.decorations[i],["@cite","@bibliography","@display","@showid"].indexOf(v[0])!==-1&&typeof $=="string"&&($=r.fun.decorate[v[0]][v[1]].call(e,r,$,v[2]))}var I=f.slice(y,f.length);return!I.length&&$?f=[$]:I.length&&!$?f=I:$&&I.length&&(f=[$].concat(I)),typeof e>"u"?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),r.tmp.suppress_decorations&&(f=r.output.renderBlobs(f,void 0,!1))):typeof e=="boolean"&&(f=r.output.renderBlobs(f,void 0,!0)),e&&e.new_locale&&(r.opt.lang=e.old_locale),f};p.Output.Queue.prototype.clearlevel=function(){var r,t,e;for(r=this.current.value(),e=r.blobs.length,t=0;t<e;t+=1)r.blobs.pop()};p.Output.Queue.prototype.renderBlobs=function(r,t,e,i){var n,a,s,o,l,u,f,h,c,m,d;if(d=p.getSafeEscape(this.state),t||(t=""),n=this.state,a="",s="",u=r.length,this.state.tmp.area==="citation"&&!this.state.tmp.just_looking&&u===1&&typeof r[0]=="object"&&i)return r[0].strings.prefix=i.strings.prefix+r[0].strings.prefix,r[0].strings.suffix=r[0].strings.suffix+i.strings.suffix,r[0].decorations=r[0].decorations.concat(i.decorations),r[0].params=i.params,r[0];var v=!0;for(l=0;l<u;l+=1)r[l].checkNext?(r[l].checkNext(r[l+1],v),v=!1):r[l+1]&&r[l+1].splice_prefix?v=!1:v=!0;var b=!0;for(l=r.length-1;l>0;l+=-1)r[l].checkLast?b&&r[l].checkLast(r[l-1])&&(b=!1):b=!0;for(u=r.length,l=0;l<u;l+=1)if(o=r[l],a&&(s=t),typeof o=="string")a+=d(s),a+=o,n.tmp.count_offset_characters&&(n.tmp.offset_characters+=s.length);else if(e)a?a=[a,o]:a=[o];else if(o.status!==p.SUPPRESS){o.particle?c=o.particle+o.num:c=o.formatter.format(o.num,o.gender);var g=c.replace(/<[^>]*>/g,"").length;this.append(c,"empty",!0);var _=this.pop(),y=n.tmp.count_offset_characters;if(c=this.string(n,[_],!1),n.tmp.count_offset_characters=y,o.strings["text-case"]&&(c=p.Output.Formatters[o.strings["text-case"]](this.state,c)),c&&this.state.tmp.strip_periods&&(c=c.replace(/\.([^a-z]|$)/g,"$1")),!n.tmp.suppress_decorations)for(h=o.decorations.length,f=0;f<h;f+=1)m=o.decorations[f],!n.normalDecorIsOrphan(o,m)&&(c=n.fun.decorate[m[0]][m[1]].call(o,n,c,m[2]));c=d(o.strings.prefix)+c+d(o.strings.suffix);var $="";o.status===p.END?$=d(o.range_prefix):o.status===p.SUCCESSOR?$=d(o.successor_prefix):o.status===p.START?l>0&&!o.suppress_splice_prefix?$=d(o.splice_prefix):$="":o.status===p.SEEN&&($=d(o.splice_prefix)),a+=$,a+=c,n.tmp.count_offset_characters&&(n.tmp.offset_characters+=$.length+o.strings.prefix.length+g+o.strings.suffix.length)}return a};p.Output.Queue.purgeEmptyBlobs=function(r){if(!(typeof r!="object"||typeof r.blobs!="object"||!r.blobs.length))for(var t=r.blobs.length-1;t>-1;t--){p.Output.Queue.purgeEmptyBlobs(r.blobs[t]);var e=r.blobs[t];if(!e||!e.blobs||!e.blobs.length){for(var i=[];r.blobs.length-1>t;)i.push(r.blobs.pop());for(r.blobs.pop();i.length;)r.blobs.push(i.pop())}}};p.Output.Queue.adjust=function(r){var t={";":!0,":":!0},e={".":!0,"!":!0,"?":!0},i={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},n={},a={},s={},o={};for(var l in i)s[l]=!0,o[l]=!0,t[l]||(n[l]=!0),e[l]||(a[l]=!0);o[" "]=!0,o[" "]=!0;var u={};for(var l in i)for(var f in i[l])u[f]||(u[f]={}),u[f][l]=i[l][f];function h(T){return typeof T.num=="number"||T.blobs&&T.blobs.length===1&&typeof T.blobs[0].num=="number"}function c(T){if(typeof T.num=="number")return!0;if(!T.blobs||typeof T.blobs!="object")return!1;if(c(T.blobs[T.blobs.length-1]))return!0}function m(T,x){var U=!1,O=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(x&&O.push("@quotes"),T.decorations){for(var F=0,D=T.decorations.length;F<D;F++)if(O.indexOf(T.decorations[F][0])>-1){U=!0;break}}return U}function d(T){if(T.decorations){for(var x=0,U=T.decorations.length;x<U;x++)if(T.decorations[x][0]==="@quotes"&&T.decorations[x][1]!=="false")return!0}return typeof T.blobs!="object"?!1:d(T.blobs[T.blobs.length-1])}function v(T,x){var U=x.strings.suffix.slice(-1);!U&&typeof x.blobs=="string"&&(U=x.blobs.slice(-1));var O=u[T][U];return O&&O.length===1?!0:typeof x.blobs!="object"?!1:!!v(T,x.blobs[x.blobs.length-1])}function b(T,x){if(!s[x])return!1;if(typeof T.blobs=="string")return T.blobs.slice(-1)===x;var U=T.blobs[T.blobs.length-1];if(U){var O=U.strings.suffix.slice(-1);return O?U.strings.suffix.slice(-1)==x:b(U,x)}else return!1}function g(T,x,U,O,F){var D=x==="blobs"?T:T.strings,L=O==="blobs"?U:U.strings,H=D[x].slice(-1),Y=L[O].slice(0,1);function W(){L[O]=L[O].slice(1)}function z(){D[x]=D[x].slice(0,-1)}function ne(ce){L[O]=ce+L[O]}function ue(ce){D[x]+=ce}var K=F?z:W;function Q(){return u[Y]}function oe(){return i[H]}var Ae=F?oe:Q;function we(){var ce=i[H][Y];typeof ce=="string"?(z(),W(),ne(ce)):(ne(H),z())}function Se(){var ce=u[Y][H];typeof ce=="string"?(z(),W(),ue(ce)):(ue(Y),W())}var Te=F?we:Se,Ie=H===Y;Ie?K():Ae()&&Te()}function _(T){if(T.blobs&&typeof T.blobs=="string"){s[T.strings.suffix.slice(0,1)]&&T.strings.suffix.slice(0,1)===T.blobs.slice(-1)&&(T.strings.suffix=T.strings.suffix.slice(1));return}else if(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)return;for(var x=m(T,!0),U=T.blobs.length-1;U>-1;U--){this.upward(T.blobs[U]);var O=T.strings,F=T.blobs[U].strings;if(U===0){O.prefix.slice(-1)===" "&&F.prefix.slice(0,1)===" "&&(F.prefix=F.prefix.slice(1));var D=F.prefix.slice(0,1);!x&&o[D]&&!O.prefix&&(O.prefix+=D,F.prefix=F.prefix.slice(1))}if(U===T.blobs.length-1){var D=F.suffix.slice(-1);!x&&[" "].indexOf(D)>-1&&(O.suffix.slice(0,1)!==D&&(O.suffix=D+O.suffix),F.suffix=F.suffix.slice(0,-1))}O.delimiter&&U>0&&o[O.delimiter.slice(-1)]&&O.delimiter.slice(-1)===F.prefix.slice(0,1)&&(F.prefix=F.prefix.slice(1))}}function y(T){if(!(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)){for(var x=T.blobs.length-1;x>-1;x--)if(this.leftward(T.blobs[x]),x<T.blobs.length-1&&!T.strings.delimiter){var U=T.blobs[x],O=U.strings.suffix.slice(-1),F=T.blobs[x+1],D=F.strings.prefix.slice(0,1),L=m(U)||m(F),H=typeof O=="number"||typeof D=="number";if(!L&&!H&&s[D]&&!H){var Y=D===U.strings.suffix.slice(-1),W=!U.strings.suffix&&typeof U.blobs=="string"&&U.blobs.slice(-1)===D;!Y&&!W?g(U,"suffix",F,"prefix"):F.strings.prefix=F.strings.prefix.slice(1)}}}}function $(T){if(T.blobs&&typeof T.blobs=="string"){s[T.strings.suffix.slice(0,1)]&&T.strings.suffix.slice(0,1)===T.blobs.slice(-1)&&(T.strings.suffix=T.strings.suffix.slice(1));return}else if(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)return;for(var x=T.strings,U=0,O=T.blobs.length;U<O&&!h(T.blobs[U]);U++);if(x.delimiter&&s[x.delimiter.slice(0,1)]){for(var F=x.delimiter.slice(0,1),U=T.blobs.length-2;U>-1;U--){var D=T.blobs[U].strings;D.suffix.slice(-1)!==F&&(D.suffix+=F)}x.delimiter=x.delimiter.slice(1)}for(var U=T.blobs.length-1;U>-1;U--){var L=T.blobs[U],D=T.blobs[U].strings,H=m(L,!0),Y=h(L);if(U===T.blobs.length-1){{var W=x.suffix.slice(0,1),z=!1;s[W]&&(z=v(W,L),!z&&r&&(z=d(L))),z&&s[W]&&(c(L)||(typeof L.blobs=="string"?g(L,"blobs",T,"suffix"):g(L,"suffix",T,"suffix"),x.suffix.slice(0,1)==="."&&(D.suffix+=x.suffix.slice(0,1),x.suffix=x.suffix.slice(1)))),D.suffix.slice(-1)===" "&&x.suffix.slice(0,1)===" "&&(x.suffix=x.suffix.slice(1)),o[D.suffix.slice(0,1)]&&(typeof L.blobs=="string"&&L.blobs.slice(-1)===D.suffix.slice(0,1)&&(D.suffix=D.suffix.slice(1)),D.suffix.slice(-1)===x.suffix.slice(0,1)&&(x.suffix=x.suffix.slice(0,-1)))}b(T,T.strings.suffix.slice(0,1))&&(T.strings.suffix=T.strings.suffix.slice(1))}else if(x.delimiter)o[x.delimiter.slice(0,1)]&&x.delimiter.slice(0,1)===D.suffix.slice(-1)&&(T.blobs[U].strings.suffix=T.blobs[U].strings.suffix.slice(0,-1));else{var ne=T.blobs[U+1].strings;!h(L)&&!H&&o[D.suffix.slice(-1)]&&D.suffix.slice(-1)===ne.prefix.slice(0,1)&&(ne.prefix=ne.prefix.slice(1))}!Y&&!H&&s[D.suffix.slice(0,1)]&&typeof L.blobs=="string"&&g(L,"blobs",L,"suffix"),this.downward(T.blobs[U])}}function I(T){var x=T.strings.suffix.slice(0,1);if(typeof T.blobs=="string")for(;n[x];)g(T,"blobs",T,"suffix"),x=T.strings.suffix.slice(0,1);else for(;n[x];)g(T.blobs[T.blobs.length-1],"suffix",T,"suffix"),x=T.strings.suffix.slice(0,1)}function A(T){if(typeof T.blobs=="string")for(var x=T.blobs.slice(-1);a[x];)g(T,"blobs",T,"suffix",!0),x=T.blobs.slice(-1);else for(var x=T.blobs[T.blobs.length-1].strings.suffix.slice(-1);a[x];)g(T.blobs[T.blobs.length-1],"suffix",T,"suffix",!0),x=T.blobs[T.blobs.length-1].strings.suffix.slice(-1)}function B(T){if(!(typeof T!="object"||typeof T.blobs!="object"||!T.blobs.length)){for(var x,U=0,O=T.blobs.length;U<O;U++){for(var F=T.blobs[U],D=!1,L=0,H=F.decorations.length;L<H;L++){var Y=F.decorations[L];Y[0]==="@quotes"&&Y[1]!=="false"&&(D=!0)}D&&(r?I(F):A(F)),x=this.fix(T.blobs[U]),F.blobs&&typeof F.blobs=="string"&&(x=F.blobs.slice(-1))}return x}}this.upward=_,this.leftward=y,this.downward=$,this.fix=B};p.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=p.NONE,this.bib_mode=p.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1};p.Engine.Tmp=function(){this.names_max=new p.Stack,this.names_base=new p.Stack,this.givens_base=new p.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new p.Stack(0,p.LITERAL),this.element_rendered_ok=!1,this.element_trace=new p.Stack("style"),this.nameset_counter=0,this.group_context=new p.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new p.Stack(0,p.LITERAL),this.decorations=new p.Stack,this.tokenstore_stack=new p.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new p.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new p.AmbigConfig,this.bib_sort_keys=[],this.prefix=new p.Stack("",p.LITERAL),this.suffix=new p.Stack("",p.LITERAL),this.delimiter=new p.Stack("",p.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]};p.Engine.Fun=function(r){this.match=new p.Util.Match,this.suffixator=new p.Util.Suffixator(p.SUFFIX_CHARS),this.romanizer=new p.Util.Romanizer,this.ordinalizer=new p.Util.Ordinalizer(r),this.long_ordinalizer=new p.Util.LongOrdinalizer};p.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new p.Stack(0,p.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0};p.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]};p.Engine.Citation=function(r){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new p.Registry.Comparifier(r,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"};p.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"};p.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=p.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"};p.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"};p.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"};p.Engine.prototype.previewCitationCluster=function(r,t,e,i){var n=this.opt.mode;this.setOutputFormat(i),r.citationID&&delete r.citationID;var a=this.processCitationCluster(r,t,e,p.PREVIEW);return this.setOutputFormat(n),a[1]};p.Engine.prototype.appendCitationCluster=function(r){for(var t=[],e=this.registry.citationreg.citationByIndex.length,i=0;i<e;i+=1){var n=this.registry.citationreg.citationByIndex[i];t.push([""+n.citationID,n.properties.noteIndex])}return this.processCitationCluster(r,t,[])[1]};p.Engine.prototype.processCitationCluster=function(r,t,e,i){var n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$,I;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(r);var A,B,T;if(i===p.PREVIEW){this.debug&&p.debug("****** start state save *********"),A=this.registry.citationreg.citationByIndex.slice(),B=this.registry.reflist.slice();for(var x=t.concat(e),U={},O=[],o=0,l=x.length;o<l;o+=1)for(n=this.registry.citationreg.citationById[x[o][0]],u=0,f=n.citationItems.length;u<f;u+=1)U[n.citationItems[u].id]=!0,O.push(""+n.citationItems[u].id);for(u=0,f=r.citationItems.length;u<f;u+=1)U[r.citationItems[u].id]=!0,O.push(""+r.citationItems[u].id);T={};for(var o=0,l=B.length;o<l;o+=1)if(!U[B[o].id]){var F=this.registry.registry[B[o].id].ambig,D=this.registry.ambigcites[F];if(D)for(u=0,f=D.length;u<f;u+=1)T[D[u]]=p.cloneAmbigConfig(this.registry.registry[D[u]].disambig)}this.debug&&p.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};for(var L=[],H={},o=0,l=r.citationItems.length;o<l;o+=1){g={};for(var v in r.citationItems[o])g[v]=r.citationItems[o][v];if(b=this.retrieveItem(""+g.id),b.id&&this.transform.loadAbbreviation("default","hereinafter",b.id,b.language),g=p.parseLocator.call(this,g),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[b,g]]),this.opt.development_extensions.locator_label_parse&&g.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(b.type)===-1&&(!g.label||g.label==="page")){var $=p.LOCATOR_LABELS_REGEXP.exec(g.locator);if($){var Y=p.LOCATOR_LABELS_MAP[$[2]];this.getTerm(Y)&&(g.label=Y,g.locator=$[3])}}var W=[b,g];L.push(W),r.citationItems[o].item=b}r.sortedItems=L;var z=[],ne={},ue;for(o=0,l=t.length;o<l;o+=1)a=t[o],this.opt.development_extensions.strict_inputs&&(ne[a[0]]&&p.error("Previously referenced citationID "+a[0]+" encountered in citationsPre"),a[1]&&(ue>a[1]&&p.debug("Note index sequence is not sane at citationsPre["+o+"]"),ue=a[1])),this.registry.citationreg.citationById[a[0]].properties.noteIndex=a[1],z.push(this.registry.citationreg.citationById[a[0]]),ne[a[0]]=this.registry.citationreg.citationById[a[0]];for(r.properties||(r.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(ne[r.citationID]&&p.error("Citation with previously referenced citationID "+r.citationID),r.properties.noteIndex&&(ue>r.properties.noteIndex&&p.debug("Note index sequence is not sane for citation "+r.citationID),ue=r.properties.noteIndex)),z.push(r),ne[r.citationID]=r,o=0,l=e.length;o<l;o+=1)s=e[o],this.opt.development_extensions.strict_inputs&&(ne[s[0]]&&p.error("Previously referenced citationID "+s[0]+" encountered in citationsPost"),s[1]&&(ue>s[1]&&p.debug("Note index sequence is not sane at postCitation["+o+"]"),ue=s[1])),this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1],z.push(this.registry.citationreg.citationById[s[0]]),ne[s[0]]=this.registry.citationreg.citationById[s[0]];this.registry.citationreg.citationByIndex=z,this.registry.citationreg.citationById=ne,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===p.POSITION&&(y=[],_=[],I={});for(var K=[],o=0,l=z.length;o<l;o+=1){for(z[o].properties.index=o,u=0,f=z[o].sortedItems.length;u<f;u+=1)g=z[o].sortedItems[u],this.registry.citationreg.citationsByItemId[g[1].id]||(this.registry.citationreg.citationsByItemId[g[1].id]=[],K.push(""+g[1].id)),this.registry.citationreg.citationsByItemId[g[1].id].indexOf(z[o])===-1&&this.registry.citationreg.citationsByItemId[g[1].id].push(z[o]);this.opt.update_mode===p.POSITION&&(z[o].properties.noteIndex?_.push(z[o]):(z[o].properties.noteIndex=0,y.push(z[o])))}if(i!==p.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&p.debug("****** start update items *********"),this.updateItems(K,null,null,!0),this.debug&&p.debug("****** endo update items *********")),!this.opt.citation_number_sort&&L&&L.length>1&&this.citation_sort.tokens.length>0){for(var o=0,l=L.length;o<l;o+=1)L[o][1].sortkeys=p.getSortKeys.call(this,L[o][0],"citation_sort");if(this.opt.grouped_sort&&!r.properties.unsorted){for(var o=0,l=L.length;o<l;o+=1){var Q=L[o][1].sortkeys;this.tmp.authorstring_request=!0;var oe=this.registry.registry[L[o][0].id].disambig;this.tmp.authorstring_request=!0,p.getAmbiguousCite.call(this,L[o][0],oe);var Ae=this.registry.authorstrings[L[o][0].id];this.tmp.authorstring_request=!1,L[o][1].sortkeys=[Ae].concat(Q)}L.sort(this.citation.srt.compareCompositeKeys);for(var we=!1,Se=!1,Te=!1,o=0,l=L.length;o<l;o+=1)L[o][1].sortkeys[0]!==we&&(Te=L[o][1].sortkeys[0],Se=L[o][1].sortkeys[1]),L[o][1].sortkeys[0]=""+Se+o,we=Te}r.properties.unsorted||L.sort(this.citation.srt.compareCompositeKeys)}this.opt.parallel.enable&&this.parallel.StartCitation(r.sortedItems);var Ie;if(this.opt.update_mode===p.POSITION)for(var o=0;o<2;o+=1){var ce={},ge={},be={};for(Ie=[y,_][o],u=0,f=Ie.length;u<f;u+=1){var _e=Ie[u];for(Ie[u].properties.noteIndex||(Ie[u].properties.noteIndex=0),Ie[u].properties.noteIndex=parseInt(Ie[u].properties.noteIndex,10),u>0&&_e.properties.noteIndex&&Ie[u-1].properties.noteIndex>_e.properties.noteIndex&&(I={},ce={},ge={},be={}),h=0,c=_e.sortedItems.length;h<c;h+=1)_e.sortedItems[h][1].parallel&&_e.sortedItems[h][1].parallel!=="first"||(I[_e.properties.noteIndex]?I[_e.properties.noteIndex]+=1:I[_e.properties.noteIndex]=1);for(h=0,c=Ie[u].sortedItems.length;h<c;h+=1){g=Ie[u].sortedItems[h];var Be=g[0].id,Fe=g[0].legislation_id?g[0].legislation_id:g[0].id,We=g[0].legislation_id?g[0].legislation_id:g[0].container_id?g[0].container_id:g[0].id,q=g[1]["locator-extra"],k=g[1].locator,P=g[1].label,G,le;if(h>0)if(_e.sortedItems[h-1][0].legislation_id)G=_e.sortedItems[h-1][0].legislation_id;else{G=_e.sortedItems[h-1][1].id,le=_e.sortedItems[h-1][1]["locator-extra"];for(var xe=h-2;xe>-1;xe--)_e.sortedItems[xe][1].parallel==="first"&&(G=_e.sortedItems[xe][1].id,le=_e.sortedItems[xe][1]["locator-extra"])}if(i===p.PREVIEW&&_e.citationID!=r.citationID){typeof ce[g[1].id]>"u"&&(ce[Fe]=_e.properties.noteIndex),ge[We]=_e.properties.noteIndex;continue}var Pe={};if(Pe.position=g[1].position,Pe["first-reference-note-number"]=g[1]["first-reference-note-number"],Pe["first-container-reference-note-number"]=g[1]["first-container-reference-note-number"],Pe["near-note"]=g[1]["near-note"],g[1]["first-reference-note-number"]=0,g[1]["first-container-reference-note-number"]=0,g[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[Be]&&this.opt.xclass==="note"&&this.opt.has_disambiguate){var ut=this.registry.registry[g[0].id]["citation-count"],gt=this.registry.citationreg.citationsByItemId[Be].length;if(this.registry.registry[g[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[Be].length,typeof ut=="number"){var dt=ut<2,Kt=gt<2;if(dt!==Kt)for(var xe=0,Tt=this.registry.citationreg.citationsByItemId[Be].length;xe<Tt;xe++)H[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Be][xe].citationID]=!0}else for(var xe=0,Tt=this.registry.citationreg.citationsByItemId[Be].length;xe<Tt;xe++)H[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Be][xe].citationID]=!0}var Dr,ii;if(typeof ge[We]>"u"&&_e.properties.mode!=="author-only")ce[Fe]=_e.properties.noteIndex,ge[We]=_e.properties.noteIndex,be[We]=_e.properties.noteIndex,g[1].position=p.POSITION_FIRST;else{var qr=!1,Vr=!1,pr=null;if(u>0)var pr=Ie[u-1];var Sa=Ie[u];if(u>0){var yn=1;pr.properties.mode==="author-only"&&u>1&&(yn=2);var rn=u-yn;Ie[rn].sortedItems.length&&(Dr=Ie[rn].sortedItems.slice(-1)[0][1].id,ii=Ie[u-yn].sortedItems.slice(-1)[0][1]["locator-extra"]),pr.sortedItems.length&&pr.sortedItems[0].slice(-1)[0].legislation_id&&(Dr=pr.sortedItems[0].slice(-1)[0].legislation_id)}if(u>0&&h===0&&pr.properties.noteIndex!==Sa.properties.noteIndex){var rl=!1,il=pr.sortedItems[0][0].id;if(pr.sortedItems[0][0].legislation_id&&(il=pr.sortedItems[0][0].legislation_id),il==Fe&&pr.properties.noteIndex>=Sa.properties.noteIndex-1){var Ri=pr.sortedItems[0][1]["locator-extra"],$n=Sa.sortedItems[0][1]["locator-extra"];(I[pr.properties.noteIndex]===1||pr.properties.noteIndex===0)&&Ri===$n&&(rl=!0)}rl?qr=!0:Vr=!0}else h>0&&G==Fe&&le==q||h===0&&u>0&&pr.properties.noteIndex==Sa.properties.noteIndex&&pr.sortedItems.length&&Dr==Fe&&ii==q?qr=!0:Vr=!0;var nn,vr,Js,Nr,Qs;qr&&(h>0?nn=_e.sortedItems[h-1][1]:nn=Ie[u-1].sortedItems[0][1],nn.locator?(nn.label?Js=nn.label:Js="",vr=""+nn.locator+Js):vr=nn.locator,k?(P?Qs=P:Qs="",Nr=""+k+Qs):Nr=k),qr&&vr&&!Nr&&(qr=!1,Vr=!0),qr&&(!vr&&Nr?g[1].position=p.POSITION_IBID_WITH_LOCATOR:!vr&&!Nr||vr&&Nr===vr?g[1].position=p.POSITION_IBID:vr&&Nr&&Nr!==vr?g[1].position=p.POSITION_IBID_WITH_LOCATOR:(qr=!1,Vr=!0)),Vr&&(g[1].position=p.POSITION_CONTAINER_SUBSEQUENT,typeof ce[Fe]>"u"?ce[Fe]=_e.properties.noteIndex:g[1].position=p.POSITION_SUBSEQUENT),(Vr||qr)&&(_e.properties.mode==="author-only"&&(g[1].position=p.POSITION_FIRST),be[We]!=_e.properties.noteIndex&&(g[1]["first-container-reference-note-number"]=be[We],this.registry.registry[g[0].id]&&(this.registry.registry[g[0].id]["first-container-reference-note-number"]=be[We])),ce[Fe]!=_e.properties.noteIndex&&(g[1]["first-reference-note-number"]=ce[Fe],this.registry.registry[g[0].id]&&(this.registry.registry[g[0].id]["first-reference-note-number"]=ce[Fe])))}if(_e.properties.noteIndex){var zu=parseInt(_e.properties.noteIndex,10)-parseInt(ge[We],10);g[1].position!==p.POSITION_FIRST&&zu<=this.citation.opt["near-note-distance"]&&(g[1]["near-note"]=!0),ge[We]=_e.properties.noteIndex}else g[1].position!==p.POSITION_FIRST&&(g[1]["near-note"]=!0);if(_e.citationID!=r.citationID)for(m=0,d=p.POSITION_TEST_VARS.length;m<d;m+=1){var Rr=p.POSITION_TEST_VARS[m];g[1][Rr]!==Pe[Rr]&&(this.registry.registry[g[0].id]&&Rr==="first-reference-note-number"&&(H[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedItemIDs[g[0].id]=!0),this.tmp.taintedCitationIDs[_e.citationID]=!0)}this.sys.variableWrapper&&(g[1].index=_e.properties.index,g[1].noteIndex=_e.properties.noteIndex)}}}if(this.opt.citation_number_sort&&L&&L.length>1&&this.citation_sort.tokens.length>0&&!r.properties.unsorted){for(var o=0,l=L.length;o<l;o+=1)L[o][1].sortkeys=p.getSortKeys.call(this,L[o][0],"citation_sort");L.sort(this.citation.srt.compareCompositeKeys)}for(var v in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(v)&&(Ie=this.registry.citationreg.citationsByItemId[v],Ie))for(var o=0,l=Ie.length;o<l;o+=1)this.tmp.taintedCitationIDs[Ie[o].citationID]=!0;var ni=[];if(i===p.PREVIEW){this.debug&&p.debug("****** start run processor *********");try{ni=this.process_CitationCluster.call(this,r.sortedItems,r)}catch(Ea){p.error("Error running CSL processor for preview: "+Ea)}this.debug&&(p.debug("****** end run processor *********"),p.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=A,this.registry.citationreg.citationById={};for(var o=0,l=A.length;o<l;o+=1)this.registry.citationreg.citationById[A[o].citationID]=A[o];this.debug&&p.debug("****** start final update *********");for(var nl=[],o=0,l=B.length;o<l;o+=1)nl.push(""+B[o].id);this.updateItems(nl,null,null,!0),this.debug&&p.debug("****** end final update *********");for(var v in T)T.hasOwnProperty(v)&&(this.registry.registry[v].disambig=T[v]);this.debug&&p.debug("****** end state restore *********")}else{for(var _n in H)this.disambiguate.run(_n,r);var ai;for(var v in this.tmp.taintedCitationIDs)if(v!=r.citationID){var nr=this.registry.citationreg.citationById[v];if(!nr.properties.unsorted){for(var o=0,l=nr.sortedItems.length;o<l;o+=1)nr.sortedItems[o][1].sortkeys=p.getSortKeys.call(this,nr.sortedItems[o][0],"citation_sort");nr.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=nr.properties.index,this.tmp.citation_note_index=nr.properties.noteIndex,this.tmp.citation_id=""+nr.citationID,ai=[],ai.push(nr.properties.index),ai.push(this.process_CitationCluster.call(this,nr.sortedItems,nr)),ai.push(nr.citationID),ni.push(ai)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=r.properties.index,this.tmp.citation_note_index=r.properties.noteIndex,this.tmp.citation_id=""+r.citationID,ai=[],ai.push(t.length),ai.push(this.process_CitationCluster.call(this,L,r)),ai.push(r.citationID),ni.push(ai),ni.sort(function(Ea,an){return Ea[0]>an[0]?1:Ea[0]<an[0]?-1:0})}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,ni]};p.Engine.prototype.process_CitationCluster=function(r,t){var e="";if(t&&t.properties&&t.properties.mode==="composite"){t.properties.mode="author-only";var i=p.getCitationCluster.call(this,r,t);t.properties.mode="suppress-author";var n="";t.properties.infix&&(this.output.append(t.properties.infix),n=this.output.string(this,this.output.queue),typeof n=="object"&&(n=n.join("")));var a=p.getCitationCluster.call(this,r,t);t.properties.mode="composite",i&&n&&p.SWAPPING_PUNCTUATION.concat(["’","'"]).indexOf(n[0])>-1&&(i+=n,n=!1),e=[i,n,a].filter(function(s){return s}).join(" ")}else e=p.getCitationCluster.call(this,r,t);return e};p.Engine.prototype.makeCitationCluster=function(r){var t,e,f,i,n,a,s;for(t=[],n=r.length,i=0;i<n;i+=1){a={};for(var o in r[i])a[o]=r[i][o];if(s=this.retrieveItem(""+a.id),this.opt.development_extensions.locator_label_parse&&a.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(s.type)===-1&&(!a.label||a.label==="page")){var l=p.LOCATOR_LABELS_REGEXP.exec(a.locator);if(l){var u=p.LOCATOR_LABELS_MAP[l[2]];this.getTerm(u)&&(a.label=u,a.locator=l[3])}}a.locator&&(a.locator=(""+a.locator).replace(/\s+$/,"")),e=[s,a],t.push(e)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(t),t&&t.length>1&&this.citation_sort.tokens.length>0){for(n=t.length,i=0;i<n;i+=1)t[i][1].sortkeys=p.getSortKeys.call(this,t[i][0],"citation_sort");t.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_errors=[];var f=p.getCitationCluster.call(this,t);return f};p.getAmbiguousCite=function(r,t,e,i){var c,n=this.tmp.group_context.tip,a={term_intended:n.term_intended,variable_attempt:n.variable_attempt,variable_success:n.variable_success,output_tip:n.output_tip,label_form:n.label_form,non_parallel:n.non_parallel,parallel_last:n.parallel_last,parallel_first:n.parallel_first,parallel_last_override:n.parallel_last_override,parallel_delimiter_override:n.parallel_delimiter_override,parallel_delimiter_override_on_suppress:n.parallel_delimiter_override_on_suppress,condition:n.condition,force_suppress:n.force_suppress,done_vars:n.done_vars.slice()};t?this.tmp.disambig_request=t:this.tmp.disambig_request=!1;var s={position:p.POSITION_SUBSEQUENT,"near-note":!0};i&&(s.locator=i.locator,s.label=i.label),this.registry.registry[r.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[r.id]&&this.registry.citationreg.citationsByItemId[r.id].length&&e&&this.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(s["first-reference-note-number"]=this.registry.registry[r.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var o=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,p.getCite.call(this,r,s,null,!1);for(var l=0,u=this.output.queue.length;l<u;l+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[l]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var f=0,h=this.output.queue.length;f<h;f+=1)this.output.adjust.upward(this.output.queue[f]),this.output.adjust.leftward(this.output.queue[f]),this.output.adjust.downward(this.output.queue[f]),this.output.adjust.fix(this.output.queue[f]);var c=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=o,this.tmp.group_context.replace(a),c};p.getSpliceDelimiter=function(r,t,e){if(this.citation.opt["after-collapse-delimiter"]!==void 0)r?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:t&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:!t&&!this.tmp.have_collapsed&&this.citation.opt.collapse!=="year-suffix"?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:this.tmp.splice_delimiter=this.citation.opt.layout_delimiter;else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&this.opt.xclass==="in-text"&&this.opt.update_mode!==p.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[e-1]){var i=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[e-1]];i&&i.delimiter&&(this.tmp.splice_delimiter=i.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter};p.getCitationCluster=function(r,t){var e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$,I,A,B="";this.output.checkNestedBrace=new p.checkNestedBrace(this),t&&($=t.citationID,I=t.properties.mode==="author-only"?!!t.properties.mode:!1,this.opt.xclass!=="note"&&(A=t.properties.mode==="suppress-author"?!!t.properties.mode:!1),t.properties.prefix&&(B=p.checkPrefixSpaceAppend(this,t.properties.prefix))),r=r||[],this.tmp.last_primary_names_string=!1,_=p.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",e="",i=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var T=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+B),x=!1;if(this.citation.opt.suppressTrailingPunctuation&&(x=!0),$&&this.registry.citationreg.citationById[$].properties["suppress-trailing-punctuation"]&&(x=!0),this.opt.xclass==="note"){for(var U=[],O=!1,F=!1,D=[],L=0,H=r.length;L<H;L+=1){var Y=r[L][0].type,W=r[L][0].title,z=r[L][1].position,ne=r[L][0].id;W&&Y==="legal_case"&&ne!==F&&z&&((W!==O||U.length===0)&&(D=[],U.push(D)),D.push(r[L][1])),O=W,F=ne}for(L=0,H=U.length;L<H;L+=1)if(D=U[L],!(D.length<2)){var ue=D.slice(-1)[0].locator;if(ue)for(var K=0,Q=D.length-1;K<Q;K+=1)D[K].locator&&(ue=!1);ue&&(D[0].locator=ue,delete D.slice(-1)[0].locator,D[0].label=D.slice(-1)[0].label,D.slice(-1)[0].label&&delete D.slice(-1)[0].label)}}for(n=[],a=r.length,r[0]&&r[0][1]&&(I?(delete r[0][1]["suppress-author"],r[0][1]["author-only"]=!0):A&&(delete r[0][1]["author-only"],r[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(r),s=0;s<a;s+=1){this.tmp.cite_index=s,m=r[s][0],o=r[s][1],o=p.parseLocator.call(this,o),l=this.tmp.have_collapsed;var oe=!1;if(s>0&&r[s-1][1]&&(oe=!!r[s-1][1].locator),u={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var Ae=this.output;this.output=new p.Output.Queue(this),this.output.adjust=new p.Output.Queue.adjust,p.getAmbiguousCite.call(this,m,null,!1,o),this.output=Ae}if(this.tmp.in_cite_predecessor=!1,s>0?p.getCite.call(this,m,o,""+r[s-1][0].id,!0):(this.tmp.term_predecessor=!1,p.getCite.call(this,m,o,null,!0)),this.tmp.cite_renders_content||(y={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+m.id,citationItems_pos:s,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(y)),u.splice_delimiter=p.getSpliceDelimiter.call(this,oe,l,s),o&&o["author-only"]&&(this.tmp.suppress_decorations=!0),s>0){g=r[s-1][1];var we=g.suffix&&[";",".",","].indexOf(g.suffix.slice(-1))>-1,Se=!g.suffix&&o.prefix&&[";",".",","].indexOf(o.prefix.slice(0,1))>-1;if(we||Se){var Te=u.splice_delimiter.indexOf(" ");Te>-1&&!Se?u.splice_delimiter=u.splice_delimiter.slice(Te):u.splice_delimiter=""}}if(u.suppress_decorations=this.tmp.suppress_decorations,u.have_collapsed=this.tmp.have_collapsed,n.push(u),o["author-only"])break}c=this.output.queue.slice();var Ie="";t&&(Ie=p.checkSuffixSpacePrepend(this,t.properties.suffix));var ce=this.citation.opt.layout_suffix,ge=this.tmp.cite_locales[this.tmp.cite_locales.length-1];ge&&this.tmp.cite_affixes[this.tmp.area][ge]&&this.tmp.cite_affixes[this.tmp.area][ge].suffix&&(ce=this.tmp.cite_affixes[this.tmp.area][ge].suffix),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(ce.slice(0,1))>-1&&(ce=ce.slice(0,1)),ce=this.output.checkNestedBrace.update(Ie+ce);for(var L=0,H=this.output.queue.length;L<H;L+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[L]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&this.tmp.area==="citation"||(x||(this.output.queue[this.output.queue.length-1].strings.suffix=ce),this.output.queue[0].strings.prefix=T)),this.opt.development_extensions.clean_up_csl_flaws)for(var K=0,Q=this.output.queue.length;K<Q;K+=1)this.output.adjust.upward(this.output.queue[K]),this.output.adjust.leftward(this.output.queue[K]),this.output.adjust.downward(this.output.queue[K]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[K]);for(s=0,a=c.length;s<a;s+=1){var be=[];if(this.output.queue=[c[s]],this.tmp.suppress_decorations=n[s].suppress_decorations,this.tmp.splice_delimiter=n[s].splice_delimiter,c[s].parallel_delimiter&&(this.tmp.splice_delimiter=c[s].parallel_delimiter),this.tmp.have_collapsed=n[s].have_collapsed,f=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,typeof f=="string")return this.tmp.suppress_decorations=!1,f||(this.opt.development_extensions.throw_on_empty?p.error("Citation would render no content"):f="[NO_PRINTED_FORM]"),f;if(typeof f=="object"&&f.length===0&&!o["suppress-author"]){if(s===0){var _e="[CSL STYLE ERROR: reference with no printed form.]",Be=s===0?_(this.citation.opt.layout_prefix):"",Fe=s===c.length-1?_(this.citation.opt.layout_suffix):"";f.push(Be+_e+Fe)}else if(s===c.length-1){var We=i[i.length-1];typeof We=="string"?i[i.length-1]+=_(this.citation.opt.layout_suffix):typeof We=="object"&&(We.strings.suffix+=_(this.citation.opt.layout_suffix))}}if(be.length&&typeof f[0]=="string"){f.reverse();var q=f.pop();q&&q.slice(0,1)===","?be.push(q):typeof be.slice(-1)[0]=="string"&&be.slice(-1)[0].slice(-1)===","?be.push(" "+q):q&&be.push(_(this.tmp.splice_delimiter)+q)}else f.reverse(),h=f.pop(),typeof h<"u"&&(be.length&&typeof be[be.length-1]=="string"&&(be[be.length-1]+=h.successor_prefix),be.push(h));for(d=f.length,v=0;v<d;v+=1){if(b=f[v],typeof b=="string"){be.push(_(this.tmp.splice_delimiter)+b);continue}h=f.pop(),typeof h<"u"&&be.push(h)}be.length===0&&r[s][1]["suppress-author"],be.length>1&&typeof be[0]!="string"&&(be=[this.output.renderBlobs(be)]),be.length&&(typeof be[0]=="string"?s>0&&(be[0]=_(this.tmp.splice_delimiter)+be[0]):s>0?be[0].splice_prefix=this.tmp.splice_delimiter:be[0].splice_prefix=""),i=i.concat(be)}if(e+=this.output.renderBlobs(i),e&&!this.tmp.suppress_decorations)for(a=this.citation.opt.layout_decorations.length,s=0;s<a;s+=1)u=this.citation.opt.layout_decorations[s],u[1]!=="normal"&&(!o||!o["author-only"])&&(e=this.fun.decorate[u[0]][u[1]](this,e));return this.tmp.suppress_decorations=!1,e||(this.opt.development_extensions.throw_on_empty?p.error("Citation would render no content"):e="[NO_PRINTED_FORM]"),e};p.getCite=function(r,t,e,i){var n,a,s=this.tmp.area;for(t&&t["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=e,p.citeStart.call(this,r,t,i),n=0,this.tmp.name_node={},this.nameOutput=new p.NameOutput(this,r,t);n<this[this.tmp.area].tokens.length;)n=p.tokenExec.call(this,this[this.tmp.area].tokens[n],r,t);return p.citeEnd.call(this,r,t),!this.tmp.cite_renders_content&&!this.tmp.just_looking&&this.tmp.area==="bibliography"&&(a={index:this.tmp.bibliography_pos,itemID:""+r.id,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(a)),this.tmp.area=s,""+r.id};p.citeStart=function(r,t,e){if(this.tmp.lang_array=[],r.language){var i=r.language.match(/^([a-zA-Z]+).*/);i&&this.tmp.lang_array.push(i[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),e||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="",this.tmp.area==="citation"&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[r.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[r.id].disambig,this.tmp.disambig_settings=this.registry.registry[r.id].disambig):this.tmp.disambig_settings=new p.AmbigConfig,this.tmp.area!=="citation"){if(!this.registry.registry[r.id])this.tmp.disambig_restore=new p.AmbigConfig;else if(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[r.id].disambig),this.tmp.area==="bibliography"&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[r.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[r.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[r.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[r.id].disambig.givens.slice();for(var n=0,a=this.tmp.disambig_settings.givens.length;n<a;n+=1)this.tmp.disambig_settings.givens[n]=this.registry.registry[r.id].disambig.givens[n].slice();for(var n=0,a=this.tmp.disambig_request.givens.length;n<a;n+=1)this.tmp.disambig_request.givens[n]=this.registry.registry[r.id].disambig.givens[n].slice()}}this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||(!t||t.parallel==="first"||!t.parallel)&&(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&t&&!t.position&&this.registry.registry[r.id]&&(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[r.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0};p.citeEnd=function(r,t){if(this.tmp.disambig_restore&&this.registry.registry[r.id]){this.registry.registry[r.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[r.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var e=0,i=this.registry.registry[r.id].disambig.givens.length;e<i;e+=1)this.registry.registry[r.id].disambig.givens[e]=this.tmp.disambig_restore.givens[e].slice()}if(this.tmp.disambig_restore=!1,t&&t.suffix?this.tmp.last_suffix_used=t.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){for(var n=[],e=this.tmp.issued_date.list.length-1;e>this.tmp.issued_date.pos;e+=-1)n.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),e=n.length-1;e>-1;e+=-1)this.tmp.issued_date.list.push(n.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1};p.Engine.prototype.makeBibliography=function(r){var t,e,i,n,a,s,o,l,u;if(t=!1,!r&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(r={exclude:[]},this.bibliography.opt.exclude_types)for(var f in this.bibliography.opt.exclude_types){var h=this.bibliography.opt.exclude_types[f];r.exclude.push({field:"type",value:h})}if(this.bibliography.opt.exclude_with_fields)for(var f in this.bibliography.opt.exclude_with_fields){var c=this.bibliography.opt.exclude_with_fields[f];r.exclude.push({field:c,value:!0})}}if(!this.bibliography.tokens.length)return!1;if(typeof r=="string"&&(this.opt.citation_number_slug=r,r=!1),t){for(a=this.bibliography.tokens.length,s=0;s<a;s+=1)o=this.bibliography.tokens[s],p.debug("bibtok: "+o.name);for(p.debug("---"),a=this.citation.tokens.length,s=0;s<a;s+=1)this.citation.tokens[s],p.debug("cittok: "+o.name);for(p.debug("---"),a=this.bibliography_sort.tokens.length,s=0;s<a;s+=1)this.bibliography_sort.tokens[s],p.debug("bibsorttok: "+o.name)}e=p.getBibliographyEntries.call(this,r),l=e[0],u=e[1];var m=e[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:l,bibliography_errors:this.tmp.bibliography_errors.slice(),done:m},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),a=this.registry.reflist.length,s=0;s<a;s+=1)n=this.registry.reflist[s],n.offset>i.maxoffset&&(i.maxoffset=n.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,u]};p.getBibliographyEntries=function(r){var t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$,I;t=[],y=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,r&&r.page_start&&r.page_length?e=this.registry.getSortedIds():e=this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0;function A(Y,W){return Y===W}function B(Y,W){for(f=W.length,h=0;h<f;h+=1)if(A(Y,W[h]))return!0;return!1}function T(Y,W){return typeof Y=="boolean"||!Y?Y?!!W:!W:typeof W=="string"?A(Y,W):W?B(Y,W):!1}g={};var x;if(r&&r.page_start&&r.page_length&&(x=0,r.page_start!==!0))for(d=0,v=e.length;d<v&&(g[e[d]]=!0,r.page_start!=e[d]);d+=1);var U=[],O={};for(this.tmp.container_item_count={},e=e.filter(Y=>{var W=Y;return Y.legislation_id?O[Y.legislation_id]?W=!1:O[Y.legislation_id]=!0:Y.container_id&&(this.tmp.container_item_count[Y.container_id]||(this.tmp.container_item_count[Y.container_id]=0),this.tmp.container_item_count[Y.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(Y.type)>-1&&(O[Y.container_id]?W=!1:O[Y.container_id]=!0)),W}),this.tmp.container_item_pos={},d=0,v=e.length;d<v;d+=1){if(r&&r.page_start&&r.page_length){if(g[e[d]])continue;if(l=this.refetchItem(e[d]),x===r.page_length)break}else if(l=e[d],g[l.id])continue;if(r){if(i=!0,r.include){for(i=!1,$=0,I=r.include.length;$<I;$+=1)if(u=r.include[$],T(u.value,l[u.field])){i=!0;break}}else if(r.exclude){for(n=!1,$=0,I=r.exclude.length;$<I;$+=1)if(u=r.exclude[$],T(u.value,l[u.field])){n=!0;break}n&&(i=!1)}else if(r.select){for(i=!1,a=!0,$=0,I=r.select.length;$<I;$+=1)u=r.select[$],T(u.value,l[u.field])||(a=!1);a&&(i=!0)}if(r.quash){for(a=!0,$=0,I=r.quash.length;$<I;$+=1)u=r.quash[$],T(u.value,l[u.field])||(a=!1);a&&(i=!1)}if(!i)continue}if(l.container_id&&(this.tmp.container_item_pos[l.container_id]||(this.tmp.container_item_pos[l.container_id]=0),this.tmp.container_item_pos[l.container_id]++),s=new p.Token("group",p.START),s.decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",s),l.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=l.system_id:this.output.current.value().system_id=l.id,m=[],this.registry.registry[l.id].master&&!(r&&r.page_start&&r.page_length)){_=[[l,{id:l.id}]],b=this.registry.registry[l.id].siblings;for(var $=0,I=b.length;$<I;$++)_.push([this.refetchItem(b[$]),{id:b[$]}]);for(this.parallel.StartCitation(_),this.registry.registry[l.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[l.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,$=0,I=_.length;$<I;$+=1)$<_.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,m.push(""+p.getCite.call(this,_[$][0],_[$][1])),this.tmp.cite_index++,g[_[$][0].id]=!0}else this.registry.registry[l.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,m.push(""+p.getCite.call(this,l)),r&&r.page_start&&r.page_length&&(x+=1));for(y.push(""),this.tmp.bibliography_pos+=1,U.push(m),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(this.output.queue[0].blobs[0].blobs[0].strings?c=this.output.queue[0].blobs[0].blobs:c=this.output.queue[0].blobs,c[0].strings.prefix=this.bibliography.opt.layout_prefix+c[0].strings.prefix),$=0,I=this.output.queue.length;$<I;$+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[$]);for($=0,I=this.output.queue.length;$<I;$+=1)this.output.adjust.upward(this.output.queue[$]),this.output.adjust.leftward(this.output.queue[$]),this.output.adjust.downward(this.output.queue[$],!0),this.output.adjust.fix(this.output.queue[$]);if(o=this.output.string(this,this.output.queue)[0],!o&&this.opt.update_mode===p.NUMERIC){var F=t.length+1+". [CSL STYLE ERROR: reference with no printed form.]";o=p.Output.Formats[this.opt.mode]["@bibliography/entry"](this,F)}o&&t.push(o)}var D=!1;if(r&&r.page_start&&r.page_length){var L=e.slice(-1)[0],H=U.slice(-1)[0];(!L||!H||L==H)&&(D=!0)}return this.tmp.disambig_override=!1,[U,t,D]};p.Engine.prototype.setCitationId=function(r,t){var e,i,n;if(e=!1,!r.citationID||t){for(i=Math.floor(Math.random()*1e14);;){if(n=0,this.registry.citationreg.citationById[i])!n&&i<5e13?n=1:n=-1;else{r.citationID="a"+i.toString(32);break}n===1?i+=1:i+=-1}e=""+i}return this.registry.citationreg.citationById[r.citationID]=r,e};p.Engine.prototype.rebuildProcessorState=function(r,t,e){r||(r=[]),t||(t="html");for(var i={},n=[],a=0,s=r.length;a<s;a+=1)for(var o=0,l=r[a].citationItems.length;o<l;o+=1){var u=""+r[a].citationItems[o].id;i[u]||n.push(u),i[u]=!0}this.updateItems(n);var f=[],h=[],c=[],m=this.opt.mode;this.setOutputFormat(t);for(var a=0,s=r.length;a<s;a+=1){var d=this.processCitationCluster(r[a],f,h,p.ASSUME_ALL_ITEMS_REGISTERED);f.push([r[a].citationID,r[a].properties.noteIndex]);for(var o=0,l=d[1].length;o<l;o+=1){var v=d[1][o][0];c[v]=[f[v][0],f[v][1],d[1][o][1]]}}return this.updateUncitedItems(e),this.setOutputFormat(m),c};p.Engine.prototype.restoreProcessorState=function(r){var t,e,i,n,a,s,o,l,u,f;l=[],u=[],r||(r=[]);var h=[],c={};for(t=0,e=r.length;t<e;t+=1)c[r[t].citationID]&&this.setCitationId(r[t],!0),c[r[t].citationID]=!0,h.push(r[t].properties.index);var m=r.slice();for(m.sort(function(v,b){return v.properties.index<b.properties.index?-1:v.properties.index>b.properties.index?1:0}),t=0,e=m.length;t<e;t+=1)m[t].properties.index=t;for(t=0,e=m.length;t<e;t+=1){for(f=[],i=0,n=m[t].citationItems.length;i<n;i+=1)a=m[t].citationItems[i],typeof a.sortkeys>"u"&&(a.sortkeys=[]),s=this.retrieveItem(""+a.id),o=[s,a],f.push(o),m[t].citationItems[i].item=s,u.push(""+a.id);m[t].properties.unsorted||f.sort(this.citation.srt.compareCompositeKeys),m[t].sortedItems=f,this.registry.citationreg.citationById[m[t].citationID]=m[t]}for(this.updateItems(u),t=0,e=r.length;t<e;t+=1)l.push([""+r[t].citationID,r[t].properties.noteIndex]);var d=[];return r&&r.length?d=this.processCitationCluster(r[0],[],l.slice(1)):(this.registry=new p.Registry(this),this.tmp=new p.Engine.Tmp,this.disambiguate=new p.Disambiguation(this)),d};p.Engine.prototype.updateItems=function(r,t,e,i){var n=this.tmp.area,a=this.tmp.root,s=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",i||(this.tmp.loadedItemIDs={}),this.registry.init(r),e)for(var o in this.registry.ambigcites)this.registry.ambigsTouched[o]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=s,this.tmp.area=n,this.tmp.root=a,this.registry.getSortedIds()};p.Engine.prototype.updateUncitedItems=function(r,t){var e,i=this.tmp.area,n=this.tmp.root,a=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},r||(r=[]),typeof r=="object"){if(typeof r.length>"u"){e=r,r=[];for(var s in e)r.push(s)}else if(typeof r.length=="number"){e={};for(var o=0,l=r.length;o<l;o+=1)e[r[o]]=!0}}return this.registry.init(r,!0),this.registry.dopurge(e),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=a,this.tmp.area=i,this.tmp.root=n,this.registry.getSortedIds()};p.localeResolve=function(r,t){var e,i;return t||(t="en-US"),r||(r=t),e={},i=r.split(/[\-_]/),e.base=p.LANG_BASES[i[0]],typeof e.base>"u"?{base:t,best:r,bare:i[0]}:(i.length===1&&(e.generic=!0),i.length===1||i[1]==="x"?e.best=e.base.replace("_","-"):e.best=i.slice(0,2).join("-"),e.base=e.base.replace("_","-"),e.bare=i[0],e)};p.Engine.prototype.localeConfigure=function(r,t){var e;if(!(t&&this.locale[r.best])&&(r.best==="en-US"?(e=p.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(e,"en-US",r.best)):r.best!=="en-US"&&(r.base!==r.best&&(e=p.setupXml(this.sys.retrieveLocale(r.base)),this.localeSet(e,r.base,r.best)),e=p.setupXml(this.sys.retrieveLocale(r.best)),this.localeSet(e,r.best,r.best)),this.localeSet(this.cslXml,"",r.best),this.localeSet(this.cslXml,r.bare,r.best),r.base!==r.best&&this.localeSet(this.cslXml,r.base,r.best),this.localeSet(this.cslXml,r.best,r.best),typeof this.locale[r.best].terms["page-range-delimiter"]>"u"&&(["fr","pt"].indexOf(r.best.slice(0,2).toLowerCase())>-1?this.locale[r.best].terms["page-range-delimiter"]="-":this.locale[r.best].terms["page-range-delimiter"]="–"),typeof this.locale[r.best].terms["year-range-delimiter"]>"u"&&(this.locale[r.best].terms["year-range-delimiter"]="–"),typeof this.locale[r.best].terms["citation-range-delimiter"]>"u"&&(this.locale[r.best].terms["citation-range-delimiter"]="–"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var i=["default-locale","locale-sort","locale-translit","locale-translat"],n=0,a=i.length;n<a;n+=1)for(var s=0,o=this.opt[i[n]].length;s<o;s+=1)this.opt[i[n]][s]=this.opt[i[n]][s].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}};p.Engine.prototype.localeSet=function(r,t,e){var i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_;if(t=t.replace("_","-"),e=e.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(t=t.toLowerCase(),e=e.toLowerCase()),this.locale[e]||(this.locale[e]={},this.locale[e].terms={},this.locale[e].opts={},this.locale[e].opts["skip-words"]=p.SKIP_WORDS,this.locale[e].opts["leading-noise-words"]||(this.locale[e].opts["leading-noise-words"]=[]),this.locale[e].dates={},this.locale[e].ord={"1.0.1":!1,keys:{}},this.locale[e]["noun-genders"]={}),n=r.makeXml(),r.nodeNameIs(r.dataObj,"locale"))n=r.dataObj;else{a=r.getNodesByName(r.dataObj,"locale");var y=!1;for(o=0,d=r.numberofnodes(a);o<d;o+=1)if(i=a[o],!y&&r.getAttributeValue(i,"lang","xml")===t)n=i,y=!0;else{var $=r.getAttributeValue(i,"lang","xml"),I=r.getNodesByName(i,"style-options");if($&&I&&I.length){var A=r.getAttributeValue(I[0],"jurisdiction-preference");A&&(this.locale[$]||(this.locale[$]={opts:{}}),this.locale[$].opts["jurisdiction-preference"]=A.split(/\s+/))}}}for(a=r.getNodesByName(n,"type"),g=0,_=r.numberofnodes(a);g<_;g+=1){var B=a[g],T=r.getAttributeValue(B,"name"),x=r.getAttributeValue(B,"gender");this.opt.gender[T]=x}var U=r.getNodesByName(n,"term","ordinal").length;if(U){for(var O in this.locale[e].ord.keys)delete this.locale[e].terms[O];this.locale[e].ord={"1.0.1":!1,keys:{}}}a=r.getNodesByName(n,"term");var F={"last-digit":{},"last-two-digits":{},"whole-number":{}},D=!1,L={};for(o=0,d=r.numberofnodes(a);o<d;o+=1){if(l=a[o],f=r.getAttributeValue(l,"name"),f==="sub verbo"&&(f="sub-verbo"),f.slice(0,7)==="ordinal"){if(f==="ordinal")D=!0;else{var H=r.getAttributeValue(l,"match"),Y=f.slice(8),v=r.getAttributeValue(l,"gender-form");v||(v="neuter"),H||(H="last-two-digits",Y.slice(0,1)==="0"&&(H="last-digit")),Y.slice(0,1)==="0"&&(Y=Y.slice(1)),F[H][Y]||(F[H][Y]={}),F[H][Y][v]=f}this.locale[e].ord.keys[f]=!0}typeof this.locale[e].terms[f]>"u"&&(this.locale[e].terms[f]={}),u="long",v=!1,r.getAttributeValue(l,"form")&&(u=r.getAttributeValue(l,"form")),r.getAttributeValue(l,"gender-form")&&(v=r.getAttributeValue(l,"gender-form")),r.getAttributeValue(l,"gender")&&(this.locale[e]["noun-genders"][f]=r.getAttributeValue(l,"gender")),v?(this.locale[e].terms[f][v]={},this.locale[e].terms[f][v][u]=[],b=this.locale[e].terms[f][v],L[f]=!0):(this.locale[e].terms[f][u]=[],b=this.locale[e].terms[f]),r.numberofnodes(r.getNodesByName(l,"multiple"))?(b[u][0]=r.getNodeValue(l,"single"),b[u][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),b[u][1]=r.getNodeValue(l,"multiple"),b[u][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(b[u]=r.getNodeValue(l),b[u].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[e].terms.supplement||(this.locale[e].terms.supplement={}),this.locale[e].terms.supplement.long||(this.locale[e].terms.supplement.long=["supplement","supplements"]),D){for(var W in L){var z={},ne=0;for(var ue in this.locale[e].terms[W])["masculine","feminine"].indexOf(ue)>-1?z[ue]=this.locale[e].terms[W][ue]:ne+=1;if(!ne){if(z.feminine)for(var ue in z.feminine)this.locale[e].terms[W][ue]=z.feminine[ue];else if(z.masculine)for(var ue in z.masculine)this.locale[e].terms[W][ue]=z.masculine[ue]}}this.locale[e].ord["1.0.1"]=F}for(f in this.locale[e].terms)for(g=0,_=2;g<_;g+=1)if(v=p.GENDERS[g],this.locale[e].terms[f][v])for(u in this.locale[e].terms[f])this.locale[e].terms[f][v][u]||(this.locale[e].terms[f][v][u]=this.locale[e].terms[f][u]);for(a=r.getNodesByName(n,"style-options"),o=0,d=r.numberofnodes(a);o<d;o+=1){h=a[o],s=r.attributes(h);for(m in s)if(s.hasOwnProperty(m)){if(m==="@punctuation-in-quote"||m==="@limit-day-ordinals-to-day-1")s[m]==="true"?this.locale[e].opts[m.slice(1)]=!0:this.locale[e].opts[m.slice(1)]=!1;else if(m==="@jurisdiction-preference"){var K=s[m].split(/\s+/);this.locale[e].opts[m.slice(1)]=K}else if(m==="@skip-words"){var Q=s[m].split(/\s*,\s*/);this.locale[e].opts[m.slice(1)]=Q}else if(m==="@leading-noise-words"){var oe=s[m].split(/\s*,\s*/);this.locale[e].opts["leading-noise-words"]=oe}else if(m==="@name-as-sort-order"){this.locale[e].opts["name-as-sort-order"]={};for(var Ae=s[m].split(/\s+/),g=0,_=Ae.length;g<_;g+=1)this.locale[e].opts["name-as-sort-order"][Ae[g]]=!0}else if(m==="@name-as-reverse-order"){this.locale[e].opts["name-as-reverse-order"]={};for(var Ae=s[m].split(/\s+/),g=0,_=Ae.length;g<_;g+=1)this.locale[e].opts["name-as-reverse-order"][Ae[g]]=!0}else if(m==="@name-never-short"){this.locale[e].opts["name-never-short"]={};for(var Ae=s[m].split(/\s+/),g=0,_=Ae.length;g<_;g+=1)this.locale[e].opts["name-never-short"][Ae[g]]=!0}}}for(a=r.getNodesByName(n,"date"),o=0,d=r.numberofnodes(a);o<d;o+=1){var c=a[o];this.locale[e].dates[r.getAttributeValue(c,"form")]=c}p.SET_COURT_CLASSES(this,e,r,n)};p.getLocaleNames=function(r,t){var e=p.setupXml(r);function i(h,c){var m=["base","best"];if(c)for(var d=p.localeResolve(c),v=0,b=m.length;v<b;v++)d[m[v]]&&h.indexOf(d[m[v]])===-1&&h.push(d[m[v]])}var n=["en-US"];function a(h){for(var c=e.getNodesByName(e.dataObj,h),m=0,d=c.length;m<d;m++){var v=e.getAttributeValue(c[m],"locale");if(v){v=v.split(/ +/);for(var b=0,g=v.length;b<g;b++)this.extendLocaleList(n,v[b])}}}i(n,t);var s=e.getNodesByName(e.dataObj,"style")[0],o=e.getAttributeValue(s,"default-locale");i(n,o);for(var l=["layout","if","else-if","condition"],u=0,f=l.length;u<f;u++)a(e);return n};p.Node={};p.Node.bibliography={build:function(r,t){if(this.tokentype===p.START){r.build.area="bibliography",r.build.root="bibliography",r.build.extension="";var e=function(i){i.tmp.area="bibliography",i.tmp.root="bibliography",i.tmp.extension=""};this.execs.push(e)}t.push(this)}};p.Node.choose={build:function(r,t){var e;this.tokentype===p.START&&(e=function(i){i.tmp.jump.push(void 0,p.LITERAL)}),this.tokentype===p.END&&(e=function(i){i.tmp.jump.pop()}),this.execs.push(e),t.push(this)},configure:function(r,t){this.tokentype===p.END?(r.configure.fail.push(t),r.configure.succeed.push(t)):(r.configure.fail.pop(),r.configure.succeed.pop())}};p.Node.citation={build:function(r,t){if(this.tokentype===p.START){r.build.area="citation",r.build.root="citation",r.build.extension="";var e=function(n){n.tmp.area="citation",n.tmp.root="citation",n.tmp.extension=""};this.execs.push(e)}if(this.tokentype===p.END){if(r.opt.grouped_sort=r.opt.xclass==="in-text"&&r.citation.opt.collapse&&r.citation.opt.collapse.length||r.citation.opt.cite_group_delimiter&&r.citation.opt.cite_group_delimiter.length&&r.opt.update_mode!==p.POSITION&&r.opt.update_mode!==p.NUMERIC,r.opt.grouped_sort&&r.citation_sort.opt.sort_directions.length){var i=r.citation_sort.opt.sort_directions[0].slice();r.citation_sort.opt.sort_directions=[i].concat(r.citation_sort.opt.sort_directions)}r.citation.srt=new p.Registry.Comparifier(r,"citation_sort")}t.push(this)}};p.Node["#comment"]={build:function(){}};p.Node.date={build:function(r,t){var e,i,n,a,s,o,l,u,f,h;(this.tokentype===p.START||this.tokentype===p.SINGLETON)&&(r.dateput.string(r,r.dateput.queue),r.tmp.date_token=p.Util.cloneToken(this),r.tmp.date_token.strings.prefix="",r.tmp.date_token.strings.suffix="",r.dateput.openLevel(this),r.build.date_parts=[],r.build.date_variables=this.variables,r.build.extension||p.Util.substituteStart.call(this,r,t),r.build.extension?e=p.dateMacroAsSortKey:e=function(c,m,d){var v;if(c.tmp.element_rendered_ok=!1,c.tmp.donesies=[],c.tmp.dateparts=[],v=[],this.variables.length&&!(c.tmp.just_looking&&this.variables[0]==="accessed")){for(i=m[this.variables[0]],typeof i>"u"&&(i={"date-parts":[[0]]},c.opt.development_extensions.locator_date_and_revision&&d&&this.variables[0]==="locator-date"&&d["locator-date"]&&(i=d["locator-date"])),c.tmp.date_object=i,n=this.dateparts.length,a=0;a<n;a+=1)s=this.dateparts[a],(typeof c.tmp.date_object[s+"_end"]<"u"||s==="month"&&typeof c.tmp.date_object.season_end<"u")&&v.push(s);for(o=[],l=["year","month","day"],n=l.length,a=0;a<n;a+=1)v.indexOf(l[a])>-1&&o.push(l[a]);for(v=o.slice(),u=2,n=v.length,a=0;a<n;a+=1)if(s=v[a],f=c.tmp.date_object[s],h=c.tmp.date_object[s+"_end"],f!==h){u=a;break}c.tmp.date_collapse_at=v.slice(u)}else c.tmp.date_object=!1},this.execs.push(e),e=function(c,m){if(m[this.variables[0]]&&(c.output.startTag("date",this),this.variables[0]==="issued"&&(m.type==="legal_case"||m.type==="legislation")&&c.opt.disable_duplicate_year_suppression.indexOf(m.country)===-1&&!c.tmp.extension&&""+m["collection-number"]==""+c.tmp.date_object.year&&this.dateparts.length===1&&this.dateparts[0]==="year")){for(var d in c.tmp.date_object)if(c.tmp.date_object.hasOwnProperty(d)&&d.slice(0,4)==="year"){c.tmp.issued_date={};var v=c.output.current.mystack.slice(-2)[0].blobs;c.tmp.issued_date.list=v,c.tmp.issued_date.pos=v.length-1}}},this.execs.push(e)),!r.build.extension&&(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(e=function(c,m){m[this.variables[0]]&&c.output.endTag()},this.execs.push(e)),t.push(this),(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(r.build.extension||p.Util.substituteEnd.call(this,r,t))}};p.Node["date-part"]={build:function(r,t){var e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$,I,A;this.strings.form||(this.strings.form="long"),r.build.date_parts.push(this.strings.name);var B=r.build.date_variables[0];function T(x,U,O){if(!O)return O;if(O=""+p.Util.Dates[this.strings.name][x](r,O,U,this.default_locale),this.strings.name==="month"){if(r.tmp.strip_periods)O=O.replace(/\./g,"");else for(var F=0,D=this.decorations.length;F<D;F+=1)if(this.decorations[F][0]==="@strip-periods"&&this.decorations[F][1]==="true"){O=O.replace(/\./g,"");break}}return O}e=function(x,U){if(x.tmp.date_object)x.tmp.probably_rendered_something=!0;else return;var O="";if(a=!0,s="",o="",x.tmp.donesies.push(this.strings.name),x.tmp.date_object.literal&&this.strings.name==="year"&&(O=x.tmp.date_object.literal,x.output.append(x.tmp.date_object.literal,this)),x.tmp.date_object&&(s=x.tmp.date_object[this.strings.name],o=x.tmp.date_object[this.strings.name+"_end"]),this.strings.name==="year"&&s===0&&!x.tmp.suppress_decorations&&(s=!1),l=!x.tmp.suppress_decorations,u=x.tmp.have_collapsed,f=x[x.tmp.area].opt.collapse==="year-suffix"||x[x.tmp.area].opt.collapse==="year-suffix-ranged",h=x.opt["disambiguate-add-year-suffix"],l&&h&&f&&(x.tmp.years_used.push(s),c=x.tmp.last_years_used.length>=x.tmp.years_used.length,c&&u&&x.tmp.last_years_used[x.tmp.years_used.length-1]===s&&(s=!1)),typeof s<"u"){m=!1,d=!1,this.strings.name==="year"&&(parseInt(s,10)<500&&parseInt(s,10)>0&&(d=x.getTerm("ad")),parseInt(s,10)<0&&(m=x.getTerm("bc"),s=parseInt(s,10)*-1),o&&(parseInt(o,10)<500&&parseInt(o,10)>0&&x.getTerm("ad"),parseInt(o,10)<0&&(x.getTerm("bc"),o=parseInt(o,10)*-1)));for(var F=""+x.tmp.date_object.month;F.length<2;)F="0"+F;F="month-"+F;var D=x.locale[x.opt.lang]["noun-genders"][F];if(this.strings.form){var L=this.strings.form,H=this.strings.form;this.strings.name==="day"&&L==="ordinal"&&x.locale[x.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(s!=1&&(L="numeric"),o!=1&&(H="numeric")),s=T.call(this,L,D,s),o=T.call(this,H,D,o)}if(x.output.openLevel("empty"),x.tmp.date_collapse_at.length){for(v=!0,n=x.tmp.date_collapse_at.length,i=0;i<n;i+=1)if(I=x.tmp.date_collapse_at[i],x.tmp.donesies.indexOf(I)===-1){v=!1;break}if(v){if(""+o!="0"){if(x.dateput.queue.length===0&&(a=!0),x.opt["year-range-format"]&&x.opt["year-range-format"]!=="expanded"&&!x.tmp.date_object.day&&!x.tmp.date_object.month&&!x.tmp.date_object.season&&this.strings.name==="year"&&s&&o){o=x.fun.year_mangler(s+"-"+o,!0);var Y=x.getTerm("year-range-delimiter");o=o.slice(o.indexOf(Y)+1)}O=o,x.dateput.append(o,this),a&&(A=x.dateput.current.value().blobs[0],A&&(A.strings.prefix=""))}O=s,x.output.append(s,this),b=x.output.current.value(),A=b.blobs[b.blobs.length-1],A&&(A.strings.suffix=""),this.strings["range-delimiter"]?x.output.append(this.strings["range-delimiter"]):x.output.append(x.getTerm("year-range-delimiter"),"empty"),x.dateput.closeLevel(),g=x.dateput.current.value(),b.blobs=b.blobs.concat(g),x.dateput.string(x,x.dateput.queue),x.dateput.openLevel(x.tmp.date_token),x.tmp.date_collapse_at=[]}else O=s,x.output.append(s,this),x.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+o!="0"&&(x.dateput.queue.length===0&&(a=!0),x.dateput.openLevel("empty"),O=o,x.dateput.append(o,this),a&&(A=x.dateput.current.value().blobs[0],A&&(A.strings.prefix="")),m&&(O=m,x.dateput.append(m)),d&&(O=d,x.dateput.append(d)),x.dateput.closeLevel())}else O=s,x.output.append(s,this);m&&(O=m,x.output.append(m)),d&&(O=d,x.output.append(d)),x.output.closeLevel()}else this.strings.name==="month"&&x.tmp.date_object.season&&(s=""+x.tmp.date_object.season,s&&s.match(/^[1-4]$/)?(x.tmp.group_context.tip.variable_success=!0,O="winter",x.output.append(x.getTerm("season-0"+s),this)):s&&(O=s,x.output.append(s,this)));x.tmp.value=[],U[B]&&(s||x.tmp.have_collapsed)&&!x.opt.has_year_suffix&&this.strings.name==="year"&&!x.tmp.just_looking&&x.registry.registry[U.id]&&x.registry.registry[U.id].disambig.year_suffix!==!1&&!x.tmp.has_done_year_suffix&&(x.tmp.has_done_year_suffix=!0,O="x",y=parseInt(x.registry.registry[U.id].disambig.year_suffix,10),_=new p.NumericBlob(x,!1,y,this,U.id),this.successor_prefix=x[x.build.area].opt.layout_delimiter,this.splice_prefix=x[x.build.area].opt.layout_delimiter,$=new p.Util.Suffixator(p.SUFFIX_CHARS),_.setFormatter($),x[x.tmp.area].opt.collapse==="year-suffix-ranged"&&(_.range_prefix=x.getTerm("citation-range-delimiter")),x[x.tmp.area].opt.cite_group_delimiter?_.successor_prefix=x[x.tmp.area].opt.cite_group_delimiter:x[x.tmp.area].opt["year-suffix-delimiter"]?_.successor_prefix=x[x.tmp.area].opt["year-suffix-delimiter"]:_.successor_prefix=x[x.tmp.area].opt.layout_delimiter,_.UGLY_DELIMITER_SUPPRESS_HACK=!0,x.output.append(_,"literal")),O&&!x.tmp.group_context.tip.condition&&(x.tmp.just_did_number=O.match(/[0-9]$/),x.output.current.tip.strings.suffix&&(x.tmp.just_did_number=!1))},this.execs.push(e),t.push(this)}};p.Node["else-if"]={build:function(r,t){p.Conditions.TopNode.call(this,r,t),t.push(this)},configure:function(r,t){p.Conditions.Configure.call(this,r,t)}};p.Node.else={build:function(r,t){t.push(this)},configure:function(r,t){this.tokentype===p.START&&(r.configure.fail[r.configure.fail.length-1]=t)}};p.Node["et-al"]={build:function(r,t){if(r.build.area==="citation"||r.build.area==="bibliography"){var e=function(i){i.tmp.etal_node=this,typeof this.strings.term=="string"&&(i.tmp.etal_term=this.strings.term)};this.execs.push(e)}t.push(this)}};p.Node.group={build:function(r,t,e){var i,n;if(this.realGroup=e,this.tokentype===p.START&&(p.Util.substituteStart.call(this,r,t),r.build.substitute_level.value()&&r.build.substitute_level.replace(r.build.substitute_level.value()+1),this.juris||t.push(this),i=function(c){if(c.output.startTag("group",this),this.strings.label_form_override&&(c.tmp.group_context.tip.label_form||(c.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(c.tmp.group_context.tip.label_capitalize_if_first||(c.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){c.tmp.group_context.tip.condition&&p.UPDATE_GROUP_CONTEXT_CONDITION(c,this.strings.prefix,null,this);var m=!1,d=!1;c.tmp.group_context.mystack.length&&(c.output.current.value().parent=c.tmp.group_context.tip.output_tip);var v=c.tmp.group_context.tip.label_form;v||(v=this.strings.label_form_override);var b=c.tmp.group_context.tip.label_capitalize_if_first;b||(b=this.strings.label_capitalize_if_first),c.tmp.group_context.tip.condition?(m=c.tmp.group_context.tip.condition,d=c.tmp.group_context.tip.force_suppress):this.strings.reject?m={test:this.strings.reject,not:!0}:this.strings.require&&(m={test:this.strings.require,not:!1});var g={old_term_predecessor:c.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:c.tmp.group_context.tip.variable_success,output_tip:c.output.current.tip,label_form:v,label_static:c.tmp.group_context.tip.label_static,label_capitalize_if_first:b,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:m,force_suppress:d,done_vars:c.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var _=c.tmp.group_context.tip.non_parallel;_||(_={}),Object.assign(_,this.non_parallel),g.non_parallel=_}if(this.parallel_first){var y=c.tmp.group_context.tip.parallel_first;y||(y={}),Object.assign(y,this.parallel_first),g.parallel_first=y}if(this.parallel_last){var $=c.tmp.group_context.tip.parallel_last;$||($={}),Object.assign($,this.parallel_last),g.parallel_last=$}if(c.tmp.abbrev_trimmer&&c.tmp.abbrev_trimmer.LAST_TO_FIRST&&g.parallel_last){g.parallel_first||(g.parallel_first={});for(var I in c.tmp.abbrev_trimmer.LAST_TO_FIRST)g.parallel_last[I]&&(g.parallel_first[I]=!0,delete g.parallel_last[I])}if(c.tmp.group_context.push(g),c.tmp.abbrev_trimmer&&this.parallel_last_to_first){c.tmp.abbrev_trimmer.LAST_TO_FIRST||(c.tmp.abbrev_trimmer.LAST_TO_FIRST={});for(var I in this.parallel_last_to_first)c.tmp.abbrev_trimmer.LAST_TO_FIRST[I]=!0}}},n=[],n.push(i),this.execs=n.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(r.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(i=function(c,m){if(m.publisher&&m["publisher-place"]){var d=m.publisher.split(/;\s*/),v=m["publisher-place"].split(/;\s*/);d.length>1&&d.length===v.length&&(c.publisherOutput=new p.PublisherOutput(c,this),c.publisherOutput["publisher-list"]=d,c.publisherOutput["publisher-place-list"]=v)}},this.execs.push(i))),this.juris)){var a=new p.Token("choose",p.START);p.Node.choose.build.call(a,r,t);var s=new p.Token("if",p.START);i=function(c){return function(m,d){return p.INIT_JURISDICTION_MACROS(r,m,d,c)}}(this.juris),s.tests||(s.tests=[]),s.tests.push(i),s.test=r.fun.match.any(s,r,s.tests),t.push(s);var o=new p.Token("text",p.SINGLETON);i=function(c,m,d){var v=m;d&&d["best-jurisdiction"]&&this.juris==="juris-locator"&&(v=d);var b=0;if(c.juris[v["best-jurisdiction"]][this.juris])for(;b<c.juris[v["best-jurisdiction"]][this.juris].length;)b=p.tokenExec.call(c,c.juris[v["best-jurisdiction"]][this.juris][b],m,d)},o.juris=this.juris,o.execs.push(i),t.push(o);var l=new p.Token("if",p.END);p.Node.if.build.call(l,r,t);var u=new p.Token("else",p.START);p.Node.else.build.call(u,r,t)}if(this.tokentype===p.END&&(r.build["publisher-special"]&&(r.build["publisher-special"]=!1,i=function(c){c.publisherOutput&&(c.publisherOutput.render(),c.publisherOutput=!1)},this.execs.push(i)),i=function(c,m,d){if(c.tmp.group_context.tip.condition||c.output.current.tip.strings.suffix&&(c.tmp.just_did_number=!1),c.output.endTag(),this.realGroup){var v=c.tmp.group_context.pop();if(v.parallel_delimiter_override&&(c.tmp.group_context.tip.parallel_delimiter_override=v.parallel_delimiter_override,!c.tmp.just_looking&&c.registry.registry[m.id].master&&(c.registry.registry[m.id].parallel_delimiter_override=v.parallel_delimiter_override)),v.parallel_delimiter_override_on_suppress&&(c.tmp.group_context.tip.parallel_delimiter_override_on_suppress=v.parallel_delimiter_override_on_suppress),c.tmp.area==="bibliography_sort"){var b=v.done_vars.indexOf("citation-number");this.strings.sort_direction&&b>-1&&c.tmp.group_context.length()==1&&(this.strings.sort_direction===p.DESCENDING?c.bibliography_sort.opt.citation_number_sort_direction=p.DESCENDING:c.bibliography_sort.opt.citation_number_sort_direction=p.ASCENDING,v.done_vars=v.done_vars.slice(0,b).concat(v.done_vars.slice(b+1)))}if(v.condition&&(v.force_suppress=p.EVALUATE_GROUP_CONDITION(c,v)),c.tmp.group_context.tip.condition&&(c.tmp.group_context.tip.force_suppress=v.force_suppress),!v.force_suppress&&(v.variable_success||v.term_intended&&!v.variable_attempt)){this.isJurisLocatorLabel||(c.tmp.group_context.tip.variable_success=!0);var g=c.output.current.value().blobs;if(c.output.current.value().blobs.length-1,!c.tmp.just_looking&&(v.non_parallel||v.parallel_last||v.parallel_first||v.parallel_delimiter_override||v.parallel_delimiter_override_on_suppress)){var _=c.parallel.checkRepeats(v);if(_&&g&&g.pop(),c.tmp.cite_index>0&&(_||!v.parallel_first&&!v.parallel_last&&!v.non_parallel)){var y=c.tmp.suppress_repeats[c.tmp.cite_index-1];_&&v.parallel_delimiter_override_on_suppress&&(y.SIBLING||y.ORPHAN)?c.output.queue.slice(-1)[0].parallel_delimiter=v.parallel_delimiter_override_on_suppress:v.parallel_delimiter_override&&y.SIBLING&&(c.output.queue.slice(-1)[0].parallel_delimiter=v.parallel_delimiter_override)}}}else{if(c.tmp.term_predecessor=v.old_term_predecessor,c.tmp.group_context.tip.variable_attempt=v.variable_attempt,v.force_suppress&&!c.tmp.group_context.tip.condition&&(c.tmp.group_context.tip.variable_attempt=!0,c.tmp.group_context.tip.variable_success=v.variable_success_parent),v.force_suppress)for(var $=0,I=v.done_vars.length;$<I;$++)for(var A=v.done_vars[$],B=0,T=c.tmp.done_vars.length;B<T;B++)c.tmp.done_vars[B]===A&&(c.tmp.done_vars=c.tmp.done_vars.slice(0,B).concat(c.tmp.done_vars.slice(B+1)));c.output.current.value().blobs&&c.output.current.value().blobs.pop()}}},this.execs.push(i),this.juris)){var f=new p.Token("else",p.END);p.Node.else.build.call(f,r,t);var h=new p.Token("choose",p.END);p.Node.choose.build.call(h,r,t)}this.tokentype===p.END&&(this.juris||t.push(this),r.build.substitute_level.value()&&r.build.substitute_level.replace(r.build.substitute_level.value()-1),p.Util.substituteEnd.call(this,r,t))}};p.Node.if={build:function(r,t){p.Conditions.TopNode.call(this,r,t),t.push(this)},configure:function(r,t){p.Conditions.Configure.call(this,r,t)}};p.Node.conditions={build:function(r){this.tokentype===p.START&&r.tmp.conditions.addMatch(this.match),this.tokentype===p.END&&r.tmp.conditions.matchCombine()}};p.Node.condition={build:function(r){if(this.tokentype===p.SINGLETON){var t=r.fun.match[this.match](this,r,this.tests);r.tmp.conditions.addTest(t)}}};p.Conditions={};p.Conditions.TopNode=function(r){var t;(this.tokentype===p.START||this.tokentype===p.SINGLETON)&&(this.locale&&(r.opt.lang=this.locale),!this.tests||!this.tests.length?r.tmp.conditions=new p.Conditions.Engine(r,this):this.test=r.fun.match[this.match](this,r,this.tests),r.build.substitute_level.value()===0&&(t=function(e){e.tmp.condition_counter++},this.execs.push(t))),(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(r.build.substitute_level.value()===0&&(t=function(e){if(e.tmp.condition_counter--,e.tmp.condition_lang_counter_arr.length>0){var i=e.tmp.condition_lang_counter_arr.slice(-1)[0];i===e.tmp.condition_counter&&(e.opt.lang=e.tmp.condition_lang_val_arr.pop(),e.tmp.condition_lang_counter_arr.pop())}this.locale_default&&(e.output.current.value().old_locale=this.locale_default,e.output.closeLevel("empty"),e.opt.lang=this.locale_default)},this.execs.push(t)),t=function(e){var i=this[e.tmp.jump.value()];return i},this.execs.push(t),this.locale_default&&(r.opt.lang=this.locale_default))};p.Conditions.Configure=function(r,t){this.tokentype===p.START?(this.fail=r.configure.fail.slice(-1)[0],this.succeed=this.next,r.configure.fail[r.configure.fail.length-1]=t):this.tokentype===p.SINGLETON?(this.fail=this.next,this.succeed=r.configure.succeed.slice(-1)[0],r.configure.fail[r.configure.fail.length-1]=t):(this.succeed=r.configure.succeed.slice(-1)[0],this.fail=this.next)};p.Conditions.Engine=function(r,t){this.token=t,this.state=r};p.Conditions.Engine.prototype.addTest=function(r){this.token.tests||(this.token.tests=[]),this.token.tests.push(r)};p.Conditions.Engine.prototype.addMatch=function(r){this.token.match=r};p.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)};p.Node.info={build:function(r){this.tokentype===p.START?r.build.skip="info":r.build.skip=!1}};p.Node.institution={build:function(r,t){if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){var e=function(i){typeof this.strings.delimiter=="string"?i.tmp.institution_delimiter=this.strings.delimiter:i.tmp.institution_delimiter=i.tmp.name_delimiter,i.inheritOpt(this,"and")==="text"?this.and_term=i.getTerm("and","long",0):i.inheritOpt(this,"and")==="symbol"?i.opt.development_extensions.expect_and_symbol_form?this.and_term=i.getTerm("and","symbol",0):this.and_term="&":i.inheritOpt(this,"and")==="none"&&(this.and_term=i.tmp.institution_delimiter),typeof this.and_term>"u"&&i.tmp.and_term&&(this.and_term=i.tmp.and_term),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof i.tmp.institution_delimiter=="string"&&(this.and_prefix_multiple=i.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),i.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=i.tmp.institution_delimiter:i.inheritOpt(this,"delimiter-precedes-last")==="never"&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},typeof this.and_term<"u"?(i.output.append(this.and_term,"empty",!0),this.and.single=i.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,i.output.append(this.and_term,"empty",!0),this.and.multiple=i.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):this.strings.delimiter!=="undefined"&&(this.and.single=new p.Blob(i.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(i.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),i.nameOutput.institution=this};this.execs.push(e)}t.push(this)},configure:function(r){[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(r.build.has_institution=!0)}};p.Node["institution-part"]={build:function(r,t){var e;this.strings.name==="long"?this.strings["if-short"]?e=function(i){i.nameOutput.institutionpart["long-with-short"]=this}:e=function(i){i.nameOutput.institutionpart.long=this}:this.strings.name==="short"&&(e=function(i){i.nameOutput.institutionpart.short=this}),this.execs.push(e),t.push(this)}};p.Node.key={build:function(r,t){t=r[r.build.root+"_sort"].tokens;var e,i=new p.Token("key",p.START);r.tmp.root=r.build.root,i.strings["et-al-min"]=r.inheritOpt(this,"et-al-min"),i.strings["et-al-use-first"]=r.inheritOpt(this,"et-al-use-first"),i.strings["et-al-use-last"]=r.inheritOpt(this,"et-al-use-last"),e=function(g){g.tmp.done_vars=[]},i.execs.push(e),e=function(g){g.output.openLevel("empty")},i.execs.push(e);var n=[];if(this.strings.sort_direction===p.DESCENDING?(n.push(1),n.push(-1)):(n.push(-1),n.push(1)),r[r.build.area].opt.sort_directions.push(n),p.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(r.build.date_key=!0),e=function(g){g.tmp.sort_key_flag=!0,g.inheritOpt(this,"et-al-min")&&(g.tmp["et-al-min"]=g.inheritOpt(this,"et-al-min")),g.inheritOpt(this,"et-al-use-first")&&(g.tmp["et-al-use-first"]=g.inheritOpt(this,"et-al-use-first")),typeof g.inheritOpt(this,"et-al-use-last")=="boolean"&&(g.tmp["et-al-use-last"]=g.inheritOpt(this,"et-al-use-last"))},i.execs.push(e),t.push(i),this.variables.length){var a=this.variables[0];if(p.NAME_VARIABLES.indexOf(a)>-1){var s=new p.Token("names",p.START);s.tokentype=p.START,s.variables=this.variables,p.Node.names.build.call(s,r,t);var o=new p.Token("name",p.SINGLETON);o.tokentype=p.SINGLETON,o.strings["name-as-sort-order"]="all",o.strings["sort-separator"]=" ",o.strings["et-al-use-last"]=r.inheritOpt(this,"et-al-use-last"),o.strings["et-al-min"]=r.inheritOpt(this,"et-al-min"),o.strings["et-al-use-first"]=r.inheritOpt(this,"et-al-use-first"),p.Node.name.build.call(o,r,t);var l=new p.Token("institution",p.SINGLETON);l.tokentype=p.SINGLETON,p.Node.institution.build.call(l,r,t);var u=new p.Token("names",p.END);u.tokentype=p.END,p.Node.names.build.call(u,r,t)}else{var f=new p.Token("text",p.SINGLETON);if(f.strings.sort_direction=this.strings.sort_direction,f.dateparts=this.dateparts,p.NUMERIC_VARIABLES.indexOf(a)>-1)a==="citation-number"?e=function(g,_){if(g.tmp.area==="bibliography_sort"&&(this.strings.sort_direction===p.DESCENDING?g.bibliography_sort.opt.citation_number_sort_direction=p.DESCENDING:g.bibliography_sort.opt.citation_number_sort_direction=p.ASCENDING),g.tmp.area==="citation_sort"&&g.bibliography_sort.tmp.citation_number_map)var y=g.bibliography_sort.tmp.citation_number_map[g.registry.registry[_.id].seq];else var y=g.registry.registry[_.id].seq;y&&(y=p.Util.padding(""+y)),g.output.append(y,this)}:e=function(g,_){var y=!1;y=_[a],y&&(y=p.Util.padding(y)),g.output.append(y,this)};else if(a==="citation-label")e=function(g,_){var y=g.getCitationLabel(_);g.output.append(y,this)};else if(p.DATE_VARIABLES.indexOf(a)>-1)e=p.dateAsSortKey,f.variables=this.variables;else if(a==="title"){var h="title",c=!1,m=!1,d=!0;e=r.transform.getOutputFunction(this.variables,h,c,m,d)}else a==="court-class"?e=function(g,_,y){p.INIT_JURISDICTION_MACROS(g,_,y,"juris-main");var $=p.GET_COURT_CLASS(g,_,!0);g.output.append($,"empty")}:e=function(g,_){var y=_[a];g.output.append(y,"empty")};f.execs.push(e),t.push(f)}}else{var v=new p.Token("text",p.SINGLETON);v.strings.sort_direction=this.strings.sort_direction,v.postponed_macro=this.postponed_macro,p.expandMacro.call(r,v,t)}var b=new p.Token("key",p.END);e=function(g){var _=g.output.string(g,g.output.queue);g.sys.normalizeUnicode&&(_=g.sys.normalizeUnicode(_)),_=_?_.split(" ").join(g.opt.sort_sep)+g.opt.sort_sep:"",_===""&&(_=void 0),typeof _!="string"&&(_=void 0),g[g[g.tmp.area].root+"_sort"].keys.push(_),g.tmp.value=[]},b.execs.push(e),r.build.date_key&&(r.build.area==="citation"&&r.build.extension==="_sort"&&(r[r.build.area].opt.sort_directions.push([-1,1]),e=function(g,_){var y=g.registry.registry[_.id].disambig.year_suffix;y||(y=0);var $=p.Util.padding(""+y);g[g.tmp.area].keys.push($)},b.execs.push(e)),r.build.date_key=!1),e=function(g){g.tmp["et-al-min"]=void 0,g.tmp["et-al-use-first"]=void 0,g.tmp["et-al-use-last"]=void 0,g.tmp.sort_key_flag=!1},b.execs.push(e),t.push(b)}};p.Node.label={build:function(r,t){if(this.strings.term){var e=function(o,l,u){var f=p.evaluateLabel(this,o,l,u);u&&this.strings.term==="locator"&&(u.section_form_override=this.strings.form),f&&(o.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(o,f,null,this),f.indexOf("%s")===-1&&(this.strings.capitalize_if_first&&!o.tmp.term_predecessor&&!(o.opt.class==="in-text"&&o.tmp.area==="citation")&&(f=p.Output.Formatters["capitalize-first"](o,f)),o.output.append(f,this))};this.execs.push(e)}else{this.strings.form||(this.strings.form="long");for(var i=r.build.names_variables[r.build.names_variables.length-1],n=r.build.name_label[r.build.name_label.length-1],a=0,s=i.length;a<s;a+=1)n[i[a]]||(n[i[a]]={});if(r.build.name_flag)for(var a=0,s=i.length;a<s;a+=1)n[i[a]].after=this;else for(var a=0,s=i.length;a<s;a+=1)n[i[a]].before=this}t.push(this)}};p.Node.layout={build:function(r,t){var e,i,n,a;function s(){r.build.area==="bibliography"&&(n=new p.Token("text",p.SINGLETON),e=function(u){if(!u.tmp.parallel_and_not_last){var f;u.tmp.cite_affixes[u.tmp.area][u.tmp.last_cite_locale]?f=u.tmp.cite_affixes[u.tmp.area][u.tmp.last_cite_locale].suffix:f=u.bibliography.opt.layout_suffix;var h=u.output.current.value();u.opt.using_display?h.blobs[h.blobs.length-1].strings.suffix=f:h.strings.suffix=f}u.bibliography.opt["second-field-align"]&&u.output.endTag("bib_other")},n.execs.push(e),t.push(n))}this.tokentype===p.START&&(this.locale_raw?r.build.current_default_locale=this.locale_raw:r.build.current_default_locale=r.opt["default-locale"],e=function(u,f,h){if(u.opt.development_extensions.apply_citation_wrapper&&u.sys.wrapCitationEntry&&!u.tmp.just_looking&&f.system_id&&u.tmp.area==="citation"){var c=new p.Token("group",p.START);c.decorations=[["@cite","entry"]],u.output.startTag("cite_entry",c),u.output.current.value().item_id=f.system_id,h&&(u.output.current.value().locator_txt=h.locator_txt,u.output.current.value().suffix_txt=h.suffix_txt)}},this.execs.push(e)),this.tokentype===p.START&&!r.tmp.cite_affixes[r.build.area]&&(e=function(u,f,h){if(u.tmp.done_vars=[],h&&h["author-only"]&&u.tmp.done_vars.push("locator"),u.opt.suppressedJurisdictions[f.country]&&f.country&&["treaty","patent"].indexOf(f.type)===-1&&u.tmp.done_vars.push("country"),!u.tmp.just_looking&&u.registry.registry[f.id]&&u.registry.registry[f.id].parallel&&u.tmp.done_vars.push("first-reference-note-number"),!u.tmp.just_looking&&u.tmp.abbrev_trimmer&&f.jurisdiction)for(var c in u.tmp.abbrev_trimmer.QUASHES[f.jurisdiction])u.tmp.done_vars.push(c);u.tmp.rendered_name=!1},this.execs.push(e),e=function(u){u.tmp.sort_key_flag=!1},this.execs.push(e),e=function(u){u.tmp.nameset_counter=0},this.execs.push(e),e=function(u,f){var h=new p.Token;u.output.openLevel(h)},this.execs.push(e),t.push(this),r.build.area==="citation"&&(i=new p.Token("text",p.SINGLETON),e=function(u,f,h){if(h&&h.prefix){var c=p.checkPrefixSpaceAppend(u,h.prefix);u.tmp.just_looking||(c=u.output.checkNestedBrace.update(c));var m=p.checkIgnorePredecessor(u,c);u.output.append(c,this,!1,m)}},i.execs.push(e),t.push(i)));var o;if(this.locale_raw&&(o=new p.Token("dummy",p.START),o.locale=this.locale_raw,o.strings.delimiter=this.strings.delimiter,o.strings.suffix=this.strings.suffix,r.tmp.cite_affixes[r.build.area]||(r.tmp.cite_affixes[r.build.area]={})),this.tokentype===p.START&&(r.build.layout_flag=!0,this.locale_raw||(r[r.tmp.area].opt.topdecor=[this.decorations],r[r.tmp.area+"_sort"].opt.topdecor=[this.decorations],r[r.build.area].opt.layout_prefix=this.strings.prefix,r[r.build.area].opt.layout_suffix=this.strings.suffix,r[r.build.area].opt.layout_delimiter=this.strings.delimiter,r[r.build.area].opt.layout_decorations=this.decorations,r.tmp.cite_affixes[r.build.area]&&(a=new p.Token("else",p.START),p.Node.else.build.call(a,r,t))),this.locale_raw)){if(r.build.layout_locale_flag)o.name="else-if",p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node["else-if"].build.call(o,r,t);else{var l=new p.Token("choose",p.START);p.Node.choose.build.call(l,r,t),o.name="if",p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node.if.build.call(o,r,t)}r.tmp.cite_affixes[r.build.area][o.locale]={},r.tmp.cite_affixes[r.build.area][o.locale].delimiter=this.strings.delimiter,r.tmp.cite_affixes[r.build.area][o.locale].suffix=this.strings.suffix}this.tokentype===p.END&&(this.locale_raw&&(s(),r.build.layout_locale_flag?(o.name="else-if",o.tokentype=p.END,p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node["else-if"].build.call(o,r,t)):(o.name="if",o.tokentype=p.END,p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node.if.build.call(o,r,t),r.build.layout_locale_flag=!0)),this.locale_raw||(s(),r.tmp.cite_affixes[r.build.area]&&r.build.layout_locale_flag&&(a=new p.Token("else",p.END),p.Node.else.build.call(a,r,t),a=new p.Token("choose",p.END),p.Node.choose.build.call(a,r,t)),r.build_layout_locale_flag=!0,r.build.area==="citation"&&(n=new p.Token("text",p.SINGLETON),e=function(u,f,h){if(h&&h.suffix){var c=p.checkSuffixSpacePrepend(u,h.suffix);u.tmp.just_looking||(c=u.output.checkNestedBrace.update(c)),u.output.append(c,this)}},n.execs.push(e),t.push(n)),e=function(u){u.output.closeLevel()},this.execs.push(e),e=function(u,f){u.opt.development_extensions.apply_citation_wrapper&&u.sys.wrapCitationEntry&&!u.tmp.just_looking&&f.system_id&&u.tmp.area==="citation"&&u.output.endTag()},this.execs.push(e),t.push(this),r.build.layout_flag=!1,r.build.layout_locale_flag=!1))}};p.Node.macro={build:function(){}};p.Node.alternative={build:function(r,t){if(this.tokentype===p.START){var e=new p.Token("choose",p.START);p.Node.choose.build.call(e,r,t);var i=new p.Token("if",p.START);p.Attributes["@alternative-node-internal"].call(i,r),p.Node.if.build.call(i,r,t);var n=function(a,s){if(a.tmp.oldItem=s,a.tmp.oldLang=a.opt.lang,a.tmp.abort_alternative=!0,s["language-name"]&&s["language-name-original"]){var o=JSON.parse(JSON.stringify(s));o.language=o["language-name"];var l=p.localeResolve(o.language,a.opt["default-locale"][0]);if(a.opt.multi_layout)for(var u in a.opt.multi_layout){var f=a.opt.multi_layout[u],h=!1;for(var c in f){var m=f[c];if(l.best===m.best||l.base===m.base||l.bare===m.bare){h=f[0].best;break}}h||(h=a.opt["default-locale"][0]),a.opt.lang=h}for(var d in o)if(["id","type","language","multi"].indexOf(d)===-1&&d.slice(0,4)!=="alt-")if(o.multi&&o.multi._keys[d]){var v=!0;for(var b in o.multi._keys[d])if(l.bare===b.replace(/^([a-zA-Z]+).*/,"$1")){v=!1;break}v&&delete o[d]}else delete o[d];for(var d in o)d.slice(0,4)==="alt-"?(o[d.slice(4)]=o[d],a.tmp.abort_alternative=!1):o.multi&&o.multi._keys&&!o["alt-"+d]&&o.multi._keys[d]&&(o.multi._keys[d][l.best]?(o[d]=o.multi._keys[d][l.best],a.tmp.abort_alternative=!1):o.multi._keys[d][l.base]?(o[d]=o.multi._keys[d][l.base],a.tmp.abort_alternative=!1):o.multi._keys[d][l.bare]&&(o[d]=o.multi._keys[d][l.bare],a.tmp.abort_alternative=!1))}a.output.openLevel(this),a.registry.refhash[s.id]=o,a.nameOutput=new p.NameOutput(a,o)};this.execs.push(n),t.push(this);var e=new p.Token("choose",p.START);p.Node.choose.build.call(e,r,t);var i=new p.Token("if",p.START);p.Attributes["@alternative-node-internal"].call(i,r);var n=function(a){a.tmp.abort_alternative=!0};i.execs.push(n),p.Node.if.build.call(i,r,t)}else if(this.tokentype===p.END){var i=new p.Token("if",p.END);p.Node.if.build.call(i,r,t);var e=new p.Token("choose",p.END);p.Node.choose.build.call(e,r,t);var n=function(l,u){l.output.closeLevel(),l.registry.refhash[u.id]=l.tmp.oldItem,l.opt.lang=l.tmp.oldLang,l.nameOutput=new p.NameOutput(l,l.tmp.oldItem),l.tmp.abort_alternative=!1};this.execs.push(n),t.push(this);var i=new p.Token("if",p.END);p.Node.if.build.call(i,r,t);var e=new p.Token("choose",p.END);p.Node.choose.build.call(e,r,t)}}};p.Node["alternative-text"]={build:function(r,t){if(this.tokentype===p.SINGLETON){var e=function(i,a){var a=i.refetchItem(a.id);p.getCite.call(i,a)};this.execs.push(e)}t.push(this)}};p.NameOutput=function(r,t,e){this.debug=!1,this.state=r,this.debug&&this.state.sys.print("(1)"),this.Item=t,this.item=e,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1};p.NameOutput.prototype.init=function(r){this.requireMatch=r.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=r,this.variables=r.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var t=0,e=this.variables.length;t<e;t+=1)this.Item[this.variables[t]]&&this.Item[this.variables[t]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[t]]));if(this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],!!this.state.tmp.value.length){var i=this.checkCommonAuthor(this.requireMatch);if(i){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var t in this.variables){var n=this.state.tmp.done_vars.indexOf(this.variables[t]);n>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,n).concat(this.state.tmp.done_vars.slice(t+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}}};p.NameOutput.prototype.reinit=function(r,t){if(this.requireMatch=r.requireMatch,this.labelVariable=t,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=r.variables;var e=this.state.tmp.value.slice();this.state.tmp.value=[];for(var i=0,n=this.variables.length;i<n;i+=1)this.Item[this.variables[i]]&&this.Item[this.variables[i]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[i]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.value=e}var a=this.checkCommonAuthor(this.requireMatch);if(a){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var i in this.variables){var s=this.state.tmp.done_vars.indexOf(this.variables[i]);s>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,s).concat(this.state.tmp.done_vars.slice(i+1)))}this.variables=[]}};p.NameOutput.prototype.outputNames=function(){var r,t,e=this.variables;if(this.institution.and&&((!this.institution.and.single.blobs||!this.institution.and.single.blobs.length)&&(this.institution.and.single.blobs=this.name.and.single.blobs),(!this.institution.and.multiple.blobs||!this.institution.and.multiple.blobs.length)&&(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=p.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",r=0,t=this.family.execs.length;r<t;r+=1)this.family.execs[r].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=p.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",r=0,t=this.given.execs.length;r<t;r+=1)this.given.execs[r].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&this.state.sys.print("(2)"),this.getEtAlConfig(),this.debug&&this.state.sys.print("(3)"),this.divideAndTransliterateNames(),this.debug&&this.state.sys.print("(4)"),this.truncatePersonalNameLists(),this.debug&&this.state.sys.print("(5)"),this.debug&&this.state.sys.print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&this.state.sys.print("(7)"),this.name.strings.form==="count"){(this.state.tmp.extension||this.names_count!=0)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0);return}this.debug&&this.state.sys.print("(8)"),this.setEtAlParameters(),this.debug&&this.state.sys.print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&this.state.sys.print("(10)"),this.renderAllNames(),this.debug&&this.state.sys.print("(11)");var i=[];for(r=0,t=e.length;r<t;r+=1){var n=e[r],a=[],s=!1,o=null;if(!this.state.opt.development_extensions.spoof_institutional_affiliations)o=this._join([this.freeters[n]],"");else{this.debug&&this.state.sys.print("(11a)");for(var l=0,u=this.institutions[n].length;l<u;l+=1)a.push(this.joinPersonsAndInstitutions([this.persons[n][l],this.institutions[n][l]]));if(this.debug&&this.state.sys.print("(11b)"),this.institutions[n].length){var f=this.nameset_base+this.variable_offset[n];this.freeters[n].length&&(f+=1),s=this.joinInstitutionSets(a,f)}this.debug&&this.state.sys.print("(11c)");var o=this.joinFreetersAndInstitutionSets([this.freeters[n],s]);this.debug&&this.state.sys.print("(11d)")}if(o&&(this.state.tmp.extension||(o=this._applyLabels(o,n)),i.push(o)),this.debug&&this.state.sys.print("(11e)"),this.common_term)break}for(this.debug&&this.state.sys.print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&this.state.sys.print("(13)"),r=0,t=i.length;r<t;r+=1)this.state.output.append(i[r],"literal",!0);!this.state.tmp.just_looking&&i.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&this.state.sys.print("(14)"),this.state.output.closeLevel("empty"),this.debug&&this.state.sys.print("(15)");var h=this.state.output.pop();this.state.tmp.name_node.top=h,this.debug&&this.state.sys.print("(16)");var c=p.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&p.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(h,c),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&this.state.sys.print("(17)"),this.debug&&this.state.sys.print("(18)"),e[0]!=="authority"){var m=[],d=this.Item[e[0]];if(d)for(var r=0,t=d.length;r<t;r+=1){var v=p.Util.Names.getRawName(d[r]);v&&m.push(v)}m=m.join(", "),m&&(this.state.tmp.name_node.string=m)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),this.Item.type==="classic"&&this.state.tmp.first_name_string){var b=[];b.push(this.state.tmp.first_name_string),this.Item.title&&b.push(this.Item.title),b=b.join(", "),b&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(b=this.state.sys.normalizeAbbrevsKey("classic",b)),this.state.transform.loadAbbreviation("default","classic",b,this.Item.language),this.state.transform.abbrevs.default.classic[b]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[b],"empty",!0),h=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(h)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&this.state.sys.print("(19)")};p.NameOutput.prototype._applyLabels=function(r,t){var e;if(!this.label||!this.label[this.labelVariable])return r;var i=0,n=this.freeters_count[t]+this.institutions_count[t];if(n>1)i=1;else{for(var a=0,s=this.persons[t].length;a<s;a+=1)n+=this.persons_count[t][a];n>1&&(i=1)}return this.label[this.labelVariable].before?(typeof this.label[this.labelVariable].before.strings.plural=="number"&&(i=this.label[this.labelVariable].before.strings.plural),e=this._buildLabel(t,i,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(e,this.label[this.labelVariable].before,!0),this.state.output.append(r,"literal",!0),this.state.output.closeLevel("empty"),r=this.state.output.pop()):this.label[this.labelVariable].after&&(typeof this.label[this.labelVariable].after.strings.plural=="number"&&(i=this.label[this.labelVariable].after.strings.plural),e=this._buildLabel(t,i,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(r,"literal",!0),this.state.output.append(e,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),r=this.state.output.pop()),r};p.NameOutput.prototype._buildLabel=function(r,t,e,i){this.common_term&&(r=this.common_term);var n=!1,a=this.label[i][e];return a&&(n=p.castLabel(this.state,a,r,t,p.TOLERANT)),n};p.NameOutput.prototype._collapseAuthor=function(){var r,t,e;this.state.tmp.name_node.top.blobs.length!==0&&(this.nameset_base===0&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(t="",r=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,e=this.state.tmp.offset_characters,r&&(t=this.state.output.string(this.state,r,!1)),this.state.tmp.offset_characters=e,this.state.registry.authorstrings[this.Item.id]=t):!this.state.tmp.just_looking&&!this.state.tmp.suppress_decorations&&(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)&&(t="",r=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,e=this.state.tmp.offset_characters,r&&(t=this.state.output.string(this.state,r,!1)),t===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=e),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=t,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&this.Item.type!=="legal_case"&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=e,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))};p.NameOutput.prototype.isPerson=function(r){return!(r.literal||!r.given&&r.family&&r.isInstitution)};p.NameOutput.prototype.truncatePersonalNameLists=function(){var r,t,e,i,n,a;this.freeters_count={},this.persons_count={},this.institutions_count={};for(r in this.freeters)this.freeters.hasOwnProperty(r)&&(this.freeters_count[r]=this.freeters[r].length,this.freeters[r]=this._truncateNameList(this.freeters,r));for(r in this.persons)if(this.persons.hasOwnProperty(r))for(this.institutions_count[r]=this.institutions[r].length,this._truncateNameList(this.institutions,r),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.persons_count[r]=[],i=0,n=this.persons[r].length;i<n;i+=1)this.persons_count[r][i]=this.persons[r][i].length,this.persons[r][i]=this._truncateNameList(this.persons,r,i);if(this.state.opt.development_extensions.etal_min_etal_usefirst_hack&&this.etal_min===1&&this.etal_use_first===1&&!(this.state.tmp.extension||this.state.tmp.just_looking)?a=r:a=!1,a||this._please_chop)for(t=0,e=this.variables.length;t<e;t+=1){r=this.variables[t],this.freeters[r].length&&(this._please_chop===r?(this.freeters[r]=this.freeters[r].slice(1),this.freeters_count[r]+=-1,this._please_chop=!1):a&&!this._please_chop&&(this.freeters[r]=this.freeters[r].slice(0,1),this.freeters_count[r]=1,this.institutions[r]=[],this.persons[r]=[],this._please_chop=a));for(var i=0,n=this.persons[r].length;i<n;i++)if(this.persons[r][i].length){if(this._please_chop===r){this.persons[r][i]=this.persons[r][i].slice(1),this.persons_count[r][i]+=-1,this._please_chop=!1;break}else if(a&&!this._please_chop){this.freeters[r]=this.persons[r][i].slice(0,1),this.freeters_count[r]=1,this.institutions[r]=[],this.persons[r]=[],this._please_chop=a;break}}this.institutions[r].length&&(this._please_chop===r?(this.institutions[r]=this.institutions[r].slice(1),this.institutions_count[r]+=-1,this._please_chop=!1):a&&!this._please_chop&&(this.institutions[r]=this.institutions[r].slice(0,1),this.institutions_count[r]=1,this._please_chop=a))}for(t=0,e=this.variables.length;t<e;t+=1){this.institutions[r].length&&(this.nameset_offset+=1);for(var i=0,n=this.persons[r].length;i<n;i++)this.persons[r][i].length&&(this.nameset_offset+=1)}};p.NameOutput.prototype._truncateNameList=function(r,t,e){var i;if(typeof e>"u"?i=r[t]:i=r[t][e],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&i.length>50&&i.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var n=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;i=i.slice(0,n+1).concat(i.slice(-1))}return i};p.NameOutput.prototype.divideAndTransliterateNames=function(){var r,t,e,i,n=this.Item,a=this.variables;for(this.varnames=a.slice(),this.freeters={},this.persons={},this.institutions={},r=0,t=a.length;r<t;r+=1){var s=a[r];this.variable_offset[s]=this.nameset_offset;var o=this._normalizeVariableValue(n,s);if(this.name.strings["suppress-min"]&&o.length>=this.name.strings["suppress-min"]&&(o=[]),this.name.strings["suppress-max"]&&o.length<=this.name.strings["suppress-max"]&&(o=[]),this._getFreeters(s,o),this._getPersonsAndInstitutions(s,o),this.state.opt.development_extensions.spoof_institutional_affiliations){if(this.name.strings["suppress-min"]===0)for(this.freeters[s]=[],e=0,i=this.persons[s].length;e<i;e+=1)this.persons[s][e]=[];else if(this.institution.strings["suppress-min"]===0){for(this.institutions[s]=[],this.freeters[s]=this.freeters[s].concat(this.persons[s]),e=0,i=this.persons[s].length;e<i;e+=1)for(var l=0,u=this.persons[s][e].length;l<u;l+=1)this.freeters[s].push(this.persons[s][e][l]);this.persons[s]=[]}}}};p.NameOutput.prototype._normalizeVariableValue=function(r,t){var e;return typeof r[t]=="string"||typeof r[t]=="number"?(p.debug('name variable "'+t+'" is string or number, not array. Attempting to fix.'),e=[{literal:r[t]+""}]):r[t]?(typeof r[t].length!="number"&&(p.debug('name variable "'+t+'" is object, not array. Attempting to fix.'),r[t]=[r[t]]),e=r[t].slice()):e=[],e};p.NameOutput.prototype._getFreeters=function(r,t){if(this.freeters[r]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var e=t.length-1;e>-1&&this.isPerson(t[e]);e--){var i=this._checkNickname(t.pop());i&&this.freeters[r].push(i)}else for(var e=t.length-1;e>-1;e--){var i=t.pop();if(this.isPerson(i))var i=this._checkNickname(i);this.freeters[r].push(i)}this.freeters[r].reverse(),this.freeters[r].length&&(this.nameset_offset+=1)};p.NameOutput.prototype._getPersonsAndInstitutions=function(r,t){if(this.persons[r]=[],this.institutions[r]=[],!!this.state.opt.development_extensions.spoof_institutional_affiliations){for(var e=[],i=!1,n=!0,a=t.length-1;a>-1;a+=-1)if(this.isPerson(t[a])){var s=this._checkNickname(t[a]);s&&e.push(s)}else i=!0,this.institutions[r].push(t[a]),n||(e.reverse(),this.persons[r].push(e),e=[]),n=!1;i&&(e.reverse(),this.persons[r].push(e),this.persons[r].reverse(),this.institutions[r].reverse())}};p.NameOutput.prototype._clearValues=function(r){for(var t=r.length-1;t>-1;t+=-1)r.pop()};p.NameOutput.prototype._checkNickname=function(r){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var t="";if(t=p.Util.Names.getRawName(r),t&&this.state.sys.getAbbreviation&&!(this.item&&this.item["suppress-author"])){var e=t;this.state.sys.normalizeAbbrevsKey&&(e=this.state.sys.normalizeAbbrevsKey("author",t)),this.state.transform.loadAbbreviation("default","nickname",e,this.Item.language);var i=this.state.transform.abbrevs.default.nickname[e];i&&(i==="!here>>>"?r=!1:r={family:i,given:""})}}return r};p.NameOutput.prototype._purgeEmptyBlobs=function(r){for(var t=r.length-1;t>-1;t+=-1)(!r[t]||r[t].length===0||!r[t].blobs.length)&&(r=r.slice(0,t).concat(r.slice(t+1)));return r};p.NameOutput.prototype.joinPersons=function(r,t,e,i){var n;return r=this._purgeEmptyBlobs(r),typeof e>"u"?this.etal_spec[t].freeters===1?n=this._joinEtAl(r):this.etal_spec[t].freeters===2?n=this._joinEllipsis(r):this.state.tmp.sort_key_flag?n=this._join(r,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):n=this._joinAnd(r):this.etal_spec[t].persons[e]===1?n=this._joinEtAl(r):this.etal_spec[t].persons[e]===2?n=this._joinEllipsis(r):this.state.tmp.sort_key_flag?n=this._join(r,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):n=this._joinAnd(r),n};p.NameOutput.prototype.joinInstitutionSets=function(r,t){var e;return r=this._purgeEmptyBlobs(r),this.etal_spec[t].institutions===1?e=this._joinEtAl(r,"institution"):this.etal_spec[t].institutions===2?e=this._joinEllipsis(r,"institution"):e=this._joinAnd(r),e};p.NameOutput.prototype.joinPersonsAndInstitutions=function(r){r=this._purgeEmptyBlobs(r);var t=this._join(r,this.state.tmp.name_delimiter);return t.isInstitution=!0,t};p.NameOutput.prototype.joinFreetersAndInstitutionSets=function(r){r=this._purgeEmptyBlobs(r);var t=this._join(r,"[never here]",this.with.single,this.with.multiple);return t};p.NameOutput.prototype._getAfterInvertedName=function(r,t,e){if(e&&r.length>1&&this.state.inheritOpt(this.name,"delimiter-precedes-last")==="after-inverted-name"){var i=r[r.length-2];i.blobs.length>0&&i.blobs[0].isInverted&&(e.strings.prefix=t)}return e};p.NameOutput.prototype._getAndJoin=function(r,t){var e=!1;if(r.length>1){var i="single";r.length>2&&(i="multiple"),r[r.length-1].isInstitution?e=this.institution.and[i]:e=this.name.and[i],e=JSON.parse(JSON.stringify(e)),e=this._getAfterInvertedName(r,t,e)}return e};p.NameOutput.prototype._joinEtAl=function(r){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),e=this._join(r,t);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(e,"literal",!0),r.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):r.length===1&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()};p.NameOutput.prototype._joinEllipsis=function(r){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),e=!1;if(r.length>1){var i="single";r.length>2&&(i="multiple"),e=JSON.parse(JSON.stringify(this.name.ellipsis[i])),e=this._getAfterInvertedName(r,t,e)}return this._join(r,t,e)};p.NameOutput.prototype._joinAnd=function(r){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),e=this._getAndJoin(r,t);return this._join(r,t,e)};p.NameOutput.prototype._join=function(r,t,e){var i,n;if(!r||(r=this._purgeEmptyBlobs(r),!r.length))return!1;if(r.length>1)if(r.length===2)e?r=[r[0],e,r[1]]:r[0].strings.suffix+=t;else{var a;e?a=1:a=0;for(var s=r.pop(),i=0,n=r.length-a;i<n;i++)r[i].strings.suffix+=t;r.push(e),r.push(s)}for(this.state.output.openLevel(),i=0,n=r.length;i<n;i+=1)this.state.output.append(r[i],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()};p.NameOutput.prototype._getToken=function(r){var t=this[r];if(r==="institution"){var e=new p.Token;return e}return t};p.NameOutput.prototype.checkCommonAuthor=function(r){if(!r)return!1;var t=!1;if(this.variables.length===2){var e=this.variables,i=e.slice();i.sort(),t=i.join("")}if(!t)return!1;var n=!1;if(this.state.locale[this.state.opt.lang].terms[t]&&(n=!0),!n)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var a=this.Item[this.variables[0]],s=this.Item[this.variables[1]],o=this._compareNamesets(a,s);return o===!0&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!o};p.NameOutput.prototype.setCommonTerm=function(){var r=this.variables,t=r.slice();if(t.sort(),this.common_term=t.join(""),!!this.common_term){var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2){this.common_term=!1;return}for(var i=0,n=this.variables.length-1;i<n;i+=1){var a=this.variables[i],s=this.variables[i+1];if((this.freeters[a].length||this.freeters[s].length)&&(this.etal_spec[a].freeters!==this.etal_spec[s].freeters||!this._compareNamesets(this.freeters[a],this.freeters[s]))){this.common_term=!1;return}if(this.persons[a].length!==this.persons[s].length){this.common_term=!1;return}for(var o=0,l=this.persons[a].length;o<l;o+=1)if(this.etal_spec[a].persons[o]!==this.etal_spec[s].persons[o]||!this._compareNamesets(this.persons[a][o],this.persons[s][o])){this.common_term=!1;return}}}};p.NameOutput.prototype._compareNamesets=function(r,t){if(!r||!t||r.length!==t.length)return!1;for(var e=0,i=t.length;e<i;e+=1)for(var n=0,a=p.NAME_PARTS.length;n<a;n+=1){var s=p.NAME_PARTS[n];if(!r[e]||r[e][s]!=t[e][s])return!1}return!0};p.NameOutput.prototype.constrainNames=function(){this.names_count=0;for(var r,t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];r=this.nameset_base+t,this.freeters[i].length&&(this.state.tmp.names_max.push(this.freeters[i].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,i,r),this.names_count+=this.freeters[i].length),this.institutions[i].length&&(this.state.tmp.names_max.push(this.institutions[i].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,i,r),this.persons[i]=this.persons[i].slice(0,this.institutions[i].length),this.names_count+=this.institutions[i].length);for(var n=0,a=this.persons[i].length;n<a;n+=1)this.persons[i][n].length&&(this.state.tmp.names_max.push(this.persons[i][n].length,"literal"),this._imposeNameConstraints(this.persons[i],this.persons_count[i],n,r),this.names_count+=this.persons[i][n].length)}};p.NameOutput.prototype._imposeNameConstraints=function(r,t,e,i){var n=r[e],a=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]?a=this.state.tmp.disambig_request.names[i]:t[e]>=this.etal_min&&(a=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]>this.etal_use_first?t[e]<this.etal_min?a=t[e]:a=this.state.tmp.disambig_request.names[i]:t[e]>=this.etal_min&&(a=this.etal_use_first),this.etal_use_last&&a>this.etal_min-2&&(a=this.etal_min-2));var s=this.etal_min>=this.etal_use_first,o=t[e]>a;a>t[e]&&(a=n.length),s&&o&&(this.etal_use_last?r[e]=n.slice(0,a).concat(n.slice(-1)):r[e]=n.slice(0,a)),this.state.tmp.disambig_settings.names[i]=r[e].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)};p.NameOutput.prototype.disambigNames=function(){for(var r,t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];if(r=this.nameset_base+t,this.freeters[i].length&&this._runDisambigNames(this.freeters[i],r),this.institutions[i].length){typeof this.state.tmp.disambig_settings.givens[r]>"u"&&(this.state.tmp.disambig_settings.givens[r]=[]);for(var n=0,a=this.institutions[i].length;n<a;n+=1)typeof this.state.tmp.disambig_settings.givens[r][n]>"u"&&this.state.tmp.disambig_settings.givens[r].push(2)}for(var n=0,a=this.persons[i].length;n<a;n+=1)this.persons[i][n].length&&this._runDisambigNames(this.persons[i][n],r)}};p.NameOutput.prototype._runDisambigNames=function(r,t){var e,i,n,a,s,o,l;for(s=0,o=r.length;s<o;s+=1)if(!(!r[s].given&&!r[s].family)){if(n=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,r[s],s),e=this.state.tmp.disambig_settings.givens[t],typeof e>"u")for(var u=0,f=t+1;u<f;u+=1)this.state.tmp.disambig_settings.givens[u]||(this.state.tmp.disambig_settings.givens[u]=[]);if(e=this.state.tmp.disambig_settings.givens[t][s],typeof e>"u"&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),a=this.state.registry.namereg.evalname(""+this.Item.id,r[s],s,0,i,n),this.state.tmp.disambig_settings.givens[t].push(a)),i=this.state.inheritOpt(this.name,"form","name-form","long"),l=this.state.registry.namereg.evalname(""+this.Item.id,r[s],s,0,i,n),this.state.tmp.disambig_request){var h=this.state.tmp.disambig_settings.givens[t][s];h===1&&this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(typeof this.state.inheritOpt(this.name,"initialize-with")>"u"||typeof r[s].given>"u")&&(h=2),a=h,this.state.opt["disambiguate-add-givenname"]&&r[s].given&&(a=this.state.registry.namereg.evalname(""+this.Item.id,r[s],s,a,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else a=l;!this.state.tmp.just_looking&&this.item&&this.item.position===p.POSITION_FIRST&&l>a&&(a=l),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[t][s]=a,typeof n=="string"&&(typeof this.name.strings.initialize>"u"||this.name.strings.initialize===!0)&&(this.state.tmp.disambig_settings.use_initials=!0))}};p.NameOutput.prototype.getEtAlConfig=function(){var r=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,typeof r>"u"&&(r={}),r.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),typeof this.state.tmp["et-al-use-last"]=="boolean"?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)};p.NameOutput.prototype.setEtAlParameters=function(){var r,t,e,i;for(r=0,t=this.variables.length;r<t;r+=1){var n=this.variables[r];for(typeof this.etal_spec[n]>"u"&&(this.etal_spec[n]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+r]=this.etal_spec[n],this.freeters[n].length&&this._setEtAlParameter("freeters",n),e=0,i=this.persons[n].length;e<i;e+=1)typeof this.etal_spec[n][e]>"u"&&(this.etal_spec[n].persons[e]=0),this._setEtAlParameter("persons",n,e);this.institutions[n].length&&this._setEtAlParameter("institutions",n)}};p.NameOutput.prototype._setEtAlParameter=function(r,t,e){var i,n;r==="persons"?(i=this.persons[t][e],n=this.persons_count[t][e]):(i=this[r][t],n=this[r+"_count"][t]),i.length<n&&!this.state.tmp.sort_key_flag?this.etal_use_last?r==="persons"?this.etal_spec[t].persons[e]=2:this.etal_spec[t][r]=2:r==="persons"?this.etal_spec[t].persons[e]=1:this.etal_spec[t][r]=1:r==="persons"?this.etal_spec[t].persons[e]=0:this.etal_spec[t][r]=0};p.NameOutput.prototype.renderAllNames=function(){for(var r,t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];(this.freeters[i].length||this.institutions[i].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),r=this.nameset_base+t,this.freeters[i].length&&(this.freeters[i]=this._renderNames(i,this.freeters[i],r));for(var n=0,a=this.institutions[i].length;n<a;n+=1)this.persons[i][n]=this._renderNames(i,this.persons[i][n],r,n)}this.renderInstitutionNames()};p.NameOutput.prototype.renderInstitutionNames=function(){for(var r=0,t=this.variables.length;r<t;r+=1)for(var e=this.variables[r],i=0,n=this.institutions[e].length;i<n;i+=1){var h,a=this.institutions[e][i],i,n,s;this.state.tmp.extension?s=["sort"]:a.isInstitution||a.literal?s=this.state.opt["cite-lang-prefs"].institutions:s=this.state.opt["cite-lang-prefs"].persons;var o={primary:"locale-orig",secondary:!1,tertiary:!1};if(s)for(var l=["primary","secondary","tertiary"],u=0,f=l.length;u<f&&!(s.length-1<u);u+=1)s[u]&&(o[l[u]]="locale-"+s[u]);else o.primary="locale-translat";this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position)&&(o.secondary=!1,o.tertiary=!1),this.setRenderedName(a);var h=this._renderInstitutionName(e,a,o,i);this.institutions[e][i]=h}};p.NameOutput.prototype._renderInstitutionName=function(r,t,e,i){var n,a,s,o,l,u,f,h=this.getName(t,e.primary,!0),c=h.name,m=h.usedOrig;if(c&&(c=this.fixupInstitution(c,r,i)),n=!1,e.secondary){h=this.getName(t,e.secondary,!1,m);var n=h.name;m=h.usedOrig,n&&(n=this.fixupInstitution(n,r,i))}a=!1,e.tertiary&&(h=this.getName(t,e.tertiary,!1,m),a=h.name,a&&(a=this.fixupInstitution(a,r,i)));var d={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(c&&(d.l.pri=c.long,d.s.pri=c.short.length?c.short:c.long),n&&(d.l.sec=n.long,d.s.sec=n.short.length?n.short:n.long),a&&(d.l.ter=a.long,d.s.ter=a.short.length?a.short:a.long),this.institution.strings["institution-parts"]){case"short":c.short.length?(o=this._getShortStyle(),l=[this._composeOneInstitutionPart([d.s.pri,d.s.sec,d.s.ter],e,o,r)]):(s=this._getLongStyle(c,r,i),l=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],e,s,r)]);break;case"short-long":s=this._getLongStyle(c,r,i),o=this._getShortStyle(),u=this._renderOneInstitutionPart(c.short,o),f=this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],e,s,r),l=[u,f];break;case"long-short":s=this._getLongStyle(c,r,i),o=this._getShortStyle(),u=this._renderOneInstitutionPart(c.short,o),f=this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],e,s,r),l=[f,u];break;default:s=this._getLongStyle(c,r,i),l=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],e,s,r)];break}var v=this._join(l," ");return v&&(v.isInstitution=!0),this.state.tmp.name_node.children.push(v),v};p.NameOutput.prototype._composeOneInstitutionPart=function(r,t,e){var i=!1,n=!1,a=!1,s,o,l;if(r[0]){if(s=p.Util.cloneToken(e),this.state.opt.citeAffixes[t.primary]&&this.state.opt.citeAffixes.institutions[t.primary].prefix==="<i>"){for(var u=!1,f=0,h=s.decorations.length;f<h;f+=1)e.decorations[f][0]==="@font-style"&&s.decorations[f][1]==="italic"&&(u=!0);u||s.decorations.push(["@font-style","italic"])}i=this._renderOneInstitutionPart(r[0],s)}r[1]&&(n=this._renderOneInstitutionPart(r[1],e)),r[2]&&(a=this._renderOneInstitutionPart(r[2],e));var c;if(n||a){this.state.output.openLevel("empty"),this.state.output.append(i),o=p.Util.cloneToken(e),t.secondary&&(o.strings.prefix=this.state.opt.citeAffixes.institutions[t.secondary].prefix,o.strings.suffix=this.state.opt.citeAffixes.institutions[t.secondary].suffix,o.strings.prefix||(o.strings.prefix=" "));var m=new p.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(n,o),this.state.output.closeLevel(),l=p.Util.cloneToken(e),t.tertiary&&(l.strings.prefix=this.state.opt.citeAffixes.institutions[t.tertiary].prefix,l.strings.suffix=this.state.opt.citeAffixes.institutions[t.tertiary].suffix,l.strings.prefix||(l.strings.prefix=" "));var d=new p.Token;d.decorations.push(["@font-style","normal"]),d.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(d),this.state.output.append(a,l),this.state.output.closeLevel(),this.state.output.closeLevel(),c=this.state.output.pop()}else c=i;return c};p.NameOutput.prototype._renderOneInstitutionPart=function(r,t){for(var e=0,i=r.length;e<i;e+=1)if(r[e]){var n=r[e];if(this.state.tmp.strip_periods)n=n.replace(/\./g,"");else for(var a=0,s=t.decorations.length;a<s;a+=1)if(t.decorations[a][0]==="@strip-periods"&&t.decorations[a][1]==="true"){n=n.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),n==="!here>>>"?r[e]=!1:(this.state.output.append(n,t,!0),r[e]=this.state.output.pop())}return typeof this.institution.strings["part-separator"]>"u"&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(r,this.institution.strings["part-separator"])};p.NameOutput.prototype._renderNames=function(r,t,e,i){var n=!1;if(t.length){for(var a=[],s=0,o=t.length;s<o;s+=1){var l=t[s],n,u;this.state.tmp.extension?u=["sort"]:l.isInstitution||l.literal?u=this.state.opt["cite-lang-prefs"].institutions:u=this.state.opt["cite-lang-prefs"].persons;var f={primary:"locale-orig",secondary:!1,tertiary:!1};if(u)for(var h=["primary","secondary","tertiary"],c=0,m=h.length;c<m&&!(u.length-1<c);c+=1)f[h[c]]="locale-"+u[c];else f.primary="locale-translat";if((this.state.tmp.sort_key_flag||this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position))&&(f.secondary=!1,f.tertiary=!1),this.setRenderedName(l),!l.literal&&!l.isInstitution){var d=this._renderPersonalName(r,l,f,e,s,i),v=p.Util.cloneToken(this.name);this.state.output.append(d,v,!0),a.push(this.state.output.pop())}else a.push(this._renderInstitutionName(r,l,f,i))}n=this.joinPersons(a,e,i)}return n};p.NameOutput.prototype._renderPersonalName=function(r,t,e,i,n,a){var s=this.getName(t,e.primary,!0),o=this._renderOnePersonalName(s.name,i,n,a),l=!1;e.secondary&&(s=this.getName(t,e.secondary,!1,s.usedOrig),s.name&&(l=this._renderOnePersonalName(s.name,i,n,a)));var u=!1;e.tertiary&&(s=this.getName(t,e.tertiary,!1,s.usedOrig),s.name&&(u=this._renderOnePersonalName(s.name,i,n,a)));var f;if(l||u){this.state.output.openLevel("empty"),this.state.output.append(o);var h=new p.Token;e.secondary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[e.secondary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[e.secondary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(l,h);var c=new p.Token;e.tertiary&&(c.strings.prefix=this.state.opt.citeAffixes.persons[e.tertiary].prefix,c.strings.suffix=this.state.opt.citeAffixes.persons[e.tertiary].suffix,c.strings.prefix||(c.strings.prefix=" ")),this.state.output.append(u,c),this.state.output.closeLevel(),f=this.state.output.pop()}else f=o;return f};p.NameOutput.prototype._isRomanesque=function(r){var t=2;r.family.replace(/\"/g,"").match(p.ROMANESQUE_REGEXP)||(t=0),!t&&r.given&&r.given.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&(t=1);var e;return t==2&&(r.multi&&r.multi.main?e=r.multi.main.slice(0,2):this.Item.language&&(e=this.Item.language.slice(0,2)),["ja","zh"].indexOf(e)>-1&&(t=1)),t};p.NameOutput.prototype._renderOnePersonalName=function(r,t,e,i){var n=r,a=this._droppingParticle(n,t,i),s=this._familyName(n),o=this._nonDroppingParticle(n),l=this._givenName(n,t,e),u=l.blob,f=this._nameSuffix(n);u===!1&&(a=!1,f=!1);var h=this.state.inheritOpt(this.name,"sort-separator");h||(h="");var c;n["comma-suffix"]?c=", ":c=" ";var m=this._isRomanesque(n);function d(T){return T?typeof T.blobs=="string"?["’","'","-"," "].indexOf(T.blobs.slice(-1))>-1:d(T.blobs[T.blobs.length-1]):!1}var v=d(o),b;["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?b=" ":b=" ";var g,_,y,$;if(m===0)g=this._join([o,s,u],"");else if(m===1||n["static-ordering"])_=this._join([o,s],b),g=this._join([_,u]," ");else if(n["reverse-ordering"])_=this._join([o,s],b),g=this._join([u,_]," ");else if(this.state.tmp.sort_key_flag)this.state.opt["demote-non-dropping-particle"]==="never"?(_=this._join([o,s],b),_=this._join([_,a]," "),_=this._join([_,u],this.state.opt.sort_sep),g=this._join([_,f]," ")):($=this._join([u,a,o]," "),_=this._join([s,$],this.state.opt.sort_sep),g=this._join([_,f]," "));else if(this.state.inheritOpt(this.name,"name-as-sort-order")==="all"||this.state.inheritOpt(this.name,"name-as-sort-order")==="first"&&e===0&&(i===0||typeof i>"u"))["Lord","Lady"].indexOf(n.given)>-1&&(h=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?($=this._join([u,a],n["comma-dropping-particle"]+" "),$=this._join([$,o]," "),$&&this.given&&($.strings.prefix=this.given.strings.prefix,$.strings.suffix=this.given.strings.suffix),s&&this.family&&(s.strings.prefix=this.family.strings.prefix,s.strings.suffix=this.family.strings.suffix),_=this._join([s,$],h),g=this._join([_,f],h)):(v?y=this._join([o,s],""):y=this._join([o,s],b),y&&this.family&&(y.strings.prefix=this.family.strings.prefix,y.strings.suffix=this.family.strings.suffix),$=this._join([u,a],n["comma-dropping-particle"]+" "),$&&this.given&&($.strings.prefix=this.given.strings.prefix,$.strings.suffix=this.given.strings.suffix),_=this._join([y,$],h),g=this._join([_,f],h)),g.isInverted=!0;else{if(n["dropping-particle"]&&n.family&&!n["non-dropping-particle"]){var I=n["dropping-particle"],A=["'","ʼ","’","-"];A.indexOf(I.slice(-1))>-1&&I.slice(0,-1)!=="de"&&(s=this._join([a,s],""),a=!1)}v?($=this._join([o,s],""),$=this._join([a,$],b)):$=this._join([a,o,s],b),$=this._join([$,f],c),$&&this.family&&($.strings.prefix=this.family.strings.prefix,$.strings.suffix=this.family.strings.suffix),u&&this.given&&(u.strings.prefix=this.given.strings.prefix,u.strings.suffix=this.given.strings.suffix),$.strings.prefix&&(n["comma-dropping-particle"]="");var B;this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&l.initializationLevel===1?B=b:B=" ",g=this._join([u,$],n["comma-dropping-particle"]+B)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(g),g};p.NameOutput.prototype._normalizeNameInput=function(r){var t={literal:r.literal,family:r.family,isInstitution:r.isInstitution,given:r.given,suffix:r.suffix,"comma-suffix":r["comma-suffix"],"non-dropping-particle":r["non-dropping-particle"],"dropping-particle":r["dropping-particle"],"static-ordering":r["static-ordering"],"static-particles":r["static-particles"],"reverse-ordering":r["reverse-ordering"],"full-form-always":r["full-form-always"],"parse-names":r["parse-names"],"comma-dropping-particle":"",block_initialize:r.block_initialize,multi:r.multi};return this._parseName(t),t};p.NameOutput.prototype._stripPeriods=function(r,t){var e=this[r+"_decor"];if(t){if(this.state.tmp.strip_periods)t=t.replace(/\./g,"");else if(e){for(var i=0,n=e.decorations.length;i<n;i+=1)if(e.decorations[i][0]==="@strip-periods"&&e.decorations[i][1]==="true"){t=t.replace(/\./g,"");break}}}return t};p.NameOutput.prototype._nonDroppingParticle=function(r){var t=r["non-dropping-particle"];t&&this.state.tmp.sort_key_flag&&(t=t.replace(/[\'\u2019]/,""));var e=this._stripPeriods("family",t);return this.state.output.append(e,this.family_decor,!0)?this.state.output.pop():!1};p.NameOutput.prototype._droppingParticle=function(r,t,e){var i=r["dropping-particle"];i&&this.state.tmp.sort_key_flag&&(i=i.replace(/[\'\u2019]/,""));var n=this._stripPeriods("given",i);if(r["dropping-particle"]&&r["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?typeof e>"u"?this.etal_spec[t].freeters=2:this.etal_spec[t].persons=2:typeof e>"u"?this.etal_spec[t].freeters=1:this.etal_spec[t].persons=1,r["comma-dropping-particle"]="";else if(this.state.output.append(n,this.given_decor,!0))return this.state.output.pop();return!1};p.NameOutput.prototype._familyName=function(r){var t=this._stripPeriods("family",r.family);return this.state.output.append(t,this.family_decor,!0)?this.state.output.pop():!1};p.NameOutput.prototype._givenName=function(r,t,e){var i,n=this.state.inheritOpt(this.name,"form","name-form","long")!=="long",a=this.state.inheritOpt(this.name,"initialize")!==!1,s=typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&!r.block_initialize,o,l;if(r["full-form-always"])l=2;else{n?o=0:s?o=1:o=2;var u=this.state.tmp.disambig_settings.givens[t][e];u>o?l=u:l=o}var f=this.state.citation.opt["givenname-disambiguation-rule"];if(f&&f.slice(-14)==="-with-initials"&&(s=!0),r.family&&l===1)if(s){var h=this.state.inheritOpt(this.name,"initialize-with",!1,"");r.given=p.Util.Names.initializeWith(this.state,r.given,h,!a)}else r.given=p.Util.Names.unInitialize(this.state,r.given);else{if(l===0)return{blob:!1};l===2&&(r.given=p.Util.Names.unInitialize(this.state,r.given))}var c=this._stripPeriods("given",r.given),m=this.state.output.append(c,this.given_decor,!0);return m?(i=this.state.output.pop(),{blob:i,initializationLevel:l}):{blob:!1}};p.NameOutput.prototype._nameSuffix=function(r){var t=r.suffix,e;t&&typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&(t=p.Util.Names.initializeWith(this.state,t,this.state.inheritOpt(this.name,"initialize-with"),!0)),t=this._stripPeriods("family",t);var i="";t&&t.slice(-1)==="."&&(t=t.slice(0,-1),i=".");var n=this.state.output.append(t,"empty",!0);return n?(e=this.state.output.pop(),e.strings.suffix=i+e.strings.suffix,e):!1};p.NameOutput.prototype._getLongStyle=function(r){var t;return r.short.length?this.institutionpart["long-with-short"]?t=this.institutionpart["long-with-short"]:t=this.institutionpart.long:t=this.institutionpart.long,t||(t=new p.Token),t};p.NameOutput.prototype._getShortStyle=function(){var r;return this.institutionpart.short?r=this.institutionpart.short:r=new p.Token,r};p.NameOutput.prototype._parseName=function(r){if(!r["parse-names"]&&typeof r["parse-names"]<"u")return r;r.family&&!r.given&&r.isInstitution&&(r.literal=r.family,r.family=void 0,r.isInstitution=void 0);var t;r.family&&r.family.slice(0,1)==='"'&&r.family.slice(-1)==='"'||!r["parse-names"]&&typeof r["parse-names"]<"u"?(r.family=r.family.slice(1,-1),t=!0,r["parse-names"]=0):t=!1,this.state.opt.development_extensions.parse_names&&!r["non-dropping-particle"]&&r.family&&!t&&r.given&&(r["static-particles"]||p.parseParticles(r,!0))};p.NameOutput.prototype.getName=function(r,t,e,i){if(i&&t==="locale-orig")return{name:!1,usedOrig:i};r.family||(r.family=""),r.given||(r.given="");var n={};n["static-ordering"]=this.getStaticOrder(r);var a=!0,s;if(t!=="locale-orig"&&(a=!1,r.multi)){for(var o=this.state.opt[t],l=0,u=o.length;l<u;l+=1)if(s=o[l],r.multi._key[s]){a=!0;var f=r.isInstitution;r=r.multi._key[s],r.isInstitution=f,n=this.getNameParams(s),n.transliterated=!0;break}}if(a||(s=!1,r.multi&&r.multi.main?s=r.multi.main:this.Item.language&&(s=this.Item.language),s&&(n=this.getNameParams(s))),!e&&!a)return{name:!1,usedOrig:i};r.family||(r.family=""),r.given||(r.given=""),r.literal&&(delete r.family,delete r.given),r={family:r.family,given:r.given,"non-dropping-particle":r["non-dropping-particle"],"dropping-particle":r["dropping-particle"],suffix:r.suffix,"static-ordering":n["static-ordering"],"static-particles":r["static-particles"],"reverse-ordering":n["reverse-ordering"],"full-form-always":n["full-form-always"],"parse-names":r["parse-names"],"comma-suffix":r["comma-suffix"],"comma-dropping-particle":r["comma-dropping-particle"],transliterated:n.transliterated,block_initialize:n["block-initialize"],literal:r.literal,isInstitution:r.isInstitution,multi:r.multi},!r.literal&&!r.given&&r.family&&r.isInstitution&&(r.literal=r.family),r.literal&&(delete r.family,delete r.given),r=this._normalizeNameInput(r);var h;return i?h=i:h=!a,{name:r,usedOrig:h}};p.NameOutput.prototype.getNameParams=function(r){var t={},e=p.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),i=this.state.locale[e.best]?e.best:this.state.opt["default-locale"][0],n=this.state.locale[i].opts["name-as-sort-order"],a=this.state.locale[i].opts["name-as-reverse-order"],s=this.state.locale[i].opts["name-never-short"],o=r.split("-")[0];return n&&n[o]&&(t["static-ordering"]=!0,t["reverse-ordering"]=!1),a&&a[o]&&(t["reverse-ordering"]=!0,t["static-ordering"]=!1),s&&s[o]&&(t["full-form-always"]=!0),t["static-ordering"]&&(t["block-initialize"]=!0),t};p.NameOutput.prototype.setRenderedName=function(r){if(this.state.tmp.area==="bibliography"){for(var t="",e=0,i=p.NAME_PARTS.length;e<i;e+=1)r[p.NAME_PARTS[e]]&&(t+=r[p.NAME_PARTS[e]]);this.state.tmp.rendered_name.push(t)}};p.NameOutput.prototype.fixupInstitution=function(r,t,e){!r.literal&&r.family&&(r.literal=r.family,delete r.family);var i=r.literal,n=i,a={long:i.split(/\s*\|\s*/),short:n.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if(this.institution.strings.form==="short"){let c=this.Item.jurisdiction;c=this.state.transform.loadAbbreviation(c,"institution-entire",i,this.Item.language),this.state.transform.abbrevs[c]["institution-entire"][i]?i=this.state.transform.abbrevs[c]["institution-entire"][i]:(c=this.Item.jurisdiction,c=this.state.transform.loadAbbreviation(c,"institution-part",i,this.Item.language),this.state.transform.abbrevs[c]["institution-part"][i]&&(i=this.state.transform.abbrevs[c]["institution-part"][i])),i=this._quashChecks(c,i)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let c=this.Item.jurisdiction;c=this.state.transform.loadAbbreviation(c,"institution-part",n,this.Item.language),this.state.transform.abbrevs[c]["institution-part"][n]&&(n=this.state.transform.abbrevs[c]["institution-part"][n]),n=this._quashChecks(c,n),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&n===i&&(n="")}if(a.long=i.split(/\s*\|\s*/),a.short=n.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var s=a.short.length-1;s>-1;s--){let c=this.Item.jurisdiction;var o=a.short[s];if(c=this.state.transform.loadAbbreviation(c,"institution-part",o,this.Item.language),this.state.transform.abbrevs[c]["institution-part"][o]&&(a.short[s]=this.state.transform.abbrevs[c]["institution-part"][o]),a.short[s].indexOf("|")>-1){let m=a.short,d=m[s].split(/\s*\|\s*/);a.short=m.slice(0,s).concat(d).concat(m.slice(s+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&a.short.reverse(),a.short=this._trimInstitution(a.short),this.institution.strings["reverse-order"]&&a.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let c=this.Item.jurisdiction;var l=this.state.tmp.abbrev_trimmer;if(l&&l[c]&&l[c][t])for(var u=0,f=a.short.length;u<f;u++){var h=a.short[u];a.short[u]=h.replace(l[c][t],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&a.long.reverse(),a.long=this._trimInstitution(a.long),this.institution.strings["reverse-order"]&&a.long.reverse(),a};p.NameOutput.prototype.getStaticOrder=function(r,t){var e=!1;return(!t&&r["static-ordering"]||this._isRomanesque(r)===0||(!r.multi||!r.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||r.multi&&r.multi.main&&["vi","hu"].indexOf(r.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&p.VIETNAMESE_NAMES.exec(r.family+" "+r.given)&&p.VIETNAMESE_SPECIALS.exec(r.family+r.given))&&(e=!0),e};p.NameOutput.prototype._quashChecks=function(r,e){var e=this.state.transform.quashCheck(r,e),i=e.split(/>>[0-9]{4}>>/),n=e.match(/>>([0-9]{4})>>/);e=i.pop();var a=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(a&&(a=parseInt(a.year,10),a=isNaN(a)?!1:a),a){if(i.length>0)for(var s=n.length-1;s>0&&!(a>=parseInt(n[s],10));s--)e=i.pop();e=e.replace(/\s*\|\s*/g,"|")}return e};p.NameOutput.prototype._trimInstitution=function(r){var t=!1,e=!1,i=!1,n=!1,a=r.slice();if(this.institution){if(typeof this.institution.strings["use-first"]<"u"&&(t=this.institution.strings["use-first"]),typeof this.institution.strings["use-last"]<"u"&&(i=this.institution.strings["use-last"]),typeof this.institution.strings["stop-first"]<"u"&&(n=this.institution.strings["stop-first"]),typeof this.institution.strings["stop-last"]<"u"&&(e=this.institution.strings["stop-last"]),t&&(e&&(a=a.slice(0,e*-1)),a=a.slice(0,t)),i){var s=r.slice();t?n=t:a=[],n&&(s=s.slice(n)),s=s.slice(i*-1),a=a.concat(s)}r=a}return r};p.PublisherOutput=function(r,t){this.state=r,this.group_tok=t,this.varlist=[]};p.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()};p.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var r=!1;this.group_tok.strings.and==="text"?r=this.state.getTerm("and"):this.group_tok.strings.and==="symbol"&&(r="&");var t=new p.Token;t.strings.suffix=" ",t.strings.prefix=" ",this.state.output.append(r,t,!0);var e=this.state.output.pop();t.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(r,t,!0);var i=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,r&&(this.group_tok.strings["subgroup-delimiter-precedes-last"]==="always"?this.and_blob.single=i:this.group_tok.strings["subgroup-delimiter-precedes-last"]==="never"?(this.and_blob.single=e,this.and_blob.multiple=e):(this.and_blob.single=e,this.and_blob.multiple=i))};p.PublisherOutput.prototype.composeElements=function(){for(var r=0,t=2;r<t;r+=1)for(var e=["publisher","publisher-place"][r],i=0,n=this["publisher-list"].length;i<n;i+=1){var a=this[e+"-list"][i],s=this[e+"-token"];this.state.output.append(a,s,!0),this[e+"-list"][i]=this.state.output.pop()}};p.PublisherOutput.prototype.composePublishers=function(){for(var r,t=0,e=this["publisher-list"].length;t<e;t+=1)r=[this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this["publisher-list"][t]=this._join(r,this.group_tok.strings.delimiter)};p.PublisherOutput.prototype.joinPublishers=function(){var r=this["publisher-list"],t=this._join(r,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")};p.PublisherOutput.prototype._join=p.NameOutput.prototype._join;p.PublisherOutput.prototype._getToken=p.NameOutput.prototype._getToken;p.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1};p.evaluateLabel=function(r,t,e,i){var n;r.strings.term==="locator"?(i&&i.label&&(i.label==="sub verbo"?n="sub-verbo":n=i.label),n||(n="page")):n=r.strings.term;var a=r.strings.plural;if(typeof a!="number"){var s=i&&r.strings.term==="locator"?i:e;s[r.strings.term]&&(t.processNumber(!1,s,r.strings.term,e.type),a=t.tmp.shadow_numbers[r.strings.term].plural,!t.tmp.shadow_numbers[r.strings.term].labelForm&&!t.tmp.shadow_numbers[r.strings.term].labelDecorations&&(r.strings.form?t.tmp.shadow_numbers[r.strings.term].labelForm=r.strings.form:t.tmp.group_context.tip.label_form&&(t.tmp.shadow_numbers[r.strings.term].labelForm=t.tmp.group_context.tip.label_form),t.tmp.shadow_numbers[r.strings.term].labelCapitalizeIfFirst=r.strings.capitalize_if_first,t.tmp.shadow_numbers[r.strings.term].labelDecorations=r.decorations.slice()),["locator","number","page"].indexOf(r.strings.term)>-1&&t.tmp.shadow_numbers[r.strings.term].label&&(n=t.tmp.shadow_numbers[r.strings.term].label),r.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(r.decorations.reverse(),r.decorations.push(["@showid","true",r.cslid]),r.decorations.reverse()))}return p.castLabel(t,r,n,a,p.TOLERANT)};p.castLabel=function(r,t,e,i,n){var a=t.strings.form,s=t.strings.capitalize_if_first;r.tmp.group_context.tip.label_form&&(a==="static"?r.tmp.group_context.tip.label_static=!0:a=r.tmp.group_context.tip.label_form),r.tmp.group_context.tip.label_capitalize_if_first&&(s=r.tmp.group_context.tip.label_capitalize_if_first);var o=r.getTerm(e,a,i,!1,n,t.default_locale);if(s&&(o=p.Output.Formatters["capitalize-first"](r,o)),r.tmp.strip_periods)o=o.replace(/\./g,"");else for(var l=0,u=t.decorations.length;l<u;l+=1)if(t.decorations[l][0]==="@strip-periods"&&t.decorations[l][1]==="true"){o=o.replace(/\./g,"");break}return o};p.Node.name={build:function(r,t){var e;if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){var i;typeof r.tmp.root>"u"?(i=void 0,r.tmp.root="citation"):i=r.tmp.root,r.inheritOpt(this,"et-al-subsequent-min")&&r.inheritOpt(this,"et-al-subsequent-min")!==r.inheritOpt(this,"et-al-min")&&(r.opt.update_mode=p.POSITION),r.inheritOpt(this,"et-al-subsequent-use-first")&&r.inheritOpt(this,"et-al-subsequent-use-first")!==r.inheritOpt(this,"et-al-use-first")&&(r.opt.update_mode=p.POSITION),r.tmp.root=i,e=function(n){n.tmp.etal_term="et-al",n.tmp.name_delimiter=n.inheritOpt(this,"delimiter","name-delimiter",", "),n.tmp["delimiter-precedes-et-al"]=n.inheritOpt(this,"delimiter-precedes-et-al"),n.inheritOpt(this,"and")==="text"?this.and_term=n.getTerm("and","long",0):n.inheritOpt(this,"and")==="symbol"&&(n.opt.development_extensions.expect_and_symbol_form?this.and_term=n.getTerm("and","symbol",0):this.and_term="&"),n.tmp.and_term=this.and_term,p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof n.tmp.name_delimiter=="string"&&(this.and_prefix_multiple=n.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),n.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=n.tmp.name_delimiter:n.inheritOpt(this,"delimiter-precedes-last")==="never"?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):n.inheritOpt(this,"delimiter-precedes-last")==="after-inverted-name"&&(this.and_prefix_single&&(this.and_prefix_single=n.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},n.inheritOpt(this,"and")?(n.output.append(this.and_term,"empty",!0),this.and.single=n.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,n.output.append(this.and_term,"empty",!0),this.and.multiple=n.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):n.tmp.name_delimiter&&(this.and.single=new p.Blob(n.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(n.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},n.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="…",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=n.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new p.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new p.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),typeof n.tmp["et-al-min"]>"u"&&(n.tmp["et-al-min"]=n.inheritOpt(this,"et-al-min")),typeof n.tmp["et-al-use-first"]>"u"&&(n.tmp["et-al-use-first"]=n.inheritOpt(this,"et-al-use-first")),typeof n.tmp["et-al-use-last"]>"u"&&(n.tmp["et-al-use-last"]=n.inheritOpt(this,"et-al-use-last")),n.nameOutput.name=this},r.build.name_flag=!0,this.execs.push(e)}t.push(this)}};p.Node["name-part"]={build:function(r){r.build[this.strings.name]=this}};p.Node.names={build:function(r,t){var e;if((this.tokentype===p.START||this.tokentype===p.SINGLETON)&&(p.Util.substituteStart.call(this,r,t),r.build.substitute_level.push(1)),this.tokentype===p.SINGLETON){r.build.names_variables[r.build.names_variables.length-1].concat(this.variables);for(var i in this.variables){var n=this.variables[i],a=r.build.name_label[r.build.name_label.length-1];Object.keys(a).length&&(a[n]=a[Object.keys(a)[0]])}e=function(l){l.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(e)}if(this.tokentype===p.START&&(r.build.names_flag=!0,r.build.name_flag=!1,r.build.names_level+=1,r.build.names_variables.push(this.variables),r.build.name_label.push({}),e=function(l){l.tmp.can_substitute.push(!0),l.tmp.name_node={},l.tmp.name_node.children=[],l.nameOutput.init(this)},this.execs.push(e)),this.tokentype===p.END){for(var i=0,s=3;i<s;i+=1){var o=["family","given","et-al"][i];this[o]=r.build[o],r.build.names_level===1&&(r.build[o]=void 0)}this.label=r.build.name_label[r.build.name_label.length-1],r.build.names_level+=-1,r.build.names_variables.pop(),r.build.name_label.pop(),e=function(l){l.tmp.etal_node?this.etal_style=l.tmp.etal_node:this.etal_style="empty",this.etal_term=l.getTerm(l.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=l.tmp.name_delimiter,l.tmp["delimiter-precedes-et-al"]==="always"?this.etal_prefix_single=l.tmp.name_delimiter:l.tmp["delimiter-precedes-et-al"]==="never"?this.etal_prefix_multiple=" ":l.tmp["delimiter-precedes-et-al"]==="after-inverted-name"&&(this.etal_prefix_single=l.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",p.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(this.etal_prefix_single===" "&&(this.etal_prefix_single=""),this.etal_prefix_multiple===" "&&(this.etal_prefix_multiple=""),this.etal_suffix===" "&&(this.etal_suffix=""));for(var u=0,f=3;u<f;u+=1){var h=["family","given"][u];l.nameOutput[h]=this[h]}l.nameOutput.with=this.with;var c="with",m="",d="";p.STARTSWITH_ROMANESQUE_REGEXP.test(c)&&(m=" ",d=" ");var v={};v.single=new p.Blob(c),v.single.strings.suffix=d,v.multiple=new p.Blob(c),v.multiple.strings.suffix=d,l.inheritOpt(l.nameOutput.name,"delimiter-precedes-last")==="always"?(v.single.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter"),v.multiple.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter")):l.inheritOpt(l.nameOutput.name,"delimiter-precedes-last")==="contextual"?(v.single.strings.prefix=m,v.multiple.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter")):l.inheritOpt(l.nameOutput.name,"delimiter-precedes-last")==="after-inverted-name"?(v.single.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter"),v.multiple.strings.prefix=m):(v.single.strings.prefix=m,v.multiple.strings.prefix=m),l.nameOutput.with=v,l.nameOutput.label=this.label,l.nameOutput.etal_style=this.etal_style,l.nameOutput.etal_term=this.etal_term,l.nameOutput.etal_prefix_single=this.etal_prefix_single,l.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,l.nameOutput.etal_suffix=this.etal_suffix,l.nameOutput.outputNames(),l.tmp["et-al-use-first"]=void 0,l.tmp["et-al-min"]=void 0,l.tmp["et-al-use-last"]=void 0},this.execs.push(e),e=function(l){l.tmp.can_substitute.pop()||l.tmp.can_substitute.replace(!1,p.LITERAL),l.tmp.can_substitute.mystack.length===1&&(l.tmp.can_block_substitute=!1)},this.execs.push(e),r.build.name_flag=!1}t.push(this),(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(r.build.substitute_level.pop(),p.Util.substituteEnd.call(this,r,t))}};p.Node.number={build:function(r,t){var e;p.Util.substituteStart.call(this,r,t),this.strings.form==="roman"?this.formatter=r.fun.romanizer:this.strings.form==="ordinal"?this.formatter=r.fun.ordinalizer:this.strings.form==="long-ordinal"&&(this.formatter=r.fun.long_ordinalizer),typeof this.successor_prefix>"u"&&(this.successor_prefix=r[r.build.area].opt.layout_delimiter),typeof this.splice_prefix>"u"&&(this.splice_prefix=r[r.build.area].opt.layout_delimiter),e=function(i,n,a){if(this.variables.length!==0){var s;if(s=this.variables[0],typeof a>"u")var a={};if(["locator","locator-extra"].indexOf(s)>-1){if(i.tmp.just_looking||!a[s])return}else if(!n[s])return;s==="collection-number"&&n.type==="legal_case"&&(i.tmp.renders_collection_number=!0);var o=this;if(i.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(s)>-1?i.processNumber.call(i,o,a,s,n.type):(!i.tmp.group_context.tip.condition&&n[s]&&(i.tmp.just_did_number=(""+n[s]).match(/[0-9]$/)),i.processNumber.call(i,o,n,s,n.type)),this.substring){var l=n[s].slice(this.substring);i.output.append(l,o)}else p.Util.outputNumericField(i,s,n.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!i.tmp.just_looking&&(i.tmp.done_vars.push(this.variables_real[0]),i.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(e),t.push(this),p.Util.substituteEnd.call(this,r,t)}};p.Node.sort={build:function(r,t){if(t=r[r.build.root+"_sort"].tokens,this.tokentype===p.START){r.build.area==="citation"&&(r.opt.sort_citations=!0),r.build.area=r.build.root+"_sort",r.build.extension="_sort";var e=function(i,n){if(i.opt.has_layout_locale){for(var a=p.localeResolve(n.language,i.opt["default-locale"][0]),s=i[i.tmp.area.slice(0,-5)].opt.sort_locales,o,l=0,u=s.length;l<u&&(o=s[l][a.bare],o||(o=s[l][a.best]),!o);l+=1);o||(o=i.opt["default-locale"][0]),i.tmp.lang_sort_hold=i.opt.lang,i.opt.lang=o}};this.execs.push(e)}if(this.tokentype===p.END){r.build.area=r.build.root,r.build.extension="";var e=function(n){n.opt.has_layout_locale&&(n.opt.lang=n.tmp.lang_sort_hold,delete n.tmp.lang_sort_hold)};this.execs.push(e)}t.push(this)}};p.Node.substitute={build:function(r,t){var e;if(this.tokentype===p.START){var i=new p.Token("choose",p.START);p.Node.choose.build.call(i,r,t);var n=new p.Token("if",p.SINGLETON);e=function(){return!!(r.tmp.value.length&&!r.tmp.common_term_match_fail)},n.tests=[e],n.test=r.fun.match.any(n,r,n.tests),t.push(n),e=function(s){s.tmp.can_block_substitute=!0,s.tmp.value.length&&!s.tmp.common_term_match_fail&&s.tmp.can_substitute.replace(!1,p.LITERAL),s.tmp.common_term_match_fail=!1},this.execs.push(e),t.push(this)}if(this.tokentype===p.END){t.push(this);var a=new p.Token("choose",p.END);p.Node.choose.build.call(a,r,t)}}};p.Node.text={build:function(r,t){var e,i,n,a,s,o,l,u,f,h,c;if(this.postponed_macro){var m=p.Util.cloneToken(this);m.name="group",m.tokentype=p.START,p.Node.group.build.call(m,r,t),p.expandMacro.call(r,this,t);var d=p.Util.cloneToken(this);d.name="group",d.tokentype=p.END,this.postponed_macro==="juris-locator-label"&&(d.isJurisLocatorLabel=!0),p.Node.group.build.call(d,r,t)}else{if(p.Util.substituteStart.call(this,r,t),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),i="long",n=0,this.strings.form&&(i=this.strings.form),this.strings.plural&&(n=this.strings.plural),this.variables_real[0]==="citation-number"||this.variables_real[0]==="year-suffix"||this.variables_real[0]==="citation-label")this.variables_real[0]==="citation-number"?(r.build.root==="citation"&&(r.opt.update_mode=p.NUMERIC),r.build.root==="bibliography"&&(r.opt.bib_mode=p.NUMERIC),r[r.tmp.area].opt.collapse==="citation-number"&&(this.range_prefix=r.getTerm("citation-range-delimiter")),this.successor_prefix=r[r.build.area].opt.layout_delimiter,this.splice_prefix=r[r.build.area].opt.layout_delimiter,e=function(y,$,I){if(a=""+$.id,!y.tmp.just_looking){if(y.tmp.area.slice(-5)==="_sort"&&this.variables[0]==="citation-number"){if(y.tmp.area==="bibliography_sort"&&y.tmp.group_context.tip.done_vars.push("citation-number"),y.tmp.area==="citation_sort"&&y.bibliography_sort.tmp.citation_number_map)var A=y.bibliography_sort.tmp.citation_number_map[y.registry.registry[$.id].seq];else var A=y.registry.registry[$.id].seq;A&&(A=p.Util.padding(""+A)),y.output.append(A,this);return}I&&I["author-only"]&&y.tmp.element_trace.replace("suppress-me"),y.tmp.area!=="bibliography_sort"&&y.bibliography_sort.tmp.citation_number_map&&y.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING?A=y.bibliography_sort.tmp.citation_number_map[y.registry.registry[a].seq]:A=y.registry.registry[a].seq,y.opt.citation_number_slug?y.output.append(y.opt.citation_number_slug,this):(o=new p.NumericBlob(y,!1,A,this,$.id),y.tmp.in_cite_predecessor&&(o.suppress_splice_prefix=!0),y.output.append(o,"literal"))}},this.execs.push(e)):this.variables_real[0]==="year-suffix"?(r.opt.has_year_suffix=!0,r[r.tmp.area].opt.collapse==="year-suffix-ranged"&&(this.range_prefix=r.getTerm("citation-range-delimiter")),this.successor_prefix=r[r.build.area].opt.layout_delimiter,r[r.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=r[r.build.area].opt["year-suffix-delimiter"]),e=function(y,$){if(y.registry.registry[$.id]&&y.registry.registry[$.id].disambig.year_suffix!==!1&&!y.tmp.just_looking){s=parseInt(y.registry.registry[$.id].disambig.year_suffix,10),y[y.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=y[y.tmp.area].opt.cite_group_delimiter),o=new p.NumericBlob(y,!1,s,this,$.id),l=new p.Util.Suffixator(p.SUFFIX_CHARS),o.setFormatter(l),y.output.append(o,"literal"),u=!1;for(var I=0,A=y.tmp.group_context.mystack.length;I<A;I++){var B=y.tmp.group_context.mystack[I];if(!B.variable_success&&(B.variable_attempt||!B.variable_attempt&&!B.term_intended)){u=!0;break}}f=y[y.tmp.area].opt["year-suffix-delimiter"],u&&f&&!y.tmp.sort_key_flag&&(y.tmp.splice_delimiter=y[y.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(e)):this.variables_real[0]==="citation-label"&&(r.build.root==="bibliography"&&(r.opt.bib_mode=p.TRIGRAPH),r.opt.has_year_suffix=!0,e=function(y,$){h=$["citation-label"],h||(h=y.getCitationLabel($)),y.tmp.just_looking||(c="",y.registry.registry[$.id]&&y.registry.registry[$.id].disambig.year_suffix!==!1&&(s=parseInt(y.registry.registry[$.id].disambig.year_suffix,10),c=y.fun.suffixator.format(s)),h+=c),y.output.append(h,this)},this.execs.push(e));else if(this.strings.term)e=function(y,$){var I=y.opt.gender[$.type],A=this.strings.term;A=y.getTerm(A,i,n,I,p.TOLERANT,this.default_locale);var B;if(A!==""&&(y.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(y,A,null,this),!y.tmp.term_predecessor&&!(y.opt.class==="in-text"&&y.tmp.area==="citation")?B=p.Output.Formatters["capitalize-first"](y,A):B=A,y.tmp.strip_periods)B=B.replace(/\./g,"");else for(var T=0,x=this.decorations.length;T<x;T+=1)if(this.decorations[T][0]==="@strip-periods"&&this.decorations[T][1]==="true"){B=B.replace(/\./g,"");break}y.output.append(B,this),y.tmp.can_block_substitute&&y.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(e),r.build.term=!1,r.build.form=!1,r.build.plural=!1;else if(this.variables_real.length){if(e=function(y,$){this.variables_real[0]!=="locator"&&(y.tmp.have_collapsed=!1),!y.tmp.group_context.tip.condition&&$[this.variables[0]]&&(y.tmp.just_did_number=!1);var I=$[this.variables[0]];I&&!y.tmp.group_context.tip.condition&&((""+I).slice(-1).match(/[0-9]/)?y.tmp.just_did_number=!0:y.tmp.just_did_number=!1)},this.execs.push(e),p.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var v=this.variables[0],b=!1,g=!1,_=!1;i==="short"?this.variables_real[0].slice(-6)!=="-short"&&(g=this.variables_real[0]+"-short"):v=!1,r.build.extension?_=!0:(_=!0,b=!0),e=r.transform.getOutputFunction(this.variables,v,b,g,_)}else p.CITE_FIELDS.indexOf(this.variables_real[0])>-1?e=function(y,$,I){I&&I[this.variables[0]]&&(y.processNumber(this,I,this.variables[0],$.type),p.Util.outputNumericField(y,this.variables[0],$.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!y.tmp.just_looking&&y.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?e=function(y,$){y.processNumber(this,$,this.variables[0],$.type),p.Util.outputNumericField(y,this.variables[0],$.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?e=function(y,$){var I;if(this.variables[0]&&(I=y.getVariable($,this.variables[0],i),I))if(this.variables[0]==="URL"&&i==="short"&&(I=I.replace(/(.*\.[^\/]+)\/.*/,"$1"),I.match(/\/\/www\./)&&(I=I.replace(/https?:\/\//,""))),y.opt.development_extensions.wrap_url_and_doi)if(!this.decorations.length||this.decorations[0][0]!=="@"+this.variables[0]){var A=p.Util.cloneToken(this),B=new p.Blob(null,null,"url-wrapper");if(B.decorations.push(["@DOI","true"]),this.variables_real[0]==="DOI"){var T;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(I=I.replace(/^https?:\/\/doi\.org\//,""),I.match(/^https?:\/\//)?T="":T="https://doi.org/",A.strings.prefix=this.strings.prefix.slice(0,A.strings.prefix.length-16));var x=new p.Blob(T),U=new p.Blob(I);B.push(x),B.push(U),y.output.append(B,A,!1,!1,!0)}else{var U=new p.Blob(I);B.push(U),y.output.append(B,A,!1,!1,!0)}}else y.output.append(I,this,!1,!1,!0);else{if(this.decorations.length)for(var O=this.decorations.length-1;O>-1;O--)this.decorations[O][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,O).concat(this.decorations.slice(O+1)));y.output.append(I,this,!1,!1,!0)}}:this.variables_real[0]==="section"?e=function(y,$){var I;I=y.getVariable($,this.variables[0],i),I&&y.output.append(I,this)}:this.variables_real[0]==="hereinafter"?e=function(y,$){var I=y.transform.abbrevs.default.hereinafter[$.id];I&&(y.output.append(I,this),y.tmp.group_context.tip.variable_success=!0)}:e=function(y,$){var I;this.variables[0]&&(I=y.getVariable($,this.variables[0],i),I&&(I=""+I,I=I.split("\\").join(""),y.output.append(I,this)))};this.execs.push(e)}else this.strings.value&&(e=function(y){y.tmp.group_context.tip.term_intended=!0,p.UPDATE_GROUP_CONTEXT_CONDITION(y,this.strings.value,!0,this),y.output.append(this.strings.value,this),y.tmp.can_block_substitute&&y.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(e));t.push(this),p.Util.substituteEnd.call(this,r,t)}}};p.Node.intext={build:function(r,t){if(this.tokentype===p.START){r.build.area="intext",r.build.root="intext",r.build.extension="";var e=function(i,n){i.tmp.area="intext",i.tmp.root="intext",i.tmp.extension=""};this.execs.push(e)}this.tokentype===p.END&&(r.intext_sort={opt:{sort_directions:r.citation_sort.opt.sort_directions}},r.intext.srt=r.citation.srt),t.push(this)}};p.Attributes={};p.Attributes["@disambiguate"]=function(r,t){if(this.tests||(this.tests=[]),t==="true"){r.opt.has_disambiguate=!0;var e=function(i){if(r.tmp.area==="bibliography"){if(r.tmp.disambiguate_count<r.registry.registry[i.id].disambig.disambiguate)return r.tmp.disambiguate_count+=1,!0}else if(r.tmp.disambiguate_maxMax+=1,r.tmp.disambig_settings.disambiguate&&r.tmp.disambiguate_count<r.tmp.disambig_settings.disambiguate)return r.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(e)}else if(t==="check-ambiguity-and-backreference"){var e=function(n){return!!(r.registry.registry[n.id].disambig.disambiguate&&r.registry.registry[n.id]["citation-count"]>1)};this.tests.push(e)}};p.Attributes["@is-numeric"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(a){return function(s,o){var l=s;if(o&&["locator","locator-extra"].indexOf(a)>-1&&(l=o),!l[a])return!1;if(p.NUMERIC_VARIABLES.indexOf(a)>-1){if(r.tmp.shadow_numbers[a]||r.processNumber(!1,l,a,s.type),r.tmp.shadow_numbers[a].numeric)return!0}else if(["title","version"].indexOf(a)>-1&&l[a].slice(-1)===""+parseInt(l[a].slice(-1),10))return!0;return!1}},n=0;n<e.length;n+=1)this.tests.push(i(e[n]))};p.Attributes["@is-uncertain-date"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){return!!(o[s]&&o[s].circa)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@locator"]=function(r,t){this.tests||(this.tests=[]);var e=t.replace("sub verbo","sub-verbo");e=e.split(/\s+/);for(var i=function(s){return function(o,l){var u;return r.processNumber(!1,l,"locator"),u=r.tmp.shadow_numbers.locator.label,!!(u&&s===u)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@position"]=function(r,t){this.tests||(this.tests=[]);var e;r.opt.update_mode=p.POSITION;for(var i=t.split(/\s+/),n=function(u,f){return!!(f&&p.POSITION_MAP[f.position]>=p.POSITION_MAP[p.POSITION_SUBSEQUENT]&&f["near-note"])},a=function(u,f){return!!(f&&p.POSITION_MAP[f.position]==p.POSITION_MAP[p.POSITION_SUBSEQUENT]&&!f["near-note"])},s=function(u){return function(f,h){if(r.tmp.area==="bibliography")return!1;if(h&&typeof h.position>"u"&&(h.position=0),h&&typeof h.position=="number"){if(h.position===0&&u===0)return!0;if(u>0&&p.POSITION_MAP[h.position]>=p.POSITION_MAP[u])return!0}else if(u===0)return!0;return!1}},o=0,l=i.length;o<l;o+=1){var e=i[o];e==="first"?e=p.POSITION_FIRST:e==="container-subsequent"?e=p.POSITION_CONTAINER_SUBSEQUENT:e==="subsequent"?e=p.POSITION_SUBSEQUENT:e==="ibid"?e=p.POSITION_IBID:e==="ibid-with-locator"&&(e=p.POSITION_IBID_WITH_LOCATOR),e==="near-note"?this.tests.push(n):e==="far-note"?this.tests.push(a):this.tests.push(s(e))}};p.Attributes["@type"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(o){return function(l){var u=l.type===o;return!!u}},n=[],a=0,s=e.length;a<s;a+=1)n.push(i(e[a]));this.tests.push(r.fun.match.any(this,r,n))};p.Attributes["@variable"]=function(r,t){this.tests||(this.tests=[]);var e;if(this.variables=t.split(/\s+/),this.variables_real=this.variables.slice(),this.name==="label"&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)e=function(s,o,l){for(var u=this.variables.length-1;u>-1;u+=-1)this.variables.pop();for(var u=0,f=this.variables_real.length;u<f;u++)s.tmp.done_vars.indexOf(this.variables_real[u])===-1&&this.variables.push(this.variables_real[u]),s.tmp.can_block_substitute&&s.tmp.done_vars.push(this.variables_real[u])},this.execs.push(e),e=function(s,o,l){for(var u=!1,f=0,h=this.variables.length;f<h;f++){var c=this.variables[f];if(["authority","committee"].indexOf(c)>-1&&typeof o[c]=="string"&&this.name==="names"){var m=!0,d=o[c].split(/\s*;\s*/),v={};if(o.multi&&o.multi._keys[c]){for(var b in o.multi._keys[c])if(v[b]=o.multi._keys[c][b].split(/\s*;\s*/),v[b].length!==d.length){m=!1;break}}m||(d=[o[c]],v=o.multi._keys[c]);for(var g=0,_=d.length;g<_;g++){var y={literal:d[g],multi:{_key:{}}};for(var b in v){var $={literal:v[b][g]};y.multi._key[b]=$}d[g]=y}o[c]=d}if(this.strings.form==="short"&&!o[c]&&(c==="title"?c="title-short":c==="container-title"&&(c="container-title-short")),c==="year-suffix"){u=!0;break}else if(p.DATE_VARIABLES.indexOf(c)>-1){if(s.opt.development_extensions.locator_date_and_revision&&c==="locator-date"){u=!0;break}if(o[c]){for(var I in o[c])if(!(this.dateparts.indexOf(I)===-1&&I!=="literal")&&o[c][I]){u=!0;break}if(u)break}}else if(c==="locator"){l&&l.locator&&(u=!0);break}else if(c==="locator-extra"){l&&l["locator-extra"]&&(u=!0);break}else if(["citation-number","citation-label"].indexOf(c)>-1){u=!0;break}else if(c==="first-reference-note-number"){l&&l["first-reference-note-number"]&&(u=!0);break}else if(c==="first-container-reference-note-number"){l&&l["first-container-reference-note-number"]&&(u=!0);break}else if(c==="hereinafter"){s.transform.abbrevs.default.hereinafter[o.id]&&s.sys.getAbbreviation&&o.id&&(u=!0);break}else{if(typeof o[c]=="object")break;if(typeof o[c]=="string"&&o[c]){u=!0;break}else if(typeof o[c]=="number"){u=!0;break}}if(u)break}if(u){for(var f=0,h=this.variables_real.length;f<h;f++){var c=this.variables_real[f];(c!=="citation-number"||s.tmp.area!=="bibliography")&&(s.tmp.cite_renders_content=!0),s.tmp.group_context.tip.variable_success=!0,s.tmp.can_substitute.value()&&s.tmp.area==="bibliography"&&typeof o[c]=="string"&&(s.tmp.name_node.top=s.output.current.value(),s.tmp.rendered_name.push(o[c]))}s.tmp.can_substitute.replace(!1,p.LITERAL)}else s.tmp.group_context.tip.variable_attempt=!0},this.execs.push(e);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var i=function(s){return function(o,l){var u=o;if(l&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(s)>-1&&(u=l),s==="hereinafter"&&r.sys.getAbbreviation&&u.id){if(r.transform.abbrevs.default.hereinafter[u.id])return!0}else if(u[s]){if(typeof u[s]=="number"||typeof u[s]=="string")return!0;if(typeof u[s]=="object"){for(var f in u[s])if(u[s][f])return!0}}return!1}},n=0,a=this.variables.length;n<a;n+=1)this.tests.push(i(this.variables[n]))};p.Attributes["@page"]=function(r,t){this.tests||(this.tests=[]);var e=t.replace("sub verbo","sub-verbo");e=e.split(/\s+/);for(var i=function(s){return function(o){var l;return r.processNumber(!1,o,"page",o.type),r.tmp.shadow_numbers.page.label?r.tmp.shadow_numbers.page.label==="sub verbo"?l="sub-verbo":l=r.tmp.shadow_numbers.page.label:l="page",r.tmp.shadow_numbers.page.values.length>0&&r.tmp.shadow_numbers.page.values[0].gotosleepability&&(r.tmp.shadow_numbers.page.values[0].labelVisibility=!1),s===l}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@number"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l;return r.processNumber(!1,o,"number",o.type),r.tmp.shadow_numbers.number.label?l=r.tmp.shadow_numbers.number.label:l="number",s===l}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@jurisdiction"]=function(r,t){this.tests||(this.tests=[]);var e=t.split(/\s+/),i=function(n){return function(a){if(!a.jurisdiction)return!1;for(var s=a.jurisdiction,o=0,l=n.length;o<l;o++)if(s===n[o])return!0;return!1}};this.tests.push(i(e))};p.Attributes["@country"]=function(r,t){this.tests||(this.tests=[]);var e=t.split(/\s+/),i=function(n){return function(a){if(!a.country)return!1;for(var s=a.country,o=0,l=n.length;o<l;o++)if(s===n[o])return!0;return!1}};this.tests.push(i(e))};p.Attributes["@context"]=function(r,t){this.tests||(this.tests=[]);var e=function(){if(["bibliography","citation"].indexOf(t)>-1){var i=r.tmp.area.slice(0,t.length);return i===t}else if(t==="alternative")return!!r.tmp.abort_alternative};this.tests.push(e)};p.Attributes["@has-year-only"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=o[s];return!(!l||l.month||l.season)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@has-to-month-or-season"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=o[s];return!(!l||!l.month&&!l.season||l.day)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@has-day"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=o[s];return!(!l||!l.day)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@is-plural"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){var n=i[t];if(n&&n.length){for(var a=0,s=0,o=!1,l=0,u=n.length;l<u;l+=1)r.opt.development_extensions.spoof_institutional_affiliations&&(n[l].literal||n[l].isInstitution&&n[l].family&&!n[l].given)?(s+=1,o=!1):(a+=1,o=!0);if(a>1)return!0;if(s>1)return!0;if(s&&o)return!0}return!1};this.tests.push(e)};p.Attributes["@is-multiple"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){var n=""+i[t],a=n.split(/(?:,\s|\s(?:tot\sen\smet|līdz|oraz|and|bis|έως|και|och|až|do|en|et|in|ir|ja|og|sa|to|un|und|és|și|i|u|y|à|e|a|и|-|–)\s|—|\&)/);return a.length>1};this.tests.push(e)};p.Attributes["@locale"]=function(r,t){this.tests||(this.tests=[]);var e,i,n,a,s,o=r.opt["default-locale"][0];if(this.name==="layout"){if(this.locale_raw=t,this.tokentype===p.START){r.opt.multi_layout||(r.opt.multi_layout=[]);var l=[],u=t.split(/\s+/),f={},h=p.localeResolve(u[0],o);l.push(h),h.generic?f[h.generic]=h.best:f[h.best]=h.best;for(var a=1,s=u.length;a<s;a+=1){var c=p.localeResolve(u[a],o);l.push(c),c.generic?f[c.generic]=h.best:f[c.best]=h.best}r[r.build.area].opt.sort_locales.push(f),r.opt.multi_layout.push(l)}r.opt.has_layout_locale=!0}else{n=t.split(/\s+/);var m=[];for(a=0,s=n.length;a<s;a+=1)i=n[a],e=p.localeResolve(i,o),n[a].length===2&&m.push(e.bare),r.localeConfigure(e,!0),n[a]=e;var d=n.slice(),v=function(b,g,_){return function(y){var $;$=!1;var I=!1,A;for(y.language?A=y.language:A=g,I=p.localeResolve(A,g),a=0,s=b.length;a<s;a+=1)if(I.best===b[a].best){r.tmp.condition_lang_counter_arr.push(r.tmp.condition_counter),r.tmp.condition_lang_val_arr.push(r.opt.lang),r.opt.lang=b[0].best,$=!0;break}return!$&&_.indexOf(I.bare)>-1&&(r.tmp.condition_lang_counter_arr.push(r.tmp.condition_counter),r.tmp.condition_lang_val_arr.push(r.opt.lang),r.opt.lang=b[0].best,$=!0),$}};this.tests.push(v(d,o,m))}};p.Attributes["@alternative-node-internal"]=function(r){this.tests||(this.tests=[]);var t=function(){return function(){return!r.tmp.abort_alternative}};this.tests.push(t())};p.Attributes["@locale-internal"]=function(r,t){this.tests||(this.tests=[]);var e,i,n,a,s;for(n=t.split(/\s+/),this.locale_bares=[],a=0,s=n.length;a<s;a+=1)i=n[a],e=p.localeResolve(i,r.opt["default-locale"][0]),n[a].length===2&&this.locale_bares.push(e.bare),r.localeConfigure(e),n[a]=e;this.locale_default=r.opt["default-locale"][0],this.locale=n[0].best,this.locale_list=n.slice();var o=function(u){return function(f){var h;h=!1;var c=!1;if(f.language&&(i=f.language,c=p.localeResolve(i,r.opt["default-locale"][0]),c.best===r.opt["default-locale"][0]&&(c=!1)),c){for(a=0,s=u.locale_list.length;a<s;a+=1)if(c.best===u.locale_list[a].best){r.opt.lang=u.locale,r.tmp.last_cite_locale=u.locale,r.output.openLevel("empty"),r.output.current.value().new_locale=u.locale,h=!0;break}!h&&u.locale_bares.indexOf(c.bare)>-1&&(r.opt.lang=u.locale,r.tmp.last_cite_locale=u.locale,r.output.openLevel("empty"),r.output.current.value().new_locale=u.locale,h=!0)}return h}},l=this;this.tests.push(o(l))};p.Attributes["@court-class"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=p.GET_COURT_CLASS(r,o);return l===s}},n=0,a=e.length;n<a;n++)this.tests.push(i(e[n]))};p.Attributes["@container-multiple"]=function(r,t){this.tests||(this.tests=[]);var e=t==="true",i=function(n){return function(a){if(r.tmp.container_item_count[a.container_id]){if(r.tmp.container_item_count[a.container_id]>1)return n}else return!n;return!n}};this.tests.push(i(e))};p.Attributes["@container-subsequent"]=function(r,t){this.tests||(this.tests=[]);var e=t==="true",i=function(n){return function(a){return r.tmp.container_item_pos[a.container_id]>1?n:!n}};this.tests.push(i(e))};p.Attributes["@has-subunit"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){return function(n){var a=0;for(var s in n[i]){var o=n[i][s];if(!o.given){var l=o.literal?o.literal:o.family,u=l.split("|").length;(a===0||u<a)&&(a=u)}}return a>1}};this.tests.push(e(t))};p.Attributes["@cite-form"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){return function(n){return n["cite-form"]===i}};this.tests.push(e(t))};p.Attributes["@disable-duplicate-year-suppression"]=function(r,t){r.opt.disable_duplicate_year_suppression=t.split(/\s+/)};p.Attributes["@consolidate-containers"]=function(r,t){p.Attributes["@track-containers"](r,t);var e=t.split(/\s+/);r.bibliography.opt.consolidate_containers=e};p.Attributes["@track-containers"]=function(r,t){var e=t.split(/\s+/);r.bibliography.opt.track_container_items||(r.bibliography.opt.track_container_items=[]),r.bibliography.opt.consolidate_containers||(r.bibliography.opt.consolidate_containers=[]),r.bibliography.opt.track_container_items=r.bibliography.opt.track_container_items.concat(e)};p.Attributes["@parallel-first"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);r.opt.track_repeat||(r.opt.track_repeat={}),this.parallel_first={};for(var i in e){var n=e[i];this.parallel_first[n]=!0,r.opt.track_repeat[n]=!0}};p.Attributes["@parallel-last"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);r.opt.track_repeat||(r.opt.track_repeat={}),this.parallel_last={};for(var i in e){var n=e[i];this.parallel_last[n]=!0,r.opt.track_repeat[n]=!0}};p.Attributes["@parallel-last-to-first"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);this.parallel_last_to_first={};for(var i=0,n=e.length;i<n;i++)this.parallel_last_to_first[e[i]]=!0};p.Attributes["@parallel-delimiter-override"]=function(r,t){r.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=t};p.Attributes["@parallel-delimiter-override-on-suppress"]=function(r,t){r.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=t};p.Attributes["@no-repeat"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);r.opt.track_repeat||(r.opt.track_repeat={}),this.non_parallel={};for(var i in e){var n=e[i];this.non_parallel[n]=!0,r.opt.track_repeat[n]=!0}};p.Attributes["@require"]=function(r,t){r.opt.use_context_condition=!0,this.strings.require=t};p.Attributes["@reject"]=function(r,t){r.opt.use_context_condition=!0,this.strings.reject=t};p.Attributes["@require-comma-on-symbol"]=function(r,t){r.opt.require_comma_on_symbol=t};p.Attributes["@gender"]=function(r,t){this.gender=t};p.Attributes["@cslid"]=function(r,t){this.cslid=parseInt(t,10)};p.Attributes["@capitalize-if-first"]=function(r,t){this.strings.capitalize_if_first_override=t};p.Attributes["@label-capitalize-if-first"]=function(r,t){this.strings.label_capitalize_if_first_override=t};p.Attributes["@label-form"]=function(r,t){this.strings.label_form_override=t};p.Attributes["@part-separator"]=function(r,t){this.strings["part-separator"]=t};p.Attributes["@leading-noise-words"]=function(r,t){this["leading-noise-words"]=t};p.Attributes["@name-never-short"]=function(r,t){this["name-never-short"]=t};p.Attributes["@class"]=function(r,t){r.opt.class=t};p.Attributes["@version"]=function(r,t){r.opt.version=t};p.Attributes["@value"]=function(r,t){this.strings.value=t};p.Attributes["@name"]=function(r,t){this.strings.name=t};p.Attributes["@form"]=function(r,t){this.strings.form=t};p.Attributes["@date-parts"]=function(r,t){this.strings["date-parts"]=t};p.Attributes["@range-delimiter"]=function(r,t){this.strings["range-delimiter"]=t};p.Attributes["@macro"]=function(r,t){this.postponed_macro=t};p.Attributes["@term"]=function(r,t){t==="sub verbo"?this.strings.term="sub-verbo":this.strings.term=t};p.Attributes["@xmlns"]=function(){};p.Attributes["@lang"]=function(r,t){t&&(r.build.lang=t)};p.Attributes["@lingo"]=function(){};p.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0};p.Attributes["@suffix"]=function(r,t){this.strings.suffix=t};p.Attributes["@prefix"]=function(r,t){this.strings.prefix=t};p.Attributes["@delimiter"]=function(r,t){this.strings.delimiter=t};p.Attributes["@match"]=function(r,t){this.match=t};p.Attributes["@names-min"]=function(r,t){var e=parseInt(t,10);r[r.build.area].opt.max_number_of_names<e&&(r[r.build.area].opt.max_number_of_names=e),this.strings["et-al-min"]=e};p.Attributes["@names-use-first"]=function(r,t){this.strings["et-al-use-first"]=parseInt(t,10)};p.Attributes["@names-use-last"]=function(r,t){t==="true"?this.strings["et-al-use-last"]=!0:this.strings["et-al-use-last"]=!1};p.Attributes["@sort"]=function(r,t){t==="descending"&&(this.strings.sort_direction=p.DESCENDING)};p.Attributes["@plural"]=function(r,t){t==="always"||t==="true"?this.strings.plural=1:t==="never"||t==="false"?this.strings.plural=0:t==="contextual"&&(this.strings.plural=!1)};p.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0};p.Attributes["@publisher-delimiter-precedes-last"]=function(r,t){this.strings["publisher-delimiter-precedes-last"]=t};p.Attributes["@publisher-delimiter"]=function(r,t){this.strings["publisher-delimiter"]=t};p.Attributes["@publisher-and"]=function(r,t){this.strings["publisher-and"]=t};p.Attributes["@givenname-disambiguation-rule"]=function(r,t){p.GIVENNAME_DISAMBIGUATION_RULES.indexOf(t)>-1&&(r.citation.opt["givenname-disambiguation-rule"]=t)};p.Attributes["@collapse"]=function(r,t){t&&(r[this.name].opt.collapse=t)};p.Attributes["@cite-group-delimiter"]=function(r,t){t&&(r[r.tmp.area].opt.cite_group_delimiter=t)};p.Attributes["@names-delimiter"]=function(r,t){r.setOpt(this,"names-delimiter",t)};p.Attributes["@name-form"]=function(r,t){r.setOpt(this,"name-form",t)};p.Attributes["@subgroup-delimiter"]=function(r,t){this.strings["subgroup-delimiter"]=t};p.Attributes["@subgroup-delimiter-precedes-last"]=function(r,t){this.strings["subgroup-delimiter-precedes-last"]=t};p.Attributes["@name-delimiter"]=function(r,t){r.setOpt(this,"name-delimiter",t)};p.Attributes["@et-al-min"]=function(r,t){var e=parseInt(t,10);r[r.build.area].opt.max_number_of_names<e&&(r[r.build.area].opt.max_number_of_names=e),r.setOpt(this,"et-al-min",e)};p.Attributes["@et-al-use-first"]=function(r,t){r.setOpt(this,"et-al-use-first",parseInt(t,10))};p.Attributes["@et-al-use-last"]=function(r,t){t==="true"?r.setOpt(this,"et-al-use-last",!0):r.setOpt(this,"et-al-use-last",!1)};p.Attributes["@et-al-subsequent-min"]=function(r,t){var e=parseInt(t,10);r[r.build.area].opt.max_number_of_names<e&&(r[r.build.area].opt.max_number_of_names=e),r.setOpt(this,"et-al-subsequent-min",e)};p.Attributes["@et-al-subsequent-use-first"]=function(r,t){r.setOpt(this,"et-al-subsequent-use-first",parseInt(t,10))};p.Attributes["@suppress-min"]=function(r,t){this.strings["suppress-min"]=parseInt(t,10)};p.Attributes["@suppress-max"]=function(r,t){this.strings["suppress-max"]=parseInt(t,10)};p.Attributes["@and"]=function(r,t){r.setOpt(this,"and",t)};p.Attributes["@delimiter-precedes-last"]=function(r,t){r.setOpt(this,"delimiter-precedes-last",t)};p.Attributes["@delimiter-precedes-et-al"]=function(r,t){r.setOpt(this,"delimiter-precedes-et-al",t)};p.Attributes["@initialize-with"]=function(r,t){r.setOpt(this,"initialize-with",t)};p.Attributes["@initialize"]=function(r,t){t==="false"&&r.setOpt(this,"initialize",!1)};p.Attributes["@name-as-reverse-order"]=function(r,t){this["name-as-reverse-order"]=t};p.Attributes["@name-as-sort-order"]=function(r,t){this.name==="style-options"?this["name-as-sort-order"]=t:r.setOpt(this,"name-as-sort-order",t)};p.Attributes["@sort-separator"]=function(r,t){r.setOpt(this,"sort-separator",t)};p.Attributes["@require-match"]=function(r,t){t==="true"&&(this.requireMatch=!0)};p.Attributes["@exclude-types"]=function(r,t){r.bibliography.opt.exclude_types=t.split(/\s+/)};p.Attributes["@exclude-with-fields"]=function(r,t){r.bibliography.opt.exclude_with_fields=t.split(/\s+/)};p.Attributes["@year-suffix-delimiter"]=function(r,t){r[this.name].opt["year-suffix-delimiter"]=t};p.Attributes["@after-collapse-delimiter"]=function(r,t){r[this.name].opt["after-collapse-delimiter"]=t};p.Attributes["@subsequent-author-substitute"]=function(r,t){r[this.name].opt["subsequent-author-substitute"]=t};p.Attributes["@subsequent-author-substitute-rule"]=function(r,t){r[this.name].opt["subsequent-author-substitute-rule"]=t};p.Attributes["@disambiguate-add-names"]=function(r,t){t==="true"&&(r.opt["disambiguate-add-names"]=!0)};p.Attributes["@disambiguate-add-givenname"]=function(r,t){t==="true"&&(r.opt["disambiguate-add-givenname"]=!0)};p.Attributes["@disambiguate-add-year-suffix"]=function(r,t){t==="true"&&r.opt.xclass!=="numeric"&&(r.opt["disambiguate-add-year-suffix"]=!0)};p.Attributes["@second-field-align"]=function(r,t){(t==="flush"||t==="margin")&&(r[this.name].opt["second-field-align"]=t)};p.Attributes["@hanging-indent"]=function(r,t){t==="true"&&(r.opt.development_extensions.hanging_indent_legacy_number?r[this.name].opt.hangingindent=2:r[this.name].opt.hangingindent=!0)};p.Attributes["@line-spacing"]=function(r,t){t&&t.match(/^[.0-9]+$/)&&(r[this.name].opt["line-spacing"]=parseFloat(t,10))};p.Attributes["@entry-spacing"]=function(r,t){t&&t.match(/^[.0-9]+$/)&&(r[this.name].opt["entry-spacing"]=parseFloat(t,10))};p.Attributes["@near-note-distance"]=function(r,t){r[this.name].opt["near-note-distance"]=parseInt(t,10)};p.Attributes["@substring"]=function(r,t){this.substring=parseInt(t,10)};p.Attributes["@text-case"]=function(r,t){var e=function(i,n){t==="normal"?this.text_case_normal=!0:(this.strings["text-case"]=t,t==="title"&&n.jurisdiction&&(this.strings["text-case"]="passthrough"))};this.execs.push(e)};p.Attributes["@page-range-format"]=function(r,t){r.opt["page-range-format"]=t};p.Attributes["@year-range-format"]=function(r,t){r.opt["year-range-format"]=t};p.Attributes["@default-locale"]=function(r,t){if(this.name==="style"){var e,i,n,s,a,s=t.match(/-x-(sort|translit|translat)-/g);if(s)for(n=0,i=s.length;n<i;n+=1)s[n]=s[n].replace(/^-x-/,"").replace(/-$/,"");for(e=t.split(/-x-(?:sort|translit|translat)-/),a=[e[0]],n=1,i=e.length;n<i;n+=1)a.push(s[n-1]),a.push(e[n]);for(e=a.slice(),i=e.length,n=1;n<i;n+=2)r.opt["locale-"+e[n]].push(e[n+1].replace(/^\s*/g,"").replace(/\s*$/g,""));e.length?r.opt["default-locale"]=e.slice(0,1):r.opt["default-locale"]=["en"]}else t==="true"&&(this.default_locale=!0)};p.Attributes["@default-locale-sort"]=function(r,t){r.opt["default-locale-sort"]=t};p.Attributes["@demote-non-dropping-particle"]=function(r,t){r.opt["demote-non-dropping-particle"]=t};p.Attributes["@initialize-with-hyphen"]=function(r,t){t==="false"&&(r.opt["initialize-with-hyphen"]=!1)};p.Attributes["@institution-parts"]=function(r,t){this.strings["institution-parts"]=t};p.Attributes["@if-short"]=function(r,t){t==="true"&&(this.strings["if-short"]=!0)};p.Attributes["@substitute-use-first"]=function(r,t){this.strings["substitute-use-first"]=parseInt(t,10)};p.Attributes["@use-first"]=function(r,t){this.strings["use-first"]=parseInt(t,10)};p.Attributes["@use-last"]=function(r,t){this.strings["use-last"]=parseInt(t,10)};p.Attributes["@stop-first"]=function(r,t){this.strings["stop-first"]=parseInt(t,10)};p.Attributes["@stop-last"]=function(r,t){this.strings["stop-last"]=parseInt(t,10)*-1};p.Attributes["@reverse-order"]=function(r,t){t==="true"&&(this.strings["reverse-order"]=!0)};p.Attributes["@display"]=function(r,t){r.bibliography.tokens.length===2&&(r.opt.using_display=!0),this.strings.cls=t};p.Stack=function(r,t){this.mystack=[],(t||r)&&this.mystack.push(r),this.tip=this.mystack[0]};p.Stack.prototype.push=function(r,t){t||r?this.mystack.push(r):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]};p.Stack.prototype.clear=function(){this.mystack=[],this.tip={}};p.Stack.prototype.replace=function(r,t){this.mystack.length===0&&p.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+r),t||r?this.mystack[this.mystack.length-1]=r:this.mystack[this.mystack.length-1]="",this.tip=this.mystack[this.mystack.length-1]};p.Stack.prototype.pop=function(){var r=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},r};p.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]};p.Stack.prototype.length=function(){return this.mystack.length};p.Parallel=function(r){this.state=r};p.Parallel.prototype.StartCitation=function(r,t){if(this.state.tmp.suppress_repeats=[],!(r.length<2)){for(var e=0,i=!1,n=[],a=0,s=r.length-1;a<s;a++){var o=r[a][0],l=r[a+1][0],u=!1,f={};if(r[a][0].seeAlso&&r[a][0].seeAlso.length>0&&!i){u=!0,i=[r[a][0].id].concat(r[a][0].seeAlso);var h=i.slice(),c=r.slice(a);c[0][1].parallel="first";for(var m=0,d=c.length;m<d;m++){var v=c[m][0].id,b=h.indexOf(v);if(e=!1,b===-1?e=a+m-1:a+m===r.length-1&&(e=a+m),e){n.push([a,e]);break}else h=h.slice(0,b).concat(h.slice(b+1))}}a>0&&u&&(this.state.tmp.suppress_repeats[a-1].START=!0,u=!1);for(var g in this.state.opt.track_repeat)if(!o[g]||!l[g])f[g]=!1;else if(typeof l[g]=="string"||typeof l[g]=="number"){if(g==="title"&&o["title-short"]&&l["title-short"])var _=o["title-short"],y=l["title-short"];else var _=o[g],y=l[g];_==y?f[g]=!0:f[g]=!1}else if(typeof o[g].length>"u"){f[g]=!1;var $=o[g].year,I=l[g].year;$&&I&&$==I&&(f[g]=!0)}else{var _=JSON.stringify(o[g]),y=JSON.stringify(l[g]);_===y?f[g]=!0:f[g]=!1}i||(f.ORPHAN=!0),e===a&&(f.END=!0,i=!1),this.state.tmp.suppress_repeats.push(f)}for(var m=0,d=n.length;m<d;m++){var A=r[n[m][0]][0].id;this.state.registry.registry[A].master=!0,this.state.registry.registry[A].siblings=[];for(var B=n[m][0],T=n[m][1],x=B;x<T;x++){this.state.tmp.suppress_repeats[x].SIBLING=!0;var U=r[x+1][0].id;r[x+1][1].parallel="other",this.state.registry.registry[A].siblings.push(U)}}}};p.Parallel.prototype.checkRepeats=function(r){var t=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(r.parallel_first&&Object.keys(r.parallel_first).length>0){var e=[{}].concat(this.state.tmp.suppress_repeats),i=!0;for(var n in r.parallel_first)(!e[t][n]||e[t].START)&&(i=!1);return i}if(r.parallel_last&&Object.keys(r.parallel_last).length>0){var e=this.state.tmp.suppress_repeats.concat([{}]),i=Object.keys(r.parallel_last).length>0;for(var n in r.parallel_last)(!e[t][n]||e[t].END)&&(i=!1);return i}if(r.non_parallel&&Object.keys(r.non_parallel).length>0){var e=[{}].concat(this.state.tmp.suppress_repeats),i=!0;for(var n in r.non_parallel)e[t][n]||(i=!1);return i}}return!1};p.Util={};p.Util.Match=function(){this.any=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(o)return!0}return!1}},this.none=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(o)return!1}return!0}},this.all=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(!o)return!1}return!0}},this[void 0]=this.all,this.nand=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(!o)return!0}return!1}}};p.Transform=function(r){this.abbrevs={},this.abbrevs.default=new r.sys.AbbreviationSegments;function t(f,h,c){var m="";return r.sys.getHumanForm&&(f==="country"?(m=r.sys.getHumanForm(h.toLowerCase(),!1,!0),m=m.split("|")[0]):f==="jurisdiction"&&(m=r.sys.getHumanForm(h.toLowerCase(),!1,!0),c?m="":m=m.split("|").slice(1).join(", "))),m}function e(f,h,c,m,d,v,b){var g="",_=p.FIELD_CATEGORY_REMAP[v],y;if(!_)return d;var $=v,I=d;f.sys.normalizeAbbrevsKey&&(I=f.sys.normalizeAbbrevsKey(v,d));var A=!1;if($==="jurisdiction"&&I&&(A=I.indexOf(":")===-1),["jurisdiction","country"].indexOf(v)>-1&&d===d.toLowerCase()&&(I=d.toUpperCase()),f.sys.getAbbreviation){["jurisdiction","country","language-name","language-name-original"].indexOf($)>-1?y="default":c.jurisdiction?y=c.jurisdiction:y="default";var B=f.transform.loadAbbreviation(y,_,I,c.language);if(f.transform.abbrevs[B][_]&&I){var T=f.transform.abbrevs[B][_][I];h.strings.form==="short"&&T?A?g="":g=T:g=t($,I,A)}}return!g&&(!f.opt.development_extensions.require_explicit_legal_case_title_short||c.type!=="legal_case")&&m&&c[m]&&b&&(g=c[m]),!g&&!f.sys.getAbbreviation&&f.sys.getHumanForm&&(g=t($,I,A)),!g&&!A&&(!f.sys.getHumanForm||$!=="jurisdiction")&&(g=d),f.opt.development_extensions.force_title_abbrev_fallback&&$==="title"&&g===d&&c["title-short"]&&(g=c["title-short"]),g}function i(f,h){var c=r.opt["default-locale"][0].slice(0,2),m;if(r.opt.development_extensions.strict_text_case_locales?m=new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):m=new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),f.language){var d=(""+f.language).match(m);d?c=d[1]:c="tlh"}return f.multi&&f.multi&&f.multi.main&&f.multi.main[h]&&(c=f.multi.main[h]),(!r.opt.development_extensions.strict_text_case_locales||r.opt.development_extensions.normalize_lang_keys_to_lowercase)&&(c=c.toLowerCase()),c}function n(f,h,c,m,d,v){var b,g,_,y,$=d,I=!1;if(!f[h])return{name:"",usedOrig:d,token:p.Util.cloneToken(this)};var A=!1;p.VARIABLES_WITH_SHORT_FORM.indexOf(h)>-1&&v&&(h=h+"-short",A=!0);var B=!1,T=null,x=[];h.slice(-6)==="-short"?(x.push(h),x.push(h.slice(0,-6))):x.push(h);for(var U=0,O=x.length;U<O;U++){var F=!1,h=x[U];_={name:"",usedOrig:d,locale:i(f,h)},y=r.opt[c]?r.opt[c].slice():[];var D=!1;if(c==="locale-orig"?(d||(_.name=f[h],_.usedOrig=!1),D=!0,I=!0):m&&(typeof y>"u"||y.length===0)&&(_.name=f[h],_.usedOrig=!0,D=!0,I=!0),!D){for(var L=0,H=y.length;L<H;L+=1)if(b=y[L],g=b.split(/[\-_]/)[0],b&&f.multi&&f.multi._keys[h]&&f.multi._keys[h][b]){_.name=f.multi._keys[h][b],_.locale=b,D=!0,F=!0,I=!1;break}else if(g&&f.multi&&f.multi._keys[h]&&f.multi._keys[h][g]){_.name=f.multi._keys[h][g],_.locale=g,D=!0,F=!0,I=!1;break}!_.name&&m&&(_={name:f[h],usedOrig:!0,locale:i(f,h)},I=!0)}if(_.token=p.Util.cloneToken(this),U===0?(F&&(_.found_variant_ok=!0),T=_,!A&&(typeof y>"u"||y.length===0)&&(B=!0),F&&(B=!0)):!A&&!F&&T?(_=T,h=x[0]):F&&(_.found_variant_ok=!0),["title","container-title"].indexOf(h)>-1&&!$&&(!_.token.strings["text-case"]||_.token.strings["text-case"]==="sentence"||_.token.strings["text-case"]==="normal")){r.opt.lang;var Y;I?Y=!1:Y=_.locale;var W=h.slice(0,-5),z=_.token.strings["text-case"]==="sentence";_.name=p.titlecaseSentenceOrNormal(r,f,W,Y,z),delete _.token.strings["text-case"]}if(B)break}return _}this.getTextSubField=n;function a(f,h,c,m){f||(f="default");var d=f.split(":")[0],v=p.getAbbrevsDomain(r,d,m);return v&&(f+="@"+v),c?(r.sys.getAbbreviation&&(f=r.sys.getAbbreviation(r.opt.styleID,r.transform.abbrevs,f,h,c),f||(f="default",v&&(f+="@"+v))),f):(r.transform.abbrevs[f]||(r.transform.abbrevs[f]=new r.sys.AbbreviationSegments),r.transform.abbrevs[f][h]||(r.transform.abbrevs[f][h]={}),f)}this.loadAbbreviation=a;function s(f,h,c,m){var d=f.variables[0];if(r.publisherOutput&&c){if(["publisher","publisher-place"].indexOf(d)===-1)return!1;r.publisherOutput[d+"-token"]=f,r.publisherOutput.varlist.push(d);var v=c.split(/;\s*/);v.length===r.publisherOutput[d+"-list"].length&&(r.publisherOutput[d+"-list"]=v);for(var b=0,g=v.length;b<g;b+=1)v[b]=e(r,f,h,!1,v[b],m,!0);return r.tmp[d+"-token"]=f,!0}return!1}function o(f,h){var c=h.match(/^#([0-9]+).*>>>/);c&&c[1]&&(f["cite-form"]=c[1])}function l(f,h){var c=h.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(c&&(h=h.slice(c[0].length),c[1]))for(var m=c[1].split(","),d=0,v=m.length;d<v;d+=1){var b=m[d],g=b.match(/^([-_a-z]+)(?:\:(.*))*$/),_=g[1],y=r.tmp.abbrev_trimmer;g[2]?y&&f&&(y[f]||(y[f]={}),y[f][_]=g[2]):r.tmp.done_vars.indexOf(_)===-1&&(y&&f&&(y.QUASHES[f]||(y.QUASHES[f]={}),y.QUASHES[f][_]=!0),r.tmp.done_vars.push(_))}return h}this.quashCheck=l;function u(f,h,c,m){var d,v=p.LangPrefsMap[f[0]];return v?d=r.opt["cite-lang-prefs"][v]:d=!1,function(b,g,_){var y,$,I,A,B,T,H;if(!f[0]||!g[f[0]]&&!g[m]||!b.tmp.just_looking&&_&&_["suppress-author"]&&!b.tmp.probably_rendered_something&&b.tmp.can_substitute.length()>1)return null;var x={primary:!1,secondary:!1,tertiary:!1};if(b.tmp.area.slice(-5)==="_sort")x.primary="locale-sort";else if(d&&d.length===1&&d[0]==="locale-orig")x.primary="locale-orig",d=!1;else if(d&&!b.tmp.multi_layout)for(var U=["primary","secondary","tertiary"],O=0,F=U.length;O<F&&!(d.length-1<O);O+=1)d[O]&&(x[U[O]]="locale-"+d[O]);else x.primary="locale-orig";if((f[0]==="title-short"||b.tmp.area!=="bibliography"&&!(b.tmp.area==="citation"&&b.opt.xclass==="note"&&_&&!_.position))&&(x.secondary=!1,x.tertiary=!1),b.tmp.multi_layout&&(x.secondary=!1,x.tertiary=!1),b.tmp["publisher-list"])return f[0]==="publisher"?b.tmp["publisher-token"]=this:f[0]==="publisher-place"&&(b.tmp["publisher-place-token"]=this),null;var D=b.tmp.lang_array.slice(),L=n.call(this,g,f[0],x.primary,!0,null,h);y=L.name,$=L.locale;var H=L.token,Y=L.usedOrig;if(h&&!L.found_variant_ok&&(y=e(b,H,g,m,y,h,!0),y&&(o(g,y),b.tmp.just_looking||(y=l(g.jurisdiction,y)))),s(this,g,y,h))return b.tmp.lang_array=D,null;I=!1,B=!1;var W,z;x.secondary&&(L=n.call(this,g,f[0],x.secondary,!1,L.usedOrig,null,h),I=L.name,A=L.locale,W=L.token,h&&!L.found_variant_ok&&I&&(I=e(b,W,g,!1,I,h,!0))),x.tertiary&&(L=n.call(this,g,f[0],x.tertiary,!1,L.usedOrig,null,h),B=L.name,T=L.locale,z=L.token,h&&!L.found_variant_ok&&B&&(B=e(b,z,g,!1,B,h,!0)));var ne;if(x.primary==="locale-translit"&&(ne=b.opt.citeAffixes[v][x.primary].prefix),ne==="<i>"&&f[0]==="title"&&!Y){for(var ue=!1,O=0,F=H.decorations.length;O<F;O+=1)H.decorations[O][0]==="@font-style"&&H.decorations[O][1]==="italic"&&(ue=!0);ue||H.decorations.push(["@font-style","italic"])}if($!=="en"&&H.strings["text-case"]==="title"&&(H.strings["text-case"]="passthrough"),f[0]==="title"&&(y=p.demoteNoiseWords(b,y,this["leading-noise-words"])),I||B){if(b.output.openLevel("empty"),H.strings.suffix=H.strings.suffix.replace(/[ .,]+$/,""),$&&(b.tmp.lang_array=[$].concat(D)),p.UPDATE_GROUP_CONTEXT_CONDITION(b,null,null,H,H.strings.prefix+y),b.output.append(y,H),b.tmp.probably_rendered_something=!0,y===I&&(I=!1),I){W.strings.prefix=b.opt.citeAffixes[v][x.secondary].prefix,W.strings.suffix=b.opt.citeAffixes[v][x.secondary].suffix,W.strings.prefix||(W.strings.prefix=" ");for(var O=W.decorations.length-1;O>-1;O+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(W.decorations[O].join("/"))>-1&&(W.decorations=W.decorations.slice(0,O).concat(W.decorations.slice(O+1)));A!=="en"&&W.strings["text-case"]==="title"&&(W.strings["text-case"]="passthrough"),A&&(b.tmp.lang_array=[A].concat(D));var K=new p.Token;K.decorations.push(["@font-style","normal"]),K.decorations.push(["@font-weight","normal"]),b.output.openLevel(K),b.output.append(I,W),b.output.closeLevel(),b.output.current.value(),b.output.current.value().blobs.length-1}if(y===B&&(B=!1),B){z.strings.prefix=b.opt.citeAffixes[v][x.tertiary].prefix,z.strings.suffix=b.opt.citeAffixes[v][x.tertiary].suffix,z.strings.prefix||(z.strings.prefix=" ");for(var O=z.decorations.length-1;O>-1;O+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(z.decorations[O].join("/"))>-1&&(z.decorations=z.decorations.slice(0,O).concat(z.decorations.slice(O+1)));T!=="en"&&z.strings["text-case"]==="title"&&(z.strings["text-case"]="passthrough"),T&&(b.tmp.lang_array=[T].concat(D));var Q=new p.Token;Q.decorations.push(["@font-style","normal"]),Q.decorations.push(["@font-weight","normal"]),b.output.openLevel(Q),b.output.append(B,z),b.output.closeLevel(),b.output.current.value(),b.output.current.value().blobs.length-1}b.output.closeLevel()}else $&&(b.tmp.lang_array=[$].concat(D)),p.UPDATE_GROUP_CONTEXT_CONDITION(b,null,null,H,H.strings.prefix+y),b.output.append(y,H),b.tmp.probably_rendered_something=!0;return b.tmp.lang_array=D,b.tmp.can_block_substitute&&b.tmp.name_node.children.push(b.output.current.value()),null}}this.getOutputFunction=u};p.Token=function(r,t,e){this.name=r,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=t};p.Util.cloneToken=function(r){var t,e,i,n;if(typeof r=="string")return r;t=new p.Token(r.name,r.tokentype);for(var e in r.strings)r.strings.hasOwnProperty(e)&&(t.strings[e]=r.strings[e]);if(r.decorations)for(t.decorations=[],i=0,n=r.decorations.length;i<n;i+=1)t.decorations.push(r.decorations[i].slice());return r.variables&&(t.variables=r.variables.slice()),r.execs&&(t.execs=r.execs.slice(),r.tests&&(t.tests=r.tests.slice())),t};p.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0};p.Blob=function(r,t,e){var i,n,a;if(this.levelname=e,t){this.strings={prefix:"",suffix:""};for(var a in t.strings)t.strings.hasOwnProperty(a)&&(this.strings[a]=t.strings[a]);for(this.decorations=[],t.decorations===void 0?i=0:i=t.decorations.length,n=0;n<i;n+=1)this.decorations.push(t.decorations[n].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];typeof r=="string"?this.blobs=r:r?this.blobs=[r]:this.blobs=[],this.alldecor=[this.decorations]};p.Blob.prototype.push=function(r){typeof this.blobs=="string"?p.error("Attempt to push blob onto string object"):r!==!1&&(r.alldecor=r.alldecor.concat(this.alldecor),this.blobs.push(r))};p.NumericBlob=function(r,t,e,i,n){if(this.id=n,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=p.START,this.strings={},i){if(i.strings["text-case"]){var a=i.strings["text-case"];this.particle=p.Output.Formatters[a](r,this.particle),this.blobs=p.Output.Formatters[a](r,this.blobs)}this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new p.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new p.Output.DefaultFormatter};p.NumericBlob.prototype.setFormatter=function(r){this.formatter=r,this.type=this.formatter.format(1)};p.Output.DefaultFormatter=function(){};p.Output.DefaultFormatter.prototype.format=function(r){return r.toString()};p.NumericBlob.prototype.checkNext=function(r,t){t?(this.status=p.START,typeof r=="object"&&(r.num===this.num+1?r.status=p.SUCCESSOR:r.status=p.SEEN)):!r||!r.num||this.type!==r.type||r.num!==this.num+1?(this.status===p.SUCCESSOR_OF_SUCCESSOR&&(this.status=p.END),typeof r=="object"&&(r.status=p.SEEN)):this.status===p.START||this.status===p.SEEN?r.status=p.SUCCESSOR:(this.status===p.SUCCESSOR||this.status===p.SUCCESSOR_OF_SUCCESSOR)&&(this.range_prefix?(r.status=p.SUCCESSOR_OF_SUCCESSOR,this.status=p.SUPPRESS):r.status=p.SUCCESSOR)};p.NumericBlob.prototype.checkLast=function(r){return this.status===p.SEEN||r.num!==this.num-1&&this.status===p.SUCCESSOR?(this.status=p.SUCCESSOR,!0):!1};p.Util.fixDateNode=function(r,t,e){var i,n,a,s,o,l,u,f,h,c,m,d,v,g=this.cslXml.getAttributeValue(e,"lingo"),b=this.cslXml.getAttributeValue(e,"default-locale");this.build.date_key=!0,i=this.cslXml.getAttributeValue(e,"form");var g;if(b?g=this.opt["default-locale"][0]:g=this.cslXml.getAttributeValue(e,"lingo"),!this.getDate(i,b))return r;var _=this.cslXml.getAttributeValue(e,"date-parts");n=this.cslXml.getAttributeValue(e,"variable"),f=this.cslXml.getAttributeValue(e,"prefix"),h=this.cslXml.getAttributeValue(e,"suffix"),d=this.cslXml.getAttributeValue(e,"display"),v=this.cslXml.getAttributeValue(e,"cslid"),a=this.cslXml.nodeCopy(this.getDate(i,b)),this.cslXml.setAttribute(a,"lingo",this.opt.lang),this.cslXml.setAttribute(a,"form",i),this.cslXml.setAttribute(a,"date-parts",_),this.cslXml.setAttribute(a,"cslid",v),this.cslXml.setAttribute(a,"variable",n),this.cslXml.setAttribute(a,"default-locale",b),f&&this.cslXml.setAttribute(a,"prefix",f),h&&this.cslXml.setAttribute(a,"suffix",h),d&&this.cslXml.setAttribute(a,"display",d),c=this.cslXml.children(a);for(var y in c)s=c[y],this.cslXml.nodename(s)==="date-part"&&(o=this.cslXml.getAttributeValue(s,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(a,"date-part",o,"@default-locale","true"));c=this.cslXml.children(e);for(var y in c)if(s=c[y],this.cslXml.nodename(s)==="date-part"){o=this.cslXml.getAttributeValue(s,"name"),m=this.cslXml.attributes(s);for(l in m)l!=="@name"&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(u=m[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(a,"date-part",o,l,u)))}if(this.cslXml.getAttributeValue(e,"date-parts")==="year")this.cslXml.deleteNodeByNameAttribute(a,"month"),this.cslXml.deleteNodeByNameAttribute(a,"day");else if(this.cslXml.getAttributeValue(e,"date-parts")==="year-month")this.cslXml.deleteNodeByNameAttribute(a,"day");else if(this.cslXml.getAttributeValue(e,"date-parts")==="month-day"){for(var $=this.cslXml.children(a),I=1,A=this.cslXml.numberofnodes($);I<A;I++)if(this.cslXml.getAttributeValue($[I],"name")==="year"){this.cslXml.setAttribute($[I-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(a,"year")}return this.cslXml.insertChildNodeAfter(r,e,t,a)};p.dateMacroAsSortKey=function(r,t){p.dateAsSortKey.call(this,r,t,!0)};p.dateAsSortKey=function(r,t,e){var i,n,a,s,o,l,u,f,h=this.variables[0],c="empty";if(e&&r.tmp.extension&&(c="macro-with-date"),i=t[h],typeof i>"u"&&(i={"date-parts":[[0]]}),typeof this.dateparts>"u"&&(this.dateparts=["year","month","day"]),i.raw?i=r.fun.dateparser.parseDateToArray(i.raw):i["date-parts"]&&(i=r.dateParseArray(i)),typeof i>"u"&&(i={}),i.year)for(u=0,f=p.DATE_PARTS_INTERNAL.length;u<f;u+=1)if(n=p.DATE_PARTS_INTERNAL[u],a=0,s=n,s.slice(-4)==="_end"&&(s=s.slice(0,-4)),i[n]&&this.dateparts.indexOf(s)>-1&&(a=i[n]),n.slice(0,4)==="year"){o=p.Util.Dates[s].numeric(r,a);var l="1";o[0]==="-"&&(l="0",o=o.slice(1),o=9999-parseInt(o,10)),r.output.append(p.Util.Dates[n.slice(0,4)].numeric(r,l+o),c)}else a=p.Util.Dates[s]["numeric-leading-zeros"](r,a),a||(a="00"),r.output.append(a,c)};p.Engine.prototype.dateParseArray=function(r){var t,e,i,n;t={};for(e in r)if(e==="date-parts"){i=r["date-parts"],i.length>1&&i[0].length!==i[1].length&&p.error("CSL data error: element mismatch in date range input."),n=["","_end"];for(var a=0,s=i.length;a<s;a+=1)for(var o=0,l=p.DATE_PARTS.length;o<l;o+=1)isNaN(parseInt(i[a][o],10))?t[p.DATE_PARTS[o]+n[a]]=void 0:t[p.DATE_PARTS[o]+n[a]]=parseInt(i[a][o],10)}else r.hasOwnProperty(e)&&(e==="literal"&&typeof r.literal=="object"&&typeof r.literal.part=="string"?(p.debug("Warning: fixing up weird literal date value"),t.literal=r.literal.part):t[e]=r[e]);return t};p.Util.Names={};p.Util.Names.compareNamesets=p.NameOutput.prototype._compareNamesets;p.Util.Names.unInitialize=function(r,t){var e,i,n,a,s;if(!t)return"";for(n=t.split(/(?:\-|\s+)/),a=t.match(/(\-|\s+)/g),s="",e=0,i=n.length;e<i;e+=1)s+=n[e],e<i-1&&(s+=a[e]);return s};p.Util.Names.initializeWith=function(r,t,e,i){var n,a,s;if(!t)return"";if(e||(e=""),["Lord","Lady"].indexOf(t)>-1||!t.replace(/^(?:<[^>]+>)*/,"").match(p.STARTSWITH_ROMANESQUE_REGEXP)&&!e.match("%s"))return t;r.opt["initialize-with-hyphen"]===!1&&(t=t.replace(/\-/g," ")),t=t.replace(/\s*\-\s*/g,"-").replace(/\s+/g," "),t=t.replace(/-([a-z])/g,"–$1");for(var n=t.length-2;n>-1;n+=-1)t.slice(n,n+1)==="."&&t.slice(n+1,n+2)!==" "&&(t=t.slice(0,n)+". "+t.slice(n+1));var o=p.Output.Formatters.nameDoppel.split(t),l=[];if(l=[o.strings[0]],o.tags.length===0){var u=l[0].match(/[^\.]+$/);u&&u[0].length===1&&u[0]!==u[0].toLowerCase()&&(l[0]+=".")}for(n=1,a=o.strings.length;n<a;n+=1)l.push(o.tags[n-1]),l.push(o.strings[n]);return i?s=this.doNormalize(r,l,e):s=this.doInitialize(r,l,e),s=s.replace(/\u2013([a-z])/g,"-$1"),s};p.Util.Names.notag=function(r){return r.replace(/^(?:<[^>]+>)*/,"")};p.Util.Names.mergetag=function(r,t,e){var i=t.match(/(?:-*<[^>]+>-*)/g);if(i)t=i.join("");else return e;return i=e.match(/^(.*[^\s])*(\s+)$/),i?(i[1]=i[1]?i[1]:"",e=i[1]+t+i[2]):e=e+t,e};p.Util.Names.tagonly=function(r,t){var e=t.match(/(?:<[^>]+>)+/);return e?e.join(""):t};p.Util.Names.doNormalize=function(r,t,e){var i,n;e=e||"";var a=[];for(i=0,n=t.length;i<n;i+=1)this.notag(t[i]).length>1&&this.notag(t[i]).slice(-1)==="."?(t[i]=t[i].replace(/^(.*)\.(.*)$/,"$1$2"),a.push(!0)):t[i].length===1&&t[i].toUpperCase()===t[i]?a.push(!0):a.push(!1);for(i=0,n=t.length;i<n;i+=2)a[i]&&(i<t.length-2&&(t[i+1]=this.tagonly(r,t[i+1]),a[i+2]||(t[i+1]=this.tagonly(r,t[i+1])+" "),t[i+2].length>1?t[i+1]=e.replace(/\ufeff$/,"")+t[i+1]:t[i+1]=this.mergetag(r,t[i+1],e)),i===t.length-1&&(t[i]=t[i]+e));return t.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")};p.Util.Names.doInitialize=function(r,t,e){var i,n,a,s,o,l,u;for(i=0,n=t.length;i<n;i+=2)if(u=t[i],!!u)if(a=u.match(p.NAME_INITIAL_REGEXP),!a&&!u.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&u.length>1&&e.match("%s")&&(a=u.match(/(.)(.*)/)),a&&a[2]&&a[3]&&(a[1]=a[1]+a[2],a[2]=""),a&&a[1].slice(0,1)===a[1].slice(0,1).toUpperCase()){var f="";if(a[2]){var h="";for(l=a[2].split(""),s=0,o=l.length;s<o;s+=1){var c=l[s];if(c===c.toUpperCase())h+=c;else break}h.length<a[2].length&&(f=p.toLocaleLowerCase.call(r,h))}t[i]=a[1]+f,i<n-1?e.match("%s")?t[i]=e.replace("%s",t[i]):t[i+1].indexOf("-")>-1?t[i+1]=this.mergetag(r,t[i+1].replace("-",""),e)+"-":t[i+1]=this.mergetag(r,t[i+1],e):e.match("%s")?t[i]=e.replace("%s",t[i]):t.push(e)}else u.match(p.ROMANESQUE_REGEXP)&&(!a||!a[3])&&(t[i]=" "+u);var m=t.join("");return m=m.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," "),m};p.Util.Names.getRawName=function(r){var t=[];return r.literal?t.push(r.literal):(r.given&&t.push(r.given),r.family&&t.push(r.family)),t.join(" ")};p.Util.Dates={};p.Util.Dates.year={};p.Util.Dates.year.long=function(r,t){return t||(typeof t=="boolean"?t="":t=0),t.toString()};p.Util.Dates.year.imperial=function(r,t,e){var i="";t||(typeof t=="boolean"?t="":t=0),e=e?"_end":"";var n=r.tmp.date_object["month"+e];for(n=n?""+n:"1";n.length<2;)n="0"+n;var a=r.tmp.date_object["day"+e];for(a=a?""+a:"1";a.length<2;)a="0"+a;var s=parseInt(t+n+a,10),o,l;if(s>=18680908&&s<19120730?(o="明治",l=1867):s>=19120730&&s<19261225?(o="大正",l=1911):s>=19261225&&s<19890108?(o="昭和",l=1925):s>=19890108&&(o="平成",l=1988),o&&l){var u=o;r.sys.normalizeAbbrevsKey&&(u=r.sys.normalizeAbbrevsKey("number",o)),r.transform.abbrevs.default.number[u]||r.transform.loadAbbreviation("default","number",u,null),r.transform.abbrevs.default.number[u]&&(o=r.transform.abbrevs.default.number[u]),i=o+(t-l)}return i};p.Util.Dates.year.short=function(r,t){if(t=t.toString(),t&&t.length===4)return t.substr(2)};p.Util.Dates.year.numeric=function(r,t){var i,e;t=""+t;var i=t.match(/([0-9]*)$/);for(i?(e=t.slice(0,i[1].length*-1),t=i[1]):(e=t,t="");t.length<4;)t="0"+t;return e+t};p.Util.Dates.normalizeMonth=function(r,t){var e;if(r||(r=0),r=""+r,r.match(/^[0-9]+$/)||(r=0),r=parseInt(r,10),t){var i={stub:"month-",num:r};if(i.num<1||i.num>24)i.num=0;else{for(;i.num>16;)i.num=i.num-4;i.num>12&&(i.stub="season-",i.num=i.num-12)}e=i}else(r<1||r>12)&&(r=0),e=r;return e};p.Util.Dates.month={};p.Util.Dates.month.numeric=function(r,e){var e=p.Util.Dates.normalizeMonth(e);return e||(e=""),e};p.Util.Dates.month["numeric-leading-zeros"]=function(r,e){var e=p.Util.Dates.normalizeMonth(e);if(!e)e="";else for(e=""+e;e.length<2;)e="0"+e;return e};p.Util.Dates.month.long=function(r,a,e,i){var n=p.Util.Dates.normalizeMonth(a,!0),a=n.num;if(!a)a="";else{for(a=""+a;a.length<2;)a="0"+a;a=r.getTerm(n.stub+a,"long",0,0,!1,i)}return a};p.Util.Dates.month.short=function(r,a,e,i){var n=p.Util.Dates.normalizeMonth(a,!0),a=n.num;if(!a)a="";else{for(a=""+a;a.length<2;)a="0"+a;a=r.getTerm(n.stub+a,"short",0,0,!1,i)}return a};p.Util.Dates.day={};p.Util.Dates.day.numeric=function(r,t){return t.toString()};p.Util.Dates.day.long=p.Util.Dates.day.numeric;p.Util.Dates.day["numeric-leading-zeros"]=function(r,t){for(t||(t=0),t=t.toString();t.length<2;)t="0"+t;return t.toString()};p.Util.Dates.day.ordinal=function(r,t,e){return r.fun.ordinalizer.format(t,e)};p.Util.Sort={};p.Util.Sort.strip_prepositions=function(r){var t;return typeof r=="string"&&(t=r.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),t&&(r=r.substr(t[1].length)),r};p.Util.substituteStart=function(r,t){var e,i,n,a,s,o,l;a=function(u,f,h){for(var c=0,m=this.decorations.length;c<m;c+=1)if(this.decorations[c][0]==="@strip-periods"&&this.decorations[c][1]==="true"){u.tmp.strip_periods+=1;break}},this.execs.push(a),this.decorations&&r.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),l=["number","date","names"],(this.name==="text"&&!this.postponed_macro||l.indexOf(this.name)>-1)&&(e=function(u,f,h){u.tmp.element_trace.value()==="author"||this.name==="names"?(!u.tmp.just_looking&&h&&h["author-only"]&&u.tmp.area!=="intext"&&u.tmp.probably_rendered_something&&u.tmp.element_trace.push("suppress-me"),!u.tmp.just_looking&&h&&h["suppress-author"]&&(u.tmp.probably_rendered_something||u.tmp.element_trace.push("suppress-me"))):this.name==="date"?!u.tmp.just_looking&&h&&h["author-only"]&&u.tmp.area!=="intext"&&u.tmp.probably_rendered_something&&u.tmp.element_trace.push("suppress-me"):!u.tmp.just_looking&&h&&h["author-only"]&&u.tmp.area!=="intext"?!u.tmp.probably_rendered_something&&u.tmp.can_block_substitute||u.tmp.element_trace.push("suppress-me"):h&&h["suppress-author"]&&u.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(e)),i=this.strings.cls,this.strings.cls=!1,r.build.render_nesting_level===0&&(r.build.area==="bibliography"&&r.bibliography.opt["second-field-align"]?(n=new p.Token("group",p.START),n.decorations=[["@display","left-margin"]],a=function(u,f){u.tmp.render_seen||(n.strings.first_blob=f.id,u.output.startTag("bib_first",n))},n.execs.push(a),t.push(n)):p.DISPLAY_CLASSES.indexOf(i)>-1&&(n=new p.Token("group",p.START),n.decorations=[["@display",i]],a=function(u,f){n.strings.first_blob=f.id,u.output.startTag("bib_first",n)},n.execs.push(a),t.push(n)),r.build.cls=i),r.build.render_nesting_level+=1,r.build.substitute_level.value()===1&&(s=new p.Token("choose",p.START),p.Node.choose.build.call(s,r,t),o=new p.Token("if",p.START),a=function(){return!!r.tmp.can_substitute.value()},o.tests||(o.tests=[]),o.tests.push(a),o.test=r.fun.match.any(this,r,o.tests),t.push(o)),r.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(a=function(u,f,h){if(!u.tmp.just_looking&&!u.tmp.suppress_decorations){var c=new p.Token("text",p.START);c.decorations=[["@showid","true"]],u.output.startTag("variable_entry",c);var m=null;h&&(m=h.position),m||(m=0);var d=["first","container-subsequent","subsequent","ibid","ibid-with-locator"],v=0;h&&h.noteIndex&&(v=h.noteIndex);var b=0;h&&h["first-reference-note-number"]&&(b=h["first-reference-note-number"]);var g=0;h&&h["first-container-reference-note-number"]&&(g=h["first-container-reference-note-number"]);var _=0;h&&h["citation-number"]&&(_=h["citation-number"]);var y=0;h&&h.index&&(y=h.index);var $={itemData:f,variableNames:this.variables,context:u.tmp.area,xclass:u.opt.xclass,position:d[m],"note-number":v,"first-reference-note-number":b,"first-container-reference-note-number":g,"citation-number":_,index:y,mode:u.opt.mode};u.output.current.value().params=$}},this.execs.push(a))};p.Util.substituteEnd=function(r,t){var e,i,n,a,s,o;if(r.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(e=function(u){!u.tmp.just_looking&&!u.tmp.suppress_decorations&&u.output.endTag("variable_entry")},this.execs.push(e)),e=function(u){for(var f=0,h=this.decorations.length;f<h;f+=1)if(this.decorations[f][0]==="@strip-periods"&&this.decorations[f][1]==="true"){u.tmp.strip_periods+=-1;break}},this.execs.push(e),r.build.render_nesting_level+=-1,r.build.render_nesting_level===0&&(r.build.cls?(e=function(u){u.output.endTag("bib_first")},this.execs.push(e),r.build.cls=!1):r.build.area==="bibliography"&&r.bibliography.opt["second-field-align"]&&(i=new p.Token("group",p.END),e=function(u){u.tmp.render_seen||u.output.endTag("bib_first")},i.execs.push(e),t.push(i),n=new p.Token("group",p.START),n.decorations=[["@display","right-inline"]],e=function(u){u.tmp.render_seen||(u.tmp.render_seen=!0,u.output.startTag("bib_other",n))},n.execs.push(e),t.push(n))),r.build.substitute_level.value()===1&&(a=new p.Token("if",p.END),t.push(a),s=new p.Token("choose",p.END),p.Node.choose.build.call(s,r,t)),this.name==="names"||this.name==="text"&&this.variables_real!=="title"){new p.Token("text",p.SINGLETON);var l=this.name;e=function(u,f){if(u.tmp.area==="bibliography"&&typeof u.bibliography.opt["subsequent-author-substitute"]=="string"&&!(this.variables_real&&!f[this.variables_real])&&!(this.variables_real&&l==="names")){var h=u.bibliography.opt["subsequent-author-substitute-rule"],c,m,d=!u.tmp.suppress_decorations;if(d&&u.tmp.subsequent_author_substitute_ok&&u.tmp.rendered_name){if(h==="partial-each"||h==="partial-first"){var v=!0,b=[];for(c=0,m=u.tmp.name_node.children.length;c<m;c+=1){var g=u.tmp.rendered_name[c];v&&u.tmp.last_rendered_name&&u.tmp.last_rendered_name.length>c-1&&g&&!g.localeCompare(u.tmp.last_rendered_name[c])?(o=new p.Blob(u[u.tmp.area].opt["subsequent-author-substitute"]),u.tmp.name_node.children[c].blobs=[o],h==="partial-first"&&(v=!1)):v=!1,b.push(g)}u.tmp.last_rendered_name=b}else if(h==="complete-each"){var b=u.tmp.rendered_name.join(",");if(b){if(u.tmp.last_rendered_name&&!b.localeCompare(u.tmp.last_rendered_name))for(c=0,m=u.tmp.name_node.children.length;c<m;c+=1)o=new p.Blob(u[u.tmp.area].opt["subsequent-author-substitute"]),u.tmp.name_node.children[c].blobs=[o];u.tmp.last_rendered_name=b}}else{var b=u.tmp.rendered_name.join(",");b&&(u.tmp.last_rendered_name&&!b.localeCompare(u.tmp.last_rendered_name)&&(o=new p.Blob(u[u.tmp.area].opt["subsequent-author-substitute"]),u.tmp.label_blob?u.tmp.name_node.top.blobs=[o,u.tmp.label_blob]:u.tmp.name_node.top.blobs.length?u.tmp.name_node.top.blobs[0].blobs=[o]:u.tmp.name_node.top.blobs=[o],u.tmp.substituted_variable=l),u.tmp.last_rendered_name=b)}u.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(e)}(this.name==="text"&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(e=function(u,f){u.tmp.element_trace.mystack.length>1&&u.tmp.element_trace.pop()},this.execs.push(e))};p.Util.padding=function(r){var t=r.match(/\s*(-{0,1}[0-9]+)/);if(t)for(r=parseInt(t[1],10),r<0&&(r=1e20+r),r=""+r;r.length<20;)r="0"+r;return r};p.Util.LongOrdinalizer=function(){};p.Util.LongOrdinalizer.prototype.init=function(r){this.state=r};p.Util.LongOrdinalizer.prototype.format=function(r,t){r<10&&(r="0"+r);var e=p.Engine.getField(p.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+r,"long",0,t);return e||(e=this.state.fun.ordinalizer.format(r,t)),this.state.tmp.cite_renders_content=!0,e};p.Util.Ordinalizer=function(r){this.state=r,this.suffixes={}};p.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var r=0,t=3;r<t;r+=1){var e=[void 0,"masculine","feminine"][r];this.suffixes[this.state.opt.lang][e]=[];for(var i=1;i<5;i+=1){var n=this.state.getTerm("ordinal-0"+i,"long",!1,e);if(typeof n>"u"){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(n)}}}};p.Util.Ordinalizer.prototype.format=function(r,t){var e;r=parseInt(r,10),e=""+r;var i="",n=[];if(t&&n.push(t),n.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){i=this.state.getTerm("ordinal",!1,0,t);for(var a,s=0,o=n.length;s<o;s+=1){a=n[s];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][e]&&l["whole-number"][e][a]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][e][a],!1,0,t):l["last-two-digits"][e.slice(e.length-2)]&&l["last-two-digits"][e.slice(e.length-2)][a]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][e.slice(e.length-2)][a],!1,0,t):l["last-digit"][e.slice(e.length-1)]&&l["last-digit"][e.slice(e.length-1)][a]&&(i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][e.slice(e.length-1)][a],!1,0,t)),i)break}}else t||(t=void 0),this.state.fun.ordinalizer.init(),r/10%10===1||r>10&&r<20?i=this.suffixes[this.state.opt.lang][t][3]:r%10===1&&r%100!==11?i=this.suffixes[this.state.opt.lang][t][0]:r%10===2&&r%100!==12?i=this.suffixes[this.state.opt.lang][t][1]:r%10===3&&r%100!==13?i=this.suffixes[this.state.opt.lang][t][2]:i=this.suffixes[this.state.opt.lang][t][3];return e=e+=i,e};p.Util.Romanizer=function(){};p.Util.Romanizer.prototype.format=function(r){var t,e,i,n,a;if(t="",r<6e3)for(n=r.toString().split(""),n.reverse(),e=0,i=0,a=n.length,e=0;e<a;e+=1)i=parseInt(n[e],10),t=p.ROMAN_NUMERALS[e][i]+t;return t};p.Util.Suffixator=function(r){r||(r=p.SUFFIX_CHARS),this.slist=r.split(",")};p.Util.Suffixator.prototype.format=function(r){var t;r+=1;var e="";do{t=r%26===0?26:r%26;var e=this.slist[t-1]+e;r=(r-t)/26}while(r!==0);return e};p.Engine.prototype.processNumber=function(r,t,e){var i,n=this,a=e;e=e==="page-first"?"page":e;var s=",\\s+and\\s+|\\s+and\\s+";this.opt.lang.slice(0,2)!=="en"&&(s+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var o="\\s*&\\s*",l=new RegExp("^"+o+"$"),u=new RegExp("("+o+"|"+s+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),f=new RegExp("(?:"+o+"|"+s+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),h=this.getTerm("and"),c=this.getTerm("and","symbol");h===c&&(c="&");function m(K){K=K.trim();var Q=K.match(/^([^ ]+)/);if(Q&&!p.STATUTE_SUBDIV_STRINGS[Q[1]]){var oe=null;["locator","locator-extra","page"].indexOf(e)>-1?t.label?oe=p.STATUTE_SUBDIV_STRINGS_REVERSE[t.label]:oe="p.":oe=p.STATUTE_SUBDIV_STRINGS_REVERSE[e],oe&&(K=oe+" "+K)}return K}function d(K,Q,oe,Ae,we){Ae=Ae||"";var Se={};if(!Q&&!p.STATUTE_SUBDIV_STRINGS_REVERSE[e]&&(Q="var:"+e),Q){var Te=Q.match(/(\s*)([^\s]+)(\s*)/);a==="page"&&we===0&&["p.","pp."].indexOf(Te[2])===-1?(Se.gotosleepability=!0,Se.labelVisibility=!0):Se.labelVisibility=!1,Se.label=Te[2],Se.origLabel=K,Se.labelSuffix=Te[3]?Te[3]:"",Se.plural=0}var Te=oe.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/);return Te?(Se.particle=Te[1]?Te[1]:"",Se.value=Te[2]):(Se.particle="",Se.value=oe),Se.joiningSuffix=Ae.replace(/\s*-\s*/,"-"),Se}function v(K){for(var Q=K.length-2;Q>-1;Q-=2)K[Q]==="-"&&K[Q-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&K[Q+1].match(/^[,a-zA-Z]+$/)&&(K[Q-1]=K.slice(Q-1,Q+2).join(""),K=K.slice(0,Q).concat(K.slice(Q+2)));return K}function b(K,Q){Q=Q||"",K=m(K);var oe,Ae,we;if(e==="page"&&K.indexOf("–")>-1&&(K=K.replace(/\u2013/g,"-")),K.indexOf("\\-")>-1){oe=new RegExp(u.source.replace("\\-","")),Ae=new RegExp(f.source.replace("\\-",""));for(var Se=K.split("\\-"),Te=0,Ie=Se.length;Te<Ie;Te++)Se[Te]=Se[Te].replace(/\-/g,"–");we=Se.join("\\-"),we=we.replace(/\\/g,"")}else oe=u,Ae=f,we=K;var ce=[],ge=we.match(oe);if(ge){for(var Se=we.split(Ae),Te=0,Ie=ge.length;Te<Ie;Te++)ge[Te].match(l)&&(Se[Te].match(/[a-zA-Z]$/)&&Se[Te].match(/^[a-zA-Z]/)?ge[Te]=c:ge[Te]=" "+c+" ");var be=!1;for(var Te in Se)if((""+Se[Te]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;if(be)ce=[we];else{for(var Te=0,Ie=Se.length-1;Te<Ie;Te++)ce.push(Se[Te]),ce.push(ge[Te]);ce.push(Se[Se.length-1]),ce=v(ce)}}else var ce=[we];for(var _e=[],Be=Q,Fe="",Te=0,Ie=ce.length;Te<Ie;Te+=2){var ge=ce[Te].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g);if(ge){for(var Se=ce[Te].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/),We=Se.length-1;We>0;We--)Se[We-1]&&(!Se[We].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||!Se[We-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/))&&(Se[We-1]=Se[We-1]+ge[We-1]+Se[We],Se=Se.slice(0,We).concat(Se.slice(We+1)),ge=ge.slice(0,We-1).concat(ge.slice(We)));if(ge.length>0){var q=ge[0].trim(),k=!p.STATUTE_SUBDIV_STRINGS[q]||typeof n.getTerm(p.STATUTE_SUBDIV_STRINGS[q])>"u"||["locator","number","locator-extra","page"].indexOf(e)===-1&&p.STATUTE_SUBDIV_STRINGS[q]!==e;k?Te===0&&(ge=ge.slice(1),Se[0]=Se[0]+" "+q+" "+Se[1],Se=Se.slice(0,1).concat(Se.slice(2))):Fe=q}for(var We=0,P=Se.length;We<P;We++)if(Se[We]||We===Se.length-1){var G;Be=ge[We-1]?ge[We-1]:Be,Fe===Be.trim()?G="":G=Fe,we=Se[We]?Se[We].trim():"",We===Se.length-1?_e.push(d(G,Be,we,ce[Te+1],Te)):_e.push(d(G,Be,we,null,Te))}}else{var G;Fe===Be.trim()?G="":G=Fe,_e.push(d(G,Be,ce[Te],ce[Te+1]))}}return _e}function g(K){for(var Q=0,oe=K.length-1;Q<oe;Q++)!K[Q].joiningSuffix&&K[Q+1].label&&(K[Q].joiningSuffix=" ")}function _(K,Q,oe){var Ae=K[oe.pos],we=K[Q].value,Se=Ae.joiningSuffix==="\\-";we.particle&&we.particle!==Ae.particle&&(oe.collapsible=!1);var Te=we.match(/^[0-9]+([-,:a-zA-Z]*)$/),Ie=Ae.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if((!we||!Te||!Ie||Se)&&(oe.collapsible=!1,(!we||!Ie)&&(oe.numeric=!1),Se&&oe.count--),(Te&&Te[1]||Ie&&Ie[1])&&(oe.collapsible=!1),K[Q].collapsible===void 0){for(var ce=Q,ge=Q+oe.count;ce<ge;ce++)isNaN(parseInt(K[ce].value))&&!K[ce].value.match(/^[ivxlcmIVXLCM]+$/)?K[ce].collapsible=!1:K[ce].collapsible=!0;oe.collapsible=K[Q].collapsible}for(var be=oe.collapsible,ce=oe.pos,ge=oe.pos+oe.count;ce<ge;ce++)oe.count>1&&be&&(K[ce].plural=1),K[ce].numeric=oe.numeric,K[ce].collapsible=oe.collapsible}function y(K,Q,oe){oe.label.slice(0,4)!=="var:"&&(oe.pos===0?(["locator","number","locator-extra","page"].indexOf(e)>-1&&typeof n.getTerm(p.STATUTE_SUBDIV_STRINGS[oe.label])>"u"&&(K[oe.pos].labelVisibility=!0),["locator","number","locator-extra","page"].indexOf(e)===-1&&p.STATUTE_SUBDIV_STRINGS[oe.label]!==e&&(K[0].labelVisibility=!0)):K[oe.pos].labelVisibility=!0)}function $(K){if(K.length!==0){for(var Q=0,oe=1,Ae=1,we=K.length;Ae<we;Ae++){var Se=K[Ae-1],Te=K[Ae];if(Se.label===Te.label&&Se.particle===Se.particle)oe++;else{var Ie=JSON.parse(JSON.stringify(K[Q]));Ie.pos=Q,Ie.count=oe,Ie.numeric=!0,_(K,Q,Ie),Se.label!==Te.label&&y(K,Q,Ie),Q=Ae,oe=1}}var Ie=JSON.parse(JSON.stringify(K[Q]));Ie.pos=Q,Ie.count=oe,Ie.numeric=!0,_(K,Q,Ie),y(K,Q,Ie),K.length&&K[0].numeric&&e.slice(0,10)==="number-of-"&&parseInt(t[a],10)>1&&(K[0].plural=1)}}function I(K){return K.replace("\\-","-")}function A(K){var Q=p.Util.cloneToken(r),oe=new p.Token;n.tmp.just_looking||(oe.decorations=Q.decorations,Q.decorations=[],oe.strings.prefix=Q.strings.prefix,Q.strings.prefix="",oe.strings.suffix=Q.strings.suffix,Q.strings.suffix="");var Ae=K.length?K[0].label:null;if(K.length){for(var we=0,Se=K.length;we<Se;we++){var Te=K[we],Ie=p.Util.cloneToken(Q);Ie.gender=r.gender,Ae===Te.label&&(Ie.formatter=r.formatter),Te.numeric&&(Ie.successor_prefix=Te.successor_prefix),Ie.strings.suffix=Ie.strings.suffix+I(Te.joiningSuffix),Te.styling=Ie}n.tmp.just_looking||K[0].value.slice(0,1)==='"'&&K[K.length-1].value.slice(-1)==='"'&&(K[0].value=K[0].value.slice(1),K[K.length-1].value=K[K.length-1].value.slice(0,-1),oe.decorations.push(["@quotes",!0]))}return oe}function B(K,Q){var oe=!0;if(["locator","locator-extra","page"].indexOf(K)>-1){var Ae;Q.origLabel?Ae=Q.origLabel:Ae=Q.label,oe=!!n.getTerm(p.STATUTE_SUBDIV_STRINGS[Ae])}return oe}function T(K,Q){return K==="page"||["locator","locator-extra"].indexOf(K)>-1&&(["p."].indexOf(Q.label)>-1||["p."].indexOf(Q.origLabel)>-1)}function x(K,Q,oe,Ae){var we=T(K,Q),Se=B(K,Q);return Se&&oe==="-"&&Ae&&((we||["locator","locator-extra","issue","volume","edition","number"].indexOf(K)>-1)&&(oe=n.getTerm("page-range-delimiter"),oe||(oe="–")),K==="collection-number"&&(oe=n.getTerm("year-range-delimiter"),oe||(oe="–"))),oe}function U(K,Q,oe){if(!(Q<1)&&oe.count===2&&K[Q-1].particle===K[Q].particle){if(K[Q-1].joiningSuffix!=="-"){oe.count=1;return}if(!n.opt["page-range-format"]&&parseInt(K[Q-1].value,10)>parseInt(K[Q].value,10)){K[Q-1].joiningSuffix=x(e,K[Q],K[Q-1].joiningSuffix,!0);return}var Ae=K[Q],we=T(e,Ae),Se;we&&!isNaN(parseInt(K[Q-1].value))&&!isNaN(parseInt(K[Q].value))?(Se=K[Q-1].particle+K[Q-1].value+" - "+K[Q].particle+K[Q].value,Se=n.fun.page_mangler(Se)):((""+K[Q-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+K[Q].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(K[Q-1].joiningSuffix=n.getTerm("page-range-delimiter")),Se=K[Q-1].value+I(K[Q-1].joiningSuffix)+K[Q].value);var Te=Se.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(Te){var Ie=Te[3];Ie=x(e,Ae,Ie,K[Q].numeric),K[Q-1].particle=Te[1],K[Q-1].value=Te[2],K[Q-1].joiningSuffix=Ie,K[Q].particle=Te[4],K[Q].value=Te[5]}oe.count=0}}function O(K){if(r&&["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(e)!==-1){for(var Q={count:0,label:null,lastHadRangeDelimiter:!1},oe=0,Ae=K.length;oe<Ae;oe++){var we=K[oe];if(we.collapsible)Q.label===we.label&&we.joiningSuffix==="-"?Q.count=1:Q.label===we.label&&we.joiningSuffix!=="-"?(Q.count++,Q.count===2&&U(K,oe,Q)):Q.label!==we.label?(Q.label=we.label,Q.count=1):(Q.count=1,Q.label=we.label);else{Q.count=0,Q.label=null;var Se=we.numeric;we.joiningSuffix=x(e,we,we.joiningSuffix,Se)}}Q.count===2&&U(K,K.length-1,Q)}}function F(K,Q,oe){var Ae=K[Q];oe.length&&(Ae.numeric=oe[0].numeric,Ae.collapsible=oe[0].collapsible,Ae.plural=oe[0].plural,Ae.label=p.STATUTE_SUBDIV_STRINGS[oe[0].label],e==="number"&&Ae.label==="issue"&&n.getTerm("number")&&(Ae.label="number"))}if(r&&this.tmp.shadow_numbers[a]&&this.tmp.shadow_numbers[a].values.length){var D=this.tmp.shadow_numbers[a].values;O(D),this.tmp.shadow_numbers[a].masterStyling=A(D);return}if(this.tmp.shadow_numbers[a]||(this.tmp.shadow_numbers[a]={values:[]}),!!t){var L=p.LangPrefsMap[e];if(L){var H=this.opt["cite-lang-prefs"][L][0];i=this.transform.getTextSubField(t,a,"locale-"+H,!0),i=i.name}else i=t[a];if(i&&a==="number"&&t.type==="legal_case"&&(i=i.replace(/[\\]*-/g,"\\-")),i&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var Y=this.sys.normalizeAbbrevsKey(a,i);else var Y=i;var W=this.transform.loadAbbreviation(t.jurisdiction,"number",Y,t.language);this.transform.abbrevs[W].number&&(this.transform.abbrevs[W].number[Y]?i=this.transform.abbrevs[W].number[Y]:typeof this.transform.abbrevs[W].number[Y]<"u"&&delete this.transform.abbrevs[W].number[Y])}if(typeof i<"u"&&(typeof i=="string"||typeof i=="number")){typeof i=="number"&&(i=""+i);var z=p.STATUTE_SUBDIV_STRINGS_REVERSE[e];if(this.tmp.shadow_numbers[a].values.length===0){var D=b(i,z);g(D),$(D);for(var ne of D)ne.numeric||(ne.plural=0);this.tmp.shadow_numbers[a].values=D,r&&(O(D),this.tmp.shadow_numbers[a].masterStyling=A(D)),F(this.tmp.shadow_numbers,a,D)}var ue=this.tmp.shadow_numbers[a];e==="number"&&ue.values.length===1&&ue.values[0].value.indexOf("|")>-1&&(ue.values[0].value=ue.values[0].value.replace(/\|/g,", "),ue.values[0].numeric=!0,ue.values[0].plural=1,ue.values[0].collapsible=!1,ue.numeric=!0,ue.plural=1,ue.collapsible=!1),ue.values.length===1&&ue.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(ue.values[0].numeric=!0,ue.values[0].plural=0,ue.values[0].collapsible=!1,ue.numeric=!0,ue.plural=0,ue.collapsible=!1),e==="page"&&ue.values.length>0&&ue.values[0].gotosleepability&&(ue.labelForm="short")}}};p.Util.outputNumericField=function(r,t,e){r.output.openLevel(r.tmp.shadow_numbers[t].masterStyling);var i=r.tmp.shadow_numbers[t].masterStyling,n=r.tmp.shadow_numbers[t].values,a=n.length?n[0].label:null,s=r.tmp.shadow_numbers[t].labelForm,o=r.tmp.group_context.tip.label_static,l;s?l=s:l="short";for(var u=r.tmp.shadow_numbers[t].labelCapitalizeIfFirst,f=r.tmp.shadow_numbers[t].labelDecorations,h=null,c=0,m=n.length;c<m;c++){var d=n[c],v="",b;d.label&&(d.label.slice(0,4)==="var:"?b=d.label.slice(4):b=p.STATUTE_SUBDIV_STRINGS[d.label],b&&(d.label===a?(o&&(v=r.getTerm(b,"static",d.plural),v.indexOf("%s")===-1&&(v="")),v||(v=r.getTerm(b,s,d.plural))):(o&&(v=r.getTerm(b,"static",d.plural),v.indexOf("%s")===-1&&(v="")),v||(v=r.getTerm(b,l,d.plural))),u&&(v=p.Output.Formatters["capitalize-first"](r,v))));var g=-1;v&&(g=v.indexOf("%s"));var _=p.Util.cloneToken(d.styling);if(_.formatter=d.styling.formatter,_.type=d.styling.type,_.num=d.styling.num,_.gender=d.styling.gender,g>0&&g<v.length-2)_.strings.prefix+=v.slice(0,g),_.strings.suffix=v.slice(g+2)+_.strings.suffix;else if(d.labelVisibility)if(v||(v=d.label,b=d.label),g>0){var y=new p.Token;y.decorations=f,r.output.append(v.slice(0,g),y)}else(g===v.length-2||g===-1)&&r.output.append(v+d.labelSuffix,"empty");if(p.UPDATE_GROUP_CONTEXT_CONDITION(r,i.strings.prefix,null,i,`${d.particle}${d.value}`),d.collapsible){var $;d.value.match(/^[1-9][0-9]*$/)&&Number.isSafeInteger(parseInt(d.value,10))?$=new p.NumericBlob(r,d.particle,parseInt(d.value,10),_,e):$=new p.NumericBlob(r,d.particle,d.value,_,e),typeof $.gender>"u"&&($.gender=r.locale[r.opt.lang]["noun-genders"][t]),r.output.append($,"literal")}else r.output.append(d.particle+d.value,_);if(g===0&&g<v.length-2&&(h===null&&(h=b),b!==h||c===n.length-1)){var I=new p.Token;I.decorations=f,r.output.append(v.slice(g+2),I)}h=b,r.tmp.term_predecessor=!0}r.output.closeLevel()};p.Util.PageRangeMangler={};p.Util.PageRangeMangler.getFunction=function(r,t){var e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$=r.getTerm(t+"-range-delimiter");e=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,a=function(A){for(n=A.length,i=1;i<n;i+=2)typeof A[i]=="object"&&(A[i]=A[i].join(""));var B=A.join("");return B=B.replace(/([^\\])\-/g,"$1"+r.getTerm(t+"-range-delimiter")),B},s=function(A){var B,T,x,U="\\s+\\-\\s+",O=$==="-"?"":$,F=new RegExp("([^\\\\])[-"+O+"\\u2013]","g");A=A.replace(F,"$1 - ").replace(/\s+-\s+/g," - ");var D=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+U+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),L=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+U+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(B=A.match(D),T=A.split(L),T.length===0)x=B;else for(x=[T[0]],i=1,n=T.length;i<n;i+=1)x.push(B[i-1].replace(/\s*\-\s*/g,"-")),x.push(T[i]);return x},o=function(A){for(A=""+A,c=s(A),n=c.length,i=1;i<n;i+=2)m=c[i].match(e),m&&(!m[3]||m[1]===m[3])&&(m[4].length<m[2].length&&(m[4]=m[2].slice(0,m[2].length-m[4].length)+m[4]),parseInt(m[2],10)<parseInt(m[4],10)&&(m[3]=$+(m[1]?m[1]:""),c[i]=m.slice(1))),typeof c[i]=="string"&&(c[i]=c[i].replace(/\-/g,$));return c},l=function(A,B,T){n=A.length;for(var x=1,U=A.length;x<U;x+=2)typeof A[x]=="object"&&(A[x][3]=u(A[x][1],A[x][3],B,T),A[x][2].slice(1)===A[x][0]&&(A[x][2]=$));return a(A)},u=function(A,B,T,x){if(T||(T=0),d=(""+A).split(""),v=(""+B).split(""),b=v.slice(),b.reverse(),d.length===v.length)for(var U=0,O=d.length;U<O;U+=1)if(d[U]===v[U]&&b.length>T)b.pop();else{if(T&&x&&b.length===3){var F=d.slice(0,U);F.reverse(),b=b.concat(F)}break}return b.reverse(),b.join("")},f=function(A){for(n=A.length,i=1;i<n;i+=2)typeof A[i]=="object"&&(m=A[i],g=parseInt(m[1],10),_=parseInt(m[3],10),g>100&&g%100&&parseInt(g/100,10)===parseInt(_/100,10)?m[3]=""+_%100:g>=1e4&&(m[3]=""+_%1e3)),m[2].slice(1)===m[0]&&(m[2]=$);return a(A)},h=function(A){for(n=A.length,i=1;i<n;i+=2){if(typeof A[i]=="object"&&(m=A[i],g=parseInt(m[1],10),_=parseInt(m[3],10),v=""+_,g>100&&g%100))for(var B=2;B<v.length;B++){var T=Math.pow(10,B);if(Math.floor(g/T)===Math.floor(_/T)){m[3]=""+_%T;break}}m[2].slice(1)===m[0]&&(m[2]=$)}return a(A)};var I=function(A,B,T,x){var O;A=""+A;var U=o(A),O=B(U,T,x);return O};return r.opt[t+"-range-format"]?r.opt[t+"-range-format"]==="expanded"?y=function(A){return I(A,a)}:r.opt[t+"-range-format"]==="minimal"?y=function(A){return I(A,l)}:r.opt[t+"-range-format"]==="minimal-two"?y=function(A,B){return I(A,l,2,B)}:r.opt[t+"-range-format"]==="chicago"?y=function(A){return I(A,f)}:r.opt[t+"-range-format"]==="chicago-15"?y=function(A){return I(A,f)}:r.opt[t+"-range-format"]==="chicago-16"&&(y=function(A){return I(A,h)}):y=function(A){return I(A,a)},y};p.Util.FlipFlopper=function(r){var t=[],e={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};e['("']=e[' "'],e["('"]=e[" '"];var i=r.getTerm("open-quote"),n=r.getTerm("close-quote"),a=r.getTerm("open-inner-quote"),s=r.getTerm("close-inner-quote");i&&n&&[' "'," '",'"',"'"].indexOf(i)===-1&&(e[i]=JSON.parse(JSON.stringify(e[' "'])),e[i].opener=i,e[i].closer=n),a&&s&&[' "'," '",'"',"'"].indexOf(a)===-1&&(e[a]=JSON.parse(JSON.stringify(e[" '"])),e[a].opener=a,e[a].closer=s);function o(_){var y={" '":' "',' "':" '",'("':"('","('":'("'};e[_].outer="true",e[y[_]].outer="inner"}function l(_){for(var y=[],$=Object.keys(e),I=0,A=$.length;I<A;I++){var B=$[I];(e[_].type!=="quote"||!e[_])&&y.push(B)}var T=e[_];return T.opener=new RegExp("^(?:"+y.map(function(x){return x.replace("(","\\(")}).join("|")+")"),T}var u=function(){for(var _={},y=Object.keys(e),$=0,I=y.length;$<I;$++){var A=y[$];_[A]=l(A)}return _}(),f=function(){var _=[],y=[],$={};for(var I in u)_.push(I),$[u[I].closer]=!0;for(var A=Object.keys($),B=0,T=A.length;B<T;B++){var x=A[B];y.push(x)}var U=_.concat(y).map(function(O){return O.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+U+"))","g"),splitAll:new RegExp("(?:"+U+")","g"),open:new RegExp("(^(?:"+_.map(function(O){return O.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+y.join("|")+")$)")}}();function h(_,y){var $=t[t.length-1];return!$||_.match($.opener)?(t.push({type:u[_].type,opener:u[_].opener,closer:u[_].closer,pos:y}),!1):(t.pop(),t.push({type:u[_].type,opener:u[_].opener,closer:u[_].closer,pos:y}),{fixtag:$.pos})}function c(_,y){var $=t[t.length-1];return $&&_===$.closer?(t.pop(),$.type==="nocase"?{nocase:{open:$.pos,close:y}}:!1):$?{fixtag:$.pos}:{fixtag:y}}function m(_,y){return _.match(f.open)?h(_,y):c(_,y)}function d(_){var y=[];_=_.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4'),_=_.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3");var $=_.match(f.matchAll);if(!$)return{tags:[],strings:[_],forcedSpaces:[]};for(var I=_.split(f.splitAll),A=0,B=$.length-1;A<B;A++)e[$[A]]&&(I[A+1]===""&&['"',"'"].indexOf($[A+1])>-1?($[A+1]=" "+$[A+1],y.push(!0)):y.push(!1));return{tags:$,strings:I,forcedSpaces:y}}var v=function(_){var y=[];this.set=function($){for(var I=e[$].attr,A=null,B=y.length-1;B>-1;B--){var T=y[B];if(T[0]===I){A=T;break}}if(!A){var x=[r[r.tmp.area].opt.layout_decorations].concat(_.alldecor);e:for(var B=x.length-1;B>-1;B--){var U=x[B];if(U)for(var O=U.length-1;O>-1;O--){var T=U[O];if(T[0]===I){A=T;break e}}}}A?A=[I,e[$].flipflop[A[1]]]:A=[I,e[$].outer],y.push(A)},this.pair=function(){return y[y.length-1]},this.pop=function(){y.pop()}};function b(_,y){if(_==="'"){if(y&&y.match(/^[^\,\.\?\:\;\ ]/))return"’"}else if(_===" '"&&y&&y.match(/^[\ ]/))return" ’";return!1}function g(_,y,$){var I=!0,A=new v(_);_.blobs=[];function B(D){this.stack=[D],this.latest=D,this.addStyling=function(L,H){if(I&&(L.slice(0,1)===" "&&(L=L.slice(1)),L.slice(0,1)===" "&&(L=L.slice(1)),I=!1),this.latest=this.stack[this.stack.length-1],H){if(typeof this.latest.blobs=="string"){var Y=new p.Blob;Y.blobs=this.latest.blobs,Y.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[Y]}var W=new p.Token,z=new p.Blob(null,W);if(z.alldecor=this.latest.alldecor.slice(),H[0]==="@class"&&H[1]==="nodecor"){for(var ne=[],ue={},K=[r[r.tmp.area].opt.layout_decorations].concat(z.alldecor),Q=K.length-1;Q>-1;Q--){var oe=K[Q];if(oe)for(var Ae=oe.length-1;Ae>-1;Ae--){var we=oe[Ae];["@font-weight","@font-style","@font-variant"].indexOf(we[0])>-1&&!ue[we[0]]&&(H[1]!=="normal"&&(z.decorations.push([we[0],"normal"]),ne.push([we[0],"normal"])),ue[we[0]]=!0)}}z.alldecor.push(ne)}else z.decorations.push(H),z.alldecor.push([H]);if(this.latest.blobs.push(z),this.stack.push(z),this.latest=z,L){var W=new p.Token,z=new p.Blob(null,W);z.blobs=L,z.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(z)}}else if(L){var Y=new p.Blob;Y.blobs=L,Y.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(Y)}},this.popStyling=function(){this.stack.pop()}}var T=new B(_);if(y.strings.length){var x=y.strings[0];$&&(x=" "+x),T.addStyling(x)}for(var U=0,O=y.tags.length;U<O;U++){var F=y.tags[U],x=y.strings[U+1];F.match(f.open)?(A.set(F),T.addStyling(x,A.pair())):(A.pop(),T.popStyling(),T.addStyling(x))}}this.processTags=function(_){var I=_.blobs,y=!1;I.slice(0,1)===" "&&!I.match(/^\s+[\'\"]/)&&(y=!0);var $=new RegExp("("+p.ROMANESQUE_REGEXP.source+")’("+p.ROMANESQUE_REGEXP.source+")","g"),I=" "+I.replace($,"$1'$2"),A=d(I);if(A.tags.length!==0){for(var B=!1,T=0,x=A.tags.length;T<x;T++){var U=A.tags[T],I=A.strings[T+1],O=b(U,I);if(O)A.strings[T+1]=O+A.strings[T+1],A.tags[T]="";else{for(var F;F=m(U,T),F;)if(Object.keys(F).indexOf("fixtag")>-1){if(U.match(f.close)&&U==="'")A.strings[T+1]="’"+A.strings[T+1],A.tags[T]="";else{var D=A.tags[F.fixtag];A.forcedSpaces[F.fixtag-1]&&(D=D.slice(1)),A.strings[F.fixtag+1]=D+A.strings[F.fixtag+1],A.tags[F.fixtag]=""}if(t.length>0)if(U!=="'")t.pop();else break;else break}else if(F.nocase){A.tags[F.nocase.open]="",A.tags[F.nocase.close]="";break}else break;F&&(F.fixtag||F.fixtag===0)&&(A.strings[T+1]=A.tags[T]+A.strings[T+1],A.tags[T]="")}}for(var T=t.length-1;T>-1;T--){var L=t[T].pos,U=A.tags[L];U===" '"||U==="'"?A.strings[L+1]=" ’"+A.strings[L+1]:A.strings[L+1]=A.tags[L]+A.strings[L+1],A.tags[L]="",t.pop()}for(var T=A.tags.length-1;T>-1;T--)A.tags[T]||(A.tags=A.tags.slice(0,T).concat(A.tags.slice(T+1)),A.strings[T]=A.strings[T]+A.strings[T+1],A.strings=A.strings.slice(0,T+1).concat(A.strings.slice(T+2)));for(var T=0,x=A.tags.length;T<x;T++){var U=A.tags[T],H=A.forcedSpaces[T-1];[' "'," '",'("',"('"].indexOf(U)>-1&&(B||(o(U),B=!0),H||(A.strings[T]+=U.slice(0,1)))}g(_,A,y)}}};p.Output.Formatters=function(){var r=`(?:‘|’|“|”| "| '|"|'|[-–—/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)`,t=new p.Doppeler(r,function(v){return v.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),e='(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)',i=new p.Doppeler(e),n=new p.Doppeler("(?:[    -​ 　]+)"),a={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function s(v){var b=v.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return b&&!(b[2].match(/^[\u0370-\u03FF]$/)&&!b[3])?b[1]+p.toLocaleUpperCase.call(this,b[2])+b[3]:v}function o(v,b){if(!b)return"";v.doppel=t.split(b);var g={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"‘":{opener:"‘",closer:"’"},"“":{opener:"“",closer:"”"}};function _(L,H){if(v.quoteState.length===0||L===v.quoteState[v.quoteState.length-1].opener)return v.quoteState.push({opener:g[L].opener,closer:g[L].closer,pos:H}),!1;var Y=v.quoteState[v.quoteState.length-1].pos;return v.quoteState.pop(),v.quoteState.push({opener:g[L].opener,closer:g[L].closer,positions:H}),Y}function y(L,H){if(v.quoteState.length>0&&L===v.quoteState[v.quoteState.length-1].closer)v.quoteState.pop();else return H}function $(L,H){var Y=["“","‘",' "'," '"].indexOf(L)>-1;return Y?_(L,H):y(L,H)}function I(L,H){var Y=L.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(Y)return $(Y[1],H)}v.doppel.strings.length&&v.doppel.strings[0].trim()&&(v.doppel.strings[0]=v.capitaliseWords(v.doppel.strings[0],0,v.doppel.tags[0]));for(var A=0,B=v.doppel.tags.length;A<B;A++){var T=v.doppel.tags[A],x=v.doppel.strings[A+1];if(v.tagState!==null&&(a[T]?v.tagState.push(a[T]):v.tagState.length&&T===v.tagState[v.tagState.length-1]&&v.tagState.pop()),v.afterPunct!==null&&T.match(/[\!\?\:]$/)&&(v.afterPunct=!0),v.tagState.length===0?v.doppel.strings[A+1]=v.capitaliseWords(x,A+1,v.doppel,v.doppel.tags[A+1]):v.doppel.strings[A+1].trim()&&(v.lastWordPos=null),v.quoteState!==null){var U=I(T,A);if(U||U===0){var O=v.doppel.origStrings[U+1].slice(0,1);v.doppel.strings[U+1]=O+v.doppel.strings[U+1].slice(1),v.lastWordPos=null}}v.isFirst&&x.trim()&&(v.isFirst=!1),v.afterPunct&&x.trim()&&(v.afterPunct=!1)}if(v.quoteState)for(var A=0,B=v.quoteState.length;A<B;A++){var U=v.quoteState[A].pos;if(typeof U<"u"){var O=v.doppel.origStrings[U+1].slice(0,1);v.doppel.strings[U+1]=O+v.doppel.strings[U+1].slice(1)}}if(v.lastWordPos){var F=n.split(v.doppel.strings[v.lastWordPos.strings]),D=F.strings[v.lastWordPos.words];D.length>1&&p.toLocaleLowerCase.call(this,D).match(v.skipWordsRex)&&(D=s.call(this,D),F.strings[v.lastWordPos.words]=D),v.doppel.strings[v.lastWordPos.strings]=n.join(F)}return t.join(v.doppel)}function l(v,b){return b}function u(v,b){var g={quoteState:null,capitaliseWords:function(_){for(var y=_.split(" "),$=0,I=y.length;$<I;$++){var A=y[$];A&&(y[$]=p.toLocaleLowerCase.call(v,A))}return y.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(v,g,b)}function f(v,b){var g={quoteState:null,capitaliseWords:function(_){for(var y=_.split(" "),$=0,I=y.length;$<I;$++){var A=y[$];A&&(y[$]=p.toLocaleUpperCase.call(v,A))}return y.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(v,g,b)}function h(v,b){var g={quoteState:[],capitaliseWords:function(_){for(var y=_.split(" "),$=0,I=y.length;$<I;$++){var A=y[$];A&&(g.isFirst?(y[$]=s.call(v,A),g.isFirst=!1):y[$]=p.toLocaleLowerCase.call(v,A))}return y.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return o.call(v,g,b)}function c(v,b){var g={quoteState:[],capitaliseWords:function(_,y,$){if(_.trim()){for(var I=n.split(_),A=I.strings,B=0,T=A.length;B<T;B++){var x=A[B];if(!x)continue;let U=p.toLocaleLowerCase.call(v,x),O=!1;(x.length>1&&!U.match(g.skipWordsRex)||B===A.length-1&&$==="-"||g.isFirst||g.afterPunct)&&(O=!0),O&&x===U&&(A[B]=s.call(v,x)),g.afterPunct=!1,g.isFirst=!1,g.lastWordPos={strings:y,words:B}}_=n.join(I)}return _},skipWordsRex:v.locale[v.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return o.call(v,g,b)}function m(v,b){var g={quoteState:[],capitaliseWords:function(_){for(var y=n.split(_),$=y.strings,I=0,A=$.length;I<A;I++){var B=$[I];if(B&&g.isFirst){B===p.toLocaleLowerCase.call(v,B)&&($[I]=s.call(v,B)),g.isFirst=!1;break}}return n.join(y)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return o.call(v,g,b)}function d(v,b){var g={quoteState:[],capitaliseWords:function(_){for(var y=n.split(_),$=y.strings,I=0,A=$.length;I<A;I++){var B=$[I];B&&B===p.toLocaleLowerCase.call(v,B)&&($[I]=s.call(v,B))}return n.join(y)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(v,g,b)}return{nameDoppel:i,passthrough:l,lowercase:u,uppercase:f,sentence:h,title:c,"capitalize-first":m,"capitalize-all":d}}();p.Output.Formats=function(){};p.Output.Formats.prototype.html={text_escape:function(r){return r||(r=""),r.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"  ").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+p.SUPERSCRIPTS[t]+"</sup>"})},bibstart:`<div class="csl-bib-body">
`,bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){var e="";return r.sys.embedBibliographyEntry&&(e=r.sys.embedBibliographyEntry(this.item_id)+`
`),'  <div class="csl-entry">'+t+`</div>
`+e},"@display/block":function(r,t){return`

    <div class="csl-block">`+t+`</div>
`},"@display/left-margin":function(r,t){return`
    <div class="csl-left-margin">`+t+"</div>"},"@display/right-inline":function(r,t){return'<div class="csl-right-inline">'+t+`</div>
  `},"@display/indent":function(r,t){return'<div class="csl-indent">'+t+`</div>
  `},"@showid/true":function(r,t,e){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations){if(e)return'<span class="'+r.opt.nodenames[e]+'" cslid="'+e+'">'+t+"</span>";if(this.params&&typeof t=="string"){var i="";if(t){var n=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);i=n[1],t=n[2]}var a="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(a=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,i,t,a)}else return t}else return t},"@URL/true":function(r,t){return'<a href="'+t+'">'+t+"</a>"},"@DOI/true":function(r,t){var e=t;return t.match(/^https?:\/\//)||(e="https://doi.org/"+t),'<a href="'+e+'">'+t+"</a>"}};p.Output.Formats.prototype.text={text_escape:function(r){return r||(r=""),r},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return t+`
`},"@display/block":function(r,t){return`
`+t},"@display/left-margin":function(r,t){return t+" "},"@display/right-inline":function(r,t){return t},"@display/indent":function(r,t){return`
    `+t},"@showid/true":function(r,t){return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){return t}};p.Output.Formats.prototype.rtf={text_escape:function(r){return r||(r=""),r.replace(/([\\{}])/g,"\\$1").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+p.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("	").join("\\tab{}")},"@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?p.Output.Formats.rtf.text_escape(r.getTerm("open-quote")):p.Output.Formats.rtf.text_escape(r.getTerm("open-quote"))+t+p.Output.Formats.rtf.text_escape(r.getTerm("close-quote"))},"@quotes/inner":function(r,t){return typeof t>"u"?p.Output.Formats.rtf.text_escape("’"):p.Output.Formats.rtf.text_escape(r.getTerm("open-inner-quote"))+t+p.Output.Formats.rtf.text_escape(r.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":`\\line{}%%STRING%%\\line\r
`,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return t},"@display/left-margin":function(r,t){return t+"\\tab "},"@display/right-inline":function(r,t){return t+`\r
`},"@display/indent":function(r,t){return`
\\tab `+t+`\\line\r
`},"@showid/true":function(r,t){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations){var e="";if(t){var i=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);e=i[1],t=i[2]}var n="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,e,t,n)}else return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){return t}};p.Output.Formats.prototype.asciidoc={text_escape:function(r){return r||(r=""),r.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"^"+p.SUPERSCRIPTS[t]+"^"})},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?"``":"``"+t+"''"},"@quotes/inner":function(r,t){return typeof t>"u"?"`":"`"+t+"'"},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return t+`
`},"@display/block":function(r,t){return t},"@display/left-margin":function(r,t){return t},"@display/right-inline":function(r,t){return" "+t},"@display/indent":function(r,t){return" "+t},"@showid/true":function(r,t){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations&&this.params&&typeof t=="string"){var e="";if(t){var i=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);e=i[1],t=i[2]}var n="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,e,t,n)}else return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){var e=t;return t.match(/^https?:\/\//)||(e="https://doi.org/"+t),e+"["+t+"]"}};p.Output.Formats.prototype.fo={text_escape:function(r){return r||(r=""),r.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,function(t){return'<fo:inline vertical-align="super">'+p.SUPERSCRIPTS[t]+"</fo:inline>"})},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){var e="";if(r.bibliography&&r.bibliography.opt&&r.bibliography.opt.hangingindent){var i=r.bibliography.opt.hangingindent;e=' start-indent="'+i+'em" text-indent="-'+i+'em"'}var n="";return r.sys.embedBibliographyEntry&&(n=r.sys.embedBibliographyEntry(this.item_id)+`
`),'<fo:block id="'+this.system_id+'"'+e+">"+t+`</fo:block>
`+n},"@display/block":function(r,t){return`
  <fo:block>`+t+`</fo:block>
`},"@display/left-margin":function(r,t){return`
  <fo:table table-layout="fixed" width="100%">
    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>
    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>
    <fo:table-body>
      <fo:table-row>
        <fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
        `},"@display/right-inline":function(r,t){return`<fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
      </fo:table-row>
    </fo:table-body>
  </fo:table>
`},"@display/indent":function(r,t){return'<fo:block margin-left="2em">'+t+`</fo:block>
`},"@showid/true":function(r,t){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations&&this.params&&typeof t=="string"){var e="";if(t){var i=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);e=i[1],t=i[2]}var n="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,e,t,n)}else return t},"@URL/true":function(r,t){return`<fo:basic-link external-destination="url('`+t+`')">`+t+"</fo:basic-link>"},"@DOI/true":function(r,t){var e=t;return t.match(/^https?:\/\//)||(e="https://doi.org/"+t),`<fo:basic-link external-destination="url('`+e+`')">`+t+"</fo:basic-link>"}};p.Output.Formats.prototype.latex={text_escape:function(r){return r||(r=""),r},bibstart:"\\begin{thebibliography}{4}",bibend:"\\end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return"\\bibitem{"+r.sys.embedBibliographyEntry(this.item_id)+`}
`},"@display/block":function(r,t){return`
`+t},"@display/left-margin":function(r,t){return t},"@display/right-inline":function(r,t){return t},"@display/indent":function(r,t){return`
    `+t},"@showid/true":function(r,t,e){return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){return t}};p.Output.Formats=new p.Output.Formats;p.Registry=function(r){this.debug=!1,this.state=r,this.registry={},this.reflist=[],this.refhash={},this.namereg=new p.Registry.NameReg(r),this.citationreg=new p.Registry.CitationReg(r),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new p.Registry.Comparifier(r,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(this.reflist[e]);return t}};p.Registry.prototype.init=function(r,t){var e,i;if(this.oldseq={},t){this.uncited={};for(var e=0,i=r.length;e<i;e+=1)this.myhash[r[e]]||this.mylist.push(""+r[e]),this.uncited[r[e]]=!0,this.myhash[r[e]]=!0}else{for(var n in this.uncited)r.push(n);var a={};for(e=r.length-1;e>-1;e+=-1)a[r[e]]?r=r.slice(0,e).concat(r.slice(e+1)):a[r[e]]=!0;this.mylist=r,this.myhash=a}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}};p.Registry.prototype.dopurge=function(r){for(var t=this.mylist.length-1;t>-1;t+=-1)this.citationreg.citationsByItemId&&(!this.citationreg.citationsByItemId||!this.citationreg.citationsByItemId[this.mylist[t]])&&!r[this.mylist[t]]&&(delete this.myhash[this.mylist[t]],delete this.uncited[this.mylist[t]],this.mylist=this.mylist.slice(0,t).concat(this.mylist.slice(t+1)));this.dodeletes(this.myhash)};p.Registry.prototype.dodeletes=function(r){var t,e,i,n,a,s,o,l,u;if(typeof r=="string"){var e=r;r={},r[e]=!0}for(var e in this.registry)if(!r[e]){if(this.uncited[e])continue;t=this.namereg.delitems(e);for(o in t)this.refreshes[o]=!0;for(i=this.registry[e].ambig,l=this.ambigcites[i].indexOf(e),l>-1&&(s=this.ambigcites[i].slice(),this.ambigcites[i]=s.slice(0,l).concat(s.slice(l+1,s.length)),this.ambigresets[i]=this.ambigcites[i].length),a=this.ambigcites[i].length,n=0;n<a;n+=1)u=""+this.ambigcites[i][n],this.refreshes[u]=!0;if(this.registry[e].siblings){if(this.registry[e].siblings.length==1){var f=this.registry[e].siblings[0];this.registry[f].siblings&&(this.registry[f].siblings.pop(),this.registry[f].master=!0)}else if(this.registry[e].siblings.length>1){var h=[e];if(this.registry[e].master){var c=this.registry[e].siblings[0],m=this.registry[c];m.master=!0,h.push(c)}for(var d=[],v=this.registry[e].siblings.length-1;v>-1;v+=-1){var b=this.registry[e].siblings.pop();h.indexOf(b)===-1&&d.push(b)}for(var v=d.length-1;v>-1;v+=-1)this.registry[e].siblings.push(d[v])}}for(var g=this.reflist.length-1;g>-1;g--)this.reflist[g].id===e&&(this.reflist=this.reflist.slice(0,g).concat(this.reflist.slice(g+1)));delete this.registry[e],delete this.refhash[e],this.return_data.bibchange=!0}};p.Registry.prototype.doinserts=function(r){var t,e,i,n,a,s,o;typeof r=="string"&&(r=[r]);for(var s=0,o=r.length;s<o;s+=1)t=r[s],this.registry[t]||(e=this.state.retrieveItem(t),i=p.getAmbiguousCite.call(this.state,e),this.ambigsTouched[i]=!0,e.legislation_id||(this.akeys[i]=!0),n={id:""+t,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:e,newItem:!0},this.registry[t]=n,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[t]&&(this.registry[t]["first-reference-note-number"]=this.citationreg.citationsByItemId[t][0].properties.noteIndex),a=p.getAmbigConfig.call(this.state),this.registerAmbigToken(i,t,a),this.touched[t]=!0,this.return_data.bibchange=!0)};p.Registry.prototype.rebuildlist=function(r){var t,e,i,n;if(r)for(this.reflist=[],t=this.mylist.length,e=0;e<t;e+=1)i=this.mylist[e],n=this.registry[i],this.reflist.push(n),this.oldseq[i]=this.registry[i].seq,this.registry[i].seq=e+1;else for(this.reflist_inserts=[],t=this.mylist.length,e=0;e<t;e+=1)i=this.mylist[e],n=this.registry[i],n.newItem&&this.reflist_inserts.push(n),this.oldseq[i]=this.registry[i].seq,this.registry[i].seq=e+1};p.Registry.prototype.dorefreshes=function(){var r,t,e,i,n;for(var r in this.refreshes)if(t=this.registry[r],!!t){t.sortkeys=void 0,e=this.state.refetchItem(r);var i=t.ambig;typeof i>"u"&&(this.state.tmp.disambig_settings=!1,i=p.getAmbiguousCite.call(this.state,e),n=p.getAmbigConfig.call(this.state),this.registerAmbigToken(i,r,n));for(var a in this.ambigresets)if(this.ambigresets[a]===1){var s=this.ambigcites[i][0],e=this.state.refetchItem(s);this.registry[s].disambig=new p.AmbigConfig,this.state.tmp.disambig_settings=!1;var i=p.getAmbiguousCite.call(this.state,e),n=p.getAmbigConfig.call(this.state);this.registerAmbigToken(i,s,n)}this.state.tmp.taintedItemIDs[r]=!0,this.ambigsTouched[i]=!0,e.legislation_id||(this.akeys[i]=!0),this.touched[r]=!0}};p.Registry.prototype.setdisambigs=function(){for(var r in this.ambigsTouched)this.state.disambiguate.run(r);this.ambigsTouched={},this.akeys={}};p.Registry.prototype.renumber=function(){var r,t,e;for(this.state.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),r=this.reflist.length,t=0;t<r;t+=1)e=this.reflist[t],e.seq=t+1,this.state.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[e.seq]=this.reflist.length-e.seq+1),this.state.opt.update_mode===p.NUMERIC&&e.seq!=this.oldseq[e.id]&&(this.state.tmp.taintedItemIDs[e.id]=!0),e.seq!=this.oldseq[e.id]&&(this.return_data.bibchange=!0)};p.Registry.prototype.setsortkeys=function(){for(var r,t=0,e=this.mylist.length;t<e;t+=1){var r=this.mylist[t];(this.touched[r]||this.state.tmp.taintedItemIDs[r]||!this.registry[r].sortkeys)&&(this.registry[r].sortkeys=p.getSortKeys.call(this.state,this.state.retrieveItem(r),"bibliography_sort"))}};p.Registry.prototype._insertItem=function(r,t){return t.splice(this._locationOf(r,t)+1,0,r),t};p.Registry.prototype._locationOf=function(r,t,e,i){if(t.length===0)return-1;e=e||0,i=i||t.length;var n=e+i>>1,a=this.sorter.compareKeys(r,t[n]);if(i-e<=1)return a==-1?n-1:n;switch(a){case-1:return this._locationOf(r,t,e,n);case 0:return n;case 1:return this._locationOf(r,t,n,i)}};p.Registry.prototype.sorttokens=function(r){var t,e,i,n;if(!r){for(this.reflist_inserts=[],t=this.mylist.length,n=0;n<t;n+=1)e=this.mylist[n],i=this.registry[e],i.newItem&&this.reflist_inserts.push(i);for(var a in this.state.tmp.taintedItemIDs)if(this.registry[a]&&!this.registry[a].newItem)for(var s=this.reflist.length-1;s>-1;s--)this.reflist[s].id===a&&(this.reflist_inserts.push(this.reflist[s]),this.reflist=this.reflist.slice(0,s).concat(this.reflist.slice(s+1)));for(var s=0,o=this.reflist_inserts.length;s<o;s++){var i=this.reflist_inserts[s];delete i.newItem,this.reflist=this._insertItem(i,this.reflist)}for(n=0;n<t;n+=1)e=this.mylist[n],i=this.registry[e],this.registry[e].seq=n+1}};p.Registry.Comparifier=function(r,t){var e,i,n,a,s=p.getSortCompare.call(r,r.opt["default-locale-sort"]);e=r[t].opt.sort_directions,this.compareKeys=function(o,l){for(i=o.sortkeys?o.sortkeys.length:0,n=0;n<i;n+=1){var u=0;if(o.sortkeys[n]===l.sortkeys[n]?u=0:typeof o.sortkeys[n]>"u"?u=e[n][1]:typeof l.sortkeys[n]>"u"?u=e[n][0]:u=s(o.sortkeys[n],l.sortkeys[n]),0<u)return e[n][1];if(0>u)return e[n][0]}return o.seq>l.seq?1:o.seq<l.seq?-1:0},a=this.compareKeys,this.compareCompositeKeys=function(o,l){return a(o[1],l[1])}};p.Registry.prototype.compareRegistryTokens=function(r,t){return r.seq>t.seq?1:r.seq<t.seq?-1:0};p.Registry.prototype.registerAmbigToken=function(r,t,e){if(this.registry[t]||p.debug("Warning: unregistered item: itemID=("+t+"), akey=("+r+")"),this.registry[t]&&this.registry[t].disambig&&this.registry[t].disambig.names)for(var i=0,n=e.names.length;i<n;i+=1){var a=e.names[i],s=this.registry[t].disambig.names[i];if(a!==s)this.state.tmp.taintedItemIDs[t]=!0;else if(e.givens[i])for(var o=0,l=e.givens[i].length;o<l;o+=1){var u=e.givens[i][o],f=this.registry[t].disambig.givens[i][o];u!==f&&(this.state.tmp.taintedItemIDs[t]=!0)}}this.ambigcites[r]||(this.ambigcites[r]=[]),this.ambigcites[r].indexOf(""+t)===-1&&this.ambigcites[r].push(""+t),this.registry[t].ambig=r,this.registry[t].disambig=p.cloneAmbigConfig(e)};p.getSortKeys=function(r,t){var e,i,n,a,s,o;for(e=this.tmp.area,i=this.tmp.root,n=this.tmp.extension,a=p.Util.Sort.strip_prepositions,this.tmp.area=t,this.tmp.root=t.indexOf("_")>-1?t.slice(0,-5):t,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,p.getCite.call(this,r),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,s=this[t].keys.length,o=0;o<s;o+=1)this[t].keys[o]=a(this[t].keys[o]);return this.tmp.area=e,this.tmp.root=i,this.tmp.extension=n,this[t].keys};p.Registry.NameReg=function(r){var t,e,i,n,a,s,o,l,u,f,h,c;this.state=r,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},o=function(m){return m||(m=""),m.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(m,d,v){t=o(v.family),m.opt["demote-non-dropping-particle"]==="never"&&v["non-dropping-particle"]&&v.family&&(t=`${t} ${v["non-dropping-particle"]}`),i=o(v.given);var b=i.match(/[,\!]* ([^,]+)$/);b&&b[1]===b[1].toLowerCase()&&(i=i.replace(/[,\!]* [^,]+$/,"")),e=p.Util.Names.initializeWith(m,i,"%s"),m.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(t=""+d+t)},u=function(m,d,v,b,g,_){var y;if(r.tmp.area.slice(0,12)==="bibliography"&&!g)return typeof _=="string"?1:2;var $=r.nameOutput.getName(d,"locale-translit",!0);d=$.name,l(this.state,""+m,d),y=2,n=r.opt["disambiguate-add-givenname"],a=r.citation.opt["givenname-disambiguation-rule"];var I=a;if(a==="by-cite"&&(a="all-names"),g==="short"?y=0:typeof _=="string"&&(y=1),typeof this.namereg[t]>"u"||typeof this.namereg[t].ikey[e]>"u")return y;if(I==="by-cite"&&y<=b)return b;if(!n||typeof a=="string"&&a.slice(0,12)==="primary-name"&&v>0||(!a||a==="all-names"||a==="primary-name"?(this.namereg[t].count>1&&(y=1),(this.namereg[t].ikey&&this.namereg[t].ikey[e].count>1||this.namereg[t].count>1&&typeof _!="string")&&(y=2)):(a==="all-names-with-initials"||a==="primary-name-with-initials")&&(this.namereg[t].count>1?y=1:y=0),r.registry.registry[m]))return y;if(g=="short")return 0;if(typeof _=="string")return 1},f=function(m){var d,v,b,g,_;(typeof m=="string"||typeof m=="number")&&(m=[""+m]);var y={};for(v=m.length,d=0;d<v;d+=1)if(g=""+m[d],!!this.nameind[g]){for(_ in this.nameind[g])if(this.nameind[g].hasOwnProperty(_)){var $=_.split("::");if(t=$[0],e=$[1],i=$[2],typeof this.namereg[t]>"u")continue;if(s=this.namereg[t].items,i&&this.namereg[t].ikey[e]&&this.namereg[t].ikey[e].skey[i]&&(c=this.namereg[t].ikey[e].skey[i].items,b=c.indexOf(""+g),b>-1&&(this.namereg[t].ikey[e].skey[i].items=c.slice(0,b).concat(c.slice([b+1]))),this.namereg[t].ikey[e].skey[i].items.length===0&&(delete this.namereg[t].ikey[e].skey[i],this.namereg[t].ikey[e].count+=-1,this.namereg[t].ikey[e].count<2)))for(var I=0,A=this.namereg[t].ikey[e].items.length;I<A;I+=1)r.tmp.taintedItemIDs[this.namereg[t].ikey[e].items[I]]=!0;if(e&&this.namereg[t].ikey[e]&&(b=this.namereg[t].ikey[e].items.indexOf(""+g),b>-1&&(s=this.namereg[t].ikey[e].items.slice(),this.namereg[t].ikey[e].items=s.slice(0,b).concat(s.slice([b+1]))),this.namereg[t].ikey[e].items.length===0&&(delete this.namereg[t].ikey[e],this.namereg[t].count+=-1,this.namereg[t].count<2)))for(var I=0,A=this.namereg[t].items.length;I<A;I+=1)r.tmp.taintedItemIDs[this.namereg[t].items[I]]=!0;t&&(b=this.namereg[t].items.indexOf(""+g),b>-1&&(s=this.namereg[t].items.slice(),this.namereg[t].items=s.slice(0,b).concat(s.slice([b+1],s.length))),this.namereg[t].items.length<2&&delete this.namereg[t]),delete this.nameind[g][_]}delete this.nameind[g],delete this.nameindpkeys[g]}return y},h=function(m,d,v){var b,g,_=r.nameOutput.getName(d,"locale-translit",!0);if(d=_.name,!(r.citation.opt["givenname-disambiguation-rule"]&&r.citation.opt["givenname-disambiguation-rule"].slice(0,8)==="primary-"&&v!==0)){if(l(this.state,""+m,d),t&&(typeof this.namereg[t]>"u"?(this.namereg[t]={},this.namereg[t].count=0,this.namereg[t].ikey={},this.namereg[t].items=[m]):this.namereg[t].items.indexOf(m)===-1&&this.namereg[t].items.push(m)),t&&e)if(typeof this.namereg[t].ikey[e]>"u"){if(this.namereg[t].ikey[e]={},this.namereg[t].ikey[e].count=0,this.namereg[t].ikey[e].skey={},this.namereg[t].ikey[e].items=[m],this.namereg[t].count+=1,this.namereg[t].count===2)for(var b=0,g=this.namereg[t].items.length;b<g;b+=1)r.tmp.taintedItemIDs[this.namereg[t].items[b]]=!0}else this.namereg[t].ikey[e].items.indexOf(m)===-1&&this.namereg[t].ikey[e].items.push(m);if(t&&e&&i)if(typeof this.namereg[t].ikey[e].skey[i]>"u"){if(this.namereg[t].ikey[e].skey[i]={},this.namereg[t].ikey[e].skey[i].items=[m],this.namereg[t].ikey[e].count+=1,this.namereg[t].ikey[e].count===2)for(var b=0,g=this.namereg[t].ikey[e].items.length;b<g;b+=1)r.tmp.taintedItemIDs[this.namereg[t].ikey[e].items[b]]=!0}else this.namereg[t].ikey[e].skey[i].items.indexOf(m)===-1&&this.namereg[t].ikey[e].skey[i].items.push(m);typeof this.nameind[m]>"u"&&(this.nameind[m]={},this.nameindpkeys[m]={}),t&&(this.nameind[m][t+"::"+e+"::"+i]=!0,this.nameindpkeys[m][t]=this.namereg[t])}},this.addname=h,this.delitems=f,this.evalname=u};p.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]};p.Disambiguation=function(r){this.state=r,this.sys=this.state.sys,this.registry=r.registry.registry,this.ambigcites=r.registry.ambigcites,this.configModes(),this.debug=!1};p.Disambiguation.prototype.run=function(r){this.modes.length&&(this.debug&&this.state.sys.print("[A] === RUN ==="),this.akey=r,this.initVars(r)&&this.runDisambig())};p.Disambiguation.prototype.runDisambig=function(){var r;for(this.debug&&this.state.sys.print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),r=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(r);this.lists=this.lists.slice(1)}};p.Disambiguation.prototype.scanItems=function(r){var t,e,i;this.debug&&this.state.sys.print("[2] === scanItems() ==="),this.Item=r[1][0],this.ItemCite=p.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=r[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var n=0,t=1,e=r[1].length;t<e;t+=1){i=r[1][t];var a=p.getAmbiguousCite.call(this.state,i,this.base,!0);this.debug&&t>1&&this.state.sys.print("  -----------"),this.ItemCite===a?(this.debug&&(this.state.sys.print("  [CLASH]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+i.id+": "+a)),n+=1,this.partners.push(i)):(this.debug&&(this.state.sys.print("  [clear]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+i.id+": "+a)),this.nonpartners.push(i))}this.clashes[0]=this.clashes[1],this.clashes[1]=n};p.Disambiguation.prototype.evalScan=function(r){this[this.modes[this.modeindex]](r),r&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])};p.Disambiguation.prototype.disNames=function(r){var t,e;if(this.debug&&this.state.sys.print("[3] == disNames() =="),this.clashes[1]===0&&this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [a]: lone partner, one nonpartner"),this.state.sys.print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(this.clashes[1]===0)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),this.state.sys.print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),this.state.sys.print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&this.state.sys.print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&this.state.sys.print("  ** RESOLUTION [e]: no improvement, and clashes remain"),r&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&this.state.sys.print("     (registering clashing entries because we've run out of options)");for(var t=0,e=this.partners.length;t<e;t+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[t].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}};p.Disambiguation.prototype.disExtraText=function(){this.debug&&this.state.sys.print("[3] === disExtraText ==");var r=!1;if(this.clashes[1]===0&&this.nonpartners.length<2&&(r=!0),!r&&(!this.base.disambiguate||this.state.tmp.disambiguate_count!==this.state.tmp.disambiguate_maxMax))if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var t=0,e=this.lists[this.listpos][1].length;t<e;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0}else if(r||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(r||this.modeindex===this.modes.length-1){for(var i=this.lists[this.listpos][0],t=0,e=this.lists[this.listpos][1].length;t<e;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,i);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1;var i=this.lists[this.listpos][0];i.disambiguate=!0;for(var t=0,e=this.lists[this.listpos][1].length;t<e;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,i)}};p.Disambiguation.prototype.disYears=function(){var r,t,e,i;this.debug&&this.state.sys.print("[3] === disYears =="),e=[];var n=this.lists[this.listpos][0];if(this.clashes[1])for(var a=0,s=this.state.registry.mylist.length;a<s;a+=1)for(var o=this.state.registry.mylist[a],l=0,u=this.lists[this.listpos][1].length;l<u;l+=1){var i=this.lists[this.listpos][1][l];if(i.id==o){e.push(this.registry[i.id]);break}}e.sort(this.state.registry.sorter.compareKeys);for(var r=0,t=e.length;r<t;r+=1){n.year_suffix=""+r;var f=this.state.registry.registry[e[r].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+e[r].id,n),p.ambigConfigDiff(f,n)&&(this.state.tmp.taintedItemIDs[e[r].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]};p.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&this.state.sys.print(`
[1] === incrementDisambig() ===`),this.initGivens)return this.initGivens=!1,!1;var r=!1,t=!0;if(this.modes[this.modeindex]==="disNames"){t=!1,typeof this.givensMax!="number"&&(t=!0);var e=!1;typeof this.namesMax!="number"&&(e=!0),typeof this.givensMax=="number"&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:t=!0),typeof this.namesMax=="number"&&t&&(this.state.opt["disambiguate-add-names"]?(e=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):e=!0):e=!0),typeof this.namesetsMax=="number"&&e&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(this.state.sys.print("    ------------------"),this.state.sys.print("    incremented values"),this.state.sys.print("    ------------------"),this.state.sys.print("    | gnameset: "+this.gnameset),this.state.sys.print("    | gname: "+this.gname),this.state.sys.print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?this.state.sys.print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):this.state.sys.print("    | givens value: nil"),this.state.sys.print("    | namesetsMax: "+this.namesetsMax),this.state.sys.print("    | namesMax: "+this.namesMax),this.state.sys.print("    | givensMax: "+this.givensMax)),(typeof this.namesetsMax!="number"||this.namesetsMax===-1||this.gnameset===this.namesetsMax)&&(!this.state.opt["disambiguate-add-names"]||typeof this.namesMax!="number"||this.gname===this.namesMax)&&(typeof this.givensMax!="number"||typeof this.base.givens[this.gnameset]>"u"||typeof this.base.givens[this.gnameset][this.gname]>"u"||this.base.givens[this.gnameset][this.gname]===this.givensMax)&&(r=!0,this.debug&&this.state.sys.print("    MAXED"))}else this.modes[this.modeindex]==="disExtraText"&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return r};p.Disambiguation.prototype.initVars=function(r){var t,e,i,n,a;if(this.debug&&this.state.sys.print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=r,this.maxNamesByItemId={},n=[],i=this.ambigcites[r],!i||!i.length)return!1;var s=this.state.refetchItem(""+i[0]);if(this.getCiteData(s),this.base=p.getAmbigConfig.call(this.state),i&&i.length>1){n.push([this.maxNamesByItemId[s.id],s]);for(var t=1,e=i.length;t<e;t+=1)s=this.state.refetchItem(""+i[t]),this.getCiteData(s,this.base),n.push([this.maxNamesByItemId[s.id],s]);n.sort(function(l,u){return l[0]>u[0]?1:l[0]<u[0]?-1:l[1].id>u[1].id?1:l[1].id<u[1].id?-1:0}),a=[];for(var t=0,e=n.length;t<e;t+=1)a.push(n[t][1]);this.lists.push([this.base,a]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+i[0]);if(this.modeindex=0,this.state.citation.opt["disambiguate-add-names"]||!0)this.namesMax=this.maxNamesByItemId[this.Item.id][0];else{var o;for(var t,e;t<e;t+=1);}return this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0};p.Disambiguation.prototype.padBase=function(r){for(var t=0,e=r.names.length;t<e;t+=1){r.givens[t]||(r.givens[t]=[]);for(var i=0,n=r.names[t];i<n;i+=1)r.givens[t][i]||(r.givens[t][i]=0)}};p.Disambiguation.prototype.configModes=function(){var r,t;this.modes=[],r=this.state.opt["disambiguate-add-givenname"],t=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||r&&t==="by-cite")&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))};p.Disambiguation.prototype.getCiteData=function(r,t){if(!this.maxNamesByItemId[r.id]){p.getAmbiguousCite.call(this.state,r,t),t=p.getAmbigConfig.call(this.state),this.maxNamesByItemId[r.id]=p.getMaxVals.call(this.state),this.state.registry.registry[r.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var e=0,i=this.state.registry.registry[r.id].disambig.givens.length;e<i;e+=1)this.state.registry.registry[r.id].disambig.givens[e]=this.state.tmp.disambig_settings.givens[e].slice();this.namesetsMax=this.state.registry.registry[r.id].disambig.names.length-1,this.base||(this.base=t,this.betterbase=p.cloneAmbigConfig(t)),t.names.length<this.base.names.length&&(this.base=t);for(var e=0,i=t.names.length;e<i;e+=1)t.names[e]>this.base.names[e]&&(this.base.givens[e]=t.givens[e].slice(),this.base.names[e]=t.names[e],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var n=0,a=this.base.givens.length;n<a;n+=1)this.betterbase.givens[n]=this.base.givens[n].slice()}};p.Disambiguation.prototype.captureStepToBase=function(){this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.base.givens&&this.base.givens.length&&typeof this.base.givens[this.gnameset][this.gname]<"u"&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]};p.Engine.prototype.getJurisdictionList=function(r){for(var t=[],e=r.split(":"),i=e.length;i>0;i--){var n=e.slice(0,i).join(":");if(t.push(n),this.opt.jurisdiction_fallbacks[n]){var a=this.opt.jurisdiction_fallbacks[n];t.push(a)}}return t.indexOf("us")===-1&&t.push("us"),t};p.Engine.prototype.loadStyleModule=function(r,t,e){var i=null;this.juris[r]={};var n=p.setupXml(t);n.addMissingNameNodes(n.dataObj),n.addInstitutionNodes(n.dataObj),n.insertPublisherAndPlace(n.dataObj),n.flagDateMacros(n.dataObj);for(var h=n.getNodesByName(n.dataObj,"law-module"),a=0,s=h.length;a<s;a++){var o=n.getAttributeValue(h[a],"types");if(o){this.juris[r].types={},o=o.split(/\s+/);for(var l=0,u=o.length;l<u;l++)this.juris[r].types[o[l]]=!0}e||(i=n.getAttributeValue(h[a],"fallback"),i&&r!=="us"&&(this.opt.jurisdiction_fallbacks[r]=i))}var f=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];p.SET_COURT_CLASSES(this,f,n,n.dataObj),this.juris[r].types||(this.juris[r].types=p.MODULE_TYPES);for(var h=n.getNodesByName(n.dataObj,"macro"),a=0,s=h.length;a<s;a++){var c=n.getAttributeValue(h[a],"name");if(!p.MODULE_MACROS[c]){p.debug('CSL: skipping non-modular macro name "'+c+'" in module context');continue}this.juris[r][c]=[],this.buildTokenLists(h[a],this.juris[r][c]),this.configureTokenList(this.juris[r][c])}return i};p.Engine.prototype.retrieveAllStyleModules=function(r){var t={},e=this.locale[this.opt.lang].opts["jurisdiction-preference"];e=e||[],e=[""].concat(e);for(var i=e.length-1;i>-1;i--)for(var n=e[i],a=0,s=r.length;a<s;a++){var o=r[a];if(!this.opt.jurisdictions_seen[o]){var l=this.sys.retrieveStyleModule(o,n);(!l&&!n||l)&&(this.opt.jurisdictions_seen[o]=!0),l&&(t[o]=l)}}return t};p.ParticleList=function(){var r=[[[0,1],null]],t=[[[0,3],null]],e=[[null,[0,1]]],i=[[null,[0,2]]],n=[[null,[0,3]]],a=[[null,[0,1]],[[0,1],null]],s=[[null,[0,2]],[[0,2],null]],o=[[[0,1],null],[null,[0,1]]],l=[[[0,2],null],[null,[0,2]]],u=[[[0,3],null],[null,[0,3]]],f=[[null,[0,2]],[[0,1],[1,2]]],h=[["'s",e],["'s-",e],["'t",e],["a",e],["aan 't",i],["aan de",i],["aan den",i],["aan der",i],["aan het",i],["aan t",i],["aan",e],["ad-",a],["adh-",a],["af",a],["al",a],["al-",a],["am de",i],["am",e],["an-",a],["ar-",a],["as-",a],["ash-",a],["at-",a],["ath-",a],["auf dem",l],["auf den",l],["auf der",l],["auf ter",i],["auf",o],["aus 'm",l],["aus dem",l],["aus den",l],["aus der",l],["aus m",l],["aus",o],["aus'm",l],["az-",a],["aš-",a],["aḍ-",a],["aḏ-",a],["aṣ-",a],["aṭ-",a],["aṯ-",a],["aẓ-",a],["ben",e],["bij 't",i],["bij de",i],["bij den",i],["bij het",i],["bij t",i],["bij",e],["bin",e],["boven d",i],["boven d'",i],["d",e],["d'",a],["da",a],["dal",e],["dal'",e],["dall'",e],["dalla",e],["das",a],["de die le",n],["de die",i],["de l",i],["de l'",i],["de la",f],["de las",f],["de le",i],["de li",s],["de van der",n],["de",a],["de'",a],["deca",e],["degli",a],["dei",a],["del",a],["dela",r],["dell'",a],["della",a],["delle",a],["dello",a],["den",a],["der",a],["des",a],["di",a],["die le",i],["do",e],["don",e],["dos",a],["du",a],["ed-",a],["edh-",a],["el",a],["el-",a],["en-",a],["er-",a],["es-",a],["esh-",a],["et-",a],["eth-",a],["ez-",a],["eš-",a],["eḍ-",a],["eḏ-",a],["eṣ-",a],["eṭ-",a],["eṯ-",a],["eẓ-",a],["het",e],["i",e],["il",r],["im",e],["in 't",i],["in de",i],["in den",i],["in der",s],["in het",i],["in t",i],["in",e],["l",e],["l'",e],["la",e],["las",e],["le",e],["les",a],["lo",a],["los",e],["lou",e],["of",e],["onder 't",i],["onder de",i],["onder den",i],["onder het",i],["onder t",i],["onder",e],["op 't",i],["op de",s],["op den",i],["op der",i],["op gen",i],["op het",i],["op t",i],["op ten",i],["op",e],["over 't",i],["over de",i],["over den",i],["over het",i],["over t",i],["over",e],["s",e],["s'",e],["sen",r],["t",e],["te",e],["ten",e],["ter",e],["tho",e],["thoe",e],["thor",e],["to",e],["toe",e],["tot",e],["uijt 't",i],["uijt de",i],["uijt den",i],["uijt te de",n],["uijt ten",i],["uijt",e],["uit 't",i],["uit de",i],["uit den",i],["uit het",i],["uit t",i],["uit te de",n],["uit ten",i],["uit",e],["unter",e],["v",e],["v.",e],["v.d.",e],["van 't",i],["van de l",n],["van de l'",n],["van de",i],["van de",i],["van den",i],["van der",i],["van gen",i],["van het",i],["van la",i],["van t",i],["van ter",i],["van van de",n],["van",a],["vander",e],["vd",e],["ver",e],["vom und zum",t],["vom",a],["von 't",i],["von dem",l],["von den",l],["von der",l],["von t",i],["von und zu",u],["von zu",l],["von",o],["voor 't",i],["voor de",i],["voor den",i],["voor in 't",n],["voor in t",n],["voor",e],["vor der",l],["vor",o],["z",r],["ze",r],["zu",o],["zum",a],["zur",a]];return h}();p.parseParticles=function(){function r(i,n,a){var s=i;i=a?i.toLowerCase():i;var o=[],l,u;n?(i=i.split("").reverse().join(""),l=p.PARTICLE_GIVEN_REGEXP):l=p.PARTICLE_FAMILY_REGEXP;for(var f=i.match(l);f;){var h=n?f[1].split("").reverse().join(""):f[1],c=f?h:!1,c=c?h.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"):!1;if(u=c?c.toUpperCase()!==c:!1,!u)break;n?(o.push(s.slice(h.length*-1)),s=s.slice(0,h.length*-1)):(o.push(s.slice(0,h.length)),s=s.slice(h.length)),i=f[2],f=i.match(l)}if(n){i=i.split("").reverse().join(""),o.reverse();for(var m=1,d=o.length;m<d;m++)o[m].slice(0,1)==" "&&(o[m-1]+=" ");for(var m=0,d=o.length;m<d;m++)o[m].slice(0,1)==" "&&(o[m]=o[m].slice(1));i=s.slice(0,i.length)}else i=s.slice(i.length*-1);return[u,i,o]}function t(i){var n=i.slice(-1);return i=i.trim(),n===" "&&["'","’"].indexOf(i.slice(-1))>-1&&(i+=" "),i}function e(i){if(!i.suffix&&i.given){var n=i.given.match(/(\s*,!*\s*)/);if(n){var a=i.given.indexOf(n[1]),s=i.given.slice(a+n[1].length),o=i.given.slice(a,a+n[1].length).replace(/\s*/g,"");s.replace(/\./g,"")==="et al"&&!i["dropping-particle"]?(i["dropping-particle"]=s,i["comma-dropping-particle"]=","):(o.length===2&&(i["comma-suffix"]=!0),i.suffix=s),i.given=i.given.slice(0,a)}}}return function(i){var o=r(i.family),n=o[1],a=o[2];i.family=n;var s=t(a.join(""));s&&(i["non-dropping-particle"]=s),e(i);var o=r(i.given,!0),l=o[1],u=o[2];i.given=l;var f=u.join("").trim();f&&(i["dropping-particle"]=f)}}();var VB=p;const ho=bb(VB),kS=Symbol.for("proxied"),XB=function(r){const t=function(e,i){if(e.sys.wrapBibliographyEntry){const[n,a]=e.sys.wrapBibliographyEntry(this.system_id);i=[n,i,a].join("")}return r.call(this,e,i)};return t[kS]=!0,t};for(const r in ho.Output.Formats){const t=ho.Output.Formats[r]["@bibliography/entry"];!t||t[kS]||(ho.Output.Formats[r]["@bibliography/entry"]=XB(t))}function KB(r){if(El.has(r))return El.get(r);const t=r.replace("-","_");return El.has(t)?El.get(t):{}}const Jd={},YB=function(r,t,e,i,n){const a=`${r}|${t}`;let s;return Jd[a]instanceof ho.Engine?(s=Jd[a],s.sys.retrieveItem=i,s.sys.wrapBibliographyEntry=void 0,s.updateItems([])):s=Jd[a]=new ho.Engine({retrieveLocale:n,retrieveItem:i},e,t,!0),s},Nb=function(r,t,e,i){if(!ho.Output.Formats[i]||!ho.Output.Formats[i]["@bibliography/entry"])throw new TypeError(`Cannot find format '${i}'`);const n=r.reduce((l,u)=>(l[u.id]=u,l),{}),a=Hg.get(Hg.has(t)?t:"apa");e=El.has(e)?e:void 0;const o=YB(t,e,a,function(l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l];throw new Error(`Cannot find entry with id '${l}'`)},KB);return o.setOutputFormat(i),o},JB=(r,t,e)=>r.replace(/^\s*<[a-z]+/i,`$& data-${t}="${e}"`),QB=(r,t)=>JB(r,"csl-entry-id",t),o2=(r,t)=>typeof t=="function"?t(r):t||"";function ZB(r,t={}){const{template:e="apa",lang:i,format:n="text",nosort:a=!1}=t,s=t.entry?[].concat(t.entry):r.map(({id:d})=>d);r=df(r);const o=Nb(r,e,i,n),l=o.updateItems(s,a);if(t.append||t.prepend){const d=r.reduce((v,b)=>(v[b.id]=b,v),{});o.sys.wrapBibliographyEntry=function(v){const b=d[v];return[o2(b,t.prepend),o2(b,t.append)]}}const u=o.makeBibliography(),[{bibstart:f,bibend:h},c]=u,m=c.map((d,v)=>QB(d,l[v]));return t.asEntryArray?m.map((d,v)=>[l[v],d]):f+m.join("")+h}function eF(r){return typeof r=="object"?r:{id:r}}function TS(r){return r.citationItems?r:{citationItems:[].concat(r).map(eF),properties:{noteIndex:0}}}function l2(r){return r?r.map(TS):[]}function tF(r,t={}){const{template:e="apa",lang:i,format:n="text"}=t,a=r.map(({id:c})=>c),s=t.entry?t.entry:a;r=df(r);const o=Nb(r,e,i,n),l=l2(t.citationsPre),u=TS(s),f=l2(t.citationsPost);return o.rebuildProcessorState([...l,u,...f],n,[])[l.length][2]}Ab("@csl",{output:{bibliography:ZB,citation:tF},config:{engine:Nb,locales:El,templates:Hg}});const rF=`
  
@book{wolsey2020,
  title={Integer Programming},
  author={Wolsey, L.A.},
  isbn={9781119606536},
  lccn={2020023657},
  url={https://books.google.com/books?id=3yhPwwEACAAJ},
  year={2020},
  publisher={Wiley}
}

@book{nemWol1999,
  title={Integer and Combinatorial Optimization},
  author={Wolsey, L.A. and Nemhauser, G.L.},
  isbn={9780471359432},
  lccn={87034067},
  series={Wiley Series in Discrete Mathematics and Optimization},
  url={https://books.google.com/books?id=vvm4DwAAQBAJ},
  year={1999},
  publisher={Wiley}
}

@book{schrijver2003combOpt,
  title={Combinatorial Optimization: Polyhedra and Efficiency},
  author={Schrijver, A.},
  number={v. 1},
  isbn={9783540443896},
  lccn={2002036693},
  series={Algorithms and Combinatorics},
  url={https://books.google.com/books?id=mqGeSQ6dJycC},
  year={2003},
  publisher={Springer}
}

@book{schrijver1998theory,
  title={Theory of Linear and Integer Programming},
  author={Schrijver, A.},
  isbn={9780471982326},
  lccn={lc85012314},
  series={Wiley Series in Discrete Mathematics & Optimization},
  url={https://books.google.com/books?id=zEzW5mhppB8C},
  year={1998},
  publisher={Wiley}
}

@book{desaulniers2010column,
  title={Column Generation},
  author={Desaulniers, G. and Desrosiers, J. and Solomon, M.M.},
  isbn={9781441937995},
  lccn={2005043438},
  url={https://books.google.com/books?id=s2BjcgAACAAJ},
  year={2010},
  publisher={Springer US}
}

@book{williams2013model,
  title={Model Building in Mathematical Programming},
  author={Williams, H.P.},
  isbn={9781118506189},
  lccn={2012037911},
  url={https://books.google.com/books?id=YJRh0tOes7UC},
  year={2013},
  publisher={Wiley}
}

@book{diestel2018,
  title={Graph Theory},
  author={Diestel, R.},
  isbn={9783662575604},
  series={Graduate Texts in Mathematics},
  url={https://books.google.com/books?id=JQ1XtgEACAAJ},
  year={2018},
  publisher={Springer Berlin Heidelberg}
}
`,Lr=Ln({hierarchy:[],numbers:{},numRefs:{},returnIds:{},headingTexts:{},dispSecNums:{},contexts:{}}),Fl=Ln({secCounts:{},numbers:{},numRefs:{},returnIds:{}}),Wc=Ln({secCounts:{},numbers:{},numRefs:{},returnIds:{},names:{}}),zl=Ln({numRefs:{},returnIds:{},names:{},abbrevs:{}}),iF=await Ao(rF),OS={};for(const r of iF.data){const t=Ao(r);let i=t.format("bibliography").split(" ");for(const n in i){let a=i[n];a.startsWith("http")&&(i[n]=`<a href=${a} target='_blank'>${a}</a>`)}OS[r.id]={refStr:t.format("citation"),biblio:i.join(" "),referenced:!1}}const Wg=Ln(OS),Sf=Ln(!1),AS=Ln(!1),IS=gb(800),nF=gb(350),CS=gb(400),aF=Ln([]),Gi=Ln(!1),Gg=Ln(!1);function u2(r){let t,e,i="Contents",n,a,s="IMSE 884",o,l,u,f=!r[0]&&f2();return{c(){t=de("div"),e=de("div"),e.textContent=i,n=Ee(),a=de("div"),a.textContent=s,o=Ee(),f&&f.c(),this.h()},l(h){t=ve(h,"DIV",{class:!0});var c=He(t);e=ve(c,"DIV",{id:!0,class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Xe(e)!=="svelte-1viqrr1"&&(e.textContent=i),n=ke(c),a=ve(c,"DIV",{class:!0,"data-svelte-h":!0}),Xe(a)!=="svelte-1mi2n3c"&&(a.textContent=s),o=ke(c),f&&f.l(c),c.forEach(S),this.h()},h(){pe(e,"id","contentsClick"),pe(e,"class","contents svelte-1itv9yf"),pe(e,"role","button"),pe(e,"tabindex","0"),pe(e,"aria-label","Toggle show TOC"),pe(a,"class","courseNum svelte-1itv9yf"),pe(t,"class","topBar svelte-1itv9yf")},m(h,c){C(h,t,c),fe(t,e),fe(t,n),fe(t,a),fe(t,o),f&&f.m(t,null),l||(u=[pt(e,"keydown",r[2]),pt(e,"click",r[3])],l=!0)},p(h,c){h[0]?f&&(f.d(1),f=null):f||(f=f2(),f.c(),f.m(t,null))},d(h){h&&S(t),f&&f.d(),l=!1,bn(u)}}}function f2(r){let t,e="Spring 2025";return{c(){t=de("div"),t.textContent=e,this.h()},l(i){t=ve(i,"DIV",{class:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-hfppnr"&&(t.textContent=e),this.h()},h(){pe(t,"class","term svelte-1itv9yf")},m(i,n){C(i,t,n)},d(i){i&&S(t)}}}function sF(r){let t,e=!r[1]&&u2(r);return{c(){e&&e.c(),t=vt()},l(i){e&&e.l(i),t=vt()},m(i,n){e&&e.m(i,n),C(i,t,n)},p(i,[n]){i[1]?e&&(e.d(1),e=null):e?e.p(i,n):(e=u2(i),e.c(),e.m(t.parentNode,t))},i:ye,o:ye,d(i){i&&S(t),e&&e.d(i)}}}function oF(r,t,e){let i;yt(r,Gi,o=>e(1,i=o));let{smallScreen:n=!1}=t;const a=()=>{Sf.update(o=>!o)},s=()=>{Sf.update(o=>!o)};return r.$$set=o=>{"smallScreen"in o&&e(0,n=o.smallScreen)},[n,i,a,s]}class lF extends Ot{constructor(t){super(),At(this,t,oF,sF,St,{smallScreen:0})}}function uF(r){const t=r-1;return t*t*t+1}function c2(r,{delay:t=0,duration:e=400,easing:i=uF,axis:n="y"}={}){const a=getComputedStyle(r),s=+a.opacity,o=n==="y"?"height":"width",l=parseFloat(a[o]),u=n==="y"?["top","bottom"]:["left","right"],f=u.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),h=parseFloat(a[`padding${f[0]}`]),c=parseFloat(a[`padding${f[1]}`]),m=parseFloat(a[`margin${f[0]}`]),d=parseFloat(a[`margin${f[1]}`]),v=parseFloat(a[`border${f[0]}Width`]),b=parseFloat(a[`border${f[1]}Width`]);return{delay:t,duration:e,easing:i,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*s};${o}: ${g*l}px;padding-${u[0]}: ${g*h}px;padding-${u[1]}: ${g*c}px;margin-${u[0]}: ${g*m}px;margin-${u[1]}: ${g*d}px;border-${u[0]}-width: ${g*v}px;border-${u[1]}-width: ${g*b}px;`}}function h2(r,t,e){const i=r.slice();return i[6]=t[e],i[8]=e,i}function m2(r){let t,e=r[1][r[8]]?"-":"+",i,n,a;function s(){return r[4](r[8])}function o(){return r[5](r[8])}return{c(){t=de("span"),i=R(e),this.h()},l(l){t=ve(l,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var u=He(t);i=M(u,e),u.forEach(S),this.h()},h(){pe(t,"class","tocExpand svelte-1iphz67"),pe(t,"role","button"),pe(t,"tabindex","0"),pe(t,"aria-label","Toggle expand")},m(l,u){C(l,t,u),fe(t,i),n||(a=[pt(t,"keydown",s),pt(t,"click",o)],n=!0)},p(l,u){r=l,u&2&&e!==(e=r[1][r[8]]?"-":"+")&&js(i,e)},d(l){l&&S(t),n=!1,bn(a)}}}function p2(r){let t,e,i=r[1][r[8]]&&d2(r);return{c(){i&&i.c(),t=vt()},l(n){i&&i.l(n),t=vt()},m(n,a){i&&i.m(n,a),C(n,t,a),e=!0},p(n,a){n[1][n[8]]?i?(i.p(n,a),a&2&&V(i,1)):(i=d2(n),i.c(),V(i,1),i.m(t.parentNode,t)):i&&(zs(),X(i,1,1,()=>{i=null}),Ls())},i(n){e||(V(i),e=!0)},o(n){X(i),e=!1},d(n){n&&S(t),i&&i.d(n)}}}function d2(r){let t,e,i,n,a;return e=new PS({props:{hierarchy:r[6].hierarchy}}),{c(){t=de("div"),ee(e.$$.fragment),i=Ee()},l(s){t=ve(s,"DIV",{});var o=He(t);te(e.$$.fragment,o),i=ke(o),o.forEach(S)},m(s,o){C(s,t,o),re(e,t,null),fe(t,i),a=!0},p(s,o){const l={};o&1&&(l.hierarchy=s[6].hierarchy),e.$set(l)},i(s){a||(V(e.$$.fragment,s),s&&As(()=>{a&&(n||(n=S_(t,c2,{},!0)),n.run(1))}),a=!0)},o(s){X(e.$$.fragment,s),s&&(n||(n=S_(t,c2,{},!1)),n.run(0)),a=!1},d(s){s&&S(t),ie(e),s&&n&&n.end()}}}function v2(r){let t,e,i,n=r[2].headingTexts[r[6].id]+"",a,s,o,l,u,f,h=(r[6].hierarchy||[]).length>0&&m2(r),c=(r[6].hierarchy||[]).length>0&&p2(r);return{c(){t=de("div"),e=de("a"),i=new ba(!1),o=Ee(),h&&h.c(),l=Ee(),c&&c.c(),u=vt(),this.h()},l(m){t=ve(m,"DIV",{class:!0});var d=He(t);e=ve(d,"A",{class:!0,href:!0,style:!0});var v=He(e);i=ya(v,!1),v.forEach(S),o=ke(d),h&&h.l(d),d.forEach(S),l=ke(m),c&&c.l(m),u=vt(),this.h()},h(){i.a=null,pe(e,"class","tocA svelte-1iphz67"),pe(e,"href",a="#"+r[6].id),pe(e,"style",s=`margin-left: ${(r[6].level-1)*20}pt`),pe(t,"class","tocItem svelte-1iphz67")},m(m,d){C(m,t,d),fe(t,e),i.m(n,e),fe(t,o),h&&h.m(t,null),C(m,l,d),c&&c.m(m,d),C(m,u,d),f=!0},p(m,d){(!f||d&5)&&n!==(n=m[2].headingTexts[m[6].id]+"")&&i.p(n),(!f||d&1&&a!==(a="#"+m[6].id))&&pe(e,"href",a),(!f||d&1&&s!==(s=`margin-left: ${(m[6].level-1)*20}pt`))&&pe(e,"style",s),(m[6].hierarchy||[]).length>0?h?h.p(m,d):(h=m2(m),h.c(),h.m(t,null)):h&&(h.d(1),h=null),(m[6].hierarchy||[]).length>0?c?(c.p(m,d),d&1&&V(c,1)):(c=p2(m),c.c(),V(c,1),c.m(u.parentNode,u)):c&&(zs(),X(c,1,1,()=>{c=null}),Ls())},i(m){f||(V(c),f=!0)},o(m){X(c),f=!1},d(m){m&&(S(t),S(l),S(u)),h&&h.d(),c&&c.d(m)}}}function fF(r){let t,e,i=Hl(r[0]),n=[];for(let s=0;s<i.length;s+=1)n[s]=v2(h2(r,i,s));const a=s=>X(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=vt()},l(s){for(let o=0;o<n.length;o+=1)n[o].l(s);t=vt()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);C(s,t,o),e=!0},p(s,[o]){if(o&15){i=Hl(s[0]);let l;for(l=0;l<i.length;l+=1){const u=h2(s,i,l);n[l]?(n[l].p(u,o),V(n[l],1)):(n[l]=v2(u),n[l].c(),V(n[l],1),n[l].m(t.parentNode,t))}for(zs(),l=i.length;l<n.length;l+=1)a(l);Ls()}},i(s){if(!e){for(let o=0;o<i.length;o+=1)V(n[o]);e=!0}},o(s){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)X(n[o]);e=!1},d(s){s&&S(t),vb(n,s)}}}function cF(r,t,e){let i;yt(r,Lr,u=>e(2,i=u));let{hierarchy:n}=t,a=n.map(()=>!1);const s=u=>{e(1,a[u]=!a[u],a)},o=u=>s(u),l=u=>s(u);return r.$$set=u=>{"hierarchy"in u&&e(0,n=u.hierarchy)},[n,a,i,s,o,l]}class PS extends Ot{constructor(t){super(),At(this,t,cF,fF,St,{hierarchy:0})}}function hF(r){let t,e,i,n;return e=new PS({props:{hierarchy:r[1].hierarchy}}),{c(){t=de("div"),ee(e.$$.fragment),this.h()},l(a){t=ve(a,"DIV",{class:!0,style:!0});var s=He(t);te(e.$$.fragment,s),s.forEach(S),this.h()},h(){pe(t,"class","toc svelte-1xciyrs"),pe(t,"style",i=`width:${r[0]?"calc(var(--tocWidth) * 1px)":"0px"}`)},m(a,s){C(a,t,s),re(e,t,null),n=!0},p(a,[s]){const o={};s&2&&(o.hierarchy=a[1].hierarchy),e.$set(o),(!n||s&1&&i!==(i=`width:${a[0]?"calc(var(--tocWidth) * 1px)":"0px"}`))&&pe(t,"style",i)},i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){X(e.$$.fragment,a),n=!1},d(a){a&&S(t),ie(e)}}}function mF(r,t,e){let i,n;return yt(r,Sf,a=>e(0,i=a)),yt(r,Lr,a=>e(1,n=a)),[i,n]}class pF extends Ot{constructor(t){super(),At(this,t,mF,hF,St,{})}}const dF=r=>({}),g2=r=>({});function b2(r){let t;return{c(){t=de("hr"),this.h()},l(e){t=ve(e,"HR",{style:!0}),this.h()},h(){Rt(t,"margin-top","3rem"),Rt(t,"margin-bottom","5rem")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function y2(r){let t,e,i,n,a;return{c(){t=de("a"),e=R("↩︎"),this.h()},l(s){t=ve(s,"A",{style:!0,href:!0});var o=He(t);e=M(o,"↩︎"),o.forEach(S),this.h()},h(){Rt(t,"float","right"),pe(t,"href",i="#"+r[4])},m(s,o){C(s,t,o),fe(t,e),n||(a=pt(t,"click",r[13]),n=!0)},p(s,o){o&16&&i!==(i="#"+s[4])&&pe(t,"href",i)},d(s){s&&S(t),n=!1,a()}}}function vF(r){let t,e,i,n=!!r[4]&&y2(r),a=[{id:r[0]},{class:"svelte-13reipa"}],s={};for(let o=0;o<a.length;o+=1)s=D7(s,a[o]);return{c(){t=de("h"+(r[5]||1)),e=new ba(!1),i=Ee(),n&&n.c(),this.h()},l(o){t=ve(o,("h"+(r[5]||1)||"null").toUpperCase(),{id:!0,class:!0});var l=He(t);e=ya(l,!1),i=ke(l),n&&n.l(l),l.forEach(S),this.h()},h(){e.a=i,cm("h"+(r[5]||1))(t,s)},m(o,l){C(o,t,l),e.m(r[3],t),fe(t,i),n&&n.m(t,null)},p(o,l){l&8&&e.p(o[3]),o[4]?n?n.p(o,l):(n=y2(o),n.c(),n.m(t,null)):n&&(n.d(1),n=null),cm("h"+(o[5]||1))(t,s=N7(a,[l&1&&{id:o[0]},{class:"svelte-13reipa"}]))},d(o){o&&S(t),n&&n.d()}}}function gF(r){let t,e,i,n,a,s,o;const l=r[11].default,u=wr(l,r,r[10],null),f=r[11].context,h=wr(f,r,r[10],g2);let c=(r[5]||1)===1&&r[1]!=="1"&&b2(),m="h"+(r[5]||1)&&vF(r);return{c(){t=de("span"),u&&u.c(),e=Ee(),i=de("span"),h&&h.c(),a=Ee(),c&&c.c(),s=Ee(),m&&m.c(),this.h()},l(d){t=ve(d,"SPAN",{style:!0});var v=He(t);u&&u.l(v),v.forEach(S),e=ke(d),i=ve(d,"SPAN",{style:!0,id:!0});var b=He(i);h&&h.l(b),b.forEach(S),a=ke(d),c&&c.l(d),s=ke(d),m&&m.l(d),this.h()},h(){Rt(t,"display","none"),Rt(i,"display","none"),pe(i,"id",n=r[0]+"Context")},m(d,v){C(d,t,v),u&&u.m(t,null),r[12](t),C(d,e,v),C(d,i,v),h&&h.m(i,null),C(d,a,v),c&&c.m(d,v),C(d,s,v),m&&m.m(d,v),o=!0},p(d,[v]){u&&u.p&&(!o||v&1024)&&xr(u,l,d,d[10],o?Er(l,d[10],v,null):Sr(d[10]),null),h&&h.p&&(!o||v&1024)&&xr(h,f,d,d[10],o?Er(f,d[10],v,dF):Sr(d[10]),g2),(!o||v&1&&n!==(n=d[0]+"Context"))&&pe(i,"id",n),(d[5]||1)===1&&d[1]!=="1"?c||(c=b2(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null),"h"+(d[5]||1)&&m.p(d,v)},i(d){o||(V(u,d),V(h,d),o=!0)},o(d){X(u,d),X(h,d),o=!1},d(d){d&&(S(t),S(e),S(i),S(a),S(s)),u&&u.d(d),r[12](null),h&&h.d(d),c&&c.d(d),m&&m.d(d)}}}function bF(r,t,e){let i,n,a;yt(r,Lr,g=>e(9,a=g));let{$$slots:s={},$$scope:o}=t,{level:l=void 0}=t,{refId:u}=t,{dispSecNum:f=""}=t,{includeDispSecNum:h=!0}=t;if(!u)throw new Error("refId required for Heading");u="sec:"+u;const c=l===void 0?0:parseInt(l);let m=`${a.hierarchy.length+(c>1?0:1)}`;f!==""&&Lr.update(g=>(g.dispSecNums[m]=f,g)),Object.keys(a.dispSecNums).includes(m)&&(m=a.dispSecNums[m]);let d;Wm(()=>{setTimeout(()=>{e(3,n=`${h?(l?m:"")+(l?": ":""):""}${d==null?void 0:d.innerHTML}`),Lr.update(g=>(g.headingTexts[u]=n,g))},250)});function v(g){Is[g?"unshift":"push"](()=>{d=g,e(2,d)})}const b=()=>{Lr.update(g=>(delete g.returnIds[u],g))};return r.$$set=g=>{"level"in g&&e(6,l=g.level),"refId"in g&&e(0,u=g.refId),"dispSecNum"in g&&e(7,f=g.dispSecNum),"includeDispSecNum"in g&&e(8,h=g.includeDispSecNum),"$$scope"in g&&e(10,o=g.$$scope)},r.$$.update=()=>{if(r.$$.dirty&579&&l&&Lr&&!Object.keys(a.numRefs).includes(u)){Lr.update(y=>(y.numRefs[u]=0,y));let g=1,_=a.hierarchy;for(;g<c;)_=_[_.length-1].hierarchy,e(1,m+=(m===""?"":".")+(_.length+(g<c-1?0:1))),g+=1;_.push({id:u,secNum:m,hierarchy:[],level:c}),Lr.update(y=>(y.numbers[u]=m,y))}r.$$.dirty&513&&e(4,i=a.returnIds[u]),r.$$.dirty&326&&e(3,n=`${h?(l?m:"")+(l?": ":""):""}${d==null?void 0:d.innerHTML}`),r.$$.dirty&9&&Lr.update(g=>(g.headingTexts[u]=n,g))},[u,m,d,n,i,c,l,f,h,a,o,s,v,b]}class cn extends Ot{constructor(t){super(),At(this,t,bF,gF,St,{level:6,refId:0,dispSecNum:7,includeDispSecNum:8})}}function yF(r){let t,e,i;const n=r[2].default,a=wr(n,r,r[1],null);return{c(){t=de("div"),a&&a.c(),this.h()},l(s){t=ve(s,"DIV",{class:!0});var o=He(t);a&&a.l(o),o.forEach(S),this.h()},h(){pe(t,"class",e=zn("bodyText"+(r[0]?" bodyTextPrintMode":""))+" svelte-1hg1twn")},m(s,o){C(s,t,o),a&&a.m(t,null),i=!0},p(s,[o]){a&&a.p&&(!i||o&2)&&xr(a,n,s,s[1],i?Er(n,s[1],o,null):Sr(s[1]),null),(!i||o&1&&e!==(e=zn("bodyText"+(s[0]?" bodyTextPrintMode":""))+" svelte-1hg1twn"))&&pe(t,"class",e)},i(s){i||(V(a,s),i=!0)},o(s){X(a,s),i=!1},d(s){s&&S(t),a&&a.d(s)}}}function $F(r,t,e){let i;yt(r,Gi,s=>e(0,i=s));let{$$slots:n={},$$scope:a}=t;return r.$$set=s=>{"$$scope"in s&&e(1,a=s.$$scope)},[i,a,n]}class xt extends Ot{constructor(t){super(),At(this,t,$F,yF,St,{})}}function _F(r){let t,e,i="×",n,a,s,o,l,u;As(r[11]);const f=r[10].default,h=wr(f,r,r[9],null);return{c(){t=de("div"),e=de("div"),e.textContent=i,n=Ee(),h&&h.c(),this.h()},l(c){t=ve(c,"DIV",{style:!0,class:!0,id:!0});var m=He(t);e=ve(m,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Xe(e)!=="svelte-11qc707"&&(e.textContent=i),n=ke(m),h&&h.l(m),m.forEach(S),this.h()},h(){pe(e,"class","closeX svelte-qliup"),pe(e,"role","button"),pe(e,"tabindex","0"),pe(e,"aria-label","Toggle popup"),pe(t,"style",a=`display:${r[0]?"block":"none"}`),pe(t,"class",s=zn(`popup popup${r[4]}`)+" svelte-qliup"),pe(t,"id",r[1])},m(c,m){C(c,t,m),fe(t,e),fe(t,n),h&&h.m(t,null),r[12](t),o=!0,l||(u=[pt(window,"resize",r[11]),pt(e,"keydown",r[5]),pt(e,"click",r[5])],l=!0)},p(c,[m]){h&&h.p&&(!o||m&512)&&xr(h,f,c,c[9],o?Er(f,c[9],m,null):Sr(c[9]),null),(!o||m&1&&a!==(a=`display:${c[0]?"block":"none"}`))&&pe(t,"style",a),(!o||m&16&&s!==(s=zn(`popup popup${c[4]}`)+" svelte-qliup"))&&pe(t,"class",s),(!o||m&2)&&pe(t,"id",c[1])},i(c){o||(V(h,c),o=!0)},o(c){X(h,c),o=!1},d(c){c&&S(t),h&&h.d(c),r[12](null),l=!1,bn(u)}}}function wF(r,t,e){let i,n,a;yt(r,CS,b=>e(7,n=b)),yt(r,IS,b=>e(8,a=b));let{$$slots:s={},$$scope:o}=t,{show:l}=t,{divId:u=""}=t,f;const h=b=>{e(0,l=!1)};let c=()=>!1;Wm(()=>{e(6,c=()=>{let b=!1;for(let g of Array.from(document.getElementsByClassName("popup")))g.style.display==="block"&&g!==f&&(b=!0);return b})});let m=0;function d(){e(2,m=window.innerWidth)}function v(b){Is[b?"unshift":"push"](()=>{f=b,e(3,f)})}return r.$$set=b=>{"show"in b&&e(0,l=b.show),"divId"in b&&e(1,u=b.divId),"$$scope"in b&&e(9,o=b.$$scope)},r.$$.update=()=>{r.$$.dirty&65&&AS.update(()=>l?!0:c()),r.$$.dirty&388&&e(4,i=m-a>n?"Side":"Center")},[l,u,m,f,i,h,c,n,a,o,s,d,v]}class ep extends Ot{constructor(t){super(),At(this,t,wF,_F,St,{show:0,divId:1})}}function xF(r){let t,e=`(Referenced citation "${r[0]}" not found)`,i;return{c(){t=de("span"),i=R(e),this.h()},l(n){t=ve(n,"SPAN",{class:!0});var a=He(t);i=M(a,e),a.forEach(S),this.h()},h(){pe(t,"class","missingRef svelte-1qkemij")},m(n,a){C(n,t,a),fe(t,i)},p(n,a){a&1&&e!==(e=`(Referenced citation "${n[0]}" not found)`)&&js(i,e)},i:ye,o:ye,d(n){n&&S(t)}}}function SF(r){let t,e,i=r[1].refStr+"",n,a,s,o;return t=new ep({props:{show:r[2],$$slots:{default:[EF]},$$scope:{ctx:r}}}),{c(){ee(t.$$.fragment),e=de("span"),n=R(i),this.h()},l(l){te(t.$$.fragment,l),e=ve(l,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var u=He(e);n=M(u,i),u.forEach(S),this.h()},h(){pe(e,"class","ref svelte-1qkemij"),pe(e,"role","button"),pe(e,"tabindex","0"),pe(e,"aria-label","Toggle popup")},m(l,u){re(t,l,u),C(l,e,u),fe(e,n),a=!0,s||(o=[pt(e,"keydown",r[3]),pt(e,"click",r[3])],s=!0)},p(l,u){const f={};u&4&&(f.show=l[2]),u&66&&(f.$$scope={dirty:u,ctx:l}),t.$set(f),(!a||u&2)&&i!==(i=l[1].refStr+"")&&js(n,i)},i(l){a||(V(t.$$.fragment,l),a=!0)},o(l){X(t.$$.fragment,l),a=!1},d(l){l&&S(e),ie(t,l),s=!1,bn(o)}}}function EF(r){let t,e=r[1].biblio+"",i;return{c(){t=new ba(!1),i=Ee(),this.h()},l(n){t=ya(n,!1),i=ke(n),this.h()},h(){t.a=i},m(n,a){t.m(e,n,a),C(n,i,a)},p(n,a){a&2&&e!==(e=n[1].biblio+"")&&t.p(e)},d(n){n&&(t.d(),S(i))}}}function kF(r){let t,e,i,n;const a=[SF,xF],s=[];function o(l,u){return l[4]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=vt()},l(l){e.l(l),i=vt()},m(l,u){s[t].m(l,u),C(l,i,u),n=!0},p(l,[u]){e.p(l,u)},i(l){n||(V(e),n=!0)},o(l){X(e),n=!1},d(l){l&&S(i),s[t].d(l)}}}function TF(r,t,e){let i,n;yt(r,Wg,u=>e(5,n=u));let{refId:a}=t;const s=()=>{e(2,i=!i)};let o;const l=Object.keys(n).includes(a);return l&&(Wg.update(u=>(u[a].referenced=!0,u)),o=n[a]),r.$$set=u=>{"refId"in u&&e(0,a=u.refId)},e(2,i=!1),[a,o,i,s,l]}class hn extends Ot{constructor(t){super(),At(this,t,TF,kF,St,{refId:0})}}class ki{constructor(t,e,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=e,this.end=i}static range(t,e){return e?!t||!t.loc||!e.loc||t.loc.lexer!==e.loc.lexer?null:new ki(t.loc.lexer,t.loc.start,e.loc.end):t&&t.loc}}class Vi{constructor(t,e){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=e}range(t,e){return new Vi(e,ki.range(this,t))}}class Re{constructor(t,e){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+t,n,a,s=e&&e.loc;if(s&&s.start<=s.end){var o=s.lexer.input;n=s.start,a=s.end,n===o.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=o.slice(n,a).replace(/[^]/g,"$&̲"),u;n>15?u="…"+o.slice(n-15,n):u=o.slice(0,n);var f;a+15<o.length?f=o.slice(a,a+15)+"…":f=o.slice(a),i+=u+l+f}var h=new Error(i);return h.name="ParseError",h.__proto__=Re.prototype,h.position=n,n!=null&&a!=null&&(h.length=a-n),h.rawMessage=t,h}}Re.prototype.__proto__=Error.prototype;var OF=function(t,e){return t.indexOf(e)!==-1},AF=function(t,e){return t===void 0?e:t},IF=/([A-Z])/g,CF=function(t){return t.replace(IF,"-$1").toLowerCase()},PF={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},DF=/[&><"']/g;function NF(r){return String(r).replace(DF,t=>PF[t])}var DS=function r(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?r(t.body[0]):t:t.type==="font"?r(t.body):t},RF=function(t){var e=DS(t);return e.type==="mathord"||e.type==="textord"||e.type==="atom"},MF=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},BF=function(t){var e=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return e?e[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(e[1])?null:e[1].toLowerCase():"_relative"},et={contains:OF,deflt:AF,escape:NF,hyphenate:CF,getBaseElem:DS,isCharacterBox:RF,protocolFromUrl:BF},Wh={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,t)=>(t.push(r),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function FF(r){if(r.default)return r.default;var t=r.type,e=Array.isArray(t)?t[0]:t;if(typeof e!="string")return e.enum[0];switch(e){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Rb{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var e in Wh)if(Wh.hasOwnProperty(e)){var i=Wh[e];this[e]=t[e]!==void 0?i.processor?i.processor(t[e]):t[e]:FF(i)}}reportNonstrict(t,e,i){var n=this.strict;if(typeof n=="function"&&(n=n(t,e,i)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new Re("LaTeX-incompatible input and strict mode is set to 'error': "+(e+" ["+t+"]"),i);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(e+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+e+" ["+t+"]"))}}useStrictBehavior(t,e,i){var n=this.strict;if(typeof n=="function")try{n=n(t,e,i)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(e+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+e+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var e=et.protocolFromUrl(t.url);if(e==null)return!1;t.protocol=e}var i=typeof this.trust=="function"?this.trust(t):this.trust;return!!i}}class ss{constructor(t,e,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=e,this.cramped=i}sup(){return Tn[zF[this.id]]}sub(){return Tn[LF[this.id]]}fracNum(){return Tn[jF[this.id]]}fracDen(){return Tn[UF[this.id]]}cramp(){return Tn[qF[this.id]]}text(){return Tn[HF[this.id]]}isTight(){return this.size>=2}}var Mb=0,pm=1,Ll=2,Qn=3,Ef=4,Wi=5,Xl=6,Qr=7,Tn=[new ss(Mb,0,!1),new ss(pm,0,!0),new ss(Ll,1,!1),new ss(Qn,1,!0),new ss(Ef,2,!1),new ss(Wi,2,!0),new ss(Xl,3,!1),new ss(Qr,3,!0)],zF=[Ef,Wi,Ef,Wi,Xl,Qr,Xl,Qr],LF=[Wi,Wi,Wi,Wi,Qr,Qr,Qr,Qr],jF=[Ll,Qn,Ef,Wi,Xl,Qr,Xl,Qr],UF=[Qn,Qn,Wi,Wi,Qr,Qr,Qr,Qr],qF=[pm,pm,Qn,Qn,Wi,Wi,Qr,Qr],HF=[Mb,pm,Ll,Qn,Ll,Qn,Ll,Qn],rt={DISPLAY:Tn[Mb],TEXT:Tn[Ll],SCRIPT:Tn[Ef],SCRIPTSCRIPT:Tn[Xl]},Vg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function WF(r){for(var t=0;t<Vg.length;t++)for(var e=Vg[t],i=0;i<e.blocks.length;i++){var n=e.blocks[i];if(r>=n[0]&&r<=n[1])return e.name}return null}var Gh=[];Vg.forEach(r=>r.blocks.forEach(t=>Gh.push(...t)));function NS(r){for(var t=0;t<Gh.length;t+=2)if(r>=Gh[t]&&r<=Gh[t+1])return!0;return!1}var cl=80,GF=function(t,e){return"M95,"+(622+t+e)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},VF=function(t,e){return"M263,"+(601+t+e)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},XF=function(t,e){return"M983 "+(10+t+e)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},KF=function(t,e){return"M424,"+(2398+t+e)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+e+`
h400000v`+(40+t)+"h-400000z"},YF=function(t,e){return"M473,"+(2713+t+e)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+e+"h400000v"+(40+t)+"H1017.7z"},JF=function(t){var e=t/2;return"M400000 "+t+" H0 L"+e+" 0 l65 45 L145 "+(t-80)+" H400000z"},QF=function(t,e,i){var n=i-54-e-t;return"M702 "+(t+e)+"H400000"+(40+t)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+e+"H400000v"+(40+t)+"H742z"},ZF=function(t,e,i){e=1e3*e;var n="";switch(t){case"sqrtMain":n=GF(e,cl);break;case"sqrtSize1":n=VF(e,cl);break;case"sqrtSize2":n=XF(e,cl);break;case"sqrtSize3":n=KF(e,cl);break;case"sqrtSize4":n=YF(e,cl);break;case"sqrtTall":n=QF(e,cl,i)}return n},ez=function(t,e){switch(t){case"⎜":return"M291 0 H417 V"+e+" H291z M291 0 H417 V"+e+" H291z";case"∣":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z";case"∥":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z"+("M367 0 H410 V"+e+" H367z M367 0 H410 V"+e+" H367z");case"⎟":return"M457 0 H583 V"+e+" H457z M457 0 H583 V"+e+" H457z";case"⎢":return"M319 0 H403 V"+e+" H319z M319 0 H403 V"+e+" H319z";case"⎥":return"M263 0 H347 V"+e+" H263z M263 0 H347 V"+e+" H263z";case"⎪":return"M384 0 H504 V"+e+" H384z M384 0 H504 V"+e+" H384z";case"⏐":return"M312 0 H355 V"+e+" H312z M312 0 H355 V"+e+" H312z";case"‖":return"M257 0 H300 V"+e+" H257z M257 0 H300 V"+e+" H257z"+("M478 0 H521 V"+e+" H478z M478 0 H521 V"+e+" H478z");default:return""}},$2={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tz=function(t,e){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+e+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+e+" v1759 h84z";case"vert":return"M145 15 v585 v"+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+e+" v585 h43z";case"doublevert":return"M145 15 v585 v"+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+e+` v585 h43z
M367 15 v585 v`+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+e+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+e+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+e+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+e+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+e+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+` v602 h84z
M403 1759 V0 H319 V1759 v`+e+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+` v602 h84z
M347 1759 V0 h-84 V1759 v`+e+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(e+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(e+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(e+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(e+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Gf{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return et.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t}toMarkup(){for(var t="",e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t}toText(){var t=e=>e.toText();return this.children.map(t).join("")}}var Cn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Gc={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},_2={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function rz(r,t){Cn[r]=t}function Bb(r,t,e){if(!Cn[t])throw new Error("Font metrics not found for font: "+t+".");var i=r.charCodeAt(0),n=Cn[t][i];if(!n&&r[0]in _2&&(i=_2[r[0]].charCodeAt(0),n=Cn[t][i]),!n&&e==="text"&&NS(i)&&(n=Cn[t][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}var Qd={};function iz(r){var t;if(r>=5?t=0:r>=3?t=1:t=2,!Qd[t]){var e=Qd[t]={cssEmPerMu:Gc.quad[t]/18};for(var i in Gc)Gc.hasOwnProperty(i)&&(e[i]=Gc[i][t])}return Qd[t]}var nz=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],w2=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],x2=function(t,e){return e.size<2?t:nz[t-1][e.size-1]};class Yn{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Yn.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=w2[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var e={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return new Yn(e)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:x2(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:w2[t-1]})}havingBaseStyle(t){t=t||this.style.text();var e=x2(Yn.BASESIZE,t);return this.size===e&&this.textSize===Yn.BASESIZE&&this.style===t?this:this.extend({style:t,size:e})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Yn.BASESIZE?["sizing","reset-size"+this.size,"size"+Yn.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=iz(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Yn.BASESIZE=6;var Xg={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},az={ex:!0,em:!0,mu:!0},RS=function(t){return typeof t!="string"&&(t=t.unit),t in Xg||t in az||t==="ex"},Vt=function(t,e){var i;if(t.unit in Xg)i=Xg[t.unit]/e.fontMetrics().ptPerEm/e.sizeMultiplier;else if(t.unit==="mu")i=e.fontMetrics().cssEmPerMu;else{var n;if(e.style.isTight()?n=e.havingStyle(e.style.text()):n=e,t.unit==="ex")i=n.fontMetrics().xHeight;else if(t.unit==="em")i=n.fontMetrics().quad;else throw new Re("Invalid unit: '"+t.unit+"'");n!==e&&(i*=n.sizeMultiplier/e.sizeMultiplier)}return Math.min(t.number*i,e.maxSize)},Le=function(t){return+t.toFixed(4)+"em"},Ps=function(t){return t.filter(e=>e).join(" ")},MS=function(t,e,i){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},e){e.style.isTight()&&this.classes.push("mtight");var n=e.getColor();n&&(this.style.color=n)}},BS=function(t){var e=document.createElement(t);e.className=Ps(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&e.setAttribute(n,this.attributes[n]);for(var a=0;a<this.children.length;a++)e.appendChild(this.children[a].toNode());return e},FS=function(t){var e="<"+t;this.classes.length&&(e+=' class="'+et.escape(Ps(this.classes))+'"');var i="";for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=et.hyphenate(n)+":"+this.style[n]+";");i&&(e+=' style="'+et.escape(i)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(e+=" "+a+'="'+et.escape(this.attributes[a])+'"');e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</"+t+">",e};class Vf{constructor(t,e,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,MS.call(this,t,i,n),this.children=e||[]}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return et.contains(this.classes,t)}toNode(){return BS.call(this,"span")}toMarkup(){return FS.call(this,"span")}}class Fb{constructor(t,e,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,MS.call(this,e,n),this.children=i||[],this.setAttribute("href",t)}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return et.contains(this.classes,t)}toNode(){return BS.call(this,"a")}toMarkup(){return FS.call(this,"a")}}class sz{constructor(t,e,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=e,this.src=t,this.classes=["mord"],this.style=i}hasClass(t){return et.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var e in this.style)this.style.hasOwnProperty(e)&&(t.style[e]=this.style[e]);return t}toMarkup(){var t='<img src="'+et.escape(this.src)+'"'+(' alt="'+et.escape(this.alt)+'"'),e="";for(var i in this.style)this.style.hasOwnProperty(i)&&(e+=et.hyphenate(i)+":"+this.style[i]+";");return e&&(t+=' style="'+et.escape(e)+'"'),t+="'/>",t}}var oz={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Yi{constructor(t,e,i,n,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=e||0,this.depth=i||0,this.italic=n||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=WF(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=oz[this.text])}hasClass(t){return et.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),e=null;this.italic>0&&(e=document.createElement("span"),e.style.marginRight=Le(this.italic)),this.classes.length>0&&(e=e||document.createElement("span"),e.className=Ps(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(e=e||document.createElement("span"),e.style[i]=this.style[i]);return e?(e.appendChild(t),e):t}toMarkup(){var t=!1,e="<span";this.classes.length&&(t=!0,e+=' class="',e+=et.escape(Ps(this.classes)),e+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=et.hyphenate(n)+":"+this.style[n]+";");i&&(t=!0,e+=' style="'+et.escape(i)+'"');var a=et.escape(this.text);return t?(e+=">",e+=a,e+="</span>",e):a}}class ca{constructor(t,e){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=e||{}}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="'+et.escape(this.attributes[e])+'"');t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</svg>",t}}class Ds{constructor(t,e){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=e}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",$2[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+et.escape(this.alternate)+'"/>':'<path d="'+et.escape($2[this.pathName])+'"/>'}}class Kg{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);return e}toMarkup(){var t="<line";for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="'+et.escape(this.attributes[e])+'"');return t+="/>",t}}function S2(r){if(r instanceof Yi)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function lz(r){if(r instanceof Vf)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var uz={bin:1,close:1,inner:1,open:1,punct:1,rel:1},fz={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},jt={math:{},text:{}};function w(r,t,e,i,n,a){jt[r][n]={font:t,group:e,replace:i},a&&i&&(jt[r][i]=jt[r][n])}var E="math",Ce="text",N="main",J="ams",qt="accent-token",Ve="bin",ti="close",fu="inner",tt="mathord",cr="op-token",Ai="open",tp="punct",Z="rel",$a="spacing",ae="textord";w(E,N,Z,"≡","\\equiv",!0);w(E,N,Z,"≺","\\prec",!0);w(E,N,Z,"≻","\\succ",!0);w(E,N,Z,"∼","\\sim",!0);w(E,N,Z,"⊥","\\perp");w(E,N,Z,"⪯","\\preceq",!0);w(E,N,Z,"⪰","\\succeq",!0);w(E,N,Z,"≃","\\simeq",!0);w(E,N,Z,"∣","\\mid",!0);w(E,N,Z,"≪","\\ll",!0);w(E,N,Z,"≫","\\gg",!0);w(E,N,Z,"≍","\\asymp",!0);w(E,N,Z,"∥","\\parallel");w(E,N,Z,"⋈","\\bowtie",!0);w(E,N,Z,"⌣","\\smile",!0);w(E,N,Z,"⊑","\\sqsubseteq",!0);w(E,N,Z,"⊒","\\sqsupseteq",!0);w(E,N,Z,"≐","\\doteq",!0);w(E,N,Z,"⌢","\\frown",!0);w(E,N,Z,"∋","\\ni",!0);w(E,N,Z,"∝","\\propto",!0);w(E,N,Z,"⊢","\\vdash",!0);w(E,N,Z,"⊣","\\dashv",!0);w(E,N,Z,"∋","\\owns");w(E,N,tp,".","\\ldotp");w(E,N,tp,"⋅","\\cdotp");w(E,N,ae,"#","\\#");w(Ce,N,ae,"#","\\#");w(E,N,ae,"&","\\&");w(Ce,N,ae,"&","\\&");w(E,N,ae,"ℵ","\\aleph",!0);w(E,N,ae,"∀","\\forall",!0);w(E,N,ae,"ℏ","\\hbar",!0);w(E,N,ae,"∃","\\exists",!0);w(E,N,ae,"∇","\\nabla",!0);w(E,N,ae,"♭","\\flat",!0);w(E,N,ae,"ℓ","\\ell",!0);w(E,N,ae,"♮","\\natural",!0);w(E,N,ae,"♣","\\clubsuit",!0);w(E,N,ae,"℘","\\wp",!0);w(E,N,ae,"♯","\\sharp",!0);w(E,N,ae,"♢","\\diamondsuit",!0);w(E,N,ae,"ℜ","\\Re",!0);w(E,N,ae,"♡","\\heartsuit",!0);w(E,N,ae,"ℑ","\\Im",!0);w(E,N,ae,"♠","\\spadesuit",!0);w(E,N,ae,"§","\\S",!0);w(Ce,N,ae,"§","\\S");w(E,N,ae,"¶","\\P",!0);w(Ce,N,ae,"¶","\\P");w(E,N,ae,"†","\\dag");w(Ce,N,ae,"†","\\dag");w(Ce,N,ae,"†","\\textdagger");w(E,N,ae,"‡","\\ddag");w(Ce,N,ae,"‡","\\ddag");w(Ce,N,ae,"‡","\\textdaggerdbl");w(E,N,ti,"⎱","\\rmoustache",!0);w(E,N,Ai,"⎰","\\lmoustache",!0);w(E,N,ti,"⟯","\\rgroup",!0);w(E,N,Ai,"⟮","\\lgroup",!0);w(E,N,Ve,"∓","\\mp",!0);w(E,N,Ve,"⊖","\\ominus",!0);w(E,N,Ve,"⊎","\\uplus",!0);w(E,N,Ve,"⊓","\\sqcap",!0);w(E,N,Ve,"∗","\\ast");w(E,N,Ve,"⊔","\\sqcup",!0);w(E,N,Ve,"◯","\\bigcirc",!0);w(E,N,Ve,"∙","\\bullet",!0);w(E,N,Ve,"‡","\\ddagger");w(E,N,Ve,"≀","\\wr",!0);w(E,N,Ve,"⨿","\\amalg");w(E,N,Ve,"&","\\And");w(E,N,Z,"⟵","\\longleftarrow",!0);w(E,N,Z,"⇐","\\Leftarrow",!0);w(E,N,Z,"⟸","\\Longleftarrow",!0);w(E,N,Z,"⟶","\\longrightarrow",!0);w(E,N,Z,"⇒","\\Rightarrow",!0);w(E,N,Z,"⟹","\\Longrightarrow",!0);w(E,N,Z,"↔","\\leftrightarrow",!0);w(E,N,Z,"⟷","\\longleftrightarrow",!0);w(E,N,Z,"⇔","\\Leftrightarrow",!0);w(E,N,Z,"⟺","\\Longleftrightarrow",!0);w(E,N,Z,"↦","\\mapsto",!0);w(E,N,Z,"⟼","\\longmapsto",!0);w(E,N,Z,"↗","\\nearrow",!0);w(E,N,Z,"↩","\\hookleftarrow",!0);w(E,N,Z,"↪","\\hookrightarrow",!0);w(E,N,Z,"↘","\\searrow",!0);w(E,N,Z,"↼","\\leftharpoonup",!0);w(E,N,Z,"⇀","\\rightharpoonup",!0);w(E,N,Z,"↙","\\swarrow",!0);w(E,N,Z,"↽","\\leftharpoondown",!0);w(E,N,Z,"⇁","\\rightharpoondown",!0);w(E,N,Z,"↖","\\nwarrow",!0);w(E,N,Z,"⇌","\\rightleftharpoons",!0);w(E,J,Z,"≮","\\nless",!0);w(E,J,Z,"","\\@nleqslant");w(E,J,Z,"","\\@nleqq");w(E,J,Z,"⪇","\\lneq",!0);w(E,J,Z,"≨","\\lneqq",!0);w(E,J,Z,"","\\@lvertneqq");w(E,J,Z,"⋦","\\lnsim",!0);w(E,J,Z,"⪉","\\lnapprox",!0);w(E,J,Z,"⊀","\\nprec",!0);w(E,J,Z,"⋠","\\npreceq",!0);w(E,J,Z,"⋨","\\precnsim",!0);w(E,J,Z,"⪹","\\precnapprox",!0);w(E,J,Z,"≁","\\nsim",!0);w(E,J,Z,"","\\@nshortmid");w(E,J,Z,"∤","\\nmid",!0);w(E,J,Z,"⊬","\\nvdash",!0);w(E,J,Z,"⊭","\\nvDash",!0);w(E,J,Z,"⋪","\\ntriangleleft");w(E,J,Z,"⋬","\\ntrianglelefteq",!0);w(E,J,Z,"⊊","\\subsetneq",!0);w(E,J,Z,"","\\@varsubsetneq");w(E,J,Z,"⫋","\\subsetneqq",!0);w(E,J,Z,"","\\@varsubsetneqq");w(E,J,Z,"≯","\\ngtr",!0);w(E,J,Z,"","\\@ngeqslant");w(E,J,Z,"","\\@ngeqq");w(E,J,Z,"⪈","\\gneq",!0);w(E,J,Z,"≩","\\gneqq",!0);w(E,J,Z,"","\\@gvertneqq");w(E,J,Z,"⋧","\\gnsim",!0);w(E,J,Z,"⪊","\\gnapprox",!0);w(E,J,Z,"⊁","\\nsucc",!0);w(E,J,Z,"⋡","\\nsucceq",!0);w(E,J,Z,"⋩","\\succnsim",!0);w(E,J,Z,"⪺","\\succnapprox",!0);w(E,J,Z,"≆","\\ncong",!0);w(E,J,Z,"","\\@nshortparallel");w(E,J,Z,"∦","\\nparallel",!0);w(E,J,Z,"⊯","\\nVDash",!0);w(E,J,Z,"⋫","\\ntriangleright");w(E,J,Z,"⋭","\\ntrianglerighteq",!0);w(E,J,Z,"","\\@nsupseteqq");w(E,J,Z,"⊋","\\supsetneq",!0);w(E,J,Z,"","\\@varsupsetneq");w(E,J,Z,"⫌","\\supsetneqq",!0);w(E,J,Z,"","\\@varsupsetneqq");w(E,J,Z,"⊮","\\nVdash",!0);w(E,J,Z,"⪵","\\precneqq",!0);w(E,J,Z,"⪶","\\succneqq",!0);w(E,J,Z,"","\\@nsubseteqq");w(E,J,Ve,"⊴","\\unlhd");w(E,J,Ve,"⊵","\\unrhd");w(E,J,Z,"↚","\\nleftarrow",!0);w(E,J,Z,"↛","\\nrightarrow",!0);w(E,J,Z,"⇍","\\nLeftarrow",!0);w(E,J,Z,"⇏","\\nRightarrow",!0);w(E,J,Z,"↮","\\nleftrightarrow",!0);w(E,J,Z,"⇎","\\nLeftrightarrow",!0);w(E,J,Z,"△","\\vartriangle");w(E,J,ae,"ℏ","\\hslash");w(E,J,ae,"▽","\\triangledown");w(E,J,ae,"◊","\\lozenge");w(E,J,ae,"Ⓢ","\\circledS");w(E,J,ae,"®","\\circledR");w(Ce,J,ae,"®","\\circledR");w(E,J,ae,"∡","\\measuredangle",!0);w(E,J,ae,"∄","\\nexists");w(E,J,ae,"℧","\\mho");w(E,J,ae,"Ⅎ","\\Finv",!0);w(E,J,ae,"⅁","\\Game",!0);w(E,J,ae,"‵","\\backprime");w(E,J,ae,"▲","\\blacktriangle");w(E,J,ae,"▼","\\blacktriangledown");w(E,J,ae,"■","\\blacksquare");w(E,J,ae,"⧫","\\blacklozenge");w(E,J,ae,"★","\\bigstar");w(E,J,ae,"∢","\\sphericalangle",!0);w(E,J,ae,"∁","\\complement",!0);w(E,J,ae,"ð","\\eth",!0);w(Ce,N,ae,"ð","ð");w(E,J,ae,"╱","\\diagup");w(E,J,ae,"╲","\\diagdown");w(E,J,ae,"□","\\square");w(E,J,ae,"□","\\Box");w(E,J,ae,"◊","\\Diamond");w(E,J,ae,"¥","\\yen",!0);w(Ce,J,ae,"¥","\\yen",!0);w(E,J,ae,"✓","\\checkmark",!0);w(Ce,J,ae,"✓","\\checkmark");w(E,J,ae,"ℶ","\\beth",!0);w(E,J,ae,"ℸ","\\daleth",!0);w(E,J,ae,"ℷ","\\gimel",!0);w(E,J,ae,"ϝ","\\digamma",!0);w(E,J,ae,"ϰ","\\varkappa");w(E,J,Ai,"┌","\\@ulcorner",!0);w(E,J,ti,"┐","\\@urcorner",!0);w(E,J,Ai,"└","\\@llcorner",!0);w(E,J,ti,"┘","\\@lrcorner",!0);w(E,J,Z,"≦","\\leqq",!0);w(E,J,Z,"⩽","\\leqslant",!0);w(E,J,Z,"⪕","\\eqslantless",!0);w(E,J,Z,"≲","\\lesssim",!0);w(E,J,Z,"⪅","\\lessapprox",!0);w(E,J,Z,"≊","\\approxeq",!0);w(E,J,Ve,"⋖","\\lessdot");w(E,J,Z,"⋘","\\lll",!0);w(E,J,Z,"≶","\\lessgtr",!0);w(E,J,Z,"⋚","\\lesseqgtr",!0);w(E,J,Z,"⪋","\\lesseqqgtr",!0);w(E,J,Z,"≑","\\doteqdot");w(E,J,Z,"≓","\\risingdotseq",!0);w(E,J,Z,"≒","\\fallingdotseq",!0);w(E,J,Z,"∽","\\backsim",!0);w(E,J,Z,"⋍","\\backsimeq",!0);w(E,J,Z,"⫅","\\subseteqq",!0);w(E,J,Z,"⋐","\\Subset",!0);w(E,J,Z,"⊏","\\sqsubset",!0);w(E,J,Z,"≼","\\preccurlyeq",!0);w(E,J,Z,"⋞","\\curlyeqprec",!0);w(E,J,Z,"≾","\\precsim",!0);w(E,J,Z,"⪷","\\precapprox",!0);w(E,J,Z,"⊲","\\vartriangleleft");w(E,J,Z,"⊴","\\trianglelefteq");w(E,J,Z,"⊨","\\vDash",!0);w(E,J,Z,"⊪","\\Vvdash",!0);w(E,J,Z,"⌣","\\smallsmile");w(E,J,Z,"⌢","\\smallfrown");w(E,J,Z,"≏","\\bumpeq",!0);w(E,J,Z,"≎","\\Bumpeq",!0);w(E,J,Z,"≧","\\geqq",!0);w(E,J,Z,"⩾","\\geqslant",!0);w(E,J,Z,"⪖","\\eqslantgtr",!0);w(E,J,Z,"≳","\\gtrsim",!0);w(E,J,Z,"⪆","\\gtrapprox",!0);w(E,J,Ve,"⋗","\\gtrdot");w(E,J,Z,"⋙","\\ggg",!0);w(E,J,Z,"≷","\\gtrless",!0);w(E,J,Z,"⋛","\\gtreqless",!0);w(E,J,Z,"⪌","\\gtreqqless",!0);w(E,J,Z,"≖","\\eqcirc",!0);w(E,J,Z,"≗","\\circeq",!0);w(E,J,Z,"≜","\\triangleq",!0);w(E,J,Z,"∼","\\thicksim");w(E,J,Z,"≈","\\thickapprox");w(E,J,Z,"⫆","\\supseteqq",!0);w(E,J,Z,"⋑","\\Supset",!0);w(E,J,Z,"⊐","\\sqsupset",!0);w(E,J,Z,"≽","\\succcurlyeq",!0);w(E,J,Z,"⋟","\\curlyeqsucc",!0);w(E,J,Z,"≿","\\succsim",!0);w(E,J,Z,"⪸","\\succapprox",!0);w(E,J,Z,"⊳","\\vartriangleright");w(E,J,Z,"⊵","\\trianglerighteq");w(E,J,Z,"⊩","\\Vdash",!0);w(E,J,Z,"∣","\\shortmid");w(E,J,Z,"∥","\\shortparallel");w(E,J,Z,"≬","\\between",!0);w(E,J,Z,"⋔","\\pitchfork",!0);w(E,J,Z,"∝","\\varpropto");w(E,J,Z,"◀","\\blacktriangleleft");w(E,J,Z,"∴","\\therefore",!0);w(E,J,Z,"∍","\\backepsilon");w(E,J,Z,"▶","\\blacktriangleright");w(E,J,Z,"∵","\\because",!0);w(E,J,Z,"⋘","\\llless");w(E,J,Z,"⋙","\\gggtr");w(E,J,Ve,"⊲","\\lhd");w(E,J,Ve,"⊳","\\rhd");w(E,J,Z,"≂","\\eqsim",!0);w(E,N,Z,"⋈","\\Join");w(E,J,Z,"≑","\\Doteq",!0);w(E,J,Ve,"∔","\\dotplus",!0);w(E,J,Ve,"∖","\\smallsetminus");w(E,J,Ve,"⋒","\\Cap",!0);w(E,J,Ve,"⋓","\\Cup",!0);w(E,J,Ve,"⩞","\\doublebarwedge",!0);w(E,J,Ve,"⊟","\\boxminus",!0);w(E,J,Ve,"⊞","\\boxplus",!0);w(E,J,Ve,"⋇","\\divideontimes",!0);w(E,J,Ve,"⋉","\\ltimes",!0);w(E,J,Ve,"⋊","\\rtimes",!0);w(E,J,Ve,"⋋","\\leftthreetimes",!0);w(E,J,Ve,"⋌","\\rightthreetimes",!0);w(E,J,Ve,"⋏","\\curlywedge",!0);w(E,J,Ve,"⋎","\\curlyvee",!0);w(E,J,Ve,"⊝","\\circleddash",!0);w(E,J,Ve,"⊛","\\circledast",!0);w(E,J,Ve,"⋅","\\centerdot");w(E,J,Ve,"⊺","\\intercal",!0);w(E,J,Ve,"⋒","\\doublecap");w(E,J,Ve,"⋓","\\doublecup");w(E,J,Ve,"⊠","\\boxtimes",!0);w(E,J,Z,"⇢","\\dashrightarrow",!0);w(E,J,Z,"⇠","\\dashleftarrow",!0);w(E,J,Z,"⇇","\\leftleftarrows",!0);w(E,J,Z,"⇆","\\leftrightarrows",!0);w(E,J,Z,"⇚","\\Lleftarrow",!0);w(E,J,Z,"↞","\\twoheadleftarrow",!0);w(E,J,Z,"↢","\\leftarrowtail",!0);w(E,J,Z,"↫","\\looparrowleft",!0);w(E,J,Z,"⇋","\\leftrightharpoons",!0);w(E,J,Z,"↶","\\curvearrowleft",!0);w(E,J,Z,"↺","\\circlearrowleft",!0);w(E,J,Z,"↰","\\Lsh",!0);w(E,J,Z,"⇈","\\upuparrows",!0);w(E,J,Z,"↿","\\upharpoonleft",!0);w(E,J,Z,"⇃","\\downharpoonleft",!0);w(E,N,Z,"⊶","\\origof",!0);w(E,N,Z,"⊷","\\imageof",!0);w(E,J,Z,"⊸","\\multimap",!0);w(E,J,Z,"↭","\\leftrightsquigarrow",!0);w(E,J,Z,"⇉","\\rightrightarrows",!0);w(E,J,Z,"⇄","\\rightleftarrows",!0);w(E,J,Z,"↠","\\twoheadrightarrow",!0);w(E,J,Z,"↣","\\rightarrowtail",!0);w(E,J,Z,"↬","\\looparrowright",!0);w(E,J,Z,"↷","\\curvearrowright",!0);w(E,J,Z,"↻","\\circlearrowright",!0);w(E,J,Z,"↱","\\Rsh",!0);w(E,J,Z,"⇊","\\downdownarrows",!0);w(E,J,Z,"↾","\\upharpoonright",!0);w(E,J,Z,"⇂","\\downharpoonright",!0);w(E,J,Z,"⇝","\\rightsquigarrow",!0);w(E,J,Z,"⇝","\\leadsto");w(E,J,Z,"⇛","\\Rrightarrow",!0);w(E,J,Z,"↾","\\restriction");w(E,N,ae,"‘","`");w(E,N,ae,"$","\\$");w(Ce,N,ae,"$","\\$");w(Ce,N,ae,"$","\\textdollar");w(E,N,ae,"%","\\%");w(Ce,N,ae,"%","\\%");w(E,N,ae,"_","\\_");w(Ce,N,ae,"_","\\_");w(Ce,N,ae,"_","\\textunderscore");w(E,N,ae,"∠","\\angle",!0);w(E,N,ae,"∞","\\infty",!0);w(E,N,ae,"′","\\prime");w(E,N,ae,"△","\\triangle");w(E,N,ae,"Γ","\\Gamma",!0);w(E,N,ae,"Δ","\\Delta",!0);w(E,N,ae,"Θ","\\Theta",!0);w(E,N,ae,"Λ","\\Lambda",!0);w(E,N,ae,"Ξ","\\Xi",!0);w(E,N,ae,"Π","\\Pi",!0);w(E,N,ae,"Σ","\\Sigma",!0);w(E,N,ae,"Υ","\\Upsilon",!0);w(E,N,ae,"Φ","\\Phi",!0);w(E,N,ae,"Ψ","\\Psi",!0);w(E,N,ae,"Ω","\\Omega",!0);w(E,N,ae,"A","Α");w(E,N,ae,"B","Β");w(E,N,ae,"E","Ε");w(E,N,ae,"Z","Ζ");w(E,N,ae,"H","Η");w(E,N,ae,"I","Ι");w(E,N,ae,"K","Κ");w(E,N,ae,"M","Μ");w(E,N,ae,"N","Ν");w(E,N,ae,"O","Ο");w(E,N,ae,"P","Ρ");w(E,N,ae,"T","Τ");w(E,N,ae,"X","Χ");w(E,N,ae,"¬","\\neg",!0);w(E,N,ae,"¬","\\lnot");w(E,N,ae,"⊤","\\top");w(E,N,ae,"⊥","\\bot");w(E,N,ae,"∅","\\emptyset");w(E,J,ae,"∅","\\varnothing");w(E,N,tt,"α","\\alpha",!0);w(E,N,tt,"β","\\beta",!0);w(E,N,tt,"γ","\\gamma",!0);w(E,N,tt,"δ","\\delta",!0);w(E,N,tt,"ϵ","\\epsilon",!0);w(E,N,tt,"ζ","\\zeta",!0);w(E,N,tt,"η","\\eta",!0);w(E,N,tt,"θ","\\theta",!0);w(E,N,tt,"ι","\\iota",!0);w(E,N,tt,"κ","\\kappa",!0);w(E,N,tt,"λ","\\lambda",!0);w(E,N,tt,"μ","\\mu",!0);w(E,N,tt,"ν","\\nu",!0);w(E,N,tt,"ξ","\\xi",!0);w(E,N,tt,"ο","\\omicron",!0);w(E,N,tt,"π","\\pi",!0);w(E,N,tt,"ρ","\\rho",!0);w(E,N,tt,"σ","\\sigma",!0);w(E,N,tt,"τ","\\tau",!0);w(E,N,tt,"υ","\\upsilon",!0);w(E,N,tt,"ϕ","\\phi",!0);w(E,N,tt,"χ","\\chi",!0);w(E,N,tt,"ψ","\\psi",!0);w(E,N,tt,"ω","\\omega",!0);w(E,N,tt,"ε","\\varepsilon",!0);w(E,N,tt,"ϑ","\\vartheta",!0);w(E,N,tt,"ϖ","\\varpi",!0);w(E,N,tt,"ϱ","\\varrho",!0);w(E,N,tt,"ς","\\varsigma",!0);w(E,N,tt,"φ","\\varphi",!0);w(E,N,Ve,"∗","*",!0);w(E,N,Ve,"+","+");w(E,N,Ve,"−","-",!0);w(E,N,Ve,"⋅","\\cdot",!0);w(E,N,Ve,"∘","\\circ",!0);w(E,N,Ve,"÷","\\div",!0);w(E,N,Ve,"±","\\pm",!0);w(E,N,Ve,"×","\\times",!0);w(E,N,Ve,"∩","\\cap",!0);w(E,N,Ve,"∪","\\cup",!0);w(E,N,Ve,"∖","\\setminus",!0);w(E,N,Ve,"∧","\\land");w(E,N,Ve,"∨","\\lor");w(E,N,Ve,"∧","\\wedge",!0);w(E,N,Ve,"∨","\\vee",!0);w(E,N,ae,"√","\\surd");w(E,N,Ai,"⟨","\\langle",!0);w(E,N,Ai,"∣","\\lvert");w(E,N,Ai,"∥","\\lVert");w(E,N,ti,"?","?");w(E,N,ti,"!","!");w(E,N,ti,"⟩","\\rangle",!0);w(E,N,ti,"∣","\\rvert");w(E,N,ti,"∥","\\rVert");w(E,N,Z,"=","=");w(E,N,Z,":",":");w(E,N,Z,"≈","\\approx",!0);w(E,N,Z,"≅","\\cong",!0);w(E,N,Z,"≥","\\ge");w(E,N,Z,"≥","\\geq",!0);w(E,N,Z,"←","\\gets");w(E,N,Z,">","\\gt",!0);w(E,N,Z,"∈","\\in",!0);w(E,N,Z,"","\\@not");w(E,N,Z,"⊂","\\subset",!0);w(E,N,Z,"⊃","\\supset",!0);w(E,N,Z,"⊆","\\subseteq",!0);w(E,N,Z,"⊇","\\supseteq",!0);w(E,J,Z,"⊈","\\nsubseteq",!0);w(E,J,Z,"⊉","\\nsupseteq",!0);w(E,N,Z,"⊨","\\models");w(E,N,Z,"←","\\leftarrow",!0);w(E,N,Z,"≤","\\le");w(E,N,Z,"≤","\\leq",!0);w(E,N,Z,"<","\\lt",!0);w(E,N,Z,"→","\\rightarrow",!0);w(E,N,Z,"→","\\to");w(E,J,Z,"≱","\\ngeq",!0);w(E,J,Z,"≰","\\nleq",!0);w(E,N,$a," ","\\ ");w(E,N,$a," ","\\space");w(E,N,$a," ","\\nobreakspace");w(Ce,N,$a," ","\\ ");w(Ce,N,$a," "," ");w(Ce,N,$a," ","\\space");w(Ce,N,$a," ","\\nobreakspace");w(E,N,$a,null,"\\nobreak");w(E,N,$a,null,"\\allowbreak");w(E,N,tp,",",",");w(E,N,tp,";",";");w(E,J,Ve,"⊼","\\barwedge",!0);w(E,J,Ve,"⊻","\\veebar",!0);w(E,N,Ve,"⊙","\\odot",!0);w(E,N,Ve,"⊕","\\oplus",!0);w(E,N,Ve,"⊗","\\otimes",!0);w(E,N,ae,"∂","\\partial",!0);w(E,N,Ve,"⊘","\\oslash",!0);w(E,J,Ve,"⊚","\\circledcirc",!0);w(E,J,Ve,"⊡","\\boxdot",!0);w(E,N,Ve,"△","\\bigtriangleup");w(E,N,Ve,"▽","\\bigtriangledown");w(E,N,Ve,"†","\\dagger");w(E,N,Ve,"⋄","\\diamond");w(E,N,Ve,"⋆","\\star");w(E,N,Ve,"◃","\\triangleleft");w(E,N,Ve,"▹","\\triangleright");w(E,N,Ai,"{","\\{");w(Ce,N,ae,"{","\\{");w(Ce,N,ae,"{","\\textbraceleft");w(E,N,ti,"}","\\}");w(Ce,N,ae,"}","\\}");w(Ce,N,ae,"}","\\textbraceright");w(E,N,Ai,"{","\\lbrace");w(E,N,ti,"}","\\rbrace");w(E,N,Ai,"[","\\lbrack",!0);w(Ce,N,ae,"[","\\lbrack",!0);w(E,N,ti,"]","\\rbrack",!0);w(Ce,N,ae,"]","\\rbrack",!0);w(E,N,Ai,"(","\\lparen",!0);w(E,N,ti,")","\\rparen",!0);w(Ce,N,ae,"<","\\textless",!0);w(Ce,N,ae,">","\\textgreater",!0);w(E,N,Ai,"⌊","\\lfloor",!0);w(E,N,ti,"⌋","\\rfloor",!0);w(E,N,Ai,"⌈","\\lceil",!0);w(E,N,ti,"⌉","\\rceil",!0);w(E,N,ae,"\\","\\backslash");w(E,N,ae,"∣","|");w(E,N,ae,"∣","\\vert");w(Ce,N,ae,"|","\\textbar",!0);w(E,N,ae,"∥","\\|");w(E,N,ae,"∥","\\Vert");w(Ce,N,ae,"∥","\\textbardbl");w(Ce,N,ae,"~","\\textasciitilde");w(Ce,N,ae,"\\","\\textbackslash");w(Ce,N,ae,"^","\\textasciicircum");w(E,N,Z,"↑","\\uparrow",!0);w(E,N,Z,"⇑","\\Uparrow",!0);w(E,N,Z,"↓","\\downarrow",!0);w(E,N,Z,"⇓","\\Downarrow",!0);w(E,N,Z,"↕","\\updownarrow",!0);w(E,N,Z,"⇕","\\Updownarrow",!0);w(E,N,cr,"∐","\\coprod");w(E,N,cr,"⋁","\\bigvee");w(E,N,cr,"⋀","\\bigwedge");w(E,N,cr,"⨄","\\biguplus");w(E,N,cr,"⋂","\\bigcap");w(E,N,cr,"⋃","\\bigcup");w(E,N,cr,"∫","\\int");w(E,N,cr,"∫","\\intop");w(E,N,cr,"∬","\\iint");w(E,N,cr,"∭","\\iiint");w(E,N,cr,"∏","\\prod");w(E,N,cr,"∑","\\sum");w(E,N,cr,"⨂","\\bigotimes");w(E,N,cr,"⨁","\\bigoplus");w(E,N,cr,"⨀","\\bigodot");w(E,N,cr,"∮","\\oint");w(E,N,cr,"∯","\\oiint");w(E,N,cr,"∰","\\oiiint");w(E,N,cr,"⨆","\\bigsqcup");w(E,N,cr,"∫","\\smallint");w(Ce,N,fu,"…","\\textellipsis");w(E,N,fu,"…","\\mathellipsis");w(Ce,N,fu,"…","\\ldots",!0);w(E,N,fu,"…","\\ldots",!0);w(E,N,fu,"⋯","\\@cdots",!0);w(E,N,fu,"⋱","\\ddots",!0);w(E,N,ae,"⋮","\\varvdots");w(E,N,qt,"ˊ","\\acute");w(E,N,qt,"ˋ","\\grave");w(E,N,qt,"¨","\\ddot");w(E,N,qt,"~","\\tilde");w(E,N,qt,"ˉ","\\bar");w(E,N,qt,"˘","\\breve");w(E,N,qt,"ˇ","\\check");w(E,N,qt,"^","\\hat");w(E,N,qt,"⃗","\\vec");w(E,N,qt,"˙","\\dot");w(E,N,qt,"˚","\\mathring");w(E,N,tt,"","\\@imath");w(E,N,tt,"","\\@jmath");w(E,N,ae,"ı","ı");w(E,N,ae,"ȷ","ȷ");w(Ce,N,ae,"ı","\\i",!0);w(Ce,N,ae,"ȷ","\\j",!0);w(Ce,N,ae,"ß","\\ss",!0);w(Ce,N,ae,"æ","\\ae",!0);w(Ce,N,ae,"œ","\\oe",!0);w(Ce,N,ae,"ø","\\o",!0);w(Ce,N,ae,"Æ","\\AE",!0);w(Ce,N,ae,"Œ","\\OE",!0);w(Ce,N,ae,"Ø","\\O",!0);w(Ce,N,qt,"ˊ","\\'");w(Ce,N,qt,"ˋ","\\`");w(Ce,N,qt,"ˆ","\\^");w(Ce,N,qt,"˜","\\~");w(Ce,N,qt,"ˉ","\\=");w(Ce,N,qt,"˘","\\u");w(Ce,N,qt,"˙","\\.");w(Ce,N,qt,"¸","\\c");w(Ce,N,qt,"˚","\\r");w(Ce,N,qt,"ˇ","\\v");w(Ce,N,qt,"¨",'\\"');w(Ce,N,qt,"˝","\\H");w(Ce,N,qt,"◯","\\textcircled");var zS={"--":!0,"---":!0,"``":!0,"''":!0};w(Ce,N,ae,"–","--",!0);w(Ce,N,ae,"–","\\textendash");w(Ce,N,ae,"—","---",!0);w(Ce,N,ae,"—","\\textemdash");w(Ce,N,ae,"‘","`",!0);w(Ce,N,ae,"‘","\\textquoteleft");w(Ce,N,ae,"’","'",!0);w(Ce,N,ae,"’","\\textquoteright");w(Ce,N,ae,"“","``",!0);w(Ce,N,ae,"“","\\textquotedblleft");w(Ce,N,ae,"”","''",!0);w(Ce,N,ae,"”","\\textquotedblright");w(E,N,ae,"°","\\degree",!0);w(Ce,N,ae,"°","\\degree");w(Ce,N,ae,"°","\\textdegree",!0);w(E,N,ae,"£","\\pounds");w(E,N,ae,"£","\\mathsterling",!0);w(Ce,N,ae,"£","\\pounds");w(Ce,N,ae,"£","\\textsterling",!0);w(E,J,ae,"✠","\\maltese");w(Ce,J,ae,"✠","\\maltese");var E2='0123456789/@."';for(var Zd=0;Zd<E2.length;Zd++){var k2=E2.charAt(Zd);w(E,N,ae,k2,k2)}var T2='0123456789!@*()-=+";:?/.,';for(var e0=0;e0<T2.length;e0++){var O2=T2.charAt(e0);w(Ce,N,ae,O2,O2)}var dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var t0=0;t0<dm.length;t0++){var Vc=dm.charAt(t0);w(E,N,tt,Vc,Vc),w(Ce,N,ae,Vc,Vc)}w(E,J,ae,"C","ℂ");w(Ce,J,ae,"C","ℂ");w(E,J,ae,"H","ℍ");w(Ce,J,ae,"H","ℍ");w(E,J,ae,"N","ℕ");w(Ce,J,ae,"N","ℕ");w(E,J,ae,"P","ℙ");w(Ce,J,ae,"P","ℙ");w(E,J,ae,"Q","ℚ");w(Ce,J,ae,"Q","ℚ");w(E,J,ae,"R","ℝ");w(Ce,J,ae,"R","ℝ");w(E,J,ae,"Z","ℤ");w(Ce,J,ae,"Z","ℤ");w(E,N,tt,"h","ℎ");w(Ce,N,tt,"h","ℎ");var ot="";for(var Xr=0;Xr<dm.length;Xr++){var Yt=dm.charAt(Xr);ot=String.fromCharCode(55349,56320+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),ot=String.fromCharCode(55349,56372+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),ot=String.fromCharCode(55349,56424+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),ot=String.fromCharCode(55349,56580+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),ot=String.fromCharCode(55349,56684+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),ot=String.fromCharCode(55349,56736+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),ot=String.fromCharCode(55349,56788+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),ot=String.fromCharCode(55349,56840+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),ot=String.fromCharCode(55349,56944+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),Xr<26&&(ot=String.fromCharCode(55349,56632+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot),ot=String.fromCharCode(55349,56476+Xr),w(E,N,tt,Yt,ot),w(Ce,N,ae,Yt,ot))}ot="𝕜";w(E,N,tt,"k",ot);w(Ce,N,ae,"k",ot);for(var ro=0;ro<10;ro++){var os=ro.toString();ot=String.fromCharCode(55349,57294+ro),w(E,N,tt,os,ot),w(Ce,N,ae,os,ot),ot=String.fromCharCode(55349,57314+ro),w(E,N,tt,os,ot),w(Ce,N,ae,os,ot),ot=String.fromCharCode(55349,57324+ro),w(E,N,tt,os,ot),w(Ce,N,ae,os,ot),ot=String.fromCharCode(55349,57334+ro),w(E,N,tt,os,ot),w(Ce,N,ae,os,ot)}var Yg="ÐÞþ";for(var r0=0;r0<Yg.length;r0++){var Xc=Yg.charAt(r0);w(E,N,tt,Xc,Xc),w(Ce,N,ae,Xc,Xc)}var Kc=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],A2=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],cz=function(t,e){var i=t.charCodeAt(0),n=t.charCodeAt(1),a=(i-55296)*1024+(n-56320)+65536,s=e==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[Kc[o][2],Kc[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[A2[l][2],A2[l][s]]}else{if(a===120485||a===120486)return[Kc[0][2],Kc[0][s]];if(120486<a&&a<120782)return["",""];throw new Re("Unsupported character: "+t)}},rp=function(t,e,i){return jt[i][t]&&jt[i][t].replace&&(t=jt[i][t].replace),{value:t,metrics:Bb(t,e,i)}},sn=function(t,e,i,n,a){var s=rp(t,e,i),o=s.metrics;t=s.value;var l;if(o){var u=o.italic;(i==="text"||n&&n.font==="mathit")&&(u=0),l=new Yi(t,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+e+"' and mode '"+i+"'")),l=new Yi(t,0,0,0,0,0,a);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var f=n.getColor();f&&(l.style.color=f)}return l},hz=function(t,e,i,n){return n===void 0&&(n=[]),i.font==="boldsymbol"&&rp(t,"Main-Bold",e).metrics?sn(t,"Main-Bold",e,i,n.concat(["mathbf"])):t==="\\"||jt[e][t].font==="main"?sn(t,"Main-Regular",e,i,n):sn(t,"AMS-Regular",e,i,n.concat(["amsrm"]))},mz=function(t,e,i,n,a){return a!=="textord"&&rp(t,"Math-BoldItalic",e).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},pz=function(t,e,i){var n=t.mode,a=t.text,s=["mord"],o=n==="math"||n==="text"&&e.font,l=o?e.font:e.fontFamily,u="",f="";if(a.charCodeAt(0)===55349&&([u,f]=cz(a,n)),u.length>0)return sn(a,u,n,e,s.concat(f));if(l){var h,c;if(l==="boldsymbol"){var m=mz(a,n,e,s,i);h=m.fontName,c=[m.fontClass]}else o?(h=US[l].fontName,c=[l]):(h=Yc(l,e.fontWeight,e.fontShape),c=[l,e.fontWeight,e.fontShape]);if(rp(a,h,n).metrics)return sn(a,h,n,e,s.concat(c));if(zS.hasOwnProperty(a)&&h.slice(0,10)==="Typewriter"){for(var d=[],v=0;v<a.length;v++)d.push(sn(a[v],h,n,e,s.concat(c)));return jS(d)}}if(i==="mathord")return sn(a,"Math-Italic",n,e,s.concat(["mathnormal"]));if(i==="textord"){var b=jt[n][a]&&jt[n][a].font;if(b==="ams"){var g=Yc("amsrm",e.fontWeight,e.fontShape);return sn(a,g,n,e,s.concat("amsrm",e.fontWeight,e.fontShape))}else if(b==="main"||!b){var _=Yc("textrm",e.fontWeight,e.fontShape);return sn(a,_,n,e,s.concat(e.fontWeight,e.fontShape))}else{var y=Yc(b,e.fontWeight,e.fontShape);return sn(a,y,n,e,s.concat(y,e.fontWeight,e.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},dz=(r,t)=>{if(Ps(r.classes)!==Ps(t.classes)||r.skew!==t.skew||r.maxFontSize!==t.maxFontSize)return!1;if(r.classes.length===1){var e=r.classes[0];if(e==="mbin"||e==="mord")return!1}for(var i in r.style)if(r.style.hasOwnProperty(i)&&r.style[i]!==t.style[i])return!1;for(var n in t.style)if(t.style.hasOwnProperty(n)&&r.style[n]!==t.style[n])return!1;return!0},vz=r=>{for(var t=0;t<r.length-1;t++){var e=r[t],i=r[t+1];e instanceof Yi&&i instanceof Yi&&dz(e,i)&&(e.text+=i.text,e.height=Math.max(e.height,i.height),e.depth=Math.max(e.depth,i.depth),e.italic=i.italic,r.splice(t+1,1),t--)}return r},zb=function(t){for(var e=0,i=0,n=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>e&&(e=s.height),s.depth>i&&(i=s.depth),s.maxFontSize>n&&(n=s.maxFontSize)}t.height=e,t.depth=i,t.maxFontSize=n},li=function(t,e,i,n){var a=new Vf(t,e,i,n);return zb(a),a},LS=(r,t,e,i)=>new Vf(r,t,e,i),gz=function(t,e,i){var n=li([t],[],e);return n.height=Math.max(i||e.fontMetrics().defaultRuleThickness,e.minRuleThickness),n.style.borderBottomWidth=Le(n.height),n.maxFontSize=1,n},bz=function(t,e,i,n){var a=new Fb(t,e,i,n);return zb(a),a},jS=function(t){var e=new Gf(t);return zb(e),e},yz=function(t,e){return t instanceof Gf?li([],[t],e):t},$z=function(t){if(t.positionType==="individualShift"){for(var e=t.children,i=[e[0]],n=-e[0].shift-e[0].elem.depth,a=n,s=1;s<e.length;s++){var o=-e[s].shift-a-e[s].elem.depth,l=o-(e[s-1].elem.height+e[s-1].elem.depth);a=a+o,i.push({type:"kern",size:l}),i.push(e[s])}return{children:i,depth:n}}var u;if(t.positionType==="top"){for(var f=t.positionData,h=0;h<t.children.length;h++){var c=t.children[h];f-=c.type==="kern"?c.size:c.elem.height+c.elem.depth}u=f}else if(t.positionType==="bottom")u=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},_z=function(t,e){for(var{children:i,depth:n}=$z(t),a=0,s=0;s<i.length;s++){var o=i[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=li(["pstrut"],[]);u.style.height=Le(a);for(var f=[],h=n,c=n,m=n,d=0;d<i.length;d++){var v=i[d];if(v.type==="kern")m+=v.size;else{var b=v.elem,g=v.wrapperClasses||[],_=v.wrapperStyle||{},y=li(g,[u,b],void 0,_);y.style.top=Le(-a-m-b.depth),v.marginLeft&&(y.style.marginLeft=v.marginLeft),v.marginRight&&(y.style.marginRight=v.marginRight),f.push(y),m+=b.height+b.depth}h=Math.min(h,m),c=Math.max(c,m)}var $=li(["vlist"],f);$.style.height=Le(c);var I;if(h<0){var A=li([],[]),B=li(["vlist"],[A]);B.style.height=Le(-h);var T=li(["vlist-s"],[new Yi("​")]);I=[li(["vlist-r"],[$,T]),li(["vlist-r"],[B])]}else I=[li(["vlist-r"],[$])];var x=li(["vlist-t"],I);return I.length===2&&x.classes.push("vlist-t2"),x.height=c,x.depth=-h,x},wz=(r,t)=>{var e=li(["mspace"],[],t),i=Vt(r,t);return e.style.marginRight=Le(i),e},Yc=function(t,e,i){var n="";switch(t){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=t}var a;return e==="textbf"&&i==="textit"?a="BoldItalic":e==="textbf"?a="Bold":e==="textit"?a="Italic":a="Regular",n+"-"+a},US={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},qS={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},xz=function(t,e){var[i,n,a]=qS[t],s=new Ds(i),o=new ca([s],{width:Le(n),height:Le(a),style:"width:"+Le(n),viewBox:"0 0 "+1e3*n+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=LS(["overlay"],[o],e);return l.height=a,l.style.height=Le(a),l.style.width=Le(n),l},me={fontMap:US,makeSymbol:sn,mathsym:hz,makeSpan:li,makeSvgSpan:LS,makeLineSpan:gz,makeAnchor:bz,makeFragment:jS,wrapFragment:yz,makeVList:_z,makeOrd:pz,makeGlue:wz,staticSvg:xz,svgData:qS,tryCombineChars:vz},Gt={number:3,unit:"mu"},io={number:4,unit:"mu"},Xn={number:5,unit:"mu"},Sz={mord:{mop:Gt,mbin:io,mrel:Xn,minner:Gt},mop:{mord:Gt,mop:Gt,mrel:Xn,minner:Gt},mbin:{mord:io,mop:io,mopen:io,minner:io},mrel:{mord:Xn,mop:Xn,mopen:Xn,minner:Xn},mopen:{},mclose:{mop:Gt,mbin:io,mrel:Xn,minner:Gt},mpunct:{mord:Gt,mop:Gt,mrel:Xn,mopen:Gt,mclose:Gt,mpunct:Gt,minner:Gt},minner:{mord:Gt,mop:Gt,mbin:io,mrel:Xn,mopen:Gt,mpunct:Gt,minner:Gt}},Ez={mord:{mop:Gt},mop:{mord:Gt,mop:Gt},mbin:{},mrel:{},mopen:{},mclose:{mop:Gt},mpunct:{},minner:{mop:Gt}},HS={},vm={},gm={};function Ge(r){for(var{type:t,names:e,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=r,o={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:n},l=0;l<e.length;++l)HS[e[l]]=o;t&&(a&&(vm[t]=a),s&&(gm[t]=s))}function Lo(r){var{type:t,htmlBuilder:e,mathmlBuilder:i}=r;Ge({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:e,mathmlBuilder:i})}var bm=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},ar=function(t){return t.type==="ordgroup"?t.body:[t]},ha=me.makeSpan,kz=["leftmost","mbin","mopen","mrel","mop","mpunct"],Tz=["rightmost","mrel","mclose","mpunct"],Oz={display:rt.DISPLAY,text:rt.TEXT,script:rt.SCRIPT,scriptscript:rt.SCRIPTSCRIPT},Az={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},dr=function(t,e,i,n){n===void 0&&(n=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=bt(t[s],e);if(o instanceof Gf){var l=o.children;a.push(...l)}else a.push(o)}if(me.tryCombineChars(a),!i)return a;var u=e;if(t.length===1){var f=t[0];f.type==="sizing"?u=e.havingSize(f.size):f.type==="styling"&&(u=e.havingStyle(Oz[f.style]))}var h=ha([n[0]||"leftmost"],[],e),c=ha([n[1]||"rightmost"],[],e),m=i==="root";return I2(a,(d,v)=>{var b=v.classes[0],g=d.classes[0];b==="mbin"&&et.contains(Tz,g)?v.classes[0]="mord":g==="mbin"&&et.contains(kz,b)&&(d.classes[0]="mord")},{node:h},c,m),I2(a,(d,v)=>{var b=Jg(v),g=Jg(d),_=b&&g?d.hasClass("mtight")?Ez[b][g]:Sz[b][g]:null;if(_)return me.makeGlue(_,u)},{node:h},c,m),a},I2=function r(t,e,i,n,a){n&&t.push(n);for(var s=0;s<t.length;s++){var o=t[s],l=WS(o);if(l){r(l.children,e,i,null,a);continue}var u=!o.hasClass("mspace");if(u){var f=e(o,i.node);f&&(i.insertAfter?i.insertAfter(f):(t.unshift(f),s++))}u?i.node=o:a&&o.hasClass("newline")&&(i.node=ha(["leftmost"])),i.insertAfter=(h=>c=>{t.splice(h+1,0,c),s++})(s)}n&&t.pop()},WS=function(t){return t instanceof Gf||t instanceof Fb||t instanceof Vf&&t.hasClass("enclosing")?t:null},Iz=function r(t,e){var i=WS(t);if(i){var n=i.children;if(n.length){if(e==="right")return r(n[n.length-1],"right");if(e==="left")return r(n[0],"left")}}return t},Jg=function(t,e){return t?(e&&(t=Iz(t,e)),Az[t.classes[0]]||null):null},kf=function(t,e){var i=["nulldelimiter"].concat(t.baseSizingClasses());return ha(e.concat(i))},bt=function(t,e,i){if(!t)return ha();if(vm[t.type]){var n=vm[t.type](t,e);if(i&&e.size!==i.size){n=ha(e.sizingClasses(i),[n],e);var a=e.sizeMultiplier/i.sizeMultiplier;n.height*=a,n.depth*=a}return n}else throw new Re("Got group of unknown type: '"+t.type+"'")};function Jc(r,t){var e=ha(["base"],r,t),i=ha(["strut"]);return i.style.height=Le(e.height+e.depth),e.depth&&(i.style.verticalAlign=Le(-e.depth)),e.children.unshift(i),e}function Qg(r,t){var e=null;r.length===1&&r[0].type==="tag"&&(e=r[0].tag,r=r[0].body);var i=dr(r,t,"root"),n;i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var a=[],s=[],o=0;o<i.length;o++)if(s.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var l=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,s.push(i[o]),i[o].hasClass("nobreak")&&(l=!0);l||(a.push(Jc(s,t)),s=[])}else i[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Jc(s,t)),s=[]),a.push(i[o]));s.length>0&&a.push(Jc(s,t));var u;e?(u=Jc(dr(e,t,!0)),u.classes=["tag"],a.push(u)):n&&a.push(n);var f=ha(["katex-html"],a);if(f.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=Le(f.height+f.depth),f.depth&&(h.style.verticalAlign=Le(-f.depth))}return f}function GS(r){return new Gf(r)}class qi{constructor(t,e,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=e||[],this.classes=i||[]}setAttribute(t,e){this.attributes[t]=e}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);this.classes.length>0&&(t.className=Ps(this.classes));for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var t="<"+this.type;for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=et.escape(this.attributes[e]),t+='"');this.classes.length>0&&(t+=' class ="'+et.escape(Ps(this.classes))+'"'),t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class tf{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return et.escape(this.toText())}toText(){return this.text}}class Cz{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Le(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Le(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var De={MathNode:qi,TextNode:tf,SpaceNode:Cz,newDocumentFragment:GS},Ji=function(t,e,i){return jt[e][t]&&jt[e][t].replace&&t.charCodeAt(0)!==55349&&!(zS.hasOwnProperty(t)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(t=jt[e][t].replace),new De.TextNode(t)},Lb=function(t){return t.length===1?t[0]:new De.MathNode("mrow",t)},jb=function(t,e){if(e.fontFamily==="texttt")return"monospace";if(e.fontFamily==="textsf")return e.fontShape==="textit"&&e.fontWeight==="textbf"?"sans-serif-bold-italic":e.fontShape==="textit"?"sans-serif-italic":e.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(e.fontShape==="textit"&&e.fontWeight==="textbf")return"bold-italic";if(e.fontShape==="textit")return"italic";if(e.fontWeight==="textbf")return"bold";var i=e.font;if(!i||i==="mathnormal")return null;var n=t.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=t.text;if(et.contains(["\\imath","\\jmath"],a))return null;jt[n][a]&&jt[n][a].replace&&(a=jt[n][a].replace);var s=me.fontMap[i].fontName;return Bb(a,s,n)?me.fontMap[i].variant:null},gi=function(t,e,i){if(t.length===1){var n=Bt(t[0],e);return i&&n instanceof qi&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var a=[],s,o=0;o<t.length;o++){var l=Bt(t[o],e);if(l instanceof qi&&s instanceof qi){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof tf&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var f=s.children[0];if(f instanceof tf&&f.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof tf&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Ns=function(t,e,i){return Lb(gi(t,e,i))},Bt=function(t,e){if(!t)return new De.MathNode("mrow");if(gm[t.type]){var i=gm[t.type](t,e);return i}else throw new Re("Got group of unknown type: '"+t.type+"'")};function C2(r,t,e,i,n){var a=gi(r,e),s;a.length===1&&a[0]instanceof qi&&et.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new De.MathNode("mrow",a);var o=new De.MathNode("annotation",[new De.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new De.MathNode("semantics",[s,o]),u=new De.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var f=n?"katex":"katex-mathml";return me.makeSpan([f],[u])}var VS=function(t){return new Yn({style:t.displayMode?rt.DISPLAY:rt.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},XS=function(t,e){if(e.displayMode){var i=["katex-display"];e.leqno&&i.push("leqno"),e.fleqn&&i.push("fleqn"),t=me.makeSpan(i,[t])}return t},Pz=function(t,e,i){var n=VS(i),a;if(i.output==="mathml")return C2(t,e,n,i.displayMode,!0);if(i.output==="html"){var s=Qg(t,n);a=me.makeSpan(["katex"],[s])}else{var o=C2(t,e,n,i.displayMode,!1),l=Qg(t,n);a=me.makeSpan(["katex"],[o,l])}return XS(a,i)},Dz=function(t,e,i){var n=VS(i),a=Qg(t,n),s=me.makeSpan(["katex"],[a]);return XS(s,i)},Nz={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Rz=function(t){var e=new De.MathNode("mo",[new De.TextNode(Nz[t.replace(/^\\/,"")])]);return e.setAttribute("stretchy","true"),e},Mz={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Bz=function(t){return t.type==="ordgroup"?t.body.length:1},Fz=function(t,e){function i(){var o=4e5,l=t.label.slice(1);if(et.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=t,f=Bz(u.base),h,c,m;if(f>5)l==="widehat"||l==="widecheck"?(h=420,o=2364,m=.42,c=l+"4"):(h=312,o=2340,m=.34,c="tilde4");else{var d=[1,1,2,2,3,3][f];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][d],h=[0,239,300,360,420][d],m=[0,.24,.3,.3,.36,.42][d],c=l+d):(o=[0,600,1033,2339,2340][d],h=[0,260,286,306,312][d],m=[0,.26,.286,.3,.306,.34][d],c="tilde"+d)}var v=new Ds(c),b=new ca([v],{width:"100%",height:Le(m),viewBox:"0 0 "+o+" "+h,preserveAspectRatio:"none"});return{span:me.makeSvgSpan([],[b],e),minWidth:0,height:m}}else{var g=[],_=Mz[l],[y,$,I]=_,A=I/1e3,B=y.length,T,x;if(B===1){var U=_[3];T=["hide-tail"],x=[U]}else if(B===2)T=["halfarrow-left","halfarrow-right"],x=["xMinYMin","xMaxYMin"];else if(B===3)T=["brace-left","brace-center","brace-right"],x=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+B+" children.");for(var O=0;O<B;O++){var F=new Ds(y[O]),D=new ca([F],{width:"400em",height:Le(A),viewBox:"0 0 "+o+" "+I,preserveAspectRatio:x[O]+" slice"}),L=me.makeSvgSpan([T[O]],[D],e);if(B===1)return{span:L,minWidth:$,height:A};L.style.height=Le(A),g.push(L)}return{span:me.makeSpan(["stretchy"],g,e),minWidth:$,height:A}}}var{span:n,minWidth:a,height:s}=i();return n.height=s,n.style.height=Le(s),a>0&&(n.style.minWidth=Le(a)),n},zz=function(t,e,i,n,a){var s,o=t.height+t.depth+i+n;if(/fbox|color|angl/.test(e)){if(s=me.makeSpan(["stretchy",e],[],a),e==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(e)&&u.push(new Kg({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(e)&&u.push(new Kg({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new ca(u,{width:"100%",height:Le(o)});s=me.makeSvgSpan([],[f],a)}return s.height=o,s.style.height=Le(o),s},ma={encloseSpan:zz,mathMLnode:Rz,svgSpan:Fz};function ft(r,t){if(!r||r.type!==t)throw new Error("Expected node of type "+t+", but got "+(r?"node of type "+r.type:String(r)));return r}function Ub(r){var t=ip(r);if(!t)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return t}function ip(r){return r&&(r.type==="atom"||fz.hasOwnProperty(r.type))?r:null}var qb=(r,t)=>{var e,i,n;r&&r.type==="supsub"?(i=ft(r.base,"accent"),e=i.base,r.base=e,n=lz(bt(r,t)),r.base=i):(i=ft(r,"accent"),e=i.base);var a=bt(e,t.havingCrampedStyle()),s=i.isShifty&&et.isCharacterBox(e),o=0;if(s){var l=et.getBaseElem(e),u=bt(l,t.havingCrampedStyle());o=S2(u).skew}var f=i.label==="\\c",h=f?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),c;if(i.isStretchy)c=ma.svgSpan(i,t),c=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:c,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Le(2*o)+")",marginLeft:Le(2*o)}:void 0}]},t);else{var m,d;i.label==="\\vec"?(m=me.staticSvg("vec",t),d=me.svgData.vec[1]):(m=me.makeOrd({mode:i.mode,text:i.label},t,"textord"),m=S2(m),m.italic=0,d=m.width,f&&(h+=m.depth)),c=me.makeSpan(["accent-body"],[m]);var v=i.label==="\\textcircled";v&&(c.classes.push("accent-full"),h=a.height);var b=o;v||(b-=d/2),c.style.left=Le(b),i.label==="\\textcircled"&&(c.style.top=".2em"),c=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-h},{type:"elem",elem:c}]},t)}var g=me.makeSpan(["mord","accent"],[c],t);return n?(n.children[0]=g,n.height=Math.max(g.height,n.height),n.classes[0]="mord",n):g},KS=(r,t)=>{var e=r.isStretchy?ma.mathMLnode(r.label):new De.MathNode("mo",[Ji(r.label,r.mode)]),i=new De.MathNode("mover",[Bt(r.base,t),e]);return i.setAttribute("accent","true"),i},Lz=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));Ge({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,t)=>{var e=bm(t[0]),i=!Lz.test(r.funcName),n=!i||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:i,isShifty:n,base:e}},htmlBuilder:qb,mathmlBuilder:KS});Ge({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,t)=>{var e=t[0],i=r.parser.mode;return i==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:r.funcName,isStretchy:!1,isShifty:!0,base:e}},htmlBuilder:qb,mathmlBuilder:KS});Ge({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0];return{type:"accentUnder",mode:e.mode,label:i,base:n}},htmlBuilder:(r,t)=>{var e=bt(r.base,t),i=ma.svgSpan(r,t),n=r.label==="\\utilde"?.12:0,a=me.makeVList({positionType:"top",positionData:e.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:e}]},t);return me.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(r,t)=>{var e=ma.mathMLnode(r.label),i=new De.MathNode("munder",[Bt(r.base,t),e]);return i.setAttribute("accentunder","true"),i}});var Qc=r=>{var t=new De.MathNode("mpadded",r?[r]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ge({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,t,e){var{parser:i,funcName:n}=r;return{type:"xArrow",mode:i.mode,label:n,body:t[0],below:e[0]}},htmlBuilder(r,t){var e=t.style,i=t.havingStyle(e.sup()),n=me.wrapFragment(bt(r.body,i,t),t),a=r.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(a+"-arrow-pad");var s;r.below&&(i=t.havingStyle(e.sub()),s=me.wrapFragment(bt(r.below,i,t),t),s.classes.push(a+"-arrow-pad"));var o=ma.svgSpan(r,t),l=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(n.depth>.25||r.label==="\\xleftequilibrium")&&(u-=n.depth);var f;if(s){var h=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;f=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:h}]},t)}else f=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l}]},t);return f.children[0].children[0].children[1].classes.push("svg-align"),me.makeSpan(["mrel","x-arrow"],[f],t)},mathmlBuilder(r,t){var e=ma.mathMLnode(r.label);e.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(r.body){var n=Qc(Bt(r.body,t));if(r.below){var a=Qc(Bt(r.below,t));i=new De.MathNode("munderover",[e,a,n])}else i=new De.MathNode("mover",[e,n])}else if(r.below){var s=Qc(Bt(r.below,t));i=new De.MathNode("munder",[e,s])}else i=Qc(),i=new De.MathNode("mover",[e,i]);return i}});var jz=me.makeSpan;function YS(r,t){var e=dr(r.body,t,!0);return jz([r.mclass],e,t)}function JS(r,t){var e,i=gi(r.body,t);return r.mclass==="minner"?e=new De.MathNode("mpadded",i):r.mclass==="mord"?r.isCharacterBox?(e=i[0],e.type="mi"):e=new De.MathNode("mi",i):(r.isCharacterBox?(e=i[0],e.type="mo"):e=new De.MathNode("mo",i),r.mclass==="mbin"?(e.attributes.lspace="0.22em",e.attributes.rspace="0.22em"):r.mclass==="mpunct"?(e.attributes.lspace="0em",e.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(e.attributes.lspace="0em",e.attributes.rspace="0em"):r.mclass==="minner"&&(e.attributes.lspace="0.0556em",e.attributes.width="+0.1111em")),e}Ge({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];return{type:"mclass",mode:e.mode,mclass:"m"+i.slice(5),body:ar(n),isCharacterBox:et.isCharacterBox(n)}},htmlBuilder:YS,mathmlBuilder:JS});var np=r=>{var t=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Ge({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,t){var{parser:e}=r;return{type:"mclass",mode:e.mode,mclass:np(t[0]),body:ar(t[1]),isCharacterBox:et.isCharacterBox(t[1])}}});Ge({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,t){var{parser:e,funcName:i}=r,n=t[1],a=t[0],s;i!=="\\stackrel"?s=np(n):s="mrel";var o={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:ar(n)},l={type:"supsub",mode:a.mode,base:o,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:e.mode,mclass:s,body:[l],isCharacterBox:et.isCharacterBox(l)}},htmlBuilder:YS,mathmlBuilder:JS});Ge({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,t){var{parser:e}=r;return{type:"pmb",mode:e.mode,mclass:np(t[0]),body:ar(t[0])}},htmlBuilder(r,t){var e=dr(r.body,t,!0),i=me.makeSpan([r.mclass],e,t);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(r,t){var e=gi(r.body,t),i=new De.MathNode("mstyle",e);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var Uz={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},P2=()=>({type:"styling",body:[],mode:"math",style:"display"}),D2=r=>r.type==="textord"&&r.text==="@",qz=(r,t)=>(r.type==="mathord"||r.type==="atom")&&r.text===t;function Hz(r,t,e){var i=Uz[r];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return e.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var n=e.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=e.callFunction("\\Big",[a],[]),o=e.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[n,s,o]};return e.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return e.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return e.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Wz(r){var t=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){t.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var e=r.fetch().text;if(e==="&"||e==="\\\\")r.consume();else if(e==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new Re("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var i=[],n=[i],a=0;a<t.length;a++){for(var s=t[a],o=P2(),l=0;l<s.length;l++)if(!D2(s[l]))o.body.push(s[l]);else{i.push(o),l+=1;var u=Ub(s[l]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var c=!0,m=l+1;m<s.length;m++){if(qz(s[m],u)){c=!1,l=m;break}if(D2(s[m]))throw new Re("Missing a "+u+" character to complete a CD arrow.",s[m]);f[h].body.push(s[m])}if(c)throw new Re("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new Re('Expected one of "<>AV=|." after @',s[l]);var d=Hz(u,f,r),v={type:"styling",body:[d],mode:"math",style:"display"};i.push(v),o=P2()}a%2===0?i.push(o):i.shift(),i=[],n.push(i)}r.gullet.endGroup(),r.gullet.endGroup();var b=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}Ge({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,t){var{parser:e,funcName:i}=r;return{type:"cdlabel",mode:e.mode,side:i.slice(4),label:t[0]}},htmlBuilder(r,t){var e=t.havingStyle(t.style.sup()),i=me.wrapFragment(bt(r.label,e,t),t);return i.classes.push("cd-label-"+r.side),i.style.bottom=Le(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(r,t){var e=new De.MathNode("mrow",[Bt(r.label,t)]);return e=new De.MathNode("mpadded",[e]),e.setAttribute("width","0"),r.side==="left"&&e.setAttribute("lspace","-1width"),e.setAttribute("voffset","0.7em"),e=new De.MathNode("mstyle",[e]),e.setAttribute("displaystyle","false"),e.setAttribute("scriptlevel","1"),e}});Ge({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,t){var{parser:e}=r;return{type:"cdlabelparent",mode:e.mode,fragment:t[0]}},htmlBuilder(r,t){var e=me.wrapFragment(bt(r.fragment,t),t);return e.classes.push("cd-vert-arrow"),e},mathmlBuilder(r,t){return new De.MathNode("mrow",[Bt(r.fragment,t)])}});Ge({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,t){for(var{parser:e}=r,i=ft(t[0],"ordgroup"),n=i.body,a="",s=0;s<n.length;s++){var o=ft(n[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new Re("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new Re("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:e.mode,text:u}}});var QS=(r,t)=>{var e=dr(r.body,t.withColor(r.color),!1);return me.makeFragment(e)},ZS=(r,t)=>{var e=gi(r.body,t.withColor(r.color)),i=new De.MathNode("mstyle",e);return i.setAttribute("mathcolor",r.color),i};Ge({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,t){var{parser:e}=r,i=ft(t[0],"color-token").color,n=t[1];return{type:"color",mode:e.mode,color:i,body:ar(n)}},htmlBuilder:QS,mathmlBuilder:ZS});Ge({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,t){var{parser:e,breakOnTokenText:i}=r,n=ft(t[0],"color-token").color;e.gullet.macros.set("\\current@color",n);var a=e.parseExpression(!0,i);return{type:"color",mode:e.mode,color:n,body:a}},htmlBuilder:QS,mathmlBuilder:ZS});Ge({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,t,e){var{parser:i}=r,n=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:n&&ft(n,"size").value}},htmlBuilder(r,t){var e=me.makeSpan(["mspace"],[],t);return r.newLine&&(e.classes.push("newline"),r.size&&(e.style.marginTop=Le(Vt(r.size,t)))),e},mathmlBuilder(r,t){var e=new De.MathNode("mspace");return r.newLine&&(e.setAttribute("linebreak","newline"),r.size&&e.setAttribute("height",Le(Vt(r.size,t)))),e}});var Zg={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},e8=r=>{var t=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Re("Expected a control sequence",r);return t},Gz=r=>{var t=r.gullet.popToken();return t.text==="="&&(t=r.gullet.popToken(),t.text===" "&&(t=r.gullet.popToken())),t},t8=(r,t,e,i)=>{var n=r.gullet.macros.get(e.text);n==null&&(e.noexpand=!0,n={tokens:[e],numArgs:0,unexpandable:!r.gullet.isExpandable(e.text)}),r.gullet.macros.set(t,n,i)};Ge({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:t,funcName:e}=r;t.consumeSpaces();var i=t.fetch();if(Zg[i.text])return(e==="\\global"||e==="\\\\globallong")&&(i.text=Zg[i.text]),ft(t.parseFunction(),"internal");throw new Re("Invalid token after macro prefix",i)}});Ge({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:t,funcName:e}=r,i=t.gullet.popToken(),n=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new Re("Expected a control sequence",i);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(i=t.gullet.popToken(),i.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new Re('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new Re('Argument number "'+i.text+'" out of order');a++,o.push([])}else{if(i.text==="EOF")throw new Re("Expected a macro definition");o[a].push(i.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(e==="\\edef"||e==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(n,{tokens:l,numArgs:a,delimiters:o},e===Zg[e]),{type:"internal",mode:t.mode}}});Ge({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:t,funcName:e}=r,i=e8(t.gullet.popToken());t.gullet.consumeSpaces();var n=Gz(t);return t8(t,i,n,e==="\\\\globallet"),{type:"internal",mode:t.mode}}});Ge({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:t,funcName:e}=r,i=e8(t.gullet.popToken()),n=t.gullet.popToken(),a=t.gullet.popToken();return t8(t,i,a,e==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(n),{type:"internal",mode:t.mode}}});var Yu=function(t,e,i){var n=jt.math[t]&&jt.math[t].replace,a=Bb(n||t,e,i);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+e+".");return a},Hb=function(t,e,i,n){var a=i.havingBaseStyle(e),s=me.makeSpan(n.concat(a.sizingClasses(i)),[t],i),o=a.sizeMultiplier/i.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},r8=function(t,e,i){var n=e.havingBaseStyle(i),a=(1-e.sizeMultiplier/n.sizeMultiplier)*e.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Le(a),t.height-=a,t.depth+=a},Vz=function(t,e,i,n,a,s){var o=me.makeSymbol(t,"Main-Regular",a,n),l=Hb(o,e,n,s);return i&&r8(l,n,e),l},Xz=function(t,e,i,n){return me.makeSymbol(t,"Size"+e+"-Regular",i,n)},i8=function(t,e,i,n,a,s){var o=Xz(t,e,a,n),l=Hb(me.makeSpan(["delimsizing","size"+e],[o],n),rt.TEXT,n,s);return i&&r8(l,n,rt.TEXT),l},i0=function(t,e,i){var n;e==="Size1-Regular"?n="delim-size1":n="delim-size4";var a=me.makeSpan(["delimsizinginner",n],[me.makeSpan([],[me.makeSymbol(t,e,i)])]);return{type:"elem",elem:a}},n0=function(t,e,i){var n=Cn["Size4-Regular"][t.charCodeAt(0)]?Cn["Size4-Regular"][t.charCodeAt(0)][4]:Cn["Size1-Regular"][t.charCodeAt(0)][4],a=new Ds("inner",ez(t,Math.round(1e3*e))),s=new ca([a],{width:Le(n),height:Le(e),style:"width:"+Le(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*e),preserveAspectRatio:"xMinYMin"}),o=me.makeSvgSpan([],[s],i);return o.height=e,o.style.height=Le(e),o.style.width=Le(n),{type:"elem",elem:o}},e1=.008,Zc={type:"kern",size:-1*e1},Kz=["|","\\lvert","\\rvert","\\vert"],Yz=["\\|","\\lVert","\\rVert","\\Vert"],n8=function(t,e,i,n,a,s){var o,l,u,f,h="",c=0;o=u=f=t,l=null;var m="Size1-Regular";t==="\\uparrow"?u=f="⏐":t==="\\Uparrow"?u=f="‖":t==="\\downarrow"?o=u="⏐":t==="\\Downarrow"?o=u="‖":t==="\\updownarrow"?(o="\\uparrow",u="⏐",f="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="‖",f="\\Downarrow"):et.contains(Kz,t)?(u="∣",h="vert",c=333):et.contains(Yz,t)?(u="∥",h="doublevert",c=556):t==="["||t==="\\lbrack"?(o="⎡",u="⎢",f="⎣",m="Size4-Regular",h="lbrack",c=667):t==="]"||t==="\\rbrack"?(o="⎤",u="⎥",f="⎦",m="Size4-Regular",h="rbrack",c=667):t==="\\lfloor"||t==="⌊"?(u=o="⎢",f="⎣",m="Size4-Regular",h="lfloor",c=667):t==="\\lceil"||t==="⌈"?(o="⎡",u=f="⎢",m="Size4-Regular",h="lceil",c=667):t==="\\rfloor"||t==="⌋"?(u=o="⎥",f="⎦",m="Size4-Regular",h="rfloor",c=667):t==="\\rceil"||t==="⌉"?(o="⎤",u=f="⎥",m="Size4-Regular",h="rceil",c=667):t==="("||t==="\\lparen"?(o="⎛",u="⎜",f="⎝",m="Size4-Regular",h="lparen",c=875):t===")"||t==="\\rparen"?(o="⎞",u="⎟",f="⎠",m="Size4-Regular",h="rparen",c=875):t==="\\{"||t==="\\lbrace"?(o="⎧",l="⎨",f="⎩",u="⎪",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="⎫",l="⎬",f="⎭",u="⎪",m="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(o="⎧",f="⎩",u="⎪",m="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(o="⎫",f="⎭",u="⎪",m="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(o="⎧",f="⎭",u="⎪",m="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(o="⎫",f="⎩",u="⎪",m="Size4-Regular");var d=Yu(o,m,a),v=d.height+d.depth,b=Yu(u,m,a),g=b.height+b.depth,_=Yu(f,m,a),y=_.height+_.depth,$=0,I=1;if(l!==null){var A=Yu(l,m,a);$=A.height+A.depth,I=2}var B=v+y+$,T=Math.max(0,Math.ceil((e-B)/(I*g))),x=B+T*I*g,U=n.fontMetrics().axisHeight;i&&(U*=n.sizeMultiplier);var O=x/2-U,F=[];if(h.length>0){var D=x-v-y,L=Math.round(x*1e3),H=tz(h,Math.round(D*1e3)),Y=new Ds(h,H),W=(c/1e3).toFixed(3)+"em",z=(L/1e3).toFixed(3)+"em",ne=new ca([Y],{width:W,height:z,viewBox:"0 0 "+c+" "+L}),ue=me.makeSvgSpan([],[ne],n);ue.height=L/1e3,ue.style.width=W,ue.style.height=z,F.push({type:"elem",elem:ue})}else{if(F.push(i0(f,m,a)),F.push(Zc),l===null){var K=x-v-y+2*e1;F.push(n0(u,K,n))}else{var Q=(x-v-y-$)/2+2*e1;F.push(n0(u,Q,n)),F.push(Zc),F.push(i0(l,m,a)),F.push(Zc),F.push(n0(u,Q,n))}F.push(Zc),F.push(i0(o,m,a))}var oe=n.havingBaseStyle(rt.TEXT),Ae=me.makeVList({positionType:"bottom",positionData:O,children:F},oe);return Hb(me.makeSpan(["delimsizing","mult"],[Ae],oe),rt.TEXT,n,s)},a0=80,s0=.08,o0=function(t,e,i,n,a){var s=ZF(t,n,i),o=new Ds(t,s),l=new ca([o],{width:"400em",height:Le(e),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return me.makeSvgSpan(["hide-tail"],[l],a)},Jz=function(t,e){var i=e.havingBaseSizing(),n=l8("\\surd",t*i.sizeMultiplier,o8,i),a=i.sizeMultiplier,s=Math.max(0,e.minRuleThickness-e.fontMetrics().sqrtRuleThickness),o,l=0,u=0,f=0,h;return n.type==="small"?(f=1e3+1e3*s+a0,t<1?a=1:t<1.4&&(a=.7),l=(1+s+s0)/a,u=(1+s)/a,o=o0("sqrtMain",l,f,s,e),o.style.minWidth="0.853em",h=.833/a):n.type==="large"?(f=(1e3+a0)*rf[n.size],u=(rf[n.size]+s)/a,l=(rf[n.size]+s+s0)/a,o=o0("sqrtSize"+n.size,l,f,s,e),o.style.minWidth="1.02em",h=1/a):(l=t+s+s0,u=t+s,f=Math.floor(1e3*t+s)+a0,o=o0("sqrtTall",l,f,s,e),o.style.minWidth="0.742em",h=1.056),o.height=u,o.style.height=Le(l),{span:o,advanceWidth:h,ruleWidth:(e.fontMetrics().sqrtRuleThickness+s)*a}},a8=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Qz=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],s8=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],rf=[0,1.2,1.8,2.4,3],Zz=function(t,e,i,n,a){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),et.contains(a8,t)||et.contains(s8,t))return i8(t,e,!1,i,n,a);if(et.contains(Qz,t))return n8(t,rf[e],!1,i,n,a);throw new Re("Illegal delimiter: '"+t+"'")},eL=[{type:"small",style:rt.SCRIPTSCRIPT},{type:"small",style:rt.SCRIPT},{type:"small",style:rt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],tL=[{type:"small",style:rt.SCRIPTSCRIPT},{type:"small",style:rt.SCRIPT},{type:"small",style:rt.TEXT},{type:"stack"}],o8=[{type:"small",style:rt.SCRIPTSCRIPT},{type:"small",style:rt.SCRIPT},{type:"small",style:rt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],rL=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},l8=function(t,e,i,n){for(var a=Math.min(2,3-n.style.size),s=a;s<i.length&&i[s].type!=="stack";s++){var o=Yu(t,rL(i[s]),"math"),l=o.height+o.depth;if(i[s].type==="small"){var u=n.havingBaseStyle(i[s].style);l*=u.sizeMultiplier}if(l>e)return i[s]}return i[i.length-1]},u8=function(t,e,i,n,a,s){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var o;et.contains(s8,t)?o=eL:et.contains(a8,t)?o=o8:o=tL;var l=l8(t,e,o,n);return l.type==="small"?Vz(t,l.style,i,n,a,s):l.type==="large"?i8(t,l.size,i,n,a,s):n8(t,e,i,n,a,s)},iL=function(t,e,i,n,a,s){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,l=901,u=5/n.fontMetrics().ptPerEm,f=Math.max(e-o,i+o),h=Math.max(f/500*l,2*f-u);return u8(t,h,!0,n,a,s)},Zn={sqrtImage:Jz,sizedDelim:Zz,sizeToMaxHeight:rf,customSizedDelim:u8,leftRightDelim:iL},N2={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},nL=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function ap(r,t){var e=ip(r);if(e&&et.contains(nL,e.text))return e;throw e?new Re("Invalid delimiter '"+e.text+"' after '"+t.funcName+"'",r):new Re("Invalid delimiter type '"+r.type+"'",r)}Ge({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,t)=>{var e=ap(t[0],r);return{type:"delimsizing",mode:r.parser.mode,size:N2[r.funcName].size,mclass:N2[r.funcName].mclass,delim:e.text}},htmlBuilder:(r,t)=>r.delim==="."?me.makeSpan([r.mclass]):Zn.sizedDelim(r.delim,r.size,t,r.mode,[r.mclass]),mathmlBuilder:r=>{var t=[];r.delim!=="."&&t.push(Ji(r.delim,r.mode));var e=new De.MathNode("mo",t);r.mclass==="mopen"||r.mclass==="mclose"?e.setAttribute("fence","true"):e.setAttribute("fence","false"),e.setAttribute("stretchy","true");var i=Le(Zn.sizeToMaxHeight[r.size]);return e.setAttribute("minsize",i),e.setAttribute("maxsize",i),e}});function R2(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ge({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var e=r.parser.gullet.macros.get("\\current@color");if(e&&typeof e!="string")throw new Re("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:ap(t[0],r).text,color:e}}});Ge({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var e=ap(t[0],r),i=r.parser;++i.leftrightDepth;var n=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=ft(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:n,left:e.text,right:a.delim,rightColor:a.color}},htmlBuilder:(r,t)=>{R2(r);for(var e=dr(r.body,t,!0,["mopen","mclose"]),i=0,n=0,a=!1,s=0;s<e.length;s++)e[s].isMiddle?a=!0:(i=Math.max(e[s].height,i),n=Math.max(e[s].depth,n));i*=t.sizeMultiplier,n*=t.sizeMultiplier;var o;if(r.left==="."?o=kf(t,["mopen"]):o=Zn.leftRightDelim(r.left,i,n,t,r.mode,["mopen"]),e.unshift(o),a)for(var l=1;l<e.length;l++){var u=e[l],f=u.isMiddle;f&&(e[l]=Zn.leftRightDelim(f.delim,i,n,f.options,r.mode,[]))}var h;if(r.right===".")h=kf(t,["mclose"]);else{var c=r.rightColor?t.withColor(r.rightColor):t;h=Zn.leftRightDelim(r.right,i,n,c,r.mode,["mclose"])}return e.push(h),me.makeSpan(["minner"],e,t)},mathmlBuilder:(r,t)=>{R2(r);var e=gi(r.body,t);if(r.left!=="."){var i=new De.MathNode("mo",[Ji(r.left,r.mode)]);i.setAttribute("fence","true"),e.unshift(i)}if(r.right!=="."){var n=new De.MathNode("mo",[Ji(r.right,r.mode)]);n.setAttribute("fence","true"),r.rightColor&&n.setAttribute("mathcolor",r.rightColor),e.push(n)}return Lb(e)}});Ge({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var e=ap(t[0],r);if(!r.parser.leftrightDepth)throw new Re("\\middle without preceding \\left",e);return{type:"middle",mode:r.parser.mode,delim:e.text}},htmlBuilder:(r,t)=>{var e;if(r.delim===".")e=kf(t,[]);else{e=Zn.sizedDelim(r.delim,1,t,r.mode,[]);var i={delim:r.delim,options:t};e.isMiddle=i}return e},mathmlBuilder:(r,t)=>{var e=r.delim==="\\vert"||r.delim==="|"?Ji("|","text"):Ji(r.delim,r.mode),i=new De.MathNode("mo",[e]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var Wb=(r,t)=>{var e=me.wrapFragment(bt(r.body,t),t),i=r.label.slice(1),n=t.sizeMultiplier,a,s=0,o=et.isCharacterBox(r.body);if(i==="sout")a=me.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/n,s=-.5*t.fontMetrics().xHeight;else if(i==="phase"){var l=Vt({number:.6,unit:"pt"},t),u=Vt({number:.35,unit:"ex"},t),f=t.havingBaseSizing();n=n/f.sizeMultiplier;var h=e.height+e.depth+l+u;e.style.paddingLeft=Le(h/2+l);var c=Math.floor(1e3*h*n),m=JF(c),d=new ca([new Ds("phase",m)],{width:"400em",height:Le(c/1e3),viewBox:"0 0 400000 "+c,preserveAspectRatio:"xMinYMin slice"});a=me.makeSvgSpan(["hide-tail"],[d],t),a.style.height=Le(h),s=e.depth+l+u}else{/cancel/.test(i)?o||e.classes.push("cancel-pad"):i==="angl"?e.classes.push("anglpad"):e.classes.push("boxpad");var v=0,b=0,g=0;/box/.test(i)?(g=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),v=t.fontMetrics().fboxsep+(i==="colorbox"?0:g),b=v):i==="angl"?(g=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),v=4*g,b=Math.max(0,.25-e.depth)):(v=o?.2:0,b=v),a=ma.encloseSpan(e,i,v,b,t),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=Le(g)):i==="angl"&&g!==.049&&(a.style.borderTopWidth=Le(g),a.style.borderRightWidth=Le(g)),s=e.depth+b,r.backgroundColor&&(a.style.backgroundColor=r.backgroundColor,r.borderColor&&(a.style.borderColor=r.borderColor))}var _;if(r.backgroundColor)_=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:e,shift:0}]},t);else{var y=/cancel|phase/.test(i)?["svg-align"]:[];_=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:e,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:y}]},t)}return/cancel/.test(i)&&(_.height=e.height,_.depth=e.depth),/cancel/.test(i)&&!o?me.makeSpan(["mord","cancel-lap"],[_],t):me.makeSpan(["mord"],[_],t)},Gb=(r,t)=>{var e=0,i=new De.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Bt(r.body,t)]);switch(r.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(e=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*e+"pt"),i.setAttribute("height","+"+2*e+"pt"),i.setAttribute("lspace",e+"pt"),i.setAttribute("voffset",e+"pt"),r.label==="\\fcolorbox"){var n=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+n+"em solid "+String(r.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&i.setAttribute("mathbackground",r.backgroundColor),i};Ge({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,t,e){var{parser:i,funcName:n}=r,a=ft(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:n,backgroundColor:a,body:s}},htmlBuilder:Wb,mathmlBuilder:Gb});Ge({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,t,e){var{parser:i,funcName:n}=r,a=ft(t[0],"color-token").color,s=ft(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:i.mode,label:n,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:Wb,mathmlBuilder:Gb});Ge({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,t){var{parser:e}=r;return{type:"enclose",mode:e.mode,label:"\\fbox",body:t[0]}}});Ge({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];return{type:"enclose",mode:e.mode,label:i,body:n}},htmlBuilder:Wb,mathmlBuilder:Gb});Ge({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,t){var{parser:e}=r;return{type:"enclose",mode:e.mode,label:"\\angl",body:t[0]}}});var f8={};function jn(r){for(var{type:t,names:e,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=r,o={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},l=0;l<e.length;++l)f8[e[l]]=o;a&&(vm[t]=a),s&&(gm[t]=s)}var c8={};function j(r,t){c8[r]=t}function M2(r){var t=[];r.consumeSpaces();var e=r.fetch().text;for(e==="\\relax"&&(r.consume(),r.consumeSpaces(),e=r.fetch().text);e==="\\hline"||e==="\\hdashline";)r.consume(),t.push(e==="\\hdashline"),r.consumeSpaces(),e=r.fetch().text;return t}var sp=r=>{var t=r.parser.settings;if(!t.displayMode)throw new Re("{"+r.envName+"} can be used only in display mode.")};function Vb(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function Us(r,t,e){var{hskipBeforeAndAfter:i,addJot:n,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:f,maxNumCols:h,leqno:c}=t;if(r.gullet.beginGroup(),u||r.gullet.macros.set("\\cr","\\\\\\relax"),!s){var m=r.gullet.expandMacroAsText("\\arraystretch");if(m==null)s=1;else if(s=parseFloat(m),!s||s<0)throw new Re("Invalid \\arraystretch: "+m)}r.gullet.beginGroup();var d=[],v=[d],b=[],g=[],_=l!=null?[]:void 0;function y(){l&&r.gullet.macros.set("\\@eqnsw","1",!0)}function $(){_&&(r.gullet.macros.get("\\df@tag")?(_.push(r.subparse([new Vi("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):_.push(!!l&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(y(),g.push(M2(r));;){var I=r.parseExpression(!1,u?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),I={type:"ordgroup",mode:r.mode,body:I},e&&(I={type:"styling",mode:r.mode,style:e,body:[I]}),d.push(I);var A=r.fetch().text;if(A==="&"){if(h&&d.length===h){if(u||o)throw new Re("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(A==="\\end"){$(),d.length===1&&I.type==="styling"&&I.body[0].body.length===0&&(v.length>1||!f)&&v.pop(),g.length<v.length+1&&g.push([]);break}else if(A==="\\\\"){r.consume();var B=void 0;r.gullet.future().text!==" "&&(B=r.parseSizeGroup(!0)),b.push(B?B.value:null),$(),g.push(M2(r)),d=[],v.push(d),y()}else throw new Re("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:n,arraystretch:s,body:v,cols:a,rowGaps:b,hskipBeforeAndAfter:i,hLinesBeforeRow:g,colSeparationType:o,tags:_,leqno:c}}function Xb(r){return r.slice(0,1)==="d"?"display":"text"}var Un=function(t,e){var i,n,a=t.body.length,s=t.hLinesBeforeRow,o=0,l=new Array(a),u=[],f=Math.max(e.fontMetrics().arrayRuleWidth,e.minRuleThickness),h=1/e.fontMetrics().ptPerEm,c=5*h;if(t.colSeparationType&&t.colSeparationType==="small"){var m=e.havingStyle(rt.SCRIPT).sizeMultiplier;c=.2778*(m/e.sizeMultiplier)}var d=t.colSeparationType==="CD"?Vt({number:3,unit:"ex"},e):12*h,v=3*h,b=t.arraystretch*d,g=.7*b,_=.3*b,y=0;function $(P){for(var G=0;G<P.length;++G)G>0&&(y+=.25),u.push({pos:y,isDashed:P[G]})}for($(s[0]),i=0;i<t.body.length;++i){var I=t.body[i],A=g,B=_;o<I.length&&(o=I.length);var T=new Array(I.length);for(n=0;n<I.length;++n){var x=bt(I[n],e);B<x.depth&&(B=x.depth),A<x.height&&(A=x.height),T[n]=x}var U=t.rowGaps[i],O=0;U&&(O=Vt(U,e),O>0&&(O+=_,B<O&&(B=O),O=0)),t.addJot&&(B+=v),T.height=A,T.depth=B,y+=A,T.pos=y,y+=B+O,l[i]=T,$(s[i+1])}var F=y/2+e.fontMetrics().axisHeight,D=t.cols||[],L=[],H,Y,W=[];if(t.tags&&t.tags.some(P=>P))for(i=0;i<a;++i){var z=l[i],ne=z.pos-F,ue=t.tags[i],K=void 0;ue===!0?K=me.makeSpan(["eqn-num"],[],e):ue===!1?K=me.makeSpan([],[],e):K=me.makeSpan([],dr(ue,e,!0),e),K.depth=z.depth,K.height=z.height,W.push({type:"elem",elem:K,shift:ne})}for(n=0,Y=0;n<o||Y<D.length;++n,++Y){for(var Q=D[Y]||{},oe=!0;Q.type==="separator";){if(oe||(H=me.makeSpan(["arraycolsep"],[]),H.style.width=Le(e.fontMetrics().doubleRuleSep),L.push(H)),Q.separator==="|"||Q.separator===":"){var Ae=Q.separator==="|"?"solid":"dashed",we=me.makeSpan(["vertical-separator"],[],e);we.style.height=Le(y),we.style.borderRightWidth=Le(f),we.style.borderRightStyle=Ae,we.style.margin="0 "+Le(-f/2);var Se=y-F;Se&&(we.style.verticalAlign=Le(-Se)),L.push(we)}else throw new Re("Invalid separator type: "+Q.separator);Y++,Q=D[Y]||{},oe=!1}if(!(n>=o)){var Te=void 0;(n>0||t.hskipBeforeAndAfter)&&(Te=et.deflt(Q.pregap,c),Te!==0&&(H=me.makeSpan(["arraycolsep"],[]),H.style.width=Le(Te),L.push(H)));var Ie=[];for(i=0;i<a;++i){var ce=l[i],ge=ce[n];if(ge){var be=ce.pos-F;ge.depth=ce.depth,ge.height=ce.height,Ie.push({type:"elem",elem:ge,shift:be})}}Ie=me.makeVList({positionType:"individualShift",children:Ie},e),Ie=me.makeSpan(["col-align-"+(Q.align||"c")],[Ie]),L.push(Ie),(n<o-1||t.hskipBeforeAndAfter)&&(Te=et.deflt(Q.postgap,c),Te!==0&&(H=me.makeSpan(["arraycolsep"],[]),H.style.width=Le(Te),L.push(H)))}}if(l=me.makeSpan(["mtable"],L),u.length>0){for(var _e=me.makeLineSpan("hline",e,f),Be=me.makeLineSpan("hdashline",e,f),Fe=[{type:"elem",elem:l,shift:0}];u.length>0;){var We=u.pop(),q=We.pos-F;We.isDashed?Fe.push({type:"elem",elem:Be,shift:q}):Fe.push({type:"elem",elem:_e,shift:q})}l=me.makeVList({positionType:"individualShift",children:Fe},e)}if(W.length===0)return me.makeSpan(["mord"],[l],e);var k=me.makeVList({positionType:"individualShift",children:W},e);return k=me.makeSpan(["tag"],[k],e),me.makeFragment([l,k])},aL={c:"center ",l:"left ",r:"right "},qn=function(t,e){for(var i=[],n=new De.MathNode("mtd",[],["mtr-glue"]),a=new De.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],l=[],u=0;u<o.length;u++)l.push(new De.MathNode("mtd",[Bt(o[u],e)]));t.tags&&t.tags[s]&&(l.unshift(n),l.push(n),t.leqno?l.unshift(a):l.push(a)),i.push(new De.MathNode("mtr",l))}var f=new De.MathNode("mtable",i),h=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);f.setAttribute("rowspacing",Le(h));var c="",m="";if(t.cols&&t.cols.length>0){var d=t.cols,v="",b=!1,g=0,_=d.length;d[0].type==="separator"&&(c+="top ",g=1),d[d.length-1].type==="separator"&&(c+="bottom ",_-=1);for(var y=g;y<_;y++)d[y].type==="align"?(m+=aL[d[y].align],b&&(v+="none "),b=!0):d[y].type==="separator"&&b&&(v+=d[y].separator==="|"?"solid ":"dashed ",b=!1);f.setAttribute("columnalign",m.trim()),/[sd]/.test(v)&&f.setAttribute("columnlines",v.trim())}if(t.colSeparationType==="align"){for(var $=t.cols||[],I="",A=1;A<$.length;A++)I+=A%2?"0em ":"1em ";f.setAttribute("columnspacing",I.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var B="",T=t.hLinesBeforeRow;c+=T[0].length>0?"left ":"",c+=T[T.length-1].length>0?"right ":"";for(var x=1;x<T.length-1;x++)B+=T[x].length===0?"none ":T[x][0]?"dashed ":"solid ";return/[sd]/.test(B)&&f.setAttribute("rowlines",B.trim()),c!==""&&(f=new De.MathNode("menclose",[f]),f.setAttribute("notation",c.trim())),t.arraystretch&&t.arraystretch<1&&(f=new De.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},h8=function(t,e){t.envName.indexOf("ed")===-1&&sp(t);var i=[],n=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=Us(t.parser,{cols:i,addJot:!0,autoTag:a?void 0:Vb(t.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(e[0]&&e[0].type==="ordgroup"){for(var f="",h=0;h<e[0].body.length;h++){var c=ft(e[0].body[h],"textord");f+=c.text}o=Number(f),l=o*2}var m=!l;s.body.forEach(function(g){for(var _=1;_<g.length;_+=2){var y=ft(g[_],"styling"),$=ft(y.body[0],"ordgroup");$.body.unshift(u)}if(m)l<g.length&&(l=g.length);else{var I=g.length/2;if(o<I)throw new Re("Too many math in a row: "+("expected "+o+", but got "+I),g[0])}});for(var d=0;d<l;++d){var v="r",b=0;d%2===1?v="l":d>0&&m&&(b=1),i[d]={type:"align",align:v,pregap:b,postgap:0}}return s.colSeparationType=m?"align":"alignat",s};jn({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,t){var e=ip(t[0]),i=e?[t[0]]:ft(t[0],"ordgroup").body,n=i.map(function(s){var o=Ub(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Re("Unknown column alignment: "+l,s)}),a={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Us(r.parser,a,Xb(r.envName))},htmlBuilder:Un,mathmlBuilder:qn});jn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],e="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:e}]};if(r.envName.charAt(r.envName.length-1)==="*"){var n=r.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),e=n.fetch().text,"lcr".indexOf(e)===-1)throw new Re("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),i.cols=[{type:"align",align:e}]}}var a=Us(r.parser,i,Xb(r.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:e}),t?{type:"leftright",mode:r.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:Un,mathmlBuilder:qn});jn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var t={arraystretch:.5},e=Us(r.parser,t,"script");return e.colSeparationType="small",e},htmlBuilder:Un,mathmlBuilder:qn});jn({type:"array",names:["subarray"],props:{numArgs:1},handler(r,t){var e=ip(t[0]),i=e?[t[0]]:ft(t[0],"ordgroup").body,n=i.map(function(s){var o=Ub(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Re("Unknown column alignment: "+l,s)});if(n.length>1)throw new Re("{subarray} can contain only one column");var a={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Us(r.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Re("{subarray} can contain only one column");return a},htmlBuilder:Un,mathmlBuilder:qn});jn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},e=Us(r.parser,t,Xb(r.envName));return{type:"leftright",mode:r.mode,body:[e],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Un,mathmlBuilder:qn});jn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:h8,htmlBuilder:Un,mathmlBuilder:qn});jn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){et.contains(["gather","gather*"],r.envName)&&sp(r);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Vb(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return Us(r.parser,t,"display")},htmlBuilder:Un,mathmlBuilder:qn});jn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:h8,htmlBuilder:Un,mathmlBuilder:qn});jn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){sp(r);var t={autoTag:Vb(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return Us(r.parser,t,"display")},htmlBuilder:Un,mathmlBuilder:qn});jn({type:"array",names:["CD"],props:{numArgs:0},handler(r){return sp(r),Wz(r.parser)},htmlBuilder:Un,mathmlBuilder:qn});j("\\nonumber","\\gdef\\@eqnsw{0}");j("\\notag","\\nonumber");Ge({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,t){throw new Re(r.funcName+" valid only within array environment")}});var B2=f8;Ge({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];if(n.type!=="ordgroup")throw new Re("Invalid environment name",n);for(var a="",s=0;s<n.body.length;++s)a+=ft(n.body[s],"textord").text;if(i==="\\begin"){if(!B2.hasOwnProperty(a))throw new Re("No such environment: "+a,n);var o=B2[a],{args:l,optArgs:u}=e.parseArguments("\\begin{"+a+"}",o),f={mode:e.mode,envName:a,parser:e},h=o.handler(f,l,u);e.expect("\\end",!1);var c=e.nextToken,m=ft(e.parseFunction(),"environment");if(m.name!==a)throw new Re("Mismatch: \\begin{"+a+"} matched by \\end{"+m.name+"}",c);return h}return{type:"environment",mode:e.mode,name:a,nameGroup:n}}});var m8=(r,t)=>{var e=r.font,i=t.withFont(e);return bt(r.body,i)},p8=(r,t)=>{var e=r.font,i=t.withFont(e);return Bt(r.body,i)},F2={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ge({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=bm(t[0]),a=i;return a in F2&&(a=F2[a]),{type:"font",mode:e.mode,font:a.slice(1),body:n}},htmlBuilder:m8,mathmlBuilder:p8});Ge({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,t)=>{var{parser:e}=r,i=t[0],n=et.isCharacterBox(i);return{type:"mclass",mode:e.mode,mclass:np(i),body:[{type:"font",mode:e.mode,font:"boldsymbol",body:i}],isCharacterBox:n}}});Ge({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,t)=>{var{parser:e,funcName:i,breakOnTokenText:n}=r,{mode:a}=e,s=e.parseExpression(!0,n),o="math"+i.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:e.mode,body:s}}},htmlBuilder:m8,mathmlBuilder:p8});var d8=(r,t)=>{var e=t;return r==="display"?e=e.id>=rt.SCRIPT.id?e.text():rt.DISPLAY:r==="text"&&e.size===rt.DISPLAY.size?e=rt.TEXT:r==="script"?e=rt.SCRIPT:r==="scriptscript"&&(e=rt.SCRIPTSCRIPT),e},Kb=(r,t)=>{var e=d8(r.size,t.style),i=e.fracNum(),n=e.fracDen(),a;a=t.havingStyle(i);var s=bt(r.numer,a,t);if(r.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=t.havingStyle(n);var u=bt(r.denom,a,t),f,h,c;r.hasBarLine?(r.barSize?(h=Vt(r.barSize,t),f=me.makeLineSpan("frac-line",t,h)):f=me.makeLineSpan("frac-line",t),h=f.height,c=f.height):(f=null,h=0,c=t.fontMetrics().defaultRuleThickness);var m,d,v;e.size===rt.DISPLAY.size||r.size==="display"?(m=t.fontMetrics().num1,h>0?d=3*c:d=7*c,v=t.fontMetrics().denom1):(h>0?(m=t.fontMetrics().num2,d=c):(m=t.fontMetrics().num3,d=3*c),v=t.fontMetrics().denom2);var b;if(f){var _=t.fontMetrics().axisHeight;m-s.depth-(_+.5*h)<d&&(m+=d-(m-s.depth-(_+.5*h))),_-.5*h-(u.height-v)<d&&(v+=d-(_-.5*h-(u.height-v)));var y=-(_-.5*h);b=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:v},{type:"elem",elem:f,shift:y},{type:"elem",elem:s,shift:-m}]},t)}else{var g=m-s.depth-(u.height-v);g<d&&(m+=.5*(d-g),v+=.5*(d-g)),b=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:v},{type:"elem",elem:s,shift:-m}]},t)}a=t.havingStyle(e),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var $;e.size===rt.DISPLAY.size?$=t.fontMetrics().delim1:e.size===rt.SCRIPTSCRIPT.size?$=t.havingStyle(rt.SCRIPT).fontMetrics().delim2:$=t.fontMetrics().delim2;var I,A;return r.leftDelim==null?I=kf(t,["mopen"]):I=Zn.customSizedDelim(r.leftDelim,$,!0,t.havingStyle(e),r.mode,["mopen"]),r.continued?A=me.makeSpan([]):r.rightDelim==null?A=kf(t,["mclose"]):A=Zn.customSizedDelim(r.rightDelim,$,!0,t.havingStyle(e),r.mode,["mclose"]),me.makeSpan(["mord"].concat(a.sizingClasses(t)),[I,me.makeSpan(["mfrac"],[b]),A],t)},Yb=(r,t)=>{var e=new De.MathNode("mfrac",[Bt(r.numer,t),Bt(r.denom,t)]);if(!r.hasBarLine)e.setAttribute("linethickness","0px");else if(r.barSize){var i=Vt(r.barSize,t);e.setAttribute("linethickness",Le(i))}var n=d8(r.size,t.style);if(n.size!==t.style.size){e=new De.MathNode("mstyle",[e]);var a=n.size===rt.DISPLAY.size?"true":"false";e.setAttribute("displaystyle",a),e.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var s=[];if(r.leftDelim!=null){var o=new De.MathNode("mo",[new De.TextNode(r.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(e),r.rightDelim!=null){var l=new De.MathNode("mo",[new De.TextNode(r.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Lb(s)}return e};Ge({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0],a=t[1],s,o=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:e.mode,continued:!1,numer:n,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:Kb,mathmlBuilder:Yb});Ge({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0],a=t[1];return{type:"genfrac",mode:e.mode,continued:!0,numer:n,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ge({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:t,funcName:e,token:i}=r,n;switch(e){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:n,token:i}}});var z2=["display","text","script","scriptscript"],L2=function(t){var e=null;return t.length>0&&(e=t,e=e==="."?null:e),e};Ge({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,t){var{parser:e}=r,i=t[4],n=t[5],a=bm(t[0]),s=a.type==="atom"&&a.family==="open"?L2(a.text):null,o=bm(t[1]),l=o.type==="atom"&&o.family==="close"?L2(o.text):null,u=ft(t[2],"size"),f,h=null;u.isBlank?f=!0:(h=u.value,f=h.number>0);var c="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var d=ft(m.body[0],"textord");c=z2[Number(d.text)]}}else m=ft(m,"textord"),c=z2[Number(m.text)];return{type:"genfrac",mode:e.mode,numer:i,denom:n,continued:!1,hasBarLine:f,barSize:h,leftDelim:s,rightDelim:l,size:c}},htmlBuilder:Kb,mathmlBuilder:Yb});Ge({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,t){var{parser:e,funcName:i,token:n}=r;return{type:"infix",mode:e.mode,replaceWith:"\\\\abovefrac",size:ft(t[0],"size").value,token:n}}});Ge({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0],a=MF(ft(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:e.mode,numer:n,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Kb,mathmlBuilder:Yb});var v8=(r,t)=>{var e=t.style,i,n;r.type==="supsub"?(i=r.sup?bt(r.sup,t.havingStyle(e.sup()),t):bt(r.sub,t.havingStyle(e.sub()),t),n=ft(r.base,"horizBrace")):n=ft(r,"horizBrace");var a=bt(n.base,t.havingBaseStyle(rt.DISPLAY)),s=ma.svgSpan(n,t),o;if(n.isOver?(o=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=me.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),i){var l=me.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t);n.isOver?o=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},t):o=me.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return me.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t)},sL=(r,t)=>{var e=ma.mathMLnode(r.label);return new De.MathNode(r.isOver?"mover":"munder",[Bt(r.base,t),e])};Ge({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,t){var{parser:e,funcName:i}=r;return{type:"horizBrace",mode:e.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:v8,mathmlBuilder:sL});Ge({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[1],n=ft(t[0],"url").url;return e.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:e.mode,href:n,body:ar(i)}:e.formatUnsupportedCmd("\\href")},htmlBuilder:(r,t)=>{var e=dr(r.body,t,!1);return me.makeAnchor(r.href,[],e,t)},mathmlBuilder:(r,t)=>{var e=Ns(r.body,t);return e instanceof qi||(e=new qi("mrow",[e])),e.setAttribute("href",r.href),e}});Ge({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=ft(t[0],"url").url;if(!e.settings.isTrusted({command:"\\url",url:i}))return e.formatUnsupportedCmd("\\url");for(var n=[],a=0;a<i.length;a++){var s=i[a];s==="~"&&(s="\\textasciitilde"),n.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:e.mode,font:"\\texttt",body:n};return{type:"href",mode:e.mode,href:i,body:ar(o)}}});Ge({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,t){var{parser:e}=r;return{type:"hbox",mode:e.mode,body:ar(t[0])}},htmlBuilder(r,t){var e=dr(r.body,t,!1);return me.makeFragment(e)},mathmlBuilder(r,t){return new De.MathNode("mrow",gi(r.body,t))}});Ge({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,t)=>{var{parser:e,funcName:i,token:n}=r,a=ft(t[0],"raw").string,s=t[1];e.settings.strict&&e.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(i){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),f=0;f<u.length;f++){var h=u[f].split("=");if(h.length!==2)throw new Re("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return e.settings.isTrusted(o)?{type:"html",mode:e.mode,attributes:l,body:ar(s)}:e.formatUnsupportedCmd(i)},htmlBuilder:(r,t)=>{var e=dr(r.body,t,!1),i=["enclosing"];r.attributes.class&&i.push(...r.attributes.class.trim().split(/\s+/));var n=me.makeSpan(i,e,t);for(var a in r.attributes)a!=="class"&&r.attributes.hasOwnProperty(a)&&n.setAttribute(a,r.attributes[a]);return n},mathmlBuilder:(r,t)=>Ns(r.body,t)});Ge({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r;return{type:"htmlmathml",mode:e.mode,html:ar(t[0]),mathml:ar(t[1])}},htmlBuilder:(r,t)=>{var e=dr(r.html,t,!1);return me.makeFragment(e)},mathmlBuilder:(r,t)=>Ns(r.mathml,t)});var l0=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var e=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!e)throw new Re("Invalid size: '"+t+"' in \\includegraphics");var i={number:+(e[1]+e[2]),unit:e[3]};if(!RS(i))throw new Re("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Ge({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,t,e)=>{var{parser:i}=r,n={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(e[0])for(var l=ft(e[0],"raw").string,u=l.split(","),f=0;f<u.length;f++){var h=u[f].split("=");if(h.length===2){var c=h[1].trim();switch(h[0].trim()){case"alt":o=c;break;case"width":n=l0(c);break;case"height":a=l0(c);break;case"totalheight":s=l0(c);break;default:throw new Re("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var m=ft(t[0],"url").url;return o===""&&(o=m,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:i.mode,alt:o,width:n,height:a,totalheight:s,src:m}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,t)=>{var e=Vt(r.height,t),i=0;r.totalheight.number>0&&(i=Vt(r.totalheight,t)-e);var n=0;r.width.number>0&&(n=Vt(r.width,t));var a={height:Le(e+i)};n>0&&(a.width=Le(n)),i>0&&(a.verticalAlign=Le(-i));var s=new sz(r.src,r.alt,a);return s.height=e,s.depth=i,s},mathmlBuilder:(r,t)=>{var e=new De.MathNode("mglyph",[]);e.setAttribute("alt",r.alt);var i=Vt(r.height,t),n=0;if(r.totalheight.number>0&&(n=Vt(r.totalheight,t)-i,e.setAttribute("valign",Le(-n))),e.setAttribute("height",Le(i+n)),r.width.number>0){var a=Vt(r.width,t);e.setAttribute("width",Le(a))}return e.setAttribute("src",r.src),e}});Ge({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,t){var{parser:e,funcName:i}=r,n=ft(t[0],"size");if(e.settings.strict){var a=i[1]==="m",s=n.value.unit==="mu";a?(s||e.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+n.value.unit+" units")),e.mode!=="math"&&e.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&e.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:e.mode,dimension:n.value}},htmlBuilder(r,t){return me.makeGlue(r.dimension,t)},mathmlBuilder(r,t){var e=Vt(r.dimension,t);return new De.SpaceNode(e)}});Ge({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0];return{type:"lap",mode:e.mode,alignment:i.slice(5),body:n}},htmlBuilder:(r,t)=>{var e;r.alignment==="clap"?(e=me.makeSpan([],[bt(r.body,t)]),e=me.makeSpan(["inner"],[e],t)):e=me.makeSpan(["inner"],[bt(r.body,t)]);var i=me.makeSpan(["fix"],[]),n=me.makeSpan([r.alignment],[e,i],t),a=me.makeSpan(["strut"]);return a.style.height=Le(n.height+n.depth),n.depth&&(a.style.verticalAlign=Le(-n.depth)),n.children.unshift(a),n=me.makeSpan(["thinbox"],[n],t),me.makeSpan(["mord","vbox"],[n],t)},mathmlBuilder:(r,t)=>{var e=new De.MathNode("mpadded",[Bt(r.body,t)]);if(r.alignment!=="rlap"){var i=r.alignment==="llap"?"-1":"-0.5";e.setAttribute("lspace",i+"width")}return e.setAttribute("width","0px"),e}});Ge({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,t){var{funcName:e,parser:i}=r,n=i.mode;i.switchMode("math");var a=e==="\\("?"\\)":"$",s=i.parseExpression(!1,a);return i.expect(a),i.switchMode(n),{type:"styling",mode:i.mode,style:"text",body:s}}});Ge({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,t){throw new Re("Mismatched "+r.funcName)}});var j2=(r,t)=>{switch(t.style.size){case rt.DISPLAY.size:return r.display;case rt.TEXT.size:return r.text;case rt.SCRIPT.size:return r.script;case rt.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};Ge({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,t)=>{var{parser:e}=r;return{type:"mathchoice",mode:e.mode,display:ar(t[0]),text:ar(t[1]),script:ar(t[2]),scriptscript:ar(t[3])}},htmlBuilder:(r,t)=>{var e=j2(r,t),i=dr(e,t,!1);return me.makeFragment(i)},mathmlBuilder:(r,t)=>{var e=j2(r,t);return Ns(e,t)}});var g8=(r,t,e,i,n,a,s)=>{r=me.makeSpan([],[r]);var o=e&&et.isCharacterBox(e),l,u;if(t){var f=bt(t,i.havingStyle(n.sup()),i);u={elem:f,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-f.depth)}}if(e){var h=bt(e,i.havingStyle(n.sub()),i);l={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-h.height)}}var c;if(u&&l){var m=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+r.depth+s;c=me.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Le(-a)},{type:"kern",size:l.kern},{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Le(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var d=r.height-s;c=me.makeVList({positionType:"top",positionData:d,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Le(-a)},{type:"kern",size:l.kern},{type:"elem",elem:r}]},i)}else if(u){var v=r.depth+s;c=me.makeVList({positionType:"bottom",positionData:v,children:[{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Le(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return r;var b=[c];if(l&&a!==0&&!o){var g=me.makeSpan(["mspace"],[],i);g.style.marginRight=Le(a),b.unshift(g)}return me.makeSpan(["mop","op-limits"],b,i)},b8=["\\smallint"],cu=(r,t)=>{var e,i,n=!1,a;r.type==="supsub"?(e=r.sup,i=r.sub,a=ft(r.base,"op"),n=!0):a=ft(r,"op");var s=t.style,o=!1;s.size===rt.DISPLAY.size&&a.symbol&&!et.contains(b8,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",f="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(f=a.name.slice(1),a.name=f==="oiint"?"\\iint":"\\iiint"),l=me.makeSymbol(a.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),f.length>0){var h=l.italic,c=me.staticSvg(f+"Size"+(o?"2":"1"),t);l=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:c,shift:o?.08:0}]},t),a.name="\\"+f,l.classes.unshift("mop"),l.italic=h}}else if(a.body){var m=dr(a.body,t,!0);m.length===1&&m[0]instanceof Yi?(l=m[0],l.classes[0]="mop"):l=me.makeSpan(["mop"],m,t)}else{for(var d=[],v=1;v<a.name.length;v++)d.push(me.mathsym(a.name[v],a.mode,t));l=me.makeSpan(["mop"],d,t)}var b=0,g=0;return(l instanceof Yi||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(l.height-l.depth)/2-t.fontMetrics().axisHeight,g=l.italic),n?g8(l,e,i,t,s,g,b):(b&&(l.style.position="relative",l.style.top=Le(b)),l)},Xf=(r,t)=>{var e;if(r.symbol)e=new qi("mo",[Ji(r.name,r.mode)]),et.contains(b8,r.name)&&e.setAttribute("largeop","false");else if(r.body)e=new qi("mo",gi(r.body,t));else{e=new qi("mi",[new tf(r.name.slice(1))]);var i=new qi("mo",[Ji("⁡","text")]);r.parentIsSupSub?e=new qi("mrow",[e,i]):e=GS([e,i])}return e},oL={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ge({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=i;return n.length===1&&(n=oL[n]),{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:cu,mathmlBuilder:Xf});Ge({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ar(i)}},htmlBuilder:cu,mathmlBuilder:Xf});var lL={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ge({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:t,funcName:e}=r;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:e}},htmlBuilder:cu,mathmlBuilder:Xf});Ge({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:t,funcName:e}=r;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:e}},htmlBuilder:cu,mathmlBuilder:Xf});Ge({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(r){var{parser:t,funcName:e}=r,i=e;return i.length===1&&(i=lL[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:cu,mathmlBuilder:Xf});var y8=(r,t)=>{var e,i,n=!1,a;r.type==="supsub"?(e=r.sup,i=r.sub,a=ft(r.base,"operatorname"),n=!0):a=ft(r,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(h=>{var c=h.text;return typeof c=="string"?{type:"textord",mode:h.mode,text:c}:h}),l=dr(o,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var f=l[u];f instanceof Yi&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=me.makeSpan(["mop"],l,t)}else s=me.makeSpan(["mop"],[],t);return n?g8(s,e,i,t,t.style,0,0):s},uL=(r,t)=>{for(var e=gi(r.body,t.withFont("mathrm")),i=!0,n=0;n<e.length;n++){var a=e[n];if(!(a instanceof De.SpaceNode))if(a instanceof De.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof De.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=e.map(f=>f.toText()).join("");e=[new De.TextNode(o)]}var l=new De.MathNode("mi",e);l.setAttribute("mathvariant","normal");var u=new De.MathNode("mo",[Ji("⁡","text")]);return r.parentIsSupSub?new De.MathNode("mrow",[l,u]):De.newDocumentFragment([l,u])};Ge({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0];return{type:"operatorname",mode:e.mode,body:ar(n),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:y8,mathmlBuilder:uL});j("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Lo({type:"ordgroup",htmlBuilder(r,t){return r.semisimple?me.makeFragment(dr(r.body,t,!1)):me.makeSpan(["mord"],dr(r.body,t,!0),t)},mathmlBuilder(r,t){return Ns(r.body,t,!0)}});Ge({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,t){var{parser:e}=r,i=t[0];return{type:"overline",mode:e.mode,body:i}},htmlBuilder(r,t){var e=bt(r.body,t.havingCrampedStyle()),i=me.makeLineSpan("overline-line",t),n=t.fontMetrics().defaultRuleThickness,a=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e},{type:"kern",size:3*n},{type:"elem",elem:i},{type:"kern",size:n}]},t);return me.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(r,t){var e=new De.MathNode("mo",[new De.TextNode("‾")]);e.setAttribute("stretchy","true");var i=new De.MathNode("mover",[Bt(r.body,t),e]);return i.setAttribute("accent","true"),i}});Ge({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"phantom",mode:e.mode,body:ar(i)}},htmlBuilder:(r,t)=>{var e=dr(r.body,t.withPhantom(),!1);return me.makeFragment(e)},mathmlBuilder:(r,t)=>{var e=gi(r.body,t);return new De.MathNode("mphantom",e)}});Ge({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"hphantom",mode:e.mode,body:i}},htmlBuilder:(r,t)=>{var e=me.makeSpan([],[bt(r.body,t.withPhantom())]);if(e.height=0,e.depth=0,e.children)for(var i=0;i<e.children.length;i++)e.children[i].height=0,e.children[i].depth=0;return e=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e}]},t),me.makeSpan(["mord"],[e],t)},mathmlBuilder:(r,t)=>{var e=gi(ar(r.body),t),i=new De.MathNode("mphantom",e),n=new De.MathNode("mpadded",[i]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}});Ge({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"vphantom",mode:e.mode,body:i}},htmlBuilder:(r,t)=>{var e=me.makeSpan(["inner"],[bt(r.body,t.withPhantom())]),i=me.makeSpan(["fix"],[]);return me.makeSpan(["mord","rlap"],[e,i],t)},mathmlBuilder:(r,t)=>{var e=gi(ar(r.body),t),i=new De.MathNode("mphantom",e),n=new De.MathNode("mpadded",[i]);return n.setAttribute("width","0px"),n}});Ge({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,t){var{parser:e}=r,i=ft(t[0],"size").value,n=t[1];return{type:"raisebox",mode:e.mode,dy:i,body:n}},htmlBuilder(r,t){var e=bt(r.body,t),i=Vt(r.dy,t);return me.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:e}]},t)},mathmlBuilder(r,t){var e=new De.MathNode("mpadded",[Bt(r.body,t)]),i=r.dy.number+r.dy.unit;return e.setAttribute("voffset",i),e}});Ge({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:t}=r;return{type:"internal",mode:t.mode}}});Ge({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(r,t,e){var{parser:i}=r,n=e[0],a=ft(t[0],"size"),s=ft(t[1],"size");return{type:"rule",mode:i.mode,shift:n&&ft(n,"size").value,width:a.value,height:s.value}},htmlBuilder(r,t){var e=me.makeSpan(["mord","rule"],[],t),i=Vt(r.width,t),n=Vt(r.height,t),a=r.shift?Vt(r.shift,t):0;return e.style.borderRightWidth=Le(i),e.style.borderTopWidth=Le(n),e.style.bottom=Le(a),e.width=i,e.height=n+a,e.depth=-a,e.maxFontSize=n*1.125*t.sizeMultiplier,e},mathmlBuilder(r,t){var e=Vt(r.width,t),i=Vt(r.height,t),n=r.shift?Vt(r.shift,t):0,a=t.color&&t.getColor()||"black",s=new De.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Le(e)),s.setAttribute("height",Le(i));var o=new De.MathNode("mpadded",[s]);return n>=0?o.setAttribute("height",Le(n)):(o.setAttribute("height",Le(n)),o.setAttribute("depth",Le(-n))),o.setAttribute("voffset",Le(n)),o}});function $8(r,t,e){for(var i=dr(r,t,!1),n=t.sizeMultiplier/e.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(e)):i[a].classes[s+1]==="reset-size"+t.size&&(i[a].classes[s+1]="reset-size"+e.size),i[a].height*=n,i[a].depth*=n}return me.makeFragment(i)}var U2=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],fL=(r,t)=>{var e=t.havingSize(r.size);return $8(r.body,e,t)};Ge({type:"sizing",names:U2,props:{numArgs:0,allowedInText:!0},handler:(r,t)=>{var{breakOnTokenText:e,funcName:i,parser:n}=r,a=n.parseExpression(!1,e);return{type:"sizing",mode:n.mode,size:U2.indexOf(i)+1,body:a}},htmlBuilder:fL,mathmlBuilder:(r,t)=>{var e=t.havingSize(r.size),i=gi(r.body,e),n=new De.MathNode("mstyle",i);return n.setAttribute("mathsize",Le(e.sizeMultiplier)),n}});Ge({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,t,e)=>{var{parser:i}=r,n=!1,a=!1,s=e[0]&&ft(e[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")n=!0;else if(o==="b")a=!0;else{n=!1,a=!1;break}}else n=!0,a=!0;var f=t[0];return{type:"smash",mode:i.mode,body:f,smashHeight:n,smashDepth:a}},htmlBuilder:(r,t)=>{var e=me.makeSpan([],[bt(r.body,t)]);if(!r.smashHeight&&!r.smashDepth)return e;if(r.smashHeight&&(e.height=0,e.children))for(var i=0;i<e.children.length;i++)e.children[i].height=0;if(r.smashDepth&&(e.depth=0,e.children))for(var n=0;n<e.children.length;n++)e.children[n].depth=0;var a=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e}]},t);return me.makeSpan(["mord"],[a],t)},mathmlBuilder:(r,t)=>{var e=new De.MathNode("mpadded",[Bt(r.body,t)]);return r.smashHeight&&e.setAttribute("height","0px"),r.smashDepth&&e.setAttribute("depth","0px"),e}});Ge({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,t,e){var{parser:i}=r,n=e[0],a=t[0];return{type:"sqrt",mode:i.mode,body:a,index:n}},htmlBuilder(r,t){var e=bt(r.body,t.havingCrampedStyle());e.height===0&&(e.height=t.fontMetrics().xHeight),e=me.wrapFragment(e,t);var i=t.fontMetrics(),n=i.defaultRuleThickness,a=n;t.style.id<rt.TEXT.id&&(a=t.fontMetrics().xHeight);var s=n+a/4,o=e.height+e.depth+s+n,{span:l,ruleWidth:u,advanceWidth:f}=Zn.sqrtImage(o,t),h=l.height-u;h>e.height+e.depth+s&&(s=(s+h-e.height-e.depth)/2);var c=l.height-e.height-s-u;e.style.paddingLeft=Le(f);var m=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e,wrapperClasses:["svg-align"]},{type:"kern",size:-(e.height+c)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(r.index){var d=t.havingStyle(rt.SCRIPTSCRIPT),v=bt(r.index,d,t),b=.6*(m.height-m.depth),g=me.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:v}]},t),_=me.makeSpan(["root"],[g]);return me.makeSpan(["mord","sqrt"],[_,m],t)}else return me.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(r,t){var{body:e,index:i}=r;return i?new De.MathNode("mroot",[Bt(e,t),Bt(i,t)]):new De.MathNode("msqrt",[Bt(e,t)])}});var q2={display:rt.DISPLAY,text:rt.TEXT,script:rt.SCRIPT,scriptscript:rt.SCRIPTSCRIPT};Ge({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,t){var{breakOnTokenText:e,funcName:i,parser:n}=r,a=n.parseExpression(!0,e),s=i.slice(1,i.length-5);return{type:"styling",mode:n.mode,style:s,body:a}},htmlBuilder(r,t){var e=q2[r.style],i=t.havingStyle(e).withFont("");return $8(r.body,i,t)},mathmlBuilder(r,t){var e=q2[r.style],i=t.havingStyle(e),n=gi(r.body,i),a=new De.MathNode("mstyle",n),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[r.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var cL=function(t,e){var i=t.base;if(i)if(i.type==="op"){var n=i.limits&&(e.style.size===rt.DISPLAY.size||i.alwaysHandleSupSub);return n?cu:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(e.style.size===rt.DISPLAY.size||i.limits);return a?y8:null}else{if(i.type==="accent")return et.isCharacterBox(i.base)?qb:null;if(i.type==="horizBrace"){var s=!t.sub;return s===i.isOver?v8:null}else return null}else return null};Lo({type:"supsub",htmlBuilder(r,t){var e=cL(r,t);if(e)return e(r,t);var{base:i,sup:n,sub:a}=r,s=bt(i,t),o,l,u=t.fontMetrics(),f=0,h=0,c=i&&et.isCharacterBox(i);if(n){var m=t.havingStyle(t.style.sup());o=bt(n,m,t),c||(f=s.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(a){var d=t.havingStyle(t.style.sub());l=bt(a,d,t),c||(h=s.depth+d.fontMetrics().subDrop*d.sizeMultiplier/t.sizeMultiplier)}var v;t.style===rt.DISPLAY?v=u.sup1:t.style.cramped?v=u.sup3:v=u.sup2;var b=t.sizeMultiplier,g=Le(.5/u.ptPerEm/b),_=null;if(l){var y=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");(s instanceof Yi||y)&&(_=Le(-s.italic))}var $;if(o&&l){f=Math.max(f,v,o.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var I=u.defaultRuleThickness,A=4*I;if(f-o.depth-(l.height-h)<A){h=A-(f-o.depth)+l.height;var B=.8*u.xHeight-(f-o.depth);B>0&&(f+=B,h-=B)}var T=[{type:"elem",elem:l,shift:h,marginRight:g,marginLeft:_},{type:"elem",elem:o,shift:-f,marginRight:g}];$=me.makeVList({positionType:"individualShift",children:T},t)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var x=[{type:"elem",elem:l,marginLeft:_,marginRight:g}];$=me.makeVList({positionType:"shift",positionData:h,children:x},t)}else if(o)f=Math.max(f,v,o.depth+.25*u.xHeight),$=me.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:o,marginRight:g}]},t);else throw new Error("supsub must have either sup or sub.");var U=Jg(s,"right")||"mord";return me.makeSpan([U],[s,me.makeSpan(["msupsub"],[$])],t)},mathmlBuilder(r,t){var e=!1,i,n;r.base&&r.base.type==="horizBrace"&&(n=!!r.sup,n===r.base.isOver&&(e=!0,i=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var a=[Bt(r.base,t)];r.sub&&a.push(Bt(r.sub,t)),r.sup&&a.push(Bt(r.sup,t));var s;if(e)s=i?"mover":"munder";else if(r.sub)if(r.sup){var u=r.base;u&&u.type==="op"&&u.limits&&t.style===rt.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===rt.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=r.base;l&&l.type==="op"&&l.limits&&(t.style===rt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===rt.DISPLAY)?s="munder":s="msub"}else{var o=r.base;o&&o.type==="op"&&o.limits&&(t.style===rt.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===rt.DISPLAY)?s="mover":s="msup"}return new De.MathNode(s,a)}});Lo({type:"atom",htmlBuilder(r,t){return me.mathsym(r.text,r.mode,t,["m"+r.family])},mathmlBuilder(r,t){var e=new De.MathNode("mo",[Ji(r.text,r.mode)]);if(r.family==="bin"){var i=jb(r,t);i==="bold-italic"&&e.setAttribute("mathvariant",i)}else r.family==="punct"?e.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&e.setAttribute("stretchy","false");return e}});var _8={mi:"italic",mn:"normal",mtext:"normal"};Lo({type:"mathord",htmlBuilder(r,t){return me.makeOrd(r,t,"mathord")},mathmlBuilder(r,t){var e=new De.MathNode("mi",[Ji(r.text,r.mode,t)]),i=jb(r,t)||"italic";return i!==_8[e.type]&&e.setAttribute("mathvariant",i),e}});Lo({type:"textord",htmlBuilder(r,t){return me.makeOrd(r,t,"textord")},mathmlBuilder(r,t){var e=Ji(r.text,r.mode,t),i=jb(r,t)||"normal",n;return r.mode==="text"?n=new De.MathNode("mtext",[e]):/[0-9]/.test(r.text)?n=new De.MathNode("mn",[e]):r.text==="\\prime"?n=new De.MathNode("mo",[e]):n=new De.MathNode("mi",[e]),i!==_8[n.type]&&n.setAttribute("mathvariant",i),n}});var u0={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},f0={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Lo({type:"spacing",htmlBuilder(r,t){if(f0.hasOwnProperty(r.text)){var e=f0[r.text].className||"";if(r.mode==="text"){var i=me.makeOrd(r,t,"textord");return i.classes.push(e),i}else return me.makeSpan(["mspace",e],[me.mathsym(r.text,r.mode,t)],t)}else{if(u0.hasOwnProperty(r.text))return me.makeSpan(["mspace",u0[r.text]],[],t);throw new Re('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,t){var e;if(f0.hasOwnProperty(r.text))e=new De.MathNode("mtext",[new De.TextNode(" ")]);else{if(u0.hasOwnProperty(r.text))return new De.MathNode("mspace");throw new Re('Unknown type of space "'+r.text+'"')}return e}});var H2=()=>{var r=new De.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};Lo({type:"tag",mathmlBuilder(r,t){var e=new De.MathNode("mtable",[new De.MathNode("mtr",[H2(),new De.MathNode("mtd",[Ns(r.body,t)]),H2(),new De.MathNode("mtd",[Ns(r.tag,t)])])]);return e.setAttribute("width","100%"),e}});var W2={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},G2={"\\textbf":"textbf","\\textmd":"textmd"},hL={"\\textit":"textit","\\textup":"textup"},V2=(r,t)=>{var e=r.font;return e?W2[e]?t.withTextFontFamily(W2[e]):G2[e]?t.withTextFontWeight(G2[e]):t.withTextFontShape(hL[e]):t};Ge({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];return{type:"text",mode:e.mode,body:ar(n),font:i}},htmlBuilder(r,t){var e=V2(r,t),i=dr(r.body,e,!0);return me.makeSpan(["mord","text"],i,e)},mathmlBuilder(r,t){var e=V2(r,t);return Ns(r.body,e)}});Ge({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,t){var{parser:e}=r;return{type:"underline",mode:e.mode,body:t[0]}},htmlBuilder(r,t){var e=bt(r.body,t),i=me.makeLineSpan("underline-line",t),n=t.fontMetrics().defaultRuleThickness,a=me.makeVList({positionType:"top",positionData:e.height,children:[{type:"kern",size:n},{type:"elem",elem:i},{type:"kern",size:3*n},{type:"elem",elem:e}]},t);return me.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(r,t){var e=new De.MathNode("mo",[new De.TextNode("‾")]);e.setAttribute("stretchy","true");var i=new De.MathNode("munder",[Bt(r.body,t),e]);return i.setAttribute("accentunder","true"),i}});Ge({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,t){var{parser:e}=r;return{type:"vcenter",mode:e.mode,body:t[0]}},htmlBuilder(r,t){var e=bt(r.body,t),i=t.fontMetrics().axisHeight,n=.5*(e.height-i-(e.depth+i));return me.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:e}]},t)},mathmlBuilder(r,t){return new De.MathNode("mpadded",[Bt(r.body,t)],["vcenter"])}});Ge({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,t,e){throw new Re("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,t){for(var e=X2(r),i=[],n=t.havingStyle(t.style.text()),a=0;a<e.length;a++){var s=e[a];s==="~"&&(s="\\textasciitilde"),i.push(me.makeSymbol(s,"Typewriter-Regular",r.mode,n,["mord","texttt"]))}return me.makeSpan(["mord","text"].concat(n.sizingClasses(t)),me.tryCombineChars(i),n)},mathmlBuilder(r,t){var e=new De.TextNode(X2(r)),i=new De.MathNode("mtext",[e]);return i.setAttribute("mathvariant","monospace"),i}});var X2=r=>r.body.replace(/ /g,r.star?"␣":" "),gs=HS,w8=`[ \r
	]`,mL="\\\\[a-zA-Z@]+",pL="\\\\[^\uD800-\uDFFF]",dL="("+mL+")"+w8+"*",vL=`\\\\(
|[ \r	]+
?)[ \r	]*`,t1="[̀-ͯ]",gL=new RegExp(t1+"+$"),bL="("+w8+"+)|"+(vL+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(t1+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(t1+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+dL)+("|"+pL+")");class K2{constructor(t,e){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=e,this.tokenRegex=new RegExp(bL,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,e){this.catcodes[t]=e}lex(){var t=this.input,e=this.tokenRegex.lastIndex;if(e===t.length)return new Vi("EOF",new ki(this,e,e));var i=this.tokenRegex.exec(t);if(i===null||i.index!==e)throw new Re("Unexpected character: '"+t[e]+"'",new Vi(t[e],new ki(this,e,e+1)));var n=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[n]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Vi(n,new ki(this,e,this.tokenRegex.lastIndex))}}class yL{constructor(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=e,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Re("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var e in t)t.hasOwnProperty(e)&&(t[e]==null?delete this.current[e]:this.current[e]=t[e])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,e,i){if(i===void 0&&(i=!1),i){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=e)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}e==null?delete this.current[t]:this.current[t]=e}}var $L=c8;j("\\noexpand",function(r){var t=r.popToken();return r.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});j("\\expandafter",function(r){var t=r.popToken();return r.expandOnce(!0),{tokens:[t],numArgs:0}});j("\\@firstoftwo",function(r){var t=r.consumeArgs(2);return{tokens:t[0],numArgs:0}});j("\\@secondoftwo",function(r){var t=r.consumeArgs(2);return{tokens:t[1],numArgs:0}});j("\\@ifnextchar",function(r){var t=r.consumeArgs(3);r.consumeSpaces();var e=r.future();return t[0].length===1&&t[0][0].text===e.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});j("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");j("\\TextOrMath",function(r){var t=r.consumeArgs(2);return r.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var Y2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};j("\\char",function(r){var t=r.popToken(),e,i="";if(t.text==="'")e=8,t=r.popToken();else if(t.text==='"')e=16,t=r.popToken();else if(t.text==="`")if(t=r.popToken(),t.text[0]==="\\")i=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new Re("\\char` missing argument");i=t.text.charCodeAt(0)}else e=10;if(e){if(i=Y2[t.text],i==null||i>=e)throw new Re("Invalid base-"+e+" digit "+t.text);for(var n;(n=Y2[r.future().text])!=null&&n<e;)i*=e,i+=n,r.popToken()}return"\\@char{"+i+"}"});var Jb=(r,t,e)=>{var i=r.consumeArg().tokens;if(i.length!==1)throw new Re("\\newcommand's first argument must be a macro name");var n=i[0].text,a=r.isDefined(n);if(a&&!t)throw new Re("\\newcommand{"+n+"} attempting to redefine "+(n+"; use \\renewcommand"));if(!a&&!e)throw new Re("\\renewcommand{"+n+"} when command "+n+" does not yet exist; use \\newcommand");var s=0;if(i=r.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var o="",l=r.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=r.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Re("Invalid number of arguments: "+o);s=parseInt(o),i=r.consumeArg().tokens}return r.macros.set(n,{tokens:i,numArgs:s}),""};j("\\newcommand",r=>Jb(r,!1,!0));j("\\renewcommand",r=>Jb(r,!0,!1));j("\\providecommand",r=>Jb(r,!0,!0));j("\\message",r=>{var t=r.consumeArgs(1)[0];return console.log(t.reverse().map(e=>e.text).join("")),""});j("\\errmessage",r=>{var t=r.consumeArgs(1)[0];return console.error(t.reverse().map(e=>e.text).join("")),""});j("\\show",r=>{var t=r.popToken(),e=t.text;return console.log(t,r.macros.get(e),gs[e],jt.math[e],jt.text[e]),""});j("\\bgroup","{");j("\\egroup","}");j("~","\\nobreakspace");j("\\lq","`");j("\\rq","'");j("\\aa","\\r a");j("\\AA","\\r A");j("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");j("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");j("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");j("ℬ","\\mathscr{B}");j("ℰ","\\mathscr{E}");j("ℱ","\\mathscr{F}");j("ℋ","\\mathscr{H}");j("ℐ","\\mathscr{I}");j("ℒ","\\mathscr{L}");j("ℳ","\\mathscr{M}");j("ℛ","\\mathscr{R}");j("ℭ","\\mathfrak{C}");j("ℌ","\\mathfrak{H}");j("ℨ","\\mathfrak{Z}");j("\\Bbbk","\\Bbb{k}");j("·","\\cdotp");j("\\llap","\\mathllap{\\textrm{#1}}");j("\\rlap","\\mathrlap{\\textrm{#1}}");j("\\clap","\\mathclap{\\textrm{#1}}");j("\\mathstrut","\\vphantom{(}");j("\\underbar","\\underline{\\text{#1}}");j("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');j("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");j("\\ne","\\neq");j("≠","\\neq");j("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");j("∉","\\notin");j("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");j("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");j("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");j("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");j("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");j("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");j("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");j("⟂","\\perp");j("‼","\\mathclose{!\\mkern-0.8mu!}");j("∌","\\notni");j("⌜","\\ulcorner");j("⌝","\\urcorner");j("⌞","\\llcorner");j("⌟","\\lrcorner");j("©","\\copyright");j("®","\\textregistered");j("️","\\textregistered");j("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');j("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');j("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');j("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');j("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");j("⋮","\\vdots");j("\\varGamma","\\mathit{\\Gamma}");j("\\varDelta","\\mathit{\\Delta}");j("\\varTheta","\\mathit{\\Theta}");j("\\varLambda","\\mathit{\\Lambda}");j("\\varXi","\\mathit{\\Xi}");j("\\varPi","\\mathit{\\Pi}");j("\\varSigma","\\mathit{\\Sigma}");j("\\varUpsilon","\\mathit{\\Upsilon}");j("\\varPhi","\\mathit{\\Phi}");j("\\varPsi","\\mathit{\\Psi}");j("\\varOmega","\\mathit{\\Omega}");j("\\substack","\\begin{subarray}{c}#1\\end{subarray}");j("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");j("\\boxed","\\fbox{$\\displaystyle{#1}$}");j("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");j("\\implies","\\DOTSB\\;\\Longrightarrow\\;");j("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var J2={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};j("\\dots",function(r){var t="\\dotso",e=r.expandAfterFuture().text;return e in J2?t=J2[e]:(e.slice(0,4)==="\\not"||e in jt.math&&et.contains(["bin","rel"],jt.math[e].group))&&(t="\\dotsb"),t});var Qb={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};j("\\dotso",function(r){var t=r.future().text;return t in Qb?"\\ldots\\,":"\\ldots"});j("\\dotsc",function(r){var t=r.future().text;return t in Qb&&t!==","?"\\ldots\\,":"\\ldots"});j("\\cdots",function(r){var t=r.future().text;return t in Qb?"\\@cdots\\,":"\\@cdots"});j("\\dotsb","\\cdots");j("\\dotsm","\\cdots");j("\\dotsi","\\!\\cdots");j("\\dotsx","\\ldots\\,");j("\\DOTSI","\\relax");j("\\DOTSB","\\relax");j("\\DOTSX","\\relax");j("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");j("\\,","\\tmspace+{3mu}{.1667em}");j("\\thinspace","\\,");j("\\>","\\mskip{4mu}");j("\\:","\\tmspace+{4mu}{.2222em}");j("\\medspace","\\:");j("\\;","\\tmspace+{5mu}{.2777em}");j("\\thickspace","\\;");j("\\!","\\tmspace-{3mu}{.1667em}");j("\\negthinspace","\\!");j("\\negmedspace","\\tmspace-{4mu}{.2222em}");j("\\negthickspace","\\tmspace-{5mu}{.277em}");j("\\enspace","\\kern.5em ");j("\\enskip","\\hskip.5em\\relax");j("\\quad","\\hskip1em\\relax");j("\\qquad","\\hskip2em\\relax");j("\\tag","\\@ifstar\\tag@literal\\tag@paren");j("\\tag@paren","\\tag@literal{({#1})}");j("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new Re("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});j("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");j("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");j("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");j("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");j("\\newline","\\\\\\relax");j("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var x8=Le(Cn["Main-Regular"][84][1]-.7*Cn["Main-Regular"][65][1]);j("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+x8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");j("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+x8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");j("\\hspace","\\@ifstar\\@hspacer\\@hspace");j("\\@hspace","\\hskip #1\\relax");j("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");j("\\ordinarycolon",":");j("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");j("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');j("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');j("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');j("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');j("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');j("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');j("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');j("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');j("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');j("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');j("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');j("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');j("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');j("∷","\\dblcolon");j("∹","\\eqcolon");j("≔","\\coloneqq");j("≕","\\eqqcolon");j("⩴","\\Coloneqq");j("\\ratio","\\vcentcolon");j("\\coloncolon","\\dblcolon");j("\\colonequals","\\coloneqq");j("\\coloncolonequals","\\Coloneqq");j("\\equalscolon","\\eqqcolon");j("\\equalscoloncolon","\\Eqqcolon");j("\\colonminus","\\coloneq");j("\\coloncolonminus","\\Coloneq");j("\\minuscolon","\\eqcolon");j("\\minuscoloncolon","\\Eqcolon");j("\\coloncolonapprox","\\Colonapprox");j("\\coloncolonsim","\\Colonsim");j("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");j("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");j("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");j("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");j("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");j("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");j("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");j("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");j("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");j("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");j("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");j("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");j("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");j("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");j("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");j("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");j("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");j("\\nleqq","\\html@mathml{\\@nleqq}{≰}");j("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");j("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");j("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");j("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");j("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");j("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");j("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");j("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");j("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");j("\\imath","\\html@mathml{\\@imath}{ı}");j("\\jmath","\\html@mathml{\\@jmath}{ȷ}");j("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");j("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");j("⟦","\\llbracket");j("⟧","\\rrbracket");j("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");j("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");j("⦃","\\lBrace");j("⦄","\\rBrace");j("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");j("⦵","\\minuso");j("\\darr","\\downarrow");j("\\dArr","\\Downarrow");j("\\Darr","\\Downarrow");j("\\lang","\\langle");j("\\rang","\\rangle");j("\\uarr","\\uparrow");j("\\uArr","\\Uparrow");j("\\Uarr","\\Uparrow");j("\\N","\\mathbb{N}");j("\\R","\\mathbb{R}");j("\\Z","\\mathbb{Z}");j("\\alef","\\aleph");j("\\alefsym","\\aleph");j("\\Alpha","\\mathrm{A}");j("\\Beta","\\mathrm{B}");j("\\bull","\\bullet");j("\\Chi","\\mathrm{X}");j("\\clubs","\\clubsuit");j("\\cnums","\\mathbb{C}");j("\\Complex","\\mathbb{C}");j("\\Dagger","\\ddagger");j("\\diamonds","\\diamondsuit");j("\\empty","\\emptyset");j("\\Epsilon","\\mathrm{E}");j("\\Eta","\\mathrm{H}");j("\\exist","\\exists");j("\\harr","\\leftrightarrow");j("\\hArr","\\Leftrightarrow");j("\\Harr","\\Leftrightarrow");j("\\hearts","\\heartsuit");j("\\image","\\Im");j("\\infin","\\infty");j("\\Iota","\\mathrm{I}");j("\\isin","\\in");j("\\Kappa","\\mathrm{K}");j("\\larr","\\leftarrow");j("\\lArr","\\Leftarrow");j("\\Larr","\\Leftarrow");j("\\lrarr","\\leftrightarrow");j("\\lrArr","\\Leftrightarrow");j("\\Lrarr","\\Leftrightarrow");j("\\Mu","\\mathrm{M}");j("\\natnums","\\mathbb{N}");j("\\Nu","\\mathrm{N}");j("\\Omicron","\\mathrm{O}");j("\\plusmn","\\pm");j("\\rarr","\\rightarrow");j("\\rArr","\\Rightarrow");j("\\Rarr","\\Rightarrow");j("\\real","\\Re");j("\\reals","\\mathbb{R}");j("\\Reals","\\mathbb{R}");j("\\Rho","\\mathrm{P}");j("\\sdot","\\cdot");j("\\sect","\\S");j("\\spades","\\spadesuit");j("\\sub","\\subset");j("\\sube","\\subseteq");j("\\supe","\\supseteq");j("\\Tau","\\mathrm{T}");j("\\thetasym","\\vartheta");j("\\weierp","\\wp");j("\\Zeta","\\mathrm{Z}");j("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");j("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");j("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");j("\\bra","\\mathinner{\\langle{#1}|}");j("\\ket","\\mathinner{|{#1}\\rangle}");j("\\braket","\\mathinner{\\langle{#1}\\rangle}");j("\\Bra","\\left\\langle#1\\right|");j("\\Ket","\\left|#1\\right\\rangle");var S8=r=>t=>{var e=t.consumeArg().tokens,i=t.consumeArg().tokens,n=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var l=h=>c=>{r&&(c.macros.set("|",s),n.length&&c.macros.set("\\|",o));var m=h;if(!h&&n.length){var d=c.future();d.text==="|"&&(c.popToken(),m=!0)}return{tokens:m?n:i,numArgs:0}};t.macros.set("|",l(!1)),n.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,f=t.expandTokens([...a,...u,...e]);return t.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};j("\\bra@ket",S8(!1));j("\\bra@set",S8(!0));j("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");j("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");j("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");j("\\angln","{\\angl n}");j("\\blue","\\textcolor{##6495ed}{#1}");j("\\orange","\\textcolor{##ffa500}{#1}");j("\\pink","\\textcolor{##ff00af}{#1}");j("\\red","\\textcolor{##df0030}{#1}");j("\\green","\\textcolor{##28ae7b}{#1}");j("\\gray","\\textcolor{gray}{#1}");j("\\purple","\\textcolor{##9d38bd}{#1}");j("\\blueA","\\textcolor{##ccfaff}{#1}");j("\\blueB","\\textcolor{##80f6ff}{#1}");j("\\blueC","\\textcolor{##63d9ea}{#1}");j("\\blueD","\\textcolor{##11accd}{#1}");j("\\blueE","\\textcolor{##0c7f99}{#1}");j("\\tealA","\\textcolor{##94fff5}{#1}");j("\\tealB","\\textcolor{##26edd5}{#1}");j("\\tealC","\\textcolor{##01d1c1}{#1}");j("\\tealD","\\textcolor{##01a995}{#1}");j("\\tealE","\\textcolor{##208170}{#1}");j("\\greenA","\\textcolor{##b6ffb0}{#1}");j("\\greenB","\\textcolor{##8af281}{#1}");j("\\greenC","\\textcolor{##74cf70}{#1}");j("\\greenD","\\textcolor{##1fab54}{#1}");j("\\greenE","\\textcolor{##0d923f}{#1}");j("\\goldA","\\textcolor{##ffd0a9}{#1}");j("\\goldB","\\textcolor{##ffbb71}{#1}");j("\\goldC","\\textcolor{##ff9c39}{#1}");j("\\goldD","\\textcolor{##e07d10}{#1}");j("\\goldE","\\textcolor{##a75a05}{#1}");j("\\redA","\\textcolor{##fca9a9}{#1}");j("\\redB","\\textcolor{##ff8482}{#1}");j("\\redC","\\textcolor{##f9685d}{#1}");j("\\redD","\\textcolor{##e84d39}{#1}");j("\\redE","\\textcolor{##bc2612}{#1}");j("\\maroonA","\\textcolor{##ffbde0}{#1}");j("\\maroonB","\\textcolor{##ff92c6}{#1}");j("\\maroonC","\\textcolor{##ed5fa6}{#1}");j("\\maroonD","\\textcolor{##ca337c}{#1}");j("\\maroonE","\\textcolor{##9e034e}{#1}");j("\\purpleA","\\textcolor{##ddd7ff}{#1}");j("\\purpleB","\\textcolor{##c6b9fc}{#1}");j("\\purpleC","\\textcolor{##aa87ff}{#1}");j("\\purpleD","\\textcolor{##7854ab}{#1}");j("\\purpleE","\\textcolor{##543b78}{#1}");j("\\mintA","\\textcolor{##f5f9e8}{#1}");j("\\mintB","\\textcolor{##edf2df}{#1}");j("\\mintC","\\textcolor{##e0e5cc}{#1}");j("\\grayA","\\textcolor{##f6f7f7}{#1}");j("\\grayB","\\textcolor{##f0f1f2}{#1}");j("\\grayC","\\textcolor{##e3e5e6}{#1}");j("\\grayD","\\textcolor{##d6d8da}{#1}");j("\\grayE","\\textcolor{##babec2}{#1}");j("\\grayF","\\textcolor{##888d93}{#1}");j("\\grayG","\\textcolor{##626569}{#1}");j("\\grayH","\\textcolor{##3b3e40}{#1}");j("\\grayI","\\textcolor{##21242c}{#1}");j("\\kaBlue","\\textcolor{##314453}{#1}");j("\\kaGreen","\\textcolor{##71B307}{#1}");var E8={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class _L{constructor(t,e,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=e,this.expansionCount=0,this.feed(t),this.macros=new yL($L,e.macros),this.mode=i,this.stack=[]}feed(t){this.lexer=new K2(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var e,i,n;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;e=this.popToken(),{tokens:n,end:i}=this.consumeArg(["]"])}else({tokens:n,start:e,end:i}=this.consumeArg());return this.pushToken(new Vi("EOF",i.loc)),this.pushTokens(n),e.range(i,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var e=[],i=t&&t.length>0;i||this.consumeSpaces();var n=this.future(),a,s=0,o=0;do{if(a=this.popToken(),e.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new Re("Extra }",a)}else if(a.text==="EOF")throw new Re("Unexpected end of input in a macro argument, expected '"+(t&&i?t[o]:"}")+"'",a);if(t&&i)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){e.splice(-o,o);break}}else o=0}while(s!==0||i);return n.text==="{"&&e[e.length-1].text==="}"&&(e.pop(),e.shift()),e.reverse(),{tokens:e,start:n,end:a}}consumeArgs(t,e){if(e){if(e.length!==t+1)throw new Re("The length of delimiters doesn't match the number of args!");for(var i=e[0],n=0;n<i.length;n++){var a=this.popToken();if(i[n]!==a.text)throw new Re("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(e&&e[o+1]).tokens);return s}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new Re("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var e=this.popToken(),i=e.text,n=e.noexpand?null:this._getExpansion(i);if(n==null||t&&n.unexpandable){if(t&&n==null&&i[0]==="\\"&&!this.isDefined(i))throw new Re("Undefined control sequence: "+i);return this.pushToken(e),!1}this.countExpansion(1);var a=n.tokens,s=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new Re("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new Re("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Vi(t)]):void 0}expandTokens(t){var e=[],i=this.stack.length;for(this.pushTokens(t);this.stack.length>i;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),e.push(n)}return this.countExpansion(e.length),e}expandMacroAsText(t){var e=this.expandMacro(t);return e&&e.map(i=>i.text).join("")}_getExpansion(t){var e=this.macros.get(t);if(e==null)return e;if(t.length===1){var i=this.lexer.catcodes[t];if(i!=null&&i!==13)return}var n=typeof e=="function"?e(this):e;if(typeof n=="string"){var a=0;if(n.indexOf("#")!==-1)for(var s=n.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new K2(n,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var f={tokens:l,numArgs:a};return f}return n}isDefined(t){return this.macros.has(t)||gs.hasOwnProperty(t)||jt.math.hasOwnProperty(t)||jt.text.hasOwnProperty(t)||E8.hasOwnProperty(t)}isExpandable(t){var e=this.macros.get(t);return e!=null?typeof e=="string"||typeof e=="function"||!e.unexpandable:gs.hasOwnProperty(t)&&!gs[t].primitive}}var Q2=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,eh=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),c0={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Z2={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class op{constructor(t,e){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new _L(t,e,this.mode),this.settings=e,this.leftrightDepth=0}expect(t,e){if(e===void 0&&(e=!0),this.fetch().text!==t)throw new Re("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());e&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var e=this.nextToken;this.consume(),this.gullet.pushToken(new Vi("}")),this.gullet.pushTokens(t);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=e,i}parseExpression(t,e){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(op.endOfExpression.indexOf(n.text)!==-1||e&&n.text===e||t&&gs[n.text]&&gs[n.text].infix)break;var a=this.parseAtom(e);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(t){for(var e=-1,i,n=0;n<t.length;n++)if(t[n].type==="infix"){if(e!==-1)throw new Re("only one infix operator per group",t[n].token);e=n,i=t[n].replaceWith}if(e!==-1&&i){var a,s,o=t.slice(0,e),l=t.slice(e+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[a,t[e],s],[]):u=this.callFunction(i,[a,s],[]),[u]}else return t}handleSupSubscript(t){var e=this.fetch(),i=e.text;this.consume(),this.consumeSpaces();var n=this.parseGroup(t);if(!n)throw new Re("Expected group after '"+i+"'",e);return n}formatUnsupportedCmd(t){for(var e=[],i=0;i<t.length;i++)e.push({type:"textord",mode:"text",text:t[i]});var n={type:"text",mode:this.mode,body:e},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return a}parseAtom(t){var e=this.parseGroup("atom",t);if(this.mode==="text")return e;for(var i,n;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(e&&e.type==="op"){var s=a.text==="\\limits";e.limits=s,e.alwaysHandleSupSub=!0}else if(e&&e.type==="operatorname")e.alwaysHandleSupSub&&(e.limits=a.text==="\\limits");else throw new Re("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new Re("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(n)throw new Re("Double subscript",a);n=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new Re("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(eh[a.text]){var u=Q2.test(a.text),f=[];for(f.push(new Vi(eh[a.text])),this.consume();;){var h=this.fetch().text;if(!eh[h]||Q2.test(h)!==u)break;f.unshift(new Vi(eh[h])),this.consume()}var c=this.subparse(f);u?n={type:"ordgroup",mode:"math",body:c}:i={type:"ordgroup",mode:"math",body:c}}else break}return i||n?{type:"supsub",mode:this.mode,base:e,sup:i,sub:n}:e}parseFunction(t,e){var i=this.fetch(),n=i.text,a=gs[n];if(!a)return null;if(this.consume(),e&&e!=="atom"&&!a.allowedInArgument)throw new Re("Got function '"+n+"' with no arguments"+(e?" as "+e:""),i);if(this.mode==="text"&&!a.allowedInText)throw new Re("Can't use function '"+n+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new Re("Can't use function '"+n+"' in math mode",i);var{args:s,optArgs:o}=this.parseArguments(n,a);return this.callFunction(n,s,o,i,t)}callFunction(t,e,i,n,a){var s={funcName:t,parser:this,token:n,breakOnTokenText:a},o=gs[t];if(o&&o.handler)return o.handler(s,e,i);throw new Re("No function handler for "+t)}parseArguments(t,e){var i=e.numArgs+e.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var n=[],a=[],s=0;s<i;s++){var o=e.argTypes&&e.argTypes[s],l=s<e.numOptionalArgs;(e.primitive&&o==null||e.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,l);if(l)a.push(u);else if(u!=null)n.push(u);else throw new Re("Null argument, please report this as a bug")}return{args:n,optArgs:a}}parseGroupOfType(t,e,i){switch(e){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,e);case"hbox":{var n=this.parseArgumentGroup(i,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new Re("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new Re("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new Re("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,e){var i=this.gullet.scanArgument(e);if(i==null)return null;for(var n="",a;(a=this.fetch()).text!=="EOF";)n+=a.text,this.consume();return this.consume(),i.text=n,i}parseRegexGroup(t,e){for(var i=this.fetch(),n=i,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)n=s,a+=n.text,this.consume();if(a==="")throw new Re("Invalid "+e+": '"+i.text+"'",i);return i.range(n,a)}parseColorGroup(t){var e=this.parseStringGroup("color",t);if(e==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(e.text);if(!i)throw new Re("Invalid color: '"+e.text+"'",e);var n=i[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(t){var e,i=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?e=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):e=this.parseStringGroup("size",t),!e)return null;!t&&e.text.length===0&&(e.text="0pt",i=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e.text);if(!n)throw new Re("Invalid size: '"+e.text+"'",e);var a={number:+(n[1]+n[2]),unit:n[3]};if(!RS(a))throw new Re("Invalid unit: '"+a.unit+"'",e);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var e=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),e==null)return null;var i=e.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(t,e){var i=this.gullet.scanArgument(t);if(i==null)return null;var n=this.mode;e&&this.switchMode(e),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return e&&this.switchMode(n),s}parseGroup(t,e){var i=this.fetch(),n=i.text,a;if(n==="{"||n==="\\begingroup"){this.consume();var s=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:ki.range(i,l),body:o,semisimple:n==="\\begingroup"||void 0}}else if(a=this.parseFunction(e,t)||this.parseSymbol(),a==null&&n[0]==="\\"&&!E8.hasOwnProperty(n)){if(this.settings.throwOnError)throw new Re("Undefined control sequence: "+n,i);a=this.formatUnsupportedCmd(n),this.consume()}return a}formLigatures(t){for(var e=t.length-1,i=0;i<e;++i){var n=t[i],a=n.text;a==="-"&&t[i+1].text==="-"&&(i+1<e&&t[i+2].text==="-"?(t.splice(i,3,{type:"textord",mode:"text",loc:ki.range(n,t[i+2]),text:"---"}),e-=2):(t.splice(i,2,{type:"textord",mode:"text",loc:ki.range(n,t[i+1]),text:"--"}),e-=1)),(a==="'"||a==="`")&&t[i+1].text===a&&(t.splice(i,2,{type:"textord",mode:"text",loc:ki.range(n,t[i+1]),text:a+a}),e-=1)}}parseSymbol(){var t=this.fetch(),e=t.text;if(/^\\verb[^a-zA-Z]/.test(e)){this.consume();var i=e.slice(5),n=i.charAt(0)==="*";if(n&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new Re(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:n}}Z2.hasOwnProperty(e[0])&&!jt[this.mode][e[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+e[0]+'" used in math mode',t),e=Z2[e[0]]+e.slice(1));var a=gL.exec(e);a&&(e=e.substring(0,a.index),e==="i"?e="ı":e==="j"&&(e="ȷ"));var s;if(jt[this.mode][e]){this.settings.strict&&this.mode==="math"&&Yg.indexOf(e)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+e[0]+'" used in math mode',t);var o=jt[this.mode][e].group,l=ki.range(t),u;if(uz.hasOwnProperty(o)){var f=o;u={type:"atom",mode:this.mode,family:f,loc:l,text:e}}else u={type:o,mode:this.mode,loc:l,text:e};s=u}else if(e.charCodeAt(0)>=128)this.settings.strict&&(NS(e.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+e[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+e[0]+'"'+(" ("+e.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:ki.range(t),text:e};else return null;if(this.consume(),a)for(var h=0;h<a[0].length;h++){var c=a[0][h];if(!c0[c])throw new Re("Unknown accent ' "+c+"'",t);var m=c0[c][this.mode]||c0[c].text;if(!m)throw new Re("Accent "+c+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:ki.range(t),label:m,isStretchy:!1,isShifty:!0,base:s}}return s}}op.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Zb=function(t,e){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new op(t,e);delete i.gullet.macros.current["\\df@tag"];var n=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!e.displayMode)throw new Re("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:i.subparse([new Vi("\\df@tag")])}]}return n},k8=function(t,e,i){e.textContent="";var n=ey(t,i).toNode();e.appendChild(n)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),k8=function(){throw new Re("KaTeX doesn't work in quirks mode.")});var wL=function(t,e){var i=ey(t,e).toMarkup();return i},xL=function(t,e){var i=new Rb(e);return Zb(t,i)},T8=function(t,e,i){if(i.throwOnError||!(t instanceof Re))throw t;var n=me.makeSpan(["katex-error"],[new Yi(e)]);return n.setAttribute("title",t.toString()),n.setAttribute("style","color:"+i.errorColor),n},ey=function(t,e){var i=new Rb(e);try{var n=Zb(t,i);return Pz(n,t,i)}catch(a){return T8(a,t,i)}},SL=function(t,e){var i=new Rb(e);try{var n=Zb(t,i);return Dz(n,t,i)}catch(a){return T8(a,t,i)}},e4={version:"0.16.10",render:k8,renderToString:wL,ParseError:Re,SETTINGS_SCHEMA:Wh,__parse:xL,__renderToDomTree:ey,__renderToHTMLTree:SL,__setFontMetrics:rz,__defineSymbol:w,__defineFunction:Ge,__defineMacro:j,__domTree:{Span:Vf,Anchor:Fb,SymbolNode:Yi,SvgNode:ca,PathNode:Ds,LineNode:Kg}};const EL={"\\st":"\\text{s.t.}","\\R":"\\mathbb{R}","\\Z":"\\mathbb{Z}","\\T":"^\\intercal","\\inv":"^{-1}","\\mat":"\\mathbf{#1}","\\A":"\\mat{A}","\\B":"\\mat{B}","\\b":"\\mat{b}","\\c":"\\mat{c}","\\x":"\\mat{x}","\\y":"\\mat{y}","\\zeros":"\\mat{0}","\\ones":"\\mat{1}","\\identity":"\\mat{I}","\\P":"\\mathcal{P}","\\NP":"\\mathcal{NP}","\\floor":"\\lfloor #1 \\rfloor","\\ceil":"\\lceil #1 \\rceil","\\bpi":"\\mathbb{\\pi}","\\Q":"\\mathbf{Q}","\\indicator":"\\boldsymbol{1}","\\prob":"P\\left( #1 \\right)","\\E":"E\\left( #1 \\right)","\\Var":"\\text{Var}!\\left( #1 \\right)"};function kL(r){let t,e;return{c(){t=de("span"),e=R(r[5]),this.h()},l(i){t=ve(i,"SPAN",{class:!0});var n=He(t);e=M(n,r[5]),n.forEach(S),this.h()},h(){pe(t,"class","notRendered svelte-a0fvc5")},m(i,n){C(i,t,n),fe(t,e)},p(i,n){n&32&&js(e,i[5])},d(i){i&&S(t)}}}function TL(r){let t,e=e4.renderToString(r[5],r[0])+"",i;return{c(){t=new ba(!1),i=vt(),this.h()},l(n){t=ya(n,!1),i=vt(),this.h()},h(){t.a=i},m(n,a){t.m(e,n,a),C(n,i,a)},p(n,a){a&33&&e!==(e=e4.renderToString(n[5],n[0])+"")&&t.p(e)},d(n){n&&(S(i),t.d())}}}function OL(r){let t=!1,e=()=>{t=!1},i,n,a,s,o,l,u,f,h;As(r[19]),As(r[20]);const c=r[18].default,m=wr(c,r,r[17],null);function d(g,_){return g[9]||g[11]||g[3]?TL:kL}let v=d(r),b=v(r);return{c(){n=de("link"),a=Ee(),s=de("span"),m&&m.c(),o=Ee(),l=de("span"),b.c(),this.h()},l(g){const _=BI("svelte-1fmc3zn",document.head);n=ve(_,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),_.forEach(S),a=ke(g),s=ve(g,"SPAN",{style:!0});var y=He(s);m&&m.l(y),y.forEach(S),o=ke(g),l=ve(g,"SPAN",{style:!0,role:!0,tabindex:!0});var $=He(l);b.l($),$.forEach(S),this.h()},h(){pe(n,"rel","stylesheet"),pe(n,"href","https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"),pe(n,"integrity","sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"),pe(n,"crossorigin","anonymous"),Rt(s,"display","none"),pe(l,"style",r[10]),pe(l,"role","button"),pe(l,"tabindex","0")},m(g,_){fe(document.head,n),C(g,a,_),C(g,s,_),m&&m.m(s,null),r[21](s),C(g,o,_),C(g,l,_),b.m(l,null),r[22](l),u=!0,f||(h=[pt(window,"scroll",()=>{t=!0,clearTimeout(i),i=setTimeout(e,100),r[19]()}),pt(window,"resize",r[20]),pt(l,"mouseover",function(){Uc(r[1])&&r[1].apply(this,arguments)}),pt(l,"mouseout",function(){Uc(r[2])&&r[2].apply(this,arguments)}),pt(l,"focus",function(){Uc(r[1])&&r[1].apply(this,arguments)}),pt(l,"blur",function(){Uc(r[2])&&r[2].apply(this,arguments)})],f=!0)},p(g,[_]){r=g,_&128&&!t&&(t=!0,clearTimeout(i),scrollTo(window.pageXOffset,r[7]),i=setTimeout(e,100)),m&&m.p&&(!u||_&131072)&&xr(m,c,r,r[17],u?Er(c,r[17],_,null):Sr(r[17]),null),v===(v=d(r))&&b?b.p(r,_):(b.d(1),b=v(r),b&&(b.c(),b.m(l,null))),(!u||_&1024)&&pe(l,"style",r[10])},i(g){u||(V(m,g),u=!0)},o(g){X(m,g),u=!1},d(g){g&&(S(a),S(s),S(o),S(l)),S(n),m&&m.d(g),r[21](null),b.d(),r[22](null),f=!1,bn(h)}}}function AL(r,t,e){let i,n,a,s;yt(r,aF,O=>e(16,a=O)),yt(r,Gi,O=>e(11,s=O));let{$$slots:o={},$$scope:l}=t,{options:u}=t,{fontSize:f}=t,{refId:h=""}=t,{extraStyle:c=""}=t,{math:m=void 0}=t,{mouseOverFunction:d=void 0}=t,{mouseOutFunction:v=void 0}=t,{alwaysRender:b=!1}=t,g,_;u={...u,macros:EL};let y,$,I,A;RI(()=>{$=(y||{offsetTop:0}).offsetTop,$>0&&Math.abs($-I)<=2*A&&e(9,n=!0)});function B(){e(7,I=window.pageYOffset)}function T(){e(8,A=window.innerHeight)}function x(O){Is[O?"unshift":"push"](()=>{g=O,e(4,g)})}function U(O){Is[O?"unshift":"push"](()=>{y=O,e(6,y)})}return r.$$set=O=>{"options"in O&&e(0,u=O.options),"fontSize"in O&&e(12,f=O.fontSize),"refId"in O&&e(13,h=O.refId),"extraStyle"in O&&e(14,c=O.extraStyle),"math"in O&&e(15,m=O.math),"mouseOverFunction"in O&&e(1,d=O.mouseOverFunction),"mouseOutFunction"in O&&e(2,v=O.mouseOutFunction),"alwaysRender"in O&&e(3,b=O.alwaysRender),"$$scope"in O&&e(17,l=O.$$scope)},r.$$.update=()=>{r.$$.dirty&20480&&e(10,i=`font-size:${f}em;`+c),r.$$.dirty&32816&&(e(5,_=m||`${g==null?void 0:g.innerText}`),e(5,_=_.replaceAll("{:underscore:}","_"))),r.$$.dirty&73728&&a.includes(h)&&e(9,n=!0)},e(9,n=!1),[u,d,v,b,g,_,y,I,A,n,i,s,f,h,c,m,a,l,o,B,T,x,U]}class O8 extends Ot{constructor(t){super(),At(this,t,AL,OL,St,{options:0,fontSize:12,refId:13,extraStyle:14,math:15,mouseOverFunction:1,mouseOutFunction:2,alwaysRender:3})}}function IL(r){let t;const e=r[7].default,i=wr(e,r,r[9],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&512)&&xr(i,e,n,n[9],t?Er(e,n[9],a,null):Sr(n[9]),null)},i(n){t||(V(i,n),t=!0)},o(n){X(i,n),t=!1},d(n){i&&i.d(n)}}}function CL(r){let t,e,i,n;return i=new O8({props:{options:r[6],fontSize:r[1],extraStyle:r[2],mouseOverFunction:r[3],mouseOutFunction:r[4],alwaysRender:r[0],$$slots:{default:[IL]},$$scope:{ctx:r}}}),{c(){t=de("span"),e=Ee(),ee(i.$$.fragment)},l(a){t=ve(a,"SPAN",{}),He(t).forEach(S),e=ke(a),te(i.$$.fragment,a)},m(a,s){C(a,t,s),r[8](t),C(a,e,s),re(i,a,s),n=!0},p(a,[s]){const o={};s&2&&(o.fontSize=a[1]),s&4&&(o.extraStyle=a[2]),s&8&&(o.mouseOverFunction=a[3]),s&16&&(o.mouseOutFunction=a[4]),s&1&&(o.alwaysRender=a[0]),s&512&&(o.$$scope={dirty:s,ctx:a}),i.$set(o)},i(a){n||(V(i.$$.fragment,a),n=!0)},o(a){X(i.$$.fragment,a),n=!1},d(a){a&&(S(t),S(e)),r[8](null),ie(i,a)}}}function PL(r,t,e){let{$$slots:i={},$$scope:n}=t,{fontSize:a=.9}=t,{extraStyle:s=""}=t,{mouseOverFunction:o=void 0}=t,{mouseOutFunction:l=void 0}=t,{alwaysRender:u=!1}=t;const f={displayMode:!1,throwOnError:!1};let h;function c(m){Is[m?"unshift":"push"](()=>{h=m,e(5,h)})}return r.$$set=m=>{"fontSize"in m&&e(1,a=m.fontSize),"extraStyle"in m&&e(2,s=m.extraStyle),"mouseOverFunction"in m&&e(3,o=m.mouseOverFunction),"mouseOutFunction"in m&&e(4,l=m.mouseOutFunction),"alwaysRender"in m&&e(0,u=m.alwaysRender),"$$scope"in m&&e(9,n=m.$$scope)},r.$$.update=()=>{if(r.$$.dirty&32&&h){const m=h.parentElement||{classList:[]};e(0,u=![...m.classList].includes("bodyText"))}},[u,a,s,o,l,h,f,i,c,n]}let qe=class extends Ot{constructor(t){super(),At(this,t,PL,CL,St,{fontSize:1,extraStyle:2,mouseOverFunction:3,mouseOutFunction:4,alwaysRender:0})}};/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function lp(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var A8={exports:{}},th=function(r){return r&&r.Math===Math&&r},Ht=th(typeof globalThis=="object"&&globalThis)||th(typeof window=="object"&&window)||th(typeof self=="object"&&self)||th(typeof h0=="object"&&h0)||function(){return this}()||h0||Function("return this")(),It=function(r){try{return!!r()}catch{return!0}},DL=It,Kf=!DL(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),NL=Kf,I8=Function.prototype,t4=I8.apply,r4=I8.call,hu=typeof Reflect=="object"&&Reflect.apply||(NL?r4.bind(t4):function(){return r4.apply(t4,arguments)}),C8=Kf,P8=Function.prototype,r1=P8.call,RL=C8&&P8.bind.bind(r1,r1),Ut=C8?RL:function(r){return function(){return r1.apply(r,arguments)}},D8=Ut,ML=D8({}.toString),BL=D8("".slice),qs=function(r){return BL(ML(r),8,-1)},FL=qs,zL=Ut,N8=function(r){if(FL(r)==="Function")return zL(r)},i1=typeof document=="object"&&document.all,LL=typeof i1>"u"&&i1!==void 0,R8={all:i1,IS_HTMLDDA:LL},M8=R8,jL=M8.all,Zt=M8.IS_HTMLDDA?function(r){return typeof r=="function"||r===jL}:function(r){return typeof r=="function"},jo={},UL=It,kr=!UL(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),qL=Kf,rh=Function.prototype.call,Tr=qL?rh.bind(rh):function(){return rh.apply(rh,arguments)},up={},B8={}.propertyIsEnumerable,F8=Object.getOwnPropertyDescriptor,HL=F8&&!B8.call({1:2},1);up.f=HL?function(t){var e=F8(this,t);return!!e&&e.enumerable}:B8;var Uo=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}},WL=Ut,GL=It,VL=qs,m0=Object,XL=WL("".split),fp=GL(function(){return!m0("z").propertyIsEnumerable(0)})?function(r){return VL(r)==="String"?XL(r,""):m0(r)}:m0,mu=function(r){return r==null},KL=mu,YL=TypeError,ty=function(r){if(KL(r))throw new YL("Can't call method on "+r);return r},JL=fp,QL=ty,Hn=function(r){return JL(QL(r))},i4=Zt,z8=R8,ZL=z8.all,Ur=z8.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:i4(r)||r===ZL}:function(r){return typeof r=="object"?r!==null:i4(r)},Wt={},p0=Wt,d0=Ht,ej=Zt,n4=function(r){return ej(r)?r:void 0},ri=function(r,t){return arguments.length<2?n4(p0[r])||n4(d0[r]):p0[r]&&p0[r][t]||d0[r]&&d0[r][t]},tj=Ut,hr=tj({}.isPrototypeOf),Hs=typeof navigator<"u"&&String(navigator.userAgent)||"",L8=Ht,v0=Hs,a4=L8.process,s4=L8.Deno,o4=a4&&a4.versions||s4&&s4.version,l4=o4&&o4.v8,on,ym;l4&&(on=l4.split("."),ym=on[0]>0&&on[0]<4?1:+(on[0]+on[1]));!ym&&v0&&(on=v0.match(/Edge\/(\d+)/),(!on||on[1]>=74)&&(on=v0.match(/Chrome\/(\d+)/),on&&(ym=+on[1])));var pu=ym,u4=pu,rj=It,ij=Ht,nj=ij.String,du=!!Object.getOwnPropertySymbols&&!rj(function(){var r=Symbol("symbol detection");return!nj(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&u4&&u4<41}),aj=du,j8=aj&&!Symbol.sham&&typeof Symbol.iterator=="symbol",sj=ri,oj=Zt,lj=hr,uj=j8,fj=Object,Yf=uj?function(r){return typeof r=="symbol"}:function(r){var t=sj("Symbol");return oj(t)&&lj(t.prototype,fj(r))},cj=String,vu=function(r){try{return cj(r)}catch{return"Object"}},hj=Zt,mj=vu,pj=TypeError,bi=function(r){if(hj(r))return r;throw new pj(mj(r)+" is not a function")},dj=bi,vj=mu,ry=function(r,t){var e=r[t];return vj(e)?void 0:dj(e)},g0=Tr,b0=Zt,y0=Ur,gj=TypeError,bj=function(r,t){var e,i;if(t==="string"&&b0(e=r.toString)&&!y0(i=g0(e,r))||b0(e=r.valueOf)&&!y0(i=g0(e,r))||t!=="string"&&b0(e=r.toString)&&!y0(i=g0(e,r)))return i;throw new gj("Can't convert object to primitive value")},U8={exports:{}},yj=!0,f4=Ht,$j=Object.defineProperty,_j=function(r,t){try{$j(f4,r,{value:t,configurable:!0,writable:!0})}catch{f4[r]=t}return t},wj=Ht,xj=_j,c4="__core-js_shared__",Sj=wj[c4]||xj(c4,{}),iy=Sj,h4=iy;(U8.exports=function(r,t){return h4[r]||(h4[r]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var gu=U8.exports,Ej=ty,kj=Object,yi=function(r){return kj(Ej(r))},Tj=Ut,Oj=yi,Aj=Tj({}.hasOwnProperty),mr=Object.hasOwn||function(t,e){return Aj(Oj(t),e)},Ij=Ut,Cj=0,Pj=Math.random(),Dj=Ij(1 .toString),cp=function(r){return"Symbol("+(r===void 0?"":r)+")_"+Dj(++Cj+Pj,36)},Nj=Ht,Rj=gu,m4=mr,Mj=cp,Bj=du,Fj=j8,kl=Nj.Symbol,$0=Rj("wks"),zj=Fj?kl.for||kl:kl&&kl.withoutSetter||Mj,Xt=function(r){return m4($0,r)||($0[r]=Bj&&m4(kl,r)?kl[r]:zj("Symbol."+r)),$0[r]},Lj=Tr,p4=Ur,d4=Yf,jj=ry,Uj=bj,qj=Xt,Hj=TypeError,Wj=qj("toPrimitive"),Gj=function(r,t){if(!p4(r)||d4(r))return r;var e=jj(r,Wj),i;if(e){if(t===void 0&&(t="default"),i=Lj(e,r,t),!p4(i)||d4(i))return i;throw new Hj("Can't convert object to primitive value")}return t===void 0&&(t="number"),Uj(r,t)},Vj=Gj,Xj=Yf,hp=function(r){var t=Vj(r,"string");return Xj(t)?t:t+""},Kj=Ht,v4=Ur,n1=Kj.document,Yj=v4(n1)&&v4(n1.createElement),ny=function(r){return Yj?n1.createElement(r):{}},Jj=kr,Qj=It,Zj=ny,q8=!Jj&&!Qj(function(){return Object.defineProperty(Zj("div"),"a",{get:function(){return 7}}).a!==7}),eU=kr,tU=Tr,rU=up,iU=Uo,nU=Hn,aU=hp,sU=mr,oU=q8,g4=Object.getOwnPropertyDescriptor;jo.f=eU?g4:function(t,e){if(t=nU(t),e=aU(e),oU)try{return g4(t,e)}catch{}if(sU(t,e))return iU(!tU(rU.f,t,e),t[e])};var lU=It,uU=Zt,fU=/#|\.prototype\./,Jf=function(r,t){var e=hU[cU(r)];return e===pU?!0:e===mU?!1:uU(t)?lU(t):!!t},cU=Jf.normalize=function(r){return String(r).replace(fU,".").toLowerCase()},hU=Jf.data={},mU=Jf.NATIVE="N",pU=Jf.POLYFILL="P",H8=Jf,b4=N8,dU=bi,vU=Kf,gU=b4(b4.bind),Ws=function(r,t){return dU(r),t===void 0?r:vU?gU(r,t):function(){return r.apply(t,arguments)}},$i={},bU=kr,yU=It,W8=bU&&yU(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),$U=Ur,_U=String,wU=TypeError,Ii=function(r){if($U(r))return r;throw new wU(_U(r)+" is not an object")},xU=kr,SU=q8,EU=W8,ih=Ii,y4=hp,kU=TypeError,_0=Object.defineProperty,TU=Object.getOwnPropertyDescriptor,w0="enumerable",x0="configurable",S0="writable";$i.f=xU?EU?function(t,e,i){if(ih(t),e=y4(e),ih(i),typeof t=="function"&&e==="prototype"&&"value"in i&&S0 in i&&!i[S0]){var n=TU(t,e);n&&n[S0]&&(t[e]=i.value,i={configurable:x0 in i?i[x0]:n[x0],enumerable:w0 in i?i[w0]:n[w0],writable:!1})}return _0(t,e,i)}:_0:function(t,e,i){if(ih(t),e=y4(e),ih(i),SU)try{return _0(t,e,i)}catch{}if("get"in i||"set"in i)throw new kU("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var OU=kr,AU=$i,IU=Uo,_a=OU?function(r,t,e){return AU.f(r,t,IU(1,e))}:function(r,t,e){return r[t]=e,r},nh=Ht,CU=hu,PU=N8,DU=Zt,NU=jo.f,RU=H8,hl=Wt,MU=Ws,ml=_a,$4=mr,BU=function(r){var t=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,i)}return new r(e,i,n)}return CU(r,this,arguments)};return t.prototype=r.prototype,t},it=function(r,t){var e=r.target,i=r.global,n=r.stat,a=r.proto,s=i?nh:n?nh[e]:(nh[e]||{}).prototype,o=i?hl:hl[e]||ml(hl,e,{})[e],l=o.prototype,u,f,h,c,m,d,v,b,g;for(c in t)u=RU(i?c:e+(n?".":"#")+c,r.forced),f=!u&&s&&$4(s,c),d=o[c],f&&(r.dontCallGetSet?(g=NU(s,c),v=g&&g.value):v=s[c]),m=f&&v?v:t[c],!(f&&typeof d==typeof m)&&(r.bind&&f?b=MU(m,nh):r.wrap&&f?b=BU(m):a&&DU(m)?b=PU(m):b=m,(r.sham||m&&m.sham||d&&d.sham)&&ml(b,"sham",!0),ml(o,c,b),a&&(h=e+"Prototype",$4(hl,h)||ml(hl,h,{}),ml(hl[h],c,m),r.real&&l&&(u||!l[c])&&ml(l,c,m)))},FU=it,zU=kr,_4=$i.f;FU({target:"Object",stat:!0,forced:Object.defineProperty!==_4,sham:!zU},{defineProperty:_4});var LU=Wt,G8=LU.Object,jU=A8.exports=function(t,e,i){return G8.defineProperty(t,e,i)};G8.defineProperty.sham&&(jU.sham=!0);var UU=A8.exports,qU=UU,V8=qU,HU=V8,WU=HU,GU=WU,VU=GU,X8=VU,mp=st(X8),XU=qs,Gs=Array.isArray||function(t){return XU(t)==="Array"},KU=Math.ceil,YU=Math.floor,JU=Math.trunc||function(t){var e=+t;return(e>0?YU:KU)(e)},QU=JU,pp=function(r){var t=+r;return t!==t||t===0?0:QU(t)},ZU=pp,eq=Math.min,tq=function(r){return r>0?eq(ZU(r),9007199254740991):0},rq=tq,Ci=function(r){return rq(r.length)},iq=TypeError,nq=9007199254740991,dp=function(r){if(r>nq)throw iq("Maximum allowed index exceeded");return r},aq=hp,sq=$i,oq=Uo,bu=function(r,t,e){var i=aq(t);i in r?sq.f(r,i,oq(0,e)):r[i]=e},lq=Xt,uq=lq("toStringTag"),K8={};K8[uq]="z";var ay=String(K8)==="[object z]",fq=ay,cq=Zt,Vh=qs,hq=Xt,mq=hq("toStringTag"),pq=Object,dq=Vh(function(){return arguments}())==="Arguments",vq=function(r,t){try{return r[t]}catch{}},wa=fq?Vh:function(r){var t,e,i;return r===void 0?"Undefined":r===null?"Null":typeof(e=vq(t=pq(r),mq))=="string"?e:dq?Vh(t):(i=Vh(t))==="Object"&&cq(t.callee)?"Arguments":i},gq=Ut,bq=Zt,a1=iy,yq=gq(Function.toString);bq(a1.inspectSource)||(a1.inspectSource=function(r){return yq(r)});var Y8=a1.inspectSource,$q=Ut,_q=It,J8=Zt,wq=wa,xq=ri,Sq=Y8,Q8=function(){},Eq=[],Z8=xq("Reflect","construct"),sy=/^\s*(?:class|function)\b/,kq=$q(sy.exec),Tq=!sy.test(Q8),qu=function(t){if(!J8(t))return!1;try{return Z8(Q8,Eq,t),!0}catch{return!1}},eE=function(t){if(!J8(t))return!1;switch(wq(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Tq||!!kq(sy,Sq(t))}catch{return!0}};eE.sham=!0;var vp=!Z8||_q(function(){var r;return qu(qu.call)||!qu(Object)||!qu(function(){r=!0})||r})?eE:qu,w4=Gs,Oq=vp,Aq=Ur,Iq=Xt,Cq=Iq("species"),x4=Array,Pq=function(r){var t;return w4(r)&&(t=r.constructor,Oq(t)&&(t===x4||w4(t.prototype))?t=void 0:Aq(t)&&(t=t[Cq],t===null&&(t=void 0))),t===void 0?x4:t},Dq=Pq,gp=function(r,t){return new(Dq(r))(t===0?0:t)},Nq=It,Rq=Xt,Mq=pu,Bq=Rq("species"),Qf=function(r){return Mq>=51||!Nq(function(){var t=[],e=t.constructor={};return e[Bq]=function(){return{foo:1}},t[r](Boolean).foo!==1})},Fq=it,zq=It,Lq=Gs,jq=Ur,Uq=yi,qq=Ci,S4=dp,E4=bu,Hq=gp,Wq=Qf,Gq=Xt,Vq=pu,tE=Gq("isConcatSpreadable"),Xq=Vq>=51||!zq(function(){var r=[];return r[tE]=!1,r.concat()[0]!==r}),Kq=function(r){if(!jq(r))return!1;var t=r[tE];return t!==void 0?!!t:Lq(r)},Yq=!Xq||!Wq("concat");Fq({target:"Array",proto:!0,arity:1,forced:Yq},{concat:function(t){var e=Uq(this),i=Hq(e,0),n=0,a,s,o,l,u;for(a=-1,o=arguments.length;a<o;a++)if(u=a===-1?e:arguments[a],Kq(u))for(l=qq(u),S4(n+l),s=0;s<l;s++,n++)s in u&&E4(i,n,u[s]);else S4(n+1),E4(i,n++,u);return i.length=n,i}});var Jq=wa,Qq=String,qo=function(r){if(Jq(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Qq(r)},bp={},Zq=pp,eH=Math.max,tH=Math.min,yp=function(r,t){var e=Zq(r);return e<0?eH(e+t,0):tH(e,t)},rH=Hn,iH=yp,nH=Ci,k4=function(r){return function(t,e,i){var n=rH(t),a=nH(n),s=iH(i,a),o;if(r&&e!==e){for(;a>s;)if(o=n[s++],o!==o)return!0}else for(;a>s;s++)if((r||s in n)&&n[s]===e)return r||s||0;return!r&&-1}},aH={includes:k4(!0),indexOf:k4(!1)},Zf={},sH=Ut,E0=mr,oH=Hn,lH=aH.indexOf,uH=Zf,T4=sH([].push),rE=function(r,t){var e=oH(r),i=0,n=[],a;for(a in e)!E0(uH,a)&&E0(e,a)&&T4(n,a);for(;t.length>i;)E0(e,a=t[i++])&&(~lH(n,a)||T4(n,a));return n},oy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fH=rE,cH=oy,$p=Object.keys||function(t){return fH(t,cH)},hH=kr,mH=W8,pH=$i,dH=Ii,vH=Hn,gH=$p;bp.f=hH&&!mH?Object.defineProperties:function(t,e){dH(t);for(var i=vH(e),n=gH(e),a=n.length,s=0,o;a>s;)pH.f(t,o=n[s++],i[o]);return t};var bH=ri,iE=bH("document","documentElement"),yH=gu,$H=cp,O4=yH("keys"),_p=function(r){return O4[r]||(O4[r]=$H(r))},_H=Ii,wH=bp,A4=oy,xH=Zf,SH=iE,EH=ny,kH=_p,I4=">",C4="<",s1="prototype",o1="script",nE=kH("IE_PROTO"),k0=function(){},aE=function(r){return C4+o1+I4+r+C4+"/"+o1+I4},P4=function(r){r.write(aE("")),r.close();var t=r.parentWindow.Object;return r=null,t},TH=function(){var r=EH("iframe"),t="java"+o1+":",e;return r.style.display="none",SH.appendChild(r),r.src=String(t),e=r.contentWindow.document,e.open(),e.write(aE("document.F=Object")),e.close(),e.F},ah,Xh=function(){try{ah=new ActiveXObject("htmlfile")}catch{}Xh=typeof document<"u"?document.domain&&ah?P4(ah):TH():P4(ah);for(var r=A4.length;r--;)delete Xh[s1][A4[r]];return Xh()};xH[nE]=!0;var Ho=Object.create||function(t,e){var i;return t!==null?(k0[s1]=_H(t),i=new k0,k0[s1]=null,i[nE]=t):i=Xh(),e===void 0?i:wH.f(i,e)},ec={},OH=rE,AH=oy,IH=AH.concat("length","prototype");ec.f=Object.getOwnPropertyNames||function(t){return OH(t,IH)};var ly={},D4=yp,CH=Ci,PH=bu,DH=Array,NH=Math.max,sE=function(r,t,e){for(var i=CH(r),n=D4(t,i),a=D4(e===void 0?i:e,i),s=DH(NH(a-n,0)),o=0;n<a;n++,o++)PH(s,o,r[n]);return s.length=o,s},RH=qs,MH=Hn,oE=ec.f,BH=sE,lE=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],FH=function(r){try{return oE(r)}catch{return BH(lE)}};ly.f=function(t){return lE&&RH(t)==="Window"?FH(t):oE(MH(t))};var tc={};tc.f=Object.getOwnPropertySymbols;var zH=_a,yu=function(r,t,e,i){return i&&i.enumerable?r[t]=e:zH(r,t,e),r},LH=$i,uy=function(r,t,e){return LH.f(r,t,e)},rc={},jH=Xt;rc.f=jH;var N4=Wt,UH=mr,qH=rc,HH=$i.f,er=function(r){var t=N4.Symbol||(N4.Symbol={});UH(t,r)||HH(t,r,{value:qH.f(r)})},WH=Tr,GH=ri,VH=Xt,XH=yu,uE=function(){var r=GH("Symbol"),t=r&&r.prototype,e=t&&t.valueOf,i=VH("toPrimitive");t&&!t[i]&&XH(t,i,function(n){return WH(e,this)},{arity:1})},KH=ay,YH=wa,JH=KH?{}.toString:function(){return"[object "+YH(this)+"]"},QH=ay,ZH=$i.f,eW=_a,tW=mr,rW=JH,iW=Xt,R4=iW("toStringTag"),Wo=function(r,t,e,i){if(r){var n=e?r:r.prototype;tW(n,R4)||ZH(n,R4,{configurable:!0,value:t}),i&&!QH&&eW(n,"toString",rW)}},nW=Ht,aW=Zt,M4=nW.WeakMap,sW=aW(M4)&&/native code/.test(String(M4)),oW=sW,fE=Ht,lW=Ur,uW=_a,T0=mr,O0=iy,fW=_p,cW=Zf,B4="Object already initialized",l1=fE.TypeError,hW=fE.WeakMap,$m,Tf,_m,mW=function(r){return _m(r)?Tf(r):$m(r,{})},pW=function(r){return function(t){var e;if(!lW(t)||(e=Tf(t)).type!==r)throw new l1("Incompatible receiver, "+r+" required");return e}};if(oW||O0.state){var Sn=O0.state||(O0.state=new hW);Sn.get=Sn.get,Sn.has=Sn.has,Sn.set=Sn.set,$m=function(r,t){if(Sn.has(r))throw new l1(B4);return t.facade=r,Sn.set(r,t),t},Tf=function(r){return Sn.get(r)||{}},_m=function(r){return Sn.has(r)}}else{var pl=fW("state");cW[pl]=!0,$m=function(r,t){if(T0(r,pl))throw new l1(B4);return t.facade=r,uW(r,pl,t),t},Tf=function(r){return T0(r,pl)?r[pl]:{}},_m=function(r){return T0(r,pl)}}var $u={set:$m,get:Tf,has:_m,enforce:mW,getterFor:pW},dW=Ws,vW=Ut,gW=fp,bW=yi,yW=Ci,$W=gp,F4=vW([].push),ls=function(r){var t=r===1,e=r===2,i=r===3,n=r===4,a=r===6,s=r===7,o=r===5||a;return function(l,u,f,h){for(var c=bW(l),m=gW(c),d=dW(u,f),v=yW(m),b=0,g=h||$W,_=t?g(l,v):e||s?g(l,0):void 0,y,$;v>b;b++)if((o||b in m)&&(y=m[b],$=d(y,b,c),r))if(t)_[b]=$;else if($)switch(r){case 3:return!0;case 5:return y;case 6:return b;case 2:F4(_,y)}else switch(r){case 4:return!1;case 7:F4(_,y)}return a?-1:i||n?n:_}},_u={forEach:ls(0),map:ls(1),filter:ls(2),some:ls(3),every:ls(4),find:ls(5),findIndex:ls(6),filterReject:ls(7)},wp=it,ic=Ht,fy=Tr,_W=Ut,Kl=kr,Yl=du,wW=It,$r=mr,xW=hr,u1=Ii,xp=Hn,cy=hp,SW=qo,f1=Uo,Of=Ho,cE=$p,EW=ec,hE=ly,kW=tc,mE=jo,pE=$i,TW=bp,dE=up,z4=yu,OW=uy,hy=gu,AW=_p,vE=Zf,L4=cp,IW=Xt,CW=rc,PW=er,DW=uE,NW=Wo,gE=$u,Sp=_u.forEach,ci=AW("hidden"),Ep="Symbol",Af="prototype",RW=gE.set,j4=gE.getterFor(Ep),mn=Object[Af],mo=ic.Symbol,Ju=mo&&mo[Af],MW=ic.RangeError,BW=ic.TypeError,A0=ic.QObject,bE=mE.f,po=pE.f,yE=hE.f,FW=dE.f,$E=_W([].push),pa=hy("symbols"),nc=hy("op-symbols"),zW=hy("wks"),c1=!A0||!A0[Af]||!A0[Af].findChild,_E=function(r,t,e){var i=bE(mn,t);i&&delete mn[t],po(r,t,e),i&&r!==mn&&po(mn,t,i)},h1=Kl&&wW(function(){return Of(po({},"a",{get:function(){return po(this,"a",{value:7}).a}})).a!==7})?_E:po,I0=function(r,t){var e=pa[r]=Of(Ju);return RW(e,{type:Ep,tag:r,description:t}),Kl||(e.description=t),e},kp=function(t,e,i){t===mn&&kp(nc,e,i),u1(t);var n=cy(e);return u1(i),$r(pa,n)?(i.enumerable?($r(t,ci)&&t[ci][n]&&(t[ci][n]=!1),i=Of(i,{enumerable:f1(0,!1)})):($r(t,ci)||po(t,ci,f1(1,{})),t[ci][n]=!0),h1(t,n,i)):po(t,n,i)},my=function(t,e){u1(t);var i=xp(e),n=cE(i).concat(EE(i));return Sp(n,function(a){(!Kl||fy(wE,i,a))&&kp(t,a,i[a])}),t},LW=function(t,e){return e===void 0?Of(t):my(Of(t),e)},wE=function(t){var e=cy(t),i=fy(FW,this,e);return this===mn&&$r(pa,e)&&!$r(nc,e)?!1:i||!$r(this,e)||!$r(pa,e)||$r(this,ci)&&this[ci][e]?i:!0},xE=function(t,e){var i=xp(t),n=cy(e);if(!(i===mn&&$r(pa,n)&&!$r(nc,n))){var a=bE(i,n);return a&&$r(pa,n)&&!($r(i,ci)&&i[ci][n])&&(a.enumerable=!0),a}},SE=function(t){var e=yE(xp(t)),i=[];return Sp(e,function(n){!$r(pa,n)&&!$r(vE,n)&&$E(i,n)}),i},EE=function(r){var t=r===mn,e=yE(t?nc:xp(r)),i=[];return Sp(e,function(n){$r(pa,n)&&(!t||$r(mn,n))&&$E(i,pa[n])}),i};Yl||(mo=function(){if(xW(Ju,this))throw new BW("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:SW(arguments[0]),e=L4(t),i=function(n){var a=this===void 0?ic:this;a===mn&&fy(i,nc,n),$r(a,ci)&&$r(a[ci],e)&&(a[ci][e]=!1);var s=f1(1,n);try{h1(a,e,s)}catch(o){if(!(o instanceof MW))throw o;_E(a,e,s)}};return Kl&&c1&&h1(mn,e,{configurable:!0,set:i}),I0(e,t)},Ju=mo[Af],z4(Ju,"toString",function(){return j4(this).tag}),z4(mo,"withoutSetter",function(r){return I0(L4(r),r)}),dE.f=wE,pE.f=kp,TW.f=my,mE.f=xE,EW.f=hE.f=SE,kW.f=EE,CW.f=function(r){return I0(IW(r),r)},Kl&&OW(Ju,"description",{configurable:!0,get:function(){return j4(this).description}}));wp({global:!0,constructor:!0,wrap:!0,forced:!Yl,sham:!Yl},{Symbol:mo});Sp(cE(zW),function(r){PW(r)});wp({target:Ep,stat:!0,forced:!Yl},{useSetter:function(){c1=!0},useSimple:function(){c1=!1}});wp({target:"Object",stat:!0,forced:!Yl,sham:!Kl},{create:LW,defineProperty:kp,defineProperties:my,getOwnPropertyDescriptor:xE});wp({target:"Object",stat:!0,forced:!Yl},{getOwnPropertyNames:SE});DW();NW(mo,Ep);vE[ci]=!0;var jW=du,kE=jW&&!!Symbol.for&&!!Symbol.keyFor,UW=it,qW=ri,HW=mr,WW=qo,TE=gu,GW=kE,C0=TE("string-to-symbol-registry"),VW=TE("symbol-to-string-registry");UW({target:"Symbol",stat:!0,forced:!GW},{for:function(r){var t=WW(r);if(HW(C0,t))return C0[t];var e=qW("Symbol")(t);return C0[t]=e,VW[e]=t,e}});var XW=it,KW=mr,YW=Yf,JW=vu,QW=gu,ZW=kE,U4=QW("symbol-to-string-registry");XW({target:"Symbol",stat:!0,forced:!ZW},{keyFor:function(t){if(!YW(t))throw new TypeError(JW(t)+" is not a symbol");if(KW(U4,t))return U4[t]}});var eG=Ut,ac=eG([].slice),tG=Ut,q4=Gs,rG=Zt,H4=qs,iG=qo,W4=tG([].push),nG=function(r){if(rG(r))return r;if(q4(r)){for(var t=r.length,e=[],i=0;i<t;i++){var n=r[i];typeof n=="string"?W4(e,n):(typeof n=="number"||H4(n)==="Number"||H4(n)==="String")&&W4(e,iG(n))}var a=e.length,s=!0;return function(o,l){if(s)return s=!1,l;if(q4(this))return l;for(var u=0;u<a;u++)if(e[u]===o)return l}}},aG=it,OE=ri,AE=hu,sG=Tr,sc=Ut,IE=It,G4=Zt,V4=Yf,CE=ac,oG=nG,lG=du,uG=String,ws=OE("JSON","stringify"),sh=sc(/./.exec),X4=sc("".charAt),fG=sc("".charCodeAt),cG=sc("".replace),hG=sc(1 .toString),mG=/[\uD800-\uDFFF]/g,K4=/^[\uD800-\uDBFF]$/,Y4=/^[\uDC00-\uDFFF]$/,J4=!lG||IE(function(){var r=OE("Symbol")("stringify detection");return ws([r])!=="[null]"||ws({a:r})!=="{}"||ws(Object(r))!=="{}"}),Q4=IE(function(){return ws("\uDF06\uD834")!=='"\\udf06\\ud834"'||ws("\uDEAD")!=='"\\udead"'}),pG=function(r,t){var e=CE(arguments),i=oG(t);if(!(!G4(i)&&(r===void 0||V4(r))))return e[1]=function(n,a){if(G4(i)&&(a=sG(i,this,uG(n),a)),!V4(a))return a},AE(ws,null,e)},dG=function(r,t,e){var i=X4(e,t-1),n=X4(e,t+1);return sh(K4,r)&&!sh(Y4,n)||sh(Y4,r)&&!sh(K4,i)?"\\u"+hG(fG(r,0),16):r};ws&&aG({target:"JSON",stat:!0,arity:3,forced:J4||Q4},{stringify:function(t,e,i){var n=CE(arguments),a=AE(J4?pG:ws,null,n);return Q4&&typeof a=="string"?cG(a,mG,dG):a}});var vG=it,gG=du,bG=It,PE=tc,yG=yi,$G=!gG||bG(function(){PE.f(1)});vG({target:"Object",stat:!0,forced:$G},{getOwnPropertySymbols:function(t){var e=PE.f;return e?e(yG(t)):[]}});var _G=er;_G("asyncIterator");var wG=er;wG("hasInstance");var xG=er;xG("isConcatSpreadable");var SG=er;SG("iterator");var EG=er;EG("match");var kG=er;kG("matchAll");var TG=er;TG("replace");var OG=er;OG("search");var AG=er;AG("species");var IG=er;IG("split");var CG=er,PG=uE;CG("toPrimitive");PG();var DG=ri,NG=er,RG=Wo;NG("toStringTag");RG(DG("Symbol"),"Symbol");var MG=er;MG("unscopables");var BG=Ht,FG=Wo;FG(BG.JSON,"JSON",!0);var zG=Wt,LG=zG.Symbol,wu={},m1=kr,jG=mr,DE=Function.prototype,UG=m1&&Object.getOwnPropertyDescriptor,py=jG(DE,"name"),qG=py&&(function(){}).name==="something",HG=py&&(!m1||m1&&UG(DE,"name").configurable),WG={EXISTS:py,PROPER:qG,CONFIGURABLE:HG},GG=It,NE=!GG(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),VG=mr,XG=Zt,KG=yi,YG=_p,JG=NE,Z4=YG("IE_PROTO"),p1=Object,QG=p1.prototype,Tp=JG?p1.getPrototypeOf:function(r){var t=KG(r);if(VG(t,Z4))return t[Z4];var e=t.constructor;return XG(e)&&t instanceof e?e.prototype:t instanceof p1?QG:null},ZG=It,eV=Zt,tV=Ur,rV=Ho,ew=Tp,iV=yu,nV=Xt,d1=nV("iterator"),RE=!1,ea,P0,D0;[].keys&&(D0=[].keys(),"next"in D0?(P0=ew(ew(D0)),P0!==Object.prototype&&(ea=P0)):RE=!0);var aV=!tV(ea)||ZG(function(){var r={};return ea[d1].call(r)!==r});aV?ea={}:ea=rV(ea);eV(ea[d1])||iV(ea,d1,function(){return this});var ME={IteratorPrototype:ea,BUGGY_SAFARI_ITERATORS:RE},sV=ME.IteratorPrototype,oV=Ho,lV=Uo,uV=Wo,fV=wu,cV=function(){return this},hV=function(r,t,e,i){var n=t+" Iterator";return r.prototype=oV(sV,{next:lV(+!i,e)}),uV(r,n,!1,!0),fV[n]=cV,r},mV=Ut,pV=bi,dV=function(r,t,e){try{return mV(pV(Object.getOwnPropertyDescriptor(r,t)[e]))}catch{}},vV=Zt,gV=String,bV=TypeError,yV=function(r){if(typeof r=="object"||vV(r))return r;throw new bV("Can't set "+gV(r)+" as a prototype")},$V=dV,_V=Ii,wV=yV,BE=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,t={},e;try{e=$V(Object.prototype,"__proto__","set"),e(t,[]),r=t instanceof Array}catch{}return function(n,a){return _V(n),wV(a),r?e(n,a):n.__proto__=a,n}}():void 0),xV=it,SV=Tr,EV=WG,kV=hV,TV=Tp,OV=Wo,tw=yu,AV=Xt,rw=wu,IV=ME,CV=EV.PROPER,oh=IV.BUGGY_SAFARI_ITERATORS,N0=AV("iterator"),iw="keys",lh="values",nw="entries",PV=function(){return this},dy=function(r,t,e,i,n,a,s){kV(e,t,i);var o=function(g){if(g===n&&c)return c;if(!oh&&g&&g in f)return f[g];switch(g){case iw:return function(){return new e(this,g)};case lh:return function(){return new e(this,g)};case nw:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,f=r.prototype,h=f[N0]||f["@@iterator"]||n&&f[n],c=!oh&&h||o(n),m=t==="Array"&&f.entries||h,d,v,b;if(m&&(d=TV(m.call(new r)),d!==Object.prototype&&d.next&&(OV(d,l,!0,!0),rw[l]=PV)),CV&&n===lh&&h&&h.name!==lh&&(u=!0,c=function(){return SV(h,this)}),n)if(v={values:o(lh),keys:a?c:o(iw),entries:o(nw)},s)for(b in v)(oh||u||!(b in f))&&tw(f,b,v[b]);else xV({target:t,proto:!0,forced:oh||u},v);return s&&f[N0]!==c&&tw(f,N0,c,{name:n}),rw[t]=c,v},vy=function(r,t){return{value:r,done:t}},DV=Hn,aw=wu,FE=$u;$i.f;var NV=dy,uh=vy,zE="Array Iterator",RV=FE.set,MV=FE.getterFor(zE);NV(Array,"Array",function(r,t){RV(this,{type:zE,target:DV(r),index:0,kind:t})},function(){var r=MV(this),t=r.target,e=r.index++;if(!t||e>=t.length)return r.target=void 0,uh(void 0,!0);switch(r.kind){case"keys":return uh(e,!1);case"values":return uh(t[e],!1)}return uh([e,t[e]],!1)},"values");aw.Arguments=aw.Array;var BV={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},FV=BV,zV=Ht,LV=wa,jV=_a,sw=wu,UV=Xt,ow=UV("toStringTag");for(var R0 in FV){var lw=zV[R0],M0=lw&&lw.prototype;M0&&LV(M0)!==ow&&jV(M0,ow,R0),sw[R0]=sw.Array}var qV=LG,LE=qV,HV=Xt,WV=$i.f,uw=HV("metadata"),fw=Function.prototype;fw[uw]===void 0&&WV(fw,uw,{value:null});var GV=er;GV("asyncDispose");var VV=er;VV("dispose");var XV=er;XV("metadata");var KV=LE,YV=KV,JV=ri,QV=Ut,gy=JV("Symbol"),ZV=gy.keyFor,eX=QV(gy.prototype.valueOf),jE=gy.isRegisteredSymbol||function(t){try{return ZV(eX(t))!==void 0}catch{return!1}},tX=it,rX=jE;tX({target:"Symbol",stat:!0},{isRegisteredSymbol:rX});var iX=gu,UE=ri,nX=Ut,aX=Yf,sX=Xt,wm=UE("Symbol"),cw=wm.isWellKnownSymbol,qE=UE("Object","getOwnPropertyNames"),oX=nX(wm.prototype.valueOf),hw=iX("wks");for(var B0=0,mw=qE(wm),lX=mw.length;B0<lX;B0++)try{var pw=mw[B0];aX(wm[pw])&&sX(pw)}catch{}var HE=function(t){if(cw&&cw(t))return!0;try{for(var e=oX(t),i=0,n=qE(hw),a=n.length;i<a;i++)if(hw[n[i]]==e)return!0}catch{}return!1},uX=it,fX=HE;uX({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:fX});var cX=er;cX("matcher");var hX=er;hX("observable");var mX=it,pX=jE;mX({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:pX});var dX=it,vX=HE;dX({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:vX});var gX=er;gX("metadataKey");var bX=er;bX("patternMatch");var yX=er;yX("replaceAll");var $X=YV,_X=$X,by=_X,Tl=st(by),yy=Ut,wX=pp,xX=qo,SX=ty,EX=yy("".charAt),dw=yy("".charCodeAt),kX=yy("".slice),vw=function(r){return function(t,e){var i=xX(SX(t)),n=wX(e),a=i.length,s,o;return n<0||n>=a?r?"":void 0:(s=dw(i,n),s<55296||s>56319||n+1===a||(o=dw(i,n+1))<56320||o>57343?r?EX(i,n):s:r?kX(i,n,n+2):(s-55296<<10)+(o-56320)+65536)}},TX={codeAt:vw(!1),charAt:vw(!0)},OX=TX.charAt,AX=qo,WE=$u,IX=dy,gw=vy,GE="String Iterator",CX=WE.set,PX=WE.getterFor(GE);IX(String,"String",function(r){CX(this,{type:GE,string:AX(r),index:0})},function(){var t=PX(this),e=t.string,i=t.index,n;return i>=e.length?gw(void 0,!0):(n=OX(e,i),t.index+=n.length,gw(n,!1))});var DX=rc,NX=DX.f("iterator"),RX=NX,VE=RX,MX=VE,BX=MX,FX=BX,zX=FX,XE=zX,LX=st(XE);function Jl(r){"@babel/helpers - typeof";return Jl=typeof Tl=="function"&&typeof LX=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Tl=="function"&&t.constructor===Tl&&t!==Tl.prototype?"symbol":typeof t},Jl(r)}var jX=rc,UX=jX.f("toPrimitive"),qX=UX,HX=qX,WX=HX,GX=WX,VX=GX,XX=VX,KX=XX,YX=st(KX);function JX(r,t){if(Jl(r)!=="object"||r===null)return r;var e=r[YX];if(e!==void 0){var i=e.call(r,t||"default");if(Jl(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function KE(r){var t=JX(r,"string");return Jl(t)==="symbol"?t:String(t)}function bw(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),mp(r,KE(i.key),i)}}function Op(r,t,e){return t&&bw(r.prototype,t),e&&bw(r,e),mp(r,"prototype",{writable:!1}),r}function xs(r,t,e){return t=KE(t),t in r?mp(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var YE=Ut,QX=bi,ZX=Ur,eK=mr,yw=ac,tK=Kf,JE=Function,rK=YE([].concat),iK=YE([].join),F0={},nK=function(r,t,e){if(!eK(F0,t)){for(var i=[],n=0;n<t;n++)i[n]="a["+n+"]";F0[t]=JE("C,a","return new C("+iK(i,",")+")")}return F0[t](r,e)},QE=tK?JE.bind:function(t){var e=QX(this),i=e.prototype,n=yw(arguments,1),a=function(){var o=rK(n,yw(arguments));return this instanceof a?nK(e,o.length,o):e.apply(t,o)};return ZX(i)&&(a.prototype=i),a},aK=it,$w=QE;aK({target:"Function",proto:!0,forced:Function.bind!==$w},{bind:$w});var sK=Ht,oK=Wt,Gr=function(r,t){var e=oK[r+"Prototype"],i=e&&e[t];if(i)return i;var n=sK[r],a=n&&n.prototype;return a&&a[t]},lK=Gr,uK=lK("Function","bind"),fK=hr,cK=uK,z0=Function.prototype,hK=function(r){var t=r.bind;return r===z0||fK(z0,r)&&t===z0.bind?cK:t},mK=hK,ZE=mK,pK=ZE,ek=st(pK),dK=bi,vK=yi,gK=fp,bK=Ci,yK=TypeError,_w=function(r){return function(t,e,i,n){dK(e);var a=vK(t),s=gK(a),o=bK(a),l=r?o-1:0,u=r?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=u;break}if(l+=u,r?l<0:o<=l)throw new yK("Reduce of empty array with no initial value")}for(;r?l>=0:o>l;l+=u)l in s&&(n=e(n,s[l],l,a));return n}},$K={left:_w(!1),right:_w(!0)},_K=It,Ap=function(r,t){var e=[][r];return!!e&&_K(function(){e.call(null,t||function(){return 1},1)})},wK=Ht,xK=qs,oc=xK(wK.process)==="process",SK=it,EK=$K.left,kK=Ap,ww=pu,TK=oc,OK=!TK&&ww>79&&ww<83,AK=OK||!kK("reduce");SK({target:"Array",proto:!0,forced:AK},{reduce:function(t){var e=arguments.length;return EK(this,t,e,e>1?arguments[1]:void 0)}});var IK=Gr,CK=IK("Array","reduce"),PK=hr,DK=CK,L0=Array.prototype,NK=function(r){var t=r.reduce;return r===L0||PK(L0,r)&&t===L0.reduce?DK:t},RK=NK,MK=RK,BK=MK,FK=st(BK),zK=it,LK=_u.filter,jK=Qf,UK=jK("filter");zK({target:"Array",proto:!0,forced:!UK},{filter:function(t){return LK(this,t,arguments.length>1?arguments[1]:void 0)}});var qK=Gr,HK=qK("Array","filter"),WK=hr,GK=HK,j0=Array.prototype,VK=function(r){var t=r.filter;return r===j0||WK(j0,r)&&t===j0.filter?GK:t},XK=VK,KK=XK,YK=KK,Ol=st(YK),JK=it,QK=_u.map,ZK=Qf,eY=ZK("map");JK({target:"Array",proto:!0,forced:!eY},{map:function(t){return QK(this,t,arguments.length>1?arguments[1]:void 0)}});var tY=Gr,rY=tY("Array","map"),iY=hr,nY=rY,U0=Array.prototype,aY=function(r){var t=r.map;return r===U0||iY(U0,r)&&t===U0.map?nY:t},sY=aY,oY=sY,lY=oY,ln=st(lY),uY=Gs,fY=Ci,cY=dp,hY=Ws,tk=function(r,t,e,i,n,a,s,o){for(var l=n,u=0,f=s?hY(s,o):!1,h,c;u<i;)u in e&&(h=f?f(e[u],u,t):e[u],a>0&&uY(h)?(c=fY(h),l=tk(r,t,h,c,l,a-1)-1):(cY(l+1),r[l]=h),l++),u++;return l},mY=tk,pY=it,dY=mY,vY=bi,gY=yi,bY=Ci,yY=gp;pY({target:"Array",proto:!0},{flatMap:function(t){var e=gY(this),i=bY(e),n;return vY(t),n=yY(e,0),n.length=dY(n,e,e,i,0,1,t,arguments.length>1?arguments[1]:void 0),n}});var $Y=Gr;$Y("Array","flatMap");var _Y=Tr,xw=Ii,wY=ry,rk=function(r,t,e){var i,n;xw(r);try{if(i=wY(r,"return"),!i){if(t==="throw")throw e;return e}i=_Y(i,r)}catch(a){n=!0,i=a}if(t==="throw")throw e;if(n)throw i;return xw(i),e},xY=Ii,SY=rk,EY=function(r,t,e,i){try{return i?t(xY(e)[0],e[1]):t(e)}catch(n){SY(r,"throw",n)}},kY=Xt,TY=wu,OY=kY("iterator"),AY=Array.prototype,ik=function(r){return r!==void 0&&(TY.Array===r||AY[OY]===r)},IY=wa,Sw=ry,CY=mu,PY=wu,DY=Xt,NY=DY("iterator"),Ip=function(r){if(!CY(r))return Sw(r,NY)||Sw(r,"@@iterator")||PY[IY(r)]},RY=Tr,MY=bi,BY=Ii,FY=vu,zY=Ip,LY=TypeError,$y=function(r,t){var e=arguments.length<2?zY(r):t;if(MY(e))return BY(RY(e,r));throw new LY(FY(r)+" is not iterable")},jY=Ws,UY=Tr,qY=yi,HY=EY,WY=ik,GY=vp,VY=Ci,Ew=bu,XY=$y,KY=Ip,kw=Array,YY=function(t){var e=qY(t),i=GY(this),n=arguments.length,a=n>1?arguments[1]:void 0,s=a!==void 0;s&&(a=jY(a,n>2?arguments[2]:void 0));var o=KY(e),l=0,u,f,h,c,m,d;if(o&&!(this===kw&&WY(o)))for(c=XY(e,o),m=c.next,f=i?new this:[];!(h=UY(m,c)).done;l++)d=s?HY(c,a,[h.value,l],!0):h.value,Ew(f,l,d);else for(u=VY(e),f=i?new this(u):kw(u);u>l;l++)d=s?a(e[l],l):e[l],Ew(f,l,d);return f.length=l,f},JY=Xt,nk=JY("iterator"),ak=!1;try{var QY=0,Tw={next:function(){return{done:!!QY++}},return:function(){ak=!0}};Tw[nk]=function(){return this},Array.from(Tw,function(){throw 2})}catch{}var sk=function(r,t){try{if(!t&&!ak)return!1}catch{return!1}var e=!1;try{var i={};i[nk]=function(){return{next:function(){return{done:e=!0}}}},r(i)}catch{}return e},ZY=it,eJ=YY,tJ=sk,rJ=!tJ(function(r){Array.from(r)});ZY({target:"Array",stat:!0,forced:rJ},{from:eJ});var iJ=Wt,nJ=iJ.Array.from,aJ=nJ,ok=aJ,sJ=ok,_y=st(sJ),oJ=Ip,lJ=oJ,uJ=lJ,fJ=uJ,cJ=fJ,hJ=cJ,mJ=hJ,pJ=mJ,lk=pJ,uk=st(lk),dJ=lk,wy=st(dJ),vJ=it,gJ=Gs;vJ({target:"Array",stat:!0},{isArray:gJ});var bJ=Wt,yJ=bJ.Array.isArray,$J=yJ,fk=$J,_J=fk,wJ=_J,xJ=wJ,SJ=xJ,EJ=SJ,ck=st(EJ);function kJ(r){if(ck(r))return r}var TJ=kr,OJ=Gs,AJ=TypeError,IJ=Object.getOwnPropertyDescriptor,CJ=TJ&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}(),hk=CJ?function(r,t){if(OJ(r)&&!IJ(r,"length").writable)throw new AJ("Cannot set read only .length");return r.length=t}:function(r,t){return r.length=t},PJ=it,DJ=yi,NJ=Ci,RJ=hk,MJ=dp,BJ=It,FJ=BJ(function(){return[].push.call({length:4294967296},1)!==4294967297}),zJ=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}},LJ=FJ||!zJ();PJ({target:"Array",proto:!0,arity:1,forced:LJ},{push:function(t){var e=DJ(this),i=NJ(e),n=arguments.length;MJ(i+n);for(var a=0;a<n;a++)e[i]=arguments[a],i++;return RJ(e,i),i}});var jJ=Gr,UJ=jJ("Array","push"),qJ=hr,HJ=UJ,q0=Array.prototype,WJ=function(r){var t=r.push;return r===q0||qJ(q0,r)&&t===q0.push?HJ:t},GJ=WJ,VJ=GJ,XJ=VJ,KJ=XJ,YJ=KJ,JJ=YJ,mk=JJ,QJ=st(mk);function ZJ(r,t){var e=r==null?null:typeof Tl<"u"&&uk(r)||r["@@iterator"];if(e!=null){var i,n,a,s,o=[],l=!0,u=!1;try{if(a=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=a.call(e)).done)&&(QJ(o).call(o,i.value),o.length!==t);l=!0);}catch(f){u=!0,n=f}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw n}}return o}}var eQ=it,Ow=Gs,tQ=vp,rQ=Ur,Aw=yp,iQ=Ci,nQ=Hn,aQ=bu,sQ=Xt,oQ=Qf,lQ=ac,uQ=oQ("slice"),fQ=sQ("species"),H0=Array,cQ=Math.max;eQ({target:"Array",proto:!0,forced:!uQ},{slice:function(t,e){var i=nQ(this),n=iQ(i),a=Aw(t,n),s=Aw(e===void 0?n:e,n),o,l,u;if(Ow(i)&&(o=i.constructor,tQ(o)&&(o===H0||Ow(o.prototype))?o=void 0:rQ(o)&&(o=o[fQ],o===null&&(o=void 0)),o===H0||o===void 0))return lQ(i,a,s);for(l=new(o===void 0?H0:o)(cQ(s-a,0)),u=0;a<s;a++,u++)a in i&&aQ(l,u,i[a]);return l.length=u,l}});var hQ=Gr,mQ=hQ("Array","slice"),pQ=hr,dQ=mQ,W0=Array.prototype,vQ=function(r){var t=r.slice;return r===W0||pQ(W0,r)&&t===W0.slice?dQ:t},gQ=vQ,pk=gQ,bQ=pk,yQ=bQ,$Q=yQ,_Q=$Q,dk=_Q,wQ=st(dk),xQ=ok,SQ=xQ,EQ=SQ,kQ=EQ,TQ=kQ,vk=st(TQ);function v1(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function gk(r,t){var e;if(r){if(typeof r=="string")return v1(r,t);var i=wQ(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return vk(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v1(r,t)}}function OQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function si(r,t){return kJ(r)||ZJ(r,t)||gk(r,t)||OQ()}function AQ(r){if(ck(r))return v1(r)}function IQ(r){if(typeof Tl<"u"&&uk(r)!=null||r["@@iterator"]!=null)return vk(r)}function CQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hi(r){return AQ(r)||IQ(r)||gk(r)||CQ()}var PQ=LE,Cp=st(PQ),DQ=Gr,NQ=DQ("Array","concat"),RQ=hr,MQ=NQ,G0=Array.prototype,BQ=function(r){var t=r.concat;return r===G0||RQ(G0,r)&&t===G0.concat?MQ:t},FQ=BQ,zQ=FQ,LQ=zQ,Pp=st(LQ),jQ=pk,Dp=st(jQ),UQ=ri,qQ=Ut,HQ=ec,WQ=tc,GQ=Ii,VQ=qQ([].concat),xy=UQ("Reflect","ownKeys")||function(t){var e=HQ.f(GQ(t)),i=WQ.f;return i?VQ(e,i(t)):e},XQ=it,KQ=xy;XQ({target:"Reflect",stat:!0},{ownKeys:KQ});var YQ=Wt,JQ=YQ.Reflect.ownKeys,QQ=JQ,ZQ=QQ,eZ=ZQ,tZ=st(eZ),rZ=fk,Ti=st(rZ),iZ=it,nZ=yi,bk=$p,aZ=It,sZ=aZ(function(){bk(1)});iZ({target:"Object",stat:!0,forced:sZ},{keys:function(t){return bk(nZ(t))}});var oZ=Wt,lZ=oZ.Object.keys,uZ=lZ,fZ=uZ,cZ=fZ,Sy=st(cZ),hZ=_u.forEach,mZ=Ap,pZ=mZ("forEach"),dZ=pZ?[].forEach:function(t){return hZ(this,t,arguments.length>1?arguments[1]:void 0)},vZ=it,Iw=dZ;vZ({target:"Array",proto:!0,forced:[].forEach!==Iw},{forEach:Iw});var gZ=Gr,bZ=gZ("Array","forEach"),yZ=bZ,$Z=yZ,_Z=wa,wZ=mr,xZ=hr,SZ=$Z,V0=Array.prototype,EZ={DOMTokenList:!0,NodeList:!0},yk=function(r){var t=r.forEach;return r===V0||xZ(V0,r)&&t===V0.forEach||wZ(EZ,_Z(r))?SZ:t},kZ=yk,Co=st(kZ),TZ=it,OZ=Ut,AZ=Gs,IZ=OZ([].reverse),Cw=[1,2];TZ({target:"Array",proto:!0,forced:String(Cw)===String(Cw.reverse())},{reverse:function(){return AZ(this)&&(this.length=this.length),IZ(this)}});var CZ=Gr,PZ=CZ("Array","reverse"),DZ=hr,NZ=PZ,X0=Array.prototype,RZ=function(r){var t=r.reverse;return r===X0||DZ(X0,r)&&t===X0.reverse?NZ:t},MZ=RZ,$k=MZ,BZ=$k,FZ=st(BZ),Pw=vu,zZ=TypeError,_k=function(r,t){if(!delete r[t])throw new zZ("Cannot delete property "+Pw(t)+" of "+Pw(r))},LZ=it,jZ=yi,UZ=yp,qZ=pp,HZ=Ci,WZ=hk,GZ=dp,VZ=gp,XZ=bu,K0=_k,KZ=Qf,YZ=KZ("splice"),JZ=Math.max,QZ=Math.min;LZ({target:"Array",proto:!0,forced:!YZ},{splice:function(t,e){var i=jZ(this),n=HZ(i),a=UZ(t,n),s=arguments.length,o,l,u,f,h,c;for(s===0?o=l=0:s===1?(o=0,l=n-a):(o=s-2,l=QZ(JZ(qZ(e),0),n-a)),GZ(n+o-l),u=VZ(i,l),f=0;f<l;f++)h=a+f,h in i&&XZ(u,f,i[h]);if(u.length=l,o<l){for(f=a;f<n-l;f++)h=f+l,c=f+o,h in i?i[c]=i[h]:K0(i,c);for(f=n;f>n-l+o;f--)K0(i,f-1)}else if(o>l)for(f=n-l;f>a;f--)h=f+l-1,c=f+o-1,h in i?i[c]=i[h]:K0(i,c);for(f=0;f<o;f++)i[f+a]=arguments[f+2];return WZ(i,n-l+o),u}});var ZZ=Gr,eee=ZZ("Array","splice"),tee=hr,ree=eee,Y0=Array.prototype,iee=function(r){var t=r.splice;return r===Y0||tee(Y0,r)&&t===Y0.splice?ree:t},nee=iee,aee=nee,see=aee,wk=st(see),Dw=kr,oee=Ut,lee=Tr,uee=It,J0=$p,fee=tc,cee=up,hee=yi,mee=fp,dl=Object.assign,Nw=Object.defineProperty,pee=oee([].concat),dee=!dl||uee(function(){if(Dw&&dl({b:1},dl(Nw({},"a",{enumerable:!0,get:function(){Nw(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},t={},e=Symbol("assign detection"),i="abcdefghijklmnopqrst";return r[e]=7,i.split("").forEach(function(n){t[n]=n}),dl({},r)[e]!==7||J0(dl({},t)).join("")!==i})?function(t,e){for(var i=hee(t),n=arguments.length,a=1,s=fee.f,o=cee.f;n>a;)for(var l=mee(arguments[a++]),u=s?pee(J0(l),s(l)):J0(l),f=u.length,h=0,c;f>h;)c=u[h++],(!Dw||lee(o,l,c))&&(i[c]=l[c]);return i}:dl,vee=it,Rw=dee;vee({target:"Object",stat:!0,arity:2,forced:Object.assign!==Rw},{assign:Rw});var gee=Wt,bee=gee.Object.assign,yee=bee,$ee=yee,_ee=$ee,wee=st(_ee),xee=it,See=It,Eee=yi,xk=Tp,kee=NE,Tee=See(function(){xk(1)});xee({target:"Object",stat:!0,forced:Tee,sham:!kee},{getPrototypeOf:function(t){return xk(Eee(t))}});var Oee=Wt,Aee=Oee.Object.getPrototypeOf,Iee=Aee,Cee=Iee,Pee=it,Dee=kr,Nee=Ho;Pee({target:"Object",stat:!0,sham:!Dee},{create:Nee});var Ree=Wt,Mee=Ree.Object,Bee=function(t,e){return Mee.create(t,e)},Fee=Bee,Sk=Fee,zee=Sk,Lee=st(zee),g1=Wt,jee=hu;g1.JSON||(g1.JSON={stringify:JSON.stringify});var Uee=function(t,e,i){return jee(g1.JSON.stringify,null,arguments)},qee=Uee,Hee=qee,Wee=Hee,Gee=st(Wee),Vee=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",Xee=TypeError,Ek=function(r,t){if(r<t)throw new Xee("Not enough arguments");return r},kk=Ht,Kee=hu,Yee=Zt,Jee=Vee,Qee=Hs,Zee=ac,ete=Ek,tte=kk.Function,rte=/MSIE .\./.test(Qee)||Jee&&function(){var r=kk.Bun.version.split(".");return r.length<3||r[0]==="0"&&(r[1]<3||r[1]==="3"&&r[2]==="0")}(),Tk=function(r,t){var e=t?2:1;return rte?function(i,n){var a=ete(arguments.length,1)>e,s=Yee(i)?i:tte(i),o=a?Zee(arguments,e):[],l=a?function(){Kee(s,this,o)}:s;return t?r(l,n):r(l)}:r},ite=it,Ok=Ht,nte=Tk,Mw=nte(Ok.setInterval,!0);ite({global:!0,bind:!0,forced:Ok.setInterval!==Mw},{setInterval:Mw});var ate=it,Ak=Ht,ste=Tk,Bw=ste(Ak.setTimeout,!0);ate({global:!0,bind:!0,forced:Ak.setTimeout!==Bw},{setTimeout:Bw});var ote=Wt,lte=ote.setTimeout,ute=lte,fte=st(ute),Ik={exports:{}};(function(r){function t(i){if(i)return e(i);this._callbacks=new Map}function e(i){return Object.assign(i,t.prototype),i._callbacks=new Map,i}t.prototype.on=function(i,n){const a=this._callbacks.get(i)??[];return a.push(n),this._callbacks.set(i,a),this},t.prototype.once=function(i,n){const a=(...s)=>{this.off(i,a),n.apply(this,s)};return a.fn=n,this.on(i,a),this},t.prototype.off=function(i,n){if(i===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(i),this;const a=this._callbacks.get(i);if(a){for(const[s,o]of a.entries())if(o===n||o.fn===n){a.splice(s,1);break}a.length===0?this._callbacks.delete(i):this._callbacks.set(i,a)}return this},t.prototype.emit=function(i,...n){const a=this._callbacks.get(i);if(a){const s=[...a];for(const o of s)o.apply(this,n)}return this},t.prototype.listeners=function(i){return this._callbacks.get(i)??[]},t.prototype.listenerCount=function(i){if(i)return this.listeners(i).length;let n=0;for(const a of this._callbacks.values())n+=a.length;return n},t.prototype.hasListeners=function(i){return this.listenerCount(i)>0},t.prototype.addEventListener=t.prototype.on,t.prototype.removeListener=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,r.exports=t})(Ik);var cte=Ik.exports,hte=st(cte);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function vn(){return vn=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},vn.apply(this,arguments)}function Qi(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function fh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var b1;typeof Object.assign!="function"?b1=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e}:b1=Object.assign;var Po=b1,Fw=["","webkit","Moz","MS","ms","o"],mte=typeof document>"u"?{style:{}}:document.createElement("div"),pte="function",Al=Math.round,Do=Math.abs,Ey=Date.now;function Np(r,t){for(var e,i,n=t[0].toUpperCase()+t.slice(1),a=0;a<Fw.length;){if(e=Fw[a],i=e?e+n:t,i in r)return i;a++}}var ta;typeof window>"u"?ta={}:ta=window;var Ck=Np(mte.style,"touchAction"),Pk=Ck!==void 0;function dte(){if(!Pk)return!1;var r={},t=ta.CSS&&ta.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return r[e]=t?ta.CSS.supports("touch-action",e):!0}),r}var Dk="compute",Nk="auto",y1="manipulation",vo="none",If="pan-x",Cf="pan-y",ch=dte(),vte=/mobile|tablet|ip(ad|hone|od)|android/i,Rk="ontouchstart"in ta,gte=Np(ta,"PointerEvent")!==void 0,bte=Rk&&vte.test(navigator.userAgent),lc="touch",yte="pen",ky="mouse",$te="kinect",_te=25,Zr=1,Go=2,lr=4,di=8,xm=1,uc=2,fc=4,cc=8,Ql=16,Mn=uc|fc,go=cc|Ql,Mk=Mn|go,Bk=["x","y"],Sm=["clientX","clientY"];function ra(r,t,e){var i;if(r)if(r.forEach)r.forEach(t,e);else if(r.length!==void 0)for(i=0;i<r.length;)t.call(e,r[i],i,r),i++;else for(i in r)r.hasOwnProperty(i)&&t.call(e,r[i],i,r)}function Rp(r,t){return typeof r===pte?r.apply(t&&t[0]||void 0,t):r}function uo(r,t){return r.indexOf(t)>-1}function wte(r){if(uo(r,vo))return vo;var t=uo(r,If),e=uo(r,Cf);return t&&e?vo:t||e?t?If:Cf:uo(r,y1)?y1:Nk}var Fk=function(){function r(e,i){this.manager=e,this.set(i)}var t=r.prototype;return t.set=function(i){i===Dk&&(i=this.compute()),Pk&&this.manager.element.style&&ch[i]&&(this.manager.element.style[Ck]=i),this.actions=i.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var i=[];return ra(this.manager.recognizers,function(n){Rp(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),wte(i.join(" "))},t.preventDefaults=function(i){var n=i.srcEvent,a=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,o=uo(s,vo)&&!ch[vo],l=uo(s,Cf)&&!ch[Cf],u=uo(s,If)&&!ch[If];if(o){var f=i.pointers.length===1,h=i.distance<2,c=i.deltaTime<250;if(f&&h&&c)return}if(!(u&&l)&&(o||l&&a&Mn||u&&a&go))return this.preventSrc(n)},t.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},r}();function Ty(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}function zk(r){var t=r.length;if(t===1)return{x:Al(r[0].clientX),y:Al(r[0].clientY)};for(var e=0,i=0,n=0;n<t;)e+=r[n].clientX,i+=r[n].clientY,n++;return{x:Al(e/t),y:Al(i/t)}}function zw(r){for(var t=[],e=0;e<r.pointers.length;)t[e]={clientX:Al(r.pointers[e].clientX),clientY:Al(r.pointers[e].clientY)},e++;return{timeStamp:Ey(),pointers:t,center:zk(t),deltaX:r.deltaX,deltaY:r.deltaY}}function Em(r,t,e){e||(e=Bk);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.sqrt(i*i+n*n)}function $1(r,t,e){e||(e=Bk);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.atan2(n,i)*180/Math.PI}function Lk(r,t){return r===t?xm:Do(r)>=Do(t)?r<0?uc:fc:t<0?cc:Ql}function xte(r,t){var e=t.center,i=r.offsetDelta||{},n=r.prevDelta||{},a=r.prevInput||{};(t.eventType===Zr||a.eventType===lr)&&(n=r.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=r.offsetDelta={x:e.x,y:e.y}),t.deltaX=n.x+(e.x-i.x),t.deltaY=n.y+(e.y-i.y)}function jk(r,t,e){return{x:t/r||0,y:e/r||0}}function Ste(r,t){return Em(t[0],t[1],Sm)/Em(r[0],r[1],Sm)}function Ete(r,t){return $1(t[1],t[0],Sm)+$1(r[1],r[0],Sm)}function kte(r,t){var e=r.lastInterval||t,i=t.timeStamp-e.timeStamp,n,a,s,o;if(t.eventType!==di&&(i>_te||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,f=jk(i,l,u);a=f.x,s=f.y,n=Do(f.x)>Do(f.y)?f.x:f.y,o=Lk(l,u),r.lastInterval=t}else n=e.velocity,a=e.velocityX,s=e.velocityY,o=e.direction;t.velocity=n,t.velocityX=a,t.velocityY=s,t.direction=o}function Tte(r,t){var e=r.session,i=t.pointers,n=i.length;e.firstInput||(e.firstInput=zw(t)),n>1&&!e.firstMultiple?e.firstMultiple=zw(t):n===1&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,o=s?s.center:a.center,l=t.center=zk(i);t.timeStamp=Ey(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=$1(o,l),t.distance=Em(o,l),xte(e,t),t.offsetDirection=Lk(t.deltaX,t.deltaY);var u=jk(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=Do(u.x)>Do(u.y)?u.x:u.y,t.scale=s?Ste(s.pointers,i):1,t.rotation=s?Ete(s.pointers,i):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,kte(e,t);var f=r.element,h=t.srcEvent,c;h.composedPath?c=h.composedPath()[0]:h.path?c=h.path[0]:c=h.target,Ty(c,f)&&(f=c),t.target=f}function Ote(r,t,e){var i=e.pointers.length,n=e.changedPointers.length,a=t&Zr&&i-n===0,s=t&(lr|di)&&i-n===0;e.isFirst=!!a,e.isFinal=!!s,a&&(r.session={}),e.eventType=t,Tte(r,e),r.emit("hammer.input",e),r.recognize(e),r.session.prevInput=e}function Pf(r){return r.trim().split(/\s+/g)}function nf(r,t,e){ra(Pf(t),function(i){r.addEventListener(i,e,!1)})}function af(r,t,e){ra(Pf(t),function(i){r.removeEventListener(i,e,!1)})}function Lw(r){var t=r.ownerDocument||r;return t.defaultView||t.parentWindow||window}var xu=function(){function r(e,i){var n=this;this.manager=e,this.callback=i,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){Rp(e.options.enable,[e])&&n.handler(a)},this.init()}var t=r.prototype;return t.handler=function(){},t.init=function(){this.evEl&&nf(this.element,this.evEl,this.domHandler),this.evTarget&&nf(this.target,this.evTarget,this.domHandler),this.evWin&&nf(Lw(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&af(this.element,this.evEl,this.domHandler),this.evTarget&&af(this.target,this.evTarget,this.domHandler),this.evWin&&af(Lw(this.element),this.evWin,this.domHandler)},r}();function No(r,t,e){if(r.indexOf&&!e)return r.indexOf(t);for(var i=0;i<r.length;){if(e&&r[i][e]==t||!e&&r[i]===t)return i;i++}return-1}var Ate={pointerdown:Zr,pointermove:Go,pointerup:lr,pointercancel:di,pointerout:di},Ite={2:lc,3:yte,4:ky,5:$te},Uk="pointerdown",qk="pointermove pointerup pointercancel";ta.MSPointerEvent&&!ta.PointerEvent&&(Uk="MSPointerDown",qk="MSPointerMove MSPointerUp MSPointerCancel");var Hk=function(r){Qi(t,r);function t(){var i,n=t.prototype;return n.evEl=Uk,n.evWin=qk,i=r.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var e=t.prototype;return e.handler=function(n){var a=this.store,s=!1,o=n.type.toLowerCase().replace("ms",""),l=Ate[o],u=Ite[n.pointerType]||n.pointerType,f=u===lc,h=No(a,n.pointerId,"pointerId");l&Zr&&(n.button===0||f)?h<0&&(a.push(n),h=a.length-1):l&(lr|di)&&(s=!0),!(h<0)&&(a[h]=n,this.callback(this.manager,l,{pointers:a,changedPointers:[n],pointerType:u,srcEvent:n}),s&&a.splice(h,1))},t}(xu);function Df(r){return Array.prototype.slice.call(r,0)}function Oy(r,t,e){for(var i=[],n=[],a=0;a<r.length;){var s=t?r[a][t]:r[a];No(n,s)<0&&i.push(r[a]),n[a]=s,a++}return e&&(t?i=i.sort(function(o,l){return o[t]>l[t]}):i=i.sort()),i}var Cte={touchstart:Zr,touchmove:Go,touchend:lr,touchcancel:di},Pte="touchstart touchmove touchend touchcancel",Ay=function(r){Qi(t,r);function t(){var i;return t.prototype.evTarget=Pte,i=r.apply(this,arguments)||this,i.targetIds={},i}var e=t.prototype;return e.handler=function(n){var a=Cte[n.type],s=Dte.call(this,n,a);s&&this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:lc,srcEvent:n})},t}(xu);function Dte(r,t){var e=Df(r.touches),i=this.targetIds;if(t&(Zr|Go)&&e.length===1)return i[e[0].identifier]=!0,[e,e];var n,a,s=Df(r.changedTouches),o=[],l=this.target;if(a=e.filter(function(u){return Ty(u.target,l)}),t===Zr)for(n=0;n<a.length;)i[a[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&o.push(s[n]),t&(lr|di)&&delete i[s[n].identifier],n++;if(o.length)return[Oy(a.concat(o),"identifier",!0),o]}var Nte={mousedown:Zr,mousemove:Go,mouseup:lr},Rte="mousedown",Mte="mousemove mouseup",Iy=function(r){Qi(t,r);function t(){var i,n=t.prototype;return n.evEl=Rte,n.evWin=Mte,i=r.apply(this,arguments)||this,i.pressed=!1,i}var e=t.prototype;return e.handler=function(n){var a=Nte[n.type];a&Zr&&n.button===0&&(this.pressed=!0),a&Go&&n.which!==1&&(a=lr),this.pressed&&(a&lr&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[n],changedPointers:[n],pointerType:ky,srcEvent:n}))},t}(xu),Bte=2500,jw=25;function Uw(r){var t=r.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);var a=function(){var o=n.indexOf(i);o>-1&&n.splice(o,1)};setTimeout(a,Bte)}}function Fte(r,t){r&Zr?(this.primaryTouch=t.changedPointers[0].identifier,Uw.call(this,t)):r&(lr|di)&&Uw.call(this,t)}function zte(r){for(var t=r.srcEvent.clientX,e=r.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],a=Math.abs(t-n.x),s=Math.abs(e-n.y);if(a<=jw&&s<=jw)return!0}return!1}var Wk=function(){var r=function(t){Qi(e,t);function e(n,a){var s;return s=t.call(this,n,a)||this,s.handler=function(o,l,u){var f=u.pointerType===lc,h=u.pointerType===ky;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(f)Fte.call(fh(fh(s)),l,u);else if(h&&zte.call(fh(fh(s)),u))return;s.callback(o,l,u)}},s.touch=new Ay(s.manager,s.handler),s.mouse=new Iy(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=e.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(xu);return r}();function Lte(r){var t,e=r.options.inputClass;return e?t=e:gte?t=Hk:bte?t=Ay:Rk?t=Wk:t=Iy,new t(r,Ote)}function Il(r,t,e){return Array.isArray(r)?(ra(r,e[t],e),!0):!1}var Kh=1,Xi=2,Zl=4,Ss=8,ia=Ss,Nf=16,Pn=32,jte=1;function Ute(){return jte++}function hh(r,t){var e=t.manager;return e?e.get(r):r}function qw(r){return r&Nf?"cancel":r&Ss?"end":r&Zl?"move":r&Xi?"start":""}var hc=function(){function r(e){e===void 0&&(e={}),this.options=vn({enable:!0},e),this.id=Ute(),this.manager=null,this.state=Kh,this.simultaneous={},this.requireFail=[]}var t=r.prototype;return t.set=function(i){return Po(this.options,i),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(i){if(Il(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=hh(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},t.dropRecognizeWith=function(i){return Il(i,"dropRecognizeWith",this)?this:(i=hh(i,this),delete this.simultaneous[i.id],this)},t.requireFailure=function(i){if(Il(i,"requireFailure",this))return this;var n=this.requireFail;return i=hh(i,this),No(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},t.dropRequireFailure=function(i){if(Il(i,"dropRequireFailure",this))return this;i=hh(i,this);var n=No(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},t.emit=function(i){var n=this,a=this.state;function s(o){n.manager.emit(o,i)}a<Ss&&s(n.options.event+qw(a)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),a>=Ss&&s(n.options.event+qw(a))},t.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=Pn},t.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(Pn|Kh)))return!1;i++}return!0},t.recognize=function(i){var n=Po({},i);if(!Rp(this.options.enable,[this,n])){this.reset(),this.state=Pn;return}this.state&(ia|Nf|Pn)&&(this.state=Kh),this.state=this.process(n),this.state&(Xi|Zl|Ss|Nf)&&this.tryEmit(n)},t.process=function(i){},t.getTouchAction=function(){},t.reset=function(){},r}(),_1=function(r){Qi(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,vn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var e=t.prototype;return e.getTouchAction=function(){return[y1]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime<s.time;if(this.reset(),n.eventType&Zr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(n.eventType!==lr)return this.failTimeout();var f=this.pTime?n.timeStamp-this.pTime<s.interval:!0,h=!this.pCenter||Em(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!h||!f?this.count=1:this.count+=1,this._input=n;var c=this.count%s.taps;if(c===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=ia,a.tryEmit()},s.interval),Xi):ia}return Pn},e.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Pn},this.options.interval),Pn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===ia&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(hc),eu=function(r){Qi(t,r);function t(i){return i===void 0&&(i={}),r.call(this,vn({pointers:1},i))||this}var e=t.prototype;return e.attrTest=function(n){var a=this.options.pointers;return a===0||n.pointers.length===a},e.process=function(n){var a=this.state,s=n.eventType,o=a&(Xi|Zl),l=this.attrTest(n);return o&&(s&di||!l)?a|Nf:o||l?s&lr?a|Ss:a&Xi?a|Zl:Xi:Pn},t}(hc);function Gk(r){return r===Ql?"down":r===cc?"up":r===uc?"left":r===fc?"right":""}var Cy=function(r){Qi(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,vn({event:"pan",threshold:10,pointers:1,direction:Mk},i))||this,n.pX=null,n.pY=null,n}var e=t.prototype;return e.getTouchAction=function(){var n=this.options.direction,a=[];return n&Mn&&a.push(Cf),n&go&&a.push(If),a},e.directionTest=function(n){var a=this.options,s=!0,o=n.distance,l=n.direction,u=n.deltaX,f=n.deltaY;return l&a.direction||(a.direction&Mn?(l=u===0?xm:u<0?uc:fc,s=u!==this.pX,o=Math.abs(n.deltaX)):(l=f===0?xm:f<0?cc:Ql,s=f!==this.pY,o=Math.abs(n.deltaY))),n.direction=l,s&&o>a.threshold&&l&a.direction},e.attrTest=function(n){return eu.prototype.attrTest.call(this,n)&&(this.state&Xi||!(this.state&Xi)&&this.directionTest(n))},e.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var a=Gk(n.direction);a&&(n.additionalEvent=this.options.event+a),r.prototype.emit.call(this,n)},t}(eu),Vk=function(r){Qi(t,r);function t(i){return i===void 0&&(i={}),r.call(this,vn({event:"swipe",threshold:10,velocity:.3,direction:Mn|go,pointers:1},i))||this}var e=t.prototype;return e.getTouchAction=function(){return Cy.prototype.getTouchAction.call(this)},e.attrTest=function(n){var a=this.options.direction,s;return a&(Mn|go)?s=n.overallVelocity:a&Mn?s=n.overallVelocityX:a&go&&(s=n.overallVelocityY),r.prototype.attrTest.call(this,n)&&a&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&Do(s)>this.options.velocity&&n.eventType&lr},e.emit=function(n){var a=Gk(n.offsetDirection);a&&this.manager.emit(this.options.event+a,n),this.manager.emit(this.options.event,n)},t}(eu),Xk=function(r){Qi(t,r);function t(i){return i===void 0&&(i={}),r.call(this,vn({event:"pinch",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[vo]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Xi)},e.emit=function(n){if(n.scale!==1){var a=n.scale<1?"in":"out";n.additionalEvent=this.options.event+a}r.prototype.emit.call(this,n)},t}(eu),Kk=function(r){Qi(t,r);function t(i){return i===void 0&&(i={}),r.call(this,vn({event:"rotate",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[vo]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Xi)},t}(eu),Yk=function(r){Qi(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,vn({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var e=t.prototype;return e.getTouchAction=function(){return[Nk]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime>s.time;if(this._input=n,!l||!o||n.eventType&(lr|di)&&!u)this.reset();else if(n.eventType&Zr)this.reset(),this._timer=setTimeout(function(){a.state=ia,a.tryEmit()},s.time);else if(n.eventType&lr)return ia;return Pn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(n){this.state===ia&&(n&&n.eventType&lr?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Ey(),this.manager.emit(this.options.event,this._input)))},t}(hc),Jk={domEvents:!1,touchAction:Dk,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Hw=[[Kk,{enable:!1}],[Xk,{enable:!1},["rotate"]],[Vk,{direction:Mn}],[Cy,{direction:Mn},["swipe"]],[_1],[_1,{event:"doubletap",taps:2},["tap"]],[Yk]],qte=1,Ww=2;function Gw(r,t){var e=r.element;if(e.style){var i;ra(r.options.cssProps,function(n,a){i=Np(e.style,a),t?(r.oldCssProps[i]=e.style[i],e.style[i]=n):e.style[i]=r.oldCssProps[i]||""}),t||(r.oldCssProps={})}}function Hte(r,t){var e=document.createEvent("Event");e.initEvent(r,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var Vw=function(){function r(e,i){var n=this;this.options=Po({},Jk,i||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=Lte(this),this.touchAction=new Fk(this,this.options.touchAction),Gw(this,!0),ra(this.options.recognizers,function(a){var s=n.add(new a[0](a[1]));a[2]&&s.recognizeWith(a[2]),a[3]&&s.requireFailure(a[3])},this)}var t=r.prototype;return t.set=function(i){return Po(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},t.stop=function(i){this.session.stopped=i?Ww:qte},t.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var a,s=this.recognizers,o=n.curRecognizer;(!o||o&&o.state&ia)&&(n.curRecognizer=null,o=null);for(var l=0;l<s.length;)a=s[l],n.stopped!==Ww&&(!o||a===o||a.canRecognizeWith(o))?a.recognize(i):a.reset(),!o&&a.state&(Xi|Zl|Ss)&&(n.curRecognizer=a,o=a),l++}},t.get=function(i){if(i instanceof hc)return i;for(var n=this.recognizers,a=0;a<n.length;a++)if(n[a].options.event===i)return n[a];return null},t.add=function(i){if(Il(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},t.remove=function(i){if(Il(i,"remove",this))return this;var n=this.get(i);if(i){var a=this.recognizers,s=No(a,n);s!==-1&&(a.splice(s,1),this.touchAction.update())}return this},t.on=function(i,n){if(i===void 0||n===void 0)return this;var a=this.handlers;return ra(Pf(i),function(s){a[s]=a[s]||[],a[s].push(n)}),this},t.off=function(i,n){if(i===void 0)return this;var a=this.handlers;return ra(Pf(i),function(s){n?a[s]&&a[s].splice(No(a[s],n),1):delete a[s]}),this},t.emit=function(i,n){this.options.domEvents&&Hte(i,n);var a=this.handlers[i]&&this.handlers[i].slice();if(!(!a||!a.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<a.length;)a[s](n),s++}},t.destroy=function(){this.element&&Gw(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),Wte={touchstart:Zr,touchmove:Go,touchend:lr,touchcancel:di},Gte="touchstart",Vte="touchstart touchmove touchend touchcancel",Xte=function(r){Qi(t,r);function t(){var i,n=t.prototype;return n.evTarget=Gte,n.evWin=Vte,i=r.apply(this,arguments)||this,i.started=!1,i}var e=t.prototype;return e.handler=function(n){var a=Wte[n.type];if(a===Zr&&(this.started=!0),!!this.started){var s=Kte.call(this,n,a);a&(lr|di)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:lc,srcEvent:n})}},t}(xu);function Kte(r,t){var e=Df(r.touches),i=Df(r.changedTouches);return t&(lr|di)&&(e=Oy(e.concat(i),"identifier",!0)),[e,i]}function Qk(r,t,e){var i="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var n=new Error("get-stack-trace"),a=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,a),r.apply(this,arguments)}}var Zk=Qk(function(r,t,e){for(var i=Object.keys(t),n=0;n<i.length;)(!e||e&&r[i[n]]===void 0)&&(r[i[n]]=t[i[n]]),n++;return r},"extend","Use `assign`."),Yte=Qk(function(r,t){return Zk(r,t,!0)},"merge","Use `assign`.");function Jte(r,t,e){var i=t.prototype,n;n=r.prototype=Object.create(i),n.constructor=r,n._super=i,e&&Po(n,e)}function Xw(r,t){return function(){return r.apply(t,arguments)}}var Qte=function(){var r=function(e,i){return i===void 0&&(i={}),new Vw(e,vn({recognizers:Hw.concat()},i))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=Mk,r.DIRECTION_DOWN=Ql,r.DIRECTION_LEFT=uc,r.DIRECTION_RIGHT=fc,r.DIRECTION_UP=cc,r.DIRECTION_HORIZONTAL=Mn,r.DIRECTION_VERTICAL=go,r.DIRECTION_NONE=xm,r.DIRECTION_DOWN=Ql,r.INPUT_START=Zr,r.INPUT_MOVE=Go,r.INPUT_END=lr,r.INPUT_CANCEL=di,r.STATE_POSSIBLE=Kh,r.STATE_BEGAN=Xi,r.STATE_CHANGED=Zl,r.STATE_ENDED=Ss,r.STATE_RECOGNIZED=ia,r.STATE_CANCELLED=Nf,r.STATE_FAILED=Pn,r.Manager=Vw,r.Input=xu,r.TouchAction=Fk,r.TouchInput=Ay,r.MouseInput=Iy,r.PointerEventInput=Hk,r.TouchMouseInput=Wk,r.SingleTouchInput=Xte,r.Recognizer=hc,r.AttrRecognizer=eu,r.Tap=_1,r.Pan=Cy,r.Swipe=Vk,r.Pinch=Xk,r.Rotate=Kk,r.Press=Yk,r.on=nf,r.off=af,r.each=ra,r.merge=Yte,r.extend=Zk,r.bindFn=Xw,r.assign=Po,r.inherit=Jte,r.bindFn=Xw,r.prefixed=Np,r.toArray=Df,r.inArray=No,r.uniqueArray=Oy,r.splitStr=Pf,r.boolOrFn=Rp,r.hasParent=Ty,r.addEventListeners=nf,r.removeEventListeners=af,r.defaults=Po({},Jk,{preset:Hw}),r}(),Zte=Qte;function eT(r,t){var e=typeof Cp<"u"&&wy(r)||r["@@iterator"];if(!e){if(Ti(r)||(e=ere(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function ere(r,t){var e;if(r){if(typeof r=="string")return Kw(r,t);var i=Dp(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return _y(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kw(r,t)}}function Kw(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var tT=Cp("DELETE");function tre(r){for(var t,e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return rT.apply(void 0,Pp(t=[{},r]).call(t,i))}function rT(){var r=km.apply(void 0,arguments);return nT(r),r}function km(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];if(t.length<2)return t[0];if(t.length>2){var i;return km.apply(void 0,Pp(i=[rT(t[0],t[1])]).call(i,hi(Dp(t).call(t,2))))}var n=t[0],a=t[1];if(n instanceof Date&&a instanceof Date)return n.setTime(a.getTime()),n;var s=eT(tZ(a)),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;Object.prototype.propertyIsEnumerable.call(a,l)&&(a[l]===tT?delete n[l]:n[l]!==null&&a[l]!==null&&typeof n[l]=="object"&&typeof a[l]=="object"&&!Ti(n[l])&&!Ti(a[l])?n[l]=km(n[l],a[l]):n[l]=iT(a[l]))}}catch(u){s.e(u)}finally{s.f()}return n}function iT(r){return Ti(r)?ln(r).call(r,function(t){return iT(t)}):typeof r=="object"&&r!==null?r instanceof Date?new Date(r.getTime()):km({},r):r}function nT(r){for(var t=0,e=Sy(r);t<e.length;t++){var i=e[t];r[i]===tT?delete r[i]:typeof r[i]=="object"&&r[i]!==null&&nT(r[i])}}function rre(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get(){return{set:r}}}}var ire=typeof window<"u"?window.Hammer||Zte:function(){return rre()};function Jn(r){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var i=ire(this._dom.overlay);i.on("tap",ek(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Co(n).call(n,function(a){i.on(a,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){nre(a.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&t.deactivate()}}hte(Jn.prototype);Jn.current=null;Jn.prototype.destroy=function(){var r,t;this.deactivate();var e=eT(FZ(r=wk(t=this._cleanupQueue).call(t,0)).call(r)),i;try{for(e.s();!(i=e.n()).done;){var n=i.value;n()}}catch(a){e.e(a)}finally{e.f()}};Jn.prototype.activate=function(){Jn.current&&Jn.current.deactivate(),Jn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Jn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Jn.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function nre(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}var are=vp,sre=vu,ore=TypeError,aT=function(r){if(are(r))return r;throw new ore(sre(r)+" is not a constructor")},lre=it,ure=ri,Q0=hu,fre=QE,Yw=aT,cre=Ii,Jw=Ur,hre=Ho,sT=It,Py=ure("Reflect","construct"),mre=Object.prototype,pre=[].push,oT=sT(function(){function r(){}return!(Py(function(){},[],r)instanceof r)}),lT=!sT(function(){Py(function(){})}),Qw=oT||lT;lre({target:"Reflect",stat:!0,forced:Qw,sham:Qw},{construct:function(t,e){Yw(t),cre(e);var i=arguments.length<3?t:Yw(arguments[2]);if(lT&&!oT)return Py(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return Q0(pre,n,e),new(Q0(fre,t,n))}var a=i.prototype,s=hre(Jw(a)?a:mre),o=Q0(t,s,e);return Jw(o)?o:s}});var dre=Wt,vre=dre.Reflect.construct,gre=vre,bre=gre,yre=bre,Yh=st(yre),$re=Wt,_re=$re.Object.getOwnPropertySymbols,wre=_re,xre=wre,Sre=xre,Zw=st(Sre),uT={exports:{}},Ere=it,kre=It,Tre=Hn,fT=jo.f,cT=kr,Ore=!cT||kre(function(){fT(1)});Ere({target:"Object",stat:!0,forced:Ore,sham:!cT},{getOwnPropertyDescriptor:function(t,e){return fT(Tre(t),e)}});var Are=Wt,hT=Are.Object,Ire=uT.exports=function(t,e){return hT.getOwnPropertyDescriptor(t,e)};hT.getOwnPropertyDescriptor.sham&&(Ire.sham=!0);var Cre=uT.exports,Pre=Cre,Dre=Pre,Nre=Dre,mT=st(Nre),Rre=it,Mre=kr,Bre=xy,Fre=Hn,zre=jo,Lre=bu;Rre({target:"Object",stat:!0,sham:!Mre},{getOwnPropertyDescriptors:function(t){for(var e=Fre(t),i=zre.f,n=Bre(e),a={},s=0,o,l;n.length>s;)l=i(e,o=n[s++]),l!==void 0&&Lre(a,o,l);return a}});var jre=Wt,Ure=jre.Object.getOwnPropertyDescriptors,qre=Ure,Hre=qre,Wre=Hre,e3=st(Wre),pT={exports:{}},Gre=it,Vre=kr,t3=bp.f;Gre({target:"Object",stat:!0,forced:Object.defineProperties!==t3,sham:!Vre},{defineProperties:t3});var Xre=Wt,dT=Xre.Object,Kre=pT.exports=function(t,e){return dT.defineProperties(t,e)};dT.defineProperties.sham&&(Kre.sham=!0);var Yre=pT.exports,Jre=Yre,Qre=Jre,Zre=Qre,eie=st(Zre),tie=V8,rie=st(tie);function vT(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var iie=Sk,nie=iie,aie=nie,sie=aie,gT=sie,oie=st(gT),lie=it,uie=BE;lie({target:"Object",stat:!0},{setPrototypeOf:uie});var fie=Wt,cie=fie.Object.setPrototypeOf,hie=cie,mie=hie,pie=mie,die=pie,vie=die,gie=vie,bT=gie,w1=st(bT),bie=ZE,yie=bie,$ie=yie,_ie=$ie,wie=_ie,yT=st(wie);function x1(r,t){var e;return x1=w1?yT(e=w1).call(e):function(n,a){return n.__proto__=a,n},x1(r,t)}function xie(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=oie(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),mp(r,"prototype",{writable:!1}),t&&x1(r,t)}function Sie(r,t){if(t&&(Jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vT(r)}var Eie=Cee,kie=Eie,Tie=kie,Oie=Tie,$T=Oie,r3=st($T);function Tm(r){var t;return Tm=w1?yT(t=r3).call(t):function(i){return i.__proto__||r3(i)},Tm(r)}var _T={exports:{}},wT={exports:{}};(function(r){var t=by,e=XE;function i(n){"@babel/helpers - typeof";return r.exports=i=typeof t=="function"&&typeof e=="symbol"?function(a){return typeof a}:function(a){return a&&typeof t=="function"&&a.constructor===t&&a!==t.prototype?"symbol":typeof a},r.exports.__esModule=!0,r.exports.default=r.exports,i(n)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports})(wT);var Aie=wT.exports,Iie=yk,Cie=Iie,Pie=Cie,Die=Pie,Nie=Die,i3=mr,Rie=xy,Mie=jo,Bie=$i,Fie=function(r,t,e){for(var i=Rie(t),n=Bie.f,a=Mie.f,s=0;s<i.length;s++){var o=i[s];!i3(r,o)&&!(e&&i3(e,o))&&n(r,o,a(t,o))}},zie=Ur,Lie=_a,jie=function(r,t){zie(t)&&"cause"in t&&Lie(r,"cause",t.cause)},Uie=Ut,xT=Error,qie=Uie("".replace),Hie=function(r){return String(new xT(r).stack)}("zxcasd"),ST=/\n\s*at [^:]*:[^\n]*/,Wie=ST.test(Hie),Gie=function(r,t){if(Wie&&typeof r=="string"&&!xT.prepareStackTrace)for(;t--;)r=qie(r,ST,"");return r},Vie=It,Xie=Uo,Kie=!Vie(function(){var r=new Error("a");return"stack"in r?(Object.defineProperty(r,"stack",Xie(1,7)),r.stack!==7):!0}),Yie=_a,Jie=Gie,Qie=Kie,n3=Error.captureStackTrace,Zie=function(r,t,e,i){Qie&&(n3?n3(r,t):Yie(r,"stack",Jie(e,i)))},ene=Ws,tne=Tr,rne=Ii,ine=vu,nne=ik,ane=Ci,a3=hr,sne=$y,one=Ip,s3=rk,lne=TypeError,Jh=function(r,t){this.stopped=r,this.result=t},o3=Jh.prototype,Vo=function(r,t,e){var i=e&&e.that,n=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_RECORD),s=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=ene(t,i),u,f,h,c,m,d,v,b=function(_){return u&&s3(u,"normal",_),new Jh(!0,_)},g=function(_){return n?(rne(_),o?l(_[0],_[1],b):l(_[0],_[1])):o?l(_,b):l(_)};if(a)u=r.iterator;else if(s)u=r;else{if(f=one(r),!f)throw new lne(ine(r)+" is not iterable");if(nne(f)){for(h=0,c=ane(r);c>h;h++)if(m=g(r[h]),m&&a3(o3,m))return m;return new Jh(!1)}u=sne(r,f)}for(d=a?r.next:u.next;!(v=tne(d,u)).done;){try{m=g(v.value)}catch(_){s3(u,"throw",_)}if(typeof m=="object"&&m&&a3(o3,m))return m}return new Jh(!1)},une=qo,fne=function(r,t){return r===void 0?arguments.length<2?"":t:une(r)},cne=it,hne=hr,mne=Tp,Om=BE,pne=Fie,ET=Ho,Z0=_a,ev=Uo,dne=jie,vne=Zie,gne=Vo,bne=fne,yne=Xt,$ne=yne("toStringTag"),Am=Error,_ne=[].push,tu=function(t,e){var i=hne(tv,this),n;Om?n=Om(new Am,i?mne(this):tv):(n=i?this:ET(tv),Z0(n,$ne,"Error")),e!==void 0&&Z0(n,"message",bne(e)),vne(n,tu,n.stack,1),arguments.length>2&&dne(n,arguments[2]);var a=[];return gne(t,_ne,{that:a}),Z0(n,"errors",a),n};Om?Om(tu,Am):pne(tu,Am,{name:!0});var tv=tu.prototype=ET(Am.prototype,{constructor:ev(1,tu),message:ev(1,""),name:ev(1,"AggregateError")});cne({global:!0,constructor:!0,arity:2},{AggregateError:tu});var wne=ri,xne=uy,Sne=Xt,Ene=kr,l3=Sne("species"),kT=function(r){var t=wne(r);Ene&&t&&!t[l3]&&xne(t,l3,{configurable:!0,get:function(){return this}})},kne=hr,Tne=TypeError,Dy=function(r,t){if(kne(t,r))return r;throw new Tne("Incorrect invocation")},u3=Ii,One=aT,Ane=mu,Ine=Xt,Cne=Ine("species"),TT=function(r,t){var e=u3(r).constructor,i;return e===void 0||Ane(i=u3(e)[Cne])?t:One(i)},Pne=Hs,OT=/(?:ipad|iphone|ipod).*applewebkit/i.test(Pne),Oi=Ht,Dne=hu,Nne=Ws,f3=Zt,Rne=mr,AT=It,c3=iE,Mne=ac,h3=ny,Bne=Ek,Fne=OT,zne=oc,S1=Oi.setImmediate,E1=Oi.clearImmediate,Lne=Oi.process,rv=Oi.Dispatch,jne=Oi.Function,m3=Oi.MessageChannel,Une=Oi.String,iv=0,sf={},p3="onreadystatechange",Rf,no,nv,av;AT(function(){Rf=Oi.location});var Ny=function(r){if(Rne(sf,r)){var t=sf[r];delete sf[r],t()}},sv=function(r){return function(){Ny(r)}},d3=function(r){Ny(r.data)},v3=function(r){Oi.postMessage(Une(r),Rf.protocol+"//"+Rf.host)};(!S1||!E1)&&(S1=function(t){Bne(arguments.length,1);var e=f3(t)?t:jne(t),i=Mne(arguments,1);return sf[++iv]=function(){Dne(e,void 0,i)},no(iv),iv},E1=function(t){delete sf[t]},zne?no=function(r){Lne.nextTick(sv(r))}:rv&&rv.now?no=function(r){rv.now(sv(r))}:m3&&!Fne?(nv=new m3,av=nv.port2,nv.port1.onmessage=d3,no=Nne(av.postMessage,av)):Oi.addEventListener&&f3(Oi.postMessage)&&!Oi.importScripts&&Rf&&Rf.protocol!=="file:"&&!AT(v3)?(no=v3,Oi.addEventListener("message",d3,!1)):p3 in h3("script")?no=function(r){c3.appendChild(h3("script"))[p3]=function(){c3.removeChild(this),Ny(r)}}:no=function(r){setTimeout(sv(r),0)});var IT={set:S1,clear:E1},CT=function(){this.head=null,this.tail=null};CT.prototype={add:function(r){var t={item:r,next:null},e=this.tail;e?e.next=t:this.head=t,this.tail=t},get:function(){var r=this.head;if(r){var t=this.head=r.next;return t===null&&(this.tail=null),r.item}}};var PT=CT,qne=Hs,Hne=/ipad|iphone|ipod/i.test(qne)&&typeof Pebble<"u",Wne=Hs,Gne=/web0s(?!.*chrome)/i.test(Wne),Ro=Ht,g3=Ws,Vne=jo.f,ov=IT.set,Xne=PT,Kne=OT,Yne=Hne,Jne=Gne,lv=oc,b3=Ro.MutationObserver||Ro.WebKitMutationObserver,y3=Ro.document,$3=Ro.process,mh=Ro.Promise,_3=Vne(Ro,"queueMicrotask"),k1=_3&&_3.value,vl,uv,fv,ph,w3;if(!k1){var dh=new Xne,vh=function(){var r,t;for(lv&&(r=$3.domain)&&r.exit();t=dh.get();)try{t()}catch(e){throw dh.head&&vl(),e}r&&r.enter()};!Kne&&!lv&&!Jne&&b3&&y3?(uv=!0,fv=y3.createTextNode(""),new b3(vh).observe(fv,{characterData:!0}),vl=function(){fv.data=uv=!uv}):!Yne&&mh&&mh.resolve?(ph=mh.resolve(void 0),ph.constructor=mh,w3=g3(ph.then,ph),vl=function(){w3(vh)}):lv?vl=function(){$3.nextTick(vh)}:(ov=g3(ov,Ro),vl=function(){ov(vh)}),k1=function(r){dh.head||vl(),dh.add(r)}}var Qne=k1,Zne=function(r,t){try{arguments.length===1?console.error(r):console.error(r,t)}catch{}},Su=function(r){try{return{error:!1,value:r()}}catch(t){return{error:!0,value:t}}},eae=Ht,Eu=eae.Promise,DT=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",tae=DT,rae=oc,iae=!tae&&!rae&&typeof window=="object"&&typeof document=="object",nae=Ht,of=Eu,aae=Zt,sae=H8,oae=Y8,lae=Xt,uae=iae,fae=DT,cv=pu,x3=of&&of.prototype,cae=lae("species"),T1=!1,NT=aae(nae.PromiseRejectionEvent),hae=sae("Promise",function(){var r=oae(of),t=r!==String(of);if(!t&&cv===66||!(x3.catch&&x3.finally))return!0;if(!cv||cv<51||!/native code/.test(r)){var e=new of(function(a){a(1)}),i=function(a){a(function(){},function(){})},n=e.constructor={};if(n[cae]=i,T1=e.then(function(){})instanceof i,!T1)return!0}return!t&&(uae||fae)&&!NT}),mc={CONSTRUCTOR:hae,REJECTION_EVENT:NT,SUBCLASSING:T1},Wn={},S3=bi,mae=TypeError,pae=function(r){var t,e;this.promise=new r(function(i,n){if(t!==void 0||e!==void 0)throw new mae("Bad Promise constructor");t=i,e=n}),this.resolve=S3(t),this.reject=S3(e)};Wn.f=function(r){return new pae(r)};var dae=it,Im=oc,Rs=Ht,pc=Tr,vae=yu,gae=Wo,bae=kT,yae=bi,O1=Zt,$ae=Ur,_ae=Dy,wae=TT,RT=IT.set,Ry=Qne,xae=Zne,Sae=Su,Eae=PT,MT=$u,A1=Eu,BT=mc,FT=Wn,Mp="Promise",zT=BT.CONSTRUCTOR,kae=BT.REJECTION_EVENT,hv=MT.getterFor(Mp),Tae=MT.set,Oae=A1&&A1.prototype,Cl=A1,mv=Oae,LT=Rs.TypeError,I1=Rs.document,My=Rs.process,C1=FT.f,Aae=C1,Iae=!!(I1&&I1.createEvent&&Rs.dispatchEvent),jT="unhandledrejection",Cae="rejectionhandled",E3=0,UT=1,Pae=2,By=1,qT=2,gh,k3,Dae,HT=function(r){var t;return $ae(r)&&O1(t=r.then)?t:!1},WT=function(r,t){var e=t.value,i=t.state===UT,n=i?r.ok:r.fail,a=r.resolve,s=r.reject,o=r.domain,l,u,f;try{n?(i||(t.rejection===qT&&Rae(t),t.rejection=By),n===!0?l=e:(o&&o.enter(),l=n(e),o&&(o.exit(),f=!0)),l===r.promise?s(new LT("Promise-chain cycle")):(u=HT(l))?pc(u,l,a,s):a(l)):s(e)}catch(h){o&&!f&&o.exit(),s(h)}},GT=function(r,t){r.notified||(r.notified=!0,Ry(function(){for(var e=r.reactions,i;i=e.get();)WT(i,r);r.notified=!1,t&&!r.rejection&&Nae(r)}))},VT=function(r,t,e){var i,n;Iae?(i=I1.createEvent("Event"),i.promise=t,i.reason=e,i.initEvent(r,!1,!0),Rs.dispatchEvent(i)):i={promise:t,reason:e},!kae&&(n=Rs["on"+r])?n(i):r===jT&&xae("Unhandled promise rejection",e)},Nae=function(r){pc(RT,Rs,function(){var t=r.facade,e=r.value,i=T3(r),n;if(i&&(n=Sae(function(){Im?My.emit("unhandledRejection",e,t):VT(jT,t,e)}),r.rejection=Im||T3(r)?qT:By,n.error))throw n.value})},T3=function(r){return r.rejection!==By&&!r.parent},Rae=function(r){pc(RT,Rs,function(){var t=r.facade;Im?My.emit("rejectionHandled",t):VT(Cae,t,r.value)})},Pl=function(r,t,e){return function(i){r(t,i,e)}},jl=function(r,t,e){r.done||(r.done=!0,e&&(r=e),r.value=t,r.state=Pae,GT(r,!0))},P1=function(r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(r.facade===t)throw new LT("Promise can't be resolved itself");var i=HT(t);i?Ry(function(){var n={done:!1};try{pc(i,t,Pl(P1,n,r),Pl(jl,n,r))}catch(a){jl(n,a,r)}}):(r.value=t,r.state=UT,GT(r,!1))}catch(n){jl({done:!1},n,r)}}};zT&&(Cl=function(t){_ae(this,mv),yae(t),pc(gh,this);var e=hv(this);try{t(Pl(P1,e),Pl(jl,e))}catch(i){jl(e,i)}},mv=Cl.prototype,gh=function(t){Tae(this,{type:Mp,done:!1,notified:!1,parent:!1,reactions:new Eae,rejection:!1,state:E3,value:void 0})},gh.prototype=vae(mv,"then",function(t,e){var i=hv(this),n=C1(wae(this,Cl));return i.parent=!0,n.ok=O1(t)?t:!0,n.fail=O1(e)&&e,n.domain=Im?My.domain:void 0,i.state===E3?i.reactions.add(n):Ry(function(){WT(n,i)}),n.promise}),k3=function(){var r=new gh,t=hv(r);this.promise=r,this.resolve=Pl(P1,t),this.reject=Pl(jl,t)},FT.f=C1=function(r){return r===Cl||r===Dae?new k3(r):Aae(r)});dae({global:!0,constructor:!0,wrap:!0,forced:zT},{Promise:Cl});gae(Cl,Mp,!1,!0);bae(Mp);var Mae=Eu,Bae=sk,Fae=mc.CONSTRUCTOR,Bp=Fae||!Bae(function(r){Mae.all(r).then(void 0,function(){})}),zae=it,Lae=Tr,jae=bi,Uae=Wn,qae=Su,Hae=Vo,Wae=Bp;zae({target:"Promise",stat:!0,forced:Wae},{all:function(t){var e=this,i=Uae.f(e),n=i.resolve,a=i.reject,s=qae(function(){var o=jae(e.resolve),l=[],u=0,f=1;Hae(t,function(h){var c=u++,m=!1;f++,Lae(o,e,h).then(function(d){m||(m=!0,l[c]=d,--f||n(l))},a)}),--f||n(l)});return s.error&&a(s.value),i.promise}});var Gae=it,Vae=mc.CONSTRUCTOR,O3=Eu;O3&&O3.prototype;Gae({target:"Promise",proto:!0,forced:Vae,real:!0},{catch:function(r){return this.then(void 0,r)}});var Xae=it,Kae=Tr,Yae=bi,Jae=Wn,Qae=Su,Zae=Vo,ese=Bp;Xae({target:"Promise",stat:!0,forced:ese},{race:function(t){var e=this,i=Jae.f(e),n=i.reject,a=Qae(function(){var s=Yae(e.resolve);Zae(t,function(o){Kae(s,e,o).then(i.resolve,n)})});return a.error&&n(a.value),i.promise}});var tse=it,rse=Tr,ise=Wn,nse=mc.CONSTRUCTOR;tse({target:"Promise",stat:!0,forced:nse},{reject:function(t){var e=ise.f(this);return rse(e.reject,void 0,t),e.promise}});var ase=Ii,sse=Ur,ose=Wn,XT=function(r,t){if(ase(r),sse(t)&&t.constructor===r)return t;var e=ose.f(r),i=e.resolve;return i(t),e.promise},lse=it,use=ri,fse=yj,cse=Eu,hse=mc.CONSTRUCTOR,mse=XT,pse=use("Promise"),dse=!hse;lse({target:"Promise",stat:!0,forced:fse},{resolve:function(t){return mse(dse&&this===pse?cse:this,t)}});var vse=it,gse=Tr,bse=bi,yse=Wn,$se=Su,_se=Vo,wse=Bp;vse({target:"Promise",stat:!0,forced:wse},{allSettled:function(t){var e=this,i=yse.f(e),n=i.resolve,a=i.reject,s=$se(function(){var o=bse(e.resolve),l=[],u=0,f=1;_se(t,function(h){var c=u++,m=!1;f++,gse(o,e,h).then(function(d){m||(m=!0,l[c]={status:"fulfilled",value:d},--f||n(l))},function(d){m||(m=!0,l[c]={status:"rejected",reason:d},--f||n(l))})}),--f||n(l)});return s.error&&a(s.value),i.promise}});var xse=it,Sse=Tr,Ese=bi,kse=ri,Tse=Wn,Ose=Su,Ase=Vo,Ise=Bp,A3="No one promise resolved";xse({target:"Promise",stat:!0,forced:Ise},{any:function(t){var e=this,i=kse("AggregateError"),n=Tse.f(e),a=n.resolve,s=n.reject,o=Ose(function(){var l=Ese(e.resolve),u=[],f=0,h=1,c=!1;Ase(t,function(m){var d=f++,v=!1;h++,Sse(l,e,m).then(function(b){v||c||(c=!0,a(b))},function(b){v||c||(v=!0,u[d]=b,--h||s(new i(u,A3)))})}),--h||s(new i(u,A3))});return o.error&&s(o.value),n.promise}});var Cse=it,D1=Eu,Pse=It,Dse=ri,Nse=Zt,Rse=TT,I3=XT,Mse=D1&&D1.prototype,Bse=!!D1&&Pse(function(){Mse.finally.call({then:function(){}},function(){})});Cse({target:"Promise",proto:!0,real:!0,forced:Bse},{finally:function(r){var t=Rse(this,Dse("Promise")),e=Nse(r);return this.then(e?function(i){return I3(t,r()).then(function(){return i})}:r,e?function(i){return I3(t,r()).then(function(){throw i})}:r)}});var Fse=Wt,zse=Fse.Promise,Lse=zse,jse=Lse,Use=it,qse=Wn;Use({target:"Promise",stat:!0},{withResolvers:function(){var t=qse.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var Hse=jse,Wse=Hse,Gse=it,Vse=Wn,Xse=Su;Gse({target:"Promise",stat:!0,forced:!0},{try:function(r){var t=Vse.f(this),e=Xse(r);return(e.error?t.reject:t.resolve)(e.value),t.promise}});var Kse=Wse,Yse=Kse,Jse=Yse,Qse=$k,Zse=Qse,eoe=Zse,toe=eoe,roe=toe;(function(r){var t=Aie.default,e=X8,i=by,n=gT,a=$T,s=Nie,o=mk,l=bT,u=Jse,f=roe,h=dk;function c(){r.exports=c=function(){return d},r.exports.__esModule=!0,r.exports.default=r.exports;var m,d={},v=Object.prototype,b=v.hasOwnProperty,g=e||function(ce,ge,be){ce[ge]=be.value},_=typeof i=="function"?i:{},y=_.iterator||"@@iterator",$=_.asyncIterator||"@@asyncIterator",I=_.toStringTag||"@@toStringTag";function A(ce,ge,be){return e(ce,ge,{value:be,enumerable:!0,configurable:!0,writable:!0}),ce[ge]}try{A({},"")}catch{A=function(be,_e,Be){return be[_e]=Be}}function B(ce,ge,be,_e){var Be=ge&&ge.prototype instanceof L?ge:L,Fe=n(Be.prototype),We=new Te(_e||[]);return g(Fe,"_invoke",{value:oe(ce,be,We)}),Fe}function T(ce,ge,be){try{return{type:"normal",arg:ce.call(ge,be)}}catch(_e){return{type:"throw",arg:_e}}}d.wrap=B;var x="suspendedStart",U="suspendedYield",O="executing",F="completed",D={};function L(){}function H(){}function Y(){}var W={};A(W,y,function(){return this});var z=a,ne=z&&z(z(Ie([])));ne&&ne!==v&&b.call(ne,y)&&(W=ne);var ue=Y.prototype=L.prototype=n(W);function K(ce){var ge;s(ge=["next","throw","return"]).call(ge,function(be){A(ce,be,function(_e){return this._invoke(be,_e)})})}function Q(ce,ge){function be(Be,Fe,We,q){var k=T(ce[Be],ce,Fe);if(k.type!=="throw"){var P=k.arg,G=P.value;return G&&t(G)=="object"&&b.call(G,"__await")?ge.resolve(G.__await).then(function(le){be("next",le,We,q)},function(le){be("throw",le,We,q)}):ge.resolve(G).then(function(le){P.value=le,We(P)},function(le){return be("throw",le,We,q)})}q(k.arg)}var _e;g(this,"_invoke",{value:function(Fe,We){function q(){return new ge(function(k,P){be(Fe,We,k,P)})}return _e=_e?_e.then(q,q):q()}})}function oe(ce,ge,be){var _e=x;return function(Be,Fe){if(_e===O)throw new Error("Generator is already running");if(_e===F){if(Be==="throw")throw Fe;return{value:m,done:!0}}for(be.method=Be,be.arg=Fe;;){var We=be.delegate;if(We){var q=Ae(We,be);if(q){if(q===D)continue;return q}}if(be.method==="next")be.sent=be._sent=be.arg;else if(be.method==="throw"){if(_e===x)throw _e=F,be.arg;be.dispatchException(be.arg)}else be.method==="return"&&be.abrupt("return",be.arg);_e=O;var k=T(ce,ge,be);if(k.type==="normal"){if(_e=be.done?F:U,k.arg===D)continue;return{value:k.arg,done:be.done}}k.type==="throw"&&(_e=F,be.method="throw",be.arg=k.arg)}}}function Ae(ce,ge){var be=ge.method,_e=ce.iterator[be];if(_e===m)return ge.delegate=null,be==="throw"&&ce.iterator.return&&(ge.method="return",ge.arg=m,Ae(ce,ge),ge.method==="throw")||be!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+be+"' method")),D;var Be=T(_e,ce.iterator,ge.arg);if(Be.type==="throw")return ge.method="throw",ge.arg=Be.arg,ge.delegate=null,D;var Fe=Be.arg;return Fe?Fe.done?(ge[ce.resultName]=Fe.value,ge.next=ce.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=m),ge.delegate=null,D):Fe:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,D)}function we(ce){var ge,be={tryLoc:ce[0]};1 in ce&&(be.catchLoc=ce[1]),2 in ce&&(be.finallyLoc=ce[2],be.afterLoc=ce[3]),o(ge=this.tryEntries).call(ge,be)}function Se(ce){var ge=ce.completion||{};ge.type="normal",delete ge.arg,ce.completion=ge}function Te(ce){this.tryEntries=[{tryLoc:"root"}],s(ce).call(ce,we,this),this.reset(!0)}function Ie(ce){if(ce||ce===""){var ge=ce[y];if(ge)return ge.call(ce);if(typeof ce.next=="function")return ce;if(!isNaN(ce.length)){var be=-1,_e=function Be(){for(;++be<ce.length;)if(b.call(ce,be))return Be.value=ce[be],Be.done=!1,Be;return Be.value=m,Be.done=!0,Be};return _e.next=_e}}throw new TypeError(t(ce)+" is not iterable")}return H.prototype=Y,g(ue,"constructor",{value:Y,configurable:!0}),g(Y,"constructor",{value:H,configurable:!0}),H.displayName=A(Y,I,"GeneratorFunction"),d.isGeneratorFunction=function(ce){var ge=typeof ce=="function"&&ce.constructor;return!!ge&&(ge===H||(ge.displayName||ge.name)==="GeneratorFunction")},d.mark=function(ce){return l?l(ce,Y):(ce.__proto__=Y,A(ce,I,"GeneratorFunction")),ce.prototype=n(ue),ce},d.awrap=function(ce){return{__await:ce}},K(Q.prototype),A(Q.prototype,$,function(){return this}),d.AsyncIterator=Q,d.async=function(ce,ge,be,_e,Be){Be===void 0&&(Be=u);var Fe=new Q(B(ce,ge,be,_e),Be);return d.isGeneratorFunction(ge)?Fe:Fe.next().then(function(We){return We.done?We.value:Fe.next()})},K(ue),A(ue,I,"Generator"),A(ue,y,function(){return this}),A(ue,"toString",function(){return"[object Generator]"}),d.keys=function(ce){var ge=Object(ce),be=[];for(var _e in ge)o(be).call(be,_e);return f(be).call(be),function Be(){for(;be.length;){var Fe=be.pop();if(Fe in ge)return Be.value=Fe,Be.done=!1,Be}return Be.done=!0,Be}},d.values=Ie,Te.prototype={constructor:Te,reset:function(ge){var be;if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,s(be=this.tryEntries).call(be,Se),!ge)for(var _e in this)_e.charAt(0)==="t"&&b.call(this,_e)&&!isNaN(+h(_e).call(_e,1))&&(this[_e]=m)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var be=this;function _e(P,G){return We.type="throw",We.arg=ge,be.next=P,G&&(be.method="next",be.arg=m),!!G}for(var Be=this.tryEntries.length-1;Be>=0;--Be){var Fe=this.tryEntries[Be],We=Fe.completion;if(Fe.tryLoc==="root")return _e("end");if(Fe.tryLoc<=this.prev){var q=b.call(Fe,"catchLoc"),k=b.call(Fe,"finallyLoc");if(q&&k){if(this.prev<Fe.catchLoc)return _e(Fe.catchLoc,!0);if(this.prev<Fe.finallyLoc)return _e(Fe.finallyLoc)}else if(q){if(this.prev<Fe.catchLoc)return _e(Fe.catchLoc,!0)}else{if(!k)throw new Error("try statement without catch or finally");if(this.prev<Fe.finallyLoc)return _e(Fe.finallyLoc)}}}},abrupt:function(ge,be){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Be=this.tryEntries[_e];if(Be.tryLoc<=this.prev&&b.call(Be,"finallyLoc")&&this.prev<Be.finallyLoc){var Fe=Be;break}}Fe&&(ge==="break"||ge==="continue")&&Fe.tryLoc<=be&&be<=Fe.finallyLoc&&(Fe=null);var We=Fe?Fe.completion:{};return We.type=ge,We.arg=be,Fe?(this.method="next",this.next=Fe.finallyLoc,D):this.complete(We)},complete:function(ge,be){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&be&&(this.next=be),D},finish:function(ge){for(var be=this.tryEntries.length-1;be>=0;--be){var _e=this.tryEntries[be];if(_e.finallyLoc===ge)return this.complete(_e.completion,_e.afterLoc),Se(_e),D}},catch:function(ge){for(var be=this.tryEntries.length-1;be>=0;--be){var _e=this.tryEntries[be];if(_e.tryLoc===ge){var Be=_e.completion;if(Be.type==="throw"){var Fe=Be.arg;Se(_e)}return Fe}}throw new Error("illegal catch attempt")},delegateYield:function(ge,be,_e){return this.delegate={iterator:Ie(ge),resultName:be,nextLoc:_e},this.method==="next"&&(this.arg=m),D}},d}r.exports=c,r.exports.__esModule=!0,r.exports.default=r.exports})(_T);var ioe=_T.exports,Qh=ioe(),noe=Qh;try{regeneratorRuntime=Qh}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Qh:Function("r","regeneratorRuntime = r")(Qh)}var oi=st(noe),KT={exports:{}},aoe=It,soe=aoe(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),ooe=It,loe=Ur,uoe=qs,C3=soe,Zh=Object.isExtensible,foe=ooe(function(){Zh(1)}),coe=foe||C3?function(t){return!loe(t)||C3&&uoe(t)==="ArrayBuffer"?!1:Zh?Zh(t):!0}:Zh,hoe=It,moe=!hoe(function(){return Object.isExtensible(Object.preventExtensions({}))}),poe=it,doe=Ut,voe=Zf,goe=Ur,Fy=mr,boe=$i.f,P3=ec,yoe=ly,zy=coe,$oe=cp,_oe=moe,YT=!1,da=$oe("meta"),woe=0,Ly=function(r){boe(r,da,{value:{objectID:"O"+woe++,weakData:{}}})},xoe=function(r,t){if(!goe(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!Fy(r,da)){if(!zy(r))return"F";if(!t)return"E";Ly(r)}return r[da].objectID},Soe=function(r,t){if(!Fy(r,da)){if(!zy(r))return!0;if(!t)return!1;Ly(r)}return r[da].weakData},Eoe=function(r){return _oe&&YT&&zy(r)&&!Fy(r,da)&&Ly(r),r},koe=function(){Toe.enable=function(){},YT=!0;var r=P3.f,t=doe([].splice),e={};e[da]=1,r(e).length&&(P3.f=function(i){for(var n=r(i),a=0,s=n.length;a<s;a++)if(n[a]===da){t(n,a,1);break}return n},poe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:yoe.f}))},Toe=KT.exports={enable:koe,fastKey:xoe,getWeakData:Soe,onFreeze:Eoe};voe[da]=!0;var JT=KT.exports,Ooe=it,Aoe=Ht,Ioe=JT,Coe=It,Poe=_a,Doe=Vo,Noe=Dy,Roe=Zt,Moe=Ur,Boe=mu,Foe=Wo,zoe=$i.f,Loe=_u.forEach,joe=kr,QT=$u,Uoe=QT.set,qoe=QT.getterFor,ZT=function(r,t,e){var i=r.indexOf("Map")!==-1,n=r.indexOf("Weak")!==-1,a=i?"set":"add",s=Aoe[r],o=s&&s.prototype,l={},u;if(!joe||!Roe(s)||!(n||o.forEach&&!Coe(function(){new s().entries().next()})))u=e.getConstructor(t,r,i,a),Ioe.enable();else{u=t(function(c,m){Uoe(Noe(c,f),{type:r,collection:new s}),Boe(m)||Doe(m,c[a],{that:c,AS_ENTRIES:i})});var f=u.prototype,h=qoe(r);Loe(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(c){var m=c==="add"||c==="set";c in o&&!(n&&c==="clear")&&Poe(f,c,function(d,v){var b=h(this).collection;if(!m&&n&&!Moe(d))return c==="get"?void 0:!1;var g=b[c](d===0?0:d,v);return m?this:g})}),n||zoe(f,"size",{configurable:!0,get:function(){return h(this).collection.size}})}return Foe(u,r,!1,!0),l[r]=u,Ooe({global:!0,forced:!0},l),n||e.setStrong(u,r,i),u},Hoe=yu,Woe=function(r,t,e){for(var i in t)e&&e.unsafe&&r[i]?r[i]=t[i]:Hoe(r,i,t[i],e);return r},Goe=Ho,Voe=uy,D3=Woe,Xoe=Ws,Koe=Dy,Yoe=mu,Joe=Vo,Qoe=dy,bh=vy,Zoe=kT,Hu=kr,N3=JT.fastKey,e9=$u,R3=e9.set,pv=e9.getterFor,t9={getConstructor:function(r,t,e,i){var n=r(function(u,f){Koe(u,a),R3(u,{type:t,index:Goe(null),first:void 0,last:void 0,size:0}),Hu||(u.size=0),Yoe(f)||Joe(f,u[i],{that:u,AS_ENTRIES:e})}),a=n.prototype,s=pv(t),o=function(u,f,h){var c=s(u),m=l(u,f),d,v;return m?m.value=h:(c.last=m={index:v=N3(f,!0),key:f,value:h,previous:d=c.last,next:void 0,removed:!1},c.first||(c.first=m),d&&(d.next=m),Hu?c.size++:u.size++,v!=="F"&&(c.index[v]=m)),u},l=function(u,f){var h=s(u),c=N3(f),m;if(c!=="F")return h.index[c];for(m=h.first;m;m=m.next)if(m.key===f)return m};return D3(a,{clear:function(){for(var f=this,h=s(f),c=h.index,m=h.first;m;)m.removed=!0,m.previous&&(m.previous=m.previous.next=void 0),delete c[m.index],m=m.next;h.first=h.last=void 0,Hu?h.size=0:f.size=0},delete:function(u){var f=this,h=s(f),c=l(f,u);if(c){var m=c.next,d=c.previous;delete h.index[c.index],c.removed=!0,d&&(d.next=m),m&&(m.previous=d),h.first===c&&(h.first=m),h.last===c&&(h.last=d),Hu?h.size--:f.size--}return!!c},forEach:function(f){for(var h=s(this),c=Xoe(f,arguments.length>1?arguments[1]:void 0),m;m=m?m.next:h.first;)for(c(m.value,m.key,this);m&&m.removed;)m=m.previous},has:function(f){return!!l(this,f)}}),D3(a,e?{get:function(f){var h=l(this,f);return h&&h.value},set:function(f,h){return o(this,f===0?0:f,h)}}:{add:function(f){return o(this,f=f===0?0:f,f)}}),Hu&&Voe(a,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(r,t,e){var i=t+" Iterator",n=pv(t),a=pv(i);Qoe(r,t,function(s,o){R3(this,{type:i,target:s,state:n(s),kind:o,last:void 0})},function(){for(var s=a(this),o=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,bh(void 0,!0)):bh(o==="keys"?l.key:o==="values"?l.value:[l.key,l.value],!1)},e?"entries":"values",!e,!0),Zoe(t)}},ele=ZT,tle=t9;ele("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},tle);var rle=Wt,ile=rle.Map,nle=ile,ale=nle,sle=ale,r9=st(sle),ole=it,lle=_u.some,ule=Ap,fle=ule("some");ole({target:"Array",proto:!0,forced:!fle},{some:function(t){return lle(this,t,arguments.length>1?arguments[1]:void 0)}});var cle=Gr,hle=cle("Array","some"),mle=hr,ple=hle,dv=Array.prototype,dle=function(r){var t=r.some;return r===dv||mle(dv,r)&&t===dv.some?ple:t},vle=dle,gle=vle,ble=gle,yle=st(ble),$le=Gr,_le=$le("Array","keys"),wle=_le,xle=wle,Sle=wa,Ele=mr,kle=hr,Tle=xle,vv=Array.prototype,Ole={DOMTokenList:!0,NodeList:!0},Ale=function(r){var t=r.keys;return r===vv||kle(vv,r)&&t===vv.keys||Ele(Ole,Sle(r))?Tle:t},Ile=Ale,gl=st(Ile),M3=sE,Cle=Math.floor,N1=function(r,t){var e=r.length,i=Cle(e/2);return e<8?Ple(r,t):Dle(r,N1(M3(r,0,i),t),N1(M3(r,i),t),t)},Ple=function(r,t){for(var e=r.length,i=1,n,a;i<e;){for(a=i,n=r[i];a&&t(r[a-1],n)>0;)r[a]=r[--a];a!==i++&&(r[a]=n)}return r},Dle=function(r,t,e,i){for(var n=t.length,a=e.length,s=0,o=0;s<n||o<a;)r[s+o]=s<n&&o<a?i(t[s],e[o])<=0?t[s++]:e[o++]:s<n?t[s++]:e[o++];return r},Nle=N1,Rle=Hs,B3=Rle.match(/firefox\/(\d+)/i),Mle=!!B3&&+B3[1],Ble=Hs,Fle=/MSIE|Trident/.test(Ble),zle=Hs,F3=zle.match(/AppleWebKit\/(\d+)\./),Lle=!!F3&&+F3[1],jle=it,i9=Ut,Ule=bi,qle=yi,z3=Ci,Hle=_k,L3=qo,jy=It,Wle=Nle,Gle=Ap,j3=Mle,Vle=Fle,U3=pu,q3=Lle,bs=[],H3=i9(bs.sort),Xle=i9(bs.push),Kle=jy(function(){bs.sort(void 0)}),Yle=jy(function(){bs.sort(null)}),Jle=Gle("sort"),n9=!jy(function(){if(U3)return U3<70;if(!(j3&&j3>3)){if(Vle)return!0;if(q3)return q3<603;var r="",t,e,i,n;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)bs.push({k:e+n,v:i})}for(bs.sort(function(a,s){return s.v-a.v}),n=0;n<bs.length;n++)e=bs[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!=="DGBEFHACIJK"}}),Qle=Kle||!Yle||!Jle||!n9,Zle=function(r){return function(t,e){return e===void 0?-1:t===void 0?1:r!==void 0?+r(t,e)||0:L3(t)>L3(e)?1:-1}};jle({target:"Array",proto:!0,forced:Qle},{sort:function(t){t!==void 0&&Ule(t);var e=qle(this);if(n9)return t===void 0?H3(e):H3(e,t);var i=[],n=z3(e),a,s;for(s=0;s<n;s++)s in e&&Xle(i,e[s]);for(Wle(i,Zle(t)),a=z3(i),s=0;s<a;)e[s]=i[s++];for(;s<n;)Hle(e,s++);return e}});var eue=Gr,tue=eue("Array","sort"),rue=hr,iue=tue,gv=Array.prototype,nue=function(r){var t=r.sort;return r===gv||rue(gv,r)&&t===gv.sort?iue:t},aue=nue,sue=aue,oue=sue,R1=st(oue),lue=Gr,uue=lue("Array","values"),fue=uue,cue=fue,hue=wa,mue=mr,pue=hr,due=cue,bv=Array.prototype,vue={DOMTokenList:!0,NodeList:!0},gue=function(r){var t=r.values;return r===bv||pue(bv,r)&&t===bv.values||mue(vue,hue(r))?due:t},bue=gue,W3=st(bue),yue=VE,Dl=st(yue),$ue=Gr,_ue=$ue("Array","entries"),wue=_ue,xue=wue,Sue=wa,Eue=mr,kue=hr,Tue=xue,yv=Array.prototype,Oue={DOMTokenList:!0,NodeList:!0},Aue=function(r){var t=r.entries;return r===yv||kue(yv,r)&&t===yv.entries||Eue(Oue,Sue(r))?Tue:t},Iue=Aue,Cue=st(Iue);let yh;const Pue=new Uint8Array(16);function Due(){if(!yh&&(yh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yh(Pue)}const Fr=[];for(let r=0;r<256;++r)Fr.push((r+256).toString(16).slice(1));function Nue(r,t=0){return Fr[r[t+0]]+Fr[r[t+1]]+Fr[r[t+2]]+Fr[r[t+3]]+"-"+Fr[r[t+4]]+Fr[r[t+5]]+"-"+Fr[r[t+6]]+Fr[r[t+7]]+"-"+Fr[r[t+8]]+Fr[r[t+9]]+"-"+Fr[r[t+10]]+Fr[r[t+11]]+Fr[r[t+12]]+Fr[r[t+13]]+Fr[r[t+14]]+Fr[r[t+15]]}const Rue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var G3={randomUUID:Rue};function Mue(r,t,e){if(G3.randomUUID&&!t&&!r)return G3.randomUUID();r=r||{};const i=r.random||(r.rng||Due)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let n=0;n<16;++n)t[e+n]=i[n];return t}return Nue(i)}function V3(r){return typeof r=="string"||typeof r=="number"}var Bue=function(){function r(t){lp(this,r),xs(this,"_queue",[]),xs(this,"_timeout",null),xs(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}return Op(r,[{key:"setOptions",value:function(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,i=this._extended.methods,n=0;n<i.length;n++){var a=i[n];a.original?e[a.name]=a.original:delete e[a.name]}this._extended=null}}},{key:"replace",value:function(e,i){var n=this,a=e[i];if(!a)throw new Error("Method "+i+" undefined");e[i]=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];n.queue({args:o,fn:a,context:this})}}},{key:"queue",value:function(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=fte(function(){e.flush()},this.delay))}},{key:"flush",value:function(){var e,i;Co(e=wk(i=this._queue).call(i,0)).call(e,function(n){n.fn.apply(n.context||n.fn,n.args||[])})}}],[{key:"extend",value:function(e,i){var n=new r(i);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var a=[{name:"flush",original:void 0}];if(i&&i.replace)for(var s=0;s<i.replace.length;s++){var o=i.replace[s];a.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:a},n}}]),r}(),Fue=function(){function r(){lp(this,r),xs(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),xs(this,"subscribe",r.prototype.on),xs(this,"unsubscribe",r.prototype.off)}return Op(r,[{key:"_trigger",value:function(e,i,n){var a,s;if(e==="*")throw new Error("Cannot trigger event *");Co(a=Pp(s=[]).call(s,hi(this._subscribers[e]),hi(this._subscribers["*"]))).call(a,function(o){o(e,i,n??null)})}},{key:"on",value:function(e,i){typeof i=="function"&&this._subscribers[e].push(i)}},{key:"off",value:function(e,i){var n;this._subscribers[e]=Ol(n=this._subscribers[e]).call(n,function(a){return a!==i})}}]),r}(),zue=ZT,Lue=t9;zue("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Lue);var jue=Wt,Uue=jue.Set,que=Uue,Hue=que,Wue=Hue,$v=st(Wue),Gue=$y,Vue=Gue,Xue=Vue,Kue=Xue,Yue=Kue,Jue=Yue,Que=Jue,Zue=Que,efe=Zue,tfe=efe,_v=st(tfe);function En(r,t){var e=typeof Cp<"u"&&wy(r)||r["@@iterator"];if(!e){if(Ti(r)||(e=rfe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function rfe(r,t){var e;if(r){if(typeof r=="string")return X3(r,t);var i=Dp(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return _y(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return X3(r,t)}}function X3(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var K3=function(r){function t(e){lp(this,t),this._pairs=e}return Op(t,[{key:r,value:oi.mark(function e(){var i,n,a,s,o;return oi.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=En(this._pairs),u.prev=1,i.s();case 3:if((n=i.n()).done){u.next=9;break}return a=si(n.value,2),s=a[0],o=a[1],u.next=7,[s,o];case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),i.e(u.t0);case 14:return u.prev=14,i.f(),u.finish(14);case 17:case"end":return u.stop()}},e,this,[[1,11,14,17]])})},{key:"entries",value:oi.mark(function e(){var i,n,a,s,o;return oi.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=En(this._pairs),u.prev=1,i.s();case 3:if((n=i.n()).done){u.next=9;break}return a=si(n.value,2),s=a[0],o=a[1],u.next=7,[s,o];case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),i.e(u.t0);case 14:return u.prev=14,i.f(),u.finish(14);case 17:case"end":return u.stop()}},e,this,[[1,11,14,17]])})},{key:"keys",value:oi.mark(function e(){var i,n,a,s;return oi.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=En(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return a=si(n.value,1),s=a[0],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},e,this,[[1,11,14,17]])})},{key:"values",value:oi.mark(function e(){var i,n,a,s;return oi.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=En(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return a=si(n.value,2),s=a[1],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},e,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var i;return ln(i=hi(this._pairs)).call(i,function(n){return n[0]})}},{key:"toItemArray",value:function(){var i;return ln(i=hi(this._pairs)).call(i,function(n){return n[1]})}},{key:"toEntryArray",value:function(){return hi(this._pairs)}},{key:"toObjectMap",value:function(){var i=Lee(null),n=En(this._pairs),a;try{for(n.s();!(a=n.n()).done;){var s=si(a.value,2),o=s[0],l=s[1];i[o]=l}}catch(u){n.e(u)}finally{n.f()}return i}},{key:"toMap",value:function(){return new r9(this._pairs)}},{key:"toIdSet",value:function(){return new $v(this.toIdArray())}},{key:"toItemSet",value:function(){return new $v(this.toItemArray())}},{key:"cache",value:function(){return new t(hi(this._pairs))}},{key:"distinct",value:function(i){var n=new $v,a=En(this._pairs),s;try{for(a.s();!(s=a.n()).done;){var o=si(s.value,2),l=o[0],u=o[1];n.add(i(u,l))}}catch(f){a.e(f)}finally{a.f()}return n}},{key:"filter",value:function(i){var n=this._pairs;return new t({[Dl](){return oi.mark(function a(){var s,o,l,u,f;return oi.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=En(n),c.prev=1,s.s();case 3:if((o=s.n()).done){c.next=10;break}if(l=si(o.value,2),u=l[0],f=l[1],!i(f,u)){c.next=8;break}return c.next=8,[u,f];case 8:c.next=3;break;case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),s.e(c.t0);case 15:return c.prev=15,s.f(),c.finish(15);case 18:case"end":return c.stop()}},a,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(i){var n=En(this._pairs),a;try{for(n.s();!(a=n.n()).done;){var s=si(a.value,2),o=s[0],l=s[1];i(l,o)}}catch(u){n.e(u)}finally{n.f()}}},{key:"map",value:function(i){var n=this._pairs;return new t({[Dl](){return oi.mark(function a(){var s,o,l,u,f;return oi.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=En(n),c.prev=1,s.s();case 3:if((o=s.n()).done){c.next=9;break}return l=si(o.value,2),u=l[0],f=l[1],c.next=7,[u,i(f,u)];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),s.e(c.t0);case 14:return c.prev=14,s.f(),c.finish(14);case 17:case"end":return c.stop()}},a,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(i){var n=_v(this._pairs),a=n.next();if(a.done)return null;for(var s=a.value[1],o=i(a.value[1],a.value[0]);!(a=n.next()).done;){var l=si(a.value,2),u=l[0],f=l[1],h=i(f,u);h>o&&(o=h,s=f)}return s}},{key:"min",value:function(i){var n=_v(this._pairs),a=n.next();if(a.done)return null;for(var s=a.value[1],o=i(a.value[1],a.value[0]);!(a=n.next()).done;){var l=si(a.value,2),u=l[0],f=l[1],h=i(f,u);h<o&&(o=h,s=f)}return s}},{key:"reduce",value:function(i,n){var a=En(this._pairs),s;try{for(a.s();!(s=a.n()).done;){var o=si(s.value,2),l=o[0],u=o[1];n=i(n,u,l)}}catch(f){a.e(f)}finally{a.f()}return n}},{key:"sort",value:function(i){var n=this;return new t({[Dl]:function(){var a;return _v(R1(a=hi(n._pairs)).call(a,function(s,o){var l=si(s,2),u=l[0],f=l[1],h=si(o,2),c=h[0],m=h[1];return i(f,m,u,c)}))}})}}]),t}(Dl);function Y3(r,t){var e=Sy(r);if(Zw){var i=Zw(r);t&&(i=Ol(i).call(i,function(n){return mT(r,n).enumerable})),e.push.apply(e,i)}return e}function J3(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Co(e=Y3(Object(n),!0)).call(e,function(a){xs(r,a,n[a])}):e3?eie(r,e3(n)):Co(i=Y3(Object(n))).call(i,function(a){rie(r,a,mT(n,a))})}return r}function wv(r,t){var e=typeof Cp<"u"&&wy(r)||r["@@iterator"];if(!e){if(Ti(r)||(e=ife(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function ife(r,t){var e;if(r){if(typeof r=="string")return Q3(r,t);var i=Dp(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return _y(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Q3(r,t)}}function Q3(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function nfe(r){var t=afe();return function(){var i=Tm(r),n;if(t){var a=Tm(this).constructor;n=Yh(i,arguments,a)}else n=i.apply(this,arguments);return Sie(this,n)}}function afe(){if(typeof Reflect>"u"||!Yh||Yh.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Yh(Boolean,[],function(){})),!0}catch{return!1}}function sfe(r,t){return r[t]==null&&(r[t]=Mue()),r}var Cm=function(r){xie(e,r);var t=nfe(e);function e(i,n){var a;return lp(this,e),a=t.call(this),xs(vT(a),"_queue",null),i&&!Ti(i)&&(n=i,i=[]),a._options=n||{},a._data=new r9,a.length=0,a._idProp=a._options.fieldId||"id",i&&i.length&&a.add(i),a.setOptions(n),a}return Op(e,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(n){n&&n.queue!==void 0&&(n.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Bue.extend(this,{replace:["add","update","remove"]})),n.queue&&typeof n.queue=="object"&&this._queue.setOptions(n.queue)))}},{key:"add",value:function(n,a){var s=this,o=[],l;if(Ti(n)){var u=ln(n).call(n,function(c){return c[s._idProp]});if(yle(u).call(u,function(c){return s._data.has(c)}))throw new Error("A duplicate id was found in the parameter array.");for(var f=0,h=n.length;f<h;f++)l=this._addItem(n[f]),o.push(l)}else if(n&&typeof n=="object")l=this._addItem(n),o.push(l);else throw new Error("Unknown dataType");return o.length&&this._trigger("add",{items:o},a),o}},{key:"update",value:function(n,a){var s=this,o=[],l=[],u=[],f=[],h=this._idProp,c=function(g){var _=g[h];if(_!=null&&s._data.has(_)){var y=g,$=wee({},s._data.get(_)),I=s._updateItem(y);l.push(I),f.push(y),u.push($)}else{var A=s._addItem(g);o.push(A)}};if(Ti(n))for(var m=0,d=n.length;m<d;m++)n[m]&&typeof n[m]=="object"?c(n[m]):console.warn("Ignoring input item, which is not an object at index "+m);else if(n&&typeof n=="object")c(n);else throw new Error("Unknown dataType");if(o.length&&this._trigger("add",{items:o},a),l.length){var v={items:l,oldData:u,data:f};this._trigger("update",v,a)}return Pp(o).call(o,l)}},{key:"updateOnly",value:function(n,a){var s,o=this;Ti(n)||(n=[n]);var l=ln(s=ln(n).call(n,function(f){var h=o._data.get(f[o._idProp]);if(h==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:h,update:f}})).call(s,function(f){var h=f.oldData,c=f.update,m=h[o._idProp],d=tre(h,c);return o._data.set(m,d),{id:m,oldData:h,updatedData:d}});if(l.length){var u={items:ln(l).call(l,function(f){return f.id}),oldData:ln(l).call(l,function(f){return f.oldData}),data:ln(l).call(l,function(f){return f.updatedData})};return this._trigger("update",u,a),u.items}else return[]}},{key:"get",value:function(n,a){var s=void 0,o=void 0,l=void 0;V3(n)?(s=n,l=a):Ti(n)?(o=n,l=a):l=n;var u=l&&l.returnType==="Object"?"Object":"Array",f=l&&Ol(l),h=[],c=void 0,m=void 0,d=void 0;if(s!=null)c=this._data.get(s),c&&f&&!f(c)&&(c=void 0);else if(o!=null)for(var v=0,b=o.length;v<b;v++)c=this._data.get(o[v]),c!=null&&(!f||f(c))&&h.push(c);else{var g;m=hi(gl(g=this._data).call(g));for(var _=0,y=m.length;_<y;_++)d=m[_],c=this._data.get(d),c!=null&&(!f||f(c))&&h.push(c)}if(l&&l.order&&s==null&&this._sort(h,l.order),l&&l.fields){var $=l.fields;if(s!=null&&c!=null)c=this._filterFields(c,$);else for(var I=0,A=h.length;I<A;I++)h[I]=this._filterFields(h[I],$)}if(u=="Object"){for(var B={},T=0,x=h.length;T<x;T++){var U=h[T],O=U[this._idProp];B[O]=U}return B}else if(s!=null){var F;return(F=c)!==null&&F!==void 0?F:null}else return h}},{key:"getIds",value:function(n){var a=this._data,s=n&&Ol(n),o=n&&n.order,l=hi(gl(a).call(a)),u=[];if(s)if(o){for(var f=[],h=0,c=l.length;h<c;h++){var m=l[h],d=this._data.get(m);d!=null&&s(d)&&f.push(d)}this._sort(f,o);for(var v=0,b=f.length;v<b;v++)u.push(f[v][this._idProp])}else for(var g=0,_=l.length;g<_;g++){var y=l[g],$=this._data.get(y);$!=null&&s($)&&u.push($[this._idProp])}else if(o){for(var I=[],A=0,B=l.length;A<B;A++){var T=l[A];I.push(a.get(T))}this._sort(I,o);for(var x=0,U=I.length;x<U;x++)u.push(I[x][this._idProp])}else for(var O=0,F=l.length;O<F;O++){var D=l[O],L=a.get(D);L!=null&&u.push(L[this._idProp])}return u}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(n,a){var s=a&&Ol(a),o=this._data,l=hi(gl(o).call(o));if(a&&a.order)for(var u=this.get(a),f=0,h=u.length;f<h;f++){var c=u[f],m=c[this._idProp];n(c,m)}else for(var d=0,v=l.length;d<v;d++){var b=l[d],g=this._data.get(b);g!=null&&(!s||s(g))&&n(g,b)}}},{key:"map",value:function(n,a){for(var s=a&&Ol(a),o=[],l=this._data,u=hi(gl(l).call(l)),f=0,h=u.length;f<h;f++){var c=u[f],m=this._data.get(c);m!=null&&(!s||s(m))&&o.push(n(m,c))}return a&&a.order&&this._sort(o,a.order),o}},{key:"_filterFields",value:function(n,a){var s;return n&&FK(s=Ti(a)?a:Sy(a)).call(s,function(o,l){return o[l]=n[l],o},{})}},{key:"_sort",value:function(n,a){if(typeof a=="string"){var s=a;R1(n).call(n,function(o,l){var u=o[s],f=l[s];return u>f?1:u<f?-1:0})}else if(typeof a=="function")R1(n).call(n,a);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(n,a){for(var s=[],o=[],l=Ti(n)?n:[n],u=0,f=l.length;u<f;u++){var h=this._remove(l[u]);if(h){var c=h[this._idProp];c!=null&&(s.push(c),o.push(h))}}return s.length&&this._trigger("remove",{items:s,oldData:o},a),s}},{key:"_remove",value:function(n){var a;if(V3(n)?a=n:n&&typeof n=="object"&&(a=n[this._idProp]),a!=null&&this._data.has(a)){var s=this._data.get(a)||null;return this._data.delete(a),--this.length,s}return null}},{key:"clear",value:function(n){for(var a,s=hi(gl(a=this._data).call(a)),o=[],l=0,u=s.length;l<u;l++)o.push(this._data.get(s[l]));return this._data.clear(),this.length=0,this._trigger("remove",{items:s,oldData:o},n),s}},{key:"max",value:function(n){var a,s=null,o=null,l=wv(W3(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f[n];typeof h=="number"&&(o==null||h>o)&&(s=f,o=h)}}catch(c){l.e(c)}finally{l.f()}return s||null}},{key:"min",value:function(n){var a,s=null,o=null,l=wv(W3(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f[n];typeof h=="number"&&(o==null||h<o)&&(s=f,o=h)}}catch(c){l.e(c)}finally{l.f()}return s||null}},{key:"distinct",value:function(n){for(var a=this._data,s=hi(gl(a).call(a)),o=[],l=0,u=0,f=s.length;u<f;u++){for(var h=s[u],c=a.get(h),m=c[n],d=!1,v=0;v<l;v++)if(o[v]==m){d=!0;break}!d&&m!==void 0&&(o[l]=m,l++)}return o}},{key:"_addItem",value:function(n){var a=sfe(n,this._idProp),s=a[this._idProp];if(this._data.has(s))throw new Error("Cannot add item: item with id "+s+" already exists");return this._data.set(s,a),++this.length,s}},{key:"_updateItem",value:function(n){var a=n[this._idProp];if(a==null)throw new Error("Cannot update item: item has no id (item: "+Gee(n)+")");var s=this._data.get(a);if(!s)throw new Error("Cannot update item: no item with id "+a+" found");return this._data.set(a,J3(J3({},s),n)),a}},{key:"stream",value:function(n){if(n){var a=this._data;return new K3({[Dl](){return oi.mark(function o(){var l,u,f,h;return oi.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:l=wv(n),m.prev=1,l.s();case 3:if((u=l.n()).done){m.next=11;break}if(f=u.value,h=a.get(f),h==null){m.next=9;break}return m.next=9,[f,h];case 9:m.next=3;break;case 11:m.next=16;break;case 13:m.prev=13,m.t0=m.catch(1),l.e(m.t0);case 16:return m.prev=16,l.f(),m.finish(16);case 19:case"end":return m.stop()}},o,null,[[1,13,16,19]])})()}})}else{var s;return new K3({[Dl]:ek(s=Cue(this._data)).call(s,this._data)})}}}]),e}(Fue);function ofe(r,t){return typeof t=="object"&&t!==null&&r===t.idProp&&typeof t.add=="function"&&typeof t.clear=="function"&&typeof t.distinct=="function"&&typeof Co(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof ln(t)=="function"&&typeof t.max=="function"&&typeof t.min=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.remove=="function"&&typeof t.setOptions=="function"&&typeof t.stream=="function"&&typeof t.update=="function"&&typeof t.updateOnly=="function"}function a9(r,t){return typeof t=="object"&&t!==null&&r===t.idProp&&typeof Co(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof ln(t)=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.stream=="function"&&ofe(r,t.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.9
 * @date    2023-11-03T01:42:27.418Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $h=function(r){return r&&r.Math===Math&&r},tr=$h(typeof globalThis=="object"&&globalThis)||$h(typeof window=="object"&&window)||$h(typeof self=="object"&&self)||$h(typeof xv=="object"&&xv)||function(){return this}()||xv||Function("return this")(),_t=function(r){try{return!!r()}catch{return!0}},lfe=_t,dc=!lfe(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),ufe=dc,s9=Function.prototype,Z3=s9.apply,e5=s9.call,vc=typeof Reflect=="object"&&Reflect.apply||(ufe?e5.bind(Z3):function(){return e5.apply(Z3,arguments)}),o9=dc,l9=Function.prototype,M1=l9.call,ffe=o9&&l9.bind.bind(M1,M1),Et=o9?ffe:function(r){return function(){return M1.apply(r,arguments)}},u9=Et,cfe=u9({}.toString),hfe=u9("".slice),xa=function(r){return hfe(cfe(r),8,-1)},mfe=xa,pfe=Et,Uy=function(r){if(mfe(r)==="Function")return pfe(r)},B1=typeof document=="object"&&document.all,dfe=typeof B1>"u"&&B1!==void 0,f9={all:B1,IS_HTMLDDA:dfe},c9=f9,vfe=c9.all,Or=c9.IS_HTMLDDA?function(r){return typeof r=="function"||r===vfe}:function(r){return typeof r=="function"},ku={},gfe=_t,Ar=!gfe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),bfe=dc,_h=Function.prototype.call,Pi=bfe?_h.bind(_h):function(){return _h.apply(_h,arguments)},Fp={},h9={}.propertyIsEnumerable,m9=Object.getOwnPropertyDescriptor,yfe=m9&&!h9.call({1:2},1);Fp.f=yfe?function(t){var e=m9(this,t);return!!e&&e.enumerable}:h9;var gc=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}},$fe=Et,_fe=_t,wfe=xa,Sv=Object,xfe=$fe("".split),zp=_fe(function(){return!Sv("z").propertyIsEnumerable(0)})?function(r){return wfe(r)==="String"?xfe(r,""):Sv(r)}:Sv,Tu=function(r){return r==null},Sfe=Tu,Efe=TypeError,bc=function(r){if(Sfe(r))throw new Efe("Can't call method on "+r);return r},kfe=zp,Tfe=bc,Gn=function(r){return kfe(Tfe(r))},t5=Or,p9=f9,Ofe=p9.all,Ir=p9.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:t5(r)||r===Ofe}:function(r){return typeof r=="object"?r!==null:t5(r)},wt={},Ev=wt,kv=tr,Afe=Or,r5=function(r){return Afe(r)?r:void 0},Zi=function(r,t){return arguments.length<2?r5(Ev[r])||r5(kv[r]):Ev[r]&&Ev[r][t]||kv[r]&&kv[r][t]},Ife=Et,or=Ife({}.isPrototypeOf),yc=typeof navigator<"u"&&String(navigator.userAgent)||"",d9=tr,Tv=yc,i5=d9.process,n5=d9.Deno,a5=i5&&i5.versions||n5&&n5.version,s5=a5&&a5.v8,un,Pm;s5&&(un=s5.split("."),Pm=un[0]>0&&un[0]<4?1:+(un[0]+un[1]));!Pm&&Tv&&(un=Tv.match(/Edge\/(\d+)/),(!un||un[1]>=74)&&(un=Tv.match(/Chrome\/(\d+)/),un&&(Pm=+un[1])));var $c=Pm,o5=$c,Cfe=_t,Pfe=tr,Dfe=Pfe.String,Ou=!!Object.getOwnPropertySymbols&&!Cfe(function(){var r=Symbol("symbol detection");return!Dfe(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&o5&&o5<41}),Nfe=Ou,v9=Nfe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Rfe=Zi,Mfe=Or,Bfe=or,Ffe=v9,zfe=Object,_c=Ffe?function(r){return typeof r=="symbol"}:function(r){var t=Rfe("Symbol");return Mfe(t)&&Bfe(t.prototype,zfe(r))},Lfe=String,Au=function(r){try{return Lfe(r)}catch{return"Object"}},jfe=Or,Ufe=Au,qfe=TypeError,Xo=function(r){if(jfe(r))return r;throw new qfe(Ufe(r)+" is not a function")},Hfe=Xo,Wfe=Tu,qy=function(r,t){var e=r[t];return Wfe(e)?void 0:Hfe(e)},Ov=Pi,Av=Or,Iv=Ir,Gfe=TypeError,Vfe=function(r,t){var e,i;if(t==="string"&&Av(e=r.toString)&&!Iv(i=Ov(e,r))||Av(e=r.valueOf)&&!Iv(i=Ov(e,r))||t!=="string"&&Av(e=r.toString)&&!Iv(i=Ov(e,r)))return i;throw new Gfe("Can't convert object to primitive value")},g9={exports:{}},l5=tr,Xfe=Object.defineProperty,Kfe=function(r,t){try{Xfe(l5,r,{value:t,configurable:!0,writable:!0})}catch{l5[r]=t}return t},Yfe=tr,Jfe=Kfe,u5="__core-js_shared__",Qfe=Yfe[u5]||Jfe(u5,{}),Hy=Qfe,f5=Hy;(g9.exports=function(r,t){return f5[r]||(f5[r]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Iu=g9.exports,Zfe=bc,ece=Object,_i=function(r){return ece(Zfe(r))},tce=Et,rce=_i,ice=tce({}.hasOwnProperty),Cr=Object.hasOwn||function(t,e){return ice(rce(t),e)},nce=Et,ace=0,sce=Math.random(),oce=nce(1 .toString),Lp=function(r){return"Symbol("+(r===void 0?"":r)+")_"+oce(++ace+sce,36)},lce=tr,uce=Iu,c5=Cr,fce=Lp,cce=Ou,hce=v9,Nl=lce.Symbol,Cv=uce("wks"),mce=hce?Nl.for||Nl:Nl&&Nl.withoutSetter||fce,rr=function(r){return c5(Cv,r)||(Cv[r]=cce&&c5(Nl,r)?Nl[r]:mce("Symbol."+r)),Cv[r]},pce=Pi,h5=Ir,m5=_c,dce=qy,vce=Vfe,gce=rr,bce=TypeError,yce=gce("toPrimitive"),$ce=function(r,t){if(!h5(r)||m5(r))return r;var e=dce(r,yce),i;if(e){if(t===void 0&&(t="default"),i=pce(e,r,t),!h5(i)||m5(i))return i;throw new bce("Can't convert object to primitive value")}return t===void 0&&(t="number"),vce(r,t)},_ce=$ce,wce=_c,jp=function(r){var t=_ce(r,"string");return wce(t)?t:t+""},xce=tr,p5=Ir,F1=xce.document,Sce=p5(F1)&&p5(F1.createElement),b9=function(r){return Sce?F1.createElement(r):{}},Ece=Ar,kce=_t,Tce=b9,y9=!Ece&&!kce(function(){return Object.defineProperty(Tce("div"),"a",{get:function(){return 7}}).a!==7}),Oce=Ar,Ace=Pi,Ice=Fp,Cce=gc,Pce=Gn,Dce=jp,Nce=Cr,Rce=y9,d5=Object.getOwnPropertyDescriptor;ku.f=Oce?d5:function(t,e){if(t=Pce(t),e=Dce(e),Rce)try{return d5(t,e)}catch{}if(Nce(t,e))return Cce(!Ace(Ice.f,t,e),t[e])};var Mce=_t,Bce=Or,Fce=/#|\.prototype\./,wc=function(r,t){var e=Lce[zce(r)];return e===Uce?!0:e===jce?!1:Bce(t)?Mce(t):!!t},zce=wc.normalize=function(r){return String(r).replace(Fce,".").toLowerCase()},Lce=wc.data={},jce=wc.NATIVE="N",Uce=wc.POLYFILL="P",qce=wc,v5=Uy,Hce=Xo,Wce=dc,Gce=v5(v5.bind),xc=function(r,t){return Hce(r),t===void 0?r:Wce?Gce(r,t):function(){return r.apply(t,arguments)}},Di={},Vce=Ar,Xce=_t,$9=Vce&&Xce(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Kce=Ir,Yce=String,Jce=TypeError,Ni=function(r){if(Kce(r))return r;throw new Jce(Yce(r)+" is not an object")},Qce=Ar,Zce=y9,ehe=$9,wh=Ni,g5=jp,the=TypeError,Pv=Object.defineProperty,rhe=Object.getOwnPropertyDescriptor,Dv="enumerable",Nv="configurable",Rv="writable";Di.f=Qce?ehe?function(t,e,i){if(wh(t),e=g5(e),wh(i),typeof t=="function"&&e==="prototype"&&"value"in i&&Rv in i&&!i[Rv]){var n=rhe(t,e);n&&n[Rv]&&(t[e]=i.value,i={configurable:Nv in i?i[Nv]:n[Nv],enumerable:Dv in i?i[Dv]:n[Dv],writable:!1})}return Pv(t,e,i)}:Pv:function(t,e,i){if(wh(t),e=g5(e),wh(i),Zce)try{return Pv(t,e,i)}catch{}if("get"in i||"set"in i)throw new the("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var ihe=Ar,nhe=Di,ahe=gc,Cu=ihe?function(r,t,e){return nhe.f(r,t,ahe(1,e))}:function(r,t,e){return r[t]=e,r},xh=tr,she=vc,ohe=Uy,lhe=Or,uhe=ku.f,fhe=qce,bl=wt,che=xc,yl=Cu,b5=Cr,hhe=function(r){var t=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,i)}return new r(e,i,n)}return she(r,this,arguments)};return t.prototype=r.prototype,t},at=function(r,t){var e=r.target,i=r.global,n=r.stat,a=r.proto,s=i?xh:n?xh[e]:(xh[e]||{}).prototype,o=i?bl:bl[e]||yl(bl,e,{})[e],l=o.prototype,u,f,h,c,m,d,v,b,g;for(c in t)u=fhe(i?c:e+(n?".":"#")+c,r.forced),f=!u&&s&&b5(s,c),d=o[c],f&&(r.dontCallGetSet?(g=uhe(s,c),v=g&&g.value):v=s[c]),m=f&&v?v:t[c],!(f&&typeof d==typeof m)&&(r.bind&&f?b=che(m,xh):r.wrap&&f?b=hhe(m):a&&lhe(m)?b=ohe(m):b=m,(r.sham||m&&m.sham||d&&d.sham)&&yl(b,"sham",!0),yl(o,c,b),a&&(h=e+"Prototype",b5(bl,h)||yl(bl,h,{}),yl(bl[h],c,m),r.real&&l&&(u||!l[c])&&yl(l,c,m)))},mhe=Math.ceil,phe=Math.floor,dhe=Math.trunc||function(t){var e=+t;return(e>0?phe:mhe)(e)},vhe=dhe,Up=function(r){var t=+r;return t!==t||t===0?0:vhe(t)},ghe=Up,bhe=Math.max,yhe=Math.min,Sc=function(r,t){var e=ghe(r);return e<0?bhe(e+t,0):yhe(e,t)},$he=Up,_he=Math.min,whe=function(r){return r>0?_he($he(r),9007199254740991):0},xhe=whe,en=function(r){return xhe(r.length)},She=Gn,Ehe=Sc,khe=en,y5=function(r){return function(t,e,i){var n=She(t),a=khe(n),s=Ehe(i,a),o;if(r&&e!==e){for(;a>s;)if(o=n[s++],o!==o)return!0}else for(;a>s;s++)if((r||s in n)&&n[s]===e)return r||s||0;return!r&&-1}},Wy={includes:y5(!0),indexOf:y5(!1)},Ec={},The=Et,Mv=Cr,Ohe=Gn,Ahe=Wy.indexOf,Ihe=Ec,$5=The([].push),_9=function(r,t){var e=Ohe(r),i=0,n=[],a;for(a in e)!Mv(Ihe,a)&&Mv(e,a)&&$5(n,a);for(;t.length>i;)Mv(e,a=t[i++])&&(~Ahe(n,a)||$5(n,a));return n},Gy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Che=_9,Phe=Gy,qp=Object.keys||function(t){return Che(t,Phe)},kc={};kc.f=Object.getOwnPropertySymbols;var _5=Ar,Dhe=Et,Nhe=Pi,Rhe=_t,Bv=qp,Mhe=kc,Bhe=Fp,Fhe=_i,zhe=zp,$l=Object.assign,w5=Object.defineProperty,Lhe=Dhe([].concat),jhe=!$l||Rhe(function(){if(_5&&$l({b:1},$l(w5({},"a",{enumerable:!0,get:function(){w5(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},t={},e=Symbol("assign detection"),i="abcdefghijklmnopqrst";return r[e]=7,i.split("").forEach(function(n){t[n]=n}),$l({},r)[e]!==7||Bv($l({},t)).join("")!==i})?function(t,e){for(var i=Fhe(t),n=arguments.length,a=1,s=Mhe.f,o=Bhe.f;n>a;)for(var l=zhe(arguments[a++]),u=s?Lhe(Bv(l),s(l)):Bv(l),f=u.length,h=0,c;f>h;)c=u[h++],(!_5||Nhe(o,l,c))&&(i[c]=l[c]);return i}:$l,Uhe=at,x5=jhe;Uhe({target:"Object",stat:!0,arity:2,forced:Object.assign!==x5},{assign:x5});var qhe=wt,Hhe=qhe.Object.assign,Whe=Hhe,Ghe=Whe,Vhe=Ghe,ur=Qe(Vhe),Xhe=Et,Hp=Xhe([].slice),w9=Et,Khe=Xo,Yhe=Ir,Jhe=Cr,S5=Hp,Qhe=dc,x9=Function,Zhe=w9([].concat),eme=w9([].join),Fv={},tme=function(r,t,e){if(!Jhe(Fv,t)){for(var i=[],n=0;n<t;n++)i[n]="a["+n+"]";Fv[t]=x9("C,a","return new C("+eme(i,",")+")")}return Fv[t](r,e)},S9=Qhe?x9.bind:function(t){var e=Khe(this),i=e.prototype,n=S5(arguments,1),a=function(){var o=Zhe(n,S5(arguments));return this instanceof a?tme(e,o.length,o):e.apply(t,o)};return Yhe(i)&&(a.prototype=i),a},rme=at,E5=S9;rme({target:"Function",proto:!0,forced:Function.bind!==E5},{bind:E5});var ime=wt,Pr=function(r){return ime[r+"Prototype"]},nme=Pr,ame=nme("Function").bind,sme=or,ome=ame,zv=Function.prototype,lme=function(r){var t=r.bind;return r===zv||sme(zv,r)&&t===zv.bind?ome:t},ume=lme,E9=ume,fme=E9,Me=Qe(fme);function Vy(r,t,e,i){r.beginPath(),r.arc(t,e,i,0,2*Math.PI,!1),r.closePath()}function cme(r,t,e,i){r.beginPath(),r.rect(t-i,e-i,i*2,i*2),r.closePath()}function hme(r,t,e,i){r.beginPath(),i*=1.15,e+=.275*i;var n=i*2,a=n/2,s=Math.sqrt(3)/6*n,o=Math.sqrt(n*n-a*a);r.moveTo(t,e-(o-s)),r.lineTo(t+a,e+s),r.lineTo(t-a,e+s),r.lineTo(t,e-(o-s)),r.closePath()}function mme(r,t,e,i){r.beginPath(),i*=1.15,e-=.275*i;var n=i*2,a=n/2,s=Math.sqrt(3)/6*n,o=Math.sqrt(n*n-a*a);r.moveTo(t,e+(o-s)),r.lineTo(t+a,e-s),r.lineTo(t-a,e-s),r.lineTo(t,e+(o-s)),r.closePath()}function pme(r,t,e,i){r.beginPath(),i*=.82,e+=.1*i;for(var n=0;n<10;n++){var a=n%2===0?i*1.3:i*.5;r.lineTo(t+a*Math.sin(n*2*Math.PI/10),e-a*Math.cos(n*2*Math.PI/10))}r.closePath()}function dme(r,t,e,i){r.beginPath(),r.lineTo(t,e+i),r.lineTo(t+i,e),r.lineTo(t,e-i),r.lineTo(t-i,e),r.closePath()}function k9(r,t,e,i,n,a){var s=Math.PI/180;i-2*a<0&&(a=i/2),n-2*a<0&&(a=n/2),r.beginPath(),r.moveTo(t+a,e),r.lineTo(t+i-a,e),r.arc(t+i-a,e+a,a,s*270,s*360,!1),r.lineTo(t+i,e+n-a),r.arc(t+i-a,e+n-a,a,0,s*90,!1),r.lineTo(t+a,e+n),r.arc(t+a,e+n-a,a,s*90,s*180,!1),r.lineTo(t,e+a),r.arc(t+a,e+a,a,s*180,s*270,!1),r.closePath()}function z1(r,t,e,i,n){var a=.5522848,s=i/2*a,o=n/2*a,l=t+i,u=e+n,f=t+i/2,h=e+n/2;r.beginPath(),r.moveTo(t,h),r.bezierCurveTo(t,h-o,f-s,e,f,e),r.bezierCurveTo(f+s,e,l,h-o,l,h),r.bezierCurveTo(l,h+o,f+s,u,f,u),r.bezierCurveTo(f-s,u,t,h+o,t,h),r.closePath()}function T9(r,t,e,i,n){var a=.3333333333333333,s=i,o=n*a,l=.5522848,u=s/2*l,f=o/2*l,h=t+s,c=e+o,m=t+s/2,d=e+o/2,v=e+(n-o/2),b=e+n;r.beginPath(),r.moveTo(h,d),r.bezierCurveTo(h,d+f,m+u,c,m,c),r.bezierCurveTo(m-u,c,t,d+f,t,d),r.bezierCurveTo(t,d-f,m-u,e,m,e),r.bezierCurveTo(m+u,e,h,d-f,h,d),r.lineTo(h,v),r.bezierCurveTo(h,v+f,m+u,b,m,b),r.bezierCurveTo(m-u,b,t,v+f,t,v),r.lineTo(t,d)}function O9(r,t,e,i,n,a){r.beginPath(),r.moveTo(t,e);for(var s=a.length,o=i-t,l=n-e,u=l/o,f=Math.sqrt(o*o+l*l),h=0,c=!0,m=0,d=+a[0];f>=.1;)d=+a[h++%s],d>f&&(d=f),m=Math.sqrt(d*d/(1+u*u)),m=o<0?-m:m,t+=m,e+=u*m,c===!0?r.lineTo(t,e):r.moveTo(t,e),f-=d,c=!c}function vme(r,t,e,i){r.beginPath();var n=6,a=Math.PI*2/n;r.moveTo(t+i,e);for(var s=1;s<n;s++)r.lineTo(t+i*Math.cos(a*s),e+i*Math.sin(a*s));r.closePath()}var k5={circle:Vy,dashedLine:O9,database:T9,diamond:dme,ellipse:z1,ellipse_vis:z1,hexagon:vme,roundRect:k9,square:cme,star:pme,triangle:hme,triangleDown:mme};function gme(r){return Object.prototype.hasOwnProperty.call(k5,r)?k5[r]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[r].call(t,i)}}var A9={exports:{}};(function(r){r.exports=t;function t(i){if(i)return e(i)}function e(i){for(var n in t.prototype)i[n]=t.prototype[n];return i}t.prototype.on=t.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this},t.prototype.once=function(i,n){function a(){this.off(i,a),n.apply(this,arguments)}return a.fn=n,this.on(i,a),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+i];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var s,o=0;o<a.length;o++)if(s=a[o],s===n||s.fn===n){a.splice(o,1);break}return a.length===0&&delete this._callbacks["$"+i],this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),a=this._callbacks["$"+i],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(a){a=a.slice(0);for(var s=0,o=a.length;s<o;++s)a[s].apply(this,n)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(A9);var bme=A9.exports,I9=Qe(bme),yme=rr,$me=yme("toStringTag"),C9={};C9[$me]="z";var Xy=String(C9)==="[object z]",_me=Xy,wme=Or,em=xa,xme=rr,Sme=xme("toStringTag"),Eme=Object,kme=em(function(){return arguments}())==="Arguments",Tme=function(r,t){try{return r[t]}catch{}},Ko=_me?em:function(r){var t,e,i;return r===void 0?"Undefined":r===null?"Null":typeof(e=Tme(t=Eme(r),Sme))=="string"?e:kme?em(t):(i=em(t))==="Object"&&wme(t.callee)?"Arguments":i},Ome=Ko,Ame=String,Vn=function(r){if(Ome(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Ame(r)},Ky=Et,Ime=Up,Cme=Vn,Pme=bc,Dme=Ky("".charAt),T5=Ky("".charCodeAt),Nme=Ky("".slice),O5=function(r){return function(t,e){var i=Cme(Pme(t)),n=Ime(e),a=i.length,s,o;return n<0||n>=a?r?"":void 0:(s=T5(i,n),s<55296||s>56319||n+1===a||(o=T5(i,n+1))<56320||o>57343?r?Dme(i,n):s:r?Nme(i,n,n+2):(s-55296<<10)+(o-56320)+65536)}},Rme={codeAt:O5(!1),charAt:O5(!0)},Mme=tr,Bme=Or,A5=Mme.WeakMap,P9=Bme(A5)&&/native code/.test(String(A5)),Fme=Iu,zme=Lp,I5=Fme("keys"),Wp=function(r){return I5[r]||(I5[r]=zme(r))},Lme=P9,D9=tr,jme=Ir,Ume=Cu,Lv=Cr,jv=Hy,qme=Wp,Hme=Ec,C5="Object already initialized",L1=D9.TypeError,Wme=D9.WeakMap,Dm,Mf,Nm,Gme=function(r){return Nm(r)?Mf(r):Dm(r,{})},Vme=function(r){return function(t){var e;if(!jme(t)||(e=Mf(t)).type!==r)throw new L1("Incompatible receiver, "+r+" required");return e}};if(Lme||jv.state){var kn=jv.state||(jv.state=new Wme);kn.get=kn.get,kn.has=kn.has,kn.set=kn.set,Dm=function(r,t){if(kn.has(r))throw new L1(C5);return t.facade=r,kn.set(r,t),t},Mf=function(r){return kn.get(r)||{}},Nm=function(r){return kn.has(r)}}else{var _l=qme("state");Hme[_l]=!0,Dm=function(r,t){if(Lv(r,_l))throw new L1(C5);return t.facade=r,Ume(r,_l,t),t},Mf=function(r){return Lv(r,_l)?r[_l]:{}},Nm=function(r){return Lv(r,_l)}}var Yo={set:Dm,get:Mf,has:Nm,enforce:Gme,getterFor:Vme},j1=Ar,Xme=Cr,N9=Function.prototype,Kme=j1&&Object.getOwnPropertyDescriptor,Yy=Xme(N9,"name"),Yme=Yy&&(function(){}).name==="something",Jme=Yy&&(!j1||j1&&Kme(N9,"name").configurable),Qme={EXISTS:Yy,PROPER:Yme,CONFIGURABLE:Jme},Gp={},Zme=Ar,epe=$9,tpe=Di,rpe=Ni,ipe=Gn,npe=qp;Gp.f=Zme&&!epe?Object.defineProperties:function(t,e){rpe(t);for(var i=ipe(e),n=npe(e),a=n.length,s=0,o;a>s;)tpe.f(t,o=n[s++],i[o]);return t};var ape=Zi,spe=ape("document","documentElement"),ope=Ni,lpe=Gp,P5=Gy,upe=Ec,fpe=spe,cpe=b9,hpe=Wp,D5=">",N5="<",U1="prototype",q1="script",R9=hpe("IE_PROTO"),Uv=function(){},M9=function(r){return N5+q1+D5+r+N5+"/"+q1+D5},R5=function(r){r.write(M9("")),r.close();var t=r.parentWindow.Object;return r=null,t},mpe=function(){var r=cpe("iframe"),t="java"+q1+":",e;return r.style.display="none",fpe.appendChild(r),r.src=String(t),e=r.contentWindow.document,e.open(),e.write(M9("document.F=Object")),e.close(),e.F},Sh,tm=function(){try{Sh=new ActiveXObject("htmlfile")}catch{}tm=typeof document<"u"?document.domain&&Sh?R5(Sh):mpe():R5(Sh);for(var r=P5.length;r--;)delete tm[U1][P5[r]];return tm()};upe[R9]=!0;var Pu=Object.create||function(t,e){var i;return t!==null?(Uv[U1]=ope(t),i=new Uv,Uv[U1]=null,i[R9]=t):i=tm(),e===void 0?i:lpe.f(i,e)},ppe=_t,B9=!ppe(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),dpe=Cr,vpe=Or,gpe=_i,bpe=Wp,ype=B9,M5=bpe("IE_PROTO"),H1=Object,$pe=H1.prototype,Vp=ype?H1.getPrototypeOf:function(r){var t=gpe(r);if(dpe(t,M5))return t[M5];var e=t.constructor;return vpe(e)&&t instanceof e?e.prototype:t instanceof H1?$pe:null},_pe=Cu,Tc=function(r,t,e,i){return i&&i.enumerable?r[t]=e:_pe(r,t,e),r},wpe=_t,xpe=Or,Spe=Ir,Epe=Pu,B5=Vp,kpe=Tc,Tpe=rr,W1=Tpe("iterator"),F9=!1,na,qv,Hv;[].keys&&(Hv=[].keys(),"next"in Hv?(qv=B5(B5(Hv)),qv!==Object.prototype&&(na=qv)):F9=!0);var Ope=!Spe(na)||wpe(function(){var r={};return na[W1].call(r)!==r});Ope?na={}:na=Epe(na);xpe(na[W1])||kpe(na,W1,function(){return this});var z9={IteratorPrototype:na,BUGGY_SAFARI_ITERATORS:F9},Ape=Xy,Ipe=Ko,Cpe=Ape?{}.toString:function(){return"[object "+Ipe(this)+"]"},Ppe=Xy,Dpe=Di.f,Npe=Cu,Rpe=Cr,Mpe=Cpe,Bpe=rr,F5=Bpe("toStringTag"),Du=function(r,t,e,i){if(r){var n=e?r:r.prototype;Rpe(n,F5)||Dpe(n,F5,{configurable:!0,value:t}),i&&!Ppe&&Npe(n,"toString",Mpe)}},Nu={},Fpe=z9.IteratorPrototype,zpe=Pu,Lpe=gc,jpe=Du,Upe=Nu,qpe=function(){return this},Hpe=function(r,t,e,i){var n=t+" Iterator";return r.prototype=zpe(Fpe,{next:Lpe(+!i,e)}),jpe(r,n,!1,!0),Upe[n]=qpe,r},Wpe=Et,Gpe=Xo,Vpe=function(r,t,e){try{return Wpe(Gpe(Object.getOwnPropertyDescriptor(r,t)[e]))}catch{}},Xpe=Or,Kpe=String,Ype=TypeError,Jpe=function(r){if(typeof r=="object"||Xpe(r))return r;throw new Ype("Can't set "+Kpe(r)+" as a prototype")},Qpe=Vpe,Zpe=Ni,ede=Jpe,tde=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,t={},e;try{e=Qpe(Object.prototype,"__proto__","set"),e(t,[]),r=t instanceof Array}catch{}return function(n,a){return Zpe(n),ede(a),r?e(n,a):n.__proto__=a,n}}():void 0),rde=at,ide=Pi,nde=Qme,ade=Hpe,sde=Vp,ode=Du,z5=Tc,lde=rr,L5=Nu,ude=z9,fde=nde.PROPER,Eh=ude.BUGGY_SAFARI_ITERATORS,Wv=lde("iterator"),j5="keys",kh="values",U5="entries",cde=function(){return this},Jy=function(r,t,e,i,n,a,s){ade(e,t,i);var o=function(g){if(g===n&&c)return c;if(!Eh&&g&&g in f)return f[g];switch(g){case j5:return function(){return new e(this,g)};case kh:return function(){return new e(this,g)};case U5:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,f=r.prototype,h=f[Wv]||f["@@iterator"]||n&&f[n],c=!Eh&&h||o(n),m=t==="Array"&&f.entries||h,d,v,b;if(m&&(d=sde(m.call(new r)),d!==Object.prototype&&d.next&&(ode(d,l,!0,!0),L5[l]=cde)),fde&&n===kh&&h&&h.name!==kh&&(u=!0,c=function(){return ide(h,this)}),n)if(v={values:o(kh),keys:a?c:o(j5),entries:o(U5)},s)for(b in v)(Eh||u||!(b in f))&&z5(f,b,v[b]);else rde({target:t,proto:!0,forced:Eh||u},v);return s&&f[Wv]!==c&&z5(f,Wv,c,{name:n}),L5[t]=c,v},Qy=function(r,t){return{value:r,done:t}},hde=Rme.charAt,mde=Vn,L9=Yo,pde=Jy,q5=Qy,j9="String Iterator",dde=L9.set,vde=L9.getterFor(j9);pde(String,"String",function(r){dde(this,{type:j9,string:mde(r),index:0})},function(){var t=vde(this),e=t.string,i=t.index,n;return i>=e.length?q5(void 0,!0):(n=hde(e,i),t.index+=n.length,q5(n,!1))});var gde=Pi,H5=Ni,bde=qy,U9=function(r,t,e){var i,n;H5(r);try{if(i=bde(r,"return"),!i){if(t==="throw")throw e;return e}i=gde(i,r)}catch(a){n=!0,i=a}if(t==="throw")throw e;if(n)throw i;return H5(i),e},yde=Ni,$de=U9,_de=function(r,t,e,i){try{return i?t(yde(e)[0],e[1]):t(e)}catch(n){$de(r,"throw",n)}},wde=rr,xde=Nu,Sde=wde("iterator"),Ede=Array.prototype,q9=function(r){return r!==void 0&&(xde.Array===r||Ede[Sde]===r)},kde=Et,Tde=Or,G1=Hy,Ode=kde(Function.toString);Tde(G1.inspectSource)||(G1.inspectSource=function(r){return Ode(r)});var Ade=G1.inspectSource,Ide=Et,Cde=_t,H9=Or,Pde=Ko,Dde=Zi,Nde=Ade,W9=function(){},Rde=[],G9=Dde("Reflect","construct"),Zy=/^\s*(?:class|function)\b/,Mde=Ide(Zy.exec),Bde=!Zy.test(W9),Wu=function(t){if(!H9(t))return!1;try{return G9(W9,Rde,t),!0}catch{return!1}},V9=function(t){if(!H9(t))return!1;switch(Pde(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Bde||!!Mde(Zy,Nde(t))}catch{return!0}};V9.sham=!0;var Xp=!G9||Cde(function(){var r;return Wu(Wu.call)||!Wu(Object)||!Wu(function(){r=!0})||r})?V9:Wu,Fde=jp,zde=Di,Lde=gc,Ru=function(r,t,e){var i=Fde(t);i in r?zde.f(r,i,Lde(0,e)):r[i]=e},jde=Ko,W5=qy,Ude=Tu,qde=Nu,Hde=rr,Wde=Hde("iterator"),Kp=function(r){if(!Ude(r))return W5(r,Wde)||W5(r,"@@iterator")||qde[jde(r)]},Gde=Pi,Vde=Xo,Xde=Ni,Kde=Au,Yde=Kp,Jde=TypeError,X9=function(r,t){var e=arguments.length<2?Yde(r):t;if(Vde(e))return Xde(Gde(e,r));throw new Jde(Kde(r)+" is not iterable")},Qde=xc,Zde=Pi,e0e=_i,t0e=_de,r0e=q9,i0e=Xp,n0e=en,G5=Ru,a0e=X9,s0e=Kp,V5=Array,o0e=function(t){var e=e0e(t),i=i0e(this),n=arguments.length,a=n>1?arguments[1]:void 0,s=a!==void 0;s&&(a=Qde(a,n>2?arguments[2]:void 0));var o=s0e(e),l=0,u,f,h,c,m,d;if(o&&!(this===V5&&r0e(o)))for(c=a0e(e,o),m=c.next,f=i?new this:[];!(h=Zde(m,c)).done;l++)d=s?t0e(c,a,[h.value,l],!0):h.value,G5(f,l,d);else for(u=n0e(e),f=i?new this(u):V5(u);u>l;l++)d=s?a(e[l],l):e[l],G5(f,l,d);return f.length=l,f},l0e=rr,K9=l0e("iterator"),Y9=!1;try{var u0e=0,X5={next:function(){return{done:!!u0e++}},return:function(){Y9=!0}};X5[K9]=function(){return this},Array.from(X5,function(){throw 2})}catch{}var f0e=function(r,t){try{if(!t&&!Y9)return!1}catch{return!1}var e=!1;try{var i={};i[K9]=function(){return{next:function(){return{done:e=!0}}}},r(i)}catch{}return e},c0e=at,h0e=o0e,m0e=f0e,p0e=!m0e(function(r){Array.from(r)});c0e({target:"Array",stat:!0,forced:p0e},{from:h0e});var d0e=wt,v0e=d0e.Array.from,g0e=v0e,J9=g0e,b0e=J9,Jo=Qe(b0e),y0e=Gn,K5=Nu,Q9=Yo;Di.f;var $0e=Jy,Th=Qy,Z9="Array Iterator",_0e=Q9.set,w0e=Q9.getterFor(Z9);$0e(Array,"Array",function(r,t){_0e(this,{type:Z9,target:y0e(r),index:0,kind:t})},function(){var r=w0e(this),t=r.target,e=r.kind,i=r.index++;if(!t||i>=t.length)return r.target=void 0,Th(void 0,!0);switch(e){case"keys":return Th(i,!1);case"values":return Th(t[i],!1)}return Th([i,t[i]],!1)},"values");K5.Arguments=K5.Array;var x0e=Kp,S0e=x0e,E0e={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},k0e=E0e,T0e=tr,O0e=Ko,A0e=Cu,Y5=Nu,I0e=rr,J5=I0e("toStringTag");for(var Gv in k0e){var Q5=T0e[Gv],Vv=Q5&&Q5.prototype;Vv&&O0e(Vv)!==J5&&A0e(Vv,J5,Gv),Y5[Gv]=Y5.Array}var C0e=S0e,P0e=C0e,D0e=P0e,N0e=D0e,R0e=N0e,M0e=R0e,eO=M0e,tO=Qe(eO),B0e=eO,Qo=Qe(B0e);function je(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var rO={exports:{}},F0e=at,z0e=Ar,Z5=Di.f;F0e({target:"Object",stat:!0,forced:Object.defineProperty!==Z5,sham:!z0e},{defineProperty:Z5});var L0e=wt,iO=L0e.Object,j0e=rO.exports=function(t,e,i){return iO.defineProperty(t,e,i)};iO.defineProperty.sham&&(j0e.sham=!0);var U0e=rO.exports,q0e=U0e,nO=q0e,H0e=nO,W0e=H0e,G0e=W0e,V0e=G0e,X0e=V0e,Yp=Qe(X0e),K0e=xa,Zo=Array.isArray||function(t){return K0e(t)==="Array"},Y0e=TypeError,J0e=9007199254740991,e$=function(r){if(r>J0e)throw Y0e("Maximum allowed index exceeded");return r},e6=Zo,Q0e=Xp,Z0e=Ir,eve=rr,tve=eve("species"),t6=Array,rve=function(r){var t;return e6(r)&&(t=r.constructor,Q0e(t)&&(t===t6||e6(t.prototype))?t=void 0:Z0e(t)&&(t=t[tve],t===null&&(t=void 0))),t===void 0?t6:t},ive=rve,t$=function(r,t){return new(ive(r))(t===0?0:t)},nve=_t,ave=rr,sve=$c,ove=ave("species"),Oc=function(r){return sve>=51||!nve(function(){var t=[],e=t.constructor={};return e[ove]=function(){return{foo:1}},t[r](Boolean).foo!==1})},lve=at,uve=_t,fve=Zo,cve=Ir,hve=_i,mve=en,r6=e$,i6=Ru,pve=t$,dve=Oc,vve=rr,gve=$c,aO=vve("isConcatSpreadable"),bve=gve>=51||!uve(function(){var r=[];return r[aO]=!1,r.concat()[0]!==r}),yve=function(r){if(!cve(r))return!1;var t=r[aO];return t!==void 0?!!t:fve(r)},$ve=!bve||!dve("concat");lve({target:"Array",proto:!0,arity:1,forced:$ve},{concat:function(t){var e=hve(this),i=pve(e,0),n=0,a,s,o,l,u;for(a=-1,o=arguments.length;a<o;a++)if(u=a===-1?e:arguments[a],yve(u))for(l=mve(u),r6(n+l),s=0;s<l;s++,n++)s in u&&i6(i,n,u[s]);else r6(n+1),i6(i,n++,u);return i.length=n,i}});var Ac={},_ve=_9,wve=Gy,xve=wve.concat("length","prototype");Ac.f=Object.getOwnPropertyNames||function(t){return _ve(t,xve)};var Jp={},n6=Sc,Sve=en,Eve=Ru,kve=Array,Tve=Math.max,sO=function(r,t,e){for(var i=Sve(r),n=n6(t,i),a=n6(e===void 0?i:e,i),s=kve(Tve(a-n,0)),o=0;n<a;n++,o++)Eve(s,o,r[n]);return s.length=o,s},Ove=xa,Ave=Gn,oO=Ac.f,Ive=sO,lO=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Cve=function(r){try{return oO(r)}catch{return Ive(lO)}};Jp.f=function(t){return lO&&Ove(t)==="Window"?Cve(t):oO(Ave(t))};var Pve=Di,r$=function(r,t,e){return Pve.f(r,t,e)},Ic={},Dve=rr;Ic.f=Dve;var a6=wt,Nve=Cr,Rve=Ic,Mve=Di.f,ir=function(r){var t=a6.Symbol||(a6.Symbol={});Nve(t,r)||Mve(t,r,{value:Rve.f(r)})},Bve=Pi,Fve=Zi,zve=rr,Lve=Tc,uO=function(){var r=Fve("Symbol"),t=r&&r.prototype,e=t&&t.valueOf,i=zve("toPrimitive");t&&!t[i]&&Lve(t,i,function(n){return Bve(e,this)},{arity:1})},jve=xc,Uve=Et,qve=zp,Hve=_i,Wve=en,Gve=t$,s6=Uve([].push),us=function(r){var t=r===1,e=r===2,i=r===3,n=r===4,a=r===6,s=r===7,o=r===5||a;return function(l,u,f,h){for(var c=Hve(l),m=qve(c),d=jve(u,f),v=Wve(m),b=0,g=h||Gve,_=t?g(l,v):e||s?g(l,0):void 0,y,$;v>b;b++)if((o||b in m)&&(y=m[b],$=d(y,b,c),r))if(t)_[b]=$;else if($)switch(r){case 3:return!0;case 5:return y;case 6:return b;case 2:s6(_,y)}else switch(r){case 4:return!1;case 7:s6(_,y)}return a?-1:i||n?n:_}},Vs={forEach:us(0),map:us(1),filter:us(2),some:us(3),every:us(4),find:us(5),findIndex:us(6),filterReject:us(7)},Qp=at,Zp=tr,i$=Pi,Vve=Et,ru=Ar,iu=Ou,Xve=_t,_r=Cr,Kve=or,V1=Ni,ed=Gn,n$=jp,Yve=Vn,X1=gc,Bf=Pu,fO=qp,Jve=Ac,cO=Jp,Qve=kc,hO=ku,mO=Di,Zve=Gp,pO=Fp,o6=Tc,ege=r$,a$=Iu,tge=Wp,dO=Ec,l6=Lp,rge=rr,ige=Ic,nge=ir,age=uO,sge=Du,vO=Yo,td=Vs.forEach,mi=tge("hidden"),rd="Symbol",Ff="prototype",oge=vO.set,u6=vO.getterFor(rd),pn=Object[Ff],bo=Zp.Symbol,Qu=bo&&bo[Ff],lge=Zp.RangeError,uge=Zp.TypeError,Xv=Zp.QObject,gO=hO.f,yo=mO.f,bO=cO.f,fge=pO.f,yO=Vve([].push),va=a$("symbols"),Cc=a$("op-symbols"),cge=a$("wks"),K1=!Xv||!Xv[Ff]||!Xv[Ff].findChild,$O=function(r,t,e){var i=gO(pn,t);i&&delete pn[t],yo(r,t,e),i&&r!==pn&&yo(pn,t,i)},Y1=ru&&Xve(function(){return Bf(yo({},"a",{get:function(){return yo(this,"a",{value:7}).a}})).a!==7})?$O:yo,Kv=function(r,t){var e=va[r]=Bf(Qu);return oge(e,{type:rd,tag:r,description:t}),ru||(e.description=t),e},id=function(t,e,i){t===pn&&id(Cc,e,i),V1(t);var n=n$(e);return V1(i),_r(va,n)?(i.enumerable?(_r(t,mi)&&t[mi][n]&&(t[mi][n]=!1),i=Bf(i,{enumerable:X1(0,!1)})):(_r(t,mi)||yo(t,mi,X1(1,{})),t[mi][n]=!0),Y1(t,n,i)):yo(t,n,i)},s$=function(t,e){V1(t);var i=ed(e),n=fO(i).concat(SO(i));return td(n,function(a){(!ru||i$(_O,i,a))&&id(t,a,i[a])}),t},hge=function(t,e){return e===void 0?Bf(t):s$(Bf(t),e)},_O=function(t){var e=n$(t),i=i$(fge,this,e);return this===pn&&_r(va,e)&&!_r(Cc,e)?!1:i||!_r(this,e)||!_r(va,e)||_r(this,mi)&&this[mi][e]?i:!0},wO=function(t,e){var i=ed(t),n=n$(e);if(!(i===pn&&_r(va,n)&&!_r(Cc,n))){var a=gO(i,n);return a&&_r(va,n)&&!(_r(i,mi)&&i[mi][n])&&(a.enumerable=!0),a}},xO=function(t){var e=bO(ed(t)),i=[];return td(e,function(n){!_r(va,n)&&!_r(dO,n)&&yO(i,n)}),i},SO=function(r){var t=r===pn,e=bO(t?Cc:ed(r)),i=[];return td(e,function(n){_r(va,n)&&(!t||_r(pn,n))&&yO(i,va[n])}),i};iu||(bo=function(){if(Kve(Qu,this))throw new uge("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:Yve(arguments[0]),e=l6(t),i=function(n){this===pn&&i$(i,Cc,n),_r(this,mi)&&_r(this[mi],e)&&(this[mi][e]=!1);var a=X1(1,n);try{Y1(this,e,a)}catch(s){if(!(s instanceof lge))throw s;$O(this,e,a)}};return ru&&K1&&Y1(pn,e,{configurable:!0,set:i}),Kv(e,t)},Qu=bo[Ff],o6(Qu,"toString",function(){return u6(this).tag}),o6(bo,"withoutSetter",function(r){return Kv(l6(r),r)}),pO.f=_O,mO.f=id,Zve.f=s$,hO.f=wO,Jve.f=cO.f=xO,Qve.f=SO,ige.f=function(r){return Kv(rge(r),r)},ru&&ege(Qu,"description",{configurable:!0,get:function(){return u6(this).description}}));Qp({global:!0,constructor:!0,wrap:!0,forced:!iu,sham:!iu},{Symbol:bo});td(fO(cge),function(r){nge(r)});Qp({target:rd,stat:!0,forced:!iu},{useSetter:function(){K1=!0},useSimple:function(){K1=!1}});Qp({target:"Object",stat:!0,forced:!iu,sham:!ru},{create:hge,defineProperty:id,defineProperties:s$,getOwnPropertyDescriptor:wO});Qp({target:"Object",stat:!0,forced:!iu},{getOwnPropertyNames:xO});age();sge(bo,rd);dO[mi]=!0;var mge=Ou,EO=mge&&!!Symbol.for&&!!Symbol.keyFor,pge=at,dge=Zi,vge=Cr,gge=Vn,kO=Iu,bge=EO,Yv=kO("string-to-symbol-registry"),yge=kO("symbol-to-string-registry");pge({target:"Symbol",stat:!0,forced:!bge},{for:function(r){var t=gge(r);if(vge(Yv,t))return Yv[t];var e=dge("Symbol")(t);return Yv[t]=e,yge[e]=t,e}});var $ge=at,_ge=Cr,wge=_c,xge=Au,Sge=Iu,Ege=EO,f6=Sge("symbol-to-string-registry");$ge({target:"Symbol",stat:!0,forced:!Ege},{keyFor:function(t){if(!wge(t))throw new TypeError(xge(t)+" is not a symbol");if(_ge(f6,t))return f6[t]}});var kge=Et,c6=Zo,Tge=Or,h6=xa,Oge=Vn,m6=kge([].push),Age=function(r){if(Tge(r))return r;if(c6(r)){for(var t=r.length,e=[],i=0;i<t;i++){var n=r[i];typeof n=="string"?m6(e,n):(typeof n=="number"||h6(n)==="Number"||h6(n)==="String")&&m6(e,Oge(n))}var a=e.length,s=!0;return function(o,l){if(s)return s=!1,l;if(c6(this))return l;for(var u=0;u<a;u++)if(e[u]===o)return l}}},Ige=at,TO=Zi,OO=vc,Cge=Pi,Pc=Et,AO=_t,p6=Or,d6=_c,IO=Hp,Pge=Age,Dge=Ou,Nge=String,Es=TO("JSON","stringify"),Oh=Pc(/./.exec),v6=Pc("".charAt),Rge=Pc("".charCodeAt),Mge=Pc("".replace),Bge=Pc(1 .toString),Fge=/[\uD800-\uDFFF]/g,g6=/^[\uD800-\uDBFF]$/,b6=/^[\uDC00-\uDFFF]$/,y6=!Dge||AO(function(){var r=TO("Symbol")("stringify detection");return Es([r])!=="[null]"||Es({a:r})!=="{}"||Es(Object(r))!=="{}"}),$6=AO(function(){return Es("\uDF06\uD834")!=='"\\udf06\\ud834"'||Es("\uDEAD")!=='"\\udead"'}),zge=function(r,t){var e=IO(arguments),i=Pge(t);if(!(!p6(i)&&(r===void 0||d6(r))))return e[1]=function(n,a){if(p6(i)&&(a=Cge(i,this,Nge(n),a)),!d6(a))return a},OO(Es,null,e)},Lge=function(r,t,e){var i=v6(e,t-1),n=v6(e,t+1);return Oh(g6,r)&&!Oh(b6,n)||Oh(b6,r)&&!Oh(g6,i)?"\\u"+Bge(Rge(r,0),16):r};Es&&Ige({target:"JSON",stat:!0,arity:3,forced:y6||$6},{stringify:function(t,e,i){var n=IO(arguments),a=OO(y6?zge:Es,null,n);return $6&&typeof a=="string"?Mge(a,Fge,Lge):a}});var jge=at,Uge=Ou,qge=_t,CO=kc,Hge=_i,Wge=!Uge||qge(function(){CO.f(1)});jge({target:"Object",stat:!0,forced:Wge},{getOwnPropertySymbols:function(t){var e=CO.f;return e?e(Hge(t)):[]}});var Gge=ir;Gge("asyncIterator");var Vge=ir;Vge("hasInstance");var Xge=ir;Xge("isConcatSpreadable");var Kge=ir;Kge("iterator");var Yge=ir;Yge("match");var Jge=ir;Jge("matchAll");var Qge=ir;Qge("replace");var Zge=ir;Zge("search");var e1e=ir;e1e("species");var t1e=ir;t1e("split");var r1e=ir,i1e=uO;r1e("toPrimitive");i1e();var n1e=Zi,a1e=ir,s1e=Du;a1e("toStringTag");s1e(n1e("Symbol"),"Symbol");var o1e=ir;o1e("unscopables");var l1e=tr,u1e=Du;u1e(l1e.JSON,"JSON",!0);var f1e=wt,c1e=f1e.Symbol,h1e=c1e,PO=h1e,m1e=rr,p1e=Di.f,_6=m1e("metadata"),w6=Function.prototype;w6[_6]===void 0&&p1e(w6,_6,{value:null});var d1e=ir;d1e("asyncDispose");var v1e=ir;v1e("dispose");var g1e=ir;g1e("metadata");var b1e=PO,y1e=b1e,$1e=Zi,_1e=Et,o$=$1e("Symbol"),w1e=o$.keyFor,x1e=_1e(o$.prototype.valueOf),DO=o$.isRegisteredSymbol||function(t){try{return w1e(x1e(t))!==void 0}catch{return!1}},S1e=at,E1e=DO;S1e({target:"Symbol",stat:!0},{isRegisteredSymbol:E1e});var k1e=Iu,NO=Zi,T1e=Et,O1e=_c,A1e=rr,Rm=NO("Symbol"),x6=Rm.isWellKnownSymbol,RO=NO("Object","getOwnPropertyNames"),I1e=T1e(Rm.prototype.valueOf),S6=k1e("wks");for(var Jv=0,E6=RO(Rm),C1e=E6.length;Jv<C1e;Jv++)try{var k6=E6[Jv];O1e(Rm[k6])&&A1e(k6)}catch{}var MO=function(t){if(x6&&x6(t))return!0;try{for(var e=I1e(t),i=0,n=RO(S6),a=n.length;i<a;i++)if(S6[n[i]]==e)return!0}catch{}return!1},P1e=at,D1e=MO;P1e({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:D1e});var N1e=ir;N1e("matcher");var R1e=ir;R1e("observable");var M1e=at,B1e=DO;M1e({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:B1e});var F1e=at,z1e=MO;F1e({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:z1e});var L1e=ir;L1e("metadataKey");var j1e=ir;j1e("patternMatch");var U1e=ir;U1e("replaceAll");var q1e=y1e,H1e=q1e,W1e=H1e,Rl=Qe(W1e),G1e=Ic,V1e=G1e.f("iterator"),X1e=V1e,K1e=X1e,Y1e=K1e,J1e=Y1e,Q1e=J1e,Z1e=Q1e,ebe=Z1e,tbe=Qe(ebe);function Dt(r){"@babel/helpers - typeof";return Dt=typeof Rl=="function"&&typeof tbe=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Rl=="function"&&t.constructor===Rl&&t!==Rl.prototype?"symbol":typeof t},Dt(r)}var rbe=Ic,ibe=rbe.f("toPrimitive"),nbe=ibe,abe=nbe,sbe=abe,obe=sbe,lbe=obe,ube=lbe,fbe=ube,cbe=Qe(fbe);function hbe(r,t){if(Dt(r)!=="object"||r===null)return r;var e=r[cbe];if(e!==void 0){var i=e.call(r,t||"default");if(Dt(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function BO(r){var t=hbe(r,"string");return Dt(t)==="symbol"?t:String(t)}function T6(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Yp(r,BO(i.key),i)}}function Ue(r,t,e){return t&&T6(r.prototype,t),e&&T6(r,e),Yp(r,"prototype",{writable:!1}),r}var mbe=at,pbe=Zo;mbe({target:"Array",stat:!0},{isArray:pbe});var dbe=wt,vbe=dbe.Array.isArray,gbe=vbe,FO=gbe,bbe=FO,ybe=bbe,$be=ybe,_be=$be,wbe=_be,zO=Qe(wbe);function xbe(r){if(zO(r))return r}var Sbe=Ar,Ebe=Zo,kbe=TypeError,Tbe=Object.getOwnPropertyDescriptor,Obe=Sbe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}(),LO=Obe?function(r,t){if(Ebe(r)&&!Tbe(r,"length").writable)throw new kbe("Cannot set read only .length");return r.length=t}:function(r,t){return r.length=t},Abe=at,Ibe=_i,Cbe=en,Pbe=LO,Dbe=e$,Nbe=_t,Rbe=Nbe(function(){return[].push.call({length:4294967296},1)!==4294967297}),Mbe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}},Bbe=Rbe||!Mbe();Abe({target:"Array",proto:!0,arity:1,forced:Bbe},{push:function(t){var e=Ibe(this),i=Cbe(e),n=arguments.length;Dbe(i+n);for(var a=0;a<n;a++)e[i]=arguments[a],i++;return Pbe(e,i),i}});var Fbe=Pr,zbe=Fbe("Array").push,Lbe=or,jbe=zbe,Qv=Array.prototype,Ube=function(r){var t=r.push;return r===Qv||Lbe(Qv,r)&&t===Qv.push?jbe:t},qbe=Ube,Hbe=qbe,Wbe=Hbe,Gbe=Wbe,Vbe=Gbe,Xbe=Vbe,Kbe=Xbe,Ybe=Qe(Kbe);function Jbe(r,t){var e=r==null?null:typeof Rl<"u"&&tO(r)||r["@@iterator"];if(e!=null){var i,n,a,s,o=[],l=!0,u=!1;try{if(a=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=a.call(e)).done)&&(Ybe(o).call(o,i.value),o.length!==t);l=!0);}catch(f){u=!0,n=f}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw n}}return o}}var Qbe=at,O6=Zo,Zbe=Xp,eye=Ir,A6=Sc,tye=en,rye=Gn,iye=Ru,nye=rr,aye=Oc,sye=Hp,oye=aye("slice"),lye=nye("species"),Zv=Array,uye=Math.max;Qbe({target:"Array",proto:!0,forced:!oye},{slice:function(t,e){var i=rye(this),n=tye(i),a=A6(t,n),s=A6(e===void 0?n:e,n),o,l,u;if(O6(i)&&(o=i.constructor,Zbe(o)&&(o===Zv||O6(o.prototype))?o=void 0:eye(o)&&(o=o[lye],o===null&&(o=void 0)),o===Zv||o===void 0))return sye(i,a,s);for(l=new(o===void 0?Zv:o)(uye(s-a,0)),u=0;a<s;a++,u++)a in i&&iye(l,u,i[a]);return l.length=u,l}});var fye=Pr,cye=fye("Array").slice,hye=or,mye=cye,eg=Array.prototype,pye=function(r){var t=r.slice;return r===eg||hye(eg,r)&&t===eg.slice?mye:t},dye=pye,jO=dye,vye=jO,gye=vye,bye=gye,yye=bye,$ye=yye,_ye=Qe($ye),wye=J9,xye=wye,Sye=xye,Eye=Sye,kye=Eye,UO=Qe(kye);function J1(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function qO(r,t){var e;if(r){if(typeof r=="string")return J1(r,t);var i=_ye(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return UO(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return J1(r,t)}}function Tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qt(r,t){return xbe(r)||Jbe(r,t)||qO(r,t)||Tye()}function Oye(r){if(zO(r))return J1(r)}function Aye(r){if(typeof Rl<"u"&&tO(r)!=null||r["@@iterator"]!=null)return UO(r)}function Iye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function An(r){return Oye(r)||Aye(r)||qO(r)||Iye()}var Cye=PO,Xs=Qe(Cye),Pye=Pr,Dye=Pye("Array").concat,Nye=or,Rye=Dye,tg=Array.prototype,Mye=function(r){var t=r.concat;return r===tg||Nye(tg,r)&&t===tg.concat?Rye:t},Bye=Mye,Fye=Bye,zye=Fye,l$=Qe(zye),Lye=jO,jr=Qe(Lye),jye=Zi,Uye=Et,qye=Ac,Hye=kc,Wye=Ni,Gye=Uye([].concat),Vye=jye("Reflect","ownKeys")||function(t){var e=qye.f(Wye(t)),i=Hye.f;return i?Gye(e,i(t)):e},Xye=FO,Ct=Qe(Xye),Kye=at,Yye=Vs.map,Jye=Oc,Qye=Jye("map");Kye({target:"Array",proto:!0,forced:!Qye},{map:function(t){return Yye(this,t,arguments.length>1?arguments[1]:void 0)}});var Zye=Pr,e$e=Zye("Array").map,t$e=or,r$e=e$e,rg=Array.prototype,i$e=function(r){var t=r.map;return r===rg||t$e(rg,r)&&t===rg.map?r$e:t},n$e=i$e,a$e=n$e,s$e=a$e,nu=Qe(s$e),o$e=at,l$e=_i,HO=qp,u$e=_t,f$e=u$e(function(){HO(1)});o$e({target:"Object",stat:!0,forced:f$e},{keys:function(t){return HO(l$e(t))}});var c$e=wt,h$e=c$e.Object.keys,m$e=h$e,p$e=m$e,d$e=p$e,Jt=Qe(d$e),v$e=at,g$e=Et,WO=Date,b$e=g$e(WO.prototype.getTime);v$e({target:"Date",stat:!0},{now:function(){return b$e(new WO)}});var y$e=wt,$$e=y$e.Date.now,_$e=$$e,w$e=_$e,x$e=w$e,Mm=Qe(x$e),S$e=_t,Mu=function(r,t){var e=[][r];return!!e&&S$e(function(){e.call(null,t||function(){return 1},1)})},E$e=Vs.forEach,k$e=Mu,T$e=k$e("forEach"),O$e=T$e?[].forEach:function(t){return E$e(this,t,arguments.length>1?arguments[1]:void 0)},A$e=at,I6=O$e;A$e({target:"Array",proto:!0,forced:[].forEach!==I6},{forEach:I6});var I$e=Pr,C$e=I$e("Array").forEach,P$e=C$e,D$e=P$e,N$e=Ko,R$e=Cr,M$e=or,B$e=D$e,ig=Array.prototype,F$e={DOMTokenList:!0,NodeList:!0},z$e=function(r){var t=r.forEach;return r===ig||M$e(ig,r)&&t===ig.forEach||R$e(F$e,N$e(r))?B$e:t},L$e=z$e,Mt=Qe(L$e),j$e=at,U$e=Et,q$e=Zo,H$e=U$e([].reverse),C6=[1,2];j$e({target:"Array",proto:!0,forced:String(C6)===String(C6.reverse())},{reverse:function(){return q$e(this)&&(this.length=this.length),H$e(this)}});var W$e=Pr,G$e=W$e("Array").reverse,V$e=or,X$e=G$e,ng=Array.prototype,K$e=function(r){var t=r.reverse;return r===ng||V$e(ng,r)&&t===ng.reverse?X$e:t},Y$e=K$e,J$e=Y$e,Q$e=J$e,$o=Qe(Q$e),P6=Au,Z$e=TypeError,GO=function(r,t){if(!delete r[t])throw new Z$e("Cannot delete property "+P6(t)+" of "+P6(r))},e_e=at,t_e=_i,r_e=Sc,i_e=Up,n_e=en,a_e=LO,s_e=e$,o_e=t$,l_e=Ru,ag=GO,u_e=Oc,f_e=u_e("splice"),c_e=Math.max,h_e=Math.min;e_e({target:"Array",proto:!0,forced:!f_e},{splice:function(t,e){var i=t_e(this),n=n_e(i),a=r_e(t,n),s=arguments.length,o,l,u,f,h,c;for(s===0?o=l=0:s===1?(o=0,l=n-a):(o=s-2,l=h_e(c_e(i_e(e),0),n-a)),s_e(n+o-l),u=o_e(i,l),f=0;f<l;f++)h=a+f,h in i&&l_e(u,f,i[h]);if(u.length=l,o<l){for(f=a;f<n-l;f++)h=f+l,c=f+o,h in i?i[c]=i[h]:ag(i,c);for(f=n;f>n-l+o;f--)ag(i,f-1)}else if(o>l)for(f=n-l;f>a;f--)h=f+l-1,c=f+o-1,h in i?i[c]=i[h]:ag(i,c);for(f=0;f<o;f++)i[f+a]=arguments[f+2];return a_e(i,n-l+o),u}});var m_e=Pr,p_e=m_e("Array").splice,d_e=or,v_e=p_e,sg=Array.prototype,g_e=function(r){var t=r.splice;return r===sg||d_e(sg,r)&&t===sg.splice?v_e:t},b_e=g_e,y_e=b_e,$_e=y_e,aa=Qe($_e),__e=at,w_e=Wy.includes,x_e=_t,S_e=x_e(function(){return!Array(1).includes()});__e({target:"Array",proto:!0,forced:S_e},{includes:function(t){return w_e(this,t,arguments.length>1?arguments[1]:void 0)}});var E_e=Pr,k_e=E_e("Array").includes,T_e=Ir,O_e=xa,A_e=rr,I_e=A_e("match"),C_e=function(r){var t;return T_e(r)&&((t=r[I_e])!==void 0?!!t:O_e(r)==="RegExp")},P_e=C_e,D_e=TypeError,N_e=function(r){if(P_e(r))throw new D_e("The method doesn't accept regular expressions");return r},R_e=rr,M_e=R_e("match"),B_e=function(r){var t=/./;try{"/./"[r](t)}catch{try{return t[M_e]=!1,"/./"[r](t)}catch{}}return!1},F_e=at,z_e=Et,L_e=N_e,j_e=bc,D6=Vn,U_e=B_e,q_e=z_e("".indexOf);F_e({target:"String",proto:!0,forced:!U_e("includes")},{includes:function(t){return!!~q_e(D6(j_e(this)),D6(L_e(t)),arguments.length>1?arguments[1]:void 0)}});var H_e=Pr,W_e=H_e("String").includes,N6=or,G_e=k_e,V_e=W_e,og=Array.prototype,lg=String.prototype,X_e=function(r){var t=r.includes;return r===og||N6(og,r)&&t===og.includes?G_e:typeof r=="string"||r===lg||N6(lg,r)&&t===lg.includes?V_e:t},K_e=X_e,Y_e=K_e,J_e=Y_e,ks=Qe(J_e),Q_e=at,Z_e=_t,e2e=_i,VO=Vp,t2e=B9,r2e=Z_e(function(){VO(1)});Q_e({target:"Object",stat:!0,forced:r2e,sham:!t2e},{getPrototypeOf:function(t){return VO(e2e(t))}});var i2e=wt,n2e=i2e.Object.getPrototypeOf,a2e=n2e,XO=a2e,s2e=XO,R6=Qe(s2e),o2e=at,l2e=Vs.filter,u2e=Oc,f2e=u2e("filter");o2e({target:"Array",proto:!0,forced:!f2e},{filter:function(t){return l2e(this,t,arguments.length>1?arguments[1]:void 0)}});var c2e=Pr,h2e=c2e("Array").filter,m2e=or,p2e=h2e,ug=Array.prototype,d2e=function(r){var t=r.filter;return r===ug||m2e(ug,r)&&t===ug.filter?p2e:t},v2e=d2e,g2e=v2e,b2e=g2e,pi=Qe(b2e),u$=`	
\v\f\r                　\u2028\u2029\uFEFF`,y2e=Et,$2e=bc,_2e=Vn,Q1=u$,M6=y2e("".replace),w2e=RegExp("^["+Q1+"]+"),x2e=RegExp("(^|[^"+Q1+"])["+Q1+"]+$"),fg=function(r){return function(t){var e=_2e($2e(t));return r&1&&(e=M6(e,w2e,"")),r&2&&(e=M6(e,x2e,"$1")),e}},KO={start:fg(1),end:fg(2),trim:fg(3)},YO=tr,S2e=_t,E2e=Et,k2e=Vn,T2e=KO.trim,B6=u$,lf=YO.parseInt,F6=YO.Symbol,z6=F6&&F6.iterator,JO=/^[+-]?0x/i,O2e=E2e(JO.exec),A2e=lf(B6+"08")!==8||lf(B6+"0x16")!==22||z6&&!S2e(function(){lf(Object(z6))}),I2e=A2e?function(t,e){var i=T2e(k2e(t));return lf(i,e>>>0||(O2e(JO,i)?16:10))}:lf,C2e=at,L6=I2e;C2e({global:!0,forced:parseInt!==L6},{parseInt:L6});var P2e=wt,D2e=P2e.parseInt,N2e=D2e,R2e=N2e,M2e=R2e,fn=Qe(M2e),B2e=at,F2e=Uy,z2e=Wy.indexOf,L2e=Mu,Z1=F2e([].indexOf),QO=!!Z1&&1/Z1([1],1,-0)<0,j2e=QO||!L2e("indexOf");B2e({target:"Array",proto:!0,forced:j2e},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return QO?Z1(this,t,e)||0:z2e(this,t,e)}});var U2e=Pr,q2e=U2e("Array").indexOf,H2e=or,W2e=q2e,cg=Array.prototype,G2e=function(r){var t=r.indexOf;return r===cg||H2e(cg,r)&&t===cg.indexOf?W2e:t},V2e=G2e,X2e=V2e,K2e=X2e,$t=Qe(K2e),Y2e=at,J2e=Ar,Q2e=Pu;Y2e({target:"Object",stat:!0,sham:!J2e},{create:Q2e});var Z2e=wt,e4e=Z2e.Object,t4e=function(t,e){return e4e.create(t,e)},r4e=t4e,ZO=r4e,i4e=ZO,_o=Qe(i4e),eb=wt,n4e=vc;eb.JSON||(eb.JSON={stringify:JSON.stringify});var a4e=function(t,e,i){return n4e(eb.JSON.stringify,null,arguments)},s4e=a4e,o4e=s4e,l4e=o4e,Dc=Qe(l4e),u4e=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",f4e=TypeError,c4e=function(r,t){if(r<t)throw new f4e("Not enough arguments");return r},eA=tr,h4e=vc,m4e=Or,p4e=u4e,d4e=yc,v4e=Hp,g4e=c4e,b4e=eA.Function,y4e=/MSIE .\./.test(d4e)||p4e&&function(){var r=eA.Bun.version.split(".");return r.length<3||r[0]==="0"&&(r[1]<3||r[1]==="3"&&r[2]==="0")}(),tA=function(r,t){var e=t?2:1;return y4e?function(i,n){var a=g4e(arguments.length,1)>e,s=m4e(i)?i:b4e(i),o=a?v4e(arguments,e):[],l=a?function(){h4e(s,this,o)}:s;return t?r(l,n):r(l)}:r},$4e=at,rA=tr,_4e=tA,j6=_4e(rA.setInterval,!0);$4e({global:!0,bind:!0,forced:rA.setInterval!==j6},{setInterval:j6});var w4e=at,iA=tr,x4e=tA,U6=x4e(iA.setTimeout,!0);w4e({global:!0,bind:!0,forced:iA.setTimeout!==U6},{setTimeout:U6});var S4e=wt,E4e=S4e.setTimeout,k4e=E4e,Bn=Qe(k4e),T4e=_i,q6=Sc,O4e=en,A4e=function(t){for(var e=T4e(this),i=O4e(e),n=arguments.length,a=q6(n>1?arguments[1]:void 0,i),s=n>2?arguments[2]:void 0,o=s===void 0?i:q6(s,i);o>a;)e[a++]=t;return e},I4e=at,C4e=A4e;I4e({target:"Array",proto:!0},{fill:C4e});var P4e=Pr,D4e=P4e("Array").fill,N4e=or,R4e=D4e,hg=Array.prototype,M4e=function(r){var t=r.fill;return r===hg||N4e(hg,r)&&t===hg.fill?R4e:t},B4e=M4e,F4e=B4e,z4e=F4e,Nc=Qe(z4e);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function gn(){return gn=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},gn.apply(this,arguments)}function tn(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function Ah(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var tb;typeof Object.assign!="function"?tb=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e}:tb=Object.assign;var Mo=tb,H6=["","webkit","Moz","MS","ms","o"],L4e=typeof document>"u"?{style:{}}:document.createElement("div"),j4e="function",Ml=Math.round,Bo=Math.abs,f$=Date.now;function nd(r,t){for(var e,i,n=t[0].toUpperCase()+t.slice(1),a=0;a<H6.length;){if(e=H6[a],i=e?e+n:t,i in r)return i;a++}}var sa;typeof window>"u"?sa={}:sa=window;var nA=nd(L4e.style,"touchAction"),aA=nA!==void 0;function U4e(){if(!aA)return!1;var r={},t=sa.CSS&&sa.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return r[e]=t?sa.CSS.supports("touch-action",e):!0}),r}var sA="compute",oA="auto",rb="manipulation",wo="none",zf="pan-x",Lf="pan-y",Ih=U4e(),q4e=/mobile|tablet|ip(ad|hone|od)|android/i,lA="ontouchstart"in sa,H4e=nd(sa,"PointerEvent")!==void 0,W4e=lA&&q4e.test(navigator.userAgent),Rc="touch",G4e="pen",c$="mouse",V4e="kinect",X4e=25,ei=1,el=2,fr=4,vi=8,Bm=1,Mc=2,Bc=4,Fc=8,au=16,Fn=Mc|Bc,xo=Fc|au,uA=Fn|xo,fA=["x","y"],Fm=["clientX","clientY"];function oa(r,t,e){var i;if(r)if(r.forEach)r.forEach(t,e);else if(r.length!==void 0)for(i=0;i<r.length;)t.call(e,r[i],i,r),i++;else for(i in r)r.hasOwnProperty(i)&&t.call(e,r[i],i,r)}function ad(r,t){return typeof r===j4e?r.apply(t&&t[0]||void 0,t):r}function fo(r,t){return r.indexOf(t)>-1}function K4e(r){if(fo(r,wo))return wo;var t=fo(r,zf),e=fo(r,Lf);return t&&e?wo:t||e?t?zf:Lf:fo(r,rb)?rb:oA}var cA=function(){function r(e,i){this.manager=e,this.set(i)}var t=r.prototype;return t.set=function(i){i===sA&&(i=this.compute()),aA&&this.manager.element.style&&Ih[i]&&(this.manager.element.style[nA]=i),this.actions=i.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var i=[];return oa(this.manager.recognizers,function(n){ad(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),K4e(i.join(" "))},t.preventDefaults=function(i){var n=i.srcEvent,a=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,o=fo(s,wo)&&!Ih[wo],l=fo(s,Lf)&&!Ih[Lf],u=fo(s,zf)&&!Ih[zf];if(o){var f=i.pointers.length===1,h=i.distance<2,c=i.deltaTime<250;if(f&&h&&c)return}if(!(u&&l)&&(o||l&&a&Fn||u&&a&xo))return this.preventSrc(n)},t.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},r}();function h$(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}function hA(r){var t=r.length;if(t===1)return{x:Ml(r[0].clientX),y:Ml(r[0].clientY)};for(var e=0,i=0,n=0;n<t;)e+=r[n].clientX,i+=r[n].clientY,n++;return{x:Ml(e/t),y:Ml(i/t)}}function W6(r){for(var t=[],e=0;e<r.pointers.length;)t[e]={clientX:Ml(r.pointers[e].clientX),clientY:Ml(r.pointers[e].clientY)},e++;return{timeStamp:f$(),pointers:t,center:hA(t),deltaX:r.deltaX,deltaY:r.deltaY}}function zm(r,t,e){e||(e=fA);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.sqrt(i*i+n*n)}function ib(r,t,e){e||(e=fA);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.atan2(n,i)*180/Math.PI}function mA(r,t){return r===t?Bm:Bo(r)>=Bo(t)?r<0?Mc:Bc:t<0?Fc:au}function Y4e(r,t){var e=t.center,i=r.offsetDelta||{},n=r.prevDelta||{},a=r.prevInput||{};(t.eventType===ei||a.eventType===fr)&&(n=r.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=r.offsetDelta={x:e.x,y:e.y}),t.deltaX=n.x+(e.x-i.x),t.deltaY=n.y+(e.y-i.y)}function pA(r,t,e){return{x:t/r||0,y:e/r||0}}function J4e(r,t){return zm(t[0],t[1],Fm)/zm(r[0],r[1],Fm)}function Q4e(r,t){return ib(t[1],t[0],Fm)+ib(r[1],r[0],Fm)}function Z4e(r,t){var e=r.lastInterval||t,i=t.timeStamp-e.timeStamp,n,a,s,o;if(t.eventType!==vi&&(i>X4e||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,f=pA(i,l,u);a=f.x,s=f.y,n=Bo(f.x)>Bo(f.y)?f.x:f.y,o=mA(l,u),r.lastInterval=t}else n=e.velocity,a=e.velocityX,s=e.velocityY,o=e.direction;t.velocity=n,t.velocityX=a,t.velocityY=s,t.direction=o}function ewe(r,t){var e=r.session,i=t.pointers,n=i.length;e.firstInput||(e.firstInput=W6(t)),n>1&&!e.firstMultiple?e.firstMultiple=W6(t):n===1&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,o=s?s.center:a.center,l=t.center=hA(i);t.timeStamp=f$(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=ib(o,l),t.distance=zm(o,l),Y4e(e,t),t.offsetDirection=mA(t.deltaX,t.deltaY);var u=pA(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=Bo(u.x)>Bo(u.y)?u.x:u.y,t.scale=s?J4e(s.pointers,i):1,t.rotation=s?Q4e(s.pointers,i):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,Z4e(e,t);var f=r.element,h=t.srcEvent,c;h.composedPath?c=h.composedPath()[0]:h.path?c=h.path[0]:c=h.target,h$(c,f)&&(f=c),t.target=f}function twe(r,t,e){var i=e.pointers.length,n=e.changedPointers.length,a=t&ei&&i-n===0,s=t&(fr|vi)&&i-n===0;e.isFirst=!!a,e.isFinal=!!s,a&&(r.session={}),e.eventType=t,ewe(r,e),r.emit("hammer.input",e),r.recognize(e),r.session.prevInput=e}function jf(r){return r.trim().split(/\s+/g)}function uf(r,t,e){oa(jf(t),function(i){r.addEventListener(i,e,!1)})}function ff(r,t,e){oa(jf(t),function(i){r.removeEventListener(i,e,!1)})}function G6(r){var t=r.ownerDocument||r;return t.defaultView||t.parentWindow||window}var Bu=function(){function r(e,i){var n=this;this.manager=e,this.callback=i,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){ad(e.options.enable,[e])&&n.handler(a)},this.init()}var t=r.prototype;return t.handler=function(){},t.init=function(){this.evEl&&uf(this.element,this.evEl,this.domHandler),this.evTarget&&uf(this.target,this.evTarget,this.domHandler),this.evWin&&uf(G6(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&ff(this.element,this.evEl,this.domHandler),this.evTarget&&ff(this.target,this.evTarget,this.domHandler),this.evWin&&ff(G6(this.element),this.evWin,this.domHandler)},r}();function Fo(r,t,e){if(r.indexOf&&!e)return r.indexOf(t);for(var i=0;i<r.length;){if(e&&r[i][e]==t||!e&&r[i]===t)return i;i++}return-1}var rwe={pointerdown:ei,pointermove:el,pointerup:fr,pointercancel:vi,pointerout:vi},iwe={2:Rc,3:G4e,4:c$,5:V4e},dA="pointerdown",vA="pointermove pointerup pointercancel";sa.MSPointerEvent&&!sa.PointerEvent&&(dA="MSPointerDown",vA="MSPointerMove MSPointerUp MSPointerCancel");var gA=function(r){tn(t,r);function t(){var i,n=t.prototype;return n.evEl=dA,n.evWin=vA,i=r.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var e=t.prototype;return e.handler=function(n){var a=this.store,s=!1,o=n.type.toLowerCase().replace("ms",""),l=rwe[o],u=iwe[n.pointerType]||n.pointerType,f=u===Rc,h=Fo(a,n.pointerId,"pointerId");l&ei&&(n.button===0||f)?h<0&&(a.push(n),h=a.length-1):l&(fr|vi)&&(s=!0),!(h<0)&&(a[h]=n,this.callback(this.manager,l,{pointers:a,changedPointers:[n],pointerType:u,srcEvent:n}),s&&a.splice(h,1))},t}(Bu);function Uf(r){return Array.prototype.slice.call(r,0)}function m$(r,t,e){for(var i=[],n=[],a=0;a<r.length;){var s=t?r[a][t]:r[a];Fo(n,s)<0&&i.push(r[a]),n[a]=s,a++}return e&&(t?i=i.sort(function(o,l){return o[t]>l[t]}):i=i.sort()),i}var nwe={touchstart:ei,touchmove:el,touchend:fr,touchcancel:vi},awe="touchstart touchmove touchend touchcancel",p$=function(r){tn(t,r);function t(){var i;return t.prototype.evTarget=awe,i=r.apply(this,arguments)||this,i.targetIds={},i}var e=t.prototype;return e.handler=function(n){var a=nwe[n.type],s=swe.call(this,n,a);s&&this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:Rc,srcEvent:n})},t}(Bu);function swe(r,t){var e=Uf(r.touches),i=this.targetIds;if(t&(ei|el)&&e.length===1)return i[e[0].identifier]=!0,[e,e];var n,a,s=Uf(r.changedTouches),o=[],l=this.target;if(a=e.filter(function(u){return h$(u.target,l)}),t===ei)for(n=0;n<a.length;)i[a[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&o.push(s[n]),t&(fr|vi)&&delete i[s[n].identifier],n++;if(o.length)return[m$(a.concat(o),"identifier",!0),o]}var owe={mousedown:ei,mousemove:el,mouseup:fr},lwe="mousedown",uwe="mousemove mouseup",d$=function(r){tn(t,r);function t(){var i,n=t.prototype;return n.evEl=lwe,n.evWin=uwe,i=r.apply(this,arguments)||this,i.pressed=!1,i}var e=t.prototype;return e.handler=function(n){var a=owe[n.type];a&ei&&n.button===0&&(this.pressed=!0),a&el&&n.which!==1&&(a=fr),this.pressed&&(a&fr&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[n],changedPointers:[n],pointerType:c$,srcEvent:n}))},t}(Bu),fwe=2500,V6=25;function X6(r){var t=r.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);var a=function(){var o=n.indexOf(i);o>-1&&n.splice(o,1)};setTimeout(a,fwe)}}function cwe(r,t){r&ei?(this.primaryTouch=t.changedPointers[0].identifier,X6.call(this,t)):r&(fr|vi)&&X6.call(this,t)}function hwe(r){for(var t=r.srcEvent.clientX,e=r.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],a=Math.abs(t-n.x),s=Math.abs(e-n.y);if(a<=V6&&s<=V6)return!0}return!1}var bA=function(){var r=function(t){tn(e,t);function e(n,a){var s;return s=t.call(this,n,a)||this,s.handler=function(o,l,u){var f=u.pointerType===Rc,h=u.pointerType===c$;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(f)cwe.call(Ah(Ah(s)),l,u);else if(h&&hwe.call(Ah(Ah(s)),u))return;s.callback(o,l,u)}},s.touch=new p$(s.manager,s.handler),s.mouse=new d$(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=e.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Bu);return r}();function mwe(r){var t,e=r.options.inputClass;return e?t=e:H4e?t=gA:W4e?t=p$:lA?t=bA:t=d$,new t(r,twe)}function Bl(r,t,e){return Array.isArray(r)?(oa(r,e[t],e),!0):!1}var rm=1,Ki=2,su=4,Ts=8,la=Ts,qf=16,Dn=32,pwe=1;function dwe(){return pwe++}function Ch(r,t){var e=t.manager;return e?e.get(r):r}function K6(r){return r&qf?"cancel":r&Ts?"end":r&su?"move":r&Ki?"start":""}var zc=function(){function r(e){e===void 0&&(e={}),this.options=gn({enable:!0},e),this.id=dwe(),this.manager=null,this.state=rm,this.simultaneous={},this.requireFail=[]}var t=r.prototype;return t.set=function(i){return Mo(this.options,i),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(i){if(Bl(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=Ch(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},t.dropRecognizeWith=function(i){return Bl(i,"dropRecognizeWith",this)?this:(i=Ch(i,this),delete this.simultaneous[i.id],this)},t.requireFailure=function(i){if(Bl(i,"requireFailure",this))return this;var n=this.requireFail;return i=Ch(i,this),Fo(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},t.dropRequireFailure=function(i){if(Bl(i,"dropRequireFailure",this))return this;i=Ch(i,this);var n=Fo(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},t.emit=function(i){var n=this,a=this.state;function s(o){n.manager.emit(o,i)}a<Ts&&s(n.options.event+K6(a)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),a>=Ts&&s(n.options.event+K6(a))},t.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=Dn},t.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(Dn|rm)))return!1;i++}return!0},t.recognize=function(i){var n=Mo({},i);if(!ad(this.options.enable,[this,n])){this.reset(),this.state=Dn;return}this.state&(la|qf|Dn)&&(this.state=rm),this.state=this.process(n),this.state&(Ki|su|Ts|qf)&&this.tryEmit(n)},t.process=function(i){},t.getTouchAction=function(){},t.reset=function(){},r}(),nb=function(r){tn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,gn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var e=t.prototype;return e.getTouchAction=function(){return[rb]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime<s.time;if(this.reset(),n.eventType&ei&&this.count===0)return this.failTimeout();if(l&&u&&o){if(n.eventType!==fr)return this.failTimeout();var f=this.pTime?n.timeStamp-this.pTime<s.interval:!0,h=!this.pCenter||zm(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!h||!f?this.count=1:this.count+=1,this._input=n;var c=this.count%s.taps;if(c===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=la,a.tryEmit()},s.interval),Ki):la}return Dn},e.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Dn},this.options.interval),Dn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===la&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(zc),ou=function(r){tn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,gn({pointers:1},i))||this}var e=t.prototype;return e.attrTest=function(n){var a=this.options.pointers;return a===0||n.pointers.length===a},e.process=function(n){var a=this.state,s=n.eventType,o=a&(Ki|su),l=this.attrTest(n);return o&&(s&vi||!l)?a|qf:o||l?s&fr?a|Ts:a&Ki?a|su:Ki:Dn},t}(zc);function yA(r){return r===au?"down":r===Fc?"up":r===Mc?"left":r===Bc?"right":""}var v$=function(r){tn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,gn({event:"pan",threshold:10,pointers:1,direction:uA},i))||this,n.pX=null,n.pY=null,n}var e=t.prototype;return e.getTouchAction=function(){var n=this.options.direction,a=[];return n&Fn&&a.push(Lf),n&xo&&a.push(zf),a},e.directionTest=function(n){var a=this.options,s=!0,o=n.distance,l=n.direction,u=n.deltaX,f=n.deltaY;return l&a.direction||(a.direction&Fn?(l=u===0?Bm:u<0?Mc:Bc,s=u!==this.pX,o=Math.abs(n.deltaX)):(l=f===0?Bm:f<0?Fc:au,s=f!==this.pY,o=Math.abs(n.deltaY))),n.direction=l,s&&o>a.threshold&&l&a.direction},e.attrTest=function(n){return ou.prototype.attrTest.call(this,n)&&(this.state&Ki||!(this.state&Ki)&&this.directionTest(n))},e.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var a=yA(n.direction);a&&(n.additionalEvent=this.options.event+a),r.prototype.emit.call(this,n)},t}(ou),$A=function(r){tn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,gn({event:"swipe",threshold:10,velocity:.3,direction:Fn|xo,pointers:1},i))||this}var e=t.prototype;return e.getTouchAction=function(){return v$.prototype.getTouchAction.call(this)},e.attrTest=function(n){var a=this.options.direction,s;return a&(Fn|xo)?s=n.overallVelocity:a&Fn?s=n.overallVelocityX:a&xo&&(s=n.overallVelocityY),r.prototype.attrTest.call(this,n)&&a&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&Bo(s)>this.options.velocity&&n.eventType&fr},e.emit=function(n){var a=yA(n.offsetDirection);a&&this.manager.emit(this.options.event+a,n),this.manager.emit(this.options.event,n)},t}(ou),_A=function(r){tn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,gn({event:"pinch",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[wo]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Ki)},e.emit=function(n){if(n.scale!==1){var a=n.scale<1?"in":"out";n.additionalEvent=this.options.event+a}r.prototype.emit.call(this,n)},t}(ou),wA=function(r){tn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,gn({event:"rotate",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[wo]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Ki)},t}(ou),xA=function(r){tn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,gn({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var e=t.prototype;return e.getTouchAction=function(){return[oA]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime>s.time;if(this._input=n,!l||!o||n.eventType&(fr|vi)&&!u)this.reset();else if(n.eventType&ei)this.reset(),this._timer=setTimeout(function(){a.state=la,a.tryEmit()},s.time);else if(n.eventType&fr)return la;return Dn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(n){this.state===la&&(n&&n.eventType&fr?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=f$(),this.manager.emit(this.options.event,this._input)))},t}(zc),SA={domEvents:!1,touchAction:sA,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Y6=[[wA,{enable:!1}],[_A,{enable:!1},["rotate"]],[$A,{direction:Fn}],[v$,{direction:Fn},["swipe"]],[nb],[nb,{event:"doubletap",taps:2},["tap"]],[xA]],vwe=1,J6=2;function Q6(r,t){var e=r.element;if(e.style){var i;oa(r.options.cssProps,function(n,a){i=nd(e.style,a),t?(r.oldCssProps[i]=e.style[i],e.style[i]=n):e.style[i]=r.oldCssProps[i]||""}),t||(r.oldCssProps={})}}function gwe(r,t){var e=document.createEvent("Event");e.initEvent(r,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var Z6=function(){function r(e,i){var n=this;this.options=Mo({},SA,i||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=mwe(this),this.touchAction=new cA(this,this.options.touchAction),Q6(this,!0),oa(this.options.recognizers,function(a){var s=n.add(new a[0](a[1]));a[2]&&s.recognizeWith(a[2]),a[3]&&s.requireFailure(a[3])},this)}var t=r.prototype;return t.set=function(i){return Mo(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},t.stop=function(i){this.session.stopped=i?J6:vwe},t.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var a,s=this.recognizers,o=n.curRecognizer;(!o||o&&o.state&la)&&(n.curRecognizer=null,o=null);for(var l=0;l<s.length;)a=s[l],n.stopped!==J6&&(!o||a===o||a.canRecognizeWith(o))?a.recognize(i):a.reset(),!o&&a.state&(Ki|su|Ts)&&(n.curRecognizer=a,o=a),l++}},t.get=function(i){if(i instanceof zc)return i;for(var n=this.recognizers,a=0;a<n.length;a++)if(n[a].options.event===i)return n[a];return null},t.add=function(i){if(Bl(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},t.remove=function(i){if(Bl(i,"remove",this))return this;var n=this.get(i);if(i){var a=this.recognizers,s=Fo(a,n);s!==-1&&(a.splice(s,1),this.touchAction.update())}return this},t.on=function(i,n){if(i===void 0||n===void 0)return this;var a=this.handlers;return oa(jf(i),function(s){a[s]=a[s]||[],a[s].push(n)}),this},t.off=function(i,n){if(i===void 0)return this;var a=this.handlers;return oa(jf(i),function(s){n?a[s]&&a[s].splice(Fo(a[s],n),1):delete a[s]}),this},t.emit=function(i,n){this.options.domEvents&&gwe(i,n);var a=this.handlers[i]&&this.handlers[i].slice();if(!(!a||!a.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<a.length;)a[s](n),s++}},t.destroy=function(){this.element&&Q6(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),bwe={touchstart:ei,touchmove:el,touchend:fr,touchcancel:vi},ywe="touchstart",$we="touchstart touchmove touchend touchcancel",_we=function(r){tn(t,r);function t(){var i,n=t.prototype;return n.evTarget=ywe,n.evWin=$we,i=r.apply(this,arguments)||this,i.started=!1,i}var e=t.prototype;return e.handler=function(n){var a=bwe[n.type];if(a===ei&&(this.started=!0),!!this.started){var s=wwe.call(this,n,a);a&(fr|vi)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:Rc,srcEvent:n})}},t}(Bu);function wwe(r,t){var e=Uf(r.touches),i=Uf(r.changedTouches);return t&(fr|vi)&&(e=m$(e.concat(i),"identifier",!0)),[e,i]}function EA(r,t,e){var i="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var n=new Error("get-stack-trace"),a=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,a),r.apply(this,arguments)}}var kA=EA(function(r,t,e){for(var i=Object.keys(t),n=0;n<i.length;)(!e||e&&r[i[n]]===void 0)&&(r[i[n]]=t[i[n]]),n++;return r},"extend","Use `assign`."),xwe=EA(function(r,t){return kA(r,t,!0)},"merge","Use `assign`.");function Swe(r,t,e){var i=t.prototype,n;n=r.prototype=Object.create(i),n.constructor=r,n._super=i,e&&Mo(n,e)}function ex(r,t){return function(){return r.apply(t,arguments)}}var TA=function(){var r=function(e,i){return i===void 0&&(i={}),new Z6(e,gn({recognizers:Y6.concat()},i))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=uA,r.DIRECTION_DOWN=au,r.DIRECTION_LEFT=Mc,r.DIRECTION_RIGHT=Bc,r.DIRECTION_UP=Fc,r.DIRECTION_HORIZONTAL=Fn,r.DIRECTION_VERTICAL=xo,r.DIRECTION_NONE=Bm,r.DIRECTION_DOWN=au,r.INPUT_START=ei,r.INPUT_MOVE=el,r.INPUT_END=fr,r.INPUT_CANCEL=vi,r.STATE_POSSIBLE=rm,r.STATE_BEGAN=Ki,r.STATE_CHANGED=su,r.STATE_ENDED=Ts,r.STATE_RECOGNIZED=la,r.STATE_CANCELLED=qf,r.STATE_FAILED=Dn,r.Manager=Z6,r.Input=Bu,r.TouchAction=cA,r.TouchInput=p$,r.MouseInput=d$,r.PointerEventInput=gA,r.TouchMouseInput=bA,r.SingleTouchInput=_we,r.Recognizer=zc,r.AttrRecognizer=ou,r.Tap=nb,r.Pan=v$,r.Swipe=$A,r.Pinch=_A,r.Rotate=wA,r.Press=xA,r.on=uf,r.off=ff,r.each=oa,r.merge=xwe,r.extend=kA,r.bindFn=ex,r.assign=Mo,r.inherit=Swe,r.bindFn=ex,r.prefixed=nd,r.toArray=Uf,r.inArray=Fo,r.uniqueArray=m$,r.splitStr=jf,r.boolOrFn=ad,r.hasParent=h$,r.addEventListeners=uf,r.removeEventListeners=ff,r.defaults=Mo({},SA,{preset:Y6}),r}();TA.defaults;var Ewe=TA;function OA(r,t){var e=typeof Xs<"u"&&Qo(r)||r["@@iterator"];if(!e){if(Ct(r)||(e=kwe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function kwe(r,t){var e;if(r){if(typeof r=="string")return tx(r,t);var i=jr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Jo(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return tx(r,t)}}function tx(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}Xs("DELETE");function sd(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return Twe(t.length?t:[Mm()])}function Twe(r){var t=Owe(r),e=Qt(t,3),i=e[0],n=e[1],a=e[2],s=1,o=function(){var u=2091639*i+s*23283064365386963e-26;return i=n,n=a,a=u-(s=u|0)};return o.uint32=function(){return o()*4294967296},o.fract53=function(){return o()+(o()*2097152|0)*11102230246251565e-32},o.algorithm="Alea",o.seed=r,o.version="0.9",o}function Owe(){for(var r=Awe(),t=r(" "),e=r(" "),i=r(" "),n=0;n<arguments.length;n++)t-=r(n<0||arguments.length<=n?void 0:arguments[n]),t<0&&(t+=1),e-=r(n<0||arguments.length<=n?void 0:arguments[n]),e<0&&(e+=1),i-=r(n<0||arguments.length<=n?void 0:arguments[n]),i<0&&(i+=1);return[t,e,i]}function Awe(){var r=4022871197;return function(t){for(var e=t.toString(),i=0;i<e.length;i++){r+=e.charCodeAt(i);var n=.02519603282416938*r;r=n>>>0,n-=r,n*=r,r=n>>>0,n-=r,r+=n*4294967296}return(r>>>0)*23283064365386963e-26}}function Iwe(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get:function(){return{set:r}}}}var g$=typeof window<"u"?window.Hammer||Ewe:function(){return Iwe()};function Nn(r){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var i=g$(this._dom.overlay);i.on("tap",Me(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Mt(n).call(n,function(a){i.on(a,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){Cwe(a.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&t.deactivate()}}I9(Nn.prototype);Nn.current=null;Nn.prototype.destroy=function(){var r,t;this.deactivate();var e=OA($o(r=aa(t=this._cleanupQueue).call(t,0)).call(r)),i;try{for(e.s();!(i=e.n()).done;){var n=i.value;n()}}catch(a){e.e(a)}finally{e.f()}};Nn.prototype.activate=function(){Nn.current&&Nn.current.deactivate(),Nn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Nn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Nn.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function Cwe(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}var Pwe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Dwe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Nwe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Rwe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ms(r){if(r)for(;r.hasChildNodes()===!0;){var t=r.firstChild;t&&(ms(t),r.removeChild(t))}}function ds(r){return r instanceof String||typeof r=="string"}function rx(r){return Dt(r)==="object"&&r!==null}function zo(r,t,e,i){var n=!1;i===!0&&(n=t[e]===null&&r[e]!==void 0),n?delete r[e]:r[e]=t[e]}function AA(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var i in r)if(t[i]!==void 0)if(t[i]===null||Dt(t[i])!=="object")zo(r,t,i,e);else{var n=r[i],a=t[i];rx(n)&&rx(a)&&AA(n,a,e)}}function Fu(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ct(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<r.length;n++){var a=r[n];if(Object.prototype.hasOwnProperty.call(e,a))if(e[a]&&e[a].constructor===Object)t[a]===void 0&&(t[a]={}),t[a].constructor===Object?zt(t[a],e[a],!1,i):zo(t,e,a,i);else{if(Ct(e[a]))throw new TypeError("Arrays are not supported by deepExtend");zo(t,e,a,i)}}return t}function Lm(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ct(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!ks(r).call(r,n))if(e[n]&&e[n].constructor===Object)t[n]===void 0&&(t[n]={}),t[n].constructor===Object?zt(t[n],e[n]):zo(t,e,n,i);else if(Ct(e[n])){t[n]=[];for(var a=0;a<e[n].length;a++)t[n].push(e[n][a])}else zo(t,e,n,i);return t}function zt(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)||e===!0)if(Dt(t[n])==="object"&&t[n]!==null&&R6(t[n])===Object.prototype)r[n]===void 0?r[n]=zt({},t[n],e):Dt(r[n])==="object"&&r[n]!==null&&R6(r[n])===Object.prototype?zt(r[n],t[n],e):zo(r,t,n,i);else if(Ct(t[n])){var a;r[n]=jr(a=t[n]).call(a)}else zo(r,t,n,i);return r}function jm(r,t){var e;return l$(e=[]).call(e,An(r),[t])}function Mwe(r){return jr(r).call(r)}function Bwe(r){return r.getBoundingClientRect().left}function Fwe(r){return r.getBoundingClientRect().top}function ht(r,t){if(Ct(r))for(var e=r.length,i=0;i<e;i++)t(r[i],i,r);else for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(r[n],n,r)}function b$(r){var t;switch(r.length){case 3:case 4:return t=Dwe.exec(r),t?{r:fn(t[1]+t[1],16),g:fn(t[2]+t[2],16),b:fn(t[3]+t[3],16)}:null;case 6:case 7:return t=Pwe.exec(r),t?{r:fn(t[1],16),g:fn(t[2],16),b:fn(t[3],16)}:null;default:return null}}function Hi(r,t){if(ks(r).call(r,"rgba"))return r;if(ks(r).call(r,"rgb")){var e=r.substr($t(r).call(r,"(")+1).replace(")","").split(",");return"rgba("+e[0]+","+e[1]+","+e[2]+","+t+")"}else{var i=b$(r);return i==null?r:"rgba("+i.r+","+i.g+","+i.b+","+t+")"}}function IA(r,t,e){var i;return"#"+jr(i=((1<<24)+(r<<16)+(t<<8)+e).toString(16)).call(i,1)}function ab(r,t){if(ds(r)){var e=r;if(PA(e)){var i,n=nu(i=e.substr(4).substr(0,e.length-5).split(",")).call(i,function(c){return fn(c)});e=IA(n[0],n[1],n[2])}if(CA(e)===!0){var a=zwe(e),s={h:a.h,s:a.s*.8,v:Math.min(1,a.v*1.02)},o={h:a.h,s:Math.min(1,a.s*1.25),v:a.v*.8},l=sb(o.h,o.s,o.v),u=sb(s.h,s.s,s.v);return{background:e,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}else return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else if(t){var f={background:r.background||t.background,border:r.border||t.border,highlight:ds(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||t.highlight.background,border:r.highlight&&r.highlight.border||t.highlight.border},hover:ds(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||t.hover.border,background:r.hover&&r.hover.background||t.hover.background}};return f}else{var h={background:r.background||void 0,border:r.border||void 0,highlight:ds(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||void 0,border:r.highlight&&r.highlight.border||void 0},hover:ds(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||void 0,background:r.hover&&r.hover.background||void 0}};return h}}function Zu(r,t,e){r=r/255,t=t/255,e=e/255;var i=Math.min(r,Math.min(t,e)),n=Math.max(r,Math.max(t,e));if(i===n)return{h:0,s:0,v:i};var a=r===i?t-e:e===i?r-t:e-r,s=r===i?3:e===i?1:5,o=60*(s-a/(n-i))/360,l=(n-i)/n,u=n;return{h:o,s:l,v:u}}function im(r,t,e){var i,n,a,s=Math.floor(r*6),o=r*6-s,l=e*(1-t),u=e*(1-o*t),f=e*(1-(1-o)*t);switch(s%6){case 0:i=e,n=f,a=l;break;case 1:i=u,n=e,a=l;break;case 2:i=l,n=e,a=f;break;case 3:i=l,n=u,a=e;break;case 4:i=f,n=l,a=e;break;case 5:i=e,n=l,a=u;break}return{r:Math.floor(i*255),g:Math.floor(n*255),b:Math.floor(a*255)}}function sb(r,t,e){var i=im(r,t,e);return IA(i.r,i.g,i.b)}function zwe(r){var t=b$(r);if(!t)throw new TypeError("'".concat(r,"' is not a valid color."));return Zu(t.r,t.g,t.b)}function CA(r){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r);return t}function PA(r){return Nwe.test(r)}function Lwe(r){return Rwe.test(r)}function Os(r){if(r===null||Dt(r)!=="object")return null;if(r instanceof Element)return r;var t=_o(r);for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&Dt(r[e])=="object"&&(t[e]=Os(r[e]));return t}function Ui(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=function(d){return d!=null},a=function(d){return d!==null&&Dt(d)==="object"},s=function(d){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v))return!1;return!0};if(!a(r))throw new Error("Parameter mergeTarget must be an object");if(!a(t))throw new Error("Parameter options must be an object");if(!n(e))throw new Error("Parameter option must have a value");if(!a(i))throw new Error("Parameter globalOptions must be an object");var o=function(d,v,b){a(d[b])||(d[b]={});var g=v[b],_=d[b];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(_[y]=g[y])},l=t[e],u=a(i)&&!s(i),f=u?i[e]:void 0,h=f?f.enabled:void 0;if(l!==void 0){if(typeof l=="boolean"){a(r[e])||(r[e]={}),r[e].enabled=l;return}if(l===null&&!a(r[e]))if(n(f))r[e]=_o(f);else return;if(a(l)){var c=!0;l.enabled!==void 0?c=l.enabled:h!==void 0&&(c=f.enabled),o(r,t,e),r[e].enabled=c}}}var jwe={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function ps(r,t){var e;Ct(t)||(t=[t]);var i=OA(r),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a){e=a[t[0]];for(var s=1;s<t.length;s++)e&&(e=e[t[s]]);if(typeof e<"u")break}}}catch(o){i.e(o)}finally{i.f()}return e}var Uwe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},qwe=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;je(this,r),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Ue(r,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(e){if(typeof e=="string")return Uwe[e]}},{key:"setColor",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e!=="none"){var n,a=this._isColorString(e);if(a!==void 0&&(e=a),ds(e)===!0){if(PA(e)===!0){var s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Lwe(e)===!0){var o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(CA(e)===!0){var l=b$(e);n={r:l.r,g:l.g,b:l.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var u=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:u}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Dc(e));this._setColor(n,i)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i===!0&&(this.previousColor=ur({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Bn(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i===!0&&(this.initialColor=ur({},e)),this.color=e;var n=Zu(e.r,e.g,e.b),a=2*Math.PI,s=this.r*n.s,o=this.centerCoordinates.x+s*Math.sin(a*n.h),l=this.centerCoordinates.y+s*Math.cos(a*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var i=Zu(this.color.r,this.color.g,this.color.b);i.v=e/100;var n=im(i.h,i.s,i.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,i=Zu(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var a=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,a,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-i.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Nc(n).call(n),this.brightnessRange.value=100*i.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,i,n,a;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var l=this;this.opacityRange.onchange=function(){l._setOpacity(this.value)},this.opacityRange.oninput=function(){l._setOpacity(this.value)},this.brightnessRange.onchange=function(){l._setBrightness(this.value)},this.brightnessRange.oninput=function(){l._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Me(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Me(i=this._apply).call(i,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Me(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Me(a=this._loadLast).call(a,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new g$(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(i){i.isFirst&&e._moveSelector(i)}),this.hammer.on("tap",function(i){e._moveSelector(i)}),this.hammer.on("panstart",function(i){e._moveSelector(i)}),this.hammer.on("panmove",function(i){e._moveSelector(i)}),this.hammer.on("panend",function(i){e._moveSelector(i)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,i,n);var a,s,o,l;this.centerCoordinates={x:i*.5,y:n*.5},this.r=.49*i;var u=2*Math.PI/360,f=1/360,h=1/this.r,c;for(o=0;o<360;o++)for(l=0;l<this.r;l++)a=this.centerCoordinates.x+l*Math.sin(u*o),s=this.centerCoordinates.y+l*Math.cos(u*o),c=im(o*f,l*h,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(a-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,i,n)}this.generated=!0}},{key:"_moveSelector",value:function(e){var i=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-i.left,a=e.center.y-i.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,l=n-o,u=a-s,f=Math.atan2(l,u),h=.98*Math.min(Math.sqrt(l*l+u*u),o),c=Math.cos(f)*h+s,m=Math.sin(f)*h+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=m-.5*this.colorPickerSelector.clientWidth+"px";var d=f/(2*Math.PI);d=d<0?d+1:d;var v=h/this.r,b=Zu(this.color.r,this.color.g,this.color.b);b.h=d,b.s=v;var g=im(b.h,b.s,b.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),r}();function ob(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];if(t.length<1)throw new TypeError("Invalid arguments.");if(t.length===1)return document.createTextNode(t[0]);var i=document.createElement(t[0]);return i.appendChild(ob.apply(void 0,An(jr(t).call(t,1)))),i}var Hwe=function(){function r(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};je(this,r),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=a,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},ur(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new qwe(n),this.wrapper=void 0}return Ue(r,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var i=!0;if(typeof e=="string")this.options.filter=e;else if(Ct(e))this.options.filter=e.join();else if(Dt(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),pi(e)!==void 0&&(this.options.filter=pi(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(i=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,i=e):typeof e=="function"&&(this.options.filter=e,i=!0);pi(this.options)===!1&&(i=!1),this.options.enabled=i}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=pi(this.options),i=0,n=!1;for(var a in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,a)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(a,[]),n=n||this._handleObject(this.configureOptions[a],[a],!0)):(e===!0||$t(e).call(e,a)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(a),this._handleObject(this.configureOptions[a],[a])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var i=this.moduleOptions,n=0;n<e.length;n++)if(i[e[n]]!==void 0)i=i[e[n]];else{i=void 0;break}return i}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var i=document.createElement("div");i.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return Mt(a).call(a,function(o){i.appendChild(o)}),this.domElements.push(i),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var i=document.createElement("div");i.className="vis-configuration vis-config-header",i.innerText=e,this._makeItem([],i)}},{key:"_makeLabel",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=document.createElement("div");if(a.className="vis-configuration vis-config-label vis-config-s"+i.length,n===!0){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(ob("i","b",e))}else a.innerText=e+":";return a}},{key:"_makeDropdown",value:function(e,i,n){var a=document.createElement("select");a.className="vis-configuration vis-config-select";var s=0;i!==void 0&&$t(e).call(e,i)!==-1&&(s=$t(e).call(e,i));for(var o=0;o<e.length;o++){var l=document.createElement("option");l.value=e[o],o===s&&(l.selected="selected"),l.innerText=e[o],a.appendChild(l)}var u=this;a.onchange=function(){u._update(this.value,n)};var f=this._makeLabel(n[n.length-1],n);this._makeItem(n,f,a)}},{key:"_makeRange",value:function(e,i,n){var a=e[0],s=e[1],o=e[2],l=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=l;var f="",h=0;if(i!==void 0){var c=1.2;i<0&&i*c<s?(u.min=Math.ceil(i*c),h=u.min,f="range increased"):i/c<s&&(u.min=Math.ceil(i/c),h=u.min,f="range increased"),i*c>o&&o!==1&&(u.max=Math.ceil(i*c),h=u.max,f="range increased"),u.value=i}else u.value=a;var m=document.createElement("input");m.className="vis-configuration vis-config-rangeinput",m.value=u.value;var d=this;u.onchange=function(){m.value=this.value,d._update(Number(this.value),n)},u.oninput=function(){m.value=this.value};var v=this._makeLabel(n[n.length-1],n),b=this._makeItem(n,v,u,m);f!==""&&this.popupHistory[b]!==h&&(this.popupHistory[b]=h,this._setupPopup(f,b))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var i=document.createElement("div");i.className="vis-configuration vis-config-button",i.innerText="generate options",i.onclick=function(){e._printOptions()},i.onmouseover=function(){i.className="vis-configuration vis-config-button hover"},i.onmouseout=function(){i.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(i)}}},{key:"_setupPopup",value:function(e,i){var n=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var a=document.createElement("div");a.id="vis-configuration-popup",a.className="vis-configuration-popup",a.innerText=e,a.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:a,index:i}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var i=this.domElements[this.popupDiv.index],n=i.getBoundingClientRect();this.popupDiv.html.style.left=n.left+"px",this.popupDiv.html.style.top=n.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Bn(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Bn(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,i,n){var a=document.createElement("input");a.type="checkbox",a.className="vis-configuration vis-config-checkbox",a.checked=e,i!==void 0&&(a.checked=i,i!==e&&(Dt(e)==="object"?i!==e.enabled&&this.changedOptions.push({path:n,value:i}):this.changedOptions.push({path:n,value:i})));var s=this;a.onchange=function(){s._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,a)}},{key:"_makeTextInput",value:function(e,i,n){var a=document.createElement("input");a.type="text",a.className="vis-configuration vis-config-text",a.value=i,i!==e&&this.changedOptions.push({path:n,value:i});var s=this;a.onchange=function(){s._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,a)}},{key:"_makeColorField",value:function(e,i,n){var a=this,s=e[1],o=document.createElement("div");i=i===void 0?s:i,i!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=i):o.className="vis-configuration vis-config-colorBlock none",i=i===void 0?s:i,o.onclick=function(){a._showColorPicker(i,o,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,o)}},{key:"_showColorPicker",value:function(e,i,n){var a=this;i.onclick=function(){},this.colorPicker.insertTo(i),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(s){var o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";i.style.backgroundColor=o,a._update(o,n)}),this.colorPicker.setCloseCallback(function(){i.onclick=function(){a._showColorPicker(e,i,n)}})}},{key:"_handleObject",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=pi(this.options),o=!1;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){a=!0;var u=e[l],f=jm(i,l);if(typeof s=="function"&&(a=s(l,i),a===!1&&!Ct(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,a=this._handleObject(u,f,!0),this.allowCreation=n===!1)),a!==!1){o=!0;var h=this._getValue(f);if(Ct(u))this._handleArray(u,h,f);else if(typeof u=="string")this._makeTextInput(u,h,f);else if(typeof u=="boolean")this._makeCheckbox(u,h,f);else if(u instanceof Object){if(!this.hideOption(i,l,this.moduleOptions))if(u.enabled!==void 0){var c=jm(f,"enabled"),m=this._getValue(c);if(m===!0){var d=this._makeLabel(l,f,!0);this._makeItem(f,d),o=this._handleObject(u,f)||o}else this._makeCheckbox(u,m,f)}else{var v=this._makeLabel(l,f,!0);this._makeItem(f,v),o=this._handleObject(u,f)||o}}else console.error("dont know how to handle",u,l,f)}}return o}},{key:"_handleArray",value:function(e,i,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,i,n),e[1]!==i&&this.changedOptions.push({path:n,value:i})):typeof e[0]=="string"?(this._makeDropdown(e,i,n),e[0]!==i&&this.changedOptions.push({path:n,value:i})):typeof e[0]=="number"&&(this._makeRange(e,i,n),e[0]!==i&&this.changedOptions.push({path:n,value:Number(i)}))}},{key:"_update",value:function(e,i){var n=this._constructOptions(e,i);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(var s=0;s<i.length;s++)i[s]!=="global"&&(a[i[s]]===void 0&&(a[i[s]]={}),s!==i.length-1?a=a[i[s]]:a[i[s]]=e);return n}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ob("pre","const options = "+Dc(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},i=0;i<this.changedOptions.length;i++)this._constructOptions(this.changedOptions[i].value,this.changedOptions[i].path,e);return e}}]),r}(),Wwe=function(){function r(t,e){je(this,r),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Ue(r,[{key:"setPosition",value:function(e,i){this.x=fn(e),this.y=fn(i)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var i=this.frame.clientHeight,n=this.frame.clientWidth,a=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,l=0;if(this.overflowMethod=="flip"){var u=!1,f=!0;this.y-i<this.padding&&(f=!1),this.x+n>s-this.padding&&(u=!0),u?o=this.x-n:o=this.x,f?l=this.y-i:l=this.y}else l=this.y-i,l+i+this.padding>a&&(l=a-i-this.padding),l<this.padding&&(l=this.padding),o=this.x,o+n+this.padding>s&&(o=s-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),r}(),Gu=!1,ix,lb="background: #FFeeee; color: #dd0000",Gwe=function(){function r(){je(this,r)}return Ue(r,null,[{key:"validate",value:function(e,i,n){Gu=!1,ix=i;var a=i;return n!==void 0&&(a=i[n]),r.parse(e,a,[]),Gu}},{key:"parse",value:function(e,i,n){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.check(a,e,i,n)}},{key:"check",value:function(e,i,n,a){if(n[e]===void 0&&n.__any__===void 0){r.getSuggestion(e,n,a);return}var s=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",o=r.getType(i[e])==="object");var l=n[s];o&&l.__type__!==void 0&&(l=l.__type__),r.checkFields(e,i,n,s,l,a)}},{key:"checkFields",value:function(e,i,n,a,s,o){var l=function(c){console.error("%c"+c+r.printLocation(o,e),lb)},u=r.getType(i[e]),f=s[u];f!==void 0?r.getType(f)==="array"&&$t(f).call(f,i[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+r.print(f)+' not "'+i[e]+'". '),Gu=!0):u==="object"&&a!=="__any__"&&(o=jm(o,e),r.parse(i[e],n[a],o)):s.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+r.print(Jt(s))+". Received ["+u+'] "'+i[e]+'"'),Gu=!0)}},{key:"getType",value:function(e){var i=Dt(e);return i==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ct(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":i==="number"?"number":i==="boolean"?"boolean":i==="string"?"string":i===void 0?"undefined":i}},{key:"getSuggestion",value:function(e,i,n){var a=r.findInOptions(e,i,n,!1),s=r.findInOptions(e,ix,[],!0),o=8,l=4,u;a.indexMatch!==void 0?u=" in "+r.printLocation(a.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+a.indexMatch+`"?

`:s.distance<=l&&a.distance>s.distance?u=" in "+r.printLocation(a.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+r.printLocation(s.path,s.closestMatch,""):a.distance<=o?u='. Did you mean "'+a.closestMatch+'"?'+r.printLocation(a.path,e):u=". Did you mean one of these: "+r.print(Jt(i))+r.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+u,lb),Gu=!0}},{key:"findInOptions",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",l=[],u=e.toLowerCase(),f=void 0;for(var h in i){var c=void 0;if(i[h].__type__!==void 0&&a===!0){var m=r.findInOptions(e,i[h],jm(n,h));s>m.distance&&(o=m.closestMatch,l=m.path,s=m.distance,f=m.indexMatch)}else{var d;$t(d=h.toLowerCase()).call(d,u)!==-1&&(f=h),c=r.levenshteinDistance(e,h),s>c&&(o=h,l=Mwe(n),s=c)}}return{closestMatch:o,path:l,distance:s,indexMatch:f}}},{key:"printLocation",value:function(e,i){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,a=`

`+n+`options = {
`,s=0;s<e.length;s++){for(var o=0;o<s+1;o++)a+="  ";a+=e[s]+`: {
`}for(var l=0;l<e.length+1;l++)a+="  ";a+=i+`
`;for(var u=0;u<e.length+1;u++){for(var f=0;f<e.length-u;f++)a+="  ";a+=`}
`}return a+`

`}},{key:"print",value:function(e){return Dc(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,i){if(e.length===0)return i.length;if(i.length===0)return e.length;var n=[],a;for(a=0;a<=i.length;a++)n[a]=[a];var s;for(s=0;s<=e.length;s++)n[0][s]=s;for(a=1;a<=i.length;a++)for(s=1;s<=e.length;s++)i.charAt(a-1)==e.charAt(s-1)?n[a][s]=n[a-1][s-1]:n[a][s]=Math.min(n[a-1][s-1]+1,Math.min(n[a][s-1]+1,n[a-1][s]+1));return n[i.length][e.length]}}]),r}(),Vwe=Nn,Xwe=Hwe,Ul=g$,Kwe=Wwe,DA=lb,Ywe=Gwe;function Jwe(r){return ys=r,t3e()}var NA={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},y$=_o(NA);y$.color="color.color";y$.style="dashes";var Kr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},nx={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ys="",lu=0,ct="",nt="",ui=Kr.NULL;function Qwe(){lu=0,ct=ys.charAt(0)}function br(){lu++,ct=ys.charAt(lu)}function wl(){return ys.charAt(lu+1)}function ax(r){var t=r.charCodeAt(0);return t<47?t===35||t===46:t<59?t>47:t<91?t>64:t<96?t===95:t<123?t>96:!1}function Ms(r,t){if(r||(r={}),t)for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function Zwe(r,t,e){for(var i=t.split("."),n=r;i.length;){var a=i.shift();i.length?(n[a]||(n[a]={}),n=n[a]):n[a]=e}}function RA(r,t){for(var e,i,n=null,a=[r],s=r;s.parent;)a.push(s.parent),s=s.parent;if(s.nodes){for(e=0,i=s.nodes.length;e<i;e++)if(t.id===s.nodes[e].id){n=s.nodes[e];break}}for(n||(n={id:t.id},r.node&&(n.attr=Ms(n.attr,r.node))),e=a.length-1;e>=0;e--){var o,l=a[e];l.nodes||(l.nodes=[]),$t(o=l.nodes).call(o,n)===-1&&l.nodes.push(n)}t.attr&&(n.attr=Ms(n.attr,t.attr))}function e3e(r,t){if(r.edges||(r.edges=[]),r.edges.push(t),r.edge){var e=Ms({},r.edge);t.attr=Ms(e,t.attr)}}function MA(r,t,e,i,n){var a={from:t,to:e,type:i};return r.edge&&(a.attr=Ms({},r.edge)),a.attr=Ms(a.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(a.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),a}function Lt(){for(ui=Kr.NULL,nt="";ct===" "||ct==="	"||ct===`
`||ct==="\r";)br();do{var r=!1;if(ct==="#"){for(var t=lu-1;ys.charAt(t)===" "||ys.charAt(t)==="	";)t--;if(ys.charAt(t)===`
`||ys.charAt(t)===""){for(;ct!=""&&ct!=`
`;)br();r=!0}}if(ct==="/"&&wl()==="/"){for(;ct!=""&&ct!=`
`;)br();r=!0}if(ct==="/"&&wl()==="*"){for(;ct!="";)if(ct==="*"&&wl()==="/"){br(),br();break}else br();r=!0}for(;ct===" "||ct==="	"||ct===`
`||ct==="\r";)br()}while(r);if(ct===""){ui=Kr.DELIMITER;return}var e=ct+wl();if(nx[e]){ui=Kr.DELIMITER,nt=e,br(),br();return}if(nx[ct]){ui=Kr.DELIMITER,nt=ct,br();return}if(ax(ct)||ct==="-"){for(nt+=ct,br();ax(ct);)nt+=ct,br();nt==="false"?nt=!1:nt==="true"?nt=!0:isNaN(Number(nt))||(nt=Number(nt)),ui=Kr.IDENTIFIER;return}if(ct==='"'){for(br();ct!=""&&(ct!='"'||ct==='"'&&wl()==='"');)ct==='"'?(nt+=ct,br()):ct==="\\"&&wl()==="n"?(nt+=`
`,br()):nt+=ct,br();if(ct!='"')throw Yr('End of string " expected');br(),ui=Kr.IDENTIFIER;return}for(ui=Kr.UNKNOWN;ct!="";)nt+=ct,br();throw new SyntaxError('Syntax error in part "'+LA(nt,30)+'"')}function t3e(){var r={};if(Qwe(),Lt(),nt==="strict"&&(r.strict=!0,Lt()),(nt==="graph"||nt==="digraph")&&(r.type=nt,Lt()),ui===Kr.IDENTIFIER&&(r.id=nt,Lt()),nt!="{")throw Yr("Angle bracket { expected");if(Lt(),BA(r),nt!="}")throw Yr("Angle bracket } expected");if(Lt(),nt!=="")throw Yr("End of file expected");return Lt(),delete r.node,delete r.edge,delete r.graph,r}function BA(r){for(;nt!==""&&nt!="}";)r3e(r),nt===";"&&Lt()}function r3e(r){var t=FA(r);if(t){zA(r,t);return}var e=i3e(r);if(!e){if(ui!=Kr.IDENTIFIER)throw Yr("Identifier expected");var i=nt;if(Lt(),nt==="="){if(Lt(),ui!=Kr.IDENTIFIER)throw Yr("Identifier expected");r[i]=nt,Lt()}else n3e(r,i)}}function FA(r){var t=null;if(nt==="subgraph"&&(t={},t.type="subgraph",Lt(),ui===Kr.IDENTIFIER&&(t.id=nt,Lt())),nt==="{"){if(Lt(),t||(t={}),t.parent=r,t.node=r.node,t.edge=r.edge,t.graph=r.graph,BA(t),nt!="}")throw Yr("Angle bracket } expected");Lt(),delete t.node,delete t.edge,delete t.graph,delete t.parent,r.subgraphs||(r.subgraphs=[]),r.subgraphs.push(t)}return t}function i3e(r){return nt==="node"?(Lt(),r.node=cf(),"node"):nt==="edge"?(Lt(),r.edge=cf(),"edge"):nt==="graph"?(Lt(),r.graph=cf(),"graph"):null}function n3e(r,t){var e={id:t},i=cf();i&&(e.attr=i),RA(r,e),zA(r,t)}function zA(r,t){for(;nt==="->"||nt==="--";){var e,i=nt;Lt();var n=FA(r);if(n)e=n;else{if(ui!=Kr.IDENTIFIER)throw Yr("Identifier or subgraph expected");e=nt,RA(r,{id:e}),Lt()}var a=cf(),s=MA(r,t,e,i,a);e3e(r,s),t=e}}function cf(){for(var r,t=null,e={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,a=new Array;nt==="[";){for(Lt(),t={};nt!==""&&nt!="]";){if(ui!=Kr.IDENTIFIER)throw Yr("Attribute name expected");var s=nt;if(Lt(),nt!="=")throw Yr("Equal sign = expected");if(Lt(),ui!=Kr.IDENTIFIER)throw Yr("Attribute value expected");var o=nt;s==="style"&&(o=e[o]);var l;s==="arrowhead"&&(l=i[o],s="arrows",o={to:{enabled:!0,type:l}}),s==="arrowtail"&&(l=i[o],s="arrows",o={from:{enabled:!0,type:l}}),n.push({attr:t,name:s,value:o}),a.push(s),Lt(),nt==","&&Lt()}if(nt!="]")throw Yr("Bracket ] expected");Lt()}if(ks(a).call(a,"dir")){var u={};for(u.arrows={},r=0;r<n.length;r++)if(n[r].name==="arrows")if(n[r].value.to!=null)u.arrows.to=r;else if(n[r].value.from!=null)u.arrows.from=r;else throw Yr("Invalid value of arrows");else n[r].name==="dir"&&(u.dir=r);var f=n[u.dir].value;if(!ks(a).call(a,"arrows"))if(f==="both")n.push({attr:n[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=n.length-1,n.push({attr:n[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=n.length-1;else if(f==="forward")n.push({attr:n[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=n.length-1;else if(f==="back")n.push({attr:n[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=n.length-1;else if(f==="none")n.push({attr:n[u.dir].attr,name:"arrows",value:""}),u.arrows.to=n.length-1;else throw Yr('Invalid dir type "'+f+'"');var h,c;if(f==="both")u.arrows.to&&u.arrows.from?(c=n[u.arrows.to].value.to.type,h=n[u.arrows.from].value.from.type,n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}},aa(n).call(n,u.arrows.from,1)):u.arrows.to?(c=n[u.arrows.to].value.to.type,h="arrow",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.from&&(c="arrow",h=n[u.arrows.from].value.from.type,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}});else if(f==="back")u.arrows.to&&u.arrows.from?(c="",h=n[u.arrows.from].value.from.type,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.to?(c="",h="arrow",u.arrows.from=u.arrows.to,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.from&&(c="",h=n[u.arrows.from].value.from.type,n[u.arrows.to]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}),n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{from:{enabled:!0,type:n[u.arrows.from].value.from.type}}};else if(f==="none"){var m;u.arrows.to?m=u.arrows.to:m=u.arrows.from,n[m]={attr:n[m].attr,name:n[m].name,value:""}}else if(f==="forward")u.arrows.to&&u.arrows.from?(c=n[u.arrows.to].value.to.type,h="",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.to?(c=n[u.arrows.to].value.to.type,h="",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.from&&(c="arrow",h="",u.arrows.to=u.arrows.from,n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}),n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:n[u.arrows.to].value.to.type}}};else throw Yr('Invalid dir type "'+f+'"');aa(n).call(n,u.dir,1)}var d;if(ks(a).call(a,"penwidth")){var v=[];for(d=n.length,r=0;r<d;r++)n[r].name!=="width"&&(n[r].name==="penwidth"&&(n[r].name="width"),v.push(n[r]));n=v}for(d=n.length,r=0;r<d;r++)Zwe(n[r].attr,n[r].name,n[r].value);return t}function Yr(r){return new SyntaxError(r+', got "'+LA(nt,30)+'" (char '+lu+")")}function LA(r,t){return r.length<=t?r:r.substr(0,27)+"..."}function a3e(r,t,e){Ct(r)?Mt(r).call(r,function(i){Ct(t)?Mt(t).call(t,function(n){e(i,n)}):e(i,t)}):Ct(t)?Mt(t).call(t,function(i){e(r,i)}):e(r,t)}function mg(r,t,e){for(var i=t.split("."),n=i.pop(),a=r,s=0;s<i.length;s++){var o=i[s];o in a||(a[o]={}),a=a[o]}return a[n]=e,r}function sx(r,t){var e={};for(var i in r)if(r.hasOwnProperty(i)){var n=t[i];Ct(n)?Mt(n).call(n,function(a){mg(e,a,r[i])}):typeof n=="string"?mg(e,n,r[i]):mg(e,i,r[i])}return e}function s3e(r){var t=Jwe(r),e={nodes:[],edges:[],options:{}};if(t.nodes){var i;Mt(i=t.nodes).call(i,function(s){var o={id:s.id,label:String(s.label||s.id)};Ms(o,sx(s.attr,NA)),o.image&&(o.shape="image"),e.nodes.push(o)})}if(t.edges){var n,a=function(o){var l={from:o.from,to:o.to};return Ms(l,sx(o.attr,y$)),l.arrows==null&&o.type==="->"&&(l.arrows="to"),l};Mt(n=t.edges).call(n,function(s){var o,l;if(s.from instanceof Object?o=s.from.nodes:o={id:s.from},s.to instanceof Object?l=s.to.nodes:l={id:s.to},s.from instanceof Object&&s.from.edges){var u;Mt(u=s.from.edges).call(u,function(h){var c=a(h);e.edges.push(c)})}if(a3e(o,l,function(h,c){var m=MA(e,h.id,c.id,s.type,s.attr),d=a(m);e.edges.push(d)}),s.to instanceof Object&&s.to.edges){var f;Mt(f=s.to.edges).call(f,function(h){var c=a(h);e.edges.push(c)})}})}return t.attr&&(e.options=t.attr),e}function o3e(r,t){var e,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};t!=null&&(t.fixed!=null&&(i.nodes.fixed=t.fixed),t.parseColor!=null&&(i.nodes.parseColor=t.parseColor),t.inheritColor!=null&&(i.edges.inheritColor=t.inheritColor));var n=r.edges,a=nu(n).call(n,function(o){var l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&i.edges.inheritColor===!1&&(l.color=o.color),l}),s=nu(e=r.nodes).call(e,function(o){var l={id:o.id,fixed:i.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(i.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l});return{nodes:s,edges:a}}var l3e={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},u3e={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},f3e={addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},c3e={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},h3e={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},m3e={addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},p3e={addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},d3e={addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},v3e={addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},g3e={addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},b3e={addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},y3e=Object.freeze({__proto__:null,cn:d3e,cs:b3e,de:u3e,en:l3e,es:f3e,fr:g3e,it:c3e,nl:h3e,pt:m3e,ru:p3e,uk:v3e});function $3e(r,t){try{var e=t.split(/[-_ /]/,2),i=Qt(e,2),n=i[0],a=i[1],s=n!=null?n.toLowerCase():null,o=a!=null?a.toUpperCase():null;if(s&&o){var l=s+"-"+o;if(Object.prototype.hasOwnProperty.call(r,l))return l;var u;console.warn(l$(u="Unknown variant ".concat(o," of language ")).call(u,s,"."))}if(s){var f=s;if(Object.prototype.hasOwnProperty.call(r,f))return f;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(h){return console.error(h),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}var _3e=function(){function r(){je(this,r),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return Ue(r,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,i=this.image.height;this.width=e,this.height=i;var n=Math.floor(i/2),a=Math.floor(i/4),s=Math.floor(i/8),o=Math.floor(i/16),l=Math.floor(e/2),u=Math.floor(e/4),f=Math.floor(e/8),h=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=n,this.coordinates=[[0,0,l,n],[l,0,u,a],[l,a,f,s],[5*f,a,h,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),i=this.coordinates[0];e.drawImage(this.image,i[0],i[1],i[2],i[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var a=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,a[0],a[1],a[2],a[3],s[0],s[1],s[2],s[3])}}},{key:"drawImageAtPosition",value:function(e,i,n,a,s,o){if(this.initialized())if(i>2){i*=.5;for(var l=0;i>2&&l<this.NUM_ITERATIONS;)i*=.5,l+=1;l>=this.NUM_ITERATIONS&&(l=this.NUM_ITERATIONS-1);var u=this.coordinates[l];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],n,a,s,o)}else e.drawImage(this.image,n,a,s,o)}}]),r}(),w3e=function(){function r(t){je(this,r),this.images={},this.imageBroken={},this.callback=t}return Ue(r,[{key:"_tryloadBrokenUrl",value:function(e,i,n){if(!(e===void 0||n===void 0)){if(i===void 0){console.warn("No broken url image defined");return}n.image.onerror=function(){console.error("Could not load brokenImage:",i)},n.image.src=i}}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,i){var n=this,a=this.images[e];if(a)return a;var s=new _3e;return this.images[e]=s,s.image.onload=function(){n._fixImageCoordinates(s.image),s.init(),n._redrawWithImage(s)},s.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,i,s)},s.image.src=e,s}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),r}(),jA={exports:{}},x3e=_t,S3e=x3e(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),E3e=_t,k3e=Ir,T3e=xa,ox=S3e,nm=Object.isExtensible,O3e=E3e(function(){nm(1)}),A3e=O3e||ox?function(t){return!k3e(t)||ox&&T3e(t)==="ArrayBuffer"?!1:nm?nm(t):!0}:nm,I3e=_t,UA=!I3e(function(){return Object.isExtensible(Object.preventExtensions({}))}),C3e=at,P3e=Et,D3e=Ec,N3e=Ir,$$=Cr,R3e=Di.f,lx=Ac,M3e=Jp,_$=A3e,B3e=Lp,F3e=UA,qA=!1,ga=B3e("meta"),z3e=0,w$=function(r){R3e(r,ga,{value:{objectID:"O"+z3e++,weakData:{}}})},L3e=function(r,t){if(!N3e(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!$$(r,ga)){if(!_$(r))return"F";if(!t)return"E";w$(r)}return r[ga].objectID},j3e=function(r,t){if(!$$(r,ga)){if(!_$(r))return!0;if(!t)return!1;w$(r)}return r[ga].weakData},U3e=function(r){return F3e&&qA&&_$(r)&&!$$(r,ga)&&w$(r),r},q3e=function(){H3e.enable=function(){},qA=!0;var r=lx.f,t=P3e([].splice),e={};e[ga]=1,r(e).length&&(lx.f=function(i){for(var n=r(i),a=0,s=n.length;a<s;a++)if(n[a]===ga){t(n,a,1);break}return n},C3e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:M3e.f}))},H3e=jA.exports={enable:q3e,fastKey:L3e,getWeakData:j3e,onFreeze:U3e};D3e[ga]=!0;var od=jA.exports,W3e=xc,G3e=Pi,V3e=Ni,X3e=Au,K3e=q9,Y3e=en,ux=or,J3e=X9,Q3e=Kp,fx=U9,Z3e=TypeError,am=function(r,t){this.stopped=r,this.result=t},cx=am.prototype,x$=function(r,t,e){var i=e&&e.that,n=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_RECORD),s=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=W3e(t,i),u,f,h,c,m,d,v,b=function(_){return u&&fx(u,"normal",_),new am(!0,_)},g=function(_){return n?(V3e(_),o?l(_[0],_[1],b):l(_[0],_[1])):o?l(_,b):l(_)};if(a)u=r.iterator;else if(s)u=r;else{if(f=Q3e(r),!f)throw new Z3e(X3e(r)+" is not iterable");if(K3e(f)){for(h=0,c=Y3e(r);c>h;h++)if(m=g(r[h]),m&&ux(cx,m))return m;return new am(!1)}u=J3e(r,f)}for(d=a?r.next:u.next;!(v=G3e(d,u)).done;){try{m=g(v.value)}catch(_){fx(u,"throw",_)}if(typeof m=="object"&&m&&ux(cx,m))return m}return new am(!1)},e5e=or,t5e=TypeError,S$=function(r,t){if(e5e(t,r))return r;throw new t5e("Incorrect invocation")},r5e=at,i5e=tr,n5e=od,a5e=_t,s5e=Cu,o5e=x$,l5e=S$,u5e=Or,f5e=Ir,c5e=Tu,h5e=Du,m5e=Di.f,p5e=Vs.forEach,d5e=Ar,HA=Yo,v5e=HA.set,g5e=HA.getterFor,E$=function(r,t,e){var i=r.indexOf("Map")!==-1,n=r.indexOf("Weak")!==-1,a=i?"set":"add",s=i5e[r],o=s&&s.prototype,l={},u;if(!d5e||!u5e(s)||!(n||o.forEach&&!a5e(function(){new s().entries().next()})))u=e.getConstructor(t,r,i,a),n5e.enable();else{u=t(function(c,m){v5e(l5e(c,f),{type:r,collection:new s}),c5e(m)||o5e(m,c[a],{that:c,AS_ENTRIES:i})});var f=u.prototype,h=g5e(r);p5e(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(c){var m=c==="add"||c==="set";c in o&&!(n&&c==="clear")&&s5e(f,c,function(d,v){var b=h(this).collection;if(!m&&n&&!f5e(d))return c==="get"?void 0:!1;var g=b[c](d===0?0:d,v);return m?this:g})}),n||m5e(f,"size",{configurable:!0,get:function(){return h(this).collection.size}})}return h5e(u,r,!1,!0),l[r]=u,r5e({global:!0,forced:!0},l),n||e.setStrong(u,r,i),u},b5e=Tc,k$=function(r,t,e){for(var i in t)e&&e.unsafe&&r[i]?r[i]=t[i]:b5e(r,i,t[i],e);return r},y5e=Zi,$5e=r$,_5e=rr,w5e=Ar,hx=_5e("species"),x5e=function(r){var t=y5e(r);w5e&&t&&!t[hx]&&$5e(t,hx,{configurable:!0,get:function(){return this}})},S5e=Pu,E5e=r$,mx=k$,k5e=xc,T5e=S$,O5e=Tu,A5e=x$,I5e=Jy,Ph=Qy,C5e=x5e,Vu=Ar,px=od.fastKey,WA=Yo,dx=WA.set,pg=WA.getterFor,GA={getConstructor:function(r,t,e,i){var n=r(function(u,f){T5e(u,a),dx(u,{type:t,index:S5e(null),first:void 0,last:void 0,size:0}),Vu||(u.size=0),O5e(f)||A5e(f,u[i],{that:u,AS_ENTRIES:e})}),a=n.prototype,s=pg(t),o=function(u,f,h){var c=s(u),m=l(u,f),d,v;return m?m.value=h:(c.last=m={index:v=px(f,!0),key:f,value:h,previous:d=c.last,next:void 0,removed:!1},c.first||(c.first=m),d&&(d.next=m),Vu?c.size++:u.size++,v!=="F"&&(c.index[v]=m)),u},l=function(u,f){var h=s(u),c=px(f),m;if(c!=="F")return h.index[c];for(m=h.first;m;m=m.next)if(m.key===f)return m};return mx(a,{clear:function(){for(var f=this,h=s(f),c=h.index,m=h.first;m;)m.removed=!0,m.previous&&(m.previous=m.previous.next=void 0),delete c[m.index],m=m.next;h.first=h.last=void 0,Vu?h.size=0:f.size=0},delete:function(u){var f=this,h=s(f),c=l(f,u);if(c){var m=c.next,d=c.previous;delete h.index[c.index],c.removed=!0,d&&(d.next=m),m&&(m.previous=d),h.first===c&&(h.first=m),h.last===c&&(h.last=d),Vu?h.size--:f.size--}return!!c},forEach:function(f){for(var h=s(this),c=k5e(f,arguments.length>1?arguments[1]:void 0),m;m=m?m.next:h.first;)for(c(m.value,m.key,this);m&&m.removed;)m=m.previous},has:function(f){return!!l(this,f)}}),mx(a,e?{get:function(f){var h=l(this,f);return h&&h.value},set:function(f,h){return o(this,f===0?0:f,h)}}:{add:function(f){return o(this,f=f===0?0:f,f)}}),Vu&&E5e(a,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(r,t,e){var i=t+" Iterator",n=pg(t),a=pg(i);I5e(r,t,function(s,o){dx(this,{type:i,target:s,state:n(s),kind:o,last:void 0})},function(){for(var s=a(this),o=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,Ph(void 0,!0)):Ph(o==="keys"?l.key:o==="values"?l.value:[l.key,l.value],!1)},e?"entries":"values",!e,!0),C5e(t)}},P5e=E$,D5e=GA;P5e("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},D5e);var N5e=wt,R5e=N5e.Map,M5e=R5e,B5e=M5e,F5e=B5e,VA=Qe(F5e),z5e=function(){function r(){je(this,r),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},ur(this.options,this.defaultOptions)}return Ue(r,[{key:"setOptions",value:function(e){var i=["useDefaultGroups"];if(e!==void 0){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&$t(i).call(i,n)===-1){var a=e[n];this.add(n,a)}}}},{key:"clear",value:function(){this._groups=new VA,this._groupNames=[]}},{key:"get",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&i)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var a=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[a]),this._groups.set(e,n)}else{var s=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[s],this._groups.set(e,n)}return n}},{key:"add",value:function(e,i){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,i),i}}]),r}(),L5e=at;L5e({target:"Number",stat:!0},{isNaN:function(t){return t!==t}});var j5e=wt,U5e=j5e.Number.isNaN,q5e=U5e,H5e=q5e,W5e=H5e,ub=Qe(W5e),G5e=tr,V5e=G5e.isFinite,X5e=Number.isFinite||function(t){return typeof t=="number"&&V5e(t)},K5e=at,Y5e=X5e;K5e({target:"Number",stat:!0},{isFinite:Y5e});var J5e=wt,Q5e=J5e.Number.isFinite,Z5e=Q5e,e6e=Z5e,t6e=e6e,co=Qe(t6e),r6e=at,i6e=Vs.some,n6e=Mu,a6e=n6e("some");r6e({target:"Array",proto:!0,forced:!a6e},{some:function(t){return i6e(this,t,arguments.length>1?arguments[1]:void 0)}});var s6e=Pr,o6e=s6e("Array").some,l6e=or,u6e=o6e,dg=Array.prototype,f6e=function(r){var t=r.some;return r===dg||l6e(dg,r)&&t===dg.some?u6e:t},c6e=f6e,h6e=c6e,m6e=h6e,p6e=Qe(m6e),d6e=wt,v6e=d6e.Object.getOwnPropertySymbols,g6e=v6e,b6e=g6e,y6e=b6e,Bs=Qe(y6e),XA={exports:{}},$6e=at,_6e=_t,w6e=Gn,KA=ku.f,YA=Ar,x6e=!YA||_6e(function(){KA(1)});$6e({target:"Object",stat:!0,forced:x6e,sham:!YA},{getOwnPropertyDescriptor:function(t,e){return KA(w6e(t),e)}});var S6e=wt,JA=S6e.Object,E6e=XA.exports=function(t,e){return JA.getOwnPropertyDescriptor(t,e)};JA.getOwnPropertyDescriptor.sham&&(E6e.sham=!0);var k6e=XA.exports,T6e=k6e,QA=T6e,O6e=QA,Ks=Qe(O6e),A6e=at,I6e=Ar,C6e=Vye,P6e=Gn,D6e=ku,N6e=Ru;A6e({target:"Object",stat:!0,sham:!I6e},{getOwnPropertyDescriptors:function(t){for(var e=P6e(t),i=D6e.f,n=C6e(e),a={},s=0,o,l;n.length>s;)l=i(e,o=n[s++]),l!==void 0&&N6e(a,o,l);return a}});var R6e=wt,M6e=R6e.Object.getOwnPropertyDescriptors,B6e=M6e,F6e=B6e,z6e=F6e,Fs=Qe(z6e),ZA={exports:{}},L6e=at,j6e=Ar,vx=Gp.f;L6e({target:"Object",stat:!0,forced:Object.defineProperties!==vx,sham:!j6e},{defineProperties:vx});var U6e=wt,eI=U6e.Object,q6e=ZA.exports=function(t,e){return eI.defineProperties(t,e)};eI.defineProperties.sham&&(q6e.sham=!0);var H6e=ZA.exports,W6e=H6e,G6e=W6e,V6e=G6e,ld=Qe(V6e),X6e=nO,ud=Qe(X6e);function fd(r,t,e){return t=BO(t),t in r?Yp(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var tI=tr,K6e=_t,Y6e=Et,J6e=Vn,Q6e=KO.trim,Z6e=u$,exe=Y6e("".charAt),Um=tI.parseFloat,gx=tI.Symbol,bx=gx&&gx.iterator,txe=1/Um(Z6e+"-0")!==-1/0||bx&&!K6e(function(){Um(Object(bx))}),rxe=txe?function(t){var e=Q6e(J6e(t)),i=Um(e);return i===0&&exe(e,0)==="-"?-0:i}:Um,ixe=at,yx=rxe;ixe({global:!0,forced:parseFloat!==yx},{parseFloat:yx});var nxe=wt,axe=nxe.parseFloat,sxe=axe,oxe=sxe,lxe=oxe,rI=Qe(lxe),uxe=at,fxe=_t,cxe=Jp.f,hxe=fxe(function(){return!Object.getOwnPropertyNames(1)});uxe({target:"Object",stat:!0,forced:hxe},{getOwnPropertyNames:cxe});var mxe=wt,pxe=mxe.Object,dxe=function(t){return pxe.getOwnPropertyNames(t)},vxe=dxe,gxe=vxe,bxe=gxe,yxe=Qe(bxe);function T$(r,t){var e=["node","edge","label"],i=!0,n=ps(t,"chosen");if(typeof n=="boolean")i=n;else if(Dt(n)==="object"){if($t(e).call(e,r)===-1)throw new Error("choosify: subOption '"+r+"' should be one of '"+e.join("', '")+"'");var a=ps(t,["chosen",r]);(typeof a=="boolean"||typeof a=="function")&&(i=a)}return i}function fb(r,t,e){if(r.width<=0||r.height<=0)return!1;if(e!==void 0){var i={x:t.x-e.x,y:t.y-e.y};if(e.angle!==0){var n=-e.angle,a={x:Math.cos(n)*i.x-Math.sin(n)*i.y,y:Math.sin(n)*i.x+Math.cos(n)*i.y};t=a}else t=i}var s=r.x+r.width,o=r.y+r.width;return r.left<t.x&&s>t.x&&r.top<t.y&&o>t.y}function qm(r){return typeof r=="string"&&r!==""}function iI(r,t,e,i){var n=i.x,a=i.y;if(typeof i.distanceToBorder=="function"){var s=i.distanceToBorder(r,t),o=Math.sin(t)*s,l=Math.cos(t)*s;l===s?(n+=s,a=i.y):o===s?(n=i.x,a-=s):(n+=l,a-=o)}else i.shape.width>i.shape.height?(n=i.x+i.shape.width*.5,a=i.y-e):(n=i.x+e,a=i.y-i.shape.height*.5);return{x:n,y:a}}var $xe=Pr,_xe=$xe("Array").values,wxe=_xe,xxe=wxe,Sxe=Ko,Exe=Cr,kxe=or,Txe=xxe,vg=Array.prototype,Oxe={DOMTokenList:!0,NodeList:!0},Axe=function(r){var t=r.values;return r===vg||kxe(vg,r)&&t===vg.values||Exe(Oxe,Sxe(r))?Txe:t},Ixe=Axe,nI=Qe(Ixe),Cxe=function(){function r(t){je(this,r),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return Ue(r,[{key:"_add",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var a=i;(i===void 0||i==="")&&(a=" ");var s=this.measureText(a,n),o=ur({},nI(s));o.text=i,o.width=s.width,o.mod=n,(i===void 0||i==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,i)}},{key:"newLine",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,i),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var i=this.lines[e],n=0;if(i.blocks!==void 0)for(var a=0;a<i.blocks.length;a++){var s=i.blocks[a];n<s.height&&(n=s.height)}i.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,i=0,n=0;n<this.lines.length;n++){var a=this.lines[n];a.width>e&&(e=a.width),i+=a.height}this.width=e,this.height=i}},{key:"removeEmptyBlocks",value:function(){for(var e=[],i=0;i<this.lines.length;i++){var n=this.lines[i];if(n.blocks.length!==0&&!(i===this.lines.length-1&&n.width===0)){var a={};ur(a,n),a.blocks=[];for(var s=void 0,o=[],l=0;l<n.blocks.length;l++){var u=n.blocks[l];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),a.blocks=o,e.push(a)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),r}(),Pxe={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},$x=function(){function r(t){je(this,r),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return Ue(r,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,i){return!this.mono&&!this[e]&&this.match(i)?(this.setTag(e),!0):!1}},{key:"match",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.prepareRegExp(e),a=Qt(n,2),s=a[0],o=a[1],l=s.test(this.text.substr(this.position,o));return l&&i&&(this.position+=o-1),l}},{key:"parseEndTag",value:function(e,i,n){var a=this.mod()===e;return e==="mono"?a=a&&this.mono:a=a&&!this.mono,a&&this.match(i)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}},{key:"replace",value:function(e,i){return this.match(e)?(this.add(i),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(e){var i,n;if(e instanceof RegExp)n=e,i=1;else{var a=Pxe[e];a!==void 0?n=a:n=new RegExp(e),i=e.length}return[n,i]}}]),r}(),Dxe=function(){function r(t,e,i,n){var a=this;je(this,r),this.ctx=t,this.parent=e,this.selected=i,this.hover=n;var s=function(l,u){if(l===void 0)return 0;var f=a.parent.getFormattingValues(t,i,n,u),h=0;if(l!==""){var c=a.ctx.measureText(l);h=c.width}return{width:h,values:f}};this.lines=new Cxe(s)}return Ue(r,[{key:"process",value:function(e){if(!qm(e))return this.lines.finalize();var i=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);var n=String(e).split(`
`),a=n.length;if(i.multi)for(var s=0;s<a;s++){var o=this.splitBlocks(n[s],i.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(i.maxWdt>0)for(var l=0;l<o.length;l++){var u=o[l].mod,f=o[l].text;this.splitStringIntoLines(f,u,!0)}else for(var h=0;h<o.length;h++){var c=o[h].mod,m=o[h].text;this.lines.append(m,c)}this.lines.newLine()}}else if(i.maxWdt>0)for(var d=0;d<a;d++)this.splitStringIntoLines(n[d]);else for(var v=0;v<a;v++)this.lines.newLine(n[v]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var i="none";return e==="markdown"||e==="md"?i="markdown":(e===!0||e==="html")&&(i="html"),i}},{key:"splitHtmlBlocks",value:function(e){for(var i=new $x(e),n=function(l){if(/&/.test(l)){var u=i.replace(i.text,"&lt;","<")||i.replace(i.text,"&amp;","&");return u||i.add("&"),!0}return!1};i.position<i.text.length;){var a=i.text.charAt(i.position),s=i.parseWS(a)||/</.test(a)&&(i.parseStartTag("bold","<b>")||i.parseStartTag("ital","<i>")||i.parseStartTag("mono","<code>")||i.parseEndTag("bold","</b>")||i.parseEndTag("ital","</i>")||i.parseEndTag("mono","</code>"))||n(a);s||i.add(a),i.position++}return i.emitBlock(),i.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var i=this,n=new $x(e),a=!0,s=function(f){return/\\/.test(f)?(n.position<i.text.length+1&&(n.position++,f=i.text.charAt(n.position),/ \t/.test(f)?n.spacing=!0:(n.add(f),a=!1)),!0):!1};n.position<n.text.length;){var o=n.text.charAt(n.position),l=n.parseWS(o)||s(o)||(a||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono");l||(n.add(o),a=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,i){var n=this.decodeMarkupSystem(i);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}},{key:"overMaxWidth",value:function(e){var i=this.ctx.measureText(e).width;return this.lines.curWidth()+i>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var i="",n=0;n<e.length;){var a=i===""?"":" ",s=i+a+e[n];if(this.overMaxWidth(s))break;i=s,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var i=0;i<e.length&&!this.overMaxWidth(jr(e).call(e,0,i));)i++;return i}},{key:"splitStringIntoLines",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,i),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var a=e.split("\r");a.length>0;){var s=this.getLongestFit(a);if(s===0){var o=a[0],l=this.getLongestFitWord(o);this.lines.newLine(jr(o).call(o,0,l),i),a[0]=jr(o).call(o,l)}else{var u=s;a[s-1]===" "?s--:a[u]===" "&&u++;var f=jr(a).call(a,0,s).join("");s==a.length&&n?this.lines.append(f,i):this.lines.newLine(f,i),a=jr(a).call(a,u)}}}}]),r}(),Xu=["bold","ital","boldital","mono"],aI=function(){function r(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;je(this,r),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return Ue(r,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),qm(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(Dt(e.font)==="object"){var i=e.font.size;i!==void 0&&(this.baseSize=i)}}}},{key:"initFontOptions",value:function(e){var i=this;if(ht(Xu,function(n){i.fontOptions[n]={}}),r.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}ht(e,function(n,a){n!=null&&Dt(n)!=="object"&&(i.fontOptions[a]=n)})}},{key:"constrain",value:function(e){var i={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=ps(e,"widthConstraint");if(typeof n=="number")i.maxWdt=Number(n),i.minWdt=Number(n);else if(Dt(n)==="object"){var a=ps(e,["widthConstraint","maximum"]);typeof a=="number"&&(i.maxWdt=Number(a));var s=ps(e,["widthConstraint","minimum"]);typeof s=="number"&&(i.minWdt=Number(s))}var o=ps(e,"heightConstraint");if(typeof o=="number")i.minHgt=Number(o);else if(Dt(o)==="object"){var l=ps(e,["heightConstraint","minimum"]);typeof l=="number"&&(i.minHgt=Number(l));var u=ps(e,["heightConstraint","valign"]);typeof u=="string"&&(u==="top"||u==="bottom")&&(i.valign=u)}return i}},{key:"update",value:function(e,i){this.setOptions(e,!0),this.propagateFonts(i),zt(this.fontOptions,this.constrain(i)),this.fontOptions.chooser=T$("label",i)}},{key:"adjustSizes",value:function(e){var i=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=i,this.fontOptions.minWdt-=i);var n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(e,i){for(var n=0;n<i.length;++n)this.addFontToPile(e,i[n])}},{key:"addFontToPile",value:function(e,i){if(i!==void 0&&!(i.font===void 0||i.font===null)){var n=i.font;e.push(n)}}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var a=e[n],s={};r.parseFontString(s,a)&&(a=s),ht(a,function(o,l){o!==void 0&&(Object.prototype.hasOwnProperty.call(i,l)||($t(Xu).call(Xu,l)!==-1?i[l]={}:i[l]=o))})}return i}},{key:"getFontOption",value:function(e,i,n){for(var a,s=0;s<e.length;++s){var o=e[s];if(Object.prototype.hasOwnProperty.call(o,i)){if(a=o[i],a==null)continue;var l={};if(r.parseFontString(l,a)&&(a=l),Object.prototype.hasOwnProperty.call(a,n))return a[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(e,i){for(var n={},a=["color","size","face","mod","vadjust"],s=0;s<a.length;++s){var o=a[s];n[o]=this.getFontOption(e,i,o)}return n}},{key:"propagateFonts",value:function(e){var i=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var a=function(){var l=Xu[s],u=i.fontOptions[l],f=i.getFontOptions(n,l);ht(f,function(h,c){u[c]=h}),u.size=Number(u.size),u.vadjust=Number(u.vadjust)},s=0;s<Xu.length;++s)a()}},{key:"draw",value:function(e,i,n,a,s){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var l=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&l<this.elementOptions.scaling.label.drawThreshold-1||(l>=this.elementOptions.scaling.label.maxVisible&&(l=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,a,s,i,n,o),this._drawBackground(e),this._drawText(e,i,this.size.yLine,o,l))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var i=this.getSize();e.fillRect(i.left,i.top,i.width,i.height)}}},{key:"_drawText",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0,o=this._setAlignment(e,i,n,a),l=Qt(o,2);i=l[0],n=l[1],e.textAlign="left",i=i-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var f=this.lines[u];if(f&&f.blocks){var h=0;this.isEdgeLabel||this.fontOptions.align==="center"?h+=(this.size.width-f.width)/2:this.fontOptions.align==="right"&&(h+=this.size.width-f.width);for(var c=0;c<f.blocks.length;c++){var m=f.blocks[c];e.font=m.font;var d=this._getColor(m.color,s,m.strokeColor),v=Qt(d,2),b=v[0],g=v[1];m.strokeWidth>0&&(e.lineWidth=m.strokeWidth,e.strokeStyle=g,e.lineJoin="round"),e.fillStyle=b,m.strokeWidth>0&&e.strokeText(m.text,i+h,n+m.vadjust),e.fillText(m.text,i+h,n+m.vadjust),h+=m.width}n+=f.height}}}},{key:"_setAlignment",value:function(e,i,n,a){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){i=0,n=0;var s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=a;return[i,n]}},{key:"_getColor",value:function(e,i,n){var a=e||"#000000",s=n||"#ffffff";if(i<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-i)));a=Hi(a,o),s=Hi(s,o)}return[a,s]}},{key:"getTextSize",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,i,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=2,i=this.size.left,n=this.size.top-.5*e;if(this.isEdgeLabel){var a=-this.size.width*.5;switch(this.fontOptions.align){case"middle":i=a,n=-this.size.height*.5;break;case"top":i=a,n=-(this.size.height+e);break;case"bottom":i=a,n=e;break}}var s={left:i,top:n,width:this.size.width,height:this.size.height};return s}},{key:"calculateLabelSize",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,i,n),this.size.left=a-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,i,n,a){var s=function(f,h,c){return h==="normal"?c==="mod"?"":f[c]:f[h][c]!==void 0?f[h][c]:f[c]},o={color:s(this.fontOptions,a,"color"),size:s(this.fontOptions,a,"size"),face:s(this.fontOptions,a,"face"),mod:s(this.fontOptions,a,"mod"),vadjust:s(this.fontOptions,a,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(i||n)&&(a==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,i,n));var l="";return o.mod!==void 0&&o.mod!==""&&(l+=o.mod+" "),l+=o.size+"px "+o.face,e.font=l.replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,i){return e!==this.selectedState||i!==this.hoverState}},{key:"_processLabelText",value:function(e,i,n,a){var s=new Dxe(e,this,i,n);return s.process(a)}},{key:"_processLabel",value:function(e,i,n){if(!(this.labelDirty===!1&&!this.differentState(i,n))){var a=this._processLabelText(e,i,n,this.elementOptions.label);this.fontOptions.minWdt>0&&a.width<this.fontOptions.minWdt&&(a.width=this.fontOptions.minWdt),this.size.labelHeight=a.height,this.fontOptions.minHgt>0&&a.height<this.fontOptions.minHgt&&(a.height=this.fontOptions.minHgt),this.lines=a.lines,this.lineCount=a.lines.length,this.size.width=a.width,this.size.height=a.height,this.selectedState=i,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var e=this.fontOptions.size*this.body.view.scale;return!(e<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,i){if(!i||typeof i!="string")return!1;var n=i.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),r}(),Nxe=Xp,Rxe=Au,Mxe=TypeError,Bxe=function(r){if(Nxe(r))return r;throw new Mxe(Rxe(r)+" is not a constructor")},Fxe=at,zxe=Zi,gg=vc,Lxe=S9,_x=Bxe,jxe=Ni,wx=Ir,Uxe=Pu,sI=_t,O$=zxe("Reflect","construct"),qxe=Object.prototype,Hxe=[].push,oI=sI(function(){function r(){}return!(O$(function(){},[],r)instanceof r)}),lI=!sI(function(){O$(function(){})}),xx=oI||lI;Fxe({target:"Reflect",stat:!0,forced:xx,sham:xx},{construct:function(t,e){_x(t),jxe(e);var i=arguments.length<3?t:_x(arguments[2]);if(lI&&!oI)return O$(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return gg(Hxe,n,e),new(gg(Lxe,t,n))}var a=i.prototype,s=Uxe(wx(a)?a:qxe),o=gg(t,s,e);return wx(o)?o:s}});var Wxe=wt,Gxe=Wxe.Reflect.construct,Vxe=Gxe,Xxe=Vxe,Kxe=Xxe,Oe=Qe(Kxe),Yxe=ZO,Jxe=Yxe,Qxe=Jxe,Zxe=Qxe,e7e=Zxe,t7e=Qe(e7e),r7e=at,i7e=tde;r7e({target:"Object",stat:!0},{setPrototypeOf:i7e});var n7e=wt,a7e=n7e.Object.setPrototypeOf,s7e=a7e,o7e=s7e,l7e=o7e,u7e=l7e,f7e=u7e,c7e=f7e,h7e=c7e,cb=Qe(h7e),m7e=E9,p7e=m7e,d7e=p7e,v7e=d7e,g7e=v7e,A$=Qe(g7e);function hb(r,t){var e;return hb=cb?A$(e=cb).call(e):function(n,a){return n.__proto__=a,n},hb(r,t)}function kt(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=t7e(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Yp(r,"prototype",{writable:!1}),t&&hb(r,t)}function b7e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Pt(r,t){if(t&&(Dt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b7e(r)}var y7e=XO,$7e=y7e,_7e=$7e,w7e=_7e,x7e=w7e,Sx=Qe(x7e);function Ke(r){var t;return Ke=cb?A$(t=Sx).call(t):function(i){return i.__proto__||Sx(i)},Ke(r)}var tl=function(){function r(t,e,i){je(this,r),this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return Ue(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(Dt(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,i){var n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+n}},{key:"enableShadow",value:function(e,i){i.shadow&&(e.shadowColor=i.shadowColor,e.shadowBlur=i.shadowSize,e.shadowOffsetX=i.shadowX,e.shadowOffsetY=i.shadowY)}},{key:"disableShadow",value:function(e,i){i.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,i){if(i.borderDashes!==!1)if(e.setLineDash!==void 0){var n=i.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,i.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,i){i.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,i.borderDashes=!1))}},{key:"needsRefresh",value:function(e,i){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,i)}},{key:"initContextForDraw",value:function(e,i){var n=i.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=i.borderColor,e.fillStyle=i.color}},{key:"performStroke",value:function(e,i){var n=i.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,i),e.stroke(),this.disableBorderDashes(e,i)),e.restore()}},{key:"performFill",value:function(e,i){e.save(),e.fillStyle=i.color,this.enableShadow(e,i),Nc(e).call(e),this.disableShadow(e,i),e.restore(),this.performStroke(e,i)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,i,n,a,s){n!==void 0&&this.resize(n,a,s),this.left=e-this.width/2,this.top=i-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,i,n,a,s){this._updateBoundingBox(e,i,n,a,s)}},{key:"getDimensionsFromLabel",value:function(e,i,n){this.textSize=this.labelModule.getTextSize(e,i,n);var a=this.textSize.width,s=this.textSize.height,o=14;return a===0&&(a=o,s=o),{width:a,height:s}}}]),r}();function S7e(r){var t=E7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function E7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var k7e=function(r){kt(e,r);var t=S7e(e);function e(i,n,a){var s;return je(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return Ue(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s);this.width=o.width+this.margin.right+this.margin.left,this.height=o.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.initContextForDraw(n,u),k9(n,this.left,this.top,this.width,this.height,u.borderRadius),this.performFill(n,u),this.updateBoundingBox(a,s,n,o,l),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"updateBoundingBox",value:function(n,a,s,o,l){this._updateBoundingBox(n,a,s,o,l);var u=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(u)}},{key:"distanceToBorder",value:function(n,a){n&&this.resize(n);var s=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(a)),Math.abs(this.height/2/Math.sin(a)))+s}}]),e}(tl);function T7e(r){var t=O7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function O7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var I$=function(r){kt(e,r);var t=T7e(e);function e(i,n,a){var s;return je(this,e),s=t.call(this,i,n,a),s.labelOffset=0,s.selected=!1,s}return Ue(e,[{key:"setOptions",value:function(n,a,s){this.options=n,a===void 0&&s===void 0||this.setImages(a,s)}},{key:"setImages",value:function(n,a){a&&this.selected?(this.imageObj=a,this.imageObjAlt=n):(this.imageObj=n,this.imageObjAlt=a)}},{key:"switchImages",value:function(n){var a=n&&!this.selected||!n&&this.selected;if(this.selected=n,this.imageObjAlt!==void 0&&a){var s=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=s}}},{key:"_getImagePadding",value:function(){var n={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var a=this.options.imagePadding;Dt(a)=="object"?(n.top=a.top,n.right=a.right,n.bottom=a.bottom,n.left=a.left):(n.top=a,n.right=a,n.bottom=a,n.left=a)}return n}},{key:"_resizeImage",value:function(){var n,a;if(this.options.shapeProperties.useImageSize===!1){var s=1,o=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?s=this.imageObj.width/this.imageObj.height:o=this.imageObj.height/this.imageObj.width),n=this.options.size*2*s,a=this.options.size*2*o}else{var l=this._getImagePadding();n=this.imageObj.width+l.left+l.right,a=this.imageObj.height+l.top+l.bottom}this.width=n,this.height=a,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(n,a,s,o){this.initContextForDraw(n,o),Vy(n,a,s,o.size),this.performFill(n,o)}},{key:"_drawImageAtPosition",value:function(n,a){if(this.imageObj.width!=0){n.globalAlpha=a.opacity!==void 0?a.opacity:1,this.enableShadow(n,a);var s=1;this.options.shapeProperties.interpolation===!0&&(s=this.imageObj.width/this.width/this.body.view.scale);var o=this._getImagePadding(),l=this.left+o.left,u=this.top+o.top,f=this.width-o.left-o.right,h=this.height-o.top-o.bottom;this.imageObj.drawImageAtPosition(n,s,l,u,f,h),this.disableShadow(n,a)}}},{key:"_drawImageLabel",value:function(n,a,s,o,l){var u=0;if(this.height!==void 0){u=this.height*.5;var f=this.labelModule.getTextSize(n,o,l);f.lineCount>=1&&(u+=f.height/2)}var h=s+u;this.options.label&&(this.labelOffset=u),this.labelModule.draw(n,a,h,o,l,"hanging")}}]),e}(tl);function A7e(r){var t=I7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function I7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var C7e=function(r){kt(e,r);var t=A7e(e);function e(i,n,a){var s;return je(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return Ue(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s),l=Math.max(o.width+this.margin.right+this.margin.left,o.height+this.margin.top+this.margin.bottom);this.options.size=l/2,this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this._drawRawCircle(n,a,s,u),this.updateBoundingBox(a,s),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,s,o,l)}},{key:"updateBoundingBox",value:function(n,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=a+this.options.size}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.width*.5}}]),e}(I$);function P7e(r){var t=D7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function D7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var N7e=function(r){kt(e,r);var t=P7e(e);function e(i,n,a,s,o){var l;return je(this,e),l=t.call(this,i,n,a),l.setImages(s,o),l}return Ue(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l,this.radius=.5*this.width;return}this.needsRefresh(a,s)&&this._resizeImage()}},{key:"draw",value:function(n,a,s,o,l,u){this.switchImages(o),this.resize();var f=a,h=s;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=s,f+=this.width/2,h+=this.height/2):(this.left=a-this.width/2,this.top=s-this.height/2),this._drawRawCircle(n,f,h,u),n.save(),n.clip(),this._drawImageAtPosition(n,u),n.restore(),this._drawImageLabel(n,f,h,o,l),this.updateBoundingBox(a,s)}},{key:"updateBoundingBox",value:function(n,a){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=a,this.boundingBox.left=n,this.boundingBox.right=n+this.options.size*2,this.boundingBox.bottom=a+this.options.size*2):(this.boundingBox.top=a-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=a+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.width*.5}}]),e}(I$);function R7e(r){var t=M7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function M7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var Ys=function(r){kt(e,r);var t=R7e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(a,s)){var l,u;this.labelModule.getTextSize(n,a,s);var f=2*o.size;this.width=(l=this.customSizeWidth)!==null&&l!==void 0?l:f,this.height=(u=this.customSizeHeight)!==null&&u!==void 0?u:f,this.radius=.5*this.width}}},{key:"_drawShape",value:function(n,a,s,o,l,u,f,h){var c=this;return this.resize(n,u,f,h),this.left=o-this.width/2,this.top=l-this.height/2,this.initContextForDraw(n,h),gme(a)(n,o,l,h.size),this.performFill(n,h),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(n.font=(u?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",n.fillText(this.options.icon.code,o,l)),{drawExternalLabel:function(){if(c.options.label!==void 0){c.labelModule.calculateLabelSize(n,u,f,o,l,"hanging");var d=l+.5*c.height+.5*c.labelModule.size.height;c.labelModule.draw(n,o,d,u,f,"hanging")}c.updateBoundingBox(o,l)}}}},{key:"updateBoundingBox",value:function(n,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=a+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(tl);function Ex(r,t){var e=Jt(r);if(Bs){var i=Bs(r);t&&(i=pi(i).call(i,function(n){return Ks(r,n).enumerable})),e.push.apply(e,i)}return e}function B7e(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Mt(e=Ex(Object(n),!0)).call(e,function(a){fd(r,a,n[a])}):Fs?ld(r,Fs(n)):Mt(i=Ex(Object(n))).call(i,function(a){ud(r,a,Ks(n,a))})}return r}function F7e(r){var t=z7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function z7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var L7e=function(r){kt(e,r);var t=F7e(e);function e(i,n,a,s){var o;return je(this,e),o=t.call(this,i,n,a,s),o.ctxRenderer=s,o}return Ue(e,[{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l,u),this.left=a-this.width/2,this.top=s-this.height/2,n.save();var f=this.ctxRenderer({ctx:n,id:this.options.id,x:a,y:s,state:{selected:o,hover:l},style:B7e({},u),label:this.options.label});if(f.drawNode!=null&&f.drawNode(),n.restore(),f.drawExternalLabel){var h=f.drawExternalLabel;f.drawExternalLabel=function(){n.save(),h(),n.restore()}}return f.nodeDimensions&&(this.customSizeWidth=f.nodeDimensions.width,this.customSizeHeight=f.nodeDimensions.height),f}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(Ys);function j7e(r){var t=U7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function U7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var q7e=function(r){kt(e,r);var t=j7e(e);function e(i,n,a){var s;return je(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return Ue(e,[{key:"resize",value:function(n,a,s){if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s),l=o.width+this.margin.right+this.margin.left;this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.initContextForDraw(n,u),T9(n,a-this.width/2,s-this.height/2,this.width,this.height),this.performFill(n,u),this.updateBoundingBox(a,s,n,o,l),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(tl);function H7e(r){var t=W7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function W7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var G7e=function(r){kt(e,r);var t=H7e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"diamond",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(Ys);function V7e(r){var t=X7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function X7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var K7e=function(r){kt(e,r);var t=V7e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"circle",2,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.options.size}}]),e}(Ys);function Y7e(r){var t=J7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function J7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var kx=function(r){kt(e,r);var t=Y7e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s);this.height=o.height*2,this.width=o.width+o.height,this.radius=.5*this.width}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width*.5,this.top=s-this.height*.5,this.initContextForDraw(n,u),z1(n,this.left,this.top,this.width,this.height),this.performFill(n,u),this.updateBoundingBox(a,s,n,o,l),this.labelModule.draw(n,a,s,o,l)}},{key:"distanceToBorder",value:function(n,a){n&&this.resize(n);var s=this.width*.5,o=this.height*.5,l=Math.sin(a)*s,u=Math.cos(a)*o;return s*o/Math.sqrt(l*l+u*u)}}]),e}(tl);function Q7e(r){var t=Z7e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function Z7e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var eSe=function(r){kt(e,r);var t=Q7e(e);function e(i,n,a){var s;return je(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return Ue(e,[{key:"resize",value:function(n,a,s){this.needsRefresh(a,s)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,a,s,o,l,u){var f=this;return this.resize(n,o,l),this.options.icon.size=this.options.icon.size||50,this.left=a-this.width/2,this.top=s-this.height/2,this._icon(n,a,s,o,l,u),{drawExternalLabel:function(){if(f.options.label!==void 0){var c=5;f.labelModule.draw(n,f.left+f.iconSize.width/2+f.margin.left,s+f.height/2+c,o)}f.updateBoundingBox(a,s)}}}},{key:"updateBoundingBox",value:function(n,a){if(this.boundingBox.top=a-this.options.icon.size*.5,this.boundingBox.left=n-this.options.icon.size*.5,this.boundingBox.right=n+this.options.icon.size*.5,this.boundingBox.bottom=a+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var s=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+s)}}},{key:"_icon",value:function(n,a,s,o,l,u){var f=Number(this.options.icon.size);this.options.icon.code!==void 0?(n.font=[this.options.icon.weight!=null?this.options.icon.weight:o?"bold":"",(this.options.icon.weight!=null&&o?5:0)+f+"px",this.options.icon.face].join(" "),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",this.enableShadow(n,u),n.fillText(this.options.icon.code,a,s),this.disableShadow(n,u)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(tl);function tSe(r){var t=rSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function rSe(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var iSe=function(r){kt(e,r);var t=tSe(e);function e(i,n,a,s,o){var l;return je(this,e),l=t.call(this,i,n,a),l.setImages(s,o),l}return Ue(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l;return}this.needsRefresh(a,s)&&this._resizeImage()}},{key:"draw",value:function(n,a,s,o,l,u){n.save(),this.switchImages(o),this.resize();var f=a,h=s;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=s,f+=this.width/2,h+=this.height/2):(this.left=a-this.width/2,this.top=s-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var c=this.options.borderWidth,m=this.options.borderWidthSelected||2*this.options.borderWidth,d=(o?m:c)/this.body.view.scale;n.lineWidth=Math.min(this.width,d),n.beginPath();var v=o?this.options.color.highlight.border:l?this.options.color.hover.border:this.options.color.border,b=o?this.options.color.highlight.background:l?this.options.color.hover.background:this.options.color.background;u.opacity!==void 0&&(v=Hi(v,u.opacity),b=Hi(b,u.opacity)),n.strokeStyle=v,n.fillStyle=b,n.rect(this.left-.5*n.lineWidth,this.top-.5*n.lineWidth,this.width+n.lineWidth,this.height+n.lineWidth),Nc(n).call(n),this.performStroke(n,u),n.closePath()}this._drawImageAtPosition(n,u),this._drawImageLabel(n,f,h,o,l),this.updateBoundingBox(a,s),n.restore()}},{key:"updateBoundingBox",value:function(n,a){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=a):(this.left=n-this.width/2,this.top=a-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(I$);function nSe(r){var t=aSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function aSe(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var sSe=function(r){kt(e,r);var t=nSe(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"square",2,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(Ys);function oSe(r){var t=lSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function lSe(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var uSe=function(r){kt(e,r);var t=oSe(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"hexagon",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(Ys);function fSe(r){var t=cSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function cSe(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var hSe=function(r){kt(e,r);var t=fSe(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"star",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(Ys);function mSe(r){var t=pSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function pSe(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var dSe=function(r){kt(e,r);var t=mSe(e);function e(i,n,a){var s;return je(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return Ue(e,[{key:"resize",value:function(n,a,s){this.needsRefresh(a,s)&&(this.textSize=this.labelModule.getTextSize(n,a,s),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.enableShadow(n,u),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l),this.disableShadow(n,u),this.updateBoundingBox(a,s,n,o,l)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(tl);function vSe(r){var t=gSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function gSe(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var bSe=function(r){kt(e,r);var t=vSe(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"triangle",3,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(Ys);function ySe(r){var t=$Se();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function $Se(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var _Se=function(r){kt(e,r);var t=ySe(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"triangleDown",3,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(Ys);function Tx(r,t){var e=Jt(r);if(Bs){var i=Bs(r);t&&(i=pi(i).call(i,function(n){return Ks(r,n).enumerable})),e.push.apply(e,i)}return e}function Ox(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Mt(e=Tx(Object(n),!0)).call(e,function(a){fd(r,a,n[a])}):Fs?ld(r,Fs(n)):Mt(i=Tx(Object(n))).call(i,function(a){ud(r,a,Ks(n,a))})}return r}var Ei=function(){function r(t,e,i,n,a,s){je(this,r),this.options=Os(a),this.globalOptions=a,this.defaultOptions=s,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new aI(this.body,this.options,!1),this.setOptions(t)}return Ue(r,[{key:"attachEdge",value:function(e){var i;$t(i=this.edges).call(i,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var i,n=$t(i=this.edges).call(i,e);if(n!=-1){var a;aa(a=this.edges).call(a,n,1)}}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");r.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=fn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=fn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=rI(e.value)),r.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var n=[e,this.options,this.defaultOptions];return this.chooser=T$("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&r.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(i),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var i=this.options.opacity;e.borderColor=Hi(e.borderColor,i),e.color=Hi(e.color,i),e.shadowColor=Hi(e.shadowColor,i)}return e}},{key:"updateLabelModule",value:function(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),r.updateGroupOptions(this.options,Ox(Ox({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1),n=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new k7e(this.options,this.body,this.labelModule);break;case"circle":this.shape=new C7e(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new N7e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new L7e(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new q7e(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new G7e(this.options,this.body,this.labelModule);break;case"dot":this.shape=new K7e(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new kx(this.options,this.body,this.labelModule);break;case"icon":this.shape=new eSe(this.options,this.body,this.labelModule);break;case"image":this.shape=new iSe(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new sSe(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new uSe(this.options,this.body,this.labelModule);break;case"star":this.shape=new hSe(this.options,this.body,this.labelModule);break;case"text":this.shape=new dSe(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new bSe(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new _Se(this.options,this.body,this.labelModule);break;default:this.shape=new kx(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,i){return this.shape.distanceToBorder(e,i)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,i,n){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,i,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*o}this.options.size=this.options.scaling.min+a*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var i=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,i)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var i=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,i)}},{key:"getItemsOnPoint",value:function(e){var i=[];return this.labelModule.visible()&&fb(this.labelModule.getSize(),e)&&i.push({nodeId:this.id,labelId:0}),fb(this.shape.boundingBox,e)&&i.push({nodeId:this.id}),i}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,i,n){var a;if(n!==void 0){var s=e.group;if(i!==void 0&&i.group!==void 0&&s!==i.group)throw new Error("updateGroupOptions: group values in options don't match.");var o=typeof s=="number"||typeof s=="string"&&s!="";if(o){var l=n.get(s);l.opacity!==void 0&&i.opacity===void 0&&(r.checkOpacity(l.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+l.opacity),l.opacity=void 0));var u=pi(a=yxe(i)).call(a,function(f){return i[f]!=null});u.push("font"),Lm(u,e,l),e.color=ab(e.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,o=["color","fixed","shadow"];if(Lm(o,e,i,n),r.checkMass(i),e.opacity!==void 0&&(r.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),i.opacity!==void 0&&(r.checkOpacity(i.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+i.opacity),i.opacity=void 0)),i.shapeProperties&&!r.checkCoordinateOrigin(i.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+i.shapeProperties.coordinateOrigin),Ui(e,i,"shadow",a),i.color!==void 0&&i.color!==null){var l=ab(i.color);AA(e.color,l)}else n===!0&&i.color===null&&(e.color=Os(a.color));i.fixed!==void 0&&i.fixed!==null&&(typeof i.fixed=="boolean"?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(i.fixed.x!==void 0&&typeof i.fixed.x=="boolean"&&(e.fixed.x=i.fixed.x),i.fixed.y!==void 0&&typeof i.fixed.y=="boolean"&&(e.fixed.y=i.fixed.y))),n===!0&&i.font===null&&(e.font=Os(a.font)),r.updateGroupOptions(e,i,s),i.scaling!==void 0&&Ui(e.scaling,i.scaling,"label",a.scaling)}},{key:"checkMass",value:function(e,i){if(e.mass!==void 0&&e.mass<=0){var n="";i!==void 0&&(n=" in node id: "+i),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",DA),e.mass=1}}}]),r}();function wSe(r,t){var e=typeof Xs<"u"&&Qo(r)||r["@@iterator"];if(!e){if(Ct(r)||(e=xSe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function xSe(r,t){var e;if(r){if(typeof r=="string")return Ax(r,t);var i=jr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Jo(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ax(r,t)}}function Ax(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var SSe=function(){function r(t,e,i,n){var a,s=this;if(je(this,r),this.body=t,this.images=e,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=Me(a=this.create).call(a,this),this.nodesListeners={add:function(l,u){s.add(u.items)},update:function(l,u){s.update(u.items,u.data,u.oldData)},remove:function(l,u){s.remove(u.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(l,u,f,h){if(u===l)return .5;var c=1/(u-l);return Math.max(0,(h-l)*c)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Os(this.defaultOptions),this.bindEventListeners()}return Ue(r,[{key:"bindEventListeners",value:function(){var e,i,n=this;this.body.emitter.on("refreshNodes",Me(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Me(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",function(){ht(n.nodesListeners,function(a,s){n.body.data.nodes&&n.body.data.nodes.off(s,a)}),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if(Ei.parseOptions(this.options,e),e.opacity!==void 0&&(ub(e.opacity)||!co(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&this.body.nodes[i].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(var n=0,a=Jt(this.body.nodes);n<a.length;n++){var s=a[n];this.body.nodes[s].updateLabelModule(),this.body.nodes[s].needsRefresh()}if(e.size!==void 0)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.data.nodes;if(a9("id",e))this.body.data.nodes=e;else if(Ct(e))this.body.data.nodes=new Cm,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Cm;else throw new TypeError("Array or DataSet expected");if(n&&ht(this.nodesListeners,function(o,l){n.off(l,o)}),this.body.nodes={},this.body.data.nodes){var a=this;ht(this.nodesListeners,function(o,l){a.body.data.nodes.on(l,o)});var s=this.body.data.nodes.getIds();this.add(s,!0)}i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,a=[],s=0;s<e.length;s++){n=e[s];var o=this.body.data.nodes.get(n),l=this.create(o);a.push(l),this.body.nodes[n]=l}this.layoutEngine.positionInitially(a),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,i,n){for(var a=this.body.nodes,s=!1,o=0;o<e.length;o++){var l=e[o],u=a[l],f=i[o];u!==void 0?u.setOptions(f)&&(s=!0):(s=!0,u=this.create(f),a[l]=u)}!s&&n!==void 0&&(s=p6e(i).call(i,function(h,c){var m=n[c];return m&&m.level!==h.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var i=this.body.nodes,n=0;n<e.length;n++){var a=e[n];delete i[a]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ei;return new i(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ht(this.body.nodes,function(n,a){var s=e.body.data.nodes.get(a);s!==void 0&&(i===!0&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(s))})}},{key:"getPositions",value:function(e){var i={};if(e!==void 0){if(Ct(e)===!0){for(var n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){var a=this.body.nodes[e[n]];i[e[n]]={x:Math.round(a.x),y:Math.round(a.y)}}}else if(this.body.nodes[e]!==void 0){var s=this.body.nodes[e];i[e]={x:Math.round(s.x),y:Math.round(s.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var l=this.body.nodes[this.body.nodeIndices[o]];i[this.body.nodeIndices[o]]={x:Math.round(l.x),y:Math.round(l.y)}}return i}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e=[],i=this.body.data.nodes.getDataSet(),n=wSe(i.get()),a;try{for(n.s();!(a=n.n()).done;){var s=a.value,o=s.id,l=this.body.nodes[o],u=Math.round(l.x),f=Math.round(l.y);(s.x!==u||s.y!==f)&&e.push({id:o,x:u,y:f})}}catch(h){n.e(h)}finally{n.f()}i.update(e)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,i){var n=[];if(this.body.nodes[e]!==void 0)for(var a=this.body.nodes[e],s={},o=0;o<a.edges.length;o++){var l=a.edges[o];i!=="to"&&l.toId==a.id?s[l.fromId]===void 0&&(n.push(l.fromId),s[l.fromId]=!0):i!=="from"&&l.fromId==a.id&&s[l.toId]===void 0&&(n.push(l.toId),s[l.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(e){var i=[];if(this.body.nodes[e]!==void 0)for(var n=this.body.nodes[e],a=0;a<n.edges.length;a++)i.push(n.edges[a].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return i}},{key:"moveNode",value:function(e,i,n){var a=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(i),this.body.nodes[e].y=Number(n),Bn(function(){a.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),r}(),Ix=Cr,ESe=function(r){return r!==void 0&&(Ix(r,"value")||Ix(r,"writable"))},kSe=at,TSe=Pi,OSe=Ir,ASe=Ni,ISe=ESe,CSe=ku,PSe=Vp;function uI(r,t){var e=arguments.length<3?r:arguments[2],i,n;if(ASe(r)===e)return r[t];if(i=CSe.f(r,t),i)return ISe(i)?i.value:i.get===void 0?void 0:TSe(i.get,e);if(OSe(n=PSe(r)))return uI(n,t,e)}kSe({target:"Reflect",stat:!0},{get:uI});var DSe=wt,NSe=DSe.Reflect.get,RSe=NSe,MSe=RSe,BSe=MSe,FSe=BSe,zSe=FSe,LSe=zSe,jSe=LSe,Cx=Qe(jSe),USe=QA,qSe=USe,HSe=qSe,WSe=HSe,GSe=WSe,VSe=Qe(GSe);function XSe(r,t){for(;!Object.prototype.hasOwnProperty.call(r,t)&&(r=Ke(r),r!==null););return r}function sm(){if(typeof Reflect<"u"&&Cx){var r;sm=A$(r=Cx).call(r)}else sm=function(e,i,n){var a=XSe(e,i);if(a){var s=VSe(a,i);return s.get?s.get.call(arguments.length<3?e:n):s.value}};return sm.apply(this,arguments)}var KSe=at,Px=Math.hypot,YSe=Math.abs,JSe=Math.sqrt,QSe=!!Px&&Px(1/0,NaN)!==1/0;KSe({target:"Math",stat:!0,arity:2,forced:QSe},{hypot:function(t,e){for(var i=0,n=0,a=arguments.length,s=0,o,l;n<a;)o=YSe(arguments[n++]),s<o?(l=s/o,i=i*l*l+1,s=o):o>0?(l=o/s,i+=l*l):i+=o;return s===1/0?1/0:s*JSe(i)}});var ZSe=wt,e8e=ZSe.Math.hypot,t8e=e8e,r8e=t8e,i8e=r8e,n8e=Qe(i8e);function fI(r){var t=a8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function a8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var sr=function(){function r(){je(this,r)}return Ue(r,null,[{key:"transform",value:function(e,i){Ct(e)||(e=[e]);for(var n=i.point.x,a=i.point.y,s=i.angle,o=i.length,l=0;l<e.length;++l){var u=e[l],f=u.x*Math.cos(s)-u.y*Math.sin(s),h=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=n+o*f,u.y=a+o*h}}},{key:"drawPath",value:function(e,i){e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var n=1;n<i.length;++n)e.lineTo(i[n].x,i[n].y);e.closePath()}}]),r}(),s8e=function(r){kt(e,r);var t=fI(e);function e(){return je(this,e),t.apply(this,arguments)}return Ue(e,null,[{key:"draw",value:function(n,a){if(a.image){n.save(),n.translate(a.point.x,a.point.y),n.rotate(Math.PI/2+a.angle);var s=a.imageWidth!=null?a.imageWidth:a.image.width,o=a.imageHeight!=null?a.imageHeight:a.image.height;a.image.drawImageAtPosition(n,1,-s/2,0,s,o),n.restore()}return!1}}]),e}(sr),o8e=function(r){kt(e,r);var t=fI(e);function e(){return je(this,e),t.apply(this,arguments)}return Ue(e,null,[{key:"draw",value:function(n,a){var s=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return sr.transform(s,a),sr.drawPath(n,s),!0}}]),e}(sr),l8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return sr.transform(n,i),sr.drawPath(e,n),!0}}]),r}(),u8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n={x:-.4,y:0};sr.transform(n,i),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,s=i.angle-a/2,o=i.angle+a/2;return e.beginPath(),e.arc(n.x,n.y,i.length*.4,s,o,!1),e.stroke(),!0}}]),r}(),f8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n={x:-.3,y:0};sr.transform(n,i),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,s=i.angle+a/2,o=i.angle+3*a/2;return e.beginPath(),e.arc(n.x,n.y,i.length*.4,s,o,!1),e.stroke(),!0}}]),r}(),c8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return sr.transform(n,i),sr.drawPath(e,n),!0}}]),r}(),h8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return sr.transform(n,i),sr.drawPath(e,n),!0}}]),r}(),m8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n={x:-.4,y:0};return sr.transform(n,i),Vy(e,n.x,n.y,i.length*.4),!0}}]),r}(),p8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return sr.transform(n,i),sr.drawPath(e,n),!0}}]),r}(),d8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return sr.transform(n,i),sr.drawPath(e,n),!0}}]),r}(),v8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return sr.transform(n,i),sr.drawPath(e,n),!0}}]),r}(),g8e=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return sr.transform(n,i),sr.drawPath(e,n),!0}}]),r}(),cI=function(){function r(){je(this,r)}return Ue(r,null,[{key:"draw",value:function(e,i){var n;switch(i.type&&(n=i.type.toLowerCase()),n){case"image":return s8e.draw(e,i);case"circle":return m8e.draw(e,i);case"box":return d8e.draw(e,i);case"crow":return l8e.draw(e,i);case"curve":return u8e.draw(e,i);case"diamond":return v8e.draw(e,i);case"inv_curve":return f8e.draw(e,i);case"triangle":return c8e.draw(e,i);case"inv_triangle":return h8e.draw(e,i);case"bar":return p8e.draw(e,i);case"vee":return g8e.draw(e,i);case"arrow":default:return o8e.draw(e,i)}}}]),r}();function Dx(r,t){var e=Jt(r);if(Bs){var i=Bs(r);t&&(i=pi(i).call(i,function(n){return Ks(r,n).enumerable})),e.push.apply(e,i)}return e}function Nx(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Mt(e=Dx(Object(n),!0)).call(e,function(a){fd(r,a,n[a])}):Fs?ld(r,Fs(n)):Mt(i=Dx(Object(n))).call(i,function(a){ud(r,a,Ks(n,a))})}return r}var hI=function(){function r(t,e,i){je(this,r),this._body=e,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return Ue(r,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,i,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,i),e.lineWidth=i.width,i.dashes!==!1?this._drawDashedLine(e,i,s):this._drawLine(e,i,s)}},{key:"_drawLine",value:function(e,i,n,a,s){if(this.from!=this.to)this._line(e,i,n,a,s);else{var o=this._getCircleData(e),l=Qt(o,3),u=l[0],f=l[1],h=l[2];this._circle(e,i,u,f,h)}}},{key:"_drawDashedLine",value:function(e,i,n,a,s){e.lineCap="round";var o=Ct(i.dashes)?i.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,i,n);else{var l=this._getCircleData(e),u=Qt(l,3),f=u[0],h=u[1],c=u[2];this._circle(e,i,f,h,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)O9(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var m=this._getCircleData(e),d=Qt(m,3),v=d[0],b=d[1],g=d[2];this._circle(e,i,v,b,g)}this.enableShadow(e,i),e.stroke(),this.disableShadow(e,i)}}},{key:"findBorderPosition",value:function(e,i,n){return this.from!=this.to?this._findBorderPosition(e,i,n):this._findBorderPositionCircle(e,i,n)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var i,n=jr(i=this._getCircleData(e)).call(i,0,2),a=Qt(n,2),s=a[0],o=a[1];return{from:this._findBorderPositionCircle(this.from,e,{x:s,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:s,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var i=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var n=iI(e,this.options.selfReference.angle,i,this.from);return[n.x,n.y,i]}},{key:"_pointOnCircle",value:function(e,i,n,a){var s=a*2*Math.PI;return{x:e+n*Math.cos(s),y:i-n*Math.sin(s)}}},{key:"_findBorderPositionCircle",value:function(e,i,n){var a=n.x,s=n.y,o=n.low,l=n.high,u=n.direction,f=10,h=this.options.selfReference.size,c=.05,m,d=(o+l)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));var b=0;do{d=(o+l)*.5,m=this._pointOnCircle(a,s,h,d);var g=Math.atan2(e.y-m.y,e.x-m.x),_=e.distanceToBorder(i,g)+v,y=Math.sqrt(Math.pow(m.x-e.x,2)+Math.pow(m.y-e.y,2)),$=_-y;if(Math.abs($)<c)break;$>0?u>0?o=d:l=d:u>0?l=d:o=d,++b}while(o<=l&&b<f);return Nx(Nx({},m),{},{t:d})}},{key:"getLineWidth",value:function(e,i){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):i===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,i){if(i.inheritsColor!==!1){if(i.inheritsColor==="both"&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),a=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(a=Hi(this.from.options.color.border,i.opacity),s=Hi(this.to.options.color.border,i.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(a=this.from.options.color.border),n.addColorStop(0,a),n.addColorStop(1,s),n}return i.inheritsColor==="to"?Hi(this.to.options.color.border,i.opacity):Hi(this.from.options.color.border,i.opacity)}else return Hi(i.color,i.opacity)}},{key:"_circle",value:function(e,i,n,a,s){this.enableShadow(e,i);var o=0,l=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var u=this.options.selfReference.angle,f=this.options.selfReference.angle+Math.PI,h=this._findBorderPositionCircle(this.from,e,{x:n,y:a,low:u,high:f,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:n,y:a,low:u,high:f,direction:1});o=Math.atan2(h.y-a,h.x-n),l=Math.atan2(c.y-a,c.x-n)}e.beginPath(),e.arc(n,a,s,o,l,!1),e.stroke(),this.disableShadow(e,i)}},{key:"getDistanceToEdge",value:function(e,i,n,a,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,i,n,a,s,o);var l=this._getCircleData(void 0),u=Qt(l,3),f=u[0],h=u[1],c=u[2],m=f-s,d=h-o;return Math.abs(Math.sqrt(m*m+d*d)-c)}},{key:"_getDistanceToLine",value:function(e,i,n,a,s,o){var l=n-e,u=a-i,f=l*l+u*u,h=((s-e)*l+(o-i)*u)/f;h>1?h=1:h<0&&(h=0);var c=e+h*l,m=i+h*u,d=c-s,v=m-o;return Math.sqrt(d*d+v*v)}},{key:"getArrowData",value:function(e,i,n,a,s,o){var l,u,f,h,c,m,d,v=o.width;i==="from"?(f=this.from,h=this.to,c=o.fromArrowScale<0,m=Math.abs(o.fromArrowScale),d=o.fromArrowType):i==="to"?(f=this.to,h=this.from,c=o.toArrowScale<0,m=Math.abs(o.toArrowScale),d=o.toArrowType):(f=this.to,h=this.from,c=o.middleArrowScale<0,m=Math.abs(o.middleArrowScale),d=o.middleArrowType);var b=15*m+3*v;if(f!=h){var g=n8e(f.x-h.x,f.y-h.y),_=b/g;if(i!=="middle")if(this.options.smooth.enabled===!0){var y=this._findBorderPosition(f,e,{via:n}),$=this.getPoint(y.t+_*(i==="from"?1:-1),n);l=Math.atan2(y.y-$.y,y.x-$.x),u=y}else l=Math.atan2(f.y-h.y,f.x-h.x),u=this._findBorderPosition(f,e);else{var I=(c?-_:_)/2,A=this.getPoint(.5+I,n),B=this.getPoint(.5-I,n);l=Math.atan2(A.y-B.y,A.x-B.x),u=this.getPoint(.5,n)}}else{var T=this._getCircleData(e),x=Qt(T,3),U=x[0],O=x[1],F=x[2];if(i==="from"){var D=this.options.selfReference.angle,L=this.options.selfReference.angle+Math.PI,H=this._findBorderPositionCircle(this.from,e,{x:U,y:O,low:D,high:L,direction:-1});l=H.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=H}else if(i==="to"){var Y=this.options.selfReference.angle,W=this.options.selfReference.angle+Math.PI,z=this._findBorderPositionCircle(this.from,e,{x:U,y:O,low:Y,high:W,direction:1});l=z.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=z}else{var ne=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(U,O,F,ne),l=ne*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var ue=u.x-b*.9*Math.cos(l),K=u.y-b*.9*Math.sin(l),Q={x:ue,y:K};return{point:u,core:Q,angle:l,length:b,type:d}}},{key:"drawArrowHead",value:function(e,i,n,a,s){e.strokeStyle=this.getColor(e,i),e.fillStyle=e.strokeStyle,e.lineWidth=i.width;var o=cI.draw(e,s);o&&(this.enableShadow(e,i),Nc(e).call(e),this.disableShadow(e,i))}},{key:"enableShadow",value:function(e,i){i.shadow===!0&&(e.shadowColor=i.shadowColor,e.shadowBlur=i.shadowSize,e.shadowOffsetX=i.shadowX,e.shadowOffsetY=i.shadowY)}},{key:"disableShadow",value:function(e,i){i.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,i){if(i.background!==!1){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=i.backgroundColor,e.lineWidth=i.backgroundSize,this.setStrokeDashed(e,i.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,i.dashes)}}},{key:"setStrokeDashed",value:function(e,i){if(i!==!1)if(e.setLineDash!==void 0){var n=Ct(i)?i:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),r}();function Rx(r,t){var e=Jt(r);if(Bs){var i=Bs(r);t&&(i=pi(i).call(i,function(n){return Ks(r,n).enumerable})),e.push.apply(e,i)}return e}function Mx(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Mt(e=Rx(Object(n),!0)).call(e,function(a){fd(r,a,n[a])}):Fs?ld(r,Fs(n)):Mt(i=Rx(Object(n))).call(i,function(a){ud(r,a,Ks(n,a))})}return r}function b8e(r){var t=y8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function y8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var C$=function(r){kt(e,r);var t=b8e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"_findBorderPositionBezier",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),o=10,l=.2,u=!1,f=1,h=0,c=this.to,m,d,v=this.options.endPointOffset?this.options.endPointOffset.to:0;n.id===this.from.id&&(c=this.from,u=!0,v=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(v=0);var b=0;do{d=(h+f)*.5,m=this.getPoint(d,s);var g=Math.atan2(c.y-m.y,c.x-m.x),_=c.distanceToBorder(a,g)+v,y=Math.sqrt(Math.pow(m.x-c.x,2)+Math.pow(m.y-c.y,2)),$=_-y;if(Math.abs($)<l)break;$<0?u===!1?h=d:f=d:u===!1?f=d:h=d,++b}while(h<=f&&b<o);return Mx(Mx({},m),{},{t:d})}},{key:"_getDistanceToBezierEdge",value:function(n,a,s,o,l,u,f){var h=1e9,c,m,d,v,b,g=n,_=a;for(m=1;m<10;m++)d=.1*m,v=Math.pow(1-d,2)*n+2*d*(1-d)*f.x+Math.pow(d,2)*s,b=Math.pow(1-d,2)*a+2*d*(1-d)*f.y+Math.pow(d,2)*o,m>0&&(c=this._getDistanceToLine(g,_,v,b,l,u),h=c<h?c:h),g=v,_=b;return h}},{key:"_bezierCurve",value:function(n,a,s,o){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),s!=null&&s.x!=null?o!=null&&o.x!=null?n.bezierCurveTo(s.x,s.y,o.x,o.y,this.toPoint.x,this.toPoint.y):n.quadraticCurveTo(s.x,s.y,this.toPoint.x,this.toPoint.y):n.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(n,a),this.enableShadow(n,a),n.stroke(),this.disableShadow(n,a)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(hI);function $8e(r){var t=_8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function _8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var Bx=function(r){kt(e,r);var t=$8e(e);function e(i,n,a){var s;return je(this,e),s=t.call(this,i,n,a),s.via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return Ue(e,[{key:"setOptions",value:function(n){sm(Ke(e.prototype),"setOptions",this).call(this,n);var a=!1;this.options.physics!==n.physics&&(a=!0),this.options=n,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),a===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var n="edgeId:"+this.id,a=this._body.functions.createNode({id:n,shape:"circle",physics:!0,hidden:!0});this._body.nodes[n]=a,this.via=a,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(n,a,s){this._bezierCurve(n,a,s)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var s=this._getCircleData(),o=Qt(s,3),l=o[0],u=o[1],f=o[2],h=2*Math.PI*(1-n);return{x:l+f*Math.sin(h),y:u+f-f*(1-Math.cos(h))}}else return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*a.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*a.y+Math.pow(n,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,a){return this._findBorderPositionBezier(n,a,this.via)}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){return this._getDistanceToBezierEdge(n,a,s,o,l,u,this.via)}}]),e}(C$);function w8e(r){var t=x8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function x8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var Fx=function(r){kt(e,r);var t=w8e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"_line",value:function(n,a,s){this._bezierCurve(n,a,s)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var n=this.options.smooth.roundness,a=this.options.smooth.type,s=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if(a==="discrete"||a==="diagonalCross"){var l,u;s<=o?l=u=n*o:l=u=n*s,this.from.x>this.to.x&&(l=-l),this.from.y>=this.to.y&&(u=-u);var f=this.from.x+l,h=this.from.y+u;return a==="discrete"&&(s<=o?f=s<n*o?this.from.x:f:h=o<n*s?this.from.y:h),{x:f,y:h}}else if(a==="straightCross"){var c=(1-n)*s,m=(1-n)*o;return s<=o?(c=0,this.from.y<this.to.y&&(m=-m)):(this.from.x<this.to.x&&(c=-c),m=0),{x:this.to.x+c,y:this.to.y+m}}else if(a==="horizontal"){var d=(1-n)*s;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}else if(a==="vertical"){var v=(1-n)*o;return this.from.y<this.to.y&&(v=-v),{x:this.from.x,y:this.to.y+v}}else if(a==="curvedCW"){s=this.to.x-this.from.x,o=this.from.y-this.to.y;var b=Math.sqrt(s*s+o*o),g=Math.PI,_=Math.atan2(o,s),y=(_+(n*.5+.5)*g)%(2*g);return{x:this.from.x+(n*.5+.5)*b*Math.sin(y),y:this.from.y+(n*.5+.5)*b*Math.cos(y)}}else if(a==="curvedCCW"){s=this.to.x-this.from.x,o=this.from.y-this.to.y;var $=Math.sqrt(s*s+o*o),I=Math.PI,A=Math.atan2(o,s),B=(A+(-n*.5+.5)*I)%(2*I);return{x:this.from.x+(n*.5+.5)*$*Math.sin(B),y:this.from.y+(n*.5+.5)*$*Math.cos(B)}}else{var T,x;s<=o?T=x=n*o:T=x=n*s,this.from.x>this.to.x&&(T=-T),this.from.y>=this.to.y&&(x=-x);var U=this.from.x+T,O=this.from.y+x;return s<=o?this.from.x<=this.to.x?U=this.to.x<U?this.to.x:U:U=this.to.x>U?this.to.x:U:this.from.y>=this.to.y?O=this.to.y>O?this.to.y:O:O=this.to.y<O?this.to.y:O,{x:U,y:O}}}},{key:"_findBorderPosition",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(n,a,s.via)}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){var f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(n,a,s,o,l,u,f)}},{key:"getPoint",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=n,o=Math.pow(1-s,2)*this.fromPoint.x+2*s*(1-s)*a.x+Math.pow(s,2)*this.toPoint.x,l=Math.pow(1-s,2)*this.fromPoint.y+2*s*(1-s)*a.y+Math.pow(s,2)*this.toPoint.y;return{x:o,y:l}}}]),e}(C$);function S8e(r){var t=E8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function E8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var k8e=function(r){kt(e,r);var t=S8e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"_getDistanceToBezierEdge2",value:function(n,a,s,o,l,u,f,h){for(var c=1e9,m=n,d=a,v=[0,0,0,0],b=1;b<10;b++){var g=.1*b;v[0]=Math.pow(1-g,3),v[1]=3*g*Math.pow(1-g,2),v[2]=3*Math.pow(g,2)*(1-g),v[3]=Math.pow(g,3);var _=v[0]*n+v[1]*f.x+v[2]*h.x+v[3]*s,y=v[0]*a+v[1]*f.y+v[2]*h.y+v[3]*o;if(b>0){var $=this._getDistanceToLine(m,d,_,y,l,u);c=$<c?$:c}m=_,d=y}return c}}]),e}(C$);function T8e(r){var t=O8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function O8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var zx=function(r){kt(e,r);var t=T8e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"_line",value:function(n,a,s){var o=s[0],l=s[1];this._bezierCurve(n,a,o,l)}},{key:"_getViaCoordinates",value:function(){var n=this.from.x-this.to.x,a=this.from.y-this.to.y,s,o,l,u,f=this.options.smooth.roundness;return(Math.abs(n)>Math.abs(a)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(o=this.from.y,u=this.to.y,s=this.from.x-f*n,l=this.to.x+f*n):(o=this.from.y-f*a,u=this.to.y+f*a,s=this.from.x,l=this.to.x),[{x:s,y:o},{x:l,y:u}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(n,a){return this._findBorderPositionBezier(n,a)}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){var f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),h=Qt(f,2),c=h[0],m=h[1];return this._getDistanceToBezierEdge2(n,a,s,o,l,u,c,m)}},{key:"getPoint",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=Qt(a,2),o=s[0],l=s[1],u=n,f=[Math.pow(1-u,3),3*u*Math.pow(1-u,2),3*Math.pow(u,2)*(1-u),Math.pow(u,3)],h=f[0]*this.fromPoint.x+f[1]*o.x+f[2]*l.x+f[3]*this.toPoint.x,c=f[0]*this.fromPoint.y+f[1]*o.y+f[2]*l.y+f[3]*this.toPoint.y;return{x:h,y:c}}}]),e}(k8e);function A8e(r){var t=I8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function I8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var Lx=function(r){kt(e,r);var t=A8e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"_line",value:function(n,a){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),n.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(n,a),n.stroke(),this.disableShadow(n,a)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(n){return{x:(1-n)*this.fromPoint.x+n*this.toPoint.x,y:(1-n)*this.fromPoint.y+n*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,a){var s=this.to,o=this.from;n.id===this.from.id&&(s=this.from,o=this.to);var l=Math.atan2(s.y-o.y,s.x-o.x),u=s.x-o.x,f=s.y-o.y,h=Math.sqrt(u*u+f*f),c=n.distanceToBorder(a,l),m=(h-c)/h;return{x:(1-m)*o.x+m*s.x,y:(1-m)*o.y+m*s.y,t:0}}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){return this._getDistanceToLine(n,a,s,o,l,u)}}]),e}(hI),ql=function(){function r(t,e,i,n,a){if(je(this,r),e===void 0)throw new Error("No body provided");this.options=Os(n),this.globalOptions=n,this.defaultOptions=a,this.body=e,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new aI(this.body,this.options,!0),this.setOptions(t)}return Ue(r,[{key:"setOptions",value:function(e){if(e){var i=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;r.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=rI(e.value));var n=[e,this.options,this.defaultOptions];return this.chooser=T$("edge",n),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,i=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,a=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:i,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:a?void 0:this.options.color.color,inheritsColor:a,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){var l=this.options.hoverWidth;typeof l=="function"?s.width=l(s.width):typeof l=="number"&&(s.width+=l),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}},{key:"updateLabelModule",value:function(e){var i=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,i=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof Bx&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof zx&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof Fx&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof Lx&&e.type.enabled===!1)&&(n=!1),n===!0&&(i=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(i=!0,this.edgeType=new Bx(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new zx(this.options,this.body,this.labelModule):this.edgeType=new Fx(this.options,this.body,this.labelModule):this.edgeType=new Lx(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),i}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,i,n){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,i,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*o}this.options.width=this.options.scaling.min+a*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var i=this.getFormattingValues();if(!i.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(e,i,this.selected,this.hover,n),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e){var i=this.getFormattingValues();if(!i.hidden){var n=this.edgeType.getViaNode(),a={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,i.fromArrow&&(a.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,i),i.arrowStrikethrough===!1&&(this.edgeType.fromPoint=a.from.core),i.fromArrowSrc&&(a.from.image=this.imagelist.load(i.fromArrowSrc)),i.fromArrowImageWidth&&(a.from.imageWidth=i.fromArrowImageWidth),i.fromArrowImageHeight&&(a.from.imageHeight=i.fromArrowImageHeight)),i.toArrow&&(a.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,i),i.arrowStrikethrough===!1&&(this.edgeType.toPoint=a.to.core),i.toArrowSrc&&(a.to.image=this.imagelist.load(i.toArrowSrc)),i.toArrowImageWidth&&(a.to.imageWidth=i.toArrowImageWidth),i.toArrowImageHeight&&(a.to.imageHeight=i.toArrowImageHeight)),i.middleArrow&&(a.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,i),i.middleArrowSrc&&(a.middle.image=this.imagelist.load(i.middleArrowSrc)),i.middleArrowImageWidth&&(a.middle.imageWidth=i.middleArrowImageWidth),i.middleArrowImageHeight&&(a.middle.imageHeight=i.middleArrowImageHeight)),i.fromArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,a.from),i.middleArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,a.middle),i.toArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,a.to)}}},{key:"drawLabel",value:function(e,i){if(this.options.label!==void 0){var n=this.from,a=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);var s;if(n.id!=a.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,i),e.save();var o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var l=iI(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(l.x,l.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var i=[];if(this.labelModule.visible()){var n=this._getRotation();fb(this.labelModule.getSize(),e,n)&&i.push({edgeId:this.id,labelId:0})}var a={left:e.x,top:e.y};return this.isOverlappingWith(a)&&i.push({edgeId:this.id}),i}},{key:"isOverlappingWith",value:function(e){if(this.connected){var i=10,n=this.from.x,a=this.from.y,s=this.to.x,o=this.to.y,l=e.left,u=e.top,f=this.edgeType.getDistanceToEdge(n,a,s,o,l,u);return f<i}else return!1}},{key:"_getRotation",value:function(e){var i=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,i);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);var a={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return a;var s=this.from.y-this.to.y,o=this.from.x-this.to.x,l=Math.atan2(s,o);return(l<-1&&o<0||l>0&&o<0)&&(l+=Math.PI),a.angle=l,a}},{key:"_pointOnCircle",value:function(e,i,n,a){return{x:e+n*Math.cos(a),y:i-n*Math.sin(a)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(Fu(o,e,i,n),i.endPointOffset!==void 0&&i.endPointOffset.from!==void 0&&(co(i.endPointOffset.from)?e.endPointOffset.from=i.endPointOffset.from:(e.endPointOffset.from=a.endPointOffset.from!==void 0?a.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),i.endPointOffset!==void 0&&i.endPointOffset.to!==void 0&&(co(i.endPointOffset.to)?e.endPointOffset.to=i.endPointOffset.to:(e.endPointOffset.to=a.endPointOffset.to!==void 0?a.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),qm(i.label)?e.label=i.label:qm(e.label)||(e.label=void 0),Ui(e,i,"smooth",a),Ui(e,i,"shadow",a),Ui(e,i,"background",a),i.dashes!==void 0&&i.dashes!==null?e.dashes=i.dashes:n===!0&&i.dashes===null&&(e.dashes=_o(a.dashes)),i.scaling!==void 0&&i.scaling!==null?(i.scaling.min!==void 0&&(e.scaling.min=i.scaling.min),i.scaling.max!==void 0&&(e.scaling.max=i.scaling.max),Ui(e.scaling,i.scaling,"label",a.scaling)):n===!0&&i.scaling===null&&(e.scaling=_o(a.scaling)),i.arrows!==void 0&&i.arrows!==null)if(typeof i.arrows=="string"){var l=i.arrows.toLowerCase();e.arrows.to.enabled=$t(l).call(l,"to")!=-1,e.arrows.middle.enabled=$t(l).call(l,"middle")!=-1,e.arrows.from.enabled=$t(l).call(l,"from")!=-1}else if(Dt(i.arrows)==="object")Ui(e.arrows,i.arrows,"to",a.arrows),Ui(e.arrows,i.arrows,"middle",a.arrows),Ui(e.arrows,i.arrows,"from",a.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Dc(i.arrows));else n===!0&&i.arrows===null&&(e.arrows=_o(a.arrows));if(i.color!==void 0&&i.color!==null){var u=ds(i.color)?{color:i.color,highlight:i.color,hover:i.color,inherit:!1,opacity:1}:i.color,f=e.color;if(s)zt(f,a.color,!1,n);else for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&delete f[h];if(ds(f))f.color=f,f.highlight=f,f.hover=f,f.inherit=!1,u.opacity===void 0&&(f.opacity=1);else{var c=!1;u.color!==void 0&&(f.color=u.color,c=!0),u.highlight!==void 0&&(f.highlight=u.highlight,c=!0),u.hover!==void 0&&(f.hover=u.hover,c=!0),u.inherit!==void 0&&(f.inherit=u.inherit),u.opacity!==void 0&&(f.opacity=Math.min(1,Math.max(0,u.opacity))),c===!0?f.inherit=!1:f.inherit===void 0&&(f.inherit="from")}}else n===!0&&i.color===null&&(e.color=Os(a.color));n===!0&&i.font===null&&(e.font=Os(a.font)),Object.prototype.hasOwnProperty.call(i,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=i.selfReferenceSize)}}]),r}(),C8e=function(){function r(t,e,i){var n,a=this;je(this,r),this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=Me(n=this.create).call(n,this),this.edgesListeners={add:function(o,l){a.add(l.items)},update:function(o,l){a.update(l.items)},remove:function(o,l){a.remove(l.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,l,u,f){if(l===o)return .5;var h=1/(l-o);return Math.max(0,(f-o)*h)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},zt(this.options,this.defaultOptions),this.bindEventListeners()}return Ue(r,[{key:"bindEventListeners",value:function(){var e=this,i,n;this.body.emitter.on("_forceDisableDynamicCurves",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a==="dynamic"&&(a="continuous");var o=!1;for(var l in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,l)){var u=e.body.edges[l],f=e.body.data.edges.get(l);if(f!=null){var h=f.smooth;h!==void 0&&h.enabled===!0&&h.type==="dynamic"&&(a===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:a}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges()}),this.body.emitter.on("refreshEdges",Me(i=this.refresh).call(i,this)),this.body.emitter.on("refresh",Me(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",function(){ht(e.edgesListeners,function(a,s){e.body.data.edges&&e.body.data.edges.off(s,a)}),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){ql.parseOptions(this.options,e,!0,this.defaultOptions,!0);var i=!1;if(e.smooth!==void 0)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(i=this.body.edges[n].updateEdgeType()||i);if(e.font!==void 0)for(var a in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,a)&&this.body.edges[a].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||i===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.body.data.edges;if(a9("id",e))this.body.data.edges=e;else if(Ct(e))this.body.data.edges=new Cm,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Cm;else throw new TypeError("Array or DataSet expected");if(a&&ht(this.edgesListeners,function(o,l){a.off(l,o)}),this.body.edges={},this.body.data.edges){ht(this.edgesListeners,function(o,l){i.body.data.edges.on(l,o)});var s=this.body.data.edges.getIds();this.add(s,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.edges,a=this.body.data.edges,s=0;s<e.length;s++){var o=e[s],l=n[o];l&&l.disconnect();var u=a.get(o,{showInternalIds:!0});n[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var i=this.body.edges,n=this.body.data.edges,a=!1,s=0;s<e.length;s++){var o=e[s],l=n.get(o),u=i[o];u!==void 0?(u.disconnect(),a=u.setOptions(l)||a,u.connect()):(this.body.edges[o]=this.create(l),a=!0)}a===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length!==0){var n=this.body.edges;ht(e,function(a){var s=n[a];s!==void 0&&s.remove()}),i&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;ht(this.body.edges,function(i,n){var a=e.body.data.edges.get(n);a!==void 0&&i.setOptions(a)})}},{key:"create",value:function(e){return new ql(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,i=this.body.nodes,n=this.body.edges;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var a=n[e];a.from=null,a.to=null,a.connect()}}},{key:"getConnectedNodes",value:function(e){var i=[];if(this.body.edges[e]!==void 0){var n=this.body.edges[e];n.fromId!==void 0&&i.push(n.fromId),n.toId!==void 0&&i.push(n.toId)}return i}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,i=[];ht(this.body.edges,function(n,a){var s=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];s!==void 0&&s.isCluster===!0||o!==void 0&&o.isCluster===!0||(s===void 0||o===void 0)&&i.push(a)}),this.remove(i,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var i=this.body.edges,n=[];Mt(e).call(e,function(a,s){var o=i[s];o===void 0&&n.push(s)}),this.add(n,!0)}}}]),r}(),mI=function(){function r(t,e,i){je(this,r),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this._rng=sd("BARNES HUT SOLVER")}return Ue(r,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,i=this.body.nodes,n=this.physicsBody.physicsNodeIndices,a=n.length,s=this._formBarnesHutTree(i,n);this.barnesHutTree=s;for(var o=0;o<a;o++)e=i[n[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}},{key:"_getForceContributions",value:function(e,i){this._getForceContribution(e.children.NW,i),this._getForceContribution(e.children.NE,i),this._getForceContribution(e.children.SW,i),this._getForceContribution(e.children.SE,i)}},{key:"_getForceContribution",value:function(e,i){if(e.childrenCount>0){var n=e.centerOfMass.x-i.x,a=e.centerOfMass.y-i.y,s=Math.sqrt(n*n+a*a);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,a,i,e):e.childrenCount===4?this._getForceContributions(e,i):e.children.data.id!=i.id&&this._calculateForces(s,n,a,i,e)}}},{key:"_calculateForces",value:function(e,i,n,a,s){e===0&&(e=.1,i=e),this.overlapAvoidanceFactor<1&&a.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*a.shape.radius,e-a.shape.radius));var o=this.options.gravitationalConstant*s.mass*a.options.mass/Math.pow(e,3),l=i*o,u=n*o;this.physicsBody.forces[a.id].x+=l,this.physicsBody.forces[a.id].y+=u}},{key:"_formBarnesHutTree",value:function(e,i){for(var n,a=i.length,s=e[i[0]].x,o=e[i[0]].y,l=e[i[0]].x,u=e[i[0]].y,f=1;f<a;f++){var h=e[i[f]],c=h.x,m=h.y;h.options.mass>0&&(c<s&&(s=c),c>l&&(l=c),m<o&&(o=m),m>u&&(u=m))}var d=Math.abs(l-s)-Math.abs(u-o);d>0?(o-=.5*d,u+=.5*d):(s+=.5*d,l-=.5*d);var v=1e-5,b=Math.max(v,Math.abs(l-s)),g=.5*b,_=.5*(s+l),y=.5*(o+u),$={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:_-g,maxX:_+g,minY:y-g,maxY:y+g},size:b,calcSize:1/b,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch($.root);for(var I=0;I<a;I++)n=e[i[I]],n.options.mass>0&&this._placeInTree($.root,n);return $}},{key:"_updateBranchMass",value:function(e,i){var n=e.centerOfMass,a=e.mass+i.options.mass,s=1/a;n.x=n.x*e.mass+i.x*i.options.mass,n.x*=s,n.y=n.y*e.mass+i.y*i.options.mass,n.y*=s,e.mass=a;var o=Math.max(Math.max(i.height,i.radius),i.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}},{key:"_placeInTree",value:function(e,i,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,i);var a=e.children.NW.range,s;a.maxX>i.x?a.maxY>i.y?s="NW":s="SW":a.maxY>i.y?s="NE":s="SE",this._placeInRegion(e,i,s)}},{key:"_placeInRegion",value:function(e,i,n){var a=e.children[n];switch(a.childrenCount){case 0:a.children.data=i,a.childrenCount=1,this._updateBranchMass(a,i);break;case 1:a.children.data.x===i.x&&a.children.data.y===i.y?(i.x+=this._rng(),i.y+=this._rng()):(this._splitBranch(a),this._placeInTree(a,i));break;case 4:this._placeInTree(a,i);break}}},{key:"_splitBranch",value:function(e){var i=null;e.childrenCount===1&&(i=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),i!=null&&this._placeInTree(e,i)}},{key:"_insertRegion",value:function(e,i){var n,a,s,o,l=.5*e.size;switch(i){case"NW":n=e.range.minX,a=e.range.minX+l,s=e.range.minY,o=e.range.minY+l;break;case"NE":n=e.range.minX+l,a=e.range.maxX,s=e.range.minY,o=e.range.minY+l;break;case"SW":n=e.range.minX,a=e.range.minX+l,s=e.range.minY+l,o=e.range.maxY;break;case"SE":n=e.range.minX+l,a=e.range.maxX,s=e.range.minY+l,o=e.range.maxY;break}e.children[i]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:a,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,i){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,i))}},{key:"_drawBranch",value:function(e,i,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,i),this._drawBranch(e.children.NE,i),this._drawBranch(e.children.SE,i),this._drawBranch(e.children.SW,i)),i.strokeStyle=n,i.beginPath(),i.moveTo(e.range.minX,e.range.minY),i.lineTo(e.range.maxX,e.range.minY),i.stroke(),i.beginPath(),i.moveTo(e.range.maxX,e.range.minY),i.lineTo(e.range.maxX,e.range.maxY),i.stroke(),i.beginPath(),i.moveTo(e.range.maxX,e.range.maxY),i.lineTo(e.range.minX,e.range.maxY),i.stroke(),i.beginPath(),i.moveTo(e.range.minX,e.range.maxY),i.lineTo(e.range.minX,e.range.minY),i.stroke()}}]),r}(),P8e=function(){function r(t,e,i){je(this,r),this._rng=sd("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(i)}return Ue(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n,a,s,o,l,u,f=this.body.nodes,h=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,m=this.options.nodeDistance,d=-2/3/m,v=4/3,b=0;b<h.length-1;b++){l=f[h[b]];for(var g=b+1;g<h.length;g++)u=f[h[g]],e=u.x-l.x,i=u.y-l.y,n=Math.sqrt(e*e+i*i),n===0&&(n=.1*this._rng(),e=n),n<2*m&&(n<.5*m?o=1:o=d*n+v,o=o/n,a=e*o,s=i*o,c[l.id].x-=a,c[l.id].y-=s,c[u.id].x+=a,c[u.id].y+=s)}}}]),r}(),D8e=function(){function r(t,e,i){je(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return Ue(r,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,a=this.options.nodeDistance,s=0;s<i.length-1;s++)for(var o=e[i[s]],l=s+1;l<i.length;l++){var u=e[i[l]];if(o.level===u.level){var f=a+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),h=u.x-o.x,c=u.y-o.y,m=Math.sqrt(h*h+c*c),d=.05,v=void 0;m<f?v=-Math.pow(d*m,2)+Math.pow(d*f,2):v=0,m!==0&&(v=v/m);var b=h*v,g=c*v;n[o.id].x-=b,n[o.id].y-=g,n[u.id].x+=b,n[u.id].y+=g}}}}]),r}(),bg=function(){function r(t,e,i){je(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return Ue(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n=this.physicsBody.physicsEdgeIndices,a=this.body.edges,s,o,l,u=0;u<n.length;u++)i=a[n[u]],i.connected===!0&&i.toId!==i.fromId&&this.body.nodes[i.toId]!==void 0&&this.body.nodes[i.fromId]!==void 0&&(i.edgeType.via!==void 0?(e=i.options.length===void 0?this.options.springLength:i.options.length,s=i.to,o=i.edgeType.via,l=i.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,l,.5*e)):(e=i.options.length===void 0?this.options.springLength*1.5:i.options.length,this._calculateSpringForce(i.from,i.to,e)))}},{key:"_calculateSpringForce",value:function(e,i,n){var a=e.x-i.x,s=e.y-i.y,o=Math.max(Math.sqrt(a*a+s*s),.01),l=this.options.springConstant*(n-o)/o,u=a*l,f=s*l;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=f),this.physicsBody.forces[i.id]!==void 0&&(this.physicsBody.forces[i.id].x-=u,this.physicsBody.forces[i.id].y-=f)}}]),r}(),N8e=function(){function r(t,e,i){je(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return Ue(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n,a,s,o,l,u,f=this.body.edges,h=.5,c=this.physicsBody.physicsEdgeIndices,m=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,v=0;v<m.length;v++){var b=m[v];d[b].springFx=0,d[b].springFy=0}for(var g=0;g<c.length;g++)i=f[c[g]],i.connected===!0&&(e=i.options.length===void 0?this.options.springLength:i.options.length,n=i.from.x-i.to.x,a=i.from.y-i.to.y,u=Math.sqrt(n*n+a*a),u=u===0?.01:u,l=this.options.springConstant*(e-u)/u,s=n*l,o=a*l,i.to.level!=i.from.level?(d[i.toId]!==void 0&&(d[i.toId].springFx-=s,d[i.toId].springFy-=o),d[i.fromId]!==void 0&&(d[i.fromId].springFx+=s,d[i.fromId].springFy+=o)):(d[i.toId]!==void 0&&(d[i.toId].x-=h*s,d[i.toId].y-=h*o),d[i.fromId]!==void 0&&(d[i.fromId].x+=h*s,d[i.fromId].y+=h*o)));l=1;for(var _,y,$=0;$<m.length;$++){var I=m[$];_=Math.min(l,Math.max(-l,d[I].springFx)),y=Math.min(l,Math.max(-l,d[I].springFy)),d[I].x+=_,d[I].y+=y}for(var A=0,B=0,T=0;T<m.length;T++){var x=m[T];A+=d[x].x,B+=d[x].y}for(var U=A/m.length,O=B/m.length,F=0;F<m.length;F++){var D=m[F];d[D].x-=U,d[D].y-=O}}}]),r}(),om=function(){function r(t,e,i){je(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return Ue(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n,a,s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,u=0;u<o.length;u++){var f=o[u];a=s[f],e=-a.x,i=-a.y,n=Math.sqrt(e*e+i*i),this._calculateForces(n,e,i,l,a)}}},{key:"_calculateForces",value:function(e,i,n,a,s){var o=e===0?0:this.options.centralGravity/e;a[s.id].x=i*o,a[s.id].y=n*o}}]),r}();function R8e(r){var t=M8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function M8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var B8e=function(r){kt(e,r);var t=R8e(e);function e(i,n,a){var s;return je(this,e),s=t.call(this,i,n,a),s._rng=sd("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return Ue(e,[{key:"_calculateForces",value:function(n,a,s,o,l){n===0&&(n=.1*this._rng(),a=n),this.overlapAvoidanceFactor<1&&o.shape.radius&&(n=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,n-o.shape.radius));var u=o.edges.length+1,f=this.options.gravitationalConstant*l.mass*o.options.mass*u/Math.pow(n,2),h=a*f,c=s*f;this.physicsBody.forces[o.id].x+=h,this.physicsBody.forces[o.id].y+=c}}]),e}(mI);function F8e(r){var t=z8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function z8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var L8e=function(r){kt(e,r);var t=F8e(e);function e(i,n,a){return je(this,e),t.call(this,i,n,a)}return Ue(e,[{key:"_calculateForces",value:function(n,a,s,o,l){if(n>0){var u=l.edges.length+1,f=this.options.centralGravity*u*l.options.mass;o[l.id].x=a*f,o[l.id].y=s*f}}}]),e}(om),j8e=function(){function r(t){je(this,r),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},ur(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return Ue(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Lm(["stabilization"],this.options,e),Ui(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var i=this.options.wind;i&&((typeof i.x!="number"||ub(i.x))&&(i.x=0),(typeof i.y!="number"||ub(i.y))&&(i.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new B8e(this.body,this.physicsBody,e),this.edgesSolver=new bg(this.body,this.physicsBody,e),this.gravitySolver=new L8e(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new P8e(this.body,this.physicsBody,e),this.edgesSolver=new bg(this.body,this.physicsBody,e),this.gravitySolver=new om(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new D8e(this.body,this.physicsBody,e),this.edgesSolver=new N8e(this.body,this.physicsBody,e),this.gravitySolver=new om(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new mI(this.body,this.physicsBody,e),this.edgesSolver=new bg(this.body,this.physicsBody,e),this.gravitySolver=new om(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=Me(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Mm();this.physicsTick();var i=Mm()-e;(i<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Bn(function(){e.body.emitter.emit("stabilized",{iterations:i}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var e=1.2;this._evaluateStepQuality()===!0?this.timestep=e*this.timestep:this.timestep/e<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/e))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var e=this.adaptiveCounter%this.adaptiveInterval===0;e?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,i=this.body.edges;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&i[a].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(i[a].id);for(var s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var o=this.physicsBody.physicsNodeIndices[s];this.physicsBody.forces[o]={x:0,y:0},this.physicsBody.velocities[o]===void 0&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var l in this.physicsBody.velocities)e[l]===void 0&&delete this.physicsBody.velocities[l]}},{key:"revert",value:function(){var e=Jt(this.previousStates),i=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var a=0;a<e.length;a++){var s=e[a];i[s]!==void 0?i[s].options.physics===!0&&(this.referenceState[s]={positions:{x:i[s].x,y:i[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,i[s].x=this.previousStates[s].x,i[s].y=this.previousStates[s].y):delete this.previousStates[s]}}},{key:"_evaluateStepQuality",value:function(){var e,i,n,a=this.body.nodes,s=this.referenceState,o=.3;for(var l in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,l)&&a[l]!==void 0&&(e=a[l].x-s[l].positions.x,i=a[l].y-s[l].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),n>o))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,i=0,n=0,a=5,s=0;s<e.length;s++){var o=e[s],l=this._performStep(o);i=Math.max(i,l),n+=l}this.adaptiveTimestepEnabled=n/e.length<a,this.stabilized=i<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,i,n){var a=this.modelOptions.damping*e,s=(i-a)/n;e+=s*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}},{key:"_performStep",value:function(e){var i=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var a=this.physicsBody.velocities[e];this.previousStates[e]={x:i.x,y:i.y,vx:a.x,vy:a.y},i.options.fixed.x===!1?(a.x=this.calculateComponentVelocity(a.x,n.x,i.options.mass),i.x+=a.x*this.timestep):(n.x=0,a.x=0),i.options.fixed.y===!1?(a.y=this.calculateComponentVelocity(a.y,n.y,i.options.mass),i.y+=a.y*this.timestep):(n.y=0,a.y=0);var s=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));return s}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i].x&&e[i].y){var n=e[i].options.fixed;this.freezeCache[i]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&this.freezeCache[i]!==void 0&&(e[i].options.fixed.x=this.freezeCache[i].x,e[i].options.fixed.y=this.freezeCache[i].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof i!="number"&&(i=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",i)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=i,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Bn(function(){return e._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,i=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var a=0;i()&&a<this.options.stabilization.updateInterval;)this.physicsTick(),a++;if(n(),i()){var s;Bn(Me(s=this._stabilizationBatch).call(s,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var i=0;i<this.physicsBody.physicsNodeIndices.length;i++){var n=this.physicsBody.physicsNodeIndices[i],a=this.body.nodes[n],s=this.physicsBody.forces[n],o=20,l=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),f=Math.min(Math.max(5,u),15),h=3*f,c=sb((180-Math.min(1,Math.max(0,l*u))*180)/360,1,1),m={x:a.x+o*s.x,y:a.y+o*s.y};e.lineWidth=f,e.strokeStyle=c,e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(m.x,m.y),e.stroke();var d=Math.atan2(s.y,s.x);e.fillStyle=c,cI.draw(e,{type:"arrow",point:m,angle:d,length:h}),Nc(e).call(e)}}}]),r}();let Dh;const U8e=new Uint8Array(16);function q8e(){if(!Dh&&(Dh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Dh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dh(U8e)}const zr=[];for(let r=0;r<256;++r)zr.push((r+256).toString(16).slice(1));function H8e(r,t=0){return zr[r[t+0]]+zr[r[t+1]]+zr[r[t+2]]+zr[r[t+3]]+"-"+zr[r[t+4]]+zr[r[t+5]]+"-"+zr[r[t+6]]+zr[r[t+7]]+"-"+zr[r[t+8]]+zr[r[t+9]]+"-"+zr[r[t+10]]+zr[r[t+11]]+zr[r[t+12]]+zr[r[t+13]]+zr[r[t+14]]+zr[r[t+15]]}const W8e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var jx={randomUUID:W8e};function hf(r,t,e){if(jx.randomUUID&&!t&&!r)return jx.randomUUID();r=r||{};const i=r.random||(r.rng||q8e)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let n=0;n<16;++n)t[e+n]=i[n];return t}return H8e(i)}var Jr=function(){function r(){je(this,r)}return Ue(r,null,[{key:"getRange",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,a=-1e9,s=1e9,o=-1e9,l;if(i.length>0)for(var u=0;u<i.length;u++)l=e[i[u]],s>l.shape.boundingBox.left&&(s=l.shape.boundingBox.left),o<l.shape.boundingBox.right&&(o=l.shape.boundingBox.right),n>l.shape.boundingBox.top&&(n=l.shape.boundingBox.top),a<l.shape.boundingBox.bottom&&(a=l.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&n===1e9&&a===-1e9&&(n=0,a=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:a}}},{key:"getRangeCore",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,a=-1e9,s=1e9,o=-1e9,l;if(i.length>0)for(var u=0;u<i.length;u++)l=e[i[u]],s>l.x&&(s=l.x),o<l.x&&(o=l.x),n>l.y&&(n=l.y),a<l.y&&(a=l.y);return s===1e9&&o===-1e9&&n===1e9&&a===-1e9&&(n=0,a=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:a}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,i){var n={};return i===void 0||i==="node"?(zt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):zt(n,e.options,!0),n}}]),r}();function G8e(r){var t=V8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function V8e(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var X8e=function(r){kt(e,r);var t=G8e(e);function e(i,n,a,s,o,l){var u;return je(this,e),u=t.call(this,i,n,a,s,o,l),u.isCluster=!0,u.containedNodes={},u.containedEdges={},u}return Ue(e,[{key:"_openChildCluster",value:function(n){var a=this,s=this.body.nodes[n];if(this.containedNodes[n]===void 0)throw new Error("node with id: "+n+" not in current cluster");if(!s.isCluster)throw new Error("node with id: "+n+" is not a cluster");delete this.containedNodes[n],ht(s.edges,function(o){delete a.containedEdges[o.id]}),ht(s.containedNodes,function(o,l){a.containedNodes[l]=o}),s.containedNodes={},ht(s.containedEdges,function(o,l){a.containedEdges[l]=o}),s.containedEdges={},ht(s.edges,function(o){ht(a.edges,function(l){var u,f,h=$t(u=l.clusteringEdgeReplacingIds).call(u,o.id);h!==-1&&(ht(o.clusteringEdgeReplacingIds,function(c){l.clusteringEdgeReplacingIds.push(c),a.body.edges[c].edgeReplacedById=l.id}),aa(f=l.clusteringEdgeReplacingIds).call(f,h,1))})}),s.edges=[]}}]),e}(Ei),K8e=function(){function r(t){var e=this;je(this,r),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},ur(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}return Ue(r,[{key:"clusterByHubsize",value:function(e,i){e===void 0?e=this._getHubSize():Dt(e)==="object"&&(i=this._checkOptions(e),e=this._getHubSize());for(var n=[],a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodes[this.body.nodeIndices[a]];s.edges.length>=e&&n.push(s.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],i,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(i.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");i=this._checkOptions(i);var a={},s={};ht(this.body.nodes,function(o,l){o.options&&i.joinCondition(o.options)===!0&&(a[l]=o,ht(o.edges,function(u){e.clusteredEdges[u.id]===void 0&&(s[u.id]=u)}))}),this._cluster(a,s,i,n)}},{key:"clusterByEdgeCount",value:function(e,i){var n=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;i=this._checkOptions(i);for(var s=[],o={},l,u,f,h=function(){var v={},b={},g=n.body.nodeIndices[c],_=n.body.nodes[g];if(o[g]===void 0){f=0,u=[];for(var y=0;y<_.edges.length;y++)l=_.edges[y],n.clusteredEdges[l.id]===void 0&&(l.toId!==l.fromId&&f++,u.push(l));if(f===e){for(var $=function(D){if(i.joinCondition===void 0||i.joinCondition===null)return!0;var L=Jr.cloneOptions(D);return i.joinCondition(L)},I=!0,A=0;A<u.length;A++){l=u[A];var B=n._getConnectedId(l,g);if($(_))b[l.id]=l,v[g]=_,v[B]=n.body.nodes[B],o[g]=!0;else{I=!1;break}}if(Jt(v).length>0&&Jt(b).length>0&&I===!0){var T=function(){for(var D=0;D<s.length;++D)for(var L in v)if(s[D].nodes[L]!==void 0)return s[D]},x=T();if(x!==void 0){for(var U in v)x.nodes[U]===void 0&&(x.nodes[U]=v[U]);for(var O in b)x.edges[O]===void 0&&(x.edges[O]=b[O])}else s.push({nodes:v,edges:b})}}}},c=0;c<this.body.nodeIndices.length;c++)h();for(var m=0;m<s.length;m++)this._cluster(s[m].nodes,s[m].edges,i,!1);a===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,i)}},{key:"clusterBridges",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,i)}},{key:"clusterByConnection",value:function(e,i){var n,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var s=this.body.nodes[e];i=this._checkOptions(i,s),i.clusterNodeProperties.x===void 0&&(i.clusterNodeProperties.x=s.x),i.clusterNodeProperties.y===void 0&&(i.clusterNodeProperties.y=s.y),i.clusterNodeProperties.fixed===void 0&&(i.clusterNodeProperties.fixed={},i.clusterNodeProperties.fixed.x=s.options.fixed.x,i.clusterNodeProperties.fixed.y=s.options.fixed.y);var o={},l={},u=s.id,f=Jr.cloneOptions(s);o[u]=s;for(var h=0;h<s.edges.length;h++){var c=s.edges[h];if(this.clusteredEdges[c.id]===void 0){var m=this._getConnectedId(c,u);if(this.clusteredNodes[m]===void 0)if(m!==u)if(i.joinCondition===void 0)l[c.id]=c,o[m]=this.body.nodes[m];else{var d=Jr.cloneOptions(this.body.nodes[m]);i.joinCondition(f,d)===!0&&(l[c.id]=c,o[m]=this.body.nodes[m])}else l[c.id]=c}}var v=nu(n=Jt(o)).call(n,function($){return o[$].id});for(var b in o)if(Object.prototype.hasOwnProperty.call(o,b))for(var g=o[b],_=0;_<g.edges.length;_++){var y=g.edges[_];$t(v).call(v,this._getConnectedId(y,g.id))>-1&&(l[y.id]=y)}this._cluster(o,l,i,a)}},{key:"_createClusterEdges",value:function(e,i,n,a){for(var s,o,l,u,f,h,c=Jt(e),m=[],d=0;d<c.length;d++){o=c[d],l=e[o];for(var v=0;v<l.edges.length;v++)s=l.edges[v],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?i[s.id]=s:s.toId==o?(u=n.id,f=s.fromId,h=f):(u=s.toId,f=n.id,h=u),e[h]===void 0&&m.push({edge:s,fromId:f,toId:u}))}for(var b=[],g=function(B){for(var T=0;T<b.length;T++){var x=b[T],U=B.fromId===x.fromId&&B.toId===x.toId,O=B.fromId===x.toId&&B.toId===x.fromId;if(U||O)return x}return null},_=0;_<m.length;_++){var y=m[_],$=y.edge,I=g(y);I===null?(I=this._createClusteredEdge(y.fromId,y.toId,$,a),b.push(I)):I.clusteringEdgeReplacingIds.push($.id),this.body.edges[$.id].edgeReplacedById=I.id,this._backupEdgeOptions($),$.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&this.clusteredNodes[o]!==void 0&&s.push(o);for(var l=0;l<s.length;++l)delete e[s[l]];if(Jt(e).length!=0&&!(Jt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)){var u=zt({},n.clusterNodeProperties);if(n.processProperties!==void 0){var f=[];for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var c=Jr.cloneOptions(e[h]);f.push(c)}var m=[];for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)&&d.substr(0,12)!=="clusterEdge:"){var v=Jr.cloneOptions(i[d],"edge");m.push(v)}if(u=n.processProperties(u,f,m),!u)throw new Error("The processProperties function does not return properties!")}u.id===void 0&&(u.id="cluster:"+hf());var b=u.id;u.label===void 0&&(u.label="cluster");var g=void 0;u.x===void 0&&(g=this._getClusterPosition(e),u.x=g.x),u.y===void 0&&(g===void 0&&(g=this._getClusterPosition(e)),u.y=g.y),u.id=b;var _=this.body.functions.createNode(u,X8e);_.containedNodes=e,_.containedEdges=i,_.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[u.id]=_,this._clusterEdges(e,i,u,n.clusterEdgeProperties),u.id=void 0,a===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var i=this.clusteredEdges[e.id];i!==void 0&&(e.setOptions({physics:i.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var i=Jt(e),n=e[i[0]].x,a=e[i[0]].x,s=e[i[0]].y,o=e[i[0]].y,l,u=1;u<i.length;u++)l=e[i[u]],n=l.x<n?l.x:n,a=l.x>a?l.x:a,s=l.y<s?l.y:s,o=l.y>o?l.y:o;return{x:.5*(n+a),y:.5*(s+o)}}},{key:"openCluster",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var a=this.body.nodes[e];if(a===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(a.isCluster!==!0||a.containedNodes===void 0||a.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var s=this.findNode(e),o=$t(s).call(s,e)-1;if(o>=0){var l=s[o],u=this.body.nodes[l];u._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}var f=a.containedNodes,h=a.containedEdges;if(i!==void 0&&i.releaseFunction!==void 0&&typeof i.releaseFunction=="function"){var c={},m={x:a.x,y:a.y};for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)){var v=this.body.nodes[d];c[d]={x:v.x,y:v.y}}var b=i.releaseFunction(m,c);for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)){var _=this.body.nodes[g];b[g]!==void 0&&(_.x=b[g].x===void 0?a.x:b[g].x,_.y=b[g].y===void 0?a.y:b[g].y)}}else ht(f,function(z){z.options.fixed.x===!1&&(z.x=a.x),z.options.fixed.y===!1&&(z.y=a.y)});for(var y in f)if(Object.prototype.hasOwnProperty.call(f,y)){var $=this.body.nodes[y];$.vx=a.vx,$.vy=a.vy,$.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var I=[],A=0;A<a.edges.length;A++)I.push(a.edges[A]);for(var B=0;B<I.length;B++){for(var T=I[B],x=this._getConnectedId(T,e),U=this.clusteredNodes[x],O=0;O<T.clusteringEdgeReplacingIds.length;O++){var F=T.clusteringEdgeReplacingIds[O],D=this.body.edges[F];if(D!==void 0)if(U!==void 0){var L=this.body.nodes[U.clusterId];L.containedEdges[D.id]=D,delete h[D.id];var H=D.fromId,Y=D.toId;D.toId==x?Y=U.clusterId:H=U.clusterId,this._createClusteredEdge(H,Y,D,L.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(D)}T.remove()}for(var W in h)Object.prototype.hasOwnProperty.call(h,W)&&this._restoreEdge(h[W]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var i=[];if(this.isCluster(e)===!0){var n=this.body.nodes[e].containedNodes;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.push(this.body.nodes[a].id)}return i}},{key:"findNode",value:function(e){for(var i=[],n=100,a=0,s;this.clusteredNodes[e]!==void 0&&a<n;){if(s=this.body.nodes[e],s===void 0)return[];i.push(s.id),e=this.clusteredNodes[e].clusterId,a++}return s=this.body.nodes[e],s===void 0?[]:(i.push(s.id),$o(i).call(i),i)}},{key:"updateClusteredNode",value:function(e,i){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(i===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(i),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,i){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(i===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),a=0;a<n.length;a++){var s=this.body.edges[n[a]];s.setOptions(i)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var i=[],n=100,a=0;e!==void 0&&this.body.edges[e]!==void 0&&a<n;)i.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,a++;return $o(i).call(i),i}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var i=[e],n=[],a=[],s=100,o=0;i.length>0&&o<s;){var l=i.pop();if(l!==void 0){var u=this.body.edges[l];if(u!==void 0){o++;var f=u.clusteringEdgeReplacingIds;if(f===void 0)a.push(l);else for(var h=0;h<f.length;++h){var c=f[h];$t(i).call(i,f)!==-1||$t(n).call(n,f)!==-1||i.push(c)}n.push(l)}}}return a}},{key:"_getConnectedId",value:function(e,i){return e.toId!=i?e.toId:(e.fromId!=i,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,i=0,n=0,a=0,s=0;s<this.body.nodeIndices.length;s++){var o=this.body.nodes[this.body.nodeIndices[s]];o.edges.length>a&&(a=o.edges.length),e+=o.edges.length,i+=Math.pow(o.edges.length,2),n+=1}e=e/n,i=i/n;var l=i-Math.pow(e,2),u=Math.sqrt(l),f=Math.floor(e+2*u);return f>a&&(f=a),f}},{key:"_createClusteredEdge",value:function(e,i,n,a,s){var o=Jr.cloneOptions(n,"edge");zt(o,a),o.from=e,o.to=i,o.id="clusterEdge:"+hf(),s!==void 0&&zt(o,s);var l=this.body.functions.createEdge(o);return l.clusteringEdgeReplacingIds=[n.id],l.connect(),this.body.edges[l.id]=l,l}},{key:"_clusterEdges",value:function(e,i,n,a){if(i instanceof ql){var s=i,o={};o[s.id]=s,i=o}if(e instanceof Ei){var l=e,u={};u[l.id]=l,e=u}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");a===void 0&&(a=n.clusterEdgeProperties),this._createClusterEdges(e,i,n,a);for(var f in i)if(Object.prototype.hasOwnProperty.call(i,f)&&this.body.edges[f]!==void 0){var h=this.body.edges[f];this._backupEdgeOptions(h),h.setOptions({physics:!1})}for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var i=this.clusteredNodes[e];if(i!==void 0){var n=i.clusterId;if(n!==void 0)return this.body.nodes[n]}}}},{key:"_filter",value:function(e,i){var n=[];return ht(e,function(a){i(a)&&n.push(a)}),n}},{key:"_updateState",value:function(){var e=this,i,n=[],a={},s=function(d){ht(e.body.nodes,function(v){v.isCluster===!0&&d(v)})};for(i in this.clusteredNodes)if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,i)){var o=this.body.nodes[i];o===void 0&&n.push(i)}s(function(m){for(var d=0;d<n.length;d++)delete m.containedNodes[n[d]]});for(var l=0;l<n.length;l++)delete this.clusteredNodes[n[l]];ht(this.clusteredEdges,function(m){var d=e.body.edges[m];(d===void 0||!d.endPointsValid())&&(a[m]=m)}),s(function(m){ht(m.containedEdges,function(d,v){!d.endPointsValid()&&!a[v]&&(a[v]=v)})}),ht(this.body.edges,function(m,d){var v=!0,b=m.clusteringEdgeReplacingIds;if(b!==void 0){var g=0;ht(b,function(_){var y=e.body.edges[_];y!==void 0&&y.endPointsValid()&&(g+=1)}),v=g>0}(!m.endPointsValid()||!v)&&(a[d]=d)}),s(function(m){ht(a,function(d){delete m.containedEdges[d],ht(m.edges,function(v,b){if(v.id===d){m.edges[b]=null;return}v.clusteringEdgeReplacingIds=e._filter(v.clusteringEdgeReplacingIds,function(g){return!a[g]})}),m.edges=e._filter(m.edges,function(v){return v!==null})})}),ht(a,function(m){delete e.clusteredEdges[m]}),ht(a,function(m){delete e.body.edges[m]});var u=Jt(this.body.edges);ht(u,function(m){var d=e.body.edges[m],v=e._isClusteredNode(d.fromId)||e._isClusteredNode(d.toId);if(v!==e._isClusteredEdge(d.id))if(v){var b=e._getClusterNodeForNode(d.fromId);b!==void 0&&e._clusterEdges(e.body.nodes[d.fromId],d,b);var g=e._getClusterNodeForNode(d.toId);g!==void 0&&e._clusterEdges(e.body.nodes[d.toId],d,g)}else delete e._clusterEdges[m],e._restoreEdge(d)});for(var f=!1,h=!0,c=function(){var d=[];s(function(b){var g=Jt(b.containedNodes).length,_=b.options.allowSingleNodeCluster===!0;(_&&g<1||!_&&g<2)&&d.push(b.id)});for(var v=0;v<d.length;++v)e.openCluster(d[v],{},!1);h=d.length>0,f=f||h};h;)c();f&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),r}();function Y8e(){var r;window!==void 0&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),r===void 0?window.requestAnimationFrame=function(t){t()}:window.requestAnimationFrame=r}var J8e=function(){function r(t,e){je(this,r),Y8e(),this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},ur(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return Ue(r,[{key:"bindEventListeners",value:function(){var e=this,i;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("zoom",function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=Bn(function(){var n;e.zooming=!1,Me(n=e._requestRedraw).call(n,e)()},250)}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Me(i=this._requestRedraw).call(i,this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(e!==void 0){var i=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];Fu(i,this.options,e)}}},{key:"_requestNextFrame",value:function(e,i){if(!(typeof window>"u")){var n,a=window;return this.requiresTimeout===!0?n=Bn(e,i):a.requestAnimationFrame&&(n=a.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var e;this.renderTimer=this._requestNextFrame(Me(e=this._renderStep).call(e,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var i={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),a=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,a,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var o=this._drawNodes(n,e),l=o.drawExternalLabels;i.drawExternalLabels=l}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),i.drawExternalLabels!=null&&i.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,a,s)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var i=this.body.nodes,n;for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n=i[a],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.nodes,a=this.body.nodeIndices,s,o=[],l=[],u=20,f=this.canvas.DOMtoCanvas({x:-u,y:-u}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),c={top:f.y,left:f.x,bottom:h.y,right:h.x},m=[],d=0;d<a.length;d++)if(s=n[a[d]],s.hover)l.push(a[d]);else if(s.isSelected())o.push(a[d]);else if(i===!0){var v=s.draw(e);v.drawExternalLabel!=null&&m.push(v.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){var b=s.draw(e);b.drawExternalLabel!=null&&m.push(b.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);var g,_=o.length,y=l.length;for(g=0;g<_;g++){s=n[o[g]];var $=s.draw(e);$.drawExternalLabel!=null&&m.push($.drawExternalLabel)}for(g=0;g<y;g++){s=n[l[g]];var I=s.draw(e);I.drawExternalLabel!=null&&m.push(I.drawExternalLabel)}return{drawExternalLabels:function(){for(var B=0,T=m;B<T.length;B++){var x=T[B];x()}}}}},{key:"_drawEdges",value:function(e){for(var i=this.body.edges,n=this.body.edgeIndices,a=0;a<n.length;a++){var s=i[n[a]];s.connected===!0&&s.draw(e)}}},{key:"_drawArrows",value:function(e){for(var i=this.body.edges,n=this.body.edgeIndices,a=0;a<n.length;a++){var s=i[n[a]];s.connected===!0&&s.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,$t(e).call(e,"msie 9.0")!=-1?this.requiresTimeout=!0:$t(e).call(e,"safari")!=-1&&$t(e).call(e,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var i=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,i,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,i,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),r}(),Q8e=wt,Z8e=Q8e.setInterval,eEe=Z8e,tEe=Qe(eEe);function Hm(r,t){t.inputHandler=function(e){e.isFirst&&t(e)},r.on("hammer.input",t.inputHandler)}function pI(r,t){return t.inputHandler=function(e){e.isFinal&&t(e)},r.on("hammer.input",t.inputHandler)}var rEe=function(){function r(t){je(this,r),this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},ur(this.options,this.defaultOptions),this.bindEventListeners()}return Ue(r,[{key:"bindEventListeners",value:function(){var e=this,i;this.body.emitter.once("resize",function(n){n.width!==0&&(e.body.view.translation.x=n.width*.5),n.height!==0&&(e.body.view.translation.y=n.height*.5)}),this.body.emitter.on("setSize",Me(i=this.setSize).call(i,this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var i=this;if(e!==void 0){var n=["width","height","autoResize"];Fu(n,this.options,e)}if(this._cleanUp(),this.options.autoResize===!0){var a;if(window.ResizeObserver){var s=new ResizeObserver(function(){var f=i.setSize();f===!0&&i.body.emitter.emit("_requestRedraw")}),o=this.frame;s.observe(o),this._cleanupCallbacks.push(function(){s.unobserve(o)})}else{var l=tEe(function(){var f=i.setSize();f===!0&&i.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(l)})}var u=Me(a=this._onResize).call(a,this);window.addEventListener("resize",u),this._cleanupCallbacks.push(function(){window.removeEventListener("resize",u)})}}},{key:"_cleanUp",value:function(){var e,i,n;Mt(e=$o(i=aa(n=this._cleanupCallbacks).call(n,0)).call(i)).call(e,function(a){try{a()}catch(s){console.error(s)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,i=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;e!=1&&i!=1?n=this.cameraState.scale*.5*(e+i):e!=1?n=this.cameraState.scale*e:i!=1&&(n=this.cameraState.scale*i),this.body.view.scale=n;var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:a.x-this.cameraState.position.x,y:a.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if($t(e).call(e,"%")!==-1||$t(e).call(e,"px")!==-1)return e;if($t(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Ul(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Ul.DIRECTION_ALL}),Hm(this.hammer,function(i){e.body.eventListeners.onTouch(i)}),this.hammer.on("tap",function(i){e.body.eventListeners.onTap(i)}),this.hammer.on("doubletap",function(i){e.body.eventListeners.onDoubleTap(i)}),this.hammer.on("press",function(i){e.body.eventListeners.onHold(i)}),this.hammer.on("panstart",function(i){e.body.eventListeners.onDragStart(i)}),this.hammer.on("panmove",function(i){e.body.eventListeners.onDrag(i)}),this.hammer.on("panend",function(i){e.body.eventListeners.onDragEnd(i)}),this.hammer.on("pinch",function(i){e.body.eventListeners.onPinch(i)}),this.frame.canvas.addEventListener("wheel",function(i){e.body.eventListeners.onMouseWheel(i)}),this.frame.canvas.addEventListener("mousemove",function(i){e.body.eventListeners.onMouseMove(i)}),this.frame.canvas.addEventListener("contextmenu",function(i){e.body.eventListeners.onContext(i)}),this.hammerFrame=new Ul(this.frame),pI(this.hammerFrame,function(i){e.body.eventListeners.onRelease(i)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),i=this._prepareValue(i);var n=!1,a=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||i!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=i)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=i,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=i,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var l=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==l||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==l&&(this.frame.canvas.width=l,n=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(a/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var i=1;typeof window<"u"&&(i=window.devicePixelRatio||1);var n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return i/n}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),r}();function iEe(r,t){var e=ur({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},r??{});if(!Ct(e.nodes))throw new TypeError("Nodes has to be an array of ids.");if(e.nodes.length===0&&(e.nodes=t),!(typeof e.minZoomLevel=="number"&&e.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof e.maxZoomLevel=="number"&&e.minZoomLevel<=e.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return e}var nEe=function(){function r(t,e){var i,n=this,a;je(this,r),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Me(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Me(a=this.releaseNode).call(a,this))}return Ue(r,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=iEe(e,this.body.nodeIndices);var n=this.canvas.frame.canvas.clientWidth,a=this.canvas.frame.canvas.clientHeight,s,o;if(n===0||a===0)o=1,s=Jr.getRange(this.body.nodes,e.nodes);else if(i===!0){var l=0;for(var u in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,u)){var f=this.body.nodes[u];f.predefinedPosition===!0&&(l+=1)}if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Jr.getRange(this.body.nodes,e.nodes);var h=this.body.nodeIndices.length;o=12.662/(h+7.4147)+.0964822;var c=Math.min(n/600,a/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=Jr.getRange(this.body.nodes,e.nodes);var m=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,v=n/m,b=a/d;o=v<=b?v:b}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);var g=Jr.findCenter(s),_={position:g,scale:o,animation:e.animation};this.moveTo(_)}},{key:"focus",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};i.position=n,i.lockedOnNode=e,this.moveTo(i)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!co(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!co(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!co(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!co(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:i.x-e.position.x,y:i.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var a;this.viewFunction=Me(a=this._lockedRedraw).call(a,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Me(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:i.x-e.x,y:i.y-e.y},a=this.body.view.translation,s={x:a.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:a.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var i=jwe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=Me(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),r}();function Ux(r){var t=r&&r.preventDefault||!1,e=r&&r.container||window,i={},n={keydown:{},keyup:{}},a={},s;for(s=97;s<=122;s++)a[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)a[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)a[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)a["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)a["num"+s]={code:96+s,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var o=function(f){u(f,"keydown")},l=function(f){u(f,"keyup")},u=function(f,h){if(n[h][f.keyCode]!==void 0){for(var c=n[h][f.keyCode],m=0;m<c.length;m++)(c[m].shift===void 0||c[m].shift==!0&&f.shiftKey==!0||c[m].shift==!1&&f.shiftKey==!1)&&c[m].fn(f);t==!0&&f.preventDefault()}};return i.bind=function(f,h,c){if(c===void 0&&(c="keydown"),a[f]===void 0)throw new Error("unsupported key: "+f);n[c][a[f].code]===void 0&&(n[c][a[f].code]=[]),n[c][a[f].code].push({fn:h,shift:a[f].shift})},i.bindAll=function(f,h){h===void 0&&(h="keydown");for(var c in a)a.hasOwnProperty(c)&&i.bind(c,f,h)},i.getKey=function(f){for(var h in a)if(a.hasOwnProperty(h)){if(f.shiftKey==!0&&a[h].shift==!0&&f.keyCode==a[h].code)return h;if(f.shiftKey==!1&&a[h].shift==!1&&f.keyCode==a[h].code)return h;if(f.keyCode==a[h].code&&h=="shift")return h}return"unknown key, currently not supported"},i.unbind=function(f,h,c){if(c===void 0&&(c="keydown"),a[f]===void 0)throw new Error("unsupported key: "+f);if(h!==void 0){var m=[],d=n[c][a[f].code];if(d!==void 0)for(var v=0;v<d.length;v++)d[v].fn==h&&d[v].shift==a[f].shift||m.push(n[c][a[f].code][v]);n[c][a[f].code]=m}else n[c][a[f].code]=[]},i.reset=function(){n={keydown:{},keyup:{}}},i.destroy=function(){n={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",l,!0),i}var aEe=function(){function r(t,e){var i=this;je(this,r),this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){i.keycharm!==void 0&&i.keycharm.destroy()}),this.options={}}return Ue(r,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var i=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var a=0;a<i.length;a++){this.navigationDOM[i[a]]=document.createElement("div"),this.navigationDOM[i[a]].className="vis-button vis-"+i[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[i[a]]);var s=new Ul(this.navigationDOM[i[a]]);if(n[a]==="_fit"){var o;Hm(s,Me(o=this._fit).call(o,this))}else{var l;Hm(s,Me(l=this.bindToRedraw).call(l,this,n[a]))}this.navigationHammers.push(s)}var u=new Ul(this.canvas.frame);pI(u,function(){e._stopMovement()}),this.navigationHammers.push(u),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){if(this.boundFunctions[e]===void 0){var i;this.boundFunctions[e]=Me(i=this[e]).call(i,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,i=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,a=i/e,s=(1-a)*this.canvas.canvasViewCenter.x+n.x*a,o=(1-a)*this.canvas.canvasViewCenter.y+n.y*a;this.body.view.scale=i,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,i=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,a=i/e,s=(1-a)*this.canvas.canvasViewCenter.x+n.x*a,o=(1-a)*this.canvas.canvasViewCenter.y+n.y*a;this.body.view.scale=i,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=Ux({container:window,preventDefault:!0}):this.keycharm=Ux({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$,I,A,B,T,x,U;Me(i=this.keycharm).call(i,"up",function(){e.bindToRedraw("_moveUp")},"keydown"),Me(n=this.keycharm).call(n,"down",function(){e.bindToRedraw("_moveDown")},"keydown"),Me(a=this.keycharm).call(a,"left",function(){e.bindToRedraw("_moveLeft")},"keydown"),Me(s=this.keycharm).call(s,"right",function(){e.bindToRedraw("_moveRight")},"keydown"),Me(o=this.keycharm).call(o,"=",function(){e.bindToRedraw("_zoomIn")},"keydown"),Me(l=this.keycharm).call(l,"num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),Me(u=this.keycharm).call(u,"num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),Me(f=this.keycharm).call(f,"-",function(){e.bindToRedraw("_zoomOut")},"keydown"),Me(h=this.keycharm).call(h,"[",function(){e.bindToRedraw("_zoomOut")},"keydown"),Me(c=this.keycharm).call(c,"]",function(){e.bindToRedraw("_zoomIn")},"keydown"),Me(m=this.keycharm).call(m,"pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),Me(d=this.keycharm).call(d,"pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),Me(v=this.keycharm).call(v,"up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),Me(b=this.keycharm).call(b,"down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),Me(g=this.keycharm).call(g,"left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),Me(_=this.keycharm).call(_,"right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),Me(y=this.keycharm).call(y,"=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Me($=this.keycharm).call($,"num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Me(I=this.keycharm).call(I,"num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Me(A=this.keycharm).call(A,"-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Me(B=this.keycharm).call(B,"[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Me(T=this.keycharm).call(T,"]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Me(x=this.keycharm).call(x,"pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Me(U=this.keycharm).call(U,"pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")}}}]),r}();function sEe(r,t){var e=typeof Xs<"u"&&Qo(r)||r["@@iterator"];if(!e){if(Ct(r)||(e=oEe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function oEe(r,t){var e;if(r){if(typeof r=="string")return qx(r,t);var i=jr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Jo(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return qx(r,t)}}function qx(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var lEe=function(){function r(t,e,i){var n,a,s,o,l,u,f,h,c,m,d,v,b;je(this,r),this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new aEe(t,e),this.body.eventListeners.onTap=Me(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=Me(a=this.onTouch).call(a,this),this.body.eventListeners.onDoubleTap=Me(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Me(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=Me(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Me(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Me(f=this.onDragEnd).call(f,this),this.body.eventListeners.onMouseWheel=Me(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Me(c=this.onPinch).call(c,this),this.body.eventListeners.onMouseMove=Me(m=this.onMouseMove).call(m,this),this.body.eventListeners.onRelease=Me(d=this.onRelease).call(d,this),this.body.eventListeners.onContext=Me(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Me(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},ur(this.options,this.defaultOptions),this.bindEventListeners()}return Ue(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(e!==void 0){var i=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];Lm(i,this.options,e),Ui(this.options,e,"keyboard"),e.tooltip&&(ur(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=ab(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-Bwe(this.canvas.frame.canvas),y:e.y-Fwe(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var i=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(i,n),this.selectionHandler.commitAndEmit(i,e),this.selectionHandler.generateClickEvent("click",e,i)}},{key:"onDoubleTap",value:function(e){var i=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,i)}},{key:"onHold",value:function(e){var i=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(i,n),this.selectionHandler.commitAndEmit(i,e),this.selectionHandler.generateClickEvent("click",e,i),this.selectionHandler.generateClickEvent("hold",e,i)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var i=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,i),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var i=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,i)}},{key:"checkSelectionChanges",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,i){var n=function(s,o){for(var l=[],u=0;u<s.length;u++){var f=s[u];$t(o).call(o,f)===-1&&l.push(f)}return l};return{nodes:n(e.nodes,i.nodes),edges:n(e.edges,i.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var i=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=ur({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(i!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=i.id,i.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[i.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var a=sEe(this.selectionHandler.getSelectedNodes()),s;try{for(a.s();!(s=a.n()).done;){var o=s.value,l={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(l)}}catch(u){a.e(u)}finally{a.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var i=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),a=this.drag.selection;if(a&&a.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,n);var s=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;Mt(a).call(a,function(f){var h=f.node;f.xFixed===!1&&(h.x=i.canvas._XconvertDOMtoCanvas(i.canvas._XconvertCanvasToDOM(f.x)+s)),f.yFixed===!1&&(h.y=i.canvas._YconvertDOMtoCanvas(i.canvas._YconvertCanvasToDOM(f.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}var l=n.x-this.drag.pointer.x,u=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+l,y:this.drag.translation.y+u},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var i=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var a=this.body.selectionBox.position,s={minX:Math.min(a.start.x,a.end.x),minY:Math.min(a.start.y,a.end.y),maxX:Math.max(a.start.x,a.end.x),maxY:Math.max(a.start.y,a.end.y)},o=pi(n=this.body.nodeIndices).call(n,function(f){var h=i.body.nodes[f];return h.x>=s.minX&&h.x<=s.maxX&&h.y>=s.minY&&h.y<=s.maxY});Mt(o).call(o,function(f){return i.selectionHandler.selectObject(i.body.nodes[f])});var l=this.getPointer(e.center);this.selectionHandler.commitAndEmit(l,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var u=this.drag.selection;u&&u.length?(Mt(u).call(u,function(f){f.node.options.fixed.x=f.xFixed,f.node.options.fixed.y=f.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var i=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,i)}},{key:"zoom",value:function(e,i){if(this.options.zoomView===!0){var n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var a=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(a=this.canvas.DOMtoCanvas(this.drag.pointer));var s=this.body.view.translation,o=e/n,l=(1-o)*i.x+s.x*o,u=(1-o)*i.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:l,y:u},a!=null){var f=this.canvas.canvasToDOM(a);this.drag.pointer.x=f.x,this.drag.pointer.y=f.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:i}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:i})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var i=this.body.view.scale;i*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(i,n)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var i=this,n=this.getPointer({x:e.clientX,y:e.clientY}),a=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(n),this.popup.hidden===!1&&(a=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),a===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Bn(function(){return i._checkShowPopup(n)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var i=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),a={left:i,top:n,right:i,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id,o=!1,l="node";if(this.popupObj===void 0){for(var u=this.body.nodeIndices,f=this.body.nodes,h,c=[],m=0;m<u.length;m++)h=f[u[m]],h.isOverlappingWith(a)===!0&&(o=!0,h.getTitle()!==void 0&&c.push(u[m]));c.length>0&&(this.popupObj=f[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){for(var d=this.body.edgeIndices,v=this.body.edges,b,g=[],_=0;_<d.length;_++)b=v[d[_]],b.isOverlappingWith(a)===!0&&b.connected===!0&&b.getTitle()!==void 0&&g.push(d[_]);g.length>0&&(this.popupObj=v[g[g.length-1]],l="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new Kwe(this.canvas.frame)),this.popup.popupTargetType=l,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var i=this.selectionHandler._pointerToPositionObject(e),n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(i),n===!0)){var a=this.selectionHandler.getNodeAt(e);n=a===void 0?!1:a.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(i));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),r}(),uEe=E$,fEe=GA;uEe("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},fEe);var cEe=wt,hEe=cEe.Set,mEe=hEe,pEe=mEe,dEe=pEe,oo=Qe(dEe),vEe=Et,Hx=k$,Nh=od.getWeakData,gEe=S$,bEe=Ni,yEe=Tu,yg=Ir,$Ee=x$,dI=Vs,Wx=Cr,vI=Yo,_Ee=vI.set,wEe=vI.getterFor,xEe=dI.find,SEe=dI.findIndex,EEe=vEe([].splice),kEe=0,Rh=function(r){return r.frozen||(r.frozen=new gI)},gI=function(){this.entries=[]},$g=function(r,t){return xEe(r.entries,function(e){return e[0]===t})};gI.prototype={get:function(r){var t=$g(this,r);if(t)return t[1]},has:function(r){return!!$g(this,r)},set:function(r,t){var e=$g(this,r);e?e[1]=t:this.entries.push([r,t])},delete:function(r){var t=SEe(this.entries,function(e){return e[0]===r});return~t&&EEe(this.entries,t,1),!!~t}};var TEe={getConstructor:function(r,t,e,i){var n=r(function(l,u){gEe(l,a),_Ee(l,{type:t,id:kEe++,frozen:void 0}),yEe(u)||$Ee(u,l[i],{that:l,AS_ENTRIES:e})}),a=n.prototype,s=wEe(t),o=function(l,u,f){var h=s(l),c=Nh(bEe(u),!0);return c===!0?Rh(h).set(u,f):c[h.id]=f,l};return Hx(a,{delete:function(l){var u=s(this);if(!yg(l))return!1;var f=Nh(l);return f===!0?Rh(u).delete(l):f&&Wx(f,u.id)&&delete f[u.id]},has:function(u){var f=s(this);if(!yg(u))return!1;var h=Nh(u);return h===!0?Rh(f).has(u):h&&Wx(h,f.id)}}),Hx(a,e?{get:function(u){var f=s(this);if(yg(u)){var h=Nh(u);return h===!0?Rh(f).get(u):h?h[f.id]:void 0}},set:function(u,f){return o(this,u,f)}}:{add:function(u){return o(this,u,!0)}}),n}},OEe=UA,Gx=tr,lm=Et,Vx=k$,AEe=od,IEe=E$,bI=TEe,Mh=Ir,Bh=Yo.enforce,CEe=_t,PEe=P9,Lc=Object,DEe=Array.isArray,Fh=Lc.isExtensible,yI=Lc.isFrozen,NEe=Lc.isSealed,$I=Lc.freeze,REe=Lc.seal,Xx={},Kx={},MEe=!Gx.ActiveXObject&&"ActiveXObject"in Gx,Ku,_I=function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},wI=IEe("WeakMap",_I,bI),Sl=wI.prototype,um=lm(Sl.set),BEe=function(){return OEe&&CEe(function(){var r=$I([]);return um(new wI,r,1),!yI(r)})};if(PEe)if(MEe){Ku=bI.getConstructor(_I,"WeakMap",!0),AEe.enable();var Yx=lm(Sl.delete),zh=lm(Sl.has),Jx=lm(Sl.get);Vx(Sl,{delete:function(r){if(Mh(r)&&!Fh(r)){var t=Bh(this);return t.frozen||(t.frozen=new Ku),Yx(this,r)||t.frozen.delete(r)}return Yx(this,r)},has:function(t){if(Mh(t)&&!Fh(t)){var e=Bh(this);return e.frozen||(e.frozen=new Ku),zh(this,t)||e.frozen.has(t)}return zh(this,t)},get:function(t){if(Mh(t)&&!Fh(t)){var e=Bh(this);return e.frozen||(e.frozen=new Ku),zh(this,t)?Jx(this,t):e.frozen.get(t)}return Jx(this,t)},set:function(t,e){if(Mh(t)&&!Fh(t)){var i=Bh(this);i.frozen||(i.frozen=new Ku),zh(this,t)?um(this,t,e):i.frozen.set(t,e)}else um(this,t,e);return this}})}else BEe()&&Vx(Sl,{set:function(t,e){var i;return DEe(t)&&(yI(t)?i=Xx:NEe(t)&&(i=Kx)),um(this,t,e),i===Xx&&$I(t),i===Kx&&REe(t),this}});var FEe=wt,zEe=FEe.WeakMap,LEe=zEe,jEe=LEe,UEe=jEe,mf=Qe(UEe);function Ft(r,t,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(r):i?i.value:t.get(r)}function mb(r,t,e,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,e):n?n.value=e:t.set(r,e),e}function pb(r,t){var e=typeof Xs<"u"&&Qo(r)||r["@@iterator"];if(!e){if(Ct(r)||(e=qEe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function qEe(r,t){var e;if(r){if(typeof r=="string")return Qx(r,t);var i=jr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Jo(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qx(r,t)}}function Qx(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var ao,Li,cs,hs,fm;function Zx(r,t){var e=new oo,i=pb(t),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;r.has(a)||e.add(a)}}catch(s){i.e(s)}finally{i.f()}return e}var e7=function(){function r(){je(this,r),ao.set(this,new oo),Li.set(this,new oo)}return Ue(r,[{key:"size",get:function(){return Ft(this,Li,"f").size}},{key:"add",value:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var a=0,s=i;a<s.length;a++){var o=s[a];Ft(this,Li,"f").add(o)}}},{key:"delete",value:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var a=0,s=i;a<s.length;a++){var o=s[a];Ft(this,Li,"f").delete(o)}}},{key:"clear",value:function(){Ft(this,Li,"f").clear()}},{key:"getSelection",value:function(){return An(Ft(this,Li,"f"))}},{key:"getChanges",value:function(){return{added:An(Zx(Ft(this,ao,"f"),Ft(this,Li,"f"))),deleted:An(Zx(Ft(this,Li,"f"),Ft(this,ao,"f"))),previous:An(new oo(Ft(this,ao,"f"))),current:An(new oo(Ft(this,Li,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();mb(this,ao,Ft(this,Li,"f"),"f"),mb(this,Li,new oo(Ft(this,ao,"f")),"f");var i=pb(e.added),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;a.select()}}catch(u){i.e(u)}finally{i.f()}var s=pb(e.deleted),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;l.unselect()}}catch(u){s.e(u)}finally{s.f()}return e}}]),r}();ao=new mf,Li=new mf;var HEe=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};je(this,r),cs.set(this,new e7),hs.set(this,new e7),fm.set(this,void 0),mb(this,fm,t,"f")}return Ue(r,[{key:"sizeNodes",get:function(){return Ft(this,cs,"f").size}},{key:"sizeEdges",get:function(){return Ft(this,hs,"f").size}},{key:"getNodes",value:function(){return Ft(this,cs,"f").getSelection()}},{key:"getEdges",value:function(){return Ft(this,hs,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=Ft(this,cs,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Ft(this,hs,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Ft(this,cs,"f").delete(e)}},{key:"deleteEdges",value:function(e){Ft(this,hs,"f").delete(e)}},{key:"clear",value:function(){Ft(this,cs,"f").clear(),Ft(this,hs,"f").clear()}},{key:"commit",value:function(){for(var e,i,n={nodes:Ft(this,cs,"f").commit(),edges:Ft(this,hs,"f").commit()},a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=Ft(this,fm,"f")).call.apply(e,l$(i=[this,n]).call(i,s)),n}}]),r}();cs=new mf,hs=new mf,fm=new mf;function t7(r,t){var e=typeof Xs<"u"&&Qo(r)||r["@@iterator"];if(!e){if(Ct(r)||(e=WEe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function WEe(r,t){var e;if(r){if(typeof r=="string")return r7(r,t);var i=jr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Jo(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r7(r,t)}}function r7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var GEe=function(){function r(t,e){var i=this;je(this,r),this.body=t,this.canvas=e,this._selectionAccumulator=new HEe,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},ur(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return Ue(r,[{key:"setOptions",value:function(e){if(e!==void 0){var i=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];Fu(i,this.options,e)}}},{key:"selectOnPoint",value:function(e){var i=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(i=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return i}},{key:"selectAdditionalOnPoint",value:function(e){var i=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(i=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return i}},{key:"_initBaseEvent",value:function(e,i){var n={};return n.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},n.event=e,n}},{key:"generateClickEvent",value:function(e,i,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=this._initBaseEvent(i,n);if(s===!0)o.nodes=[],o.edges=[];else{var l=this.getSelection();o.nodes=l.nodes,o.edges=l.edges}a!==void 0&&(o.previousSelection=a),e=="click"&&(o.items=this.getClickedItems(n)),i.controlEdge!==void 0&&(o.controlEdge=i.controlEdge),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof Ei){if(i===!0){var n;(n=this._selectionAccumulator).addEdges.apply(n,An(e.edges))}this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var i=[],n=this.body.nodes,a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodeIndices[a];n[s].isOverlappingWith(e)&&i.push(s)}return i}},{key:"_pointerToPositionObject",value:function(e){var i=this.canvas.DOMtoCanvas(e);return{left:i.x-1,top:i.y+1,right:i.x+1,bottom:i.y-1}}},{key:"getNodeAt",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._pointerToPositionObject(e),a=this._getAllNodesOverlappingWith(n);if(a.length>0)return i===!0?this.body.nodes[a[a.length-1]]:a[a.length-1]}},{key:"_getEdgesOverlappingWith",value:function(e,i){for(var n=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a];n[s].isOverlappingWith(e)&&i.push(s)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var i=[];return this._getEdgesOverlappingWith(e,i),i}},{key:"getEdgeAt",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.canvas.DOMtoCanvas(e),a=10,s=null,o=this.body.edges,l=0;l<this.body.edgeIndices.length;l++){var u=this.body.edgeIndices[l],f=o[u];if(f.connected){var h=f.from.x,c=f.from.y,m=f.to.x,d=f.to.y,v=f.edgeType.getDistanceToEdge(h,c,m,d,n.x,n.y);v<a&&(s=u,a=v)}}if(s!==null)return i===!0?this.body.edges[s]:s}},{key:"_addToHover",value:function(e){e instanceof Ei?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){if(e instanceof Ei){var i;this._selectionAccumulator.deleteNodes(e),(i=this._selectionAccumulator).deleteEdges.apply(i,An(e.edges))}else this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var i=0;i<e.edges.length;i++){var n=e.edges[i];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(e,i,n){var a=this._initBaseEvent(e,i);n.hover===!0&&(n.hover=!1,n instanceof Ei?(a.node=n.id,this.body.emitter.emit("blurNode",a)):(a.edge=n.id,this.body.emitter.emit("blurEdge",a)))}},{key:"emitHoverEvent",value:function(e,i,n){var a=this._initBaseEvent(e,i),s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof Ei?(a.node=n.id,this.body.emitter.emit("hoverNode",a)):(a.edge=n.id,this.body.emitter.emit("hoverEdge",a))),s}},{key:"hoverObject",value:function(e,i){var n=this.getNodeAt(i);n===void 0&&(n=this.getEdgeAt(i));var a=!1;for(var s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof Ei&&n.id!=s||n instanceof ql)&&(this.emitBlurEvent(e,i,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],a=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(a===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(n===void 0||n instanceof ql&&n.id!=o||n instanceof Ei&&!n.hover)&&(this.emitBlurEvent(e,i,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],a=!0));if(n!==void 0){var l=Jt(this.hoverObj.edges).length,u=Jt(this.hoverObj.nodes).length,f=n instanceof ql&&l===0&&u===0,h=n instanceof Ei&&l===0&&u===0;(a||f||h)&&(a=this.emitHoverEvent(e,i,n)),n instanceof Ei&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}a===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,i){var n=!1,a=this._selectionAccumulator.commit(),s={nodes:a.nodes.previous,edges:a.edges.previous};a.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",i,e,s),n=!0),a.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",i,e,s),n=!0),a.nodes.added.length>0&&(this.generateClickEvent("selectNode",i,e),n=!0),a.edges.added.length>0&&(this.generateClickEvent("selectEdge",i,e),n=!0),n===!0&&this.generateClickEvent("select",i,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return nu(e=this._selectionAccumulator.getNodes()).call(e,function(i){return i.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return nu(e=this._selectionAccumulator.getEdges()).call(e,function(i){return i.id})}},{key:"setSelection",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((i.unselectAll||i.unselectAll===void 0)&&this.unselectAll(),e.nodes){var n=t7(e.nodes),a;try{for(n.s();!(a=n.n()).done;){var s=a.value,o=this.body.nodes[s];if(!o)throw new RangeError('Node with id "'+s+'" not found');this.selectObject(o,i.highlightEdges)}}catch(c){n.e(c)}finally{n.f()}}if(e.edges){var l=t7(e.edges),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=this.body.edges[f];if(!h)throw new RangeError('Edge with id "'+f+'" not found');this.selectObject(h)}}catch(c){l.e(c)}finally{l.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:i})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var i in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,i.id)||this._selectionAccumulator.deleteEdges(i)}},{key:"getClickedItems",value:function(e){for(var i=this.canvas.DOMtoCanvas(e),n=[],a=this.body.nodeIndices,s=this.body.nodes,o=a.length-1;o>=0;o--){var l=s[a[o]],u=l.getItemsOnPoint(i);n.push.apply(n,u)}for(var f=this.body.edgeIndices,h=this.body.edges,c=f.length-1;c>=0;c--){var m=h[f[c]],d=m.getItemsOnPoint(i);n.push.apply(n,d)}return n}}]),r}(),i7=sO,VEe=Math.floor,db=function(r,t){var e=r.length,i=VEe(e/2);return e<8?XEe(r,t):KEe(r,db(i7(r,0,i),t),db(i7(r,i),t),t)},XEe=function(r,t){for(var e=r.length,i=1,n,a;i<e;){for(a=i,n=r[i];a&&t(r[a-1],n)>0;)r[a]=r[--a];a!==i++&&(r[a]=n)}return r},KEe=function(r,t,e,i){for(var n=t.length,a=e.length,s=0,o=0;s<n||o<a;)r[s+o]=s<n&&o<a?i(t[s],e[o])<=0?t[s++]:e[o++]:s<n?t[s++]:e[o++];return r},YEe=db,JEe=yc,n7=JEe.match(/firefox\/(\d+)/i),QEe=!!n7&&+n7[1],ZEe=yc,eke=/MSIE|Trident/.test(ZEe),tke=yc,a7=tke.match(/AppleWebKit\/(\d+)\./),rke=!!a7&&+a7[1],ike=at,xI=Et,nke=Xo,ake=_i,s7=en,ske=GO,o7=Vn,P$=_t,oke=YEe,lke=Mu,l7=QEe,uke=eke,u7=$c,f7=rke,$s=[],c7=xI($s.sort),fke=xI($s.push),cke=P$(function(){$s.sort(void 0)}),hke=P$(function(){$s.sort(null)}),mke=lke("sort"),SI=!P$(function(){if(u7)return u7<70;if(!(l7&&l7>3)){if(uke)return!0;if(f7)return f7<603;var r="",t,e,i,n;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)$s.push({k:e+n,v:i})}for($s.sort(function(a,s){return s.v-a.v}),n=0;n<$s.length;n++)e=$s[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!=="DGBEFHACIJK"}}),pke=cke||!hke||!mke||!SI,dke=function(r){return function(t,e){return e===void 0?-1:t===void 0?1:r!==void 0?+r(t,e)||0:o7(t)>o7(e)?1:-1}};ike({target:"Array",proto:!0,forced:pke},{sort:function(t){t!==void 0&&nke(t);var e=ake(this);if(SI)return t===void 0?c7(e):c7(e,t);var i=[],n=s7(e),a,s;for(s=0;s<n;s++)s in e&&fke(i,e[s]);for(oke(i,dke(t)),a=s7(i),s=0;s<a;)e[s]=i[s++];for(;s<n;)ske(e,s++);return e}});var vke=Pr,gke=vke("Array").sort,bke=or,yke=gke,_g=Array.prototype,$ke=function(r){var t=r.sort;return r===_g||bke(_g,r)&&t===_g.sort?yke:t},_ke=$ke,wke=_ke,xke=wke,pf=Qe(xke),Ske=Xo,Eke=_i,kke=zp,Tke=en,Oke=TypeError,h7=function(r){return function(t,e,i,n){Ske(e);var a=Eke(t),s=kke(a),o=Tke(a),l=r?o-1:0,u=r?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=u;break}if(l+=u,r?l<0:o<=l)throw new Oke("Reduce of empty array with no initial value")}for(;r?l>=0:o>l;l+=u)l in s&&(n=e(n,s[l],l,a));return n}},Ake={left:h7(!1),right:h7(!0)},Ike=tr,Cke=xa,Pke=Cke(Ike.process)==="process",Dke=at,Nke=Ake.left,Rke=Mu,m7=$c,Mke=Pke,Bke=!Mke&&m7>79&&m7<83,Fke=Bke||!Rke("reduce");Dke({target:"Array",proto:!0,forced:Fke},{reduce:function(t){var e=arguments.length;return Nke(this,t,e,e>1?arguments[1]:void 0)}});var zke=Pr,Lke=zke("Array").reduce,jke=or,Uke=Lke,wg=Array.prototype,qke=function(r){var t=r.reduce;return r===wg||jke(wg,r)&&t===wg.reduce?Uke:t},Hke=qke,Wke=Hke,Gke=Wke,EI=Qe(Gke);function kI(r){var t=Vke();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Oe(i,arguments,a)}else n=i.apply(this,arguments);return Pt(this,n)}}function Vke(){if(typeof Reflect>"u"||!Oe||Oe.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Oe(Boolean,[],function(){})),!0}catch{return!1}}var TI=function(){function r(){je(this,r)}return Ue(r,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,i,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,i){this.fake_use(e,i),this.abstract()}},{key:"shift",value:function(e,i){this.fake_use(e,i),this.abstract()}}]),r}(),Xke=function(r){kt(e,r);var t=kI(e);function e(i){var n;return je(this,e),n=t.call(this),n.layout=i,n}return Ue(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(n){return n.x}},{key:"setPosition",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(n,s),n.x=a}},{key:"getTreeSize",value:function(n){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:a.min_x,max:a.max_x}}},{key:"sort",value:function(n){pf(n).call(n,function(a,s){return a.x-s.x})}},{key:"fix",value:function(n,a){n.y=this.layout.options.hierarchical.levelSeparation*a,n.options.fixed.y=!0}},{key:"shift",value:function(n,a){this.layout.body.nodes[n].x+=a}}]),e}(TI),Kke=function(r){kt(e,r);var t=kI(e);function e(i){var n;return je(this,e),n=t.call(this),n.layout=i,n}return Ue(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(n){return n.y}},{key:"setPosition",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(n,s),n.y=a}},{key:"getTreeSize",value:function(n){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:a.min_y,max:a.max_y}}},{key:"sort",value:function(n){pf(n).call(n,function(a,s){return a.y-s.y})}},{key:"fix",value:function(n,a){n.x=this.layout.options.hierarchical.levelSeparation*a,n.options.fixed.x=!0}},{key:"shift",value:function(n,a){this.layout.body.nodes[n].y+=a}}]),e}(TI),Yke=at,Jke=Vs.every,Qke=Mu,Zke=Qke("every");Yke({target:"Array",proto:!0,forced:!Zke},{every:function(t){return Jke(this,t,arguments.length>1?arguments[1]:void 0)}});var eTe=Pr,tTe=eTe("Array").every,rTe=or,iTe=tTe,xg=Array.prototype,nTe=function(r){var t=r.every;return r===xg||rTe(xg,r)&&t===xg.every?iTe:t},aTe=nTe,sTe=aTe,oTe=sTe,OI=Qe(oTe);function lTe(r,t){var e=typeof Xs<"u"&&Qo(r)||r["@@iterator"];if(!e){if(Ct(r)||(e=uTe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function uTe(r,t){var e;if(r){if(typeof r=="string")return p7(r,t);var i=jr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Jo(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p7(r,t)}}function p7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function fTe(r,t){var e=new oo;return Mt(r).call(r,function(i){var n;Mt(n=i.edges).call(n,function(a){a.connected&&e.add(a)})}),Mt(e).call(e,function(i){var n=i.from.id,a=i.to.id;t[n]==null&&(t[n]=0),(t[a]==null||t[n]>=t[a])&&(t[a]=t[n]+1)}),t}function cTe(r){return AI(function(t){var e,i;return OI(e=pi(i=t.edges).call(i,function(n){return r.has(n.toId)})).call(e,function(n){return n.to===t})},function(t,e){return e>t},"from",r)}function hTe(r){return AI(function(t){var e,i;return OI(e=pi(i=t.edges).call(i,function(n){return r.has(n.toId)})).call(e,function(n){return n.from===t})},function(t,e){return e<t},"to",r)}function AI(r,t,e,i){var n,a=_o(null),s=EI(n=An(nI(i).call(i))).call(n,function(m,d){return m+1+d.edges.length},0),o=e+"Id",l=e==="to"?1:-1,u=lTe(i),f;try{var h=function(){var d=Qt(f.value,2),v=d[0],b=d[1];if(!i.has(v)||!r(b))return 0;a[v]=0;for(var g=[b],_=0,y,$=function(){var B,T;if(!i.has(v))return 0;var x=a[y.id]+l;if(Mt(B=pi(T=y.edges).call(T,function(U){return U.connected&&U.to!==U.from&&U[e]!==y&&i.has(U.toId)&&i.has(U.fromId)})).call(B,function(U){var O=U[o],F=a[O];(F==null||t(x,F))&&(a[O]=x,g.push(U[e]))}),_>s)return{v:{v:fTe(i,a)}};++_},I;y=g.pop();)if(I=$(),I!==0&&I)return I.v},c;for(u.s();!(f=u.n()).done;)if(c=h(),c!==0&&c)return c.v}catch(m){u.e(m)}finally{u.f()}return a}var mTe=function(){function r(){je(this,r),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return Ue(r,[{key:"addRelation",value:function(e,i){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(i),this.parentReference[i]===void 0&&(this.parentReference[i]=[]),this.parentReference[i].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,i){i!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=i,this.treeIndex=Math.max(i,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var i=this,n={},a=function s(o){if(n[o]!==void 0)return n[o];var l=i.levels[o];if(i.childrenReference[o]){var u=i.childrenReference[o];if(u.length>0)for(var f=0;f<u.length;f++)l=Math.max(l,s(u[f]))}return n[o]=l,l};return a(e)}},{key:"levelDownstream",value:function(e,i){this.levels[i.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[i.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var i=1e9;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.levels[n]!==void 0&&(i=Math.min(this.levels[n],i));for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&this.levels[a]!==void 0&&(this.levels[a]-=i)}},{key:"getTreeSize",value:function(e,i){var n=1e9,a=-1e9,s=1e9,o=-1e9;for(var l in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,l)&&this.trees[l]===i){var u=e[l];n=Math.min(u.x,n),a=Math.max(u.x,a),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:n,max_x:a,min_y:s,max_y:o}}},{key:"hasSameParent",value:function(e,i){var n=this.parentReference[e.id],a=this.parentReference[i.id];if(n===void 0||a===void 0)return!1;for(var s=0;s<n.length;s++)for(var o=0;o<a.length;o++)if(n[s]==a[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,i){return this.trees[e.id]===this.trees[i.id]}},{key:"getLevels",value:function(){return Jt(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,i){this.distributionOrdering[i]===void 0&&(this.distributionOrdering[i]=[]);var n=!1,a=this.distributionOrdering[i];for(var s in a)if(a[s]===e){n=!0;break}n||(this.distributionOrdering[i].push(e),this.distributionIndex[e.id]=this.distributionOrdering[i].length-1)}}]),r}(),pTe=function(){function r(t){je(this,r),this.body=t,this._resetRNG(Math.random()+":"+Mm()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},ur(this.options,this.defaultOptions),this.bindEventListeners()}return Ue(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var i=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",i,!1)}})}},{key:"setOptions",value:function(e,i){if(e!==void 0){var n=this.options.hierarchical,a=n.enabled;if(Fu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Ui(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return a===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(i);if(a===!0)return this.body.emitter.emit("refresh"),zt(i,this.optionsBackup)}return i}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=sd(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var i=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:i.enabled===void 0?!0:i.enabled,solver:"hierarchicalRepulsion"},i.enabled=i.enabled===void 0?!0:i.enabled,i.solver=i.solver||"barnesHut"):Dt(e.physics)==="object"?(i.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,i.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(i.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var a=e.edges.smooth;a.type!==void 0&&a.type!=="dynamic"&&(n=a.type),this.optionsBackup.edges={smooth:{enabled:a.enabled===void 0?!0:a.enabled,type:a.type===void 0?"dynamic":a.type,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}},e.edges.smooth={enabled:a.enabled===void 0?!0:a.enabled,type:n,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var i=e.length+50,n=0;n<e.length;n++){var a=e[n],s=2*Math.PI*this._rng();a.x===void 0&&(a.x=i*Math.cos(s)),a.y===void 0&&(a.y=i*Math.sin(s))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,i=0,n=0;n<e.length;n++){var a=this.body.nodes[e[n]];a.predefinedPosition===!0&&(i+=1)}if(i<.5*e.length){var s=10,o=0,l=this.options.clusterThreshold,u={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>l){for(var f=e.length;e.length>l&&o<=s;){o+=1;var h=e.length;o%3===0?this.body.modules.clustering.clusterBridges(u):this.body.modules.clustering.clusterOutliers(u);var c=e.length;if(h==c&&o%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*f)})}o>s&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var m=70,d=0;d<e.length;d++){var v=this.body.nodes[e[d]];v.predefinedPosition===!1&&(v.x+=(.5-this._rng())*m,v.y+=(.5-this._rng())*m)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=Jr.getRangeCore(this.body.nodes,this.body.nodeIndices),i=Jr.findCenter(e),n=0;n<this.body.nodeIndices.length;n++){var a=this.body.nodes[this.body.nodeIndices[n]];a.x-=i.x,a.y-=i.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var i=0;i<this.body.nodeIndices.length;i++)this.body.nodes[this.body.nodeIndices[i]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[i],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,i,n=!1,a=!1;this.lastNodeOnLevel={},this.hierarchical=new mTe;for(i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&(e=this.body.nodes[i],e.options.level!==void 0?(n=!0,this.hierarchical.levels[i]=e.options.level):a=!0);if(a===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(a===!0){var s=this.options.hierarchical.sortMethod;s==="hubsize"?this._determineLevelsByHubsize():s==="directed"?this._determineLevelsDirected():s==="custom"&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var l=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(l),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,i=!1,n={},a=function(){for(var y=o(),$=0,I=0;I<y.length-1;I++){var A=y[I].max-y[I+1].min;$+=A+e.options.hierarchical.treeSpacing,s(I+1,$)}},s=function(y,$){var I=e.hierarchical.trees;for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&I[A]===y&&e.direction.shift(A,$)},o=function(){for(var y=[],$=0;$<e.hierarchical.numTrees();$++)y.push(e.direction.getTreeSize($));return y},l=function _(y,$){if(!$[y.id]&&($[y.id]=!0,e.hierarchical.childrenReference[y.id])){var I=e.hierarchical.childrenReference[y.id];if(I.length>0)for(var A=0;A<I.length;A++)_(e.body.nodes[I[A]],$)}},u=function(y){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,I=1e9,A=1e9,B=1e9,T=-1e9;for(var x in y)if(Object.prototype.hasOwnProperty.call(y,x)){var U=e.body.nodes[x],O=e.hierarchical.levels[U.id],F=e.direction.getPosition(U),D=e._getSpaceAroundNode(U,y),L=Qt(D,2),H=L[0],Y=L[1];I=Math.min(H,I),A=Math.min(Y,A),O<=$&&(B=Math.min(F,B),T=Math.max(F,T))}return[B,T,I,A]},f=function(y,$){var I=e.hierarchical.getMaxLevel(y.id),A=e.hierarchical.getMaxLevel($.id);return Math.min(I,A)},h=function(y,$,I){for(var A=e.hierarchical,B=0;B<$.length;B++){var T=$[B],x=A.distributionOrdering[T];if(x.length>1)for(var U=0;U<x.length-1;U++){var O=x[U],F=x[U+1];A.hasSameParent(O,F)&&A.inSameSubNetwork(O,F)&&y(O,F,I)}}},c=function(y,$){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A=e.direction.getPosition(y),B=e.direction.getPosition($),T=Math.abs(B-A),x=e.options.hierarchical.nodeSpacing;if(T>x){var U={},O={};l(y,U),l($,O);var F=f(y,$),D=u(U,F),L=u(O,F),H=D[1],Y=L[0],W=L[2],z=Math.abs(H-Y);if(z>x){var ne=H-Y+x;ne<-W+x&&(ne=-W+x),ne<0&&(e._shiftBlock($.id,ne),i=!0,I===!0&&e._centerParent($))}}},m=function(y,$){for(var I=$.id,A=$.edges,B=e.hierarchical.levels[$.id],T=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,x={},U=[],O=0;O<A.length;O++){var F=A[O];if(F.toId!=F.fromId){var D=F.toId==I?F.from:F.to;x[A[O].id]=D,e.hierarchical.levels[D.id]<B&&U.push(F)}}var L=function(K,Q){for(var oe=0,Ae=0;Ae<Q.length;Ae++)if(x[Q[Ae].id]!==void 0){var we=e.direction.getPosition(x[Q[Ae].id])-K;oe+=we/Math.sqrt(we*we+T)}return oe},H=function(K,Q){for(var oe=0,Ae=0;Ae<Q.length;Ae++)if(x[Q[Ae].id]!==void 0){var we=e.direction.getPosition(x[Q[Ae].id])-K;oe-=T*Math.pow(we*we+T,-1.5)}return oe},Y=function(K,Q){for(var oe=e.direction.getPosition($),Ae={},we=0;we<K;we++){var Se=L(oe,Q),Te=H(oe,Q),Ie=40,ce=Math.max(-Ie,Math.min(Ie,Math.round(Se/Te)));if(oe=oe-ce,Ae[oe]!==void 0)break;Ae[oe]=we}return oe},W=function(K){var Q=e.direction.getPosition($);if(n[$.id]===void 0){var oe={};l($,oe),n[$.id]=oe}var Ae=u(n[$.id]),we=Ae[2],Se=Ae[3],Te=K-Q,Ie=0;Te>0?Ie=Math.min(Te,Se-e.options.hierarchical.nodeSpacing):Te<0&&(Ie=-Math.min(-Te,we-e.options.hierarchical.nodeSpacing)),Ie!=0&&(e._shiftBlock($.id,Ie),i=!0)},z=function(K){var Q=e.direction.getPosition($),oe=e._getSpaceAroundNode($),Ae=Qt(oe,2),we=Ae[0],Se=Ae[1],Te=K-Q,Ie=Q;Te>0?Ie=Math.min(Q+(Se-e.options.hierarchical.nodeSpacing),K):Te<0&&(Ie=Math.max(Q-(we-e.options.hierarchical.nodeSpacing),K)),Ie!==Q&&(e.direction.setPosition($,Ie),i=!0)},ne=Y(y,U);W(ne),ne=Y(y,A),z(ne)},d=function(y){var $=e.hierarchical.getLevels();$=$o($).call($);for(var I=0;I<y;I++){i=!1;for(var A=0;A<$.length;A++)for(var B=$[A],T=e.hierarchical.distributionOrdering[B],x=0;x<T.length;x++)m(1e3,T[x]);if(i!==!0)break}},v=function(y){var $=e.hierarchical.getLevels();$=$o($).call($);for(var I=0;I<y&&(i=!1,h(c,$,!0),i===!0);I++);},b=function(){for(var y in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,y)&&e._centerParent(e.body.nodes[y])},g=function(){var y=e.hierarchical.getLevels();y=$o(y).call(y);for(var $=0;$<y.length;$++)for(var I=y[$],A=e.hierarchical.distributionOrdering[I],B=0;B<A.length;B++)e._centerParent(A[B])};this.options.hierarchical.blockShifting===!0&&(v(5),b()),this.options.hierarchical.edgeMinimization===!0&&d(20),this.options.hierarchical.parentCentralization===!0&&g(),a()}},{key:"_getSpaceAroundNode",value:function(e,i){var n=!0;i===void 0&&(n=!1);var a=this.hierarchical.levels[e.id];if(a!==void 0){var s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),l=this.hierarchical.distributionOrdering[a],u=1e9,f=1e9;if(s!==0){var h=l[s-1];if(n===!0&&i[h.id]===void 0||n===!1){var c=this.direction.getPosition(h);u=o-c}}if(s!=l.length-1){var m=l[s+1];if(n===!0&&i[m.id]===void 0||n===!1){var d=this.direction.getPosition(m);f=Math.min(f,d-o)}}return[u,f]}else return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var i=this.hierarchical.parentReference[e.id],n=0;n<i.length;n++){var a=i[n],s=this.body.nodes[a],o=this.hierarchical.childrenReference[a];if(o!==void 0){var l=this._getCenterPosition(o),u=this.direction.getPosition(s),f=this._getSpaceAroundNode(s),h=Qt(f,2),c=h[0],m=h[1],d=u-l;(d<0&&Math.abs(d)<m-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,l)}}}},{key:"_placeNodesByHierarchy",value:function(e){this.positionedNodes={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n,a=Jt(e[i]);a=this._indexArrayToNodes(a),pf(n=this.direction).call(n,a);for(var s=0,o=0;o<a.length;o++){var l=a[o];if(this.positionedNodes[l.id]===void 0){var u=this.options.hierarchical.nodeSpacing,f=u*s;s>0&&(f=this.direction.getPosition(a[o-1])+u),this.direction.setPosition(l,f,i),this._validatePositionAndContinue(l,i,f),s++}}}}},{key:"_placeBranchNodes",value:function(e,i){var n,a=this.hierarchical.childrenReference[e];if(a!==void 0){for(var s=[],o=0;o<a.length;o++)s.push(this.body.nodes[a[o]]);pf(n=this.direction).call(n,s);for(var l=0;l<s.length;l++){var u=s[l],f=this.hierarchical.levels[u.id];if(f>i&&this.positionedNodes[u.id]===void 0){var h=this.options.hierarchical.nodeSpacing,c=void 0;l===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[l-1])+h,this.direction.setPosition(u,c,f),this._validatePositionAndContinue(u,f,c)}else return}var m=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],m,i)}}},{key:"_validatePositionAndContinue",value:function(e,i,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[i]!==void 0){var a=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[i]]);if(n-a<this.options.hierarchical.nodeSpacing){var s=a+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[i],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[i]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,i)}}},{key:"_indexArrayToNodes",value:function(e){for(var i=[],n=0;n<e.length;n++)i.push(this.body.nodes[e[n]]);return i}},{key:"_getDistribution",value:function(){var e={},i,n;for(i in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,i)){n=this.body.nodes[i];var a=this.hierarchical.levels[i]===void 0?0:this.hierarchical.levels[i];this.direction.fix(n,a),e[a]===void 0&&(e[a]={}),e[a][i]=n}return e}},{key:"_getActiveEdges",value:function(e){var i=this,n=[];return ht(e.edges,function(a){var s;$t(s=i.body.edgeIndices).call(s,a.id)!==-1&&n.push(a)}),n}},{key:"_getHubSizes",value:function(){var e=this,i={},n=this.body.nodeIndices;ht(n,function(s){var o=e.body.nodes[s],l=e._getActiveEdges(o).length;i[l]=!0});var a=[];return ht(i,function(s){a.push(Number(s))}),pf(a).call(a,function(s,o){return o-s}),a}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,i=function(l,u){e.hierarchical.levelDownstream(l,u)},n=this._getHubSizes(),a=function(){var l=n[s];if(l===0)return 1;ht(e.body.nodeIndices,function(u){var f=e.body.nodes[u];l===e._getActiveEdges(f).length&&e._crawlNetwork(i,u)})},s=0;s<n.length&&!a();++s);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this,i=1e5,n=function(o,l,u){},a=function(o,l,u){var f=e.hierarchical.levels[o.id];f===void 0&&(f=e.hierarchical.levels[o.id]=i);var h=n(Jr.cloneOptions(o,"node"),Jr.cloneOptions(l,"node"),Jr.cloneOptions(u,"edge"));e.hierarchical.levels[l.id]=f+h};this._crawlNetwork(a),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,i=this,n=EI(e=this.body.nodeIndices).call(e,function(a,s){return a.set(s,i.body.nodes[s]),a},new VA);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=hTe(n):this.hierarchical.levels=cTe(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this,i=function(a,s){e.hierarchical.levels[s.id]>e.hierarchical.levels[a.id]&&e.hierarchical.addRelation(a.id,s.id)};this._crawlNetwork(i),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,a={},s=function c(m,d){if(a[m.id]===void 0){e.hierarchical.setTreeIndex(m,d),a[m.id]=!0;for(var v,b=e._getActiveEdges(m),g=0;g<b.length;g++){var _=b[g];_.connected===!0&&(_.toId==m.id?v=_.from:v=_.to,m.id!=v.id&&(i(m,v,_),c(v,d)))}}};if(n===void 0)for(var o=0,l=0;l<this.body.nodeIndices.length;l++){var u=this.body.nodeIndices[l];if(a[u]===void 0){var f=this.body.nodes[u];s(f,o),o+=1}}else{var h=this.body.nodes[n];if(h===void 0){console.error("Node not found:",n);return}s(h)}}},{key:"_shiftBlock",value:function(e,i){var n=this,a={},s=function o(l){if(!a[l]){a[l]=!0,n.direction.shift(l,i);var u=n.hierarchical.childrenReference[l];if(u!==void 0)for(var f=0;f<u.length;f++)o(u[f])}};s(e)}},{key:"_findCommonParent",value:function(e,i){var n=this,a={},s=function l(u,f){var h=n.hierarchical.parentReference[f];if(h!==void 0)for(var c=0;c<h.length;c++){var m=h[c];u[m]=!0,l(u,m)}},o=function l(u,f){var h=n.hierarchical.parentReference[f];if(h!==void 0)for(var c=0;c<h.length;c++){var m=h[c];if(u[m]!==void 0)return{foundParent:m,withChild:f};var d=l(u,m);if(d.foundParent!==null)return d}return{foundParent:null,withChild:f}};return s(a,e),o(a,i)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";e?this.direction=new Xke(this):this.direction=new Kke(this)}},{key:"_getCenterPosition",value:function(e){for(var i=1e9,n=-1e9,a=0;a<e.length;a++){var s=void 0;if(e[a].id!==void 0)s=e[a];else{var o=e[a];s=this.body.nodes[o]}var l=this.direction.getPosition(s);i=Math.min(i,l),n=Math.max(n,l)}return .5*(i+n)}}]),r}();function dTe(r,t){var e=typeof Xs<"u"&&Qo(r)||r["@@iterator"];if(!e){if(Ct(r)||(e=vTe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function vTe(r,t){var e;if(r){if(typeof r=="string")return d7(r,t);var i=jr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Jo(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return d7(r,t)}}function d7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var gTe=function(){function r(t,e,i,n){var a=this,s,o;je(this,r),this.body=t,this.canvas=e,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},ur(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){a._clean()}),this.body.emitter.on("_dataChanged",Me(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",Me(o=this._restore).call(o,this))}return Ue(r,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,i,n){i!==void 0&&(i.locale!==void 0?this.options.locale=i.locale:this.options.locale=n.locale,i.locales!==void 0?this.options.locales=i.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,zt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,i;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),a=this.selectionHandler.getSelectedEdgeCount(),s=n+a,o=this.options.locales[this.options.locale],l=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),l=!0),this.options.addEdge!==!1&&(l===!0?this._createSeperator(1):l=!0,this._createAddEdgeButton(o)),n===1&&typeof this.options.editNode=="function"?(l===!0?this._createSeperator(2):l=!0,this._createEditNodeButton(o)):a===1&&n===0&&this.options.editEdge!==!1&&(l===!0?this._createSeperator(3):l=!0,this._createEditEdgeButton(o)),s!==0&&(n>0&&this.options.deleteNode!==!1?(l===!0&&this._createSeperator(4),this._createDeleteButton(o)):n===0&&this.options.deleteEdge!==!1&&(l===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,Me(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Me(i=this.showManipulatorToolbar).call(i,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var i,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Me(i=this.toggleEditMode).call(i,this))}this._temporaryBindEvent("click",Me(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var i=this.selectionHandler.getSelectedNodes()[0];if(i!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(i.isCluster!==!0){var n=zt({},i.options,!1);if(n.x=i.x,n.y=i.y,this.options.editNode.length===2)this.options.editNode(n,function(a){a!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(a),e.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,i,n,a,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Me(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",Me(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Me(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDrag",Me(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Me(a=this._finishConnect).call(a,this)),this._temporaryBindUI("onDragStart",Me(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",Dt(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from.id,e.to.id);return}if(this.guiEnabled===!0){var i,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Me(i=this.toggleEditMode).call(i,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var a,s,o,l,u=this.body.edges[this.edgeBeingEditedId],f=this._getNewTargetNode(u.from.x,u.from.y),h=this._getNewTargetNode(u.to.x,u.to.y);this.temporaryIds.nodes.push(f.id),this.temporaryIds.nodes.push(h.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this._temporaryBindUI("onTouch",Me(a=this._controlNodeTouch).call(a,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",Me(s=this._controlNodeDragStart).call(s,this)),this._temporaryBindUI("onDrag",Me(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",Me(l=this._controlNodeDragEnd).call(l,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(c){var m=u.edgeType.findBorderPositions(c);f.selected===!1&&(f.x=m.from.x,f.y=m.from.y),h.selected===!1&&(h.x=m.to.x,h.y=m.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var i=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),a=void 0;if(i.length>0){for(var s=0;s<i.length;s++)if(this.body.nodes[i[s]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(a=this.options.deleteNode)}else n.length>0&&typeof this.options.deleteEdge=="function"&&(a=this.options.deleteEdge);if(typeof a=="function"){var o={nodes:i,edges:n};if(a.length===2)a(o,function(l){l!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(l.edges),e.body.data.nodes.getDataSet().remove(l.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(i),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,i;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(i=this.options.locales[this.options.locale])===null||i===void 0?void 0:i.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(e,i){var n=zt({},this.options.controlNodeStyle);n.id="targetNode"+hf(),n.hidden=!1,n.physics=!1,n.x=e,n.y=i;var a=this.body.functions.createNode(n);return a.shape.boundingBox={left:e,right:e,top:i,bottom:i},a}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},ms(this.editModeDiv);var i=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",i.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Me(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(ms(this.editModeDiv),ms(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,i=dTe(aa(e=this._domEventListenerCleanupQueue).call(e,0)),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;a()}}catch(s){i.e(s)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),ms(this.manipulationDiv),ms(this.editModeDiv),ms(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var i,n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Me(i=this.addNodeMode).call(i,this))}},{key:"_createAddEdgeButton",value:function(e){var i,n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Me(i=this.addEdgeMode).call(i,this))}},{key:"_createEditNodeButton",value:function(e){var i,n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Me(i=this.editNode).call(i,this))}},{key:"_createEditEdgeButton",value:function(e){var i,n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Me(i=this.editEdgeMode).call(i,this))}},{key:"_createDeleteButton",value:function(e){var i,n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";var a=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,Me(i=this.deleteSelected).call(i,this))}},{key:"_createBackButton",value:function(e){var i,n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Me(i=this.showManipulatorToolbar).call(i,this))}},{key:"_createButton",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+i,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=a,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,i){this.temporaryEventFunctions.push({event:e,boundFunction:i}),this.body.emitter.on(e,i)}},{key:"_temporaryBindUI",value:function(e,i){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=i;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Dc(Jt(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var i=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(i,n)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,i){var n=new Ul(e,{});Hm(n,i),this._domEventListenerCleanupQueue.push(function(){n.destroy()});var a=function(o){var l=o.keyCode,u=o.key;(u==="Enter"||u===" "||l===13||l===32)&&i()};e.addEventListener("keyup",a,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",a,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var i;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var n=$t(i=this.body.edgeIndices).call(i,this.temporaryIds.edges[e]);if(n!==-1){var a;aa(a=this.body.edgeIndices).call(a,n,1)}}for(var s=0;s<this.temporaryIds.nodes.length;s++){var o;delete this.body.nodes[this.temporaryIds.nodes[s]];var l=$t(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[s]);if(l!==-1){var u;aa(u=this.body.nodeIndices).call(u,l,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=ur({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],a=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(i),l=a.isOverlappingWith(i);o===!0?(this.selectedControlNode=n,s.edgeType.from=n):l===!0&&(this.selectedControlNode=a,s.edgeType.to=a),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var i=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(i);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),a=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=s.length-1;l>=0;l--)if(s[l]!==this.selectedControlNode.id){o=this.body.nodes[s[l]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var u=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===u.id?this._performEditEdge(o.id,a.to.id):this._performEditEdge(a.from.id,o.id)}else a.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=ur({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var i=this.lastTouch,n=this.selectionHandler.getNodeAt(i);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this._getNewTargetNode(n.x,n.y);this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id);var s=this.body.functions.createEdge({id:"connectionEdge"+hf(),from:n.id,to:a.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(a.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=s.length-1;l>=0;l--){var u;if($t(u=this.temporaryIds.nodes).call(u,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:a,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,i),this.temporaryIds.nodes[0]!==void 0){var f=this.body.nodes[this.temporaryIds.nodes[0]];f.x=this.canvas._XconvertDOMtoCanvas(i.x),f.y=this.canvas._YconvertDOMtoCanvas(i.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=s.length-1;l>=0;l--){var u;if($t(u=this.temporaryIds.nodes).call(u,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[a]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(a,o.id)),e.controlEdge={from:a,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,i),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var i=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,i,void 0,!0)}},{key:"_performAddNode",value:function(e){var i=this,n={id:hf(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(n,function(a){a!=null&&i.inMode==="addNode"&&i.body.data.nodes.getDataSet().add(a),i.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,i){var n=this,a={from:e,to:i};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(a,function(s){s!=null&&n.inMode==="addEdge"&&(n.body.data.edges.getDataSet().add(s),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,i){var n=this,a={id:this.edgeBeingEditedId,from:e,to:i,label:this.body.data.edges.get(this.edgeBeingEditedId).label},s=this.options.editEdge;if(Dt(s)==="object"&&(s=s.editWithoutDrag),typeof s=="function")if(s.length===2)s(a,function(o){o==null||n.inMode!=="editEdge"?(n.body.edges[a.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(o),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),r}(),ze="string",Ne="boolean",$e="number",ef="array",Je="object",II="dom",bTe="any",Sg=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Eg={borderWidth:{number:$e},borderWidthSelected:{number:$e,undefined:"undefined"},brokenImage:{string:ze,undefined:"undefined"},chosen:{label:{boolean:Ne,function:"function"},node:{boolean:Ne,function:"function"},__type__:{object:Je,boolean:Ne}},color:{border:{string:ze},background:{string:ze},highlight:{border:{string:ze},background:{string:ze},__type__:{object:Je,string:ze}},hover:{border:{string:ze},background:{string:ze},__type__:{object:Je,string:ze}},__type__:{object:Je,string:ze}},opacity:{number:$e,undefined:"undefined"},fixed:{x:{boolean:Ne},y:{boolean:Ne},__type__:{object:Je,boolean:Ne}},font:{align:{string:ze},color:{string:ze},size:{number:$e},face:{string:ze},background:{string:ze},strokeWidth:{number:$e},strokeColor:{string:ze},vadjust:{number:$e},multi:{boolean:Ne,string:ze},bold:{color:{string:ze},size:{number:$e},face:{string:ze},mod:{string:ze},vadjust:{number:$e},__type__:{object:Je,string:ze}},boldital:{color:{string:ze},size:{number:$e},face:{string:ze},mod:{string:ze},vadjust:{number:$e},__type__:{object:Je,string:ze}},ital:{color:{string:ze},size:{number:$e},face:{string:ze},mod:{string:ze},vadjust:{number:$e},__type__:{object:Je,string:ze}},mono:{color:{string:ze},size:{number:$e},face:{string:ze},mod:{string:ze},vadjust:{number:$e},__type__:{object:Je,string:ze}},__type__:{object:Je,string:ze}},group:{string:ze,number:$e,undefined:"undefined"},heightConstraint:{minimum:{number:$e},valign:{string:ze},__type__:{object:Je,boolean:Ne,number:$e}},hidden:{boolean:Ne},icon:{face:{string:ze},code:{string:ze},size:{number:$e},color:{string:ze},weight:{string:ze,number:$e},__type__:{object:Je}},id:{string:ze,number:$e},image:{selected:{string:ze,undefined:"undefined"},unselected:{string:ze,undefined:"undefined"},__type__:{object:Je,string:ze}},imagePadding:{top:{number:$e},right:{number:$e},bottom:{number:$e},left:{number:$e},__type__:{object:Je,number:$e}},label:{string:ze,undefined:"undefined"},labelHighlightBold:{boolean:Ne},level:{number:$e,undefined:"undefined"},margin:{top:{number:$e},right:{number:$e},bottom:{number:$e},left:{number:$e},__type__:{object:Je,number:$e}},mass:{number:$e},physics:{boolean:Ne},scaling:{min:{number:$e},max:{number:$e},label:{enabled:{boolean:Ne},min:{number:$e},max:{number:$e},maxVisible:{number:$e},drawThreshold:{number:$e},__type__:{object:Je,boolean:Ne}},customScalingFunction:{function:"function"},__type__:{object:Je}},shadow:{enabled:{boolean:Ne},color:{string:ze},size:{number:$e},x:{number:$e},y:{number:$e},__type__:{object:Je,boolean:Ne}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Ne,array:ef},borderRadius:{number:$e},interpolation:{boolean:Ne},useImageSize:{boolean:Ne},useBorderWithImage:{boolean:Ne},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Je}},size:{number:$e},title:{string:ze,dom:II,undefined:"undefined"},value:{number:$e,undefined:"undefined"},widthConstraint:{minimum:{number:$e},maximum:{number:$e},__type__:{object:Je,boolean:Ne,number:$e}},x:{number:$e},y:{number:$e},__type__:{object:Je}},yTe={configure:{enabled:{boolean:Ne},filter:{boolean:Ne,string:ze,array:ef,function:"function"},container:{dom:II},showButton:{boolean:Ne},__type__:{object:Je,boolean:Ne,string:ze,array:ef,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Ne},scaleFactor:{number:$e},type:{string:Sg},imageHeight:{number:$e},imageWidth:{number:$e},src:{string:ze},__type__:{object:Je,boolean:Ne}},middle:{enabled:{boolean:Ne},scaleFactor:{number:$e},type:{string:Sg},imageWidth:{number:$e},imageHeight:{number:$e},src:{string:ze},__type__:{object:Je,boolean:Ne}},from:{enabled:{boolean:Ne},scaleFactor:{number:$e},type:{string:Sg},imageWidth:{number:$e},imageHeight:{number:$e},src:{string:ze},__type__:{object:Je,boolean:Ne}},__type__:{string:["from","to","middle"],object:Je}},endPointOffset:{from:{number:$e},to:{number:$e},__type__:{object:Je,number:$e}},arrowStrikethrough:{boolean:Ne},background:{enabled:{boolean:Ne},color:{string:ze},size:{number:$e},dashes:{boolean:Ne,array:ef},__type__:{object:Je,boolean:Ne}},chosen:{label:{boolean:Ne,function:"function"},edge:{boolean:Ne,function:"function"},__type__:{object:Je,boolean:Ne}},color:{color:{string:ze},highlight:{string:ze},hover:{string:ze},inherit:{string:["from","to","both"],boolean:Ne},opacity:{number:$e},__type__:{object:Je,string:ze}},dashes:{boolean:Ne,array:ef},font:{color:{string:ze},size:{number:$e},face:{string:ze},background:{string:ze},strokeWidth:{number:$e},strokeColor:{string:ze},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:$e},multi:{boolean:Ne,string:ze},bold:{color:{string:ze},size:{number:$e},face:{string:ze},mod:{string:ze},vadjust:{number:$e},__type__:{object:Je,string:ze}},boldital:{color:{string:ze},size:{number:$e},face:{string:ze},mod:{string:ze},vadjust:{number:$e},__type__:{object:Je,string:ze}},ital:{color:{string:ze},size:{number:$e},face:{string:ze},mod:{string:ze},vadjust:{number:$e},__type__:{object:Je,string:ze}},mono:{color:{string:ze},size:{number:$e},face:{string:ze},mod:{string:ze},vadjust:{number:$e},__type__:{object:Je,string:ze}},__type__:{object:Je,string:ze}},hidden:{boolean:Ne},hoverWidth:{function:"function",number:$e},label:{string:ze,undefined:"undefined"},labelHighlightBold:{boolean:Ne},length:{number:$e,undefined:"undefined"},physics:{boolean:Ne},scaling:{min:{number:$e},max:{number:$e},label:{enabled:{boolean:Ne},min:{number:$e},max:{number:$e},maxVisible:{number:$e},drawThreshold:{number:$e},__type__:{object:Je,boolean:Ne}},customScalingFunction:{function:"function"},__type__:{object:Je}},selectionWidth:{function:"function",number:$e},selfReferenceSize:{number:$e},selfReference:{size:{number:$e},angle:{number:$e},renderBehindTheNode:{boolean:Ne},__type__:{object:Je}},shadow:{enabled:{boolean:Ne},color:{string:ze},size:{number:$e},x:{number:$e},y:{number:$e},__type__:{object:Je,boolean:Ne}},smooth:{enabled:{boolean:Ne},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:$e},forceDirection:{string:["horizontal","vertical","none"],boolean:Ne},__type__:{object:Je,boolean:Ne}},title:{string:ze,undefined:"undefined"},width:{number:$e},widthConstraint:{maximum:{number:$e},__type__:{object:Je,boolean:Ne,number:$e}},value:{number:$e,undefined:"undefined"},__type__:{object:Je}},groups:{useDefaultGroups:{boolean:Ne},__any__:Eg,__type__:{object:Je}},interaction:{dragNodes:{boolean:Ne},dragView:{boolean:Ne},hideEdgesOnDrag:{boolean:Ne},hideEdgesOnZoom:{boolean:Ne},hideNodesOnDrag:{boolean:Ne},hover:{boolean:Ne},keyboard:{enabled:{boolean:Ne},speed:{x:{number:$e},y:{number:$e},zoom:{number:$e},__type__:{object:Je}},bindToWindow:{boolean:Ne},autoFocus:{boolean:Ne},__type__:{object:Je,boolean:Ne}},multiselect:{boolean:Ne},navigationButtons:{boolean:Ne},selectable:{boolean:Ne},selectConnectedEdges:{boolean:Ne},hoverConnectedEdges:{boolean:Ne},tooltipDelay:{number:$e},zoomView:{boolean:Ne},zoomSpeed:{number:$e},__type__:{object:Je}},layout:{randomSeed:{undefined:"undefined",number:$e,string:ze},improvedLayout:{boolean:Ne},clusterThreshold:{number:$e},hierarchical:{enabled:{boolean:Ne},levelSeparation:{number:$e},nodeSpacing:{number:$e},treeSpacing:{number:$e},blockShifting:{boolean:Ne},edgeMinimization:{boolean:Ne},parentCentralization:{boolean:Ne},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Je,boolean:Ne}},__type__:{object:Je}},manipulation:{enabled:{boolean:Ne},initiallyActive:{boolean:Ne},addNode:{boolean:Ne,function:"function"},addEdge:{boolean:Ne,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Je,boolean:Ne,function:"function"}},deleteNode:{boolean:Ne,function:"function"},deleteEdge:{boolean:Ne,function:"function"},controlNodeStyle:Eg,__type__:{object:Je,boolean:Ne}},nodes:Eg,physics:{enabled:{boolean:Ne},barnesHut:{theta:{number:$e},gravitationalConstant:{number:$e},centralGravity:{number:$e},springLength:{number:$e},springConstant:{number:$e},damping:{number:$e},avoidOverlap:{number:$e},__type__:{object:Je}},forceAtlas2Based:{theta:{number:$e},gravitationalConstant:{number:$e},centralGravity:{number:$e},springLength:{number:$e},springConstant:{number:$e},damping:{number:$e},avoidOverlap:{number:$e},__type__:{object:Je}},repulsion:{centralGravity:{number:$e},springLength:{number:$e},springConstant:{number:$e},nodeDistance:{number:$e},damping:{number:$e},__type__:{object:Je}},hierarchicalRepulsion:{centralGravity:{number:$e},springLength:{number:$e},springConstant:{number:$e},nodeDistance:{number:$e},damping:{number:$e},avoidOverlap:{number:$e},__type__:{object:Je}},maxVelocity:{number:$e},minVelocity:{number:$e},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Ne},iterations:{number:$e},updateInterval:{number:$e},onlyDynamicEdges:{boolean:Ne},fit:{boolean:Ne},__type__:{object:Je,boolean:Ne}},timestep:{number:$e},adaptiveTimestep:{boolean:Ne},wind:{x:{number:$e},y:{number:$e},__type__:{object:Je}},__type__:{object:Je,boolean:Ne}},autoResize:{boolean:Ne},clickToUse:{boolean:Ne},locale:{string:ze},locales:{__any__:{any:bTe},__type__:{object:Je}},height:{string:ze},width:{string:ze},__type__:{object:Je}},CI={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},$Te=function(t,e,i){var n;return!!(ks(t).call(t,"physics")&&ks(n=CI.physics.solver).call(n,e)&&i.physics.solver!==e&&e!=="wind")},_Te=function(){function r(){je(this,r)}return Ue(r,[{key:"getDistances",value:function(e,i,n){for(var a={},s=e.edges,o=0;o<i.length;o++){var l=i[o],u={};a[l]=u;for(var f=0;f<i.length;f++)u[i[f]]=o==f?0:1e9}for(var h=0;h<n.length;h++){var c=s[n[h]];c.connected===!0&&a[c.fromId]!==void 0&&a[c.toId]!==void 0&&(a[c.fromId][c.toId]=1,a[c.toId][c.fromId]=1)}for(var m=i.length,d=0;d<m;d++)for(var v=i[d],b=a[v],g=0;g<m-1;g++)for(var _=i[g],y=a[_],$=g+1;$<m;$++){var I=i[$],A=a[I],B=Math.min(y[I],y[v]+b[I]);y[I]=B,A[_]=B}return a}}]),r}(),wTe=function(){function r(t,e,i){je(this,r),this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new _Te}return Ue(r,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.distanceSolver.getDistances(this.body,e,i);this._createL_matrix(a),this._createK_matrix(a),this._createE_matrix();for(var s=.01,o=1,l=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),f=5,h=1e9,c=0,m=0,d=0,v=0,b=0;h>s&&l<u;){l+=1;var g=this._getHighestEnergyNode(n),_=Qt(g,4);for(c=_[0],h=_[1],m=_[2],d=_[3],v=h,b=0;v>o&&b<f;){b+=1,this._moveNode(c,m,d);var y=this._getEnergy(c),$=Qt(y,3);v=$[0],m=$[1],d=$[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var i=this.body.nodeIndices,n=this.body.nodes,a=0,s=i[0],o=0,l=0,u=0;u<i.length;u++){var f=i[u];if(n[f].predefinedPosition!==!0||n[f].isCluster===!0&&e===!0||n[f].options.fixed.x!==!0||n[f].options.fixed.y!==!0){var h=this._getEnergy(f),c=Qt(h,3),m=c[0],d=c[1],v=c[2];a<m&&(a=m,s=f,o=d,l=v)}}return[s,a,o,l]}},{key:"_getEnergy",value:function(e){var i=Qt(this.E_sums[e],2),n=i[0],a=i[1],s=Math.sqrt(Math.pow(n,2)+Math.pow(a,2));return[s,n,a]}},{key:"_moveNode",value:function(e,i,n){for(var a=this.body.nodeIndices,s=this.body.nodes,o=0,l=0,u=0,f=s[e].x,h=s[e].y,c=this.K_matrix[e],m=this.L_matrix[e],d=0;d<a.length;d++){var v=a[d];if(v!==e){var b=s[v].x,g=s[v].y,_=c[v],y=m[v],$=1/Math.pow(Math.pow(f-b,2)+Math.pow(h-g,2),1.5);o+=_*(1-y*Math.pow(h-g,2)*$),l+=_*(y*(f-b)*(h-g)*$),u+=_*(1-y*Math.pow(f-b,2)*$)}}var I=o,A=l,B=i,T=u,x=n,U=(B/I+x/A)/(A/I-T/A),O=-(A*U+B)/I;s[e].x+=O,s[e].y+=U,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var i=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var a=0;a<i.length;a++){this.L_matrix[i[a]]={};for(var s=0;s<i.length;s++)this.L_matrix[i[a]][i[s]]=n*e[i[a]][i[s]]}}},{key:"_createK_matrix",value:function(e){var i=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var a=0;a<i.length;a++){this.K_matrix[i[a]]={};for(var s=0;s<i.length;s++)this.K_matrix[i[a]][i[s]]=n*Math.pow(e[i[a]][i[s]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,i=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(var a=0;a<e.length;a++){for(var s=e[a],o=i[s].x,l=i[s].y,u=0,f=0,h=a;h<e.length;h++){var c=e[h];if(c!==s){var m=i[c].x,d=i[c].y,v=1/Math.sqrt(Math.pow(o-m,2)+Math.pow(l-d,2));this.E_matrix[s][h]=[this.K_matrix[s][c]*(o-m-this.L_matrix[s][c]*(o-m)*v),this.K_matrix[s][c]*(l-d-this.L_matrix[s][c]*(l-d)*v)],this.E_matrix[c][a]=this.E_matrix[s][h],u+=this.E_matrix[s][h][0],f+=this.E_matrix[s][h][1]}}this.E_sums[s]=[u,f]}}},{key:"_updateE_matrix",value:function(e){for(var i=this.body.nodeIndices,n=this.body.nodes,a=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],l=n[e].x,u=n[e].y,f=0,h=0,c=0;c<i.length;c++){var m=i[c];if(m!==e){var d=a[c],v=d[0],b=d[1],g=n[m].x,_=n[m].y,y=1/Math.sqrt(Math.pow(l-g,2)+Math.pow(u-_,2)),$=s[m]*(l-g-o[m]*(l-g)*y),I=s[m]*(u-_-o[m]*(u-_)*y);a[c]=[$,I],f+=$,h+=I;var A=this.E_sums[m];A[0]+=$-v,A[1]+=I-b}}this.E_sums[e]=[f,h]}}]),r}();function Ye(r,t,e){var i,n,a,s,o=this;if(!(this instanceof Ye))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:y3e,clickToUse:!1},ur(this.options,this.defaultOptions),this.body={container:r,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Me(i=this.on).call(i,this),off:Me(n=this.off).call(n,this),emit:Me(a=this.emit).call(a,this),once:Me(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new w3e(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new z5e,this.canvas=new rEe(this.body),this.selectionHandler=new GEe(this.body,this.canvas),this.interactionHandler=new lEe(this.body,this.canvas,this.selectionHandler),this.view=new nEe(this.body,this.canvas),this.renderer=new J8e(this.body,this.canvas),this.physics=new j8e(this.body),this.layoutEngine=new pTe(this.body),this.clustering=new K8e(this.body),this.manipulation=new gTe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new SSe(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new C8e(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new wTe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(e),this.setData(t)}I9(Ye.prototype);Ye.prototype.setOptions=function(r){var t=this;if(r===null&&(r=void 0),r!==void 0){var e=Ywe.validate(r,yTe);e===!0&&console.error("%cErrors have been found in the supplied options object.",DA);var i=["locale","locales","clickToUse"];if(Fu(i,this.options,r),r.locale!==void 0&&(r.locale=$3e(r.locales||this.options.locales,r.locale)),r=this.layoutEngine.setOptions(r.layout,r),this.canvas.setOptions(r),this.groups.setOptions(r.groups),this.nodesHandler.setOptions(r.nodes),this.edgesHandler.setOptions(r.edges),this.physics.setOptions(r.physics),this.manipulation.setOptions(r.manipulation,r,this.options),this.interactionHandler.setOptions(r.interaction),this.renderer.setOptions(r.interaction),this.selectionHandler.setOptions(r.interaction),r.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in r&&(this.configurator||(this.configurator=new Xwe(this,this.body.container,CI,this.canvas.pixelRatio,$Te)),this.configurator.setOptions(r.configure)),this.configurator&&this.configurator.options.enabled===!0){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};zt(n.nodes,this.nodesHandler.options),zt(n.edges,this.edgesHandler.options),zt(n.layout,this.layoutEngine.options),zt(n.interaction,this.selectionHandler.options),zt(n.interaction,this.renderer.options),zt(n.interaction,this.interactionHandler.options),zt(n.manipulation,this.manipulation.options),zt(n.physics,this.physics.options),zt(n.global,this.canvas.options),zt(n.global,this.options),this.configurator.setModuleOptions(n)}r.clickToUse!==void 0?r.clickToUse===!0?this.activator===void 0&&(this.activator=new Vwe(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};Ye.prototype._updateVisibleIndices=function(){var r=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&!this.clustering._isClusteredNode(e)&&r[e].options.hidden===!1&&this.body.nodeIndices.push(r[e].id);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i],a=r[n.fromId],s=r[n.toId],o=a!==void 0&&s!==void 0,l=!this.clustering._isClusteredEdge(i)&&n.options.hidden===!1&&o&&a.options.hidden===!1&&s.options.hidden===!1;l&&this.body.edgeIndices.push(n.id)}};Ye.prototype.bindEventListeners=function(){var r=this;this.body.emitter.on("_dataChanged",function(){r.edgesHandler._updateState(),r.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){r.clustering._updateState(),r._updateVisibleIndices(),r._updateValueRange(r.body.nodes),r._updateValueRange(r.body.edges),r.body.emitter.emit("startSimulation"),r.body.emitter.emit("_requestRedraw")})};Ye.prototype.setData=function(r){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),r&&r.dot&&(r.nodes||r.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(r&&r.options),r&&r.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=s3e(r.dot);this.setData(t);return}else if(r&&r.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var e=o3e(r.gephi);this.setData(e);return}else this.nodesHandler.setData(r&&r.nodes,!0),this.edgesHandler.setData(r&&r.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};Ye.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&delete this.body.nodes[r];for(var t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];ms(this.body.container)};Ye.prototype._updateValueRange=function(r){var t,e=void 0,i=void 0,n=0;for(t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var a=r[t].getValue();a!==void 0&&(e=e===void 0?a:Math.min(a,e),i=i===void 0?a:Math.max(a,i),n+=a)}if(e!==void 0&&i!==void 0)for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&r[t].setValueRange(e,i,n)};Ye.prototype.isActive=function(){return!this.activator||this.activator.active};Ye.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Ye.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Ye.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Ye.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Ye.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Ye.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Ye.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Ye.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Ye.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Ye.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Ye.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Ye.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Ye.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Ye.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Ye.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Ye.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Ye.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Ye.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Ye.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Ye.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Ye.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Ye.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};Ye.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Ye.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Ye.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Ye.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Ye.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Ye.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Ye.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Ye.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Ye.prototype.getConnectedNodes=function(r){return this.body.nodes[r]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};Ye.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Ye.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Ye.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Ye.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Ye.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Ye.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Ye.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Ye.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Ye.prototype.getNodeAt=function(){var r=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Ye.prototype.getEdgeAt=function(){var r=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Ye.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Ye.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Ye.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};Ye.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Ye.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Ye.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Ye.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Ye.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Ye.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Ye.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Ye.prototype.getOptionsFromConfigurator=function(){var r={};return this.configurator&&(r=this.configurator.getOptions.apply(this.configurator)),r};function xTe(r){let t,e,i,n;return As(r[13]),{c(){t=de("div"),this.h()},l(a){t=ve(a,"DIV",{class:!0,style:!0}),He(t).forEach(S),this.h()},h(){pe(t,"class","fixedNodeGraph canvasBreadcrumb svelte-hrzyxh"),pe(t,"style",e=`width:${r[2]}px;height:${r[1]}px;`)},m(a,s){C(a,t,s),r[14](t),i||(n=pt(window,"resize",r[13]),i=!0)},p(a,[s]){s&6&&e!==(e=`width:${a[2]}px;height:${a[1]}px;`)&&pe(t,"style",e)},i:ye,o:ye,d(a){a&&S(t),r[14](null),i=!1,n()}}}const xl=30;function STe(r,t,e){let i,n,a,s,o,l,{nodes:u}=t,{edges:f}=t,{boldEdges:h=[]}=t,{directed:c=!1}=t,{width:m=500}=t,{height:d=350}=t,{options:v={}}=t,b;v={interaction:{zoomView:!1,dragView:!1}},c&&(v.edges={arrows:"to"});let g;Wm(()=>{const $={nodes:o,edges:l};new Ye(g,$,v)});function _(){e(0,b=window.innerWidth)}function y($){Is[$?"unshift":"push"](()=>{g=$,e(3,g)})}return r.$$set=$=>{"nodes"in $&&e(5,u=$.nodes),"edges"in $&&e(6,f=$.edges),"boldEdges"in $&&e(7,h=$.boldEdges),"directed"in $&&e(8,c=$.directed),"width"in $&&e(9,m=$.width),"height"in $&&e(10,d=$.height),"options"in $&&e(4,v=$.options)},r.$$.update=()=>{r.$$.dirty&513&&e(2,i=Math.min(m,Math.max(.8*b||999999,250))),r.$$.dirty&1540&&e(1,n=i*(d/m)),r.$$.dirty&4&&e(12,a=i-xl),r.$$.dirty&2&&e(11,s=n-xl),r.$$.dirty&6176&&(o=u.map($=>($=JSON.parse(JSON.stringify($)),$.fixed=!0,$.x=$.x*a,$.y=-$.y*s,$.widthConstraint={minimum:xl,maximum:xl},$.heightConstraint={minimum:xl,maximum:xl},$.font={size:20},$.label||($.label=`${$.id}`),$))),r.$$.dirty&192&&(l=f.map($=>{const I={};if(typeof $=="string"){h.includes($)&&(I.width=5);const A=$.split("-");$={from:parseInt(A[0]),to:parseInt(A[1])}}return{...$,...I}}))},[b,n,i,g,v,u,f,h,c,m,d,s,a,_,y]}class cd extends Ot{constructor(t){super(),At(this,t,STe,xTe,St,{nodes:5,edges:6,boldEdges:7,directed:8,width:9,height:10,options:4})}}const PI=(r,t,e)=>{t=e+":"+t;const i=`${Lu(Lr).hierarchy.length}`;let n=i;Object.keys(Lu(Lr).dispSecNums).includes(i)&&(n=Lu(Lr).dispSecNums[i]),Object.keys(Lu(r).secCounts).includes(i+"")||r.update(s=>(s.secCounts[i]=0,s)),r.update(s=>(s.secCounts[i]+=1,s));const a=n+"."+Lu(r).secCounts[i];return r.update(s=>(s.numbers[t]=a,s)),t},ETe=r=>({}),v7=r=>({});function g7(r){let t,e,i,n,a;return{c(){t=de("a"),e=R("↩︎"),this.h()},l(s){t=ve(s,"A",{style:!0,href:!0});var o=He(t);e=M(o,"↩︎"),o.forEach(S),this.h()},h(){Rt(t,"float","right"),Rt(t,"font-size","1.4rem"),pe(t,"href",i="#"+r[1])},m(s,o){C(s,t,o),fe(t,e),n||(a=pt(t,"click",r[6]),n=!0)},p(s,o){o&2&&i!==(i="#"+s[1])&&pe(t,"href",i)},d(s){s&&S(t),n=!1,a()}}}function kTe(r){let t,e,i,n,a,s,o,l,u,f,h;const c=r[5].default,m=wr(c,r,r[4],null),d=r[5].caption,v=wr(d,r,r[4],v7);let b=!!r[1]&&g7(r);return{c(){t=de("div"),m&&m.c(),e=Ee(),i=de("div"),n=de("b"),a=R("Figure "),s=R(r[2]),o=R(":"),l=Ee(),v&&v.c(),u=Ee(),b&&b.c(),f=vt(),this.h()},l(g){t=ve(g,"DIV",{class:!0,id:!0});var _=He(t);m&&m.l(_),e=ke(_),i=ve(_,"DIV",{class:!0});var y=He(i);n=ve(y,"B",{});var $=He(n);a=M($,"Figure "),s=M($,r[2]),o=M($,":"),$.forEach(S),l=ke(y),v&&v.l(y),y.forEach(S),_.forEach(S),u=ke(g),b&&b.l(g),f=vt(),this.h()},h(){pe(i,"class","caption svelte-rlxukd"),pe(t,"class","figDiv svelte-rlxukd"),pe(t,"id",r[0])},m(g,_){C(g,t,_),m&&m.m(t,null),fe(t,e),fe(t,i),fe(i,n),fe(n,a),fe(n,s),fe(n,o),fe(i,l),v&&v.m(i,null),C(g,u,_),b&&b.m(g,_),C(g,f,_),h=!0},p(g,[_]){m&&m.p&&(!h||_&16)&&xr(m,c,g,g[4],h?Er(c,g[4],_,null):Sr(g[4]),null),v&&v.p&&(!h||_&16)&&xr(v,d,g,g[4],h?Er(d,g[4],_,ETe):Sr(g[4]),v7),(!h||_&1)&&pe(t,"id",g[0]),g[1]?b?b.p(g,_):(b=g7(g),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null)},i(g){h||(V(m,g),V(v,g),h=!0)},o(g){X(m,g),X(v,g),h=!1},d(g){g&&(S(t),S(u),S(f)),m&&m.d(g),v&&v.d(g),b&&b.d(g)}}}function TTe(r,t,e){let i,n;yt(r,Fl,f=>e(3,n=f));let{$$slots:a={},$$scope:s}=t,{refId:o}=t;o=PI(Fl,o,"fig");const l=n.numbers[o],u=()=>{Fl.update(f=>(delete f.returnIds[o],f))};return r.$$set=f=>{"refId"in f&&e(0,o=f.refId),"$$scope"in f&&e(4,s=f.$$scope)},r.$$.update=()=>{r.$$.dirty&9&&e(1,i=n.returnIds[o])},[o,i,l,n,s,a,u]}class Lh extends Ot{constructor(t){super(),At(this,t,TTe,kTe,St,{refId:0})}}function OTe(r){var f;let t,e,i,n,a=((f=r[3])==null?void 0:f.numbers[r[0]])+"",s,o,l,u;return t=new ep({props:{show:r[2],divId:r[1]}}),{c(){ee(t.$$.fragment),e=Ee(),i=de("span"),n=R("Figure "),s=R(a),this.h()},l(h){te(t.$$.fragment,h),e=ke(h),i=ve(h,"SPAN",{class:!0,id:!0,role:!0,tabindex:!0,"aria-label":!0});var c=He(i);n=M(c,"Figure "),s=M(c,a),c.forEach(S),this.h()},h(){pe(i,"class","eqRef svelte-17atccr"),pe(i,"id",r[1]),pe(i,"role","button"),pe(i,"tabindex","0"),pe(i,"aria-label","Toggle popup")},m(h,c){re(t,h,c),C(h,e,c),C(h,i,c),fe(i,n),fe(i,s),o=!0,l||(u=[pt(i,"keydown",r[5]),pt(i,"click",r[5])],l=!0)},p(h,c){var d;const m={};c&4&&(m.show=h[2]),c&2&&(m.divId=h[1]),t.$set(m),(!o||c&9)&&a!==(a=((d=h[3])==null?void 0:d.numbers[h[0]])+"")&&js(s,a),(!o||c&2)&&pe(i,"id",h[1])},i(h){o||(V(t.$$.fragment,h),o=!0)},o(h){X(t.$$.fragment,h),o=!1},d(h){h&&(S(e),S(i)),ie(t,h),l=!1,bn(u)}}}function ATe(r){var s;let t,e,i=((s=r[3])==null?void 0:s.numbers[r[0]])+"",n,a;return{c(){t=de("a"),e=R("Figure "),n=R(i),this.h()},l(o){t=ve(o,"A",{class:!0,href:!0});var l=He(t);e=M(l,"Figure "),n=M(l,i),l.forEach(S),this.h()},h(){pe(t,"class","figRef"),pe(t,"href",a=`#${r[0]}`)},m(o,l){C(o,t,l),fe(t,e),fe(t,n)},p(o,l){var u;l&9&&i!==(i=((u=o[3])==null?void 0:u.numbers[o[0]])+"")&&js(n,i),l&1&&a!==(a=`#${o[0]}`)&&pe(t,"href",a)},i:ye,o:ye,d(o){o&&S(t)}}}function ITe(r){let t,e,i,n;const a=[ATe,OTe],s=[];function o(l,u){return l[4]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=vt()},l(l){e.l(l),i=vt()},m(l,u){s[t].m(l,u),C(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(zs(),X(s[f],1,1,()=>{s[f]=null}),Ls(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),V(e,1),e.m(i.parentNode,i))},i(l){n||(V(e),n=!0)},o(l){X(e),n=!1},d(l){l&&S(i),s[t].d(l)}}}function CTe(r,t,e){let i,n,a,s;yt(r,Fl,c=>e(3,a=c)),yt(r,Gi,c=>e(4,s=c));let{refId:o}=t;o="fig:"+o;const l=(a.numRefs[o]||0)+1;Fl.update(c=>(Object.keys(c.numRefs).includes(o)||(c.numRefs[o]=0),c.numRefs[o]+=1,c));const u=(c,m=[])=>{let d=[];const v=f(c);for(const b of v){const g=m.concat([b[0]]);if(b[1]==="complete")d.push(g);else{const _=c.children[parseInt(b[0])];d=d.concat(u(_,g))}}return d},f=c=>{const m=[];for(const d in c.children){const v=c.children[d];if(v.tagName)new Set(v.classList).intersection(new Set(["canvasBreadcrumb","vis-network"])).size>0?m.push([d,"incomplete"]):v.tagName.toLowerCase()==="canvas"&&m.push([d,"complete"]);else continue}return m},h=()=>{e(2,n=!n);const c=document.getElementById(i);if((c==null?void 0:c.childElementCount)===1){let m=0;const d=document.createElement("div");c==null||c.appendChild(d),setTimeout(function(){const v=document.getElementById(o),b=v.cloneNode(!0);b.id=b.id||"",b.id+="Ref"+l;const g=u(v);for(const y of g){let $=v,I=b;for(const B of y)$=$.children[parseInt(B)],I=I.children[parseInt(B)];const A=I.getContext("2d");A==null||A.drawImage($,0,0)}c==null||c.appendChild(b);const _=document.createElement("a");_.innerHTML="jump to",_.setAttribute("href","#"+o),_.style.fontSize="1.2rem",_.style.float="right",_.onclick=()=>{Fl.update(y=>(y.returnIds[o]=i,y))},c==null||c.appendChild(_)},m)}};return r.$$set=c=>{"refId"in c&&e(0,o=c.refId)},r.$$.update=()=>{r.$$.dirty&1&&e(1,i=o+"-ref"+l)},e(2,n=!1),[o,i,n,a,s,h]}class uu extends Ot{constructor(t){super(),At(this,t,CTe,ITe,St,{refId:0})}}function PTe(r){let t,e,i="[note]",n,a,s;return t=new ep({props:{show:r[0],$$slots:{default:[NTe]},$$scope:{ctx:r}}}),{c(){ee(t.$$.fragment),e=de("span"),e.textContent=i,this.h()},l(o){te(t.$$.fragment,o),e=ve(o,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Xe(e)!=="svelte-15se7qy"&&(e.textContent=i),this.h()},h(){pe(e,"class","footnote svelte-8qyc4p"),pe(e,"role","button"),pe(e,"tabindex","0"),pe(e,"aria-label","Toggle popup")},m(o,l){re(t,o,l),C(o,e,l),n=!0,a||(s=[pt(e,"keydown",r[2]),pt(e,"click",r[2])],a=!0)},p(o,l){const u={};l&1&&(u.show=o[0]),l&16&&(u.$$scope={dirty:l,ctx:o}),t.$set(u)},i(o){n||(V(t.$$.fragment,o),n=!0)},o(o){X(t.$$.fragment,o),n=!1},d(o){o&&S(e),ie(t,o),a=!1,bn(s)}}}function DTe(r){let t;return{c(){t=de("span")},l(e){t=ve(e,"SPAN",{}),He(t).forEach(S)},m(e,i){C(e,t,i)},p:ye,i:ye,o:ye,d(e){e&&S(t)}}}function NTe(r){let t,e;const i=r[3].default,n=wr(i,r,r[4],null);return{c(){n&&n.c(),t=Ee()},l(a){n&&n.l(a),t=ke(a)},m(a,s){n&&n.m(a,s),C(a,t,s),e=!0},p(a,s){n&&n.p&&(!e||s&16)&&xr(n,i,a,a[4],e?Er(i,a[4],s,null):Sr(a[4]),null)},i(a){e||(V(n,a),e=!0)},o(a){X(n,a),e=!1},d(a){a&&S(t),n&&n.d(a)}}}function RTe(r){let t,e,i,n;const a=[DTe,PTe],s=[];function o(l,u){return l[1]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=vt()},l(l){e.l(l),i=vt()},m(l,u){s[t].m(l,u),C(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(zs(),X(s[f],1,1,()=>{s[f]=null}),Ls(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),V(e,1),e.m(i.parentNode,i))},i(l){n||(V(e),n=!0)},o(l){X(e),n=!1},d(l){l&&S(i),s[t].d(l)}}}function MTe(r,t,e){let i,n;yt(r,Gi,l=>e(1,n=l));let{$$slots:a={},$$scope:s}=t;const o=()=>{e(0,i=!i)};return r.$$set=l=>{"$$scope"in l&&e(4,s=l.$$scope)},e(0,i=!1),[i,n,o,a,s]}class D$ extends Ot{constructor(t){super(),At(this,t,MTe,RTe,St,{})}}function BTe(r){let t;const e=r[9].default,i=wr(e,r,r[11],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&2048)&&xr(i,e,n,n[11],t?Er(e,n[11],a,null):Sr(n[11]),null)},i(n){t||(V(i,n),t=!0)},o(n){X(i,n),t=!1},d(n){i&&i.d(n)}}}function b7(r){let t,e,i,n;return{c(){t=de("div"),e=R("("),i=R(r[3]),n=R(")"),this.h()},l(a){t=ve(a,"DIV",{style:!0});var s=He(t);e=M(s,"("),i=M(s,r[3]),n=M(s,")"),s.forEach(S),this.h()},h(){Rt(t,"font-size","1.2rem"),Rt(t,"margin-left","0.5rem")},m(a,s){C(a,t,s),fe(t,e),fe(t,i),fe(t,n)},p(a,s){s&8&&js(i,a[3])},d(a){a&&S(t)}}}function y7(r){let t,e,i,n,a;return{c(){t=de("a"),e=R("↩︎"),this.h()},l(s){t=ve(s,"A",{style:!0,href:!0});var o=He(t);e=M(o,"↩︎"),o.forEach(S),this.h()},h(){Rt(t,"float","right"),Rt(t,"font-size","1.4rem"),pe(t,"href",i="#"+r[4])},m(s,o){C(s,t,o),fe(t,e),n||(a=pt(t,"click",r[10]),n=!0)},p(s,o){o&16&&i!==(i="#"+s[4])&&pe(t,"href",i)},d(s){s&&S(t),n=!1,a()}}}function FTe(r){let t,e,i,n,a,s,o,l;i=new O8({props:{options:r[6],fontSize:r[5]?parseFloat(r[2])*.8:r[2],refId:r[0],$$slots:{default:[BTe]},$$scope:{ctx:r}}});let u=r[3]!==""&&b7(r),f=!!r[4]&&y7(r);return{c(){t=de("div"),e=de("div"),ee(i.$$.fragment),a=Ee(),u&&u.c(),s=Ee(),f&&f.c(),o=vt(),this.h()},l(h){t=ve(h,"DIV",{style:!0});var c=He(t);e=ve(c,"DIV",{style:!0,id:!0});var m=He(e);te(i.$$.fragment,m),m.forEach(S),a=ke(c),u&&u.l(c),c.forEach(S),s=ke(h),f&&f.l(h),o=vt(),this.h()},h(){pe(e,"style",n="flex-grow:1;"+(r[1]?"":"overflow-x:auto")),pe(e,"id",r[0]),Rt(t,"display","flex"),Rt(t,"align-items","center")},m(h,c){C(h,t,c),fe(t,e),re(i,e,null),fe(t,a),u&&u.m(t,null),C(h,s,c),f&&f.m(h,c),C(h,o,c),l=!0},p(h,[c]){const m={};c&36&&(m.fontSize=h[5]?parseFloat(h[2])*.8:h[2]),c&1&&(m.refId=h[0]),c&2048&&(m.$$scope={dirty:c,ctx:h}),i.$set(m),(!l||c&2&&n!==(n="flex-grow:1;"+(h[1]?"":"overflow-x:auto")))&&pe(e,"style",n),(!l||c&1)&&pe(e,"id",h[0]),h[3]!==""?u?u.p(h,c):(u=b7(h),u.c(),u.m(t,null)):u&&(u.d(1),u=null),h[4]?f?f.p(h,c):(f=y7(h),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},i(h){l||(V(i.$$.fragment,h),l=!0)},o(h){X(i.$$.fragment,h),l=!1},d(h){h&&(S(t),S(s),S(o)),ie(i),u&&u.d(),f&&f.d(h)}}}function zTe(r,t,e){let i,n,a;yt(r,Wc,v=>e(8,n=v)),yt(r,Gi,v=>e(5,a=v));let{$$slots:s={},$$scope:o}=t,{refId:l=""}=t,{ignoreOverflow:u=!1}=t,{fontSize:f="1"}=t,{name:h=""}=t;const c={displayMode:!0,throwOnError:!1};let m="";l!==""&&(l=PI(Wc,l,"eqn"),m=n.numbers[l],h!==""&&Wc.update(v=>(v.names[l]=h,v)));const d=()=>{Wc.update(v=>(delete v.returnIds[l],v))};return r.$$set=v=>{"refId"in v&&e(0,l=v.refId),"ignoreOverflow"in v&&e(1,u=v.ignoreOverflow),"fontSize"in v&&e(2,f=v.fontSize),"name"in v&&e(7,h=v.name),"$$scope"in v&&e(11,o=v.$$scope)},r.$$.update=()=>{r.$$.dirty&257&&e(4,i=n.returnIds[l])},[l,u,f,m,i,a,c,h,n,s,d,o]}class ua extends Ot{constructor(t){super(),At(this,t,zTe,FTe,St,{refId:0,ignoreOverflow:1,fontSize:2,name:7})}}function LTe(r){let t;return{c(){t=R("Graph theory")},l(e){t=M(e,"Graph theory")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function jTe(r){let t,e="Some basics from graph theory, which are useful for describing several common combinatorial optimization problems.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-117eoas"&&(t.textContent=e),this.h()},h(){pe(t,"slot","context")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function UTe(r){let t,e,i="Graph Theory",n,a,s,o;return a=new hn({props:{refId:"diestel2018"}}),{c(){t=R("Familiarity with graph theory will be useful for this course. You don't need to know too much though, really just the basic definitions should be enough to understand the material. For interested readers, Reinhard Diestel's "),e=de("em"),e.textContent=i,n=Ee(),ee(a.$$.fragment),s=R(" is an excellent overview of the topic.")},l(l){t=M(l,"Familiarity with graph theory will be useful for this course. You don't need to know too much though, really just the basic definitions should be enough to understand the material. For interested readers, Reinhard Diestel's "),e=ve(l,"EM",{"data-svelte-h":!0}),Xe(e)!=="svelte-1avczrj"&&(e.textContent=i),n=ke(l),te(a.$$.fragment,l),s=M(l," is an excellent overview of the topic.")},m(l,u){C(l,t,u),C(l,e,u),C(l,n,u),re(a,l,u),C(l,s,u),o=!0},p:ye,i(l){o||(V(a.$$.fragment,l),o=!0)},o(l){X(a.$$.fragment,l),o=!1},d(l){l&&(S(t),S(e),S(n),S(s)),ie(a,l)}}}function qTe(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function HTe(r){let t=String.raw`V`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function WTe(r){let t=String.raw`E`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function GTe(r){let t=String.raw`V`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function VTe(r){let t=String.raw`E`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function XTe(r){let t=String.raw`(v{:underscore:}1,v{:underscore:}2)`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function KTe(r){let t=String.raw`v{:underscore:}1, v{:underscore:}2\in V`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function YTe(r){let t,e="Graph theory",i,n,a="graph",s,o,l="vertices",u,f,h="nodes",c,m,d="edges",v,b,g="arcs",_,y,$,I,A,B,T,x,U,O,F,D,L,H,Y,W;return y=new qe({props:{$$slots:{default:[qTe]},$$scope:{ctx:r}}}),I=new qe({props:{$$slots:{default:[HTe]},$$scope:{ctx:r}}}),B=new qe({props:{$$slots:{default:[WTe]},$$scope:{ctx:r}}}),x=new qe({props:{$$slots:{default:[GTe]},$$scope:{ctx:r}}}),O=new qe({props:{$$slots:{default:[VTe]},$$scope:{ctx:r}}}),D=new qe({props:{$$slots:{default:[XTe]},$$scope:{ctx:r}}}),H=new qe({props:{$$slots:{default:[KTe]},$$scope:{ctx:r}}}),{c(){t=de("em"),t.textContent=e,i=R(" is a branch of mathematics that studies a certain type of object called a graph. A "),n=de("em"),n.textContent=a,s=R(" is composed of two entities called "),o=de("em"),o.textContent=l,u=R(" (also called "),f=de("em"),f.textContent=h,c=R(") and "),m=de("em"),m.textContent=d,v=R(" (also called "),b=de("em"),b.textContent=g,_=R("). Graphs are used to model relationships (denoted by the edges) between pairs of entities (represented by the nodes). More concretely, let a graph "),ee(y.$$.fragment),$=R(" be defined by the pair of sets "),ee(I.$$.fragment),A=R(" and "),ee(B.$$.fragment),T=R(". "),ee(x.$$.fragment),U=R(" is the set of vertices, and the elements of "),ee(O.$$.fragment),F=R(" are pairs of vertices "),ee(D.$$.fragment),L=R(", with "),ee(H.$$.fragment),Y=R(".")},l(z){t=ve(z,"EM",{"data-svelte-h":!0}),Xe(t)!=="svelte-1r3s86n"&&(t.textContent=e),i=M(z," is a branch of mathematics that studies a certain type of object called a graph. A "),n=ve(z,"EM",{"data-svelte-h":!0}),Xe(n)!=="svelte-kmi5xe"&&(n.textContent=a),s=M(z," is composed of two entities called "),o=ve(z,"EM",{"data-svelte-h":!0}),Xe(o)!=="svelte-4pauwp"&&(o.textContent=l),u=M(z," (also called "),f=ve(z,"EM",{"data-svelte-h":!0}),Xe(f)!=="svelte-1elrkrd"&&(f.textContent=h),c=M(z,") and "),m=ve(z,"EM",{"data-svelte-h":!0}),Xe(m)!=="svelte-1xnblnk"&&(m.textContent=d),v=M(z," (also called "),b=ve(z,"EM",{"data-svelte-h":!0}),Xe(b)!=="svelte-gfb1kv"&&(b.textContent=g),_=M(z,"). Graphs are used to model relationships (denoted by the edges) between pairs of entities (represented by the nodes). More concretely, let a graph "),te(y.$$.fragment,z),$=M(z," be defined by the pair of sets "),te(I.$$.fragment,z),A=M(z," and "),te(B.$$.fragment,z),T=M(z,". "),te(x.$$.fragment,z),U=M(z," is the set of vertices, and the elements of "),te(O.$$.fragment,z),F=M(z," are pairs of vertices "),te(D.$$.fragment,z),L=M(z,", with "),te(H.$$.fragment,z),Y=M(z,".")},m(z,ne){C(z,t,ne),C(z,i,ne),C(z,n,ne),C(z,s,ne),C(z,o,ne),C(z,u,ne),C(z,f,ne),C(z,c,ne),C(z,m,ne),C(z,v,ne),C(z,b,ne),C(z,_,ne),re(y,z,ne),C(z,$,ne),re(I,z,ne),C(z,A,ne),re(B,z,ne),C(z,T,ne),re(x,z,ne),C(z,U,ne),re(O,z,ne),C(z,F,ne),re(D,z,ne),C(z,L,ne),re(H,z,ne),C(z,Y,ne),W=!0},p(z,ne){const ue={};ne&32&&(ue.$$scope={dirty:ne,ctx:z}),y.$set(ue);const K={};ne&32&&(K.$$scope={dirty:ne,ctx:z}),I.$set(K);const Q={};ne&32&&(Q.$$scope={dirty:ne,ctx:z}),B.$set(Q);const oe={};ne&32&&(oe.$$scope={dirty:ne,ctx:z}),x.$set(oe);const Ae={};ne&32&&(Ae.$$scope={dirty:ne,ctx:z}),O.$set(Ae);const we={};ne&32&&(we.$$scope={dirty:ne,ctx:z}),D.$set(we);const Se={};ne&32&&(Se.$$scope={dirty:ne,ctx:z}),H.$set(Se)},i(z){W||(V(y.$$.fragment,z),V(I.$$.fragment,z),V(B.$$.fragment,z),V(x.$$.fragment,z),V(O.$$.fragment,z),V(D.$$.fragment,z),V(H.$$.fragment,z),W=!0)},o(z){X(y.$$.fragment,z),X(I.$$.fragment,z),X(B.$$.fragment,z),X(x.$$.fragment,z),X(O.$$.fragment,z),X(D.$$.fragment,z),X(H.$$.fragment,z),W=!1},d(z){z&&(S(t),S(i),S(n),S(s),S(o),S(u),S(f),S(c),S(m),S(v),S(b),S(_),S($),S(A),S(T),S(U),S(F),S(L),S(Y)),ie(y,z),ie(I,z),ie(B,z),ie(x,z),ie(O,z),ie(D,z),ie(H,z)}}}function JTe(r){let t=String.raw`d{:underscore:}e`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function QTe(r){let t=String.raw`e\in E`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function ZTe(r){let t,e,i,n,a,s;return e=new qe({props:{$$slots:{default:[JTe]},$$scope:{ctx:r}}}),n=new qe({props:{$$slots:{default:[QTe]},$$scope:{ctx:r}}}),{c(){t=R("Initially, these definitions feel rather abstract. But in practice graphs often have very natural interpretations. Generally they are used to model relationships between entities, e.g. the nodes are people signed up for some social network, and an edge is drawn between two people if they are friends. Another common interpretation is as a road network, when the vertices are cities on a map, and an edge is drawn between two cities if it is possible to drive from one city to the other. In this case, there is often a distance "),ee(e.$$.fragment),i=R(" associated with each "),ee(n.$$.fragment),a=R(" that denotes the distance between two cities, and you are perhaps trying to find the shortest route that lets you get from one place to another.")},l(o){t=M(o,"Initially, these definitions feel rather abstract. But in practice graphs often have very natural interpretations. Generally they are used to model relationships between entities, e.g. the nodes are people signed up for some social network, and an edge is drawn between two people if they are friends. Another common interpretation is as a road network, when the vertices are cities on a map, and an edge is drawn between two cities if it is possible to drive from one city to the other. In this case, there is often a distance "),te(e.$$.fragment,o),i=M(o," associated with each "),te(n.$$.fragment,o),a=M(o," that denotes the distance between two cities, and you are perhaps trying to find the shortest route that lets you get from one place to another.")},m(o,l){C(o,t,l),re(e,o,l),C(o,i,l),re(n,o,l),C(o,a,l),s=!0},p(o,l){const u={};l&32&&(u.$$scope={dirty:l,ctx:o}),e.$set(u);const f={};l&32&&(f.$$scope={dirty:l,ctx:o}),n.$set(f)},i(o){s||(V(e.$$.fragment,o),V(n.$$.fragment,o),s=!0)},o(o){X(e.$$.fragment,o),X(n.$$.fragment,o),s=!1},d(o){o&&(S(t),S(i),S(a)),ie(e,o),ie(n,o)}}}function e9e(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function t9e(r){let t=String.raw`V=\{1,2,3,4,5\}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function r9e(r){let t=String.raw`E=\{(1,2), (1,3), (2,3), (2,4), (2,5), (3,5), (4,5)\}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function i9e(r){let t,e,i,n,a,s,o,l,u,f,h;return e=new uu({props:{refId:"exampleGraph"}}),n=new uu({props:{refId:"exampleGraph"}}),s=new qe({props:{$$slots:{default:[e9e]},$$scope:{ctx:r}}}),l=new ua({props:{$$slots:{default:[t9e]},$$scope:{ctx:r}}}),f=new ua({props:{$$slots:{default:[r9e]},$$scope:{ctx:r}}}),{c(){t=R("Graphs are typically represented visually as in "),ee(e.$$.fragment),i=R(": Each vertex/node is represented as a circle in the diagram, while edges/arcs are denoted by lines between the circles. In the case if "),ee(n.$$.fragment),a=R(", the graph being represented is the graph "),ee(s.$$.fragment),o=R(` with vertices:
    `),ee(l.$$.fragment),u=R(`
    and edges:
    `),ee(f.$$.fragment)},l(c){t=M(c,"Graphs are typically represented visually as in "),te(e.$$.fragment,c),i=M(c,": Each vertex/node is represented as a circle in the diagram, while edges/arcs are denoted by lines between the circles. In the case if "),te(n.$$.fragment,c),a=M(c,", the graph being represented is the graph "),te(s.$$.fragment,c),o=M(c,` with vertices:
    `),te(l.$$.fragment,c),u=M(c,`
    and edges:
    `),te(f.$$.fragment,c)},m(c,m){C(c,t,m),re(e,c,m),C(c,i,m),re(n,c,m),C(c,a,m),re(s,c,m),C(c,o,m),re(l,c,m),C(c,u,m),re(f,c,m),h=!0},p(c,m){const d={};m&32&&(d.$$scope={dirty:m,ctx:c}),s.$set(d);const v={};m&32&&(v.$$scope={dirty:m,ctx:c}),l.$set(v);const b={};m&32&&(b.$$scope={dirty:m,ctx:c}),f.$set(b)},i(c){h||(V(e.$$.fragment,c),V(n.$$.fragment,c),V(s.$$.fragment,c),V(l.$$.fragment,c),V(f.$$.fragment,c),h=!0)},o(c){X(e.$$.fragment,c),X(n.$$.fragment,c),X(s.$$.fragment,c),X(l.$$.fragment,c),X(f.$$.fragment,c),h=!1},d(c){c&&(S(t),S(i),S(a),S(o),S(u)),ie(e,c),ie(n,c),ie(s,c),ie(l,c),ie(f,c)}}}function n9e(r){let t,e;return t=new cd({props:{nodes:r[0],edges:r[1]}}),{c(){ee(t.$$.fragment)},l(i){te(t.$$.fragment,i)},m(i,n){re(t,i,n),e=!0},p:ye,i(i){e||(V(t.$$.fragment,i),e=!0)},o(i){X(t.$$.fragment,i),e=!1},d(i){ie(t,i)}}}function a9e(r){let t,e="Visualization of a graph.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1yxrrm1"&&(t.textContent=e),this.h()},h(){pe(t,"slot","caption")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function s9e(r){let t=String.raw`(v{:underscore:}1,v{:underscore:}2)\in E`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function o9e(r){let t=String.raw`v{:underscore:}1`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function l9e(r){let t=String.raw`v{:underscore:}2`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function u9e(r){let t=String.raw`(v{:underscore:}4,v{:underscore:}5)`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function f9e(r){let t=String.raw`(v{:underscore:}5,v{:underscore:}4)`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function c9e(r){let t,e,i="directed graphs",n,a,s="digraphs",o,l,u,f,h="from",c,m,d,v,b="to",g,_,y,$,I,A,B,T,x,U;return l=new qe({props:{$$slots:{default:[s9e]},$$scope:{ctx:r}}}),m=new qe({props:{$$slots:{default:[o9e]},$$scope:{ctx:r}}}),_=new qe({props:{$$slots:{default:[l9e]},$$scope:{ctx:r}}}),$=new uu({props:{refId:"exampleDirectedGraph"}}),A=new qe({props:{$$slots:{default:[u9e]},$$scope:{ctx:r}}}),T=new qe({props:{$$slots:{default:[f9e]},$$scope:{ctx:r}}}),{c(){t=R(`Sometimes it makes sense for the edges to be directional. For example, we might want to represent a road network with some one-way streets. Or perhaps we'd like to model teams from a sports league that have played each other, with the edges drawn "from" the winning team "to" the losing team. Such a graph with directed edges are called `),e=de("em"),e.textContent=i,n=R(", or "),a=de("em"),a.textContent=s,o=R(" for short. In these cases, the ordering of the vertices in each edge "),ee(l.$$.fragment),u=R(" matters, and we'd say that the edge goes "),f=de("em"),f.textContent=h,c=Ee(),ee(m.$$.fragment),d=Ee(),v=de("em"),v.textContent=b,g=Ee(),ee(_.$$.fragment),y=R(". "),ee($.$$.fragment),I=R(" shows an example visualization of a directed graph. Note that it is entirely possible for digraph edges to exist in both directions between a pair of vertices, as we see with both "),ee(A.$$.fragment),B=R(" and "),ee(T.$$.fragment),x=R(" existing in the figure.")},l(O){t=M(O,`Sometimes it makes sense for the edges to be directional. For example, we might want to represent a road network with some one-way streets. Or perhaps we'd like to model teams from a sports league that have played each other, with the edges drawn "from" the winning team "to" the losing team. Such a graph with directed edges are called `),e=ve(O,"EM",{"data-svelte-h":!0}),Xe(e)!=="svelte-1jofwqx"&&(e.textContent=i),n=M(O,", or "),a=ve(O,"EM",{"data-svelte-h":!0}),Xe(a)!=="svelte-lpr9x8"&&(a.textContent=s),o=M(O," for short. In these cases, the ordering of the vertices in each edge "),te(l.$$.fragment,O),u=M(O," matters, and we'd say that the edge goes "),f=ve(O,"EM",{"data-svelte-h":!0}),Xe(f)!=="svelte-yvfinu"&&(f.textContent=h),c=ke(O),te(m.$$.fragment,O),d=ke(O),v=ve(O,"EM",{"data-svelte-h":!0}),Xe(v)!=="svelte-1wkmrfv"&&(v.textContent=b),g=ke(O),te(_.$$.fragment,O),y=M(O,". "),te($.$$.fragment,O),I=M(O," shows an example visualization of a directed graph. Note that it is entirely possible for digraph edges to exist in both directions between a pair of vertices, as we see with both "),te(A.$$.fragment,O),B=M(O," and "),te(T.$$.fragment,O),x=M(O," existing in the figure.")},m(O,F){C(O,t,F),C(O,e,F),C(O,n,F),C(O,a,F),C(O,o,F),re(l,O,F),C(O,u,F),C(O,f,F),C(O,c,F),re(m,O,F),C(O,d,F),C(O,v,F),C(O,g,F),re(_,O,F),C(O,y,F),re($,O,F),C(O,I,F),re(A,O,F),C(O,B,F),re(T,O,F),C(O,x,F),U=!0},p(O,F){const D={};F&32&&(D.$$scope={dirty:F,ctx:O}),l.$set(D);const L={};F&32&&(L.$$scope={dirty:F,ctx:O}),m.$set(L);const H={};F&32&&(H.$$scope={dirty:F,ctx:O}),_.$set(H);const Y={};F&32&&(Y.$$scope={dirty:F,ctx:O}),A.$set(Y);const W={};F&32&&(W.$$scope={dirty:F,ctx:O}),T.$set(W)},i(O){U||(V(l.$$.fragment,O),V(m.$$.fragment,O),V(_.$$.fragment,O),V($.$$.fragment,O),V(A.$$.fragment,O),V(T.$$.fragment,O),U=!0)},o(O){X(l.$$.fragment,O),X(m.$$.fragment,O),X(_.$$.fragment,O),X($.$$.fragment,O),X(A.$$.fragment,O),X(T.$$.fragment,O),U=!1},d(O){O&&(S(t),S(e),S(n),S(a),S(o),S(u),S(f),S(c),S(d),S(v),S(g),S(y),S(I),S(B),S(x)),ie(l,O),ie(m,O),ie(_,O),ie($,O),ie(A,O),ie(T,O)}}}function h9e(r){let t,e;return t=new cd({props:{nodes:r[0],edges:r[2],directed:!0}}),{c(){ee(t.$$.fragment)},l(i){te(t.$$.fragment,i)},m(i,n){re(t,i,n),e=!0},p:ye,i(i){e||(V(t.$$.fragment,i),e=!0)},o(i){X(t.$$.fragment,i),e=!1},d(i){ie(t,i)}}}function m9e(r){let t,e="Visualization of a directed graph.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-c459dl"&&(t.textContent=e),this.h()},h(){pe(t,"slot","caption")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function p9e(r){let t=String.raw`G`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function d9e(r){let t=String.raw`
        W=((v{:underscore:}1, v{:underscore:}2), (v{:underscore:}2, v{:underscore:}5), (v{:underscore:}4, v{:underscore:}5), (v{:underscore:}2, v{:underscore:}4), (v{:underscore:}2, v{:underscore:}3))
    `+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function v9e(r){let t=String.raw`
        v{:underscore:}1\rightarrow v{:underscore:}2\rightarrow v{:underscore:}5\rightarrow v{:underscore:}4\rightarrow v{:underscore:}2\rightarrow v{:underscore:}3
    `+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function g9e(r){let t,e,i,n,a="walk",s,o,l,u,f,h,c;return e=new qe({props:{$$slots:{default:[p9e]},$$scope:{ctx:r}}}),o=new ua({props:{$$slots:{default:[d9e]},$$scope:{ctx:r}}}),u=new uu({props:{refId:"exampleGraph"}}),h=new ua({props:{$$slots:{default:[v9e]},$$scope:{ctx:r}}}),{c(){t=R("On a given graph "),ee(e.$$.fragment),i=R(", a "),n=de("em"),n.textContent=a,s=R(` is a sequence of edges which joins a sequence of vertices, such that it denotes a way to "walk" from one vertex to another using the edges of the graph. So
    `),ee(o.$$.fragment),l=R(`
    is a walk in the graph shown in `),ee(u.$$.fragment),f=R(`, which represents traveling the sequence of vertices:
    `),ee(h.$$.fragment)},l(m){t=M(m,"On a given graph "),te(e.$$.fragment,m),i=M(m,", a "),n=ve(m,"EM",{"data-svelte-h":!0}),Xe(n)!=="svelte-1xpv8cv"&&(n.textContent=a),s=M(m,` is a sequence of edges which joins a sequence of vertices, such that it denotes a way to "walk" from one vertex to another using the edges of the graph. So
    `),te(o.$$.fragment,m),l=M(m,`
    is a walk in the graph shown in `),te(u.$$.fragment,m),f=M(m,`, which represents traveling the sequence of vertices:
    `),te(h.$$.fragment,m)},m(m,d){C(m,t,d),re(e,m,d),C(m,i,d),C(m,n,d),C(m,s,d),re(o,m,d),C(m,l,d),re(u,m,d),C(m,f,d),re(h,m,d),c=!0},p(m,d){const v={};d&32&&(v.$$scope={dirty:d,ctx:m}),e.$set(v);const b={};d&32&&(b.$$scope={dirty:d,ctx:m}),o.$set(b);const g={};d&32&&(g.$$scope={dirty:d,ctx:m}),h.$set(g)},i(m){c||(V(e.$$.fragment,m),V(o.$$.fragment,m),V(u.$$.fragment,m),V(h.$$.fragment,m),c=!0)},o(m){X(e.$$.fragment,m),X(o.$$.fragment,m),X(u.$$.fragment,m),X(h.$$.fragment,m),c=!1},d(m){m&&(S(t),S(i),S(n),S(s),S(l),S(f)),ie(e,m),ie(o,m),ie(u,m),ie(h,m)}}}function b9e(r){let t=String.raw`W`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function y9e(r){let t=String.raw`W`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function $9e(r){let t=String.raw`v{:underscore:}2`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function _9e(r){let t=String.raw`
        P=((v{:underscore:}1, v{:underscore:}2), (v{:underscore:}2, v{:underscore:}5), (v{:underscore:}4, v{:underscore:}5))
    `+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function w9e(r){let t,e,i="trail",n,a,s,o,l="path",u,f,h,c,m="not",d,v,b,g,_,y,$="is",I,A,B,T;return a=new qe({props:{$$slots:{default:[b9e]},$$scope:{ctx:r}}}),f=new qe({props:{$$slots:{default:[y9e]},$$scope:{ctx:r}}}),v=new qe({props:{$$slots:{default:[$9e]},$$scope:{ctx:r}}}),g=new ua({props:{$$slots:{default:[_9e]},$$scope:{ctx:r}}}),A=new uu({props:{refId:"examplePath"}}),{c(){t=R("A very similar notion is that of a "),e=de("em"),e.textContent=i,n=R(", which is a walk in which all the edges are distinct. Note that the walk "),ee(a.$$.fragment),s=R(" from the previous paragraph is also a trail, since it does not repeat any edges. Meanwhile, a walk is called a "),o=de("em"),o.textContent=l,u=R(" if all its vertices (and, therefore also it edges) are distinct. So "),ee(f.$$.fragment),h=R(" is "),c=de("em"),c.textContent=m,d=R(" a path, since it travels to vertex "),ee(v.$$.fragment),b=R(` twice. But something like
    `),ee(g.$$.fragment),_=Ee(),y=de("em"),y.textContent=$,I=R(" a path, which we can visualize as in "),ee(A.$$.fragment),B=R(".")},l(x){t=M(x,"A very similar notion is that of a "),e=ve(x,"EM",{"data-svelte-h":!0}),Xe(e)!=="svelte-1g8d8mi"&&(e.textContent=i),n=M(x,", which is a walk in which all the edges are distinct. Note that the walk "),te(a.$$.fragment,x),s=M(x," from the previous paragraph is also a trail, since it does not repeat any edges. Meanwhile, a walk is called a "),o=ve(x,"EM",{"data-svelte-h":!0}),Xe(o)!=="svelte-czdsxl"&&(o.textContent=l),u=M(x," if all its vertices (and, therefore also it edges) are distinct. So "),te(f.$$.fragment,x),h=M(x," is "),c=ve(x,"EM",{"data-svelte-h":!0}),Xe(c)!=="svelte-r5iszh"&&(c.textContent=m),d=M(x," a path, since it travels to vertex "),te(v.$$.fragment,x),b=M(x,` twice. But something like
    `),te(g.$$.fragment,x),_=ke(x),y=ve(x,"EM",{"data-svelte-h":!0}),Xe(y)!=="svelte-1yh91nu"&&(y.textContent=$),I=M(x," a path, which we can visualize as in "),te(A.$$.fragment,x),B=M(x,".")},m(x,U){C(x,t,U),C(x,e,U),C(x,n,U),re(a,x,U),C(x,s,U),C(x,o,U),C(x,u,U),re(f,x,U),C(x,h,U),C(x,c,U),C(x,d,U),re(v,x,U),C(x,b,U),re(g,x,U),C(x,_,U),C(x,y,U),C(x,I,U),re(A,x,U),C(x,B,U),T=!0},p(x,U){const O={};U&32&&(O.$$scope={dirty:U,ctx:x}),a.$set(O);const F={};U&32&&(F.$$scope={dirty:U,ctx:x}),f.$set(F);const D={};U&32&&(D.$$scope={dirty:U,ctx:x}),v.$set(D);const L={};U&32&&(L.$$scope={dirty:U,ctx:x}),g.$set(L)},i(x){T||(V(a.$$.fragment,x),V(f.$$.fragment,x),V(v.$$.fragment,x),V(g.$$.fragment,x),V(A.$$.fragment,x),T=!0)},o(x){X(a.$$.fragment,x),X(f.$$.fragment,x),X(v.$$.fragment,x),X(g.$$.fragment,x),X(A.$$.fragment,x),T=!1},d(x){x&&(S(t),S(e),S(n),S(s),S(o),S(u),S(h),S(c),S(d),S(b),S(_),S(y),S(I),S(B)),ie(a,x),ie(f,x),ie(v,x),ie(g,x),ie(A,x)}}}function x9e(r){let t,e;return t=new cd({props:{nodes:r[0],edges:r[1],boldEdges:r[3]}}),{c(){ee(t.$$.fragment)},l(i){te(t.$$.fragment,i)},m(i,n){re(t,i,n),e=!0},p:ye,i(i){e||(V(t.$$.fragment,i),e=!0)},o(i){X(t.$$.fragment,i),e=!1},d(i){ie(t,i)}}}function S9e(r){let t=String.raw`P=((v{:underscore:}1, v{:underscore:}2), (v{:underscore:}2, v{:underscore:}5), (v{:underscore:}4, v{:underscore:}5))`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function E9e(r){let t,e,i,n,a;return i=new qe({props:{$$slots:{default:[S9e]},$$scope:{ctx:r}}}),{c(){t=de("span"),e=R("Visualization of a path "),ee(i.$$.fragment),n=R("."),this.h()},l(s){t=ve(s,"SPAN",{slot:!0});var o=He(t);e=M(o,"Visualization of a path "),te(i.$$.fragment,o),n=M(o,"."),o.forEach(S),this.h()},h(){pe(t,"slot","caption")},m(s,o){C(s,t,o),fe(t,e),re(i,t,null),fe(t,n),a=!0},p(s,o){const l={};o&32&&(l.$$scope={dirty:o,ctx:s}),i.$set(l)},i(s){a||(V(i.$$.fragment,s),a=!0)},o(s){X(i.$$.fragment,s),a=!1},d(s){s&&S(t),ie(i)}}}function k9e(r){let t,e,i="circuit",n,a,s="trail",o,l,u="can",f,h,c="cycle",m,d,v="Hamiltonian cycle",b,g,_,y;return g=new uu({props:{refId:"exampleHamCycle"}}),{c(){t=R("A "),e=de("em"),e.textContent=i,n=R(" is a trail that starts and ends at the vertex. Note that the circuit is defined based on a "),a=de("em"),a.textContent=s,o=R(", so therefore cannot be repeated in a circuit, though vertices "),l=de("em"),l.textContent=u,f=R(" repreat. A similar notion is the "),h=de("em"),h.textContent=c,m=R(", which is a path that begins and ends at the same vertex. A cycle is called a "),d=de("em"),d.textContent=v,b=R(" if it visits every vertex exactly once. An example Hamiltonian cycle is shown in "),ee(g.$$.fragment),_=R(".")},l($){t=M($,"A "),e=ve($,"EM",{"data-svelte-h":!0}),Xe(e)!=="svelte-1v7s7br"&&(e.textContent=i),n=M($," is a trail that starts and ends at the vertex. Note that the circuit is defined based on a "),a=ve($,"EM",{"data-svelte-h":!0}),Xe(a)!=="svelte-1g8d8mi"&&(a.textContent=s),o=M($,", so therefore cannot be repeated in a circuit, though vertices "),l=ve($,"EM",{"data-svelte-h":!0}),Xe(l)!=="svelte-gt6eco"&&(l.textContent=u),f=M($," repreat. A similar notion is the "),h=ve($,"EM",{"data-svelte-h":!0}),Xe(h)!=="svelte-19r1f3g"&&(h.textContent=c),m=M($,", which is a path that begins and ends at the same vertex. A cycle is called a "),d=ve($,"EM",{"data-svelte-h":!0}),Xe(d)!=="svelte-94ehwk"&&(d.textContent=v),b=M($," if it visits every vertex exactly once. An example Hamiltonian cycle is shown in "),te(g.$$.fragment,$),_=M($,".")},m($,I){C($,t,I),C($,e,I),C($,n,I),C($,a,I),C($,o,I),C($,l,I),C($,f,I),C($,h,I),C($,m,I),C($,d,I),C($,b,I),re(g,$,I),C($,_,I),y=!0},p:ye,i($){y||(V(g.$$.fragment,$),y=!0)},o($){X(g.$$.fragment,$),y=!1},d($){$&&(S(t),S(e),S(n),S(a),S(o),S(l),S(f),S(h),S(m),S(d),S(b),S(_)),ie(g,$)}}}function T9e(r){let t,e;return t=new cd({props:{nodes:r[0],edges:r[1],boldEdges:r[4]}}),{c(){ee(t.$$.fragment)},l(i){te(t.$$.fragment,i)},m(i,n){re(t,i,n),e=!0},p:ye,i(i){e||(V(t.$$.fragment,i),e=!0)},o(i){X(t.$$.fragment,i),e=!1},d(i){ie(t,i)}}}function O9e(r){let t,e="Visualization of a Hamiltonian cycle.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1qzt00f"&&(t.textContent=e),this.h()},h(){pe(t,"slot","caption")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function A9e(r){let t;return{c(){t=R("Note that walks, trails, paths, circuits, and cycles can all exist on directed graphs as well, with the natural restriction that the underlying walk must travel in the direction of the edges.")},l(e){t=M(e,"Note that walks, trails, paths, circuits, and cycles can all exist on directed graphs as well, with the natural restriction that the underlying walk must travel in the direction of the edges.")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function I9e(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$,I,A,B,T,x,U,O,F;return t=new cn({props:{level:"2",refId:"graphTheory",$$slots:{context:[jTe],default:[LTe]},$$scope:{ctx:r}}}),i=new xt({props:{$$slots:{default:[UTe]},$$scope:{ctx:r}}}),a=new xt({props:{$$slots:{default:[YTe]},$$scope:{ctx:r}}}),o=new xt({props:{$$slots:{default:[ZTe]},$$scope:{ctx:r}}}),u=new xt({props:{$$slots:{default:[i9e]},$$scope:{ctx:r}}}),h=new Lh({props:{refId:"exampleGraph",$$slots:{caption:[a9e],default:[n9e]},$$scope:{ctx:r}}}),m=new xt({props:{$$slots:{default:[c9e]},$$scope:{ctx:r}}}),v=new Lh({props:{refId:"exampleDirectedGraph",$$slots:{caption:[m9e],default:[h9e]},$$scope:{ctx:r}}}),g=new xt({props:{$$slots:{default:[g9e]},$$scope:{ctx:r}}}),y=new xt({props:{$$slots:{default:[w9e]},$$scope:{ctx:r}}}),I=new Lh({props:{refId:"examplePath",$$slots:{caption:[E9e],default:[x9e]},$$scope:{ctx:r}}}),B=new xt({props:{$$slots:{default:[k9e]},$$scope:{ctx:r}}}),x=new Lh({props:{refId:"exampleHamCycle",$$slots:{caption:[O9e],default:[T9e]},$$scope:{ctx:r}}}),O=new xt({props:{$$slots:{default:[A9e]},$$scope:{ctx:r}}}),{c(){ee(t.$$.fragment),e=Ee(),ee(i.$$.fragment),n=Ee(),ee(a.$$.fragment),s=Ee(),ee(o.$$.fragment),l=Ee(),ee(u.$$.fragment),f=Ee(),ee(h.$$.fragment),c=Ee(),ee(m.$$.fragment),d=Ee(),ee(v.$$.fragment),b=Ee(),ee(g.$$.fragment),_=Ee(),ee(y.$$.fragment),$=Ee(),ee(I.$$.fragment),A=Ee(),ee(B.$$.fragment),T=Ee(),ee(x.$$.fragment),U=Ee(),ee(O.$$.fragment)},l(D){te(t.$$.fragment,D),e=ke(D),te(i.$$.fragment,D),n=ke(D),te(a.$$.fragment,D),s=ke(D),te(o.$$.fragment,D),l=ke(D),te(u.$$.fragment,D),f=ke(D),te(h.$$.fragment,D),c=ke(D),te(m.$$.fragment,D),d=ke(D),te(v.$$.fragment,D),b=ke(D),te(g.$$.fragment,D),_=ke(D),te(y.$$.fragment,D),$=ke(D),te(I.$$.fragment,D),A=ke(D),te(B.$$.fragment,D),T=ke(D),te(x.$$.fragment,D),U=ke(D),te(O.$$.fragment,D)},m(D,L){re(t,D,L),C(D,e,L),re(i,D,L),C(D,n,L),re(a,D,L),C(D,s,L),re(o,D,L),C(D,l,L),re(u,D,L),C(D,f,L),re(h,D,L),C(D,c,L),re(m,D,L),C(D,d,L),re(v,D,L),C(D,b,L),re(g,D,L),C(D,_,L),re(y,D,L),C(D,$,L),re(I,D,L),C(D,A,L),re(B,D,L),C(D,T,L),re(x,D,L),C(D,U,L),re(O,D,L),F=!0},p(D,[L]){const H={};L&32&&(H.$$scope={dirty:L,ctx:D}),t.$set(H);const Y={};L&32&&(Y.$$scope={dirty:L,ctx:D}),i.$set(Y);const W={};L&32&&(W.$$scope={dirty:L,ctx:D}),a.$set(W);const z={};L&32&&(z.$$scope={dirty:L,ctx:D}),o.$set(z);const ne={};L&32&&(ne.$$scope={dirty:L,ctx:D}),u.$set(ne);const ue={};L&32&&(ue.$$scope={dirty:L,ctx:D}),h.$set(ue);const K={};L&32&&(K.$$scope={dirty:L,ctx:D}),m.$set(K);const Q={};L&32&&(Q.$$scope={dirty:L,ctx:D}),v.$set(Q);const oe={};L&32&&(oe.$$scope={dirty:L,ctx:D}),g.$set(oe);const Ae={};L&32&&(Ae.$$scope={dirty:L,ctx:D}),y.$set(Ae);const we={};L&32&&(we.$$scope={dirty:L,ctx:D}),I.$set(we);const Se={};L&32&&(Se.$$scope={dirty:L,ctx:D}),B.$set(Se);const Te={};L&32&&(Te.$$scope={dirty:L,ctx:D}),x.$set(Te);const Ie={};L&32&&(Ie.$$scope={dirty:L,ctx:D}),O.$set(Ie)},i(D){F||(V(t.$$.fragment,D),V(i.$$.fragment,D),V(a.$$.fragment,D),V(o.$$.fragment,D),V(u.$$.fragment,D),V(h.$$.fragment,D),V(m.$$.fragment,D),V(v.$$.fragment,D),V(g.$$.fragment,D),V(y.$$.fragment,D),V(I.$$.fragment,D),V(B.$$.fragment,D),V(x.$$.fragment,D),V(O.$$.fragment,D),F=!0)},o(D){X(t.$$.fragment,D),X(i.$$.fragment,D),X(a.$$.fragment,D),X(o.$$.fragment,D),X(u.$$.fragment,D),X(h.$$.fragment,D),X(m.$$.fragment,D),X(v.$$.fragment,D),X(g.$$.fragment,D),X(y.$$.fragment,D),X(I.$$.fragment,D),X(B.$$.fragment,D),X(x.$$.fragment,D),X(O.$$.fragment,D),F=!1},d(D){D&&(S(e),S(n),S(s),S(l),S(f),S(c),S(d),S(b),S(_),S($),S(A),S(T),S(U)),ie(t,D),ie(i,D),ie(a,D),ie(o,D),ie(u,D),ie(h,D),ie(m,D),ie(v,D),ie(g,D),ie(y,D),ie(I,D),ie(B,D),ie(x,D),ie(O,D)}}}function C9e(r){const t=[{id:1,x:0,y:.5},{id:2,x:.5,y:1},{id:3,x:.5,y:0},{id:4,x:1,y:1},{id:5,x:1,y:0}],e=["1-2","1-3","2-3","2-4","2-5","4-5","3-5"],i=e.concat(["5-4"]);return[t,e,i,["1-2","2-5","4-5"],["1-2","2-4","4-5","3-5","1-3"]]}class P9e extends Ot{constructor(t){super(),At(this,t,C9e,I9e,St,{})}}function D9e(r){let t;return{c(){t=R("Special symbols")},l(e){t=M(e,"Special symbols")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function N9e(r){let t,e="A list of mathematical symbols and their usages.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-jdu0qk"&&(t.textContent=e),this.h()},h(){pe(t,"slot","context")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function R9e(r){let t=String.raw`\{\cdots\}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function M9e(r){let t=String.raw`\{0,1\}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function B9e(r){let t=String.raw`\R`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function F9e(r){let t=String.raw`-\infty`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function z9e(r){let t=String.raw`\infty`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function L9e(r){let t=String.raw`\R{:underscore:}+`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function j9e(r){let t=String.raw`\R`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function U9e(r){let t=String.raw`\Z`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function q9e(r){let t=String.raw`\R`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function H9e(r){let t=String.raw`\Z{:underscore:}+`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function W9e(r){let t=String.raw`\Z`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function G9e(r){let t=String.raw`\in`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function V9e(r){let t=String.raw`x\in S`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function X9e(r){let t=String.raw`x`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function K9e(r){let t=String.raw`S`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function Y9e(r){let t=String.raw`\pi\in\R`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function J9e(r){let t=String.raw`\pi`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function Q9e(r){let t=String.raw`\subseteq`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function Z9e(r){let t=String.raw`S, S'`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function eOe(r){let t=String.raw`S'\subseteq S`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function tOe(r){let t=String.raw`S'`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function rOe(r){let t=String.raw`S`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function iOe(r){let t=String.raw`S'`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function nOe(r){let t=String.raw`S`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function aOe(r){let t=String.raw`|S|`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function sOe(r){let t=String.raw`|\{1,5,7,12\}|=4`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function oOe(r){let t=String.raw`\emptyset`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function lOe(r){let t=String.raw`\forall`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function uOe(r){let t=String.raw`x{:underscore:}j\geq 0\ \forall\ j\in\{1, 2, \cdots, n\}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function fOe(r){let t=String.raw`x{:underscore:}1, x{:underscore:}2, \cdots, x{:underscore:}n`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function cOe(r){let t=String.raw`\{x: x\textit{ satisfies some condition}\}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function hOe(r){let t=String.raw`x`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function mOe(r){let t=String.raw`x`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function pOe(r){let t=String.raw`\{n\in\Z:5\leq n\leq 10\}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function dOe(r){let t=String.raw`\{5,6,7,8,9,10\}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function vOe(r){let t=String.raw`S^m`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function gOe(r){let t=String.raw`m`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function bOe(r){let t=String.raw`S`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function yOe(r){let t=String.raw`\R^3`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function $Oe(r){let t=String.raw`
                \begin{bmatrix}1 \\ 2.64 \\ -3\end{bmatrix}\in\R^3.
            `+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function _Oe(r){let t=String.raw`S^{m\times n}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function wOe(r){let t=String.raw`m`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function xOe(r){let t=String.raw`n`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function SOe(r){let t=String.raw`S`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function EOe(r){let t=String.raw`\Z^{m\times n}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function kOe(r){let t=String.raw`m\times n`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function TOe(r){let t=String.raw`
            \begin{bmatrix}4 & 3 & 9 & 6\\ 0 & 4 & 8 & 5\\ 7 & 7 & 2 & 1\end{bmatrix} \in \Z^{3\times 4}.
            `+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function OOe(r){let t=String.raw`\zeros`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function AOe(r){let t=String.raw`\identity`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function IOe(r){let t=String.raw`
                \begin{bmatrix}
                1 & 0 & \cdots & 0 \\
                0 & 1 & \cdots & 0 \\
                \vdots & \vdots & \ddots & \vdots \\
                0 & 0 & \cdots & 1 \\
                \end{bmatrix}
            `+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function COe(r){let t=String.raw`\Leftrightarrow`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function POe(r){let t=String.raw`a > b \Leftrightarrow -a < -b`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function DOe(r){let t=String.raw`\floor{x}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function NOe(r){let t=String.raw`x\in\R`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function ROe(r){let t=String.raw`x`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function MOe(r){let t=String.raw`\floor{1.3}=1`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function BOe(r){let t=String.raw`\ceil{x}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function FOe(r){let t=String.raw`x\in\R`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function zOe(r){let t=String.raw`x`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function LOe(r){let t=String.raw`\ceil{1.3}=2`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function jOe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$,I,A,B,T,x,U,O,F,D,L,H,Y,W,z,ne,ue,K,Q,oe,Ae,we,Se,Te,Ie,ce,ge,be,_e,Be,Fe,We,q,k,P,G,le,xe,Pe,ut,gt,dt,Kt,Tt,Dr,ii,qr,Vr,pr,Sa,yn,rn,rl,il,Ri,$n,nn,vr,Js,Nr,Qs,zu,Rr,ni,nl,_n,ai,nr,Ea,an,hd,ka,md,wi,Ta,pd,Oa,dd,Aa,vd,Ia,gd,Ca,bd,Mr,Pa,yd,Da,$d,Na,_d,Ra,wd,Ma,xd,Ba,Sd,Fa,Ed,al,za,kd,Td,Zs,La,Od,ja,Ad,Ua,qa,Id,Ha,Cd,Pd,Mi,Wa,Dd,Ga,Nd,Va,Rd,Xa,Md,Bd,Bi,Ka,Fd,Ya,zd,Ja,Ld,Qa,jd,jc;return i=new qe({props:{$$slots:{default:[R9e]},$$scope:{ctx:r}}}),a=new qe({props:{$$slots:{default:[M9e]},$$scope:{ctx:r}}}),u=new qe({props:{$$slots:{default:[B9e]},$$scope:{ctx:r}}}),h=new qe({props:{$$slots:{default:[F9e]},$$scope:{ctx:r}}}),m=new qe({props:{$$slots:{default:[z9e]},$$scope:{ctx:r}}}),g=new qe({props:{$$slots:{default:[L9e]},$$scope:{ctx:r}}}),y=new qe({props:{$$slots:{default:[j9e]},$$scope:{ctx:r}}}),B=new qe({props:{$$slots:{default:[U9e]},$$scope:{ctx:r}}}),x=new qe({props:{$$slots:{default:[q9e]},$$scope:{ctx:r}}}),D=new qe({props:{$$slots:{default:[H9e]},$$scope:{ctx:r}}}),H=new qe({props:{$$slots:{default:[W9e]},$$scope:{ctx:r}}}),ne=new qe({props:{$$slots:{default:[G9e]},$$scope:{ctx:r}}}),K=new qe({props:{$$slots:{default:[V9e]},$$scope:{ctx:r}}}),oe=new qe({props:{$$slots:{default:[X9e]},$$scope:{ctx:r}}}),we=new qe({props:{$$slots:{default:[K9e]},$$scope:{ctx:r}}}),Te=new qe({props:{$$slots:{default:[Y9e]},$$scope:{ctx:r}}}),ce=new qe({props:{$$slots:{default:[J9e]},$$scope:{ctx:r}}}),Be=new qe({props:{$$slots:{default:[Q9e]},$$scope:{ctx:r}}}),We=new qe({props:{$$slots:{default:[Z9e]},$$scope:{ctx:r}}}),k=new qe({props:{$$slots:{default:[eOe]},$$scope:{ctx:r}}}),G=new qe({props:{$$slots:{default:[tOe]},$$scope:{ctx:r}}}),xe=new qe({props:{$$slots:{default:[rOe]},$$scope:{ctx:r}}}),ut=new qe({props:{$$slots:{default:[iOe]},$$scope:{ctx:r}}}),dt=new qe({props:{$$slots:{default:[nOe]},$$scope:{ctx:r}}}),ii=new qe({props:{$$slots:{default:[aOe]},$$scope:{ctx:r}}}),Vr=new qe({props:{$$slots:{default:[sOe]},$$scope:{ctx:r}}}),rn=new qe({props:{$$slots:{default:[oOe]},$$scope:{ctx:r}}}),$n=new qe({props:{$$slots:{default:[lOe]},$$scope:{ctx:r}}}),vr=new qe({props:{$$slots:{default:[uOe]},$$scope:{ctx:r}}}),Nr=new qe({props:{$$slots:{default:[fOe]},$$scope:{ctx:r}}}),ni=new qe({props:{$$slots:{default:[cOe]},$$scope:{ctx:r}}}),_n=new qe({props:{$$slots:{default:[hOe]},$$scope:{ctx:r}}}),nr=new qe({props:{$$slots:{default:[mOe]},$$scope:{ctx:r}}}),an=new qe({props:{$$slots:{default:[pOe]},$$scope:{ctx:r}}}),ka=new qe({props:{$$slots:{default:[dOe]},$$scope:{ctx:r}}}),Ta=new qe({props:{$$slots:{default:[vOe]},$$scope:{ctx:r}}}),Oa=new qe({props:{$$slots:{default:[gOe]},$$scope:{ctx:r}}}),Aa=new qe({props:{$$slots:{default:[bOe]},$$scope:{ctx:r}}}),Ia=new qe({props:{$$slots:{default:[yOe]},$$scope:{ctx:r}}}),Ca=new ua({props:{$$slots:{default:[$Oe]},$$scope:{ctx:r}}}),Pa=new qe({props:{$$slots:{default:[_Oe]},$$scope:{ctx:r}}}),Da=new qe({props:{$$slots:{default:[wOe]},$$scope:{ctx:r}}}),Na=new qe({props:{$$slots:{default:[xOe]},$$scope:{ctx:r}}}),Ra=new qe({props:{$$slots:{default:[SOe]},$$scope:{ctx:r}}}),Ma=new qe({props:{$$slots:{default:[EOe]},$$scope:{ctx:r}}}),Ba=new qe({props:{$$slots:{default:[kOe]},$$scope:{ctx:r}}}),Fa=new ua({props:{$$slots:{default:[TOe]},$$scope:{ctx:r}}}),za=new qe({props:{$$slots:{default:[OOe]},$$scope:{ctx:r}}}),La=new qe({props:{$$slots:{default:[AOe]},$$scope:{ctx:r}}}),ja=new ua({props:{$$slots:{default:[IOe]},$$scope:{ctx:r}}}),qa=new qe({props:{$$slots:{default:[COe]},$$scope:{ctx:r}}}),Ha=new qe({props:{$$slots:{default:[POe]},$$scope:{ctx:r}}}),Wa=new qe({props:{$$slots:{default:[DOe]},$$scope:{ctx:r}}}),Ga=new qe({props:{$$slots:{default:[NOe]},$$scope:{ctx:r}}}),Va=new qe({props:{$$slots:{default:[ROe]},$$scope:{ctx:r}}}),Xa=new qe({props:{$$slots:{default:[MOe]},$$scope:{ctx:r}}}),Ka=new qe({props:{$$slots:{default:[BOe]},$$scope:{ctx:r}}}),Ya=new qe({props:{$$slots:{default:[FOe]},$$scope:{ctx:r}}}),Ja=new qe({props:{$$slots:{default:[zOe]},$$scope:{ctx:r}}}),Qa=new qe({props:{$$slots:{default:[LOe]},$$scope:{ctx:r}}}),{c(){t=de("ul"),e=de("li"),ee(i.$$.fragment),n=R(": Set notation. Items inside the curly brackets are the elements of the set, so "),ee(a.$$.fragment),s=R(" is the 2-element set consisting of just the numbers 0 and 1."),o=Ee(),l=de("li"),ee(u.$$.fragment),f=R(": The set of real numbers, i.e. anything on the number line between (though not including!) "),ee(h.$$.fragment),c=R(" and "),ee(m.$$.fragment),d=R("."),v=Ee(),b=de("li"),ee(g.$$.fragment),_=R(": The set of non-negative real numbers, i.e. anything in "),ee(y.$$.fragment),$=R(" that is greater than or equal to 0."),I=Ee(),A=de("li"),ee(B.$$.fragment),T=R(": The set of integer numbers, i.e. whole numbers from the set "),ee(x.$$.fragment),U=R("."),O=Ee(),F=de("li"),ee(D.$$.fragment),L=R(": The set of non-negative integer numbers, i.e. anything in "),ee(H.$$.fragment),Y=R(" that is greater than or equal to 0."),W=Ee(),z=de("li"),ee(ne.$$.fragment),ue=R(": Set inclusion. When we write "),ee(K.$$.fragment),Q=R(", we mean that "),ee(oe.$$.fragment),Ae=R(" is an element of the set "),ee(we.$$.fragment),Se=R(". For example, we could write "),ee(Te.$$.fragment),Ie=R(", meaning the number "),ee(ce.$$.fragment),ge=R(" is a real number."),be=Ee(),_e=de("li"),ee(Be.$$.fragment),Fe=R(": Subset. For two sets "),ee(We.$$.fragment),q=R(", we say "),ee(k.$$.fragment),P=R(' (said "'),ee(G.$$.fragment),le=R(" is a subset of "),ee(xe.$$.fragment),Pe=R('") if every element of '),ee(ut.$$.fragment),gt=R(" is also an element of "),ee(dt.$$.fragment),Kt=R("."),Tt=Ee(),Dr=de("li"),ee(ii.$$.fragment),qr=R(": Size of a set. This denotes the number of elements in a set, so e.g. "),ee(Vr.$$.fragment),pr=R("."),Sa=Ee(),yn=de("li"),ee(rn.$$.fragment),rl=R(": Empty set. A set with no elements."),il=Ee(),Ri=de("li"),ee($n.$$.fragment),nn=R(": For all. We use this symbol when we want to specify that something should be done for all elements in some set. So if we're writing out the constraints for some model and we say "),ee(vr.$$.fragment),Js=R(" we're just saying that each of "),ee(Nr.$$.fragment),Qs=R(" should be non-negative."),zu=Ee(),Rr=de("li"),ee(ni.$$.fragment),nl=R(": Conditional set. This represents the set of all "),ee(_n.$$.fragment),ai=R(" such that "),ee(nr.$$.fragment),Ea=R(" satisfies the condition to the right of the colon (:). For example, "),ee(an.$$.fragment),hd=R(" is the set of all integers between 5 and 10, i.e. "),ee(ka.$$.fragment),md=Ee(),wi=de("li"),ee(Ta.$$.fragment),pd=R(": The set of vectors with "),ee(Oa.$$.fragment),dd=R(" elements, all of which are from some set "),ee(Aa.$$.fragment),vd=R(". For example, "),ee(Ia.$$.fragment),gd=R(` is the set of 3-element, real number vectors. So we could say
            `),ee(Ca.$$.fragment),bd=Ee(),Mr=de("li"),ee(Pa.$$.fragment),yd=R(": The set of matrices with "),ee(Da.$$.fragment),$d=R(" rows and "),ee(Na.$$.fragment),_d=R(" columns, whose elements are from some set "),ee(Ra.$$.fragment),wd=R(". For example, "),ee(Ma.$$.fragment),xd=R(" is the set of "),ee(Ba.$$.fragment),Sd=R(` matrices whose entries are all integers. So we could say
            `),ee(Fa.$$.fragment),Ed=Ee(),al=de("li"),ee(za.$$.fragment),kd=R(": A matrix (or vector) with all entries equal to 0 (the size of the matrix is usually clear by context)."),Td=Ee(),Zs=de("li"),ee(La.$$.fragment),Od=R(`: A square matrix with all entries equal to 0, except the diagonal where all entries equal 1 (the size of the matrix is usually clear by context). This looks like:
            `),ee(ja.$$.fragment),Ad=Ee(),Ua=de("li"),ee(qa.$$.fragment),Id=R(": If and only if. It indicates the the statement to the left is logically equivalent to the statement on the right, e.g. "),ee(Ha.$$.fragment),Cd=R("."),Pd=Ee(),Mi=de("li"),ee(Wa.$$.fragment),Dd=R(': The "floor" of the number '),ee(Ga.$$.fragment),Nd=R(", i.e. the value resulting from rounding "),ee(Va.$$.fragment),Rd=R(" down to the nearest integer. So "),ee(Xa.$$.fragment),Md=R("."),Bd=Ee(),Bi=de("li"),ee(Ka.$$.fragment),Fd=R(': The "ceiling" of the number '),ee(Ya.$$.fragment),zd=R(", i.e. the value resulting from rounding "),ee(Ja.$$.fragment),Ld=R(" up to the nearest integer. So "),ee(Qa.$$.fragment),jd=R(".")},l(se){t=ve(se,"UL",{});var he=He(t);e=ve(he,"LI",{});var Za=He(e);te(i.$$.fragment,Za),n=M(Za,": Set notation. Items inside the curly brackets are the elements of the set, so "),te(a.$$.fragment,Za),s=M(Za," is the 2-element set consisting of just the numbers 0 and 1."),Za.forEach(S),o=ke(he),l=ve(he,"LI",{});var wn=He(l);te(u.$$.fragment,wn),f=M(wn,": The set of real numbers, i.e. anything on the number line between (though not including!) "),te(h.$$.fragment,wn),c=M(wn," and "),te(m.$$.fragment,wn),d=M(wn,"."),wn.forEach(S),v=ke(he),b=ve(he,"LI",{});var es=He(b);te(g.$$.fragment,es),_=M(es,": The set of non-negative real numbers, i.e. anything in "),te(y.$$.fragment,es),$=M(es," that is greater than or equal to 0."),es.forEach(S),I=ke(he),A=ve(he,"LI",{});var ts=He(A);te(B.$$.fragment,ts),T=M(ts,": The set of integer numbers, i.e. whole numbers from the set "),te(x.$$.fragment,ts),U=M(ts,"."),ts.forEach(S),O=ke(he),F=ve(he,"LI",{});var rs=He(F);te(D.$$.fragment,rs),L=M(rs,": The set of non-negative integer numbers, i.e. anything in "),te(H.$$.fragment,rs),Y=M(rs," that is greater than or equal to 0."),rs.forEach(S),W=ke(he),z=ve(he,"LI",{});var Hr=He(z);te(ne.$$.fragment,Hr),ue=M(Hr,": Set inclusion. When we write "),te(K.$$.fragment,Hr),Q=M(Hr,", we mean that "),te(oe.$$.fragment,Hr),Ae=M(Hr," is an element of the set "),te(we.$$.fragment,Hr),Se=M(Hr,". For example, we could write "),te(Te.$$.fragment,Hr),Ie=M(Hr,", meaning the number "),te(ce.$$.fragment,Hr),ge=M(Hr," is a real number."),Hr.forEach(S),be=ke(he),_e=ve(he,"LI",{});var gr=He(_e);te(Be.$$.fragment,gr),Fe=M(gr,": Subset. For two sets "),te(We.$$.fragment,gr),q=M(gr,", we say "),te(k.$$.fragment,gr),P=M(gr,' (said "'),te(G.$$.fragment,gr),le=M(gr," is a subset of "),te(xe.$$.fragment,gr),Pe=M(gr,'") if every element of '),te(ut.$$.fragment,gr),gt=M(gr," is also an element of "),te(dt.$$.fragment,gr),Kt=M(gr,"."),gr.forEach(S),Tt=ke(he),Dr=ve(he,"LI",{});var is=He(Dr);te(ii.$$.fragment,is),qr=M(is,": Size of a set. This denotes the number of elements in a set, so e.g. "),te(Vr.$$.fragment,is),pr=M(is,"."),is.forEach(S),Sa=ke(he),yn=ve(he,"LI",{});var sl=He(yn);te(rn.$$.fragment,sl),rl=M(sl,": Empty set. A set with no elements."),sl.forEach(S),il=ke(he),Ri=ve(he,"LI",{});var xn=He(Ri);te($n.$$.fragment,xn),nn=M(xn,": For all. We use this symbol when we want to specify that something should be done for all elements in some set. So if we're writing out the constraints for some model and we say "),te(vr.$$.fragment,xn),Js=M(xn," we're just saying that each of "),te(Nr.$$.fragment,xn),Qs=M(xn," should be non-negative."),xn.forEach(S),zu=ke(he),Rr=ve(he,"LI",{});var xi=He(Rr);te(ni.$$.fragment,xi),nl=M(xi,": Conditional set. This represents the set of all "),te(_n.$$.fragment,xi),ai=M(xi," such that "),te(nr.$$.fragment,xi),Ea=M(xi," satisfies the condition to the right of the colon (:). For example, "),te(an.$$.fragment,xi),hd=M(xi," is the set of all integers between 5 and 10, i.e. "),te(ka.$$.fragment,xi),xi.forEach(S),md=ke(he),wi=ve(he,"LI",{});var Si=He(wi);te(Ta.$$.fragment,Si),pd=M(Si,": The set of vectors with "),te(Oa.$$.fragment,Si),dd=M(Si," elements, all of which are from some set "),te(Aa.$$.fragment,Si),vd=M(Si,". For example, "),te(Ia.$$.fragment,Si),gd=M(Si,` is the set of 3-element, real number vectors. So we could say
            `),te(Ca.$$.fragment,Si),Si.forEach(S),bd=ke(he),Mr=ve(he,"LI",{});var Br=He(Mr);te(Pa.$$.fragment,Br),yd=M(Br,": The set of matrices with "),te(Da.$$.fragment,Br),$d=M(Br," rows and "),te(Na.$$.fragment,Br),_d=M(Br," columns, whose elements are from some set "),te(Ra.$$.fragment,Br),wd=M(Br,". For example, "),te(Ma.$$.fragment,Br),xd=M(Br," is the set of "),te(Ba.$$.fragment,Br),Sd=M(Br,` matrices whose entries are all integers. So we could say
            `),te(Fa.$$.fragment,Br),Br.forEach(S),Ed=ke(he),al=ve(he,"LI",{});var ol=He(al);te(za.$$.fragment,ol),kd=M(ol,": A matrix (or vector) with all entries equal to 0 (the size of the matrix is usually clear by context)."),ol.forEach(S),Td=ke(he),Zs=ve(he,"LI",{});var eo=He(Zs);te(La.$$.fragment,eo),Od=M(eo,`: A square matrix with all entries equal to 0, except the diagonal where all entries equal 1 (the size of the matrix is usually clear by context). This looks like:
            `),te(ja.$$.fragment,eo),eo.forEach(S),Ad=ke(he),Ua=ve(he,"LI",{});var ns=He(Ua);te(qa.$$.fragment,ns),Id=M(ns,": If and only if. It indicates the the statement to the left is logically equivalent to the statement on the right, e.g. "),te(Ha.$$.fragment,ns),Cd=M(ns,"."),ns.forEach(S),Pd=ke(he),Mi=ve(he,"LI",{});var Fi=He(Mi);te(Wa.$$.fragment,Fi),Dd=M(Fi,': The "floor" of the number '),te(Ga.$$.fragment,Fi),Nd=M(Fi,", i.e. the value resulting from rounding "),te(Va.$$.fragment,Fi),Rd=M(Fi," down to the nearest integer. So "),te(Xa.$$.fragment,Fi),Md=M(Fi,"."),Fi.forEach(S),Bd=ke(he),Bi=ve(he,"LI",{});var zi=He(Bi);te(Ka.$$.fragment,zi),Fd=M(zi,': The "ceiling" of the number '),te(Ya.$$.fragment,zi),zd=M(zi,", i.e. the value resulting from rounding "),te(Ja.$$.fragment,zi),Ld=M(zi," up to the nearest integer. So "),te(Qa.$$.fragment,zi),jd=M(zi,"."),zi.forEach(S),he.forEach(S)},m(se,he){C(se,t,he),fe(t,e),re(i,e,null),fe(e,n),re(a,e,null),fe(e,s),fe(t,o),fe(t,l),re(u,l,null),fe(l,f),re(h,l,null),fe(l,c),re(m,l,null),fe(l,d),fe(t,v),fe(t,b),re(g,b,null),fe(b,_),re(y,b,null),fe(b,$),fe(t,I),fe(t,A),re(B,A,null),fe(A,T),re(x,A,null),fe(A,U),fe(t,O),fe(t,F),re(D,F,null),fe(F,L),re(H,F,null),fe(F,Y),fe(t,W),fe(t,z),re(ne,z,null),fe(z,ue),re(K,z,null),fe(z,Q),re(oe,z,null),fe(z,Ae),re(we,z,null),fe(z,Se),re(Te,z,null),fe(z,Ie),re(ce,z,null),fe(z,ge),fe(t,be),fe(t,_e),re(Be,_e,null),fe(_e,Fe),re(We,_e,null),fe(_e,q),re(k,_e,null),fe(_e,P),re(G,_e,null),fe(_e,le),re(xe,_e,null),fe(_e,Pe),re(ut,_e,null),fe(_e,gt),re(dt,_e,null),fe(_e,Kt),fe(t,Tt),fe(t,Dr),re(ii,Dr,null),fe(Dr,qr),re(Vr,Dr,null),fe(Dr,pr),fe(t,Sa),fe(t,yn),re(rn,yn,null),fe(yn,rl),fe(t,il),fe(t,Ri),re($n,Ri,null),fe(Ri,nn),re(vr,Ri,null),fe(Ri,Js),re(Nr,Ri,null),fe(Ri,Qs),fe(t,zu),fe(t,Rr),re(ni,Rr,null),fe(Rr,nl),re(_n,Rr,null),fe(Rr,ai),re(nr,Rr,null),fe(Rr,Ea),re(an,Rr,null),fe(Rr,hd),re(ka,Rr,null),fe(t,md),fe(t,wi),re(Ta,wi,null),fe(wi,pd),re(Oa,wi,null),fe(wi,dd),re(Aa,wi,null),fe(wi,vd),re(Ia,wi,null),fe(wi,gd),re(Ca,wi,null),fe(t,bd),fe(t,Mr),re(Pa,Mr,null),fe(Mr,yd),re(Da,Mr,null),fe(Mr,$d),re(Na,Mr,null),fe(Mr,_d),re(Ra,Mr,null),fe(Mr,wd),re(Ma,Mr,null),fe(Mr,xd),re(Ba,Mr,null),fe(Mr,Sd),re(Fa,Mr,null),fe(t,Ed),fe(t,al),re(za,al,null),fe(al,kd),fe(t,Td),fe(t,Zs),re(La,Zs,null),fe(Zs,Od),re(ja,Zs,null),fe(t,Ad),fe(t,Ua),re(qa,Ua,null),fe(Ua,Id),re(Ha,Ua,null),fe(Ua,Cd),fe(t,Pd),fe(t,Mi),re(Wa,Mi,null),fe(Mi,Dd),re(Ga,Mi,null),fe(Mi,Nd),re(Va,Mi,null),fe(Mi,Rd),re(Xa,Mi,null),fe(Mi,Md),fe(t,Bd),fe(t,Bi),re(Ka,Bi,null),fe(Bi,Fd),re(Ya,Bi,null),fe(Bi,zd),re(Ja,Bi,null),fe(Bi,Ld),re(Qa,Bi,null),fe(Bi,jd),jc=!0},p(se,he){const Za={};he&1&&(Za.$$scope={dirty:he,ctx:se}),i.$set(Za);const wn={};he&1&&(wn.$$scope={dirty:he,ctx:se}),a.$set(wn);const es={};he&1&&(es.$$scope={dirty:he,ctx:se}),u.$set(es);const ts={};he&1&&(ts.$$scope={dirty:he,ctx:se}),h.$set(ts);const rs={};he&1&&(rs.$$scope={dirty:he,ctx:se}),m.$set(rs);const Hr={};he&1&&(Hr.$$scope={dirty:he,ctx:se}),g.$set(Hr);const gr={};he&1&&(gr.$$scope={dirty:he,ctx:se}),y.$set(gr);const is={};he&1&&(is.$$scope={dirty:he,ctx:se}),B.$set(is);const sl={};he&1&&(sl.$$scope={dirty:he,ctx:se}),x.$set(sl);const xn={};he&1&&(xn.$$scope={dirty:he,ctx:se}),D.$set(xn);const xi={};he&1&&(xi.$$scope={dirty:he,ctx:se}),H.$set(xi);const Si={};he&1&&(Si.$$scope={dirty:he,ctx:se}),ne.$set(Si);const Br={};he&1&&(Br.$$scope={dirty:he,ctx:se}),K.$set(Br);const ol={};he&1&&(ol.$$scope={dirty:he,ctx:se}),oe.$set(ol);const eo={};he&1&&(eo.$$scope={dirty:he,ctx:se}),we.$set(eo);const ns={};he&1&&(ns.$$scope={dirty:he,ctx:se}),Te.$set(ns);const Fi={};he&1&&(Fi.$$scope={dirty:he,ctx:se}),ce.$set(Fi);const zi={};he&1&&(zi.$$scope={dirty:he,ctx:se}),Be.$set(zi);const M$={};he&1&&(M$.$$scope={dirty:he,ctx:se}),We.$set(M$);const B$={};he&1&&(B$.$$scope={dirty:he,ctx:se}),k.$set(B$);const F$={};he&1&&(F$.$$scope={dirty:he,ctx:se}),G.$set(F$);const z$={};he&1&&(z$.$$scope={dirty:he,ctx:se}),xe.$set(z$);const L$={};he&1&&(L$.$$scope={dirty:he,ctx:se}),ut.$set(L$);const j$={};he&1&&(j$.$$scope={dirty:he,ctx:se}),dt.$set(j$);const U$={};he&1&&(U$.$$scope={dirty:he,ctx:se}),ii.$set(U$);const q$={};he&1&&(q$.$$scope={dirty:he,ctx:se}),Vr.$set(q$);const H$={};he&1&&(H$.$$scope={dirty:he,ctx:se}),rn.$set(H$);const W$={};he&1&&(W$.$$scope={dirty:he,ctx:se}),$n.$set(W$);const G$={};he&1&&(G$.$$scope={dirty:he,ctx:se}),vr.$set(G$);const V$={};he&1&&(V$.$$scope={dirty:he,ctx:se}),Nr.$set(V$);const X$={};he&1&&(X$.$$scope={dirty:he,ctx:se}),ni.$set(X$);const K$={};he&1&&(K$.$$scope={dirty:he,ctx:se}),_n.$set(K$);const Y$={};he&1&&(Y$.$$scope={dirty:he,ctx:se}),nr.$set(Y$);const J$={};he&1&&(J$.$$scope={dirty:he,ctx:se}),an.$set(J$);const Q$={};he&1&&(Q$.$$scope={dirty:he,ctx:se}),ka.$set(Q$);const Z$={};he&1&&(Z$.$$scope={dirty:he,ctx:se}),Ta.$set(Z$);const e_={};he&1&&(e_.$$scope={dirty:he,ctx:se}),Oa.$set(e_);const t_={};he&1&&(t_.$$scope={dirty:he,ctx:se}),Aa.$set(t_);const r_={};he&1&&(r_.$$scope={dirty:he,ctx:se}),Ia.$set(r_);const i_={};he&1&&(i_.$$scope={dirty:he,ctx:se}),Ca.$set(i_);const n_={};he&1&&(n_.$$scope={dirty:he,ctx:se}),Pa.$set(n_);const a_={};he&1&&(a_.$$scope={dirty:he,ctx:se}),Da.$set(a_);const s_={};he&1&&(s_.$$scope={dirty:he,ctx:se}),Na.$set(s_);const o_={};he&1&&(o_.$$scope={dirty:he,ctx:se}),Ra.$set(o_);const l_={};he&1&&(l_.$$scope={dirty:he,ctx:se}),Ma.$set(l_);const u_={};he&1&&(u_.$$scope={dirty:he,ctx:se}),Ba.$set(u_);const f_={};he&1&&(f_.$$scope={dirty:he,ctx:se}),Fa.$set(f_);const c_={};he&1&&(c_.$$scope={dirty:he,ctx:se}),za.$set(c_);const h_={};he&1&&(h_.$$scope={dirty:he,ctx:se}),La.$set(h_);const m_={};he&1&&(m_.$$scope={dirty:he,ctx:se}),ja.$set(m_);const p_={};he&1&&(p_.$$scope={dirty:he,ctx:se}),qa.$set(p_);const d_={};he&1&&(d_.$$scope={dirty:he,ctx:se}),Ha.$set(d_);const v_={};he&1&&(v_.$$scope={dirty:he,ctx:se}),Wa.$set(v_);const g_={};he&1&&(g_.$$scope={dirty:he,ctx:se}),Ga.$set(g_);const b_={};he&1&&(b_.$$scope={dirty:he,ctx:se}),Va.$set(b_);const y_={};he&1&&(y_.$$scope={dirty:he,ctx:se}),Xa.$set(y_);const $_={};he&1&&($_.$$scope={dirty:he,ctx:se}),Ka.$set($_);const __={};he&1&&(__.$$scope={dirty:he,ctx:se}),Ya.$set(__);const w_={};he&1&&(w_.$$scope={dirty:he,ctx:se}),Ja.$set(w_);const x_={};he&1&&(x_.$$scope={dirty:he,ctx:se}),Qa.$set(x_)},i(se){jc||(V(i.$$.fragment,se),V(a.$$.fragment,se),V(u.$$.fragment,se),V(h.$$.fragment,se),V(m.$$.fragment,se),V(g.$$.fragment,se),V(y.$$.fragment,se),V(B.$$.fragment,se),V(x.$$.fragment,se),V(D.$$.fragment,se),V(H.$$.fragment,se),V(ne.$$.fragment,se),V(K.$$.fragment,se),V(oe.$$.fragment,se),V(we.$$.fragment,se),V(Te.$$.fragment,se),V(ce.$$.fragment,se),V(Be.$$.fragment,se),V(We.$$.fragment,se),V(k.$$.fragment,se),V(G.$$.fragment,se),V(xe.$$.fragment,se),V(ut.$$.fragment,se),V(dt.$$.fragment,se),V(ii.$$.fragment,se),V(Vr.$$.fragment,se),V(rn.$$.fragment,se),V($n.$$.fragment,se),V(vr.$$.fragment,se),V(Nr.$$.fragment,se),V(ni.$$.fragment,se),V(_n.$$.fragment,se),V(nr.$$.fragment,se),V(an.$$.fragment,se),V(ka.$$.fragment,se),V(Ta.$$.fragment,se),V(Oa.$$.fragment,se),V(Aa.$$.fragment,se),V(Ia.$$.fragment,se),V(Ca.$$.fragment,se),V(Pa.$$.fragment,se),V(Da.$$.fragment,se),V(Na.$$.fragment,se),V(Ra.$$.fragment,se),V(Ma.$$.fragment,se),V(Ba.$$.fragment,se),V(Fa.$$.fragment,se),V(za.$$.fragment,se),V(La.$$.fragment,se),V(ja.$$.fragment,se),V(qa.$$.fragment,se),V(Ha.$$.fragment,se),V(Wa.$$.fragment,se),V(Ga.$$.fragment,se),V(Va.$$.fragment,se),V(Xa.$$.fragment,se),V(Ka.$$.fragment,se),V(Ya.$$.fragment,se),V(Ja.$$.fragment,se),V(Qa.$$.fragment,se),jc=!0)},o(se){X(i.$$.fragment,se),X(a.$$.fragment,se),X(u.$$.fragment,se),X(h.$$.fragment,se),X(m.$$.fragment,se),X(g.$$.fragment,se),X(y.$$.fragment,se),X(B.$$.fragment,se),X(x.$$.fragment,se),X(D.$$.fragment,se),X(H.$$.fragment,se),X(ne.$$.fragment,se),X(K.$$.fragment,se),X(oe.$$.fragment,se),X(we.$$.fragment,se),X(Te.$$.fragment,se),X(ce.$$.fragment,se),X(Be.$$.fragment,se),X(We.$$.fragment,se),X(k.$$.fragment,se),X(G.$$.fragment,se),X(xe.$$.fragment,se),X(ut.$$.fragment,se),X(dt.$$.fragment,se),X(ii.$$.fragment,se),X(Vr.$$.fragment,se),X(rn.$$.fragment,se),X($n.$$.fragment,se),X(vr.$$.fragment,se),X(Nr.$$.fragment,se),X(ni.$$.fragment,se),X(_n.$$.fragment,se),X(nr.$$.fragment,se),X(an.$$.fragment,se),X(ka.$$.fragment,se),X(Ta.$$.fragment,se),X(Oa.$$.fragment,se),X(Aa.$$.fragment,se),X(Ia.$$.fragment,se),X(Ca.$$.fragment,se),X(Pa.$$.fragment,se),X(Da.$$.fragment,se),X(Na.$$.fragment,se),X(Ra.$$.fragment,se),X(Ma.$$.fragment,se),X(Ba.$$.fragment,se),X(Fa.$$.fragment,se),X(za.$$.fragment,se),X(La.$$.fragment,se),X(ja.$$.fragment,se),X(qa.$$.fragment,se),X(Ha.$$.fragment,se),X(Wa.$$.fragment,se),X(Ga.$$.fragment,se),X(Va.$$.fragment,se),X(Xa.$$.fragment,se),X(Ka.$$.fragment,se),X(Ya.$$.fragment,se),X(Ja.$$.fragment,se),X(Qa.$$.fragment,se),jc=!1},d(se){se&&S(t),ie(i),ie(a),ie(u),ie(h),ie(m),ie(g),ie(y),ie(B),ie(x),ie(D),ie(H),ie(ne),ie(K),ie(oe),ie(we),ie(Te),ie(ce),ie(Be),ie(We),ie(k),ie(G),ie(xe),ie(ut),ie(dt),ie(ii),ie(Vr),ie(rn),ie($n),ie(vr),ie(Nr),ie(ni),ie(_n),ie(nr),ie(an),ie(ka),ie(Ta),ie(Oa),ie(Aa),ie(Ia),ie(Ca),ie(Pa),ie(Da),ie(Na),ie(Ra),ie(Ma),ie(Ba),ie(Fa),ie(za),ie(La),ie(ja),ie(qa),ie(Ha),ie(Wa),ie(Ga),ie(Va),ie(Xa),ie(Ka),ie(Ya),ie(Ja),ie(Qa)}}}function UOe(r){let t,e,i,n;return t=new cn({props:{level:"2",refId:"symbols",$$slots:{context:[N9e],default:[D9e]},$$scope:{ctx:r}}}),i=new xt({props:{$$slots:{default:[jOe]},$$scope:{ctx:r}}}),{c(){ee(t.$$.fragment),e=Ee(),ee(i.$$.fragment)},l(a){te(t.$$.fragment,a),e=ke(a),te(i.$$.fragment,a)},m(a,s){re(t,a,s),C(a,e,s),re(i,a,s),n=!0},p(a,[s]){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const l={};s&1&&(l.$$scope={dirty:s,ctx:a}),i.$set(l)},i(a){n||(V(t.$$.fragment,a),V(i.$$.fragment,a),n=!0)},o(a){X(t.$$.fragment,a),X(i.$$.fragment,a),n=!1},d(a){a&&S(e),ie(t,a),ie(i,a)}}}class qOe extends Ot{constructor(t){super(),At(this,t,null,UOe,St,{})}}function HOe(r){let t;return{c(){t=R("Appendix")},l(e){t=M(e,"Appendix")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function WOe(r){let t,e="Extra content you may find useful for this course.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-15cnuce"&&(t.textContent=e),this.h()},h(){pe(t,"slot","context")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function GOe(r){let t,e,i,n,a,s;return t=new cn({props:{refId:"appendix",level:"1",dispSecNum:"A",includeDispSecNum:!1,$$slots:{context:[WOe],default:[HOe]},$$scope:{ctx:r}}}),i=new qOe({}),a=new P9e({}),{c(){ee(t.$$.fragment),e=Ee(),ee(i.$$.fragment),n=Ee(),ee(a.$$.fragment)},l(o){te(t.$$.fragment,o),e=ke(o),te(i.$$.fragment,o),n=ke(o),te(a.$$.fragment,o)},m(o,l){re(t,o,l),C(o,e,l),re(i,o,l),C(o,n,l),re(a,o,l),s=!0},p(o,[l]){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),t.$set(u)},i(o){s||(V(t.$$.fragment,o),V(i.$$.fragment,o),V(a.$$.fragment,o),s=!0)},o(o){X(t.$$.fragment,o),X(i.$$.fragment,o),X(a.$$.fragment,o),s=!1},d(o){o&&(S(e),S(n)),ie(t,o),ie(i,o),ie(a,o)}}}class VOe extends Ot{constructor(t){super(),At(this,t,null,GOe,St,{})}}function $7(r,t,e){const i=r.slice();return i[3]=t[e],i}function XOe(r){let t;return{c(){t=R("References")},l(e){t=M(e,"References")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function _7(r){let t,e,i=r[3]+"",n;return{c(){t=de("li"),e=new ba(!1),this.h()},l(a){t=ve(a,"LI",{class:!0});var s=He(t);e=ya(s,!1),s.forEach(S),this.h()},h(){e.a=null,pe(t,"class",n=zn("bibline"+(r[0]?" biblinePrintMode":""))+" svelte-1nfaj4i")},m(a,s){C(a,t,s),e.m(i,t)},p(a,s){s&1&&n!==(n=zn("bibline"+(a[0]?" biblinePrintMode":""))+" svelte-1nfaj4i")&&pe(t,"class",n)},d(a){a&&S(t)}}}function KOe(r){let t,e,i,n;t=new cn({props:{refId:"bibliography",level:"1",includeDispSecNum:!1,$$slots:{default:[XOe]},$$scope:{ctx:r}}});let a=Hl(r[1].sort()),s=[];for(let o=0;o<a.length;o+=1)s[o]=_7($7(r,a,o));return{c(){ee(t.$$.fragment),e=Ee(),i=de("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){te(t.$$.fragment,o),e=ke(o),i=ve(o,"UL",{class:!0});var l=He(i);for(let u=0;u<s.length;u+=1)s[u].l(l);l.forEach(S),this.h()},h(){pe(i,"class","bib svelte-1nfaj4i")},m(o,l){re(t,o,l),C(o,e,l),C(o,i,l);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);n=!0},p(o,[l]){const u={};if(l&64&&(u.$$scope={dirty:l,ctx:o}),t.$set(u),l&3){a=Hl(o[1].sort());let f;for(f=0;f<a.length;f+=1){const h=$7(o,a,f);s[f]?s[f].p(h,l):(s[f]=_7(h),s[f].c(),s[f].m(i,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=a.length}},i(o){n||(V(t.$$.fragment,o),n=!0)},o(o){X(t.$$.fragment,o),n=!1},d(o){o&&(S(e),S(i)),ie(t,o),vb(s,o)}}}function YOe(r,t,e){let i,n;yt(r,Wg,s=>e(2,i=s)),yt(r,Gi,s=>e(0,n=s));let a=[];for(const s of Object.keys(i)){const o=i[s];o.referenced&&a.push(o.biblio)}return[n,a]}class JOe extends Ot{constructor(t){super(),At(this,t,YOe,KOe,St,{})}}function QOe(r){let t;const e=r[2].default,i=wr(e,r,r[1],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&2)&&xr(i,e,n,n[1],t?Er(e,n[1],a,null):Sr(n[1]),null)},i(n){t||(V(i,n),t=!0)},o(n){X(i,n),t=!1},d(n){i&&i.d(n)}}}function ZOe(r){let t,e;const i=r[2].default,n=wr(i,r,r[1],null);return{c(){t=de("span"),n&&n.c(),this.h()},l(a){t=ve(a,"SPAN",{class:!0});var s=He(t);n&&n.l(s),s.forEach(S),this.h()},h(){pe(t,"class","keyPoint svelte-1gh7i88")},m(a,s){C(a,t,s),n&&n.m(t,null),e=!0},p(a,s){n&&n.p&&(!e||s&2)&&xr(n,i,a,a[1],e?Er(i,a[1],s,null):Sr(a[1]),null)},i(a){e||(V(n,a),e=!0)},o(a){X(n,a),e=!1},d(a){a&&S(t),n&&n.d(a)}}}function eAe(r){let t,e,i,n;const a=[ZOe,QOe],s=[];function o(l,u){return l[0]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=vt()},l(l){e.l(l),i=vt()},m(l,u){s[t].m(l,u),C(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(zs(),X(s[f],1,1,()=>{s[f]=null}),Ls(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),V(e,1),e.m(i.parentNode,i))},i(l){n||(V(e),n=!0)},o(l){X(e),n=!1},d(l){l&&S(i),s[t].d(l)}}}function tAe(r,t,e){let i;yt(r,Gg,s=>e(0,i=s));let{$$slots:n={},$$scope:a}=t;return r.$$set=s=>{"$$scope"in s&&e(1,a=s.$$scope)},[i,a,n]}class mt extends Ot{constructor(t){super(),At(this,t,tAe,eAe,St,{})}}function rAe(r){let t;return{c(){t=R("Welcome!")},l(e){t=M(e,"Welcome!")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function iAe(r){let t,e="Where we discuss what to expect in this class and these notes.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1t10p2l"&&(t.textContent=e),this.h()},h(){pe(t,"slot","context")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function nAe(r){let t,e,i="IMSE 884: Integer Programming and Combinatorial Optimization",n;return{c(){t=R("You're reading the class notes for "),e=de("em"),e.textContent=i,n=R(", taught at Kansas State University during the Spring 2025 semester.")},l(a){t=M(a,"You're reading the class notes for "),e=ve(a,"EM",{"data-svelte-h":!0}),Xe(e)!=="svelte-34fi29"&&(e.textContent=i),n=M(a,", taught at Kansas State University during the Spring 2025 semester.")},m(a,s){C(a,t,s),C(a,e,s),C(a,n,s)},p:ye,d(a){a&&(S(t),S(e),S(n))}}}function aAe(r){let t;return{c(){t=R("About the course")},l(e){t=M(e,"About the course")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function sAe(r){let t,e="Discussing topics and particulars of the course.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-y4e6li"&&(t.textContent=e),this.h()},h(){pe(t,"slot","context")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function oAe(r){let t;return{c(){t=R("overview of the related fields of integer programming and combinatorial optimization")},l(e){t=M(e,"overview of the related fields of integer programming and combinatorial optimization")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function lAe(r){let t;return{c(){t=R("best-studied and most widely-applicable problems")},l(e){t=M(e,"best-studied and most widely-applicable problems")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function uAe(r){let t;return{c(){t=R("We will lean more heavily on the theoretical aspects")},l(e){t=M(e,"We will lean more heavily on the theoretical aspects")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function fAe(r){let t,e,i,n,a,s,o,l;return e=new mt({props:{$$slots:{default:[oAe]},$$scope:{ctx:r}}}),n=new mt({props:{$$slots:{default:[lAe]},$$scope:{ctx:r}}}),s=new mt({props:{$$slots:{default:[uAe]},$$scope:{ctx:r}}}),{c(){t=R("As the name suggests, the aim of this course is to give an "),ee(e.$$.fragment),i=R(", which together comprise a large portion of the "),ee(n.$$.fragment),a=R(" in optimization and mathematical programming. "),ee(s.$$.fragment),o=R(" of the subject, spending most of our time on theory and algorithms that allow solutions to be found to these important problems. We will devote a relatively smaller amount of time to building and solving these types of models in practice.")},l(u){t=M(u,"As the name suggests, the aim of this course is to give an "),te(e.$$.fragment,u),i=M(u,", which together comprise a large portion of the "),te(n.$$.fragment,u),a=M(u," in optimization and mathematical programming. "),te(s.$$.fragment,u),o=M(u," of the subject, spending most of our time on theory and algorithms that allow solutions to be found to these important problems. We will devote a relatively smaller amount of time to building and solving these types of models in practice.")},m(u,f){C(u,t,f),re(e,u,f),C(u,i,f),re(n,u,f),C(u,a,f),re(s,u,f),C(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&1&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){l||(V(e.$$.fragment,u),V(n.$$.fragment,u),V(s.$$.fragment,u),l=!0)},o(u){X(e.$$.fragment,u),X(n.$$.fragment,u),X(s.$$.fragment,u),l=!1},d(u){u&&(S(t),S(i),S(a),S(o)),ie(e,u),ie(n,u),ie(s,u)}}}function cAe(r){let t;return{c(){t=R("familiarity with linear algebra")},l(e){t=M(e,"familiarity with linear algebra")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function hAe(r){let t;return{c(){t=R("matrix math (addition/multiplication)")},l(e){t=M(e,"matrix math (addition/multiplication)")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function mAe(r){let t;return{c(){t=R("linear programming")},l(e){t=M(e,"linear programming")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function pAe(r){let t,e,i,n,a,s,o,l;return e=new mt({props:{$$slots:{default:[cAe]},$$scope:{ctx:r}}}),n=new mt({props:{$$slots:{default:[hAe]},$$scope:{ctx:r}}}),s=new mt({props:{$$slots:{default:[mAe]},$$scope:{ctx:r}}}),{c(){t=R("As far as prerequisites, you should have some "),ee(e.$$.fragment),i=R(", at a minimum the basic mechanics of "),ee(n.$$.fragment),a=R(". Topics such as linear rank and determinants with surface as well. Some familiarity with other optimization topics, especially "),ee(s.$$.fragment),o=R(", will also prove helpful.")},l(u){t=M(u,"As far as prerequisites, you should have some "),te(e.$$.fragment,u),i=M(u,", at a minimum the basic mechanics of "),te(n.$$.fragment,u),a=M(u,". Topics such as linear rank and determinants with surface as well. Some familiarity with other optimization topics, especially "),te(s.$$.fragment,u),o=M(u,", will also prove helpful.")},m(u,f){C(u,t,f),re(e,u,f),C(u,i,f),re(n,u,f),C(u,a,f),re(s,u,f),C(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&1&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){l||(V(e.$$.fragment,u),V(n.$$.fragment,u),V(s.$$.fragment,u),l=!0)},o(u){X(e.$$.fragment,u),X(n.$$.fragment,u),X(s.$$.fragment,u),l=!1},d(u){u&&(S(t),S(i),S(a),S(o)),ie(e,u),ie(n,u),ie(s,u)}}}function dAe(r){let t;return{c(){t=R("exploring a selection of different combinatorial optimization problems")},l(e){t=M(e,"exploring a selection of different combinatorial optimization problems")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function vAe(r){let t;return{c(){t=R("preliminaries on integer programming")},l(e){t=M(e,"preliminaries on integer programming")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function gAe(r){let t,e,i,n,a,s;return e=new mt({props:{$$slots:{default:[dAe]},$$scope:{ctx:r}}}),n=new mt({props:{$$slots:{default:[vAe]},$$scope:{ctx:r}}}),{c(){t=R("We will begin the class by by "),ee(e.$$.fragment),i=R(" and specialized algorithms for solving them. We'll then discuss "),ee(n.$$.fragment),a=R(", which we will see can itself be used as a tool for combinatorial optimization (as well as other types of problems).")},l(o){t=M(o,"We will begin the class by by "),te(e.$$.fragment,o),i=M(o," and specialized algorithms for solving them. We'll then discuss "),te(n.$$.fragment,o),a=M(o,", which we will see can itself be used as a tool for combinatorial optimization (as well as other types of problems).")},m(o,l){C(o,t,l),re(e,o,l),C(o,i,l),re(n,o,l),C(o,a,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),e.$set(u);const f={};l&1&&(f.$$scope={dirty:l,ctx:o}),n.$set(f)},i(o){s||(V(e.$$.fragment,o),V(n.$$.fragment,o),s=!0)},o(o){X(e.$$.fragment,o),X(n.$$.fragment,o),s=!1},d(o){o&&(S(t),S(i),S(a)),ie(e,o),ie(n,o)}}}function bAe(r){let t;return{c(){t=R("some problems seem to require more resources")},l(e){t=M(e,"some problems seem to require more resources")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function yAe(r){let t;return{c(){t=R("discussion on computational complexity")},l(e){t=M(e,"discussion on computational complexity")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function $Ae(r){let t,e,i,n,a,s;return e=new mt({props:{$$slots:{default:[bAe]},$$scope:{ctx:r}}}),n=new mt({props:{$$slots:{default:[yAe]},$$scope:{ctx:r}}}),{c(){t=R("In these discussions, we'll begin to notice how "),ee(e.$$.fragment),i=R(" than others while modeling and solving them. This will motivate a "),ee(n.$$.fragment),a=R(". We will not develop this topic completely formally, but at least at enough depth to help frame our discussions on what problems may be easier to solve than others.")},l(o){t=M(o,"In these discussions, we'll begin to notice how "),te(e.$$.fragment,o),i=M(o," than others while modeling and solving them. This will motivate a "),te(n.$$.fragment,o),a=M(o,". We will not develop this topic completely formally, but at least at enough depth to help frame our discussions on what problems may be easier to solve than others.")},m(o,l){C(o,t,l),re(e,o,l),C(o,i,l),re(n,o,l),C(o,a,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),e.$set(u);const f={};l&1&&(f.$$scope={dirty:l,ctx:o}),n.$set(f)},i(o){s||(V(e.$$.fragment,o),V(n.$$.fragment,o),s=!0)},o(o){X(e.$$.fragment,o),X(n.$$.fragment,o),s=!1},d(o){o&&(S(t),S(i),S(a)),ie(e,o),ie(n,o)}}}function _Ae(r){let t;return{c(){t=R("theory of solving integer programs")},l(e){t=M(e,"theory of solving integer programs")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function wAe(r){let t;return{c(){t=R("I expect that most of you taking this course have studied linear programming before. But don't worry too much of that's not the case, as we'll touch on all the theory we need during the review.")},l(e){t=M(e,"I expect that most of you taking this course have studied linear programming before. But don't worry too much of that's not the case, as we'll touch on all the theory we need during the review.")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function xAe(r){let t,e,i,n;return e=new D$({props:{$$slots:{default:[wAe]},$$scope:{ctx:r}}}),{c(){t=R("review"),ee(e.$$.fragment),i=R(" of linear programming")},l(a){t=M(a,"review"),te(e.$$.fragment,a),i=M(a," of linear programming")},m(a,s){C(a,t,s),re(e,a,s),C(a,i,s),n=!0},p(a,s){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){X(e.$$.fragment,a),n=!1},d(a){a&&(S(t),S(i)),ie(e,a)}}}function SAe(r){let t;return{c(){t=R("cutting planes and branch-and-bound")},l(e){t=M(e,"cutting planes and branch-and-bound")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function EAe(r){let t;return{c(){t=R("specialized solving techniques")},l(e){t=M(e,"specialized solving techniques")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function kAe(r){let t;return{c(){t=R("solving integer programs in real-life")},l(e){t=M(e,"solving integer programs in real-life")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function TAe(r){let t,e,i,n,a,s,o,l,u,f,h,c;return e=new mt({props:{$$slots:{default:[_Ae]},$$scope:{ctx:r}}}),n=new mt({props:{$$slots:{default:[xAe]},$$scope:{ctx:r}}}),s=new mt({props:{$$slots:{default:[SAe]},$$scope:{ctx:r}}}),l=new mt({props:{$$slots:{default:[EAe]},$$scope:{ctx:r}}}),f=new mt({props:{$$slots:{default:[kAe]},$$scope:{ctx:r}}}),{c(){t=R("From there, we'll take a deep dive into the "),ee(e.$$.fragment),i=R(". We'll need to start with a "),ee(n.$$.fragment),a=R(" and polyhedra. This will allow us to discuss the main integer programming techniques of "),ee(s.$$.fragment),o=R(". From there we will cover some more "),ee(l.$$.fragment),u=R(", and spend some time discussing practical matters of "),ee(f.$$.fragment),h=R(" applications.")},l(m){t=M(m,"From there, we'll take a deep dive into the "),te(e.$$.fragment,m),i=M(m,". We'll need to start with a "),te(n.$$.fragment,m),a=M(m," and polyhedra. This will allow us to discuss the main integer programming techniques of "),te(s.$$.fragment,m),o=M(m,". From there we will cover some more "),te(l.$$.fragment,m),u=M(m,", and spend some time discussing practical matters of "),te(f.$$.fragment,m),h=M(m," applications.")},m(m,d){C(m,t,d),re(e,m,d),C(m,i,d),re(n,m,d),C(m,a,d),re(s,m,d),C(m,o,d),re(l,m,d),C(m,u,d),re(f,m,d),C(m,h,d),c=!0},p(m,d){const v={};d&1&&(v.$$scope={dirty:d,ctx:m}),e.$set(v);const b={};d&1&&(b.$$scope={dirty:d,ctx:m}),n.$set(b);const g={};d&1&&(g.$$scope={dirty:d,ctx:m}),s.$set(g);const _={};d&1&&(_.$$scope={dirty:d,ctx:m}),l.$set(_);const y={};d&1&&(y.$$scope={dirty:d,ctx:m}),f.$set(y)},i(m){c||(V(e.$$.fragment,m),V(n.$$.fragment,m),V(s.$$.fragment,m),V(l.$$.fragment,m),V(f.$$.fragment,m),c=!0)},o(m){X(e.$$.fragment,m),X(n.$$.fragment,m),X(s.$$.fragment,m),X(l.$$.fragment,m),X(f.$$.fragment,m),c=!1},d(m){m&&(S(t),S(i),S(a),S(o),S(u),S(h)),ie(e,m),ie(n,m),ie(s,m),ie(l,m),ie(f,m)}}}function OAe(r){let t;return{c(){t=R("Textbooks")},l(e){t=M(e,"Textbooks")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function AAe(r){let t,e="Useful resources for students.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1baz3ta"&&(t.textContent=e),this.h()},h(){pe(t,"slot","context")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function IAe(r){let t;return{c(){t=R("this course will be taught from these notes")},l(e){t=M(e,"this course will be taught from these notes")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function CAe(r){let t;return{c(){t=R("not strictly required to obtain a separate textbook")},l(e){t=M(e,"not strictly required to obtain a separate textbook")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function PAe(r){let t,e="Integer Programming",i,n,a,s;return n=new hn({props:{refId:"wolsey2020"}}),{c(){t=de("em"),t.textContent=e,i=Ee(),ee(n.$$.fragment),a=R(". A large portion of this course")},l(o){t=ve(o,"EM",{"data-svelte-h":!0}),Xe(t)!=="svelte-1pcnffb"&&(t.textContent=e),i=ke(o),te(n.$$.fragment,o),a=M(o,". A large portion of this course")},m(o,l){C(o,t,l),C(o,i,l),re(n,o,l),C(o,a,l),s=!0},p:ye,i(o){s||(V(n.$$.fragment,o),s=!0)},o(o){X(n.$$.fragment,o),s=!1},d(o){o&&(S(t),S(i),S(a)),ie(n,o)}}}function DAe(r){let t,e,i,n,a,s,o,l;return e=new mt({props:{$$slots:{default:[IAe]},$$scope:{ctx:r}}}),n=new mt({props:{$$slots:{default:[CAe]},$$scope:{ctx:r}}}),s=new mt({props:{$$slots:{default:[PAe]},$$scope:{ctx:r}}}),{c(){t=R("The core of "),ee(e.$$.fragment),i=R(", thus students are "),ee(n.$$.fragment),a=R(". But I will strongly suggest anyone taking the course find a copy of the second edition to Laurence Wolsey's book "),ee(s.$$.fragment),o=R("'s content is derived from this book (although we'll present things in a slightly different order), and you'll find further details there not covered in the notes.")},l(u){t=M(u,"The core of "),te(e.$$.fragment,u),i=M(u,", thus students are "),te(n.$$.fragment,u),a=M(u,". But I will strongly suggest anyone taking the course find a copy of the second edition to Laurence Wolsey's book "),te(s.$$.fragment,u),o=M(u,"'s content is derived from this book (although we'll present things in a slightly different order), and you'll find further details there not covered in the notes.")},m(u,f){C(u,t,f),re(e,u,f),C(u,i,f),re(n,u,f),C(u,a,f),re(s,u,f),C(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&1&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){l||(V(e.$$.fragment,u),V(n.$$.fragment,u),V(s.$$.fragment,u),l=!0)},o(u){X(e.$$.fragment,u),X(n.$$.fragment,u),X(s.$$.fragment,u),l=!1},d(u){u&&(S(t),S(i),S(a),S(o)),ie(e,u),ie(n,u),ie(s,u)}}}function NAe(r){let t,e="Integer and Combinatorial Optimization",i,n,a;return n=new hn({props:{refId:"nemWol1999"}}),{c(){t=de("em"),t.textContent=e,i=Ee(),ee(n.$$.fragment)},l(s){t=ve(s,"EM",{"data-svelte-h":!0}),Xe(t)!=="svelte-1n6swei"&&(t.textContent=e),i=ke(s),te(n.$$.fragment,s)},m(s,o){C(s,t,o),C(s,i,o),re(n,s,o),a=!0},p:ye,i(s){a||(V(n.$$.fragment,s),a=!0)},o(s){X(n.$$.fragment,s),a=!1},d(s){s&&(S(t),S(i)),ie(n,s)}}}function RAe(r){let t,e,i,n,a,s,o,l,u,f;return e=new hn({props:{refId:"nemWol1999"}}),n=new hn({props:{refId:"wolsey2020"}}),s=new hn({props:{refId:"nemWol1999"}}),l=new hn({props:{refId:"wolsey2020"}}),{c(){t=R("Why didn't I choose "),ee(e.$$.fragment),i=R(" as the course text? I think the presentation and level of "),ee(n.$$.fragment),a=R(" is a little better suited for this course. It's also a bit newer, and although the theory found in "),ee(s.$$.fragment),o=R(" is evergreen, "),ee(l.$$.fragment),u=R(` contains a bit more updated information on techniques used by solvers in practice today.
    `)},l(h){t=M(h,"Why didn't I choose "),te(e.$$.fragment,h),i=M(h," as the course text? I think the presentation and level of "),te(n.$$.fragment,h),a=M(h," is a little better suited for this course. It's also a bit newer, and although the theory found in "),te(s.$$.fragment,h),o=M(h," is evergreen, "),te(l.$$.fragment,h),u=M(h,` contains a bit more updated information on techniques used by solvers in practice today.
    `)},m(h,c){C(h,t,c),re(e,h,c),C(h,i,c),re(n,h,c),C(h,a,c),re(s,h,c),C(h,o,c),re(l,h,c),C(h,u,c),f=!0},p:ye,i(h){f||(V(e.$$.fragment,h),V(n.$$.fragment,h),V(s.$$.fragment,h),V(l.$$.fragment,h),f=!0)},o(h){X(e.$$.fragment,h),X(n.$$.fragment,h),X(s.$$.fragment,h),X(l.$$.fragment,h),f=!1},d(h){h&&(S(t),S(i),S(a),S(o),S(u)),ie(e,h),ie(n,h),ie(s,h),ie(l,h)}}}function MAe(r){let t,e,i="the",n,a,s;return a=new D$({props:{$$slots:{default:[RAe]},$$scope:{ctx:r}}}),{c(){t=R("potentially "),e=de("em"),e.textContent=i,n=R(" reference for this subject"),ee(a.$$.fragment)},l(o){t=M(o,"potentially "),e=ve(o,"EM",{"data-svelte-h":!0}),Xe(e)!=="svelte-1qknu73"&&(e.textContent=i),n=M(o," reference for this subject"),te(a.$$.fragment,o)},m(o,l){C(o,t,l),C(o,e,l),C(o,n,l),re(a,o,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),a.$set(u)},i(o){s||(V(a.$$.fragment,o),s=!0)},o(o){X(a.$$.fragment,o),s=!1},d(o){o&&(S(t),S(e),S(n)),ie(a,o)}}}function BAe(r){let t,e,i,n,a,s,o="Theory of Linear and Integer Programming",l,u,f,h,c="Combinatorial Optimization: Polyhedra and Efficiency",m,d,v,b,g="Model Building in Mathematical Programming",_,y,$,I;return e=new mt({props:{$$slots:{default:[NAe]},$$scope:{ctx:r}}}),n=new mt({props:{$$slots:{default:[MAe]},$$scope:{ctx:r}}}),u=new hn({props:{refId:"schrijver1998theory"}}),d=new hn({props:{refId:"schrijver2003combOpt"}}),y=new hn({props:{refId:"williams2013model"}}),{c(){t=R("There are a few other sources that I recommend, whose contents is woven into this course. I have to start with the book "),ee(e.$$.fragment),i=R(", written by Wolsey along with George Nemhauser, which is "),ee(n.$$.fragment),a=R(". Two books written by Alexander Schrijver, "),s=de("em"),s.textContent=o,l=Ee(),ee(u.$$.fragment),f=R(" and "),h=de("em"),h.textContent=c,m=Ee(),ee(d.$$.fragment),v=R(", are excellect resources and cover the subject at an impressive depth (though the writing style is rather terse, and can be a little challenging for readers that are new to the subject). On the less theoretical, more practical side is Williams' book "),b=de("em"),b.textContent=g,_=Ee(),ee(y.$$.fragment),$=R(", which gives several examples of taking real-world problems and modeling them to be solved as integer programs (as well as other types of optimization problesm).")},l(A){t=M(A,"There are a few other sources that I recommend, whose contents is woven into this course. I have to start with the book "),te(e.$$.fragment,A),i=M(A,", written by Wolsey along with George Nemhauser, which is "),te(n.$$.fragment,A),a=M(A,". Two books written by Alexander Schrijver, "),s=ve(A,"EM",{"data-svelte-h":!0}),Xe(s)!=="svelte-1csca4f"&&(s.textContent=o),l=ke(A),te(u.$$.fragment,A),f=M(A," and "),h=ve(A,"EM",{"data-svelte-h":!0}),Xe(h)!=="svelte-bsx7f1"&&(h.textContent=c),m=ke(A),te(d.$$.fragment,A),v=M(A,", are excellect resources and cover the subject at an impressive depth (though the writing style is rather terse, and can be a little challenging for readers that are new to the subject). On the less theoretical, more practical side is Williams' book "),b=ve(A,"EM",{"data-svelte-h":!0}),Xe(b)!=="svelte-84924t"&&(b.textContent=g),_=ke(A),te(y.$$.fragment,A),$=M(A,", which gives several examples of taking real-world problems and modeling them to be solved as integer programs (as well as other types of optimization problesm).")},m(A,B){C(A,t,B),re(e,A,B),C(A,i,B),re(n,A,B),C(A,a,B),C(A,s,B),C(A,l,B),re(u,A,B),C(A,f,B),C(A,h,B),C(A,m,B),re(d,A,B),C(A,v,B),C(A,b,B),C(A,_,B),re(y,A,B),C(A,$,B),I=!0},p(A,B){const T={};B&1&&(T.$$scope={dirty:B,ctx:A}),e.$set(T);const x={};B&1&&(x.$$scope={dirty:B,ctx:A}),n.$set(x)},i(A){I||(V(e.$$.fragment,A),V(n.$$.fragment,A),V(u.$$.fragment,A),V(d.$$.fragment,A),V(y.$$.fragment,A),I=!0)},o(A){X(e.$$.fragment,A),X(n.$$.fragment,A),X(u.$$.fragment,A),X(d.$$.fragment,A),X(y.$$.fragment,A),I=!1},d(A){A&&(S(t),S(i),S(a),S(s),S(l),S(f),S(h),S(m),S(v),S(b),S(_),S($)),ie(e,A),ie(n,A),ie(u,A),ie(d,A),ie(y,A)}}}function FAe(r){let t;return{c(){t=R("About the notes")},l(e){t=M(e,"About the notes")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function zAe(r){let t,e="Discussing how to use this site.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1vim3mb"&&(t.textContent=e),this.h()},h(){pe(t,"slot","context")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function LAe(r){let t;return{c(){t=R("couldn't find a digital note-creating system that had the features I wanted, so I built my own")},l(e){t=M(e,"couldn't find a digital note-creating system that had the features I wanted, so I built my own")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function jAe(r){let t;return{c(){t=R("better on wider screens")},l(e){t=M(e,"better on wider screens")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function UAe(r){let t;return{c(){t=R("print these notes from your browser")},l(e){t=M(e,"print these notes from your browser")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function qAe(r){let t;return{c(){t=R("Your mileage may vary")},l(e){t=M(e,"Your mileage may vary")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function HAe(r){let t,e,i,n,a,s,o,l,u,f;return e=new mt({props:{$$slots:{default:[LAe]},$$scope:{ctx:r}}}),n=new mt({props:{$$slots:{default:[jAe]},$$scope:{ctx:r}}}),s=new mt({props:{$$slots:{default:[UAe]},$$scope:{ctx:r}}}),l=new mt({props:{$$slots:{default:[qAe]},$$scope:{ctx:r}}}),{c(){t=R("I have an irrational aversion to paper and think digital formats have so much more to offer. But I "),ee(e.$$.fragment),i=R(". The result is what you're seeing now. These notes will display and generally work "),ee(n.$$.fragment),a=R(" (e.g. a computer monitor/laptop/tablet as opposed to your phone), but can be accessed by anything with a web browser. If physical copies are your thing, you can "),ee(s.$$.fragment),o=R(". From what I've seen, Chrome and Edge will create a decent PDF through their default print utility, while Firefox was lacking. "),ee(l.$$.fragment),u=R(".")},l(h){t=M(h,"I have an irrational aversion to paper and think digital formats have so much more to offer. But I "),te(e.$$.fragment,h),i=M(h,". The result is what you're seeing now. These notes will display and generally work "),te(n.$$.fragment,h),a=M(h," (e.g. a computer monitor/laptop/tablet as opposed to your phone), but can be accessed by anything with a web browser. If physical copies are your thing, you can "),te(s.$$.fragment,h),o=M(h,". From what I've seen, Chrome and Edge will create a decent PDF through their default print utility, while Firefox was lacking. "),te(l.$$.fragment,h),u=M(h,".")},m(h,c){C(h,t,c),re(e,h,c),C(h,i,c),re(n,h,c),C(h,a,c),re(s,h,c),C(h,o,c),re(l,h,c),C(h,u,c),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),e.$set(m);const d={};c&1&&(d.$$scope={dirty:c,ctx:h}),n.$set(d);const v={};c&1&&(v.$$scope={dirty:c,ctx:h}),s.$set(v);const b={};c&1&&(b.$$scope={dirty:c,ctx:h}),l.$set(b)},i(h){f||(V(e.$$.fragment,h),V(n.$$.fragment,h),V(s.$$.fragment,h),V(l.$$.fragment,h),f=!0)},o(h){X(e.$$.fragment,h),X(n.$$.fragment,h),X(s.$$.fragment,h),X(l.$$.fragment,h),f=!1},d(h){h&&(S(t),S(i),S(a),S(o),S(u)),ie(e,h),ie(n,h),ie(s,h),ie(l,h)}}}function WAe(r){let t;return{c(){t=R("I'd love to hear your feedback on the notes!")},l(e){t=M(e,"I'd love to hear your feedback on the notes!")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function GAe(r){let t,e,i,n;return e=new mt({props:{$$slots:{default:[WAe]},$$scope:{ctx:r}}}),{c(){t=R("Additionally, "),ee(e.$$.fragment),i=R(" That means both content (the notes are almost surely littered with typos and unclear wordings) and user experience. If you find mistakes or have any ideas for how to make the notes better, I'd love to hear about them! (Though I'm only a hack of a web developer, so my ability to deliver on any of your technical suggestions may be limited.) I will be keeping track of who has contributed to improving these notes, and will have a prize at the end of the semester for the student(s) responsible for the most/best improvements.")},l(a){t=M(a,"Additionally, "),te(e.$$.fragment,a),i=M(a," That means both content (the notes are almost surely littered with typos and unclear wordings) and user experience. If you find mistakes or have any ideas for how to make the notes better, I'd love to hear about them! (Though I'm only a hack of a web developer, so my ability to deliver on any of your technical suggestions may be limited.) I will be keeping track of who has contributed to improving these notes, and will have a prize at the end of the semester for the student(s) responsible for the most/best improvements.")},m(a,s){C(a,t,s),re(e,a,s),C(a,i,s),n=!0},p(a,s){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){X(e.$$.fragment,a),n=!1},d(a){a&&(S(t),S(i)),ie(e,a)}}}function VAe(r){let t;return{c(){t=R(`These notes were created for educational use. With proper attribution,
    readers may freely copy, distribute, or produce derivative work from this
    content, in whole or in part, for any non-commercial use.`)},l(e){t=M(e,`These notes were created for educational use. With proper attribution,
    readers may freely copy, distribute, or produce derivative work from this
    content, in whole or in part, for any non-commercial use.`)},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function XAe(r){let t,e;return t=new mt({props:{$$slots:{default:[VAe]},$$scope:{ctx:r}}}),{c(){ee(t.$$.fragment)},l(i){te(t.$$.fragment,i)},m(i,n){re(t,i,n),e=!0},p(i,n){const a={};n&1&&(a.$$scope={dirty:n,ctx:i}),t.$set(a)},i(i){e||(V(t.$$.fragment,i),e=!0)},o(i){X(t.$$.fragment,i),e=!1},d(i){ie(t,i)}}}function KAe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$,I,A,B,T,x,U,O,F,D,L;return t=new cn({props:{level:"1",refId:"welcome",$$slots:{context:[iAe],default:[rAe]},$$scope:{ctx:r}}}),i=new xt({props:{$$slots:{default:[nAe]},$$scope:{ctx:r}}}),a=new cn({props:{level:"2",refId:"aboutTheCourse",$$slots:{context:[sAe],default:[aAe]},$$scope:{ctx:r}}}),o=new xt({props:{$$slots:{default:[fAe]},$$scope:{ctx:r}}}),u=new xt({props:{$$slots:{default:[pAe]},$$scope:{ctx:r}}}),h=new xt({props:{$$slots:{default:[gAe]},$$scope:{ctx:r}}}),m=new xt({props:{$$slots:{default:[$Ae]},$$scope:{ctx:r}}}),v=new xt({props:{$$slots:{default:[TAe]},$$scope:{ctx:r}}}),g=new cn({props:{level:"3",refId:"textbooks",$$slots:{context:[AAe],default:[OAe]},$$scope:{ctx:r}}}),y=new xt({props:{$$slots:{default:[DAe]},$$scope:{ctx:r}}}),I=new xt({props:{$$slots:{default:[BAe]},$$scope:{ctx:r}}}),B=new cn({props:{level:"2",refId:"aboutTheNotes",$$slots:{context:[zAe],default:[FAe]},$$scope:{ctx:r}}}),x=new xt({props:{$$slots:{default:[HAe]},$$scope:{ctx:r}}}),O=new xt({props:{$$slots:{default:[GAe]},$$scope:{ctx:r}}}),D=new xt({props:{$$slots:{default:[XAe]},$$scope:{ctx:r}}}),{c(){ee(t.$$.fragment),e=Ee(),ee(i.$$.fragment),n=Ee(),ee(a.$$.fragment),s=Ee(),ee(o.$$.fragment),l=Ee(),ee(u.$$.fragment),f=Ee(),ee(h.$$.fragment),c=Ee(),ee(m.$$.fragment),d=Ee(),ee(v.$$.fragment),b=Ee(),ee(g.$$.fragment),_=Ee(),ee(y.$$.fragment),$=Ee(),ee(I.$$.fragment),A=Ee(),ee(B.$$.fragment),T=Ee(),ee(x.$$.fragment),U=Ee(),ee(O.$$.fragment),F=Ee(),ee(D.$$.fragment)},l(H){te(t.$$.fragment,H),e=ke(H),te(i.$$.fragment,H),n=ke(H),te(a.$$.fragment,H),s=ke(H),te(o.$$.fragment,H),l=ke(H),te(u.$$.fragment,H),f=ke(H),te(h.$$.fragment,H),c=ke(H),te(m.$$.fragment,H),d=ke(H),te(v.$$.fragment,H),b=ke(H),te(g.$$.fragment,H),_=ke(H),te(y.$$.fragment,H),$=ke(H),te(I.$$.fragment,H),A=ke(H),te(B.$$.fragment,H),T=ke(H),te(x.$$.fragment,H),U=ke(H),te(O.$$.fragment,H),F=ke(H),te(D.$$.fragment,H)},m(H,Y){re(t,H,Y),C(H,e,Y),re(i,H,Y),C(H,n,Y),re(a,H,Y),C(H,s,Y),re(o,H,Y),C(H,l,Y),re(u,H,Y),C(H,f,Y),re(h,H,Y),C(H,c,Y),re(m,H,Y),C(H,d,Y),re(v,H,Y),C(H,b,Y),re(g,H,Y),C(H,_,Y),re(y,H,Y),C(H,$,Y),re(I,H,Y),C(H,A,Y),re(B,H,Y),C(H,T,Y),re(x,H,Y),C(H,U,Y),re(O,H,Y),C(H,F,Y),re(D,H,Y),L=!0},p(H,[Y]){const W={};Y&1&&(W.$$scope={dirty:Y,ctx:H}),t.$set(W);const z={};Y&1&&(z.$$scope={dirty:Y,ctx:H}),i.$set(z);const ne={};Y&1&&(ne.$$scope={dirty:Y,ctx:H}),a.$set(ne);const ue={};Y&1&&(ue.$$scope={dirty:Y,ctx:H}),o.$set(ue);const K={};Y&1&&(K.$$scope={dirty:Y,ctx:H}),u.$set(K);const Q={};Y&1&&(Q.$$scope={dirty:Y,ctx:H}),h.$set(Q);const oe={};Y&1&&(oe.$$scope={dirty:Y,ctx:H}),m.$set(oe);const Ae={};Y&1&&(Ae.$$scope={dirty:Y,ctx:H}),v.$set(Ae);const we={};Y&1&&(we.$$scope={dirty:Y,ctx:H}),g.$set(we);const Se={};Y&1&&(Se.$$scope={dirty:Y,ctx:H}),y.$set(Se);const Te={};Y&1&&(Te.$$scope={dirty:Y,ctx:H}),I.$set(Te);const Ie={};Y&1&&(Ie.$$scope={dirty:Y,ctx:H}),B.$set(Ie);const ce={};Y&1&&(ce.$$scope={dirty:Y,ctx:H}),x.$set(ce);const ge={};Y&1&&(ge.$$scope={dirty:Y,ctx:H}),O.$set(ge);const be={};Y&1&&(be.$$scope={dirty:Y,ctx:H}),D.$set(be)},i(H){L||(V(t.$$.fragment,H),V(i.$$.fragment,H),V(a.$$.fragment,H),V(o.$$.fragment,H),V(u.$$.fragment,H),V(h.$$.fragment,H),V(m.$$.fragment,H),V(v.$$.fragment,H),V(g.$$.fragment,H),V(y.$$.fragment,H),V(I.$$.fragment,H),V(B.$$.fragment,H),V(x.$$.fragment,H),V(O.$$.fragment,H),V(D.$$.fragment,H),L=!0)},o(H){X(t.$$.fragment,H),X(i.$$.fragment,H),X(a.$$.fragment,H),X(o.$$.fragment,H),X(u.$$.fragment,H),X(h.$$.fragment,H),X(m.$$.fragment,H),X(v.$$.fragment,H),X(g.$$.fragment,H),X(y.$$.fragment,H),X(I.$$.fragment,H),X(B.$$.fragment,H),X(x.$$.fragment,H),X(O.$$.fragment,H),X(D.$$.fragment,H),L=!1},d(H){H&&(S(e),S(n),S(s),S(l),S(f),S(c),S(d),S(b),S(_),S($),S(A),S(T),S(U),S(F)),ie(t,H),ie(i,H),ie(a,H),ie(o,H),ie(u,H),ie(h,H),ie(m,H),ie(v,H),ie(g,H),ie(y,H),ie(I,H),ie(B,H),ie(x,H),ie(O,H),ie(D,H)}}}class YAe extends Ot{constructor(t){super(),At(this,t,null,KAe,St,{})}}function JAe(r){let t,e,i;const n=r[1].default,a=wr(n,r,r[0],null);return{c(){t=de("blockquote"),e=de("div"),a&&a.c(),this.h()},l(s){t=ve(s,"BLOCKQUOTE",{class:!0});var o=He(t);e=ve(o,"DIV",{class:!0});var l=He(e);a&&a.l(l),l.forEach(S),o.forEach(S),this.h()},h(){pe(e,"class","svelte-4acvjz"),pe(t,"class","svelte-4acvjz")},m(s,o){C(s,t,o),fe(t,e),a&&a.m(e,null),i=!0},p(s,[o]){a&&a.p&&(!i||o&1)&&xr(a,n,s,s[0],i?Er(n,s[0],o,null):Sr(s[0]),null)},i(s){i||(V(a,s),i=!0)},o(s){X(a,s),i=!1},d(s){s&&S(t),a&&a.d(s)}}}function QAe(r,t,e){let{$$slots:i={},$$scope:n}=t;return r.$$set=a=>{"$$scope"in a&&e(0,n=a.$$scope)},[n,i]}class N$ extends Ot{constructor(t){super(),At(this,t,QAe,JAe,St,{})}}const ZAe=r=>({}),w7=r=>({}),eIe=r=>({}),x7=r=>({}),tIe=r=>({}),S7=r=>({}),rIe=r=>({}),E7=r=>({});function k7(r){let t,e,i;const n=r[6].abbrev,a=wr(n,r,r[10],w7);return{c(){t=R("("),a&&a.c(),e=R(")")},l(s){t=M(s,"("),a&&a.l(s),e=M(s,")")},m(s,o){C(s,t,o),a&&a.m(s,o),C(s,e,o),i=!0},p(s,o){a&&a.p&&(!i||o&1024)&&xr(a,n,s,s[10],i?Er(n,s[10],o,ZAe):Sr(s[10]),w7)},i(s){i||(V(a,s),i=!0)},o(s){X(a,s),i=!1},d(s){s&&(S(t),S(e)),a&&a.d(s)}}}function iIe(r){let t,e,i;const n=r[6].name,a=wr(n,r,r[10],x7);let s=r[4].abbrev&&k7(r);return{c(){a&&a.c(),t=Ee(),s&&s.c(),e=vt()},l(o){a&&a.l(o),t=ke(o),s&&s.l(o),e=vt()},m(o,l){a&&a.m(o,l),C(o,t,l),s&&s.m(o,l),C(o,e,l),i=!0},p(o,l){a&&a.p&&(!i||l&1024)&&xr(a,n,o,o[10],i?Er(n,o[10],l,eIe):Sr(o[10]),x7),o[4].abbrev?s?(s.p(o,l),l&16&&V(s,1)):(s=k7(o),s.c(),V(s,1),s.m(e.parentNode,e)):s&&(zs(),X(s,1,1,()=>{s=null}),Ls())},i(o){i||(V(a,o),V(s),i=!0)},o(o){X(a,o),X(s),i=!1},d(o){o&&(S(t),S(e)),a&&a.d(o),s&&s.d(o)}}}function nIe(r){let t;const e=r[6].default,i=wr(e,r,r[10],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&1024)&&xr(i,e,n,n[10],t?Er(e,n[10],a,null):Sr(n[10]),null)},i(n){t||(V(i,n),t=!0)},o(n){X(i,n),t=!1},d(n){i&&i.d(n)}}}function T7(r){let t,e,i,n,a;return{c(){t=de("a"),e=R("↩︎"),this.h()},l(s){t=ve(s,"A",{style:!0,href:!0});var o=He(t);e=M(o,"↩︎"),o.forEach(S),this.h()},h(){Rt(t,"float","right"),Rt(t,"font-size","1.4rem"),pe(t,"href",i="#"+r[3])},m(s,o){C(s,t,o),fe(t,e),n||(a=pt(t,"click",r[9]),n=!0)},p(s,o){o&8&&i!==(i="#"+s[3])&&pe(t,"href",i)},d(s){s&&S(t),n=!1,a()}}}function aIe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d;const v=r[6].name,b=wr(v,r,r[10],E7),g=r[6].abbrev,_=wr(g,r,r[10],S7);f=new xt({props:{$$slots:{default:[iIe]},$$scope:{ctx:r}}}),c=new xt({props:{$$slots:{default:[nIe]},$$scope:{ctx:r}}});let y=!!r[3]&&T7(r);return{c(){t=de("span"),b&&b.c(),i=Ee(),n=de("span"),_&&_.c(),s=Ee(),o=de("div"),l=de("div"),u=de("div"),ee(f.$$.fragment),h=Ee(),ee(c.$$.fragment),m=Ee(),y&&y.c(),this.h()},l($){t=ve($,"SPAN",{id:!0,style:!0});var I=He(t);b&&b.l(I),I.forEach(S),i=ke($),n=ve($,"SPAN",{id:!0,style:!0});var A=He(n);_&&_.l(A),A.forEach(S),s=ke($),o=ve($,"DIV",{class:!0});var B=He(o);l=ve(B,"DIV",{id:!0});var T=He(l);u=ve(T,"DIV",{class:!0});var x=He(u);te(f.$$.fragment,x),x.forEach(S),h=ke(T),te(c.$$.fragment,T),T.forEach(S),m=ke(B),y&&y.l(B),B.forEach(S),this.h()},h(){pe(t,"id",e=r[0]+":nameSlot"),Rt(t,"display","none"),pe(n,"id",a=r[0]+":abbrevSlot"),Rt(n,"display","none"),pe(u,"class","problemTitle svelte-1l1pya5"),pe(l,"id",r[0]),pe(o,"class","problemContainer svelte-1l1pya5")},m($,I){C($,t,I),b&&b.m(t,null),r[7](t),C($,i,I),C($,n,I),_&&_.m(n,null),r[8](n),C($,s,I),C($,o,I),fe(o,l),fe(l,u),re(f,u,null),fe(l,h),re(c,l,null),fe(o,m),y&&y.m(o,null),d=!0},p($,[I]){b&&b.p&&(!d||I&1024)&&xr(b,v,$,$[10],d?Er(v,$[10],I,rIe):Sr($[10]),E7),(!d||I&1&&e!==(e=$[0]+":nameSlot"))&&pe(t,"id",e),_&&_.p&&(!d||I&1024)&&xr(_,g,$,$[10],d?Er(g,$[10],I,tIe):Sr($[10]),S7),(!d||I&1&&a!==(a=$[0]+":abbrevSlot"))&&pe(n,"id",a);const A={};I&1040&&(A.$$scope={dirty:I,ctx:$}),f.$set(A);const B={};I&1024&&(B.$$scope={dirty:I,ctx:$}),c.$set(B),(!d||I&1)&&pe(l,"id",$[0]),$[3]?y?y.p($,I):(y=T7($),y.c(),y.m(o,null)):y&&(y.d(1),y=null)},i($){d||(V(b,$),V(_,$),V(f.$$.fragment,$),V(c.$$.fragment,$),d=!0)},o($){X(b,$),X(_,$),X(f.$$.fragment,$),X(c.$$.fragment,$),d=!1},d($){$&&(S(t),S(i),S(n),S(s),S(o)),b&&b.d($),r[7](null),_&&_.d($),r[8](null),ie(f),ie(c),y&&y.d()}}}function sIe(r,t,e){let i,n;yt(r,zl,d=>e(5,n=d));let{$$slots:a={},$$scope:s}=t;const o=MI(a);let{refId:l}=t,u,f;l="prob:"+l;function h(d){Is[d?"unshift":"push"](()=>{u=d,e(1,u)})}function c(d){Is[d?"unshift":"push"](()=>{f=d,e(2,f)})}const m=()=>{zl.update(d=>(delete d.returnIds[l],d))};return r.$$set=d=>{"refId"in d&&e(0,l=d.refId),"$$scope"in d&&e(10,s=d.$$scope)},r.$$.update=()=>{r.$$.dirty&7&&zl.update(d=>(d.names[l]=u==null?void 0:u.firstChild,d.abbrevs[l]=f==null?void 0:f.firstChild,d)),r.$$.dirty&33&&e(3,i=n.returnIds[l])},[l,u,f,i,o,n,a,h,c,m,s]}class so extends Ot{constructor(t){super(),At(this,t,sIe,aIe,St,{refId:0})}}function oIe(r){var n;let t,e=((n=r[2])==null?void 0:n.innerHTML)+"",i;return{c(){t=new ba(!1),i=vt(),this.h()},l(a){t=ya(a,!1),i=vt(),this.h()},h(){t.a=i},m(a,s){t.m(e,a,s),C(a,i,s)},p(a,s){var o;s&4&&e!==(e=((o=a[2])==null?void 0:o.innerHTML)+"")&&t.p(e)},i:ye,o:ye,d(a){a&&(S(i),t.d())}}}function lIe(r){var u;let t,e,i,n,a=((u=r[2])==null?void 0:u.innerHTML)+"",s,o,l;return t=new ep({props:{show:r[4],divId:r[3]}}),{c(){ee(t.$$.fragment),e=Ee(),i=de("span"),n=new ba(!1),this.h()},l(f){te(t.$$.fragment,f),e=ke(f),i=ve(f,"SPAN",{class:!0,id:!0,role:!0,tabindex:!0,"aria-label":!0});var h=He(i);n=ya(h,!1),h.forEach(S),this.h()},h(){n.a=null,pe(i,"class","eqRef svelte-17atccr"),pe(i,"id",r[3]),pe(i,"role","button"),pe(i,"tabindex","0"),pe(i,"aria-label","Toggle popup")},m(f,h){re(t,f,h),C(f,e,h),C(f,i,h),n.m(a,i),s=!0,o||(l=[pt(i,"keydown",r[6]),pt(i,"click",r[6])],o=!0)},p(f,h){var m;const c={};h&16&&(c.show=f[4]),h&8&&(c.divId=f[3]),t.$set(c),(!s||h&4)&&a!==(a=((m=f[2])==null?void 0:m.innerHTML)+"")&&n.p(a),(!s||h&8)&&pe(i,"id",f[3])},i(f){s||(V(t.$$.fragment,f),s=!0)},o(f){X(t.$$.fragment,f),s=!1},d(f){f&&(S(e),S(i)),ie(t,f),o=!1,bn(l)}}}function uIe(r){let t=r[1]?"a":"span",e,i=(r[1]?"a":"span")&&kg(r);return{c(){i&&i.c(),e=vt()},l(n){i&&i.l(n),e=vt()},m(n,a){i&&i.m(n,a),C(n,e,a)},p(n,a){n[1],t?St(t,n[1]?"a":"span")?(i.d(1),i=kg(n),t=n[1]?"a":"span",i.c(),i.m(e.parentNode,e)):i.p(n,a):(i=kg(n),t=n[1]?"a":"span",i.c(),i.m(e.parentNode,e))},i:ye,o:ye,d(n){n&&S(e),i&&i.d(n)}}}function kg(r){var l;let t,e,i=((l=r[2])==null?void 0:l.innerHTML)+"",n,a,s=[{class:n=zn(r[1]?"eqRef":"")+" svelte-17atccr"},{href:a=`#${r[0]}`}],o={};for(let u=0;u<s.length;u+=1)o=D7(o,s[u]);return{c(){t=de(r[1]?"a":"span"),e=new ba(!1),this.h()},l(u){t=ve(u,((r[1]?"a":"span")||"null").toUpperCase(),{class:!0,href:!0});var f=He(t);e=ya(f,!1),f.forEach(S),this.h()},h(){e.a=null,cm(r[1]?"a":"span")(t,o)},m(u,f){C(u,t,f),e.m(i,t)},p(u,f){var h;f&4&&i!==(i=((h=u[2])==null?void 0:h.innerHTML)+"")&&e.p(i),cm(u[1]?"a":"span")(t,o=N7(s,[f&2&&n!==(n=zn(u[1]?"eqRef":"")+" svelte-17atccr")&&{class:n},f&1&&a!==(a=`#${u[0]}`)&&{href:a}]))},d(u){u&&S(t)}}}function fIe(r){let t,e,i,n;const a=[uIe,lIe,oIe],s=[];function o(l,u){return l[5]?0:l[1]?1:2}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=vt()},l(l){e.l(l),i=vt()},m(l,u){s[t].m(l,u),C(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(zs(),X(s[f],1,1,()=>{s[f]=null}),Ls(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),V(e,1),e.m(i.parentNode,i))},i(l){n||(V(e),n=!0)},o(l){X(e),n=!1},d(l){l&&S(i),s[t].d(l)}}}function cIe(r,t,e){let i,n,a,s,o,l;yt(r,zl,d=>e(9,o=d)),yt(r,Gi,d=>e(5,l=d));let{refId:u}=t,{desiredRefStyle:f="abbrev"}=t,{link:h=!0}=t;u="prob:"+u;const c=(o.numRefs[u]||0)+1;zl.update(d=>(Object.keys(d.numRefs).includes(u)||(d.numRefs[u]=0),d.numRefs[u]+=1,d));const m=()=>{e(4,n=!n);const d=document.getElementById(i);if((d==null?void 0:d.childElementCount)===1){let v=0;const b=document.createElement("div");d==null||d.appendChild(b),setTimeout(function(){const _=document.getElementById(u).cloneNode(!0);_.id=_.id||"",_.id+="Ref"+c,d==null||d.appendChild(_);const y=document.createElement("a");y.innerHTML="jump to",y.setAttribute("href","#"+u),y.style.fontSize="1.2rem",y.style.float="right",y.onclick=()=>{zl.update($=>($.returnIds[u]=i,$))},d==null||d.appendChild(y)},v)}};return r.$$set=d=>{"refId"in d&&e(0,u=d.refId),"desiredRefStyle"in d&&e(7,f=d.desiredRefStyle),"link"in d&&e(1,h=d.link)},r.$$.update=()=>{r.$$.dirty&1&&e(3,i=u+"-ref"+c),r.$$.dirty&641&&e(8,a=o.abbrevs[u]?f:"name"),r.$$.dirty&769&&e(2,s=a==="name"?o.names[u]:o.abbrevs[u])},e(4,n=!1),[u,h,s,i,n,l,m,f,a,o]}class R$ extends Ot{constructor(t){super(),At(this,t,cIe,fIe,St,{refId:0,desiredRefStyle:7,link:1})}}function hIe(r){let t,e,i=r[2].numbers[r[0]]+"",n,a,s,o;return{c(){t=de("a"),e=R("Section "),n=R(i),this.h()},l(l){t=ve(l,"A",{id:!0,href:!0});var u=He(t);e=M(u,"Section "),n=M(u,i),u.forEach(S),this.h()},h(){pe(t,"id",r[1]),pe(t,"href",a="#"+r[0])},m(l,u){C(l,t,u),fe(t,e),fe(t,n),s||(o=pt(t,"click",r[3]),s=!0)},p(l,[u]){u&5&&i!==(i=l[2].numbers[l[0]]+"")&&js(n,i),u&2&&pe(t,"id",l[1]),u&1&&a!==(a="#"+l[0])&&pe(t,"href",a)},i:ye,o:ye,d(l){l&&S(t),s=!1,o()}}}function mIe(r,t,e){let i,n;yt(r,Lr,l=>e(2,n=l));let{refId:a}=t;const s=n.numRefs[a]||1;Lr.update(l=>(Object.keys(l.numRefs).includes(a)||(l.numRefs[a]=0),l.numRefs[a]+=1,l));const o=()=>{Lr.update(l=>(l.returnIds[a]=i,l))};return r.$$set=l=>{"refId"in l&&e(0,a=l.refId)},r.$$.update=()=>{r.$$.dirty&1&&e(0,a="sec:"+a),r.$$.dirty&1&&e(1,i=a+"-ref"+s)},[a,i,n,o]}class DI extends Ot{constructor(t){super(),At(this,t,mIe,hIe,St,{refId:0})}}function pIe(r){let t;return{c(){t=R("Definitions")},l(e){t=M(e,"Definitions")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function dIe(r){let t,e="What is combinatorial optimization anyway?";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1bmw5sv"&&(t.textContent=e),this.h()},h(){pe(t,"slot","context")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function vIe(r){let t;return{c(){t=R("what is combinatorial optimization?")},l(e){t=M(e,"what is combinatorial optimization?")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function gIe(r){let t;return{c(){t=R('definition of "optimization"')},l(e){t=M(e,'definition of "optimization"')},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function bIe(r){let t;return{c(){t=R("Mathematics. a mathematical technique for finding a maximum or minimum value of a function of several variables subject to a set of constraints, as linear programming or systems analysis.")},l(e){t=M(e,"Mathematics. a mathematical technique for finding a maximum or minimum value of a function of several variables subject to a set of constraints, as linear programming or systems analysis.")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function yIe(r){let t,e,i="the fact of optimizing; making the best of anything.",n,a,s="the condition of being optimized.",o,l,u,f;return u=new mt({props:{$$slots:{default:[bIe]},$$scope:{ctx:r}}}),{c(){t=de("ol"),e=de("li"),e.textContent=i,n=Ee(),a=de("li"),a.textContent=s,o=Ee(),l=de("li"),ee(u.$$.fragment)},l(h){t=ve(h,"OL",{});var c=He(t);e=ve(c,"LI",{"data-svelte-h":!0}),Xe(e)!=="svelte-13p2ae2"&&(e.textContent=i),n=ke(c),a=ve(c,"LI",{"data-svelte-h":!0}),Xe(a)!=="svelte-62xkzt"&&(a.textContent=s),o=ke(c),l=ve(c,"LI",{});var m=He(l);te(u.$$.fragment,m),m.forEach(S),c.forEach(S)},m(h,c){C(h,t,c),fe(t,e),fe(t,n),fe(t,a),fe(t,o),fe(t,l),re(u,l,null),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),u.$set(m)},i(h){f||(V(u.$$.fragment,h),f=!0)},o(h){X(u.$$.fragment,h),f=!1},d(h){h&&S(t),ie(u)}}}function $Ie(r){let t;return{c(){t=R("shipping company determining how to deliver packages")},l(e){t=M(e,"shipping company determining how to deliver packages")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function _Ie(r){let t;return{c(){t=R("airline determining what flights to offer")},l(e){t=M(e,"airline determining what flights to offer")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function wIe(r){let t,e,i,n,a="dictionary.com",s,o,l,u,f,h,c,m,d,v;return e=new mt({props:{$$slots:{default:[vIe]},$$scope:{ctx:r}}}),o=new mt({props:{$$slots:{default:[gIe]},$$scope:{ctx:r}}}),u=new N$({props:{$$slots:{default:[yIe]},$$scope:{ctx:r}}}),h=new mt({props:{$$slots:{default:[$Ie]},$$scope:{ctx:r}}}),m=new mt({props:{$$slots:{default:[_Ie]},$$scope:{ctx:r}}}),{c(){t=R("So, "),ee(e.$$.fragment),i=R(" Maybe we should break it down into parts. As of the time of writing, the "),n=de("a"),n.textContent=a,s=Ee(),ee(o.$$.fragment),l=R(` is:
    `),ee(u.$$.fragment),f=R(`
    Definition number 3 matches perfectly with what we mean in this course. Abstractly, we're talking about maximizing or minimizing a function over some set of feasible solutions. Concretely, it could be something like a `),ee(h.$$.fragment),c=R(" with the least overall cost. Or an "),ee(m.$$.fragment),d=R(", considering crew/fuel/airport costs, subject to meeting projected customer demand."),this.h()},l(b){t=M(b,"So, "),te(e.$$.fragment,b),i=M(b," Maybe we should break it down into parts. As of the time of writing, the "),n=ve(b,"A",{href:!0,"data-svelte-h":!0}),Xe(n)!=="svelte-cbklv7"&&(n.textContent=a),s=ke(b),te(o.$$.fragment,b),l=M(b,` is:
    `),te(u.$$.fragment,b),f=M(b,`
    Definition number 3 matches perfectly with what we mean in this course. Abstractly, we're talking about maximizing or minimizing a function over some set of feasible solutions. Concretely, it could be something like a `),te(h.$$.fragment,b),c=M(b," with the least overall cost. Or an "),te(m.$$.fragment,b),d=M(b,", considering crew/fuel/airport costs, subject to meeting projected customer demand."),this.h()},h(){pe(n,"href","https://www.dictionary.com/browse/optimization")},m(b,g){C(b,t,g),re(e,b,g),C(b,i,g),C(b,n,g),C(b,s,g),re(o,b,g),C(b,l,g),re(u,b,g),C(b,f,g),re(h,b,g),C(b,c,g),re(m,b,g),C(b,d,g),v=!0},p(b,g){const _={};g&1&&(_.$$scope={dirty:g,ctx:b}),e.$set(_);const y={};g&1&&(y.$$scope={dirty:g,ctx:b}),o.$set(y);const $={};g&1&&($.$$scope={dirty:g,ctx:b}),u.$set($);const I={};g&1&&(I.$$scope={dirty:g,ctx:b}),h.$set(I);const A={};g&1&&(A.$$scope={dirty:g,ctx:b}),m.$set(A)},i(b){v||(V(e.$$.fragment,b),V(o.$$.fragment,b),V(u.$$.fragment,b),V(h.$$.fragment,b),V(m.$$.fragment,b),v=!0)},o(b){X(e.$$.fragment,b),X(o.$$.fragment,b),X(u.$$.fragment,b),X(h.$$.fragment,b),X(m.$$.fragment,b),v=!1},d(b){b&&(S(t),S(i),S(n),S(s),S(l),S(f),S(c),S(d)),ie(e,b),ie(o,b),ie(u,b),ie(h,b),ie(m,b)}}}function xIe(r){let t;return{c(){t=R('definition of "combinatorial"')},l(e){t=M(e,'definition of "combinatorial"')},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function SIe(r){let t;return{c(){t=R("of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration.")},l(e){t=M(e,"of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration.")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function EIe(r){let t,e,i="of, relating to, or involving the combination of elements, as in phonetics or music.",n,a,s,o,l,u="Mathematics. of or relating to combination, or the modes, properties, etc., of combinations.",f;return s=new mt({props:{$$slots:{default:[SIe]},$$scope:{ctx:r}}}),{c(){t=de("ol"),e=de("li"),e.textContent=i,n=Ee(),a=de("li"),ee(s.$$.fragment),o=Ee(),l=de("li"),l.textContent=u},l(h){t=ve(h,"OL",{});var c=He(t);e=ve(c,"LI",{"data-svelte-h":!0}),Xe(e)!=="svelte-1mo51td"&&(e.textContent=i),n=ke(c),a=ve(c,"LI",{});var m=He(a);te(s.$$.fragment,m),m.forEach(S),o=ke(c),l=ve(c,"LI",{"data-svelte-h":!0}),Xe(l)!=="svelte-1kqpjdy"&&(l.textContent=u),c.forEach(S)},m(h,c){C(h,t,c),fe(t,e),fe(t,n),fe(t,a),re(s,a,null),fe(t,o),fe(t,l),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),s.$set(m)},i(h){f||(V(s.$$.fragment,h),f=!0)},o(h){X(s.$$.fragment,h),f=!1},d(h){h&&S(t),ie(s)}}}function kIe(r){let t;return{c(){t=R('"combinatorial" describes the set of feasible solutions')},l(e){t=M(e,'"combinatorial" describes the set of feasible solutions')},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function TIe(r){let t,e,i,n,a="dictionary.com",s,o,l,u,f,h;return e=new mt({props:{$$slots:{default:[xIe]},$$scope:{ctx:r}}}),o=new N$({props:{$$slots:{default:[EIe]},$$scope:{ctx:r}}}),u=new mt({props:{$$slots:{default:[kIe]},$$scope:{ctx:r}}}),{c(){t=R("Meanwhile, the "),ee(e.$$.fragment),i=R(" (also from "),n=de("a"),n.textContent=a,s=R(`) is:
    `),ee(o.$$.fragment),l=R(`
    Most useful for us is definition number 2, "of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration." We will see that `),ee(u.$$.fragment),f=R(" in the problems we are about to study."),this.h()},l(c){t=M(c,"Meanwhile, the "),te(e.$$.fragment,c),i=M(c," (also from "),n=ve(c,"A",{href:!0,"data-svelte-h":!0}),Xe(n)!=="svelte-1gvq6s2"&&(n.textContent=a),s=M(c,`) is:
    `),te(o.$$.fragment,c),l=M(c,`
    Most useful for us is definition number 2, "of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration." We will see that `),te(u.$$.fragment,c),f=M(c," in the problems we are about to study."),this.h()},h(){pe(n,"href","https://www.dictionary.com/browse/combinatorial")},m(c,m){C(c,t,m),re(e,c,m),C(c,i,m),C(c,n,m),C(c,s,m),re(o,c,m),C(c,l,m),re(u,c,m),C(c,f,m),h=!0},p(c,m){const d={};m&1&&(d.$$scope={dirty:m,ctx:c}),e.$set(d);const v={};m&1&&(v.$$scope={dirty:m,ctx:c}),o.$set(v);const b={};m&1&&(b.$$scope={dirty:m,ctx:c}),u.$set(b)},i(c){h||(V(e.$$.fragment,c),V(o.$$.fragment,c),V(u.$$.fragment,c),h=!0)},o(c){X(e.$$.fragment,c),X(o.$$.fragment,c),X(u.$$.fragment,c),h=!1},d(c){c&&(S(t),S(i),S(n),S(s),S(l),S(f)),ie(e,c),ie(o,c),ie(u,c)}}}function OIe(r){let t;return{c(){t=R("a subfield of mathematical optimization that consists of finding an optimal object from a finite set of objects, where the set of feasible solutions is discrete or can be reduced to a discrete set")},l(e){t=M(e,"a subfield of mathematical optimization that consists of finding an optimal object from a finite set of objects, where the set of feasible solutions is discrete or can be reduced to a discrete set")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function AIe(r){let t,e;return t=new xt({props:{$$slots:{default:[OIe]},$$scope:{ctx:r}}}),{c(){ee(t.$$.fragment)},l(i){te(t.$$.fragment,i)},m(i,n){re(t,i,n),e=!0},p(i,n){const a={};n&1&&(a.$$scope={dirty:n,ctx:i}),t.$set(a)},i(i){e||(V(t.$$.fragment,i),e=!0)},o(i){X(t.$$.fragment,i),e=!1},d(i){ie(t,i)}}}function IIe(r){let t,e,i="Wikipedia page",n,a,s;return a=new N$({props:{$$slots:{default:[AIe]},$$scope:{ctx:r}}}),{c(){t=R("Time to bring it all together. The "),e=de("a"),e.textContent=i,n=R(` on combinatorial optimization describes it as:
    `),ee(a.$$.fragment),this.h()},l(o){t=M(o,"Time to bring it all together. The "),e=ve(o,"A",{href:!0,"data-svelte-h":!0}),Xe(e)!=="svelte-1xuusl"&&(e.textContent=i),n=M(o,` on combinatorial optimization describes it as:
    `),te(a.$$.fragment,o),this.h()},h(){pe(e,"href","https://en.wikipedia.org/wiki/Combinatorial_optimization")},m(o,l){C(o,t,l),C(o,e,l),C(o,n,l),re(a,o,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),a.$set(u)},i(o){s||(V(a.$$.fragment,o),s=!0)},o(o){X(a.$$.fragment,o),s=!1},d(o){o&&(S(t),S(e),S(n)),ie(a,o)}}}function CIe(r){let t;return{c(){t=R("define a combinatorial optimization problem as")},l(e){t=M(e,"define a combinatorial optimization problem as")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function PIe(r){let t,e,i,n;return e=new DI({props:{refId:"symbols"}}),{c(){t=R("Notation alert! We'll be using lots of mathematical notation like this in the course. Most if it is standard, and you might already be familiar with it if you've taken some higher-level math course. I'll try to point out new notation in class as we go along, but you can always check "),ee(e.$$.fragment),i=R(` in the appendix for information on the symbols used.
    `)},l(a){t=M(a,"Notation alert! We'll be using lots of mathematical notation like this in the course. Most if it is standard, and you might already be familiar with it if you've taken some higher-level math course. I'll try to point out new notation in class as we go along, but you can always check "),te(e.$$.fragment,a),i=M(a,` in the appendix for information on the symbols used.
    `)},m(a,s){C(a,t,s),re(e,a,s),C(a,i,s),n=!0},p:ye,i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){X(e.$$.fragment,a),n=!1},d(a){a&&(S(t),S(i)),ie(e,a)}}}function DIe(r){let t,e,i,n,a,s,o;return e=new hn({props:{refId:"wolsey2020"}}),n=new mt({props:{$$slots:{default:[CIe]},$$scope:{ctx:r}}}),a=new D$({props:{$$slots:{default:[PIe]},$$scope:{ctx:r}}}),{c(){t=R("For this class, we will adopt the formalism of "),ee(e.$$.fragment),i=R(" and "),ee(n.$$.fragment),ee(a.$$.fragment),s=R(":")},l(l){t=M(l,"For this class, we will adopt the formalism of "),te(e.$$.fragment,l),i=M(l," and "),te(n.$$.fragment,l),te(a.$$.fragment,l),s=M(l,":")},m(l,u){C(l,t,u),re(e,l,u),C(l,i,u),re(n,l,u),re(a,l,u),C(l,s,u),o=!0},p(l,u){const f={};u&1&&(f.$$scope={dirty:u,ctx:l}),n.$set(f);const h={};u&1&&(h.$$scope={dirty:u,ctx:l}),a.$set(h)},i(l){o||(V(e.$$.fragment,l),V(n.$$.fragment,l),V(a.$$.fragment,l),o=!0)},o(l){X(e.$$.fragment,l),X(n.$$.fragment,l),X(a.$$.fragment,l),o=!1},d(l){l&&(S(t),S(i),S(s)),ie(e,l),ie(n,l),ie(a,l)}}}function NIe(r){let t=String.raw`N=\{1,\dots,n\}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function RIe(r){let t=String.raw`c{:underscore:}j`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function MIe(r){let t=String.raw`j\in N`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function BIe(r){let t=String.raw`\mathcal{F}`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function FIe(r){let t=String.raw`N`+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function zIe(r){let t=String.raw`
        \min{:underscore:}{S\subseteq N}\left\{\sum{:underscore:}{j\in S}c{:underscore:}j:S\in\mathcal{F}\right\}
    `+"",e;return{c(){e=R(t)},l(i){e=M(i,t)},m(i,n){C(i,e,n)},p:ye,d(i){i&&S(e)}}}function LIe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m;return e=new qe({props:{$$slots:{default:[NIe]},$$scope:{ctx:r}}}),n=new qe({props:{$$slots:{default:[RIe]},$$scope:{ctx:r}}}),s=new qe({props:{$$slots:{default:[MIe]},$$scope:{ctx:r}}}),l=new qe({props:{$$slots:{default:[BIe]},$$scope:{ctx:r}}}),f=new qe({props:{$$slots:{default:[FIe]},$$scope:{ctx:r}}}),c=new ua({props:{$$slots:{default:[zIe]},$$scope:{ctx:r}}}),{c(){t=R("Given a finite set "),ee(e.$$.fragment),i=R(", weights "),ee(n.$$.fragment),a=R(" for each "),ee(s.$$.fragment),o=R(", and a set "),ee(l.$$.fragment),u=R(" of feasible subsets of "),ee(f.$$.fragment),h=R(`, find a minimum weight feasible subset, i.e.
    `),ee(c.$$.fragment)},l(d){t=M(d,"Given a finite set "),te(e.$$.fragment,d),i=M(d,", weights "),te(n.$$.fragment,d),a=M(d," for each "),te(s.$$.fragment,d),o=M(d,", and a set "),te(l.$$.fragment,d),u=M(d," of feasible subsets of "),te(f.$$.fragment,d),h=M(d,`, find a minimum weight feasible subset, i.e.
    `),te(c.$$.fragment,d)},m(d,v){C(d,t,v),re(e,d,v),C(d,i,v),re(n,d,v),C(d,a,v),re(s,d,v),C(d,o,v),re(l,d,v),C(d,u,v),re(f,d,v),C(d,h,v),re(c,d,v),m=!0},p(d,v){const b={};v&1&&(b.$$scope={dirty:v,ctx:d}),e.$set(b);const g={};v&1&&(g.$$scope={dirty:v,ctx:d}),n.$set(g);const _={};v&1&&(_.$$scope={dirty:v,ctx:d}),s.$set(_);const y={};v&1&&(y.$$scope={dirty:v,ctx:d}),l.$set(y);const $={};v&1&&($.$$scope={dirty:v,ctx:d}),f.$set($);const I={};v&1&&(I.$$scope={dirty:v,ctx:d}),c.$set(I)},i(d){m||(V(e.$$.fragment,d),V(n.$$.fragment,d),V(s.$$.fragment,d),V(l.$$.fragment,d),V(f.$$.fragment,d),V(c.$$.fragment,d),m=!0)},o(d){X(e.$$.fragment,d),X(n.$$.fragment,d),X(s.$$.fragment,d),X(l.$$.fragment,d),X(f.$$.fragment,d),X(c.$$.fragment,d),m=!1},d(d){d&&(S(t),S(i),S(a),S(o),S(u),S(h)),ie(e,d),ie(n,d),ie(s,d),ie(l,d),ie(f,d),ie(c,d)}}}function jIe(r){let t,e="Combinatorial Optimization Problem";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1hl8dok"&&(t.textContent=e),this.h()},h(){pe(t,"slot","name")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function UIe(r){let t,e="COP";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-jwiro9"&&(t.textContent=e),this.h()},h(){pe(t,"slot","abbrev")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function qIe(r){let t,e,i,n,a,s,o,l,u,f,h,c;return t=new cn({props:{level:"2",refId:"combOptDefs",$$slots:{context:[dIe],default:[pIe]},$$scope:{ctx:r}}}),i=new xt({props:{$$slots:{default:[wIe]},$$scope:{ctx:r}}}),a=new xt({props:{$$slots:{default:[TIe]},$$scope:{ctx:r}}}),o=new xt({props:{$$slots:{default:[IIe]},$$scope:{ctx:r}}}),u=new xt({props:{$$slots:{default:[DIe]},$$scope:{ctx:r}}}),h=new so({props:{refId:"combOpt",$$slots:{abbrev:[UIe],name:[jIe],default:[LIe]},$$scope:{ctx:r}}}),{c(){ee(t.$$.fragment),e=Ee(),ee(i.$$.fragment),n=Ee(),ee(a.$$.fragment),s=Ee(),ee(o.$$.fragment),l=Ee(),ee(u.$$.fragment),f=Ee(),ee(h.$$.fragment)},l(m){te(t.$$.fragment,m),e=ke(m),te(i.$$.fragment,m),n=ke(m),te(a.$$.fragment,m),s=ke(m),te(o.$$.fragment,m),l=ke(m),te(u.$$.fragment,m),f=ke(m),te(h.$$.fragment,m)},m(m,d){re(t,m,d),C(m,e,d),re(i,m,d),C(m,n,d),re(a,m,d),C(m,s,d),re(o,m,d),C(m,l,d),re(u,m,d),C(m,f,d),re(h,m,d),c=!0},p(m,[d]){const v={};d&1&&(v.$$scope={dirty:d,ctx:m}),t.$set(v);const b={};d&1&&(b.$$scope={dirty:d,ctx:m}),i.$set(b);const g={};d&1&&(g.$$scope={dirty:d,ctx:m}),a.$set(g);const _={};d&1&&(_.$$scope={dirty:d,ctx:m}),o.$set(_);const y={};d&1&&(y.$$scope={dirty:d,ctx:m}),u.$set(y);const $={};d&1&&($.$$scope={dirty:d,ctx:m}),h.$set($)},i(m){c||(V(t.$$.fragment,m),V(i.$$.fragment,m),V(a.$$.fragment,m),V(o.$$.fragment,m),V(u.$$.fragment,m),V(h.$$.fragment,m),c=!0)},o(m){X(t.$$.fragment,m),X(i.$$.fragment,m),X(a.$$.fragment,m),X(o.$$.fragment,m),X(u.$$.fragment,m),X(h.$$.fragment,m),c=!1},d(m){m&&(S(e),S(n),S(s),S(l),S(f)),ie(t,m),ie(i,m),ie(a,m),ie(o,m),ie(u,m),ie(h,m)}}}class HIe extends Ot{constructor(t){super(),At(this,t,null,qIe,St,{})}}function WIe(r){let t,e,i,n;return e=new R$({props:{refId:"combOpt",link:!1}}),{c(){t=R("Example "),ee(e.$$.fragment),i=R("s")},l(a){t=M(a,"Example "),te(e.$$.fragment,a),i=M(a,"s")},m(a,s){C(a,t,s),re(e,a,s),C(a,i,s),n=!0},p:ye,i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){X(e.$$.fragment,a),n=!1},d(a){a&&(S(t),S(i)),ie(e,a)}}}function GIe(r){let t,e,i,n,a;return i=new R$({props:{refId:"combOpt",link:!1}}),{c(){t=de("span"),e=R("Presenting a few example "),ee(i.$$.fragment),n=R("s to help make sense of the definition."),this.h()},l(s){t=ve(s,"SPAN",{slot:!0});var o=He(t);e=M(o,"Presenting a few example "),te(i.$$.fragment,o),n=M(o,"s to help make sense of the definition."),o.forEach(S),this.h()},h(){pe(t,"slot","context")},m(s,o){C(s,t,o),fe(t,e),re(i,t,null),fe(t,n),a=!0},p:ye,i(s){a||(V(i.$$.fragment,s),a=!0)},o(s){X(i.$$.fragment,s),a=!1},d(s){s&&S(t),ie(i)}}}function VIe(r){let t,e,i,n;return e=new R$({props:{refId:"combOpt"}}),{c(){t=R("present a few "),ee(e.$$.fragment),i=R("s and examine how they fit the framework")},l(a){t=M(a,"present a few "),te(e.$$.fragment,a),i=M(a,"s and examine how they fit the framework")},m(a,s){C(a,t,s),re(e,a,s),C(a,i,s),n=!0},p:ye,i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){X(e.$$.fragment,a),n=!1},d(a){a&&(S(t),S(i)),ie(e,a)}}}function XIe(r){let t;return{c(){t=R("graph theory")},l(e){t=M(e,"graph theory")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function KIe(r){let t,e,i,n,a,s,o,l;return e=new mt({props:{$$slots:{default:[VIe]},$$scope:{ctx:r}}}),n=new mt({props:{$$slots:{default:[XIe]},$$scope:{ctx:r}}}),s=new DI({props:{refId:"graphTheory"}}),{c(){t=R("It might take a few examples to really internalize the definition. So, let's go ahead and "),ee(e.$$.fragment),i=R(". Several of these are most convenient to define in the language of "),ee(n.$$.fragment),a=R(". If you've seen graphs before, then great! If not, you can brush up on the preliminaries in the appendix, "),ee(s.$$.fragment),o=R(".")},l(u){t=M(u,"It might take a few examples to really internalize the definition. So, let's go ahead and "),te(e.$$.fragment,u),i=M(u,". Several of these are most convenient to define in the language of "),te(n.$$.fragment,u),a=M(u,". If you've seen graphs before, then great! If not, you can brush up on the preliminaries in the appendix, "),te(s.$$.fragment,u),o=M(u,".")},m(u,f){C(u,t,f),re(e,u,f),C(u,i,f),re(n,u,f),C(u,a,f),re(s,u,f),C(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c)},i(u){l||(V(e.$$.fragment,u),V(n.$$.fragment,u),V(s.$$.fragment,u),l=!0)},o(u){X(e.$$.fragment,u),X(n.$$.fragment,u),X(s.$$.fragment,u),l=!1},d(u){u&&(S(t),S(i),S(a),S(o)),ie(e,u),ie(n,u),ie(s,u)}}}function YIe(r){let t;return{c(){t=R("We'll start with a basic one:")},l(e){t=M(e,"We'll start with a basic one:")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function JIe(r){let t,e="Shortest Path Problem";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-lm1nek"&&(t.textContent=e),this.h()},h(){pe(t,"slot","name")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function QIe(r){let t;return{c(){t=R("4.4 (p73)")},l(e){t=M(e,"4.4 (p73)")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function ZIe(r){let t,e="Matching Problem";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1n7vs8m"&&(t.textContent=e),this.h()},h(){pe(t,"slot","name")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function eCe(r){let t;return{c(){t=R("p5, but also 4.3 (p67)")},l(e){t=M(e,"p5, but also 4.3 (p67)")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function tCe(r){let t,e="Assignment Problem";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-s8k3ks"&&(t.textContent=e),this.h()},h(){pe(t,"slot","name")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function rCe(r){let t;return{c(){t=R("p7")},l(e){t=M(e,"p7")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function iCe(r){let t,e="Traveling Salesman Problem";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1k7axap"&&(t.textContent=e),this.h()},h(){pe(t,"slot","name")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function nCe(r){let t,e="TSP";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-t1j4ae"&&(t.textContent=e),this.h()},h(){pe(t,"slot","abbrev")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function aCe(r){let t;return{c(){t=R("p6")},l(e){t=M(e,"p6")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function sCe(r){let t,e="Knapsack Problem";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1d4c9nn"&&(t.textContent=e),this.h()},h(){pe(t,"slot","name")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function oCe(r){let t;return{c(){t=R("p6")},l(e){t=M(e,"p6")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function lCe(r){let t,e="Set Covering Problem";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-64jy60"&&(t.textContent=e),this.h()},h(){pe(t,"slot","name")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function uCe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_;return t=new cn({props:{level:"2",refId:"exampleCOPs",$$slots:{context:[GIe],default:[WIe]},$$scope:{ctx:r}}}),i=new xt({props:{$$slots:{default:[KIe]},$$scope:{ctx:r}}}),a=new xt({props:{$$slots:{default:[YIe]},$$scope:{ctx:r}}}),o=new so({props:{refId:"shortestPath",$$slots:{name:[JIe]},$$scope:{ctx:r}}}),u=new so({props:{refId:"matching",$$slots:{name:[ZIe],default:[QIe]},$$scope:{ctx:r}}}),h=new so({props:{refId:"shortestPath",$$slots:{name:[tCe],default:[eCe]},$$scope:{ctx:r}}}),m=new so({props:{refId:"tsp",$$slots:{abbrev:[nCe],name:[iCe],default:[rCe]},$$scope:{ctx:r}}}),v=new so({props:{refId:"shortestPath",$$slots:{name:[sCe],default:[aCe]},$$scope:{ctx:r}}}),g=new so({props:{refId:"setCovering",$$slots:{name:[lCe],default:[oCe]},$$scope:{ctx:r}}}),{c(){ee(t.$$.fragment),e=Ee(),ee(i.$$.fragment),n=Ee(),ee(a.$$.fragment),s=Ee(),ee(o.$$.fragment),l=Ee(),ee(u.$$.fragment),f=Ee(),ee(h.$$.fragment),c=Ee(),ee(m.$$.fragment),d=Ee(),ee(v.$$.fragment),b=Ee(),ee(g.$$.fragment)},l(y){te(t.$$.fragment,y),e=ke(y),te(i.$$.fragment,y),n=ke(y),te(a.$$.fragment,y),s=ke(y),te(o.$$.fragment,y),l=ke(y),te(u.$$.fragment,y),f=ke(y),te(h.$$.fragment,y),c=ke(y),te(m.$$.fragment,y),d=ke(y),te(v.$$.fragment,y),b=ke(y),te(g.$$.fragment,y)},m(y,$){re(t,y,$),C(y,e,$),re(i,y,$),C(y,n,$),re(a,y,$),C(y,s,$),re(o,y,$),C(y,l,$),re(u,y,$),C(y,f,$),re(h,y,$),C(y,c,$),re(m,y,$),C(y,d,$),re(v,y,$),C(y,b,$),re(g,y,$),_=!0},p(y,[$]){const I={};$&1&&(I.$$scope={dirty:$,ctx:y}),t.$set(I);const A={};$&1&&(A.$$scope={dirty:$,ctx:y}),i.$set(A);const B={};$&1&&(B.$$scope={dirty:$,ctx:y}),a.$set(B);const T={};$&1&&(T.$$scope={dirty:$,ctx:y}),o.$set(T);const x={};$&1&&(x.$$scope={dirty:$,ctx:y}),u.$set(x);const U={};$&1&&(U.$$scope={dirty:$,ctx:y}),h.$set(U);const O={};$&1&&(O.$$scope={dirty:$,ctx:y}),m.$set(O);const F={};$&1&&(F.$$scope={dirty:$,ctx:y}),v.$set(F);const D={};$&1&&(D.$$scope={dirty:$,ctx:y}),g.$set(D)},i(y){_||(V(t.$$.fragment,y),V(i.$$.fragment,y),V(a.$$.fragment,y),V(o.$$.fragment,y),V(u.$$.fragment,y),V(h.$$.fragment,y),V(m.$$.fragment,y),V(v.$$.fragment,y),V(g.$$.fragment,y),_=!0)},o(y){X(t.$$.fragment,y),X(i.$$.fragment,y),X(a.$$.fragment,y),X(o.$$.fragment,y),X(u.$$.fragment,y),X(h.$$.fragment,y),X(m.$$.fragment,y),X(v.$$.fragment,y),X(g.$$.fragment,y),_=!1},d(y){y&&(S(e),S(n),S(s),S(l),S(f),S(c),S(d),S(b)),ie(t,y),ie(i,y),ie(a,y),ie(o,y),ie(u,y),ie(h,y),ie(m,y),ie(v,y),ie(g,y)}}}class fCe extends Ot{constructor(t){super(),At(this,t,null,uCe,St,{})}}function cCe(r){let t;return{c(){t=R("Intro to combinatorial optimization")},l(e){t=M(e,"Intro to combinatorial optimization")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function hCe(r){let t,e="Presenting the basics of the field of combinatorial optimization.";return{c(){t=de("span"),t.textContent=e,this.h()},l(i){t=ve(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-pcgmef"&&(t.textContent=e),this.h()},h(){pe(t,"slot","context")},m(i,n){C(i,t,n)},p:ye,d(i){i&&S(t)}}}function mCe(r){let t;return{c(){t=R("introduce the field of combinatorial optimization")},l(e){t=M(e,"introduce the field of combinatorial optimization")},m(e,i){C(e,t,i)},d(e){e&&S(t)}}}function pCe(r){let t,e,i,n;return e=new mt({props:{$$slots:{default:[mCe]},$$scope:{ctx:r}}}),{c(){t=R("In this section, we'll "),ee(e.$$.fragment),i=R(". We'll describe several common problems that fall under the combinatorial optimization umbrella. For a few of these problems, we'll also present special-case algorithms used to solve them.")},l(a){t=M(a,"In this section, we'll "),te(e.$$.fragment,a),i=M(a,". We'll describe several common problems that fall under the combinatorial optimization umbrella. For a few of these problems, we'll also present special-case algorithms used to solve them.")},m(a,s){C(a,t,s),re(e,a,s),C(a,i,s),n=!0},p(a,s){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){X(e.$$.fragment,a),n=!1},d(a){a&&(S(t),S(i)),ie(e,a)}}}function dCe(r){let t,e,i,n,a,s,o,l;return t=new cn({props:{level:"1",refId:"combOptIntro",$$slots:{context:[hCe],default:[cCe]},$$scope:{ctx:r}}}),i=new xt({props:{$$slots:{default:[pCe]},$$scope:{ctx:r}}}),a=new HIe({}),o=new fCe({}),{c(){ee(t.$$.fragment),e=Ee(),ee(i.$$.fragment),n=Ee(),ee(a.$$.fragment),s=Ee(),ee(o.$$.fragment)},l(u){te(t.$$.fragment,u),e=ke(u),te(i.$$.fragment,u),n=ke(u),te(a.$$.fragment,u),s=ke(u),te(o.$$.fragment,u)},m(u,f){re(t,u,f),C(u,e,f),re(i,u,f),C(u,n,f),re(a,u,f),C(u,s,f),re(o,u,f),l=!0},p(u,[f]){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),t.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){l||(V(t.$$.fragment,u),V(i.$$.fragment,u),V(a.$$.fragment,u),V(o.$$.fragment,u),l=!0)},o(u){X(t.$$.fragment,u),X(i.$$.fragment,u),X(a.$$.fragment,u),X(o.$$.fragment,u),l=!1},d(u){u&&(S(e),S(n),S(s)),ie(t,u),ie(i,u),ie(a,u),ie(o,u)}}}class vCe extends Ot{constructor(t){super(),At(this,t,null,dCe,St,{})}}function gCe(r){let t,e,i,n,a,s,o,l;return t=new YAe({}),i=new vCe({}),a=new VOe({}),o=new JOe({}),{c(){ee(t.$$.fragment),e=Ee(),ee(i.$$.fragment),n=Ee(),ee(a.$$.fragment),s=Ee(),ee(o.$$.fragment)},l(u){te(t.$$.fragment,u),e=ke(u),te(i.$$.fragment,u),n=ke(u),te(a.$$.fragment,u),s=ke(u),te(o.$$.fragment,u)},m(u,f){re(t,u,f),C(u,e,f),re(i,u,f),C(u,n,f),re(a,u,f),C(u,s,f),re(o,u,f),l=!0},p:ye,i(u){l||(V(t.$$.fragment,u),V(i.$$.fragment,u),V(a.$$.fragment,u),V(o.$$.fragment,u),l=!0)},o(u){X(t.$$.fragment,u),X(i.$$.fragment,u),X(a.$$.fragment,u),X(o.$$.fragment,u),l=!1},d(u){u&&(S(e),S(n),S(s)),ie(t,u),ie(i,u),ie(a,u),ie(o,u)}}}class bCe extends Ot{constructor(t){super(),At(this,t,null,gCe,St,{})}}function O7(r,t,e){const i=r.slice();return i[16]=t[e],i}function yCe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m=Hl(r[3]),d=[];for(let v=0;v<m.length;v+=1)d[v]=I7(O7(r,m,v));return{c(){t=de("div"),e=de("div"),i=de("br"),n=Ee();for(let v=0;v<d.length;v+=1)d[v].c();a=Ee(),s=de("div"),o=Ee(),l=de("br"),u=Ee(),f=de("br"),this.h()},l(v){t=ve(v,"DIV",{class:!0,role:!0});var b=He(t);e=ve(b,"DIV",{class:!0});var g=He(e);i=ve(g,"BR",{}),n=ke(g);for(let _=0;_<d.length;_+=1)d[_].l(g);g.forEach(S),a=ke(b),s=ve(b,"DIV",{id:!0,style:!0}),He(s).forEach(S),b.forEach(S),o=ke(v),l=ve(v,"BR",{}),u=ke(v),f=ve(v,"BR",{}),this.h()},h(){pe(e,"class","sectionDisp"),pe(s,"id","sectionContextDisplay"),Rt(s,"display","none"),Rt(s,"margin-top","0.5rem"),pe(t,"class","sectionDispContainer svelte-13t11d"),pe(t,"role","tooltip")},m(v,b){C(v,t,b),fe(t,e),fe(e,i),fe(e,n);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(e,null);fe(t,a),fe(t,s),C(v,o,b),C(v,l,b),C(v,u,b),C(v,f,b),h||(c=pt(t,"mouseleave",r[8]),h=!0)},p(v,b){if(b&216){m=Hl(v[3]);let g;for(g=0;g<m.length;g+=1){const _=O7(v,m,g);d[g]?d[g].p(_,b):(d[g]=I7(_),d[g].c(),d[g].m(e,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=m.length}},d(v){v&&(S(t),S(o),S(l),S(u),S(f)),vb(d,v),h=!1,c()}}}function $Ce(r){let t;return{c(){t=de("span")},l(e){t=ve(e,"SPAN",{}),He(t).forEach(S)},m(e,i){C(e,t,i)},p:ye,d(e){e&&S(t)}}}function A7(r){let t,e="❯",i;return{c(){t=de("span"),t.textContent=e,i=R(" "),this.h()},l(n){t=ve(n,"SPAN",{style:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1ivmefi"&&(t.textContent=e),i=M(n," "),this.h()},h(){Rt(t,"font-size","0.8rem")},m(n,a){C(n,t,a),C(n,i,a)},d(n){n&&(S(t),S(i))}}}function I7(r){let t,e,i=r[6].headingTexts[r[16]]+"",n,a,s,o,l;function u(){return r[12](r[16])}function f(){return r[13](r[16])}function h(){return r[14](r[16])}function c(){return r[15](r[16])}let m=r[16]!==r[3][r[3].length-1]&&A7();return{c(){t=de("span"),e=new ba(!1),a=Ee(),m&&m.c(),s=vt(),this.h()},l(d){t=ve(d,"SPAN",{class:!0,style:!0,role:!0,tabindex:!0});var v=He(t);e=ya(v,!1),v.forEach(S),a=ke(d),m&&m.l(d),s=vt(),this.h()},h(){e.a=null,pe(t,"class","sectionDispText svelte-13t11d"),pe(t,"style",n=r[4]===r[16]?"font-weight:bold;":""),pe(t,"role","button"),pe(t,"tabindex","0")},m(d,v){C(d,t,v),e.m(i,t),C(d,a,v),m&&m.m(d,v),C(d,s,v),o||(l=[pt(t,"click",u),pt(t,"keydown",f),pt(t,"mouseover",h),pt(t,"focus",c)],o=!0)},p(d,v){r=d,v&72&&i!==(i=r[6].headingTexts[r[16]]+"")&&e.p(i),v&24&&n!==(n=r[4]===r[16]?"font-weight:bold;":"")&&pe(t,"style",n),r[16]!==r[3][r[3].length-1]?m||(m=A7(),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},d(d){d&&(S(t),S(a),S(s)),m&&m.d(d),o=!1,bn(l)}}}function _Ce(r){let t=!1,e=()=>{t=!1},i,n,a,s;As(r[10]),As(r[11]);function o(f,h){return f[5]?$Ce:yCe}let l=o(r),u=l(r);return{c(){u.c(),n=vt()},l(f){u.l(f),n=vt()},m(f,h){u.m(f,h),C(f,n,h),a||(s=[pt(window,"scroll",()=>{t=!0,clearTimeout(i),i=setTimeout(e,100),r[10]()}),pt(window,"resize",r[11])],a=!0)},p(f,[h]){h&1&&!t&&(t=!0,clearTimeout(i),scrollTo(window.pageXOffset,f[0]),i=setTimeout(e,100)),l===(l=o(f))&&u?u.p(f,h):(u.d(1),u=l(f),u&&(u.c(),u.m(n.parentNode,n)))},i:ye,o:ye,d(f){f&&S(n),u.d(f),a=!1,bn(s)}}}const wCe=700;function xCe(r,t,e){let i,n,a,s;yt(r,Lr,y=>e(6,a=y)),yt(r,Gi,y=>e(9,s=y));let o,l,u,f=[];const h=y=>{e(4,n=y);const $=document.getElementById(y+"Context"),I=document.getElementById("sectionContextDisplay");I.innerHTML=`<a href=#${y} style=color:blue;>Link</a>: `,($==null?void 0:$.innerHTML)!==""?I.innerHTML+=$==null?void 0:$.innerHTML:I.innerHTML+="<span style=color:gray;font-style:italic;>Section description not available<span>",I.style.display="block"},c=()=>{const y=document.getElementById("sectionContextDisplay");y.style.display="none",e(4,n="")};function m(){e(0,o=window.pageYOffset)}function d(){e(1,l=window.innerHeight),e(2,u=window.innerWidth)}const v=y=>h(y),b=y=>h(y),g=y=>h(y),_=y=>h(y);return r.$$.update=()=>{if(r.$$.dirty&516&&e(5,i=s||(u||0)<wCe),r.$$.dirty&107&&!i){const y=Object.keys(a.numbers).map(I=>{try{}catch{return[I,-1]}const A=document.getElementById(I);return[I,o+.3*l-(A==null?void 0:A.offsetTop)]}).filter(I=>I[1]>=0).sort((I,A)=>I[1]>A[1]?1:-1);let $;if(y.length>0){$=y[0][0],e(3,f=[$]);let I=a.numbers[$];for(;I.split(".").length>1;)I=I.split(".").slice(0,I.split(".").length-1).join("."),e(3,f=Object.keys(a.numbers).filter(A=>a.numbers[A]===I).concat(f))}}if(r.$$.dirty&24&&n!==""&&!f.includes(n)){e(4,n="");const y=document.getElementById("sectionContextDisplay");y.style.display="none"}},e(4,n=""),[o,l,u,f,n,i,a,h,c,s,m,d,v,b,g,_]}class SCe extends Ot{constructor(t){super(),At(this,t,xCe,_Ce,St,{})}}const{window:NI}=FI;function C7(r){let t,e='<div>Your notes are loading.</div> <div>Hang in there, this can take some time.</div> <div class="loader svelte-1bkrn4g"></div>';return{c(){t=de("div"),t.innerHTML=e,this.h()},l(i){t=ve(i,"DIV",{class:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-qsacpj"&&(t.innerHTML=e),this.h()},h(){pe(t,"class","loading svelte-1bkrn4g")},m(i,n){C(i,t,n)},d(i){i&&S(t)}}}function P7(r){let t,e,i,n="🔑",a,s;return{c(){t=de("div"),e=R(`© Copyright 2025, Jeffrey Pavelka
                    `),i=de("span"),i.textContent=n,this.h()},l(o){t=ve(o,"DIV",{class:!0});var l=He(t);e=M(l,`© Copyright 2025, Jeffrey Pavelka
                    `),i=ve(l,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Xe(i)!=="svelte-14kyg8v"&&(i.textContent=n),l.forEach(S),this.h()},h(){pe(i,"class","footerActions svelte-1bkrn4g"),pe(i,"role","button"),pe(i,"tabindex","0"),pe(i,"aria-label","Highlight key points"),pe(t,"class","footer svelte-1bkrn4g")},m(o,l){C(o,t,l),fe(t,e),fe(t,i),a||(s=[pt(i,"keydown",r[10]),pt(i,"click",r[11])],a=!0)},d(o){o&&S(t),a=!1,bn(s)}}}function ECe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,d,v,b,g,_,y,$,I,A;As(r[9]);let B=r[1]&&C7();a=new lF({props:{smallScreen:r[0]<500}}),l=new pF({}),f=new SCe({}),m=new bCe({});let T=!r[6]&&P7(r);return{c(){t=de("div"),e=de("div"),B&&B.c(),i=Ee(),n=de("div"),ee(a.$$.fragment),s=Ee(),o=de("div"),ee(l.$$.fragment),u=Ee(),ee(f.$$.fragment),h=Ee(),c=de("div"),ee(m.$$.fragment),d=Ee(),v=de("div"),_=Ee(),T&&T.c(),this.h()},l(x){t=ve(x,"DIV",{style:!0});var U=He(t);e=ve(U,"DIV",{class:!0});var O=He(e);B&&B.l(O),i=ke(O),n=ve(O,"DIV",{style:!0});var F=He(n);te(a.$$.fragment,F),s=ke(F),o=ve(F,"DIV",{class:!0,style:!0});var D=He(o);te(l.$$.fragment,D),u=ke(D),te(f.$$.fragment,D),h=ke(D),c=ve(D,"DIV",{class:!0});var L=He(c);te(m.$$.fragment,L),d=ke(L),v=ve(L,"DIV",{class:!0}),He(v).forEach(S),L.forEach(S),D.forEach(S),_=ke(F),T&&T.l(F),F.forEach(S),O.forEach(S),U.forEach(S),this.h()},h(){pe(v,"class","afterNotes svelte-1bkrn4g"),pe(c,"class",b=zn("notesContent"+(r[6]?" notesPrint":(r[3]&&r[0]-r[5]>r[4]?" noteContentShifted":"")+(r[7]&&r[0]-r[4]>r[8]?" noteContentWithPopup":"")))+" svelte-1bkrn4g"),pe(o,"class","underBar svelte-1bkrn4g"),pe(o,"style",g="visibility:"+(r[2]?"hidden":"visible")),pe(n,"style",y="display:"+(r[1]?"none":"block")),pe(e,"class","allContent svelte-1bkrn4g"),Rt(t,"--totalWidth",r[0]),Rt(t,"--notesMaxWidth",r[4]),Rt(t,"--tocWidth",r[5])},m(x,U){C(x,t,U),fe(t,e),B&&B.m(e,null),fe(e,i),fe(e,n),re(a,n,null),fe(n,s),fe(n,o),re(l,o,null),fe(o,u),re(f,o,null),fe(o,h),fe(o,c),re(m,c,null),fe(c,d),fe(c,v),fe(n,_),T&&T.m(n,null),$=!0,I||(A=pt(NI,"resize",r[9]),I=!0)},p(x,[U]){x[1]?B||(B=C7(),B.c(),B.m(e,i)):B&&(B.d(1),B=null);const O={};U&1&&(O.smallScreen=x[0]<500),a.$set(O),(!$||U&505&&b!==(b=zn("notesContent"+(x[6]?" notesPrint":(x[3]&&x[0]-x[5]>x[4]?" noteContentShifted":"")+(x[7]&&x[0]-x[4]>x[8]?" noteContentWithPopup":"")))+" svelte-1bkrn4g"))&&pe(c,"class",b),(!$||U&4&&g!==(g="visibility:"+(x[2]?"hidden":"visible")))&&pe(o,"style",g),x[6]?T&&(T.d(1),T=null):T||(T=P7(x),T.c(),T.m(n,null)),(!$||U&2&&y!==(y="display:"+(x[1]?"none":"block")))&&pe(n,"style",y),(!$||U&1)&&Rt(t,"--totalWidth",x[0]),(!$||U&16)&&Rt(t,"--notesMaxWidth",x[4]),(!$||U&32)&&Rt(t,"--tocWidth",x[5])},i(x){$||(V(a.$$.fragment,x),V(l.$$.fragment,x),V(f.$$.fragment,x),V(m.$$.fragment,x),$=!0)},o(x){X(a.$$.fragment,x),X(l.$$.fragment,x),X(f.$$.fragment,x),X(m.$$.fragment,x),$=!1},d(x){x&&S(t),B&&B.d(),ie(a),ie(l),ie(f),ie(m),T&&T.d(),I=!1,A()}}}function kCe(r,t,e){let i,n,a,s,o,l;yt(r,Sf,b=>e(3,i=b)),yt(r,IS,b=>e(4,n=b)),yt(r,nF,b=>e(5,a=b)),yt(r,Gi,b=>e(6,s=b)),yt(r,AS,b=>e(7,o=b)),yt(r,CS,b=>e(8,l=b));let u=0,f=!0,h=!0;const c=b=>{let g=b.target;if(i&&(g==null?void 0:g.id)!=="contentsClick"){for(;!["BODY","HTML"].includes(g.tagName);){if([...g.classList].includes("toc"))return;g=g==null?void 0:g.parentNode}Sf.update(()=>!1)}};Wm(()=>{const{hash:b}=document.location,g=b&&document.getElementById(b.slice(1));e(1,f=!1),setTimeout(()=>{g&&g.scrollIntoView(),e(2,h=!1)},100),window.onbeforeprint=()=>Gi.update(()=>!0),window.onafterprint=()=>Gi.update(()=>!1)});try{document.onclick=c}catch{}function m(){e(0,u=NI.innerWidth)}return[u,f,h,i,n,a,s,o,l,m,()=>Gg.update(b=>!b),()=>Gg.update(b=>!b)]}class CCe extends Ot{constructor(t){super(),At(this,t,kCe,ECe,St,{})}}export{CCe as component};
