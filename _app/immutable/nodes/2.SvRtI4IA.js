import{s as yt,n as re,d as St,r as An,o as Vo,f as xi,h as ym,z as ZI,c as qt,u as Ut,g as Ht,a as Wt,A as Q7,B as kn,i as Jc,e as eC,C as Gu,D as Z7,E as tC}from"../chunks/scheduler.D8cdc1Z8.js";import{S as $t,i as _t,m as ht,j as _,g as y,e as pe,s as Se,c as de,d as De,y as Xe,h as Ee,o as ce,k as le,z as xt,t as R,q as ai,n as si,a as M,A as Jf,u as F,v as z,w as L,x as j,H as Yn,B as Jn,b as E,f as k,l as Ca,C as $m,D as rC,p as tt,E as I_,F as _m,G as iC}from"../chunks/index.BNegdvZA.js";import{w as fn,d as nC}from"../chunks/index.3kIhwAxb.js";const aC=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Kn(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function eS(r,t){const e={},i={},n={$$scope:1};let a=r.length;for(;a--;){const s=r[a],o=t[a];if(o){for(const l in s)l in o||(i[l]=1);for(const l in o)n[l]||(e[l]=o[l],n[l]=1);r[a]=o}else for(const l in s)n[l]=1}for(const s in i)s in e||(e[s]=void 0);return e}function sC(){return this.log.length}function oC(r=1){if(r<=0||r>this.currentVersion())return null;{const[t,e]=this.log[r-1],i=new this.constructor(JSON.parse(t),JSON.parse(e));return i.log=this.log.slice(0,r),i}}function lC(r=1){return this.retrieveVersion(this.currentVersion()-r)}function uC(){return this.retrieveVersion(this.currentVersion())}function fC(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}const cC=Object.freeze(Object.defineProperty({__proto__:null,currentVersion:sC,retrieveLastVersion:uC,retrieveVersion:oC,save:fC,undo:lC},Symbol.toStringTag,{value:"Module"})),C_=["real","string"],P_=["json","html","string","rtf"],D_=["csl","bibtex","bibtxt","citation-*","ris","ndjson"],N_=["string","function"];function ip(r){if(typeof r!="object")throw new TypeError("Options not an object!");const{format:t,type:e,style:i,lang:n,append:a,prepend:s}=r;if(t&&!C_.includes(t))throw new TypeError(`Option format ("${t}") should be one of: ${C_}`);if(e&&!P_.includes(e))throw new TypeError(`Option type ("${e}") should be one of: ${P_}`);if(i&&!D_.includes(i)&&!/^citation/.test(i))throw new TypeError(`Option style ("${i}") should be one of: ${D_}`);if(n&&typeof n!="string")throw new TypeError(`Option lang should be a string, but is a ${typeof n}`);if(s&&!N_.includes(typeof s))throw new TypeError(`Option prepend should be a string or a function, but is a ${typeof s}`);if(a&&!N_.includes(typeof a))throw new TypeError(`Option append should be a string or a function, but is a ${typeof a}`);if(/^citation/.test(i)&&e==="json")throw new Error(`Combination type/style of json/citation-* is not valid: ${e}/${i}`);return!0}function hC(r){if(typeof r!="object")throw new TypeError("Options should be an object");if(r.output)ip(r.output);else{if(r.maxChainLength&&typeof r.maxChainLength!="number")throw new TypeError("Option maxChainLength should be a number");if(r.forceType&&typeof r.forceType!="string")throw new TypeError("Option forceType should be a string");if(r.generateGraph!=null&&typeof r.generateGraph!="boolean")throw new TypeError("Option generateGraph should be a boolean");if(r.strict!=null&&typeof r.strict!="boolean")throw new TypeError("Option strict should be a boolean");if(r.target!=null&&typeof r.target!="string")throw new TypeError("Option target should be a boolean")}return!0}const mC={format:"real",type:"json",style:"csl",lang:"en-US"};function pC(r,t){return ip(r),t&&this.save(),Object.assign(this._options,r),this}const dC=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:mC,options:pC},Symbol.toStringTag,{value:"Module"}));function Bg(r){switch(r){case void 0:return"Undefined";case null:return"Null";default:return r.constructor.name}}function tS(r){switch(typeof r){case"string":return"String";case"object":if(Array.isArray(r))return"Array";if(Bg(r)==="Object")return"SimpleObject";if(Bg(r)!=="Null")return"ComplexObject";default:return"Primitive"}}const vC=Object.freeze(Object.defineProperty({__proto__:null,dataTypeOf:tS,typeOf:Bg},Symbol.toStringTag,{value:"Module"}));function rS(r,t){if(r._graph){const e=t.findIndex(({type:i})=>i==="@else/list+object");e!==-1&&t.splice(e+1,0,...r._graph.slice(0,-1))}return r._graph=t,r}function iS(r){return delete r._graph,r}const gC=Object.freeze(Object.defineProperty({__proto__:null,applyGraph:rS,removeGraph:iS},Symbol.toStringTag,{value:"Module"})),En={_output(r,t,e){this._log.push(t,e),!(this._levels.indexOf(r)<this._levels.indexOf(this.level))&&this._console.log(t,...e)},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"};for(const r of En._levels)En[r]=(t,...e)=>En._output(r,t,e);typeof console.Console=="function"?En._console=new console.Console(process.stderr):En._console=console;const Wn={},Ao={},ml={};function R_(r,t){switch(t){case"Array":return r.length===0||r.every(e=>Io(e)==="@csl/object")?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}}function nS(r=[],t){for(const e of r)if(Wn[e].predicate(t))return nS(Wn[e].extensions,t)||e}function Io(r){const t=tS(r);return t==="Array"&&r.length===0?R_(r,t):nS(Ao[t],r)||R_(r,t)}function aS(r,{dataType:t,predicate:e,extends:i}){let n=[];r in ml&&(n=ml[r],delete ml[r],En.debug("[core]",`Subclasses "${n}" finally registered to parent type "${r}"`));const a={predicate:e,extensions:n};if(Wn[r]=a,i){const s=Wn[i];s?s.extensions.push(r):(ml[i]||(ml[i]=[]),ml[i].push(r),En.debug("[core]",`Subclass "${r}" is waiting on parent type "${i}"`))}else(Ao[t]||(Ao[t]=[])).push(r)}function bC(r){return Object.prototype.hasOwnProperty.call(Wn,r)}function sS(r){delete Wn[r],[...Object.keys(Ao).map(e=>Ao[e]),...Object.keys(Wn).map(e=>Wn[e].extensions).filter(e=>e.length>0)].forEach(e=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)})}function yC(){return Object.keys(Wn)}function $C(){const r=t=>({name:t,children:Wn[t].extensions.map(r)});return{name:"Type tree",children:Object.keys(Ao).map(t=>({name:t,children:Ao[t].map(r)}))}}const oS=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/;function _C(r,t,e){return t=wC(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function wC(r){var t=xC(r,"string");return typeof t=="symbol"?t:String(t)}function xC(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}class lS{constructor(t){_C(this,"validDataTypes",["String","Array","SimpleObject","ComplexObject","Primitive"]),this.data=t}validateDataType(){const t=this.data.dataType;if(t&&!this.validDataTypes.includes(t))throw new RangeError(`dataType was ${t}; expected one of ${this.validDataTypes}`)}validateParseType(){const t=this.data.predicate;if(t&&!(t instanceof RegExp||typeof t=="function"))throw new TypeError(`predicate was ${typeof t}; expected RegExp or function`)}validateTokenList(){const t=this.data.tokenList;if(t&&typeof t!="object")throw new TypeError(`tokenList was ${typeof t}; expected object or RegExp`)}validatePropertyConstraint(){const t=this.data.propertyConstraint;if(t&&typeof t!="object")throw new TypeError(`propertyConstraint was ${typeof t}; expected array or object`)}validateElementConstraint(){const t=this.data.elementConstraint;if(t&&typeof t!="string")throw new TypeError(`elementConstraint was ${typeof t}; expected string`)}validateExtends(){const t=this.data.extends;if(t&&typeof t!="string")throw new TypeError(`extends was ${typeof t}; expected string`)}validate(){if(this.data===null||typeof this.data!="object")throw new TypeError(`typeParser was ${typeof this.data}; expected object`);this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let t=this.data.tokenList;if(t)t instanceof RegExp&&(t={token:t});else return[];const{token:e,split:i=/\s+/,trim:n=!0,every:a=!0}=t,s=u=>n?u.trim():u,o=a?"every":"some";return[u=>s(u).split(i)[o](f=>e.test(f))]}parsePropertyConstraint(){return[].concat(this.data.propertyConstraint||[]).map(({props:e,match:i,value:n})=>{switch(e=[].concat(e),i){case"any":case"some":return a=>e.some(s=>s in a&&(!n||n(a[s])));case"none":return a=>!e.some(s=>s in a&&(!n||n(a[s])));case"every":default:return a=>e.every(s=>s in a&&(!n||n(a[s])))}})}parseElementConstraint(){const t=this.data.elementConstraint;return t?[e=>e.every(i=>Io(i)===t)]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){const t=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return t.length===0?()=>!0:t.length===1?t[0]:e=>t.every(i=>i(e))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp||this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}class Fg{constructor(t,{async:e}={}){this.parser=t,this.async=e}validate(){const t=this.parser;if(typeof t!="function")throw new TypeError(`parser was ${typeof t}; expected function`)}}class uS{constructor(t,e={}){this.format=t,e.parseType&&(this.typeParser=new lS(e.parseType)),e.parse&&(this.dataParser=new Fg(e.parse,{async:!1})),e.parseAsync&&(this.asyncDataParser=new Fg(e.parseAsync,{async:!0}))}validateFormat(){const t=this.format;if(!oS.test(t))throw new TypeError(`format name was "${t}"; didn't match expected pattern`)}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}const SC=Object.freeze(Object.defineProperty({__proto__:null,DataParser:Fg,FormatParser:uS,TypeParser:lS},Symbol.toStringTag,{value:"Module"}));var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tb={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.default=Ln.parse=Ln.types=Ln.scope=void 0;function M_(r,t){return TC(r)||kC(r,t)||EC()}function EC(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function kC(r,t){var e=[],i=!0,n=!1,a=void 0;try{for(var s=r[Symbol.iterator](),o;!(i=(o=s.next()).done)&&(e.push(o.value),!(t&&e.length===t));i=!0);}catch(l){n=!0,a=l}finally{try{!i&&s.return!=null&&s.return()}finally{if(n)throw a}}return e}function TC(r){if(Array.isArray(r))return r}const fS=r=>r.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1"),Ob=r=>`(?:${r.join("|")})\\b`,Ab=(r,t)=>new RegExp(`(?:^| )(${r}$)`,t),OC=["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"],AC=["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"],IC=["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"],CC=Ob(OC.map(fS)),zg=Ob(AC.map(fS)),PC=Ob(IC),DC=new RegExp(`^((?:${CC} )*)(.*)$`,"i"),NC=Ab(`(?:${zg}, )*(?:${zg})`,"i"),RC=Ab(`${/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source}.*`),MC=Ab(`(?:${/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source}.*|${PC}.*|\\S*)`),BC=function(t=""){typeof t!="string"&&(t=t+"");let e="",i="",n="";if(/[^.], /.test(t)){const v=t.split(", ");n=v.shift();const d=RegExp(zg).exec(v.join(", "));e=v.splice(d&&d.index!==0?0:-1,1)[0],i=v.join(", ")}else{const v=t.split(NC,2),d=v.shift().split(MC,2);e=d[0],n=d[1],i=v.pop()}const a=e.match(DC),s=M_(a,3),o=s[1],l=s[2],u=i,f=n.split(RC,2).reverse(),h=M_(f,2),c=h[0],m=h[1];if(!l&&c)return c.includes(" ")?{literal:c}:{family:c};if(c){const v={"dropping-particle":o,given:l,suffix:u,"non-dropping-particle":m,family:c};return Object.keys(v).forEach(d=>{v[d]||delete v[d]}),v}else return{literal:t}};Ln.default=Ln.parse=BC;const FC="@name";Ln.scope=FC;const zC="@name";Ln.types=zC;var np={};Object.defineProperty(np,"__esModule",{value:!0});np.default=void 0;const Qd=["dropping-particle","given"],Zd=["suffix"],B_=["non-dropping-particle","family"],LC=function(t,e=!1){const i=n=>n.map(a=>t[a]||"").filter(Boolean).join(" ");if(t.literal)return t.literal;if(e){const n=i(Zd)?`, ${i(Zd)}`:"",a=i(Qd)?`, ${i(Qd)}`:"";return i(B_)+n+a}else return`${i([...Qd,...Zd,...B_])}`};var jC=LC;np.default=jC;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"format",{enumerable:!0,get:function(){return e.default}});var t=i(Ln),e=i(np);function i(n){return n&&n.__esModule?n:{default:n}}})(Tb);function F_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function Lg(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(e),!0).forEach(function(i){qC(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):F_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function qC(r,t,e){return t=UC(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function UC(r){var t=HC(r,"string");return typeof t=="symbol"?t:String(t)}function HC(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const WC=1,Mt=2,_s=3,cS=4,e0={article:!0,"article-journal":!0,"article-magazine":!0,"article-newspaper":!0,bill:!0,book:!0,broadcast:!0,chapter:!0,classic:!0,collection:!0,dataset:!0,document:!0,entry:!0,"entry-dictionary":!0,"entry-encyclopedia":!0,event:!0,figure:!0,graphic:!0,hearing:!0,interview:!0,legal_case:!0,legislation:!0,manuscript:!0,map:!0,motion_picture:!0,musical_score:!0,pamphlet:!0,"paper-conference":!0,patent:!0,performance:!0,periodical:!0,personal_communication:!0,post:!0,"post-weblog":!0,regulation:!0,report:!0,review:!0,"review-book":!0,software:!0,song:!0,speech:!0,standard:!0,thesis:!0,treaty:!0,webpage:!0,"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference",dissertation:"thesis"},z_={author:Mt,chair:Mt,"collection-editor":Mt,compiler:Mt,composer:Mt,"container-author":Mt,contributor:Mt,curator:Mt,director:Mt,editor:Mt,"editorial-director":Mt,"executive-producer":Mt,guest:Mt,host:Mt,interviewer:Mt,illustrator:Mt,narrator:Mt,organizer:Mt,"original-author":Mt,performer:Mt,producer:Mt,"reviewed-author":Mt,recipient:Mt,"script-writer":Mt,"series-creator":Mt,translator:Mt,accessed:_s,"available-date":_s,container:_s,"event-date":_s,issued:_s,"original-date":_s,submitted:_s,type:cS,categories:"object",custom:"object",id:["string","number"],language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_collection:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-key":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",division:"string",DOI:"string",edition:["string","number"],event:"string","event-title":"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string","part-number":["string","number"],"part-title":"string",PMCID:"string",PMID:"string",printing:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string","reviewed-genre":"string",scale:"string",section:"string",source:"string",status:"string",supplement:["string","number"],title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"volume-title":"string","volume-title-short":"string","year-suffix":"string"};function hS(r,t){if(typeof r=="object"&&r!==null&&(r.literal||r.given||r.family))return(r.ORCID||r.orcid||r._ORCID)&&(r=Lg({_orcid:r.ORCID||r.orcid||r._ORCID},r),delete r.ORCID,delete r.orcid,delete r._ORCID),r;if(t){if(typeof r=="string")return Tb.parse(r)}else return}function VC(r,t){if(r instanceof Array){const e=r.map(i=>hS(i,t)).filter(Boolean);return e.length?e:void 0}}function t0(r,t){return r.every(e=>typeof e=="number")?r:!t||r.some(e=>isNaN(parseInt(e)))?void 0:r.map(e=>parseInt(e))}function GC(r,t){const e="date-parts";if(!(typeof r!="object"||r===null)){if(r[e]instanceof Array&&r[e].every(i=>i instanceof Array)){const i=r[e].map(n=>t0(n,t)).filter(Boolean);return i.length?Lg(Lg({},r),{},{"date-parts":i}):void 0}else if(r instanceof Array&&r.every(i=>i[e]instanceof Array)){const i=r.map(n=>t0(n[e],t)).filter(Boolean);return i.length?{"date-parts":i}:void 0}else if(r[e]instanceof Array){const i=t0(r[e],t);return i&&{"date-parts":[i]}}else if("literal"in r||"raw"in r)return r}}function XC(r,t){return r=Ib("language",r,t),e0[r]===!0?r:t&&r in e0?e0[r]:void 0}function Ib(r,t,e){const i=[].concat(z_[r]);switch(z_[r]){case WC:return hS(t,e);case Mt:return VC(t,e);case _s:return GC(t,e);case cS:return XC(t,e)}if(e){if(typeof t=="string"&&i.includes("number")&&!i.includes("string")&&!isNaN(+t))return parseFloat(t);if(typeof t=="number"&&i.includes("string")&&!i.includes("number"))return t.toString();if(Array.isArray(t)&&t.length)return Ib(r,t[0],e)}if(i.includes(typeof t))return t}function mS(r,t=!0){return r.map(function(e){const i={};for(const n in e){const a=Ib(n,e[n],t);a!==void 0&&(i[n]=a)}return i})}const KC=Object.freeze(Object.defineProperty({__proto__:null,clean:mS},Symbol.toStringTag,{value:"Module"}));function L_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function pS(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(e),!0).forEach(function(i){YC(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):L_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function YC(r,t,e){return t=JC(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function JC(r){var t=QC(r,"string");return typeof t=="symbol"?t:String(t)}function QC(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function dS(r){return Array.isArray(r)?r.map(dS):(r=pS({},r),"event"in r&&(r["event-title"]=r.event,delete r.event),r.type==="book"&&"version"in r&&(r.type="software"),r)}function wf(r){return Array.isArray(r)?r.map(wf):(r=pS({},r),"event-title"in r&&(r.event=r["event-title"],delete r["event-title"]),r.type==="software"&&(r.type="book"),r)}function Co(r,t=new Set){if(typeof r!="object"||r===null||r.constructor!==Object&&r.constructor!==Array)return r;if(t.has(r))throw new TypeError("Recursively copying circular structure");t.add(r);let e;if(r.constructor===Array)e=r.map(i=>Co(i,t));else{const i={};for(const n in r)i[n]=Co(r[n],t);e=i}return t.delete(r),e}var vS={},ap={};ap.byteLength=tP;ap.toByteArray=iP;ap.fromByteArray=sP;var Fn=[],Qi=[],ZC=typeof Uint8Array<"u"?Uint8Array:Array,r0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var pl=0,eP=r0.length;pl<eP;++pl)Fn[pl]=r0[pl],Qi[r0.charCodeAt(pl)]=pl;Qi[45]=62;Qi[95]=63;function gS(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var i=e===t?0:4-e%4;return[e,i]}function tP(r){var t=gS(r),e=t[0],i=t[1];return(e+i)*3/4-i}function rP(r,t,e){return(t+e)*3/4-e}function iP(r){var t,e=gS(r),i=e[0],n=e[1],a=new ZC(rP(r,i,n)),s=0,o=n>0?i-4:i,l;for(l=0;l<o;l+=4)t=Qi[r.charCodeAt(l)]<<18|Qi[r.charCodeAt(l+1)]<<12|Qi[r.charCodeAt(l+2)]<<6|Qi[r.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return n===2&&(t=Qi[r.charCodeAt(l)]<<2|Qi[r.charCodeAt(l+1)]>>4,a[s++]=t&255),n===1&&(t=Qi[r.charCodeAt(l)]<<10|Qi[r.charCodeAt(l+1)]<<4|Qi[r.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function nP(r){return Fn[r>>18&63]+Fn[r>>12&63]+Fn[r>>6&63]+Fn[r&63]}function aP(r,t,e){for(var i,n=[],a=t;a<e;a+=3)i=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(r[a+2]&255),n.push(nP(i));return n.join("")}function sP(r){for(var t,e=r.length,i=e%3,n=[],a=16383,s=0,o=e-i;s<o;s+=a)n.push(aP(r,s,s+a>o?o:s+a));return i===1?(t=r[e-1],n.push(Fn[t>>2]+Fn[t<<4&63]+"==")):i===2&&(t=(r[e-2]<<8)+r[e-1],n.push(Fn[t>>10]+Fn[t>>4&63]+Fn[t<<2&63]+"=")),n.join("")}var Cb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Cb.read=function(r,t,e,i,n){var a,s,o=n*8-i-1,l=(1<<o)-1,u=l>>1,f=-7,h=e?n-1:0,c=e?-1:1,m=r[t+h];for(h+=c,a=m&(1<<-f)-1,m>>=-f,f+=o;f>0;a=a*256+r[t+h],h+=c,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=i;f>0;s=s*256+r[t+h],h+=c,f-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,i),a=a-u}return(m?-1:1)*s*Math.pow(2,a-i)};Cb.write=function(r,t,e,i,n,a){var s,o,l,u=a*8-n-1,f=(1<<u)-1,h=f>>1,c=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:a-1,v=i?1:-1,d=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=c/l:t+=c*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=f?(o=0,s=f):s+h>=1?(o=(t*l-1)*Math.pow(2,n),s=s+h):(o=t*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;r[e+m]=o&255,m+=v,o/=256,n-=8);for(s=s<<n|o,u+=n;u>0;r[e+m]=s&255,m+=v,s/=256,u-=8);r[e+m-v]|=d*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){var t=ap,e=Cb,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=o,r.SlowBuffer=$,r.INSPECT_MAX_BYTES=50;var n=2147483647;r.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var Y=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(Y,P),Y.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(Y){if(Y>n)throw new RangeError('The value "'+Y+'" is invalid for option "size"');var P=new Uint8Array(Y);return Object.setPrototypeOf(P,o.prototype),P}function o(Y,P,N){if(typeof Y=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(Y)}return l(Y,P,N)}o.poolSize=8192;function l(Y,P,N){if(typeof Y=="string")return c(Y,P);if(ArrayBuffer.isView(Y))return v(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(te(Y,ArrayBuffer)||Y&&te(Y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(te(Y,SharedArrayBuffer)||Y&&te(Y.buffer,SharedArrayBuffer)))return d(Y,P,N);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=Y.valueOf&&Y.valueOf();if(ee!=null&&ee!==Y)return o.from(ee,P,N);var be=b(Y);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return o.from(Y[Symbol.toPrimitive]("string"),P,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}o.from=function(Y,P,N){return l(Y,P,N)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function f(Y,P,N){return u(Y),Y<=0?s(Y):P!==void 0?typeof N=="string"?s(Y).fill(P,N):s(Y).fill(P):s(Y)}o.alloc=function(Y,P,N){return f(Y,P,N)};function h(Y){return u(Y),s(Y<0?0:g(Y)|0)}o.allocUnsafe=function(Y){return h(Y)},o.allocUnsafeSlow=function(Y){return h(Y)};function c(Y,P){if((typeof P!="string"||P==="")&&(P="utf8"),!o.isEncoding(P))throw new TypeError("Unknown encoding: "+P);var N=w(Y,P)|0,ee=s(N),be=ee.write(Y,P);return be!==N&&(ee=ee.slice(0,be)),ee}function m(Y){for(var P=Y.length<0?0:g(Y.length)|0,N=s(P),ee=0;ee<P;ee+=1)N[ee]=Y[ee]&255;return N}function v(Y){if(te(Y,Uint8Array)){var P=new Uint8Array(Y);return d(P.buffer,P.byteOffset,P.byteLength)}return m(Y)}function d(Y,P,N){if(P<0||Y.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<P+(N||0))throw new RangeError('"length" is outside of buffer bounds');var ee;return P===void 0&&N===void 0?ee=new Uint8Array(Y):N===void 0?ee=new Uint8Array(Y,P):ee=new Uint8Array(Y,P,N),Object.setPrototypeOf(ee,o.prototype),ee}function b(Y){if(o.isBuffer(Y)){var P=g(Y.length)|0,N=s(P);return N.length===0||Y.copy(N,0,0,P),N}if(Y.length!==void 0)return typeof Y.length!="number"||ve(Y.length)?s(0):m(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return m(Y.data)}function g(Y){if(Y>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return Y|0}function $(Y){return+Y!=Y&&(Y=0),o.alloc(+Y)}o.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==o.prototype},o.compare=function(P,N){if(te(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),te(N,Uint8Array)&&(N=o.from(N,N.offset,N.byteLength)),!o.isBuffer(P)||!o.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===N)return 0;for(var ee=P.length,be=N.length,Ie=0,Re=Math.min(ee,be);Ie<Re;++Ie)if(P[Ie]!==N[Ie]){ee=P[Ie],be=N[Ie];break}return ee<be?-1:be<ee?1:0},o.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(P,N){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return o.alloc(0);var ee;if(N===void 0)for(N=0,ee=0;ee<P.length;++ee)N+=P[ee].length;var be=o.allocUnsafe(N),Ie=0;for(ee=0;ee<P.length;++ee){var Re=P[ee];if(te(Re,Uint8Array))Ie+Re.length>be.length?o.from(Re).copy(be,Ie):Uint8Array.prototype.set.call(be,Re,Ie);else if(o.isBuffer(Re))Re.copy(be,Ie);else throw new TypeError('"list" argument must be an Array of Buffers');Ie+=Re.length}return be};function w(Y,P){if(o.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||te(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var N=Y.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&N===0)return 0;for(var be=!1;;)switch(P){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Pe(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return X(Y).length;default:if(be)return ee?-1:Pe(Y).length;P=(""+P).toLowerCase(),be=!0}}o.byteLength=w;function x(Y,P,N){var ee=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,P>>>=0,N<=P))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return Z(this,P,N);case"utf8":case"utf-8":return Q(this,P,N);case"ascii":return W(this,P,N);case"latin1":case"binary":return ne(this,P,N);case"base64":return K(this,P,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,P,N);default:if(ee)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),ee=!0}}o.prototype._isBuffer=!0;function A(Y,P,N){var ee=Y[P];Y[P]=Y[N],Y[N]=ee}o.prototype.swap16=function(){var P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<P;N+=2)A(this,N,N+1);return this},o.prototype.swap32=function(){var P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<P;N+=4)A(this,N,N+3),A(this,N+1,N+2);return this},o.prototype.swap64=function(){var P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<P;N+=8)A(this,N,N+7),A(this,N+1,N+6),A(this,N+2,N+5),A(this,N+3,N+4);return this},o.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?Q(this,0,P):x.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(P){if(!o.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:o.compare(this,P)===0},o.prototype.inspect=function(){var P="",N=r.INSPECT_MAX_BYTES;return P=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(P+=" ... "),"<Buffer "+P+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(P,N,ee,be,Ie){if(te(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),!o.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(N===void 0&&(N=0),ee===void 0&&(ee=P?P.length:0),be===void 0&&(be=0),Ie===void 0&&(Ie=this.length),N<0||ee>P.length||be<0||Ie>this.length)throw new RangeError("out of range index");if(be>=Ie&&N>=ee)return 0;if(be>=Ie)return-1;if(N>=ee)return 1;if(N>>>=0,ee>>>=0,be>>>=0,Ie>>>=0,this===P)return 0;for(var Re=Ie-be,at=ee-N,dt=Math.min(Re,at),mt=this.slice(be,Ie),Nt=P.slice(N,ee),wt=0;wt<dt;++wt)if(mt[wt]!==Nt[wt]){Re=mt[wt],at=Nt[wt];break}return Re<at?-1:at<Re?1:0};function I(Y,P,N,ee,be){if(Y.length===0)return-1;if(typeof N=="string"?(ee=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,ve(N)&&(N=be?0:Y.length-1),N<0&&(N=Y.length+N),N>=Y.length){if(be)return-1;N=Y.length-1}else if(N<0)if(be)N=0;else return-1;if(typeof P=="string"&&(P=o.from(P,ee)),o.isBuffer(P))return P.length===0?-1:D(Y,P,N,ee,be);if(typeof P=="number")return P=P&255,typeof Uint8Array.prototype.indexOf=="function"?be?Uint8Array.prototype.indexOf.call(Y,P,N):Uint8Array.prototype.lastIndexOf.call(Y,P,N):D(Y,[P],N,ee,be);throw new TypeError("val must be string, number or Buffer")}function D(Y,P,N,ee,be){var Ie=1,Re=Y.length,at=P.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(Y.length<2||P.length<2)return-1;Ie=2,Re/=2,at/=2,N/=2}function dt(vr,tr){return Ie===1?vr[tr]:vr.readUInt16BE(tr*Ie)}var mt;if(be){var Nt=-1;for(mt=N;mt<Re;mt++)if(dt(Y,mt)===dt(P,Nt===-1?0:mt-Nt)){if(Nt===-1&&(Nt=mt),mt-Nt+1===at)return Nt*Ie}else Nt!==-1&&(mt-=mt-Nt),Nt=-1}else for(N+at>Re&&(N=Re-at),mt=N;mt>=0;mt--){for(var wt=!0,Jt=0;Jt<at;Jt++)if(dt(Y,mt+Jt)!==dt(P,Jt)){wt=!1;break}if(wt)return mt}return-1}o.prototype.includes=function(P,N,ee){return this.indexOf(P,N,ee)!==-1},o.prototype.indexOf=function(P,N,ee){return I(this,P,N,ee,!0)},o.prototype.lastIndexOf=function(P,N,ee){return I(this,P,N,ee,!1)};function S(Y,P,N,ee){N=Number(N)||0;var be=Y.length-N;ee?(ee=Number(ee),ee>be&&(ee=be)):ee=be;var Ie=P.length;ee>Ie/2&&(ee=Ie/2);for(var Re=0;Re<ee;++Re){var at=parseInt(P.substr(Re*2,2),16);if(ve(at))return Re;Y[N+Re]=at}return Re}function O(Y,P,N,ee){return fe(Pe(P,Y.length-N),Y,N,ee)}function H(Y,P,N,ee){return fe(ye(P),Y,N,ee)}function B(Y,P,N,ee){return fe(X(P),Y,N,ee)}function V(Y,P,N,ee){return fe(_e(P,Y.length-N),Y,N,ee)}o.prototype.write=function(P,N,ee,be){if(N===void 0)be="utf8",ee=this.length,N=0;else if(ee===void 0&&typeof N=="string")be=N,ee=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(ee)?(ee=ee>>>0,be===void 0&&(be="utf8")):(be=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ie=this.length-N;if((ee===void 0||ee>Ie)&&(ee=Ie),P.length>0&&(ee<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");for(var Re=!1;;)switch(be){case"hex":return S(this,P,N,ee);case"utf8":case"utf-8":return O(this,P,N,ee);case"ascii":case"latin1":case"binary":return H(this,P,N,ee);case"base64":return B(this,P,N,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,P,N,ee);default:if(Re)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),Re=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(Y,P,N){return P===0&&N===Y.length?t.fromByteArray(Y):t.fromByteArray(Y.slice(P,N))}function Q(Y,P,N){N=Math.min(Y.length,N);for(var ee=[],be=P;be<N;){var Ie=Y[be],Re=null,at=Ie>239?4:Ie>223?3:Ie>191?2:1;if(be+at<=N){var dt,mt,Nt,wt;switch(at){case 1:Ie<128&&(Re=Ie);break;case 2:dt=Y[be+1],(dt&192)===128&&(wt=(Ie&31)<<6|dt&63,wt>127&&(Re=wt));break;case 3:dt=Y[be+1],mt=Y[be+2],(dt&192)===128&&(mt&192)===128&&(wt=(Ie&15)<<12|(dt&63)<<6|mt&63,wt>2047&&(wt<55296||wt>57343)&&(Re=wt));break;case 4:dt=Y[be+1],mt=Y[be+2],Nt=Y[be+3],(dt&192)===128&&(mt&192)===128&&(Nt&192)===128&&(wt=(Ie&15)<<18|(dt&63)<<12|(mt&63)<<6|Nt&63,wt>65535&&wt<1114112&&(Re=wt))}}Re===null?(Re=65533,at=1):Re>65535&&(Re-=65536,ee.push(Re>>>10&1023|55296),Re=56320|Re&1023),ee.push(Re),be+=at}return q(ee)}var G=4096;function q(Y){var P=Y.length;if(P<=G)return String.fromCharCode.apply(String,Y);for(var N="",ee=0;ee<P;)N+=String.fromCharCode.apply(String,Y.slice(ee,ee+=G));return N}function W(Y,P,N){var ee="";N=Math.min(Y.length,N);for(var be=P;be<N;++be)ee+=String.fromCharCode(Y[be]&127);return ee}function ne(Y,P,N){var ee="";N=Math.min(Y.length,N);for(var be=P;be<N;++be)ee+=String.fromCharCode(Y[be]);return ee}function Z(Y,P,N){var ee=Y.length;(!P||P<0)&&(P=0),(!N||N<0||N>ee)&&(N=ee);for(var be="",Ie=P;Ie<N;++Ie)be+=je[Y[Ie]];return be}function oe(Y,P,N){for(var ee=Y.slice(P,N),be="",Ie=0;Ie<ee.length-1;Ie+=2)be+=String.fromCharCode(ee[Ie]+ee[Ie+1]*256);return be}o.prototype.slice=function(P,N){var ee=this.length;P=~~P,N=N===void 0?ee:~~N,P<0?(P+=ee,P<0&&(P=0)):P>ee&&(P=ee),N<0?(N+=ee,N<0&&(N=0)):N>ee&&(N=ee),N<P&&(N=P);var be=this.subarray(P,N);return Object.setPrototypeOf(be,o.prototype),be};function ie(Y,P,N){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+P>N)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(P,N,ee){P=P>>>0,N=N>>>0,ee||ie(P,N,this.length);for(var be=this[P],Ie=1,Re=0;++Re<N&&(Ie*=256);)be+=this[P+Re]*Ie;return be},o.prototype.readUintBE=o.prototype.readUIntBE=function(P,N,ee){P=P>>>0,N=N>>>0,ee||ie(P,N,this.length);for(var be=this[P+--N],Ie=1;N>0&&(Ie*=256);)be+=this[P+--N]*Ie;return be},o.prototype.readUint8=o.prototype.readUInt8=function(P,N){return P=P>>>0,N||ie(P,1,this.length),this[P]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(P,N){return P=P>>>0,N||ie(P,2,this.length),this[P]|this[P+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(P,N){return P=P>>>0,N||ie(P,2,this.length),this[P]<<8|this[P+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(P,N){return P=P>>>0,N||ie(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(P,N){return P=P>>>0,N||ie(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},o.prototype.readIntLE=function(P,N,ee){P=P>>>0,N=N>>>0,ee||ie(P,N,this.length);for(var be=this[P],Ie=1,Re=0;++Re<N&&(Ie*=256);)be+=this[P+Re]*Ie;return Ie*=128,be>=Ie&&(be-=Math.pow(2,8*N)),be},o.prototype.readIntBE=function(P,N,ee){P=P>>>0,N=N>>>0,ee||ie(P,N,this.length);for(var be=N,Ie=1,Re=this[P+--be];be>0&&(Ie*=256);)Re+=this[P+--be]*Ie;return Ie*=128,Re>=Ie&&(Re-=Math.pow(2,8*N)),Re},o.prototype.readInt8=function(P,N){return P=P>>>0,N||ie(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},o.prototype.readInt16LE=function(P,N){P=P>>>0,N||ie(P,2,this.length);var ee=this[P]|this[P+1]<<8;return ee&32768?ee|4294901760:ee},o.prototype.readInt16BE=function(P,N){P=P>>>0,N||ie(P,2,this.length);var ee=this[P+1]|this[P]<<8;return ee&32768?ee|4294901760:ee},o.prototype.readInt32LE=function(P,N){return P=P>>>0,N||ie(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},o.prototype.readInt32BE=function(P,N){return P=P>>>0,N||ie(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},o.prototype.readFloatLE=function(P,N){return P=P>>>0,N||ie(P,4,this.length),e.read(this,P,!0,23,4)},o.prototype.readFloatBE=function(P,N){return P=P>>>0,N||ie(P,4,this.length),e.read(this,P,!1,23,4)},o.prototype.readDoubleLE=function(P,N){return P=P>>>0,N||ie(P,8,this.length),e.read(this,P,!0,52,8)},o.prototype.readDoubleBE=function(P,N){return P=P>>>0,N||ie(P,8,this.length),e.read(this,P,!1,52,8)};function ae(Y,P,N,ee,be,Ie){if(!o.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>be||P<Ie)throw new RangeError('"value" argument is out of bounds');if(N+ee>Y.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(P,N,ee,be){if(P=+P,N=N>>>0,ee=ee>>>0,!be){var Ie=Math.pow(2,8*ee)-1;ae(this,P,N,ee,Ie,0)}var Re=1,at=0;for(this[N]=P&255;++at<ee&&(Re*=256);)this[N+at]=P/Re&255;return N+ee},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(P,N,ee,be){if(P=+P,N=N>>>0,ee=ee>>>0,!be){var Ie=Math.pow(2,8*ee)-1;ae(this,P,N,ee,Ie,0)}var Re=ee-1,at=1;for(this[N+Re]=P&255;--Re>=0&&(at*=256);)this[N+Re]=P/at&255;return N+ee},o.prototype.writeUint8=o.prototype.writeUInt8=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,1,255,0),this[N]=P&255,N+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,2,65535,0),this[N]=P&255,this[N+1]=P>>>8,N+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,2,65535,0),this[N]=P>>>8,this[N+1]=P&255,N+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,4,4294967295,0),this[N+3]=P>>>24,this[N+2]=P>>>16,this[N+1]=P>>>8,this[N]=P&255,N+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,4,4294967295,0),this[N]=P>>>24,this[N+1]=P>>>16,this[N+2]=P>>>8,this[N+3]=P&255,N+4},o.prototype.writeIntLE=function(P,N,ee,be){if(P=+P,N=N>>>0,!be){var Ie=Math.pow(2,8*ee-1);ae(this,P,N,ee,Ie-1,-Ie)}var Re=0,at=1,dt=0;for(this[N]=P&255;++Re<ee&&(at*=256);)P<0&&dt===0&&this[N+Re-1]!==0&&(dt=1),this[N+Re]=(P/at>>0)-dt&255;return N+ee},o.prototype.writeIntBE=function(P,N,ee,be){if(P=+P,N=N>>>0,!be){var Ie=Math.pow(2,8*ee-1);ae(this,P,N,ee,Ie-1,-Ie)}var Re=ee-1,at=1,dt=0;for(this[N+Re]=P&255;--Re>=0&&(at*=256);)P<0&&dt===0&&this[N+Re+1]!==0&&(dt=1),this[N+Re]=(P/at>>0)-dt&255;return N+ee},o.prototype.writeInt8=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,1,127,-128),P<0&&(P=255+P+1),this[N]=P&255,N+1},o.prototype.writeInt16LE=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,2,32767,-32768),this[N]=P&255,this[N+1]=P>>>8,N+2},o.prototype.writeInt16BE=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,2,32767,-32768),this[N]=P>>>8,this[N+1]=P&255,N+2},o.prototype.writeInt32LE=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,4,2147483647,-2147483648),this[N]=P&255,this[N+1]=P>>>8,this[N+2]=P>>>16,this[N+3]=P>>>24,N+4},o.prototype.writeInt32BE=function(P,N,ee){return P=+P,N=N>>>0,ee||ae(this,P,N,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[N]=P>>>24,this[N+1]=P>>>16,this[N+2]=P>>>8,this[N+3]=P&255,N+4};function he(Y,P,N,ee,be,Ie){if(N+ee>Y.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function Ce(Y,P,N,ee,be){return P=+P,N=N>>>0,be||he(Y,P,N,4),e.write(Y,P,N,ee,23,4),N+4}o.prototype.writeFloatLE=function(P,N,ee){return Ce(this,P,N,!0,ee)},o.prototype.writeFloatBE=function(P,N,ee){return Ce(this,P,N,!1,ee)};function ke(Y,P,N,ee,be){return P=+P,N=N>>>0,be||he(Y,P,N,8),e.write(Y,P,N,ee,52,8),N+8}o.prototype.writeDoubleLE=function(P,N,ee){return ke(this,P,N,!0,ee)},o.prototype.writeDoubleBE=function(P,N,ee){return ke(this,P,N,!1,ee)},o.prototype.copy=function(P,N,ee,be){if(!o.isBuffer(P))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!be&&be!==0&&(be=this.length),N>=P.length&&(N=P.length),N||(N=0),be>0&&be<ee&&(be=ee),be===ee||P.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),P.length-N<be-ee&&(be=P.length-N+ee);var Ie=be-ee;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,ee,be):Uint8Array.prototype.set.call(P,this.subarray(ee,be),N),Ie},o.prototype.fill=function(P,N,ee,be){if(typeof P=="string"){if(typeof N=="string"?(be=N,N=0,ee=this.length):typeof ee=="string"&&(be=ee,ee=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!o.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(P.length===1){var Ie=P.charCodeAt(0);(be==="utf8"&&Ie<128||be==="latin1")&&(P=Ie)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(N<0||this.length<N||this.length<ee)throw new RangeError("Out of range index");if(ee<=N)return this;N=N>>>0,ee=ee===void 0?this.length:ee>>>0,P||(P=0);var Re;if(typeof P=="number")for(Re=N;Re<ee;++Re)this[Re]=P;else{var at=o.isBuffer(P)?P:o.from(P,be),dt=at.length;if(dt===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(Re=0;Re<ee-N;++Re)this[Re+N]=at[Re%dt]}return this};var Te=/[^+/0-9A-Za-z-_]/g;function Ae(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(Te,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function Pe(Y,P){P=P||1/0;for(var N,ee=Y.length,be=null,Ie=[],Re=0;Re<ee;++Re){if(N=Y.charCodeAt(Re),N>55295&&N<57344){if(!be){if(N>56319){(P-=3)>-1&&Ie.push(239,191,189);continue}else if(Re+1===ee){(P-=3)>-1&&Ie.push(239,191,189);continue}be=N;continue}if(N<56320){(P-=3)>-1&&Ie.push(239,191,189),be=N;continue}N=(be-55296<<10|N-56320)+65536}else be&&(P-=3)>-1&&Ie.push(239,191,189);if(be=null,N<128){if((P-=1)<0)break;Ie.push(N)}else if(N<2048){if((P-=2)<0)break;Ie.push(N>>6|192,N&63|128)}else if(N<65536){if((P-=3)<0)break;Ie.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((P-=4)<0)break;Ie.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return Ie}function ye(Y){for(var P=[],N=0;N<Y.length;++N)P.push(Y.charCodeAt(N)&255);return P}function _e(Y,P){for(var N,ee,be,Ie=[],Re=0;Re<Y.length&&!((P-=2)<0);++Re)N=Y.charCodeAt(Re),ee=N>>8,be=N%256,Ie.push(be),Ie.push(ee);return Ie}function X(Y){return t.toByteArray(Ae(Y))}function fe(Y,P,N,ee){for(var be=0;be<ee&&!(be+N>=P.length||be>=Y.length);++be)P[be+N]=Y[be];return be}function te(Y,P){return Y instanceof P||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===P.name}function ve(Y){return Y!==Y}var je=function(){for(var Y="0123456789abcdef",P=new Array(256),N=0;N<16;++N)for(var ee=N*16,be=0;be<16;++be)P[ee+be]=Y[N]+Y[be];return P}()})(vS);const{Buffer:Qf}=vS;function Ls(...r){const t=new Ls.Request(...r),e=new XMLHttpRequest;e.withCredentials=t.credentials==="include",e.timeout=t[Ze].timeout,e.open(t.method,t.url,!1);let i=!1;try{e.responseType="arraybuffer"}catch{e.overrideMimeType("text/plain; charset=x-user-defined"),i=!0}for(const o of t.headers)e.setRequestHeader(...o);e.send(t.body||null);let n=e.getAllResponseHeaders();n=n&&n.split(`\r
`).filter(Boolean).map(o=>o.split(": ",2));let a=e.response;if(i){const o=Qf.alloc(a.length);for(let l=0;l<a.length;l++)o[l]=a.charCodeAt(l)&255;a=o}const s=new Ls.Response(a,{headers:n,status:e.status,statusText:e.statusText});return s[Ze].url=e.responseURL,s[Ze].redirected=e.responseURL!==t.url,s}const Ze=Symbol("SyncFetch Internals"),oP=["mode","cache","redirect","referrer","integrity"],lP={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};class xf{constructor(t,e={}){for(const i of oP)if(i in e)throw new TypeError(`option ${i} not supported`);if(e.credentials==="same-origin")throw new TypeError("option credentials with value 'same-origin' not supported");if(this[Ze]={method:e.method||"GET",headers:new Ls.Headers(e.headers),body:e.body?Qf.from(e.body):null,credentials:e.credentials||"omit",timeout:e.timeout||0},typeof t=="string")this[Ze].url=t;else if(t instanceof xf)this[Ze].url=t.url,e.method||(this[Ze].method=t.method),e.headers||(this[Ze].headers=t.headers),e.body||(this[Ze].body=t[Ze].body),e.credentials||(this[Ze].credentials=t.credentials);else throw new TypeError("Request input should be a URL string or a Request object")}get cache(){return"default"}get credentials(){return this[Ze].credentials}get destination(){return""}get headers(){return this[Ze].headers}get integrity(){return""}get method(){return this[Ze].method}get mode(){return"cors"}get priority(){return"auto"}get redirect(){return"follow"}get referrer(){return"about:client"}get referrerPolicy(){return""}get url(){return this[Ze].url}clone(){return Pb(this),new xf(this.url,this[Ze])}}class sp{constructor(t,e={}){this[Ze]={body:t?Qf.from(t):null,bodyUsed:!1,headers:new Ls.Headers(e.headers),status:e.status,statusText:e.statusText}}get headers(){return this[Ze].headers}get ok(){const t=this[Ze].status;return t>=200&&t<300}get redirected(){return this[Ze].redirected}get status(){return this[Ze].status}get statusText(){return this[Ze].statusText}get url(){return this[Ze].url}clone(){return this.redirect(this[Ze].url,this[Ze].status)}redirect(t,e){Pb(this);const i=new sp(this[Ze].body,{headers:this[Ze].headers,status:e||this[Ze].status,statusText:lP[e]||this[Ze].statusText});return i[Ze].url=t||this[Ze].url,i[Ze].redirected=this[Ze].redirected,i}}class Sf{constructor(t){this[Ze]={body:Qf.from(t),bodyUsed:!1}}get bodyUsed(){return this[Ze].bodyUsed}static mixin(t){for(const e of Object.getOwnPropertyNames(Sf.prototype)){if(e==="constructor")continue;const i=Object.getOwnPropertyDescriptor(Sf.prototype,e);Object.defineProperty(t,e,{...i,enumerable:!0})}}arrayBuffer(){const t=Xu(this);return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}blob(){const t=this.headers&&this.headers.get("content-type");return new Blob([Xu(this)],t&&{type:t})}text(){return Xu(this).toString()}json(){try{return JSON.parse(Xu(this).toString())}catch(t){throw new TypeError(`invalid json response body at ${this.url} reason: ${t.message}`,"invalid-json")}}buffer(){return Xu(this).clone()}}function Pb(r){if(r.bodyUsed)throw new TypeError(`body used already for: ${r.url}`)}function Xu(r){return Pb(r),r[Ze].bodyUsed=!0,r[Ze].body||Qf.alloc(0)}Sf.mixin(xf.prototype);Sf.mixin(sp.prototype);class uP{constructor(t){if(t instanceof Ls.Headers)this[Ze]={...t[Ze]};else if(this[Ze]={},Array.isArray(t))for(const[e,i]of t)this.append(e,i);else if(typeof t=="object")for(const e in t)this.set(e,t[e])}append(t,e){t=t.toLowerCase(),this[Ze][t]||(this[Ze][t]=[]),this[Ze][t].push(e)}delete(t){delete this[Ze][t.toLowerCase()]}set(t,e){this[Ze][t.toLowerCase()]=[e]}entries(){const t=[];for(const e in this[Ze])for(const i of this[Ze][e])t.push([e,i]);return t}get(t){return t=t.toLowerCase(),t in this[Ze]?this[Ze][t].join(", "):null}keys(){return Object.keys(this[Ze])}has(t){return t.toLowerCase()in this[Ze]}values(){const t=[];for(const e in this[Ze])for(const i of this[Ze][e])t.push(i);return t}*[Symbol.iterator](){for(const t in this[Ze])for(const e of this[Ze][t])yield[t,e]}}Ls.Headers=uP;Ls.Request=xf;Ls.Response=sp;var jg={exports:{}};(function(r,t){(function(e){function i(n){var a=n&&n.Promise||e.Promise,s=n&&n.XMLHttpRequest||e.XMLHttpRequest;return function(){var o=Object.create(e,{fetch:{value:void 0,writable:!0}});return function(l,u){u(t)}(this,function(l){var u=typeof o<"u"&&o||typeof self<"u"&&self||typeof u<"u"&&u,f={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function h(W){return W&&DataView.prototype.isPrototypeOf(W)}if(f.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(W){return W&&c.indexOf(Object.prototype.toString.call(W))>-1};function v(W){if(typeof W!="string"&&(W=String(W)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(W)||W==="")throw new TypeError("Invalid character in header field name");return W.toLowerCase()}function d(W){return typeof W!="string"&&(W=String(W)),W}function b(W){var ne={next:function(){var Z=W.shift();return{done:Z===void 0,value:Z}}};return f.iterable&&(ne[Symbol.iterator]=function(){return ne}),ne}function g(W){this.map={},W instanceof g?W.forEach(function(ne,Z){this.append(Z,ne)},this):Array.isArray(W)?W.forEach(function(ne){this.append(ne[0],ne[1])},this):W&&Object.getOwnPropertyNames(W).forEach(function(ne){this.append(ne,W[ne])},this)}g.prototype.append=function(W,ne){W=v(W),ne=d(ne);var Z=this.map[W];this.map[W]=Z?Z+", "+ne:ne},g.prototype.delete=function(W){delete this.map[v(W)]},g.prototype.get=function(W){return W=v(W),this.has(W)?this.map[W]:null},g.prototype.has=function(W){return this.map.hasOwnProperty(v(W))},g.prototype.set=function(W,ne){this.map[v(W)]=d(ne)},g.prototype.forEach=function(W,ne){for(var Z in this.map)this.map.hasOwnProperty(Z)&&W.call(ne,this.map[Z],Z,this)},g.prototype.keys=function(){var W=[];return this.forEach(function(ne,Z){W.push(Z)}),b(W)},g.prototype.values=function(){var W=[];return this.forEach(function(ne){W.push(ne)}),b(W)},g.prototype.entries=function(){var W=[];return this.forEach(function(ne,Z){W.push([Z,ne])}),b(W)},f.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function $(W){if(W.bodyUsed)return a.reject(new TypeError("Already read"));W.bodyUsed=!0}function w(W){return new a(function(ne,Z){W.onload=function(){ne(W.result)},W.onerror=function(){Z(W.error)}})}function x(W){var ne=new FileReader,Z=w(ne);return ne.readAsArrayBuffer(W),Z}function A(W){var ne=new FileReader,Z=w(ne);return ne.readAsText(W),Z}function I(W){for(var ne=new Uint8Array(W),Z=new Array(ne.length),oe=0;oe<ne.length;oe++)Z[oe]=String.fromCharCode(ne[oe]);return Z.join("")}function D(W){if(W.slice)return W.slice(0);var ne=new Uint8Array(W.byteLength);return ne.set(new Uint8Array(W)),ne.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(W){this.bodyUsed=this.bodyUsed,this._bodyInit=W,W?typeof W=="string"?this._bodyText=W:f.blob&&Blob.prototype.isPrototypeOf(W)?this._bodyBlob=W:f.formData&&FormData.prototype.isPrototypeOf(W)?this._bodyFormData=W:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(W)?this._bodyText=W.toString():f.arrayBuffer&&f.blob&&h(W)?(this._bodyArrayBuffer=D(W.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(W)||m(W))?this._bodyArrayBuffer=D(W):this._bodyText=W=Object.prototype.toString.call(W):this._bodyText="",this.headers.get("content-type")||(typeof W=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(W)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var W=$(this);if(W)return W;if(this._bodyBlob)return a.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return a.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return a.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var W=$(this);return W||(ArrayBuffer.isView(this._bodyArrayBuffer)?a.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):a.resolve(this._bodyArrayBuffer))}else return this.blob().then(x)}),this.text=function(){var W=$(this);if(W)return W;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return a.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return a.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(W){var ne=W.toUpperCase();return O.indexOf(ne)>-1?ne:W}function B(W,ne){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ne=ne||{};var Z=ne.body;if(W instanceof B){if(W.bodyUsed)throw new TypeError("Already read");this.url=W.url,this.credentials=W.credentials,ne.headers||(this.headers=new g(W.headers)),this.method=W.method,this.mode=W.mode,this.signal=W.signal,!Z&&W._bodyInit!=null&&(Z=W._bodyInit,W.bodyUsed=!0)}else this.url=String(W);if(this.credentials=ne.credentials||this.credentials||"same-origin",(ne.headers||!this.headers)&&(this.headers=new g(ne.headers)),this.method=H(ne.method||this.method||"GET"),this.mode=ne.mode||this.mode||null,this.signal=ne.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Z),(this.method==="GET"||this.method==="HEAD")&&(ne.cache==="no-store"||ne.cache==="no-cache")){var oe=/([?&])_=[^&]*/;if(oe.test(this.url))this.url=this.url.replace(oe,"$1_="+new Date().getTime());else{var ie=/\?/;this.url+=(ie.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})};function V(W){var ne=new FormData;return W.trim().split("&").forEach(function(Z){if(Z){var oe=Z.split("="),ie=oe.shift().replace(/\+/g," "),ae=oe.join("=").replace(/\+/g," ");ne.append(decodeURIComponent(ie),decodeURIComponent(ae))}}),ne}function K(W){var ne=new g,Z=W.replace(/\r?\n[\t ]+/g," ");return Z.split("\r").map(function(oe){return oe.indexOf(`
`)===0?oe.substr(1,oe.length):oe}).forEach(function(oe){var ie=oe.split(":"),ae=ie.shift().trim();if(ae){var he=ie.join(":").trim();ne.append(ae,he)}}),ne}S.call(B.prototype);function Q(W,ne){if(!(this instanceof Q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ne||(ne={}),this.type="default",this.status=ne.status===void 0?200:ne.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ne?ne.statusText:"",this.headers=new g(ne.headers),this.url=ne.url||"",this._initBody(W)}S.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},Q.error=function(){var W=new Q(null,{status:0,statusText:""});return W.type="error",W};var G=[301,302,303,307,308];Q.redirect=function(W,ne){if(G.indexOf(ne)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:ne,headers:{location:W}})},l.DOMException=u.DOMException;try{new l.DOMException}catch{l.DOMException=function(ne,Z){this.message=ne,this.name=Z;var oe=Error(ne);this.stack=oe.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function q(W,ne){return new a(function(Z,oe){var ie=new B(W,ne);if(ie.signal&&ie.signal.aborted)return oe(new l.DOMException("Aborted","AbortError"));var ae=new s;function he(){ae.abort()}ae.onload=function(){var ke={status:ae.status,statusText:ae.statusText,headers:K(ae.getAllResponseHeaders()||"")};ke.url="responseURL"in ae?ae.responseURL:ke.headers.get("X-Request-URL");var Te="response"in ae?ae.response:ae.responseText;setTimeout(function(){Z(new Q(Te,ke))},0)},ae.onerror=function(){setTimeout(function(){oe(new TypeError("Network request failed"))},0)},ae.ontimeout=function(){setTimeout(function(){oe(new TypeError("Network request failed"))},0)},ae.onabort=function(){setTimeout(function(){oe(new l.DOMException("Aborted","AbortError"))},0)};function Ce(ke){try{return ke===""&&u.location.href?u.location.href:ke}catch{return ke}}ae.open(ie.method,Ce(ie.url),!0),ie.credentials==="include"?ae.withCredentials=!0:ie.credentials==="omit"&&(ae.withCredentials=!1),"responseType"in ae&&(f.blob?ae.responseType="blob":f.arrayBuffer&&ie.headers.get("Content-Type")&&ie.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(ae.responseType="arraybuffer")),ne&&typeof ne.headers=="object"&&!(ne.headers instanceof g)?Object.getOwnPropertyNames(ne.headers).forEach(function(ke){ae.setRequestHeader(ke,d(ne.headers[ke]))}):ie.headers.forEach(function(ke,Te){ae.setRequestHeader(Te,ke)}),ie.signal&&(ie.signal.addEventListener("abort",he),ae.onreadystatechange=function(){ae.readyState===4&&ie.signal.removeEventListener("abort",he)}),ae.send(typeof ie._bodyInit>"u"?null:ie._bodyInit)})}q.polyfill=!0,u.fetch||(u.fetch=q,u.Headers=g,u.Request=B,u.Response=Q),l.Headers=g,l.Request=B,l.Response=Q,l.fetch=q,Object.defineProperty(l,"__esModule",{value:!0})}),{fetch:o.fetch,Headers:o.Headers,Request:o.Request,Response:o.Response,DOMException:o.DOMException}}()}r.exports=i})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Kh)})(jg,jg.exports);var fP=jg.exports;const cP=kb(fP),hP="@citation-js/core",mP="0.7.9",pP="Convert different bibliographic metadata sources",dP=["citation-js","citation","bibliography"],vP="Lars Willighagen <lars.willighagen@gmail.com>",gP="MIT",bP="lib/index.js",yP="lib-mjs/index.js",$P={lib:"src",test:"__tests__"},_P="https://citation.js.org/",wP={type:"git",url:"https://github.com/citation-js/citation-js.git",directory:"packages/core"},xP={url:"https://github.com/citation-js/citation-js/issues"},SP={node:">=16.0.0"},EP=["lib","lib-mjs"],kP={test:"mocha -c -R dot test/*.spec.js"},TP={"@citation-js/date":"^0.5.0","@citation-js/name":"^0.4.2","fetch-ponyfill":"^7.1.0","sync-fetch":"^0.4.1"},OP="8fa1b9d3d420f489f9a8a57f9759b50a6369182c",AP={name:hP,version:mP,description:pP,keywords:dP,author:vP,license:gP,main:bP,module:yP,directories:$P,homepage:_P,repository:wP,bugs:xP,engines:SP,files:EP,scripts:kP,dependencies:TP,gitHead:OP};cP();const IP=typeof location<"u"&&typeof document<"u";IP||`${AP.version}${process.version}`;function bS(r,t){let e;for(;e===void 0||r.includes(e);)e=`${t}${Math.random().toString().slice(2)}`;return e}class op{constructor(t={}){this.data=t}set(t,e){return this.data[t]=e,this}add(...t){return this.set(...t)}delete(t){return delete this.data[t],this}remove(...t){return this.delete(...t)}get(t){return this.data[t]}has(t){return Object.prototype.hasOwnProperty.call(this.data,t)}list(){return Object.keys(this.data)}}class yS{constructor(t,e){this.rules=t,this.defaultState=e,this.mainRule=Object.keys(t)[0],this.log=[]}parse(t,e){return this.lexer=t,this.token=this.lexer.next(),this.state=Co(this.defaultState),this.log=[],this.consumeRule(e||this.mainRule)}matchEndOfFile(){return!this.token}matchToken(t){return this.token&&t===this.token.type}consumeToken(t,e){const i=this.token;if(!t||i&&i.type===t)return this.token=this.lexer.next(),i;if(e)return;{const n=i?`"${i.type}"`:"EOF",a=new SyntaxError(this.lexer.formatError(i,`expected "${t}", got ${n}`));throw a.message+=` (${this.log.join("->")})`,a}}consumeRule(t){this.log.push(t);const e=this.rules[t].call(this);return this.log.pop(),e}}function CP(r){return function(e){return typeof r=="boolean"?r:Object.keys(r).every(i=>{const n=r[i];return n===!0?i in e:n===!1?!(i in e):typeof n=="function"?n(e[i]):Array.isArray(n)?n.includes(e[i]):e[i]===n})}}function PP(r,t){let e,i,n,a;if(typeof r=="string")e=i=r;else if(r)e=t?r.target:r.source,i=t?r.source:r.target,r.convert&&(n=t?r.convert.toSource:r.convert.toTarget),r.when&&(a=t?r.when.target:r.when.source,a!=null&&(a=CP(a)));else return null;return e=[].concat(e).filter(Boolean),i=[].concat(i).filter(Boolean),{inputProp:e,outputProp:i,convert:n,condition:a}}function j_(r,t){return t=t===wa.CONVERT_TO_SOURCE,r=r.map(e=>PP(e,t)).filter(Boolean),function(i){const n={};for(const{inputProp:a,outputProp:s,convert:o,condition:l}of r){if(s.length===0)continue;if(l&&!l(i))continue;if(a.length!==0&&a.every(f=>!(f in i)))continue;let u=a.map(f=>i[f]);if(o)try{const f=o.apply(i,u);u=s.length===1?[f]:f}catch(f){throw new Error(`Failed to convert ${a} to ${s}`,{cause:f})}s.forEach((f,h)=>{const c=u[h];c!==void 0&&(n[f]=c)})}return n}}class wa{constructor(t){this.convertToSource=j_(t,wa.CONVERT_TO_SOURCE),this.convertToTarget=j_(t,wa.CONVERT_TO_TARGET)}}wa.CONVERT_TO_SOURCE=Symbol("convert to source");wa.CONVERT_TO_TARGET=Symbol("convert to target");function DP(r){return r.reduce((t,e)=>{const i=t[t.length-1];return i&&i.type===e.type?i.count=i.count+1||2:t.push(e),t},[]).map(t=>(t.count>1?t.count+"x ":"")+t.type).join(" -> ")}class $S{constructor(t,e={}){this.options=Object.assign({generateGraph:!0,forceType:Io(t),maxChainLength:10,strict:!0,target:"@csl/list+object"},e),this.type=this.options.forceType,this.data=typeof t=="object"?Co(t):t,this.graph=[{type:this.type,data:t}],this.iteration=0}iterate(){if(this.iteration!==0){const t=wS(this.type);t&&t.outputs?this.type=t.outputs:this.type=Io(this.data),this.graph.push({type:this.type})}return this.error||this.type===this.options.target?!1:this.iteration>=this.options.maxChainLength?(this.error=new RangeError(`Max. number of parsing iterations reached (${DP(this.graph)})`),!1):(this.iteration++,!0)}end(){if(this.error){if(En.error("[core]",this.error.message),this.options.strict!==!1)throw this.error;return[]}else return this.options.target==="@csl/list+object"?dS(this.data).map(this.options.generateGraph?t=>rS(t,this.graph):iS):this.data}}const Db=(...r)=>{const t=new $S(...r);for(;t.iterate();)try{t.data=lp(t.data,t.type)}catch(e){t.error=e}return t.end()},NP=r=>{const t=Io(r),e=t.match(/array|object/)?Co(r):r;return lp(e,t)},Nb=async(...r)=>{const t=new $S(...r);for(;t.iterate();)t.data=await Rb(t.data,t.type).catch(e=>{t.error=e});return t.end()},RP=async r=>{const t=Io(r),e=t.match(/array|object/)?Co(r):r;return Rb(e,t)},Ql={},Zl={},qg={"@csl/object":r=>[r],"@csl/list+object":r=>r,"@else/list+object":r=>r.map(Db).flat(),"@invalid":()=>{throw new Error("This format is not supported or recognized")}},Ug={"@else/list+object":async r=>(await Promise.all(r.map(Nb))).flat()};function lp(r,t){if(typeof Ql[t]=="function")return Ql[t](r);if(typeof qg[t]=="function")return qg[t](r);throw new TypeError(`No synchronous parser found for ${t}`)}async function Rb(r,t){if(typeof Zl[t]=="function")return Zl[t](r);if(typeof Ug[t]=="function")return Ug[t](r);if(_S(t,!1))return lp(r,t);throw new TypeError(`No parser found for ${t}`)}function Hg(r,{parser:t,async:e}){e?Zl[r]=t:Ql[r]=t}function _S(r,t){return t?Zl[r]||Ug[r]:Ql[r]||qg[r]}function Wg(r,t){delete(t?Zl:Ql)[r]}function MP(r){return Object.keys(r?Zl:Ql)}const Po={};function BP(r,t){const e=new uS(r,t);e.validate();const i=Po[r]||(Po[r]={});e.typeParser&&(aS(r,e.typeParser),i.type=!0),e.dataParser&&(Hg(r,e.dataParser),i.data=!0),e.asyncDataParser&&(Hg(r,e.asyncDataParser),i.asyncData=!0),t.outputs&&(i.outputs=t.outputs)}function wS(r){return Po[r]}function FP(r){const t=Po[r];t&&(t.type&&sS(r),t.data&&Wg(r),t.asyncData&&Wg(r,!0),delete Po[r])}function zP(r){return r in Po}function LP(){return Object.keys(Po)}const jP=Object.assign({},vC,gC,SC,KC),qP=Object.freeze(Object.defineProperty({__proto__:null,add:BP,addDataParser:Hg,addTypeParser:aS,chain:Db,chainAsync:Nb,chainLink:NP,chainLinkAsync:RP,data:lp,dataAsync:Rb,get:wS,has:zP,hasDataParser:_S,hasTypeParser:bC,list:LP,listDataParser:MP,listTypeParser:yC,remove:FP,removeDataParser:Wg,removeTypeParser:sS,treeTypeParser:$C,type:Io,typeMatcher:oS,util:jP},Symbol.toStringTag,{value:"Module"}));function UP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data.push(...Db(r,t)),this.data.filter(i=>!Object.prototype.hasOwnProperty.call(i,"id")).forEach(i=>{i.id=bS(this.getIds(),"temp_id_")}),this}async function HP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data.push(...await Nb(r,t)),this.data.filter(i=>!Object.prototype.hasOwnProperty.call(i,"id")).forEach(i=>{i.id=bS(this.getIds(),"temp_id_")}),this}function WP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data=[],typeof t!="boolean"?this.add(r,t):this.add(r)}async function VP(r,t={},e=!1){return(t===!0||e===!0)&&this.save(),this.data=[],typeof t!="boolean"?this.addAsync(r,t):this.addAsync(r)}function GP(r){return r&&this.save(),this.data=[],this._options={},this}const XP=Object.freeze(Object.defineProperty({__proto__:null,add:UP,addAsync:HP,reset:GP,set:WP,setAsync:VP},Symbol.toStringTag,{value:"Module"}));function xS(r){if("citation-label"in r)return r["citation-label"];let t="";return r.author&&(t+=r.author[0].family||r.author[0].literal),r.issued&&r.issued["date-parts"]&&r.issued["date-parts"][0]&&(t+=r.issued["date-parts"][0][0]),r["year-suffix"]?t+=r["year-suffix"]:r.title&&(t+=r.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),t}const KP={label(r){return r.reduce((t,e)=>(t[e.id]=xS(e),t),{})}};function q_(r,t,e=t==="label"){let i=e?xS(r):r[t];switch(t){case"author":case"editor":return i.map(n=>n.literal||n.family||Tb.format(n));case"accessed":case"issued":return i["date-parts"][0];case"page":return i.split("-").map(n=>parseInt(n));case"edition":case"issue":case"volume":return i=parseInt(i),isNaN(i)?-1/0:i;default:return i||-1/0}}function YP(r,t,e,i=/^!/.test(e)){e=e.replace(/^!/,"");const n=q_(r,e),a=q_(t,e);return(i?-1:1)*(n>a?1:n<a?-1:0)}function JP(...r){return(t,e)=>{const i=r.slice();let n=0;for(;!n&&i.length;)n=YP(t,e,i.shift());return n}}function QP(r=[],t){return t&&this.save(),this.data.sort(typeof r=="function"?r:JP(...r,"label")),this}const ZP=Object.freeze(Object.defineProperty({__proto__:null,sort:QP},Symbol.toStringTag,{value:"Module"}));function eD(r,t){if(typeof r!="string")throw new TypeError(`Invalid output format name, expected string, got ${typeof r}`);if(typeof t!="function")throw new TypeError(`Invalid formatter, expected function, got ${typeof t}`)}const Do=new op;function tD(r,t){eD(r,t),Do.set(r,t)}function rD(r){Do.remove(r)}function iD(r){return Do.has(r)}function nD(){return Do.list()}function SS(r,t,...e){if(!Do.has(r))throw new Error(`Output format "${r}" unavailable`);return Do.get(r)(t,...e)}const aD=Object.freeze(Object.defineProperty({__proto__:null,add:tD,format:SS,has:iD,list:nD,register:Do,remove:rD},Symbol.toStringTag,{value:"Module"}));function sD(){return this.data.map(r=>r.id)}function oD(r,...t){return SS(r,mS(this.data),...t)}function lD(r={}){ip(r);const t=Object.assign({},this.defaultOptions,this._options.output,r),{type:e,style:i}=t,[n,a]=i.split("-"),s=n==="citation"?"bibliography":n==="csl"?"data":n,o=e==="string"?"text":e==="json"?"object":e;let l;switch(s){case"bibliography":{const{lang:h,append:c,prepend:m}=t;l={template:a,lang:h,format:o,append:c,prepend:m};break}case"data":case"bibtex":case"bibtxt":case"ndjson":case"ris":l={type:o};break;default:throw new Error(`Invalid style "${s}"`)}const u=this.format(s,Object.assign(l,r._newOptions)),{format:f}=t;if(f==="real"&&o==="html"&&typeof document<"u"&&typeof document.createElement=="function"){const h=document.createElement("div");return h.innerHTML=u,h.firstChild}else return f==="string"&&typeof u=="object"?JSON.stringify(u):u}const uD=Object.freeze(Object.defineProperty({__proto__:null,format:oD,get:lD,getIds:sD},Symbol.toStringTag,{value:"Module"}));function fD(r,t,e){typeof t=="function"&&!e&&(e=t,t=void 0);const i=new this().setAsync(r,t);if(typeof e=="function"){i.then(e);return}else return i}const cD=Object.freeze(Object.defineProperty({__proto__:null,async:fD,validateOptions:hC,validateOutputOptions:ip},Symbol.toStringTag,{value:"Module"}));function No(r,t={}){return this instanceof No?(this._options=t,this.log=[],this.data=[],this.set(r,t),this.options(t),this):new No(r,t)}Object.assign(No.prototype,cC,dC,XP,ZP,uD);No.prototype[Symbol.iterator]=function*(){yield*this.data};Object.assign(No,cD);function hD(r,t){if(typeof r!="string")throw new TypeError(`Invalid dict name, expected string, got ${typeof r}`);if(typeof t!="object")throw new TypeError(`Invalid dict, expected object, got ${typeof t}`);for(const e in t){const i=t[e];if(!Array.isArray(i)||i.some(n=>typeof n!="string"))throw new TypeError(`Invalid dict entry "${e}", expected array of strings`)}}const Ro=new op({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["",`
`],entry:["",`
`],list:[`
`,""],listItem:["	",`
`]}});function mD(r,t){hD(r,t),Ro.set(r,t)}function pD(r){Ro.remove(r)}function ES(r){return Ro.has(r)}function dD(){return Ro.list()}function Mb(r){if(!Ro.has(r))throw new Error(`Dict "${r}" unavailable`);return Ro.get(r)}const vD={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},gD={wr_start:"",wr_end:`
`,en_start:"",en_end:`
`,ul_start:`
`,ul_end:"",li_start:"	",li_end:`
`},bD=Object.freeze(Object.defineProperty({__proto__:null,add:mD,get:Mb,has:ES,htmlDict:vD,list:dD,register:Ro,remove:pD,textDict:gD},Symbol.toStringTag,{value:"Module"})),Zf={};function yD(r,t){Zf[r]=t}function $D(r){return Zf[r]}function _D(r){return Object.prototype.hasOwnProperty.call(Zf,r)}function wD(r){delete Zf[r]}function xD(){return Object.keys(Zf)}const SD=Object.freeze(Object.defineProperty({__proto__:null,add:yD,get:$D,has:_D,list:xD,remove:wD},Symbol.toStringTag,{value:"Module"})),U_={input:qP,output:aD,dict:bD,config:SD};function Bb(r,t={}){const e={};for(const i in t){if(i==="config"){e.config={[r]:t.config},U_.config.add(r,t.config);continue}const n=e[i]={},a=t[i];for(const s in a){const o=a[s];n[s]=!0,U_[i].add(s,o)}}}function i0(){return[]}const ED=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];function kD(r){if(typeof r!="string")return JSON.parse(r);try{return JSON.parse(r)}catch{return En.debug("[plugin-common]","Invalid JSON, switching to experimental parser"),ED.forEach(([e,i])=>{r=r.replace(e,i)}),JSON.parse(r)}}function TD(r){return r.val()||r.text()||r.html()}function OD(r){return r.value||r.textContent}const AD="@else",ID={"@empty/text":{parse:i0,parseType:{dataType:"String",predicate:r=>r===""}},"@empty/whitespace+text":{parse:i0,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:i0,parseType:{dataType:"Primitive",predicate:r=>r==null}},"@else/json":{parse:kD,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:TD,parseType:{dataType:"ComplexObject",predicate(r){return typeof jQuery<"u"&&r instanceof jQuery}}},"@else/html":{parse:OD,parseType:{dataType:"ComplexObject",predicate(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}}}};function kS(r,t,e){return r+(t<e.length-1?",":"")}function TS(r,t){const e=Array.isArray(r);let i;return e?i=r.map(n=>H_(n,t)):i=Object.keys(r).filter(n=>JSON.stringify(r[n])).map(n=>`"${n}": ${H_(r[n],t)}`),i=i.map(kS).map(n=>t.listItem.join(n)),i=t.list.join(i.join("")),e?`[${i}]`:`{${i}}`}function H_(r,t){return typeof r=="object"&&r!==null?r.length===0?"[]":Object.keys(r).length===0?"{}":TS(r,t):JSON.stringify(r)}function CD(r,t){let e=r.map(i=>TS(i,t));return e=e.map(kS).map(i=>t.entry.join(i)),e=e.join(""),t.bibliographyContainer.join(`[${e}]`)}const PD={data(r,{type:t,format:e=t||"text",version:i="1.0.2"}={}){return i<"1.0.2"&&(r=wf(r)),e==="object"?Co(r):e==="text"?JSON.stringify(r,null,2):(En.warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),CD(r,Mb(e)))},ndjson(r,{version:t="1.0.2"}={}){return t<"1.0.2"&&(r=wf(r)),r.map(e=>JSON.stringify(e)).join(`
`)}},DD=Object.assign({},PD,KP);Bb(AD,{input:ID,output:DD});var OS={exports:{}};(function(r){(function(t,e){r.exports?r.exports=e():t.moo=e()})(Kh,function(){var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,i=typeof new RegExp().sticky=="boolean";function n(B){return B&&e.call(B)==="[object RegExp]"}function a(B){return B&&typeof B=="object"&&!n(B)&&!Array.isArray(B)}function s(B){return B.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(B){var V=new RegExp("|"+B);return V.exec("").length-1}function l(B){return"("+B+")"}function u(B){if(!B.length)return"(?!)";var V=B.map(function(K){return"(?:"+K+")"}).join("|");return"(?:"+V+")"}function f(B){if(typeof B=="string")return"(?:"+s(B)+")";if(n(B)){if(B.ignoreCase)throw new Error("RegExp /i flag not allowed");if(B.global)throw new Error("RegExp /g flag is implied");if(B.sticky)throw new Error("RegExp /y flag is implied");if(B.multiline)throw new Error("RegExp /m flag is implied");return B.source}else throw new Error("Not a pattern: "+B)}function h(B,V){return B.length>V?B:Array(V-B.length+1).join(" ")+B}function c(B,V){for(var K=B.length,Q=0;;){var G=B.lastIndexOf(`
`,K-1);if(G===-1||(Q++,K=G,Q===V)||K===0)break}var q=Q<V?0:K+1;return B.substring(q).split(`
`)}function m(B){for(var V=Object.getOwnPropertyNames(B),K=[],Q=0;Q<V.length;Q++){var G=V[Q],q=B[G],W=[].concat(q);if(G==="include"){for(var ne=0;ne<W.length;ne++)K.push({include:W[ne]});continue}var Z=[];W.forEach(function(oe){a(oe)?(Z.length&&K.push(d(G,Z)),K.push(d(G,oe)),Z=[]):Z.push(oe)}),Z.length&&K.push(d(G,Z))}return K}function v(B){for(var V=[],K=0;K<B.length;K++){var Q=B[K];if(Q.include){for(var G=[].concat(Q.include),q=0;q<G.length;q++)V.push({include:G[q]});continue}if(!Q.type)throw new Error("Rule has no type: "+JSON.stringify(Q));V.push(d(Q.type,Q))}return V}function d(B,V){if(a(V)||(V={match:V}),V.include)throw new Error("Matching rules cannot also include states");var K={defaultType:B,lineBreaks:!!V.error||!!V.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Q in V)t.call(V,Q)&&(K[Q]=V[Q]);if(typeof K.type=="string"&&B!==K.type)throw new Error("Type transform cannot be a string (type '"+K.type+"' for token '"+B+"')");var G=K.match;return K.match=Array.isArray(G)?G:G?[G]:[],K.match.sort(function(q,W){return n(q)&&n(W)?0:n(W)?-1:n(q)?1:W.length-q.length}),K}function b(B){return Array.isArray(B)?v(B):m(B)}var g=d("error",{lineBreaks:!0,shouldThrow:!0});function $(B,V){for(var K=null,Q=Object.create(null),G=!0,q=null,W=[],ne=[],Z=0;Z<B.length;Z++)B[Z].fallback&&(G=!1);for(var Z=0;Z<B.length;Z++){var oe=B[Z];if(oe.include)throw new Error("Inheritance is not allowed in stateless lexers");if(oe.error||oe.fallback){if(K)throw!oe.fallback==!K.fallback?new Error("Multiple "+(oe.fallback?"fallback":"error")+" rules not allowed (for token '"+oe.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+oe.defaultType+"')");K=oe}var ie=oe.match.slice();if(G)for(;ie.length&&typeof ie[0]=="string"&&ie[0].length===1;){var ae=ie.shift();Q[ae.charCodeAt(0)]=oe}if(oe.pop||oe.push||oe.next){if(!V)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+oe.defaultType+"')");if(oe.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+oe.defaultType+"')")}if(ie.length!==0){G=!1,W.push(oe);for(var he=0;he<ie.length;he++){var Ce=ie[he];if(n(Ce)){if(q===null)q=Ce.unicode;else if(q!==Ce.unicode&&oe.fallback===!1)throw new Error("If one rule is /u then all must be")}}var ke=u(ie.map(f)),Te=new RegExp(ke);if(Te.test(""))throw new Error("RegExp matches empty string: "+Te);var Ae=o(ke);if(Ae>0)throw new Error("RegExp has capture groups: "+Te+`
Use (?: … ) instead`);if(!oe.lineBreaks&&Te.test(`
`))throw new Error("Rule should declare lineBreaks: "+Te);ne.push(l(ke))}}var Pe=K&&K.fallback,ye=i&&!Pe?"ym":"gm",_e=i||Pe?"":"|";q===!0&&(ye+="u");var X=new RegExp(u(ne)+_e,ye);return{regexp:X,groups:W,fast:Q,error:K||g}}function w(B){var V=$(b(B));return new D({start:V},"start")}function x(B,V,K){var Q=B&&(B.push||B.next);if(Q&&!K[Q])throw new Error("Missing state '"+Q+"' (in token '"+B.defaultType+"' of state '"+V+"')");if(B&&B.pop&&+B.pop!=1)throw new Error("pop must be 1 (in token '"+B.defaultType+"' of state '"+V+"')")}function A(B,V){var K=B.$all?b(B.$all):[];delete B.$all;var Q=Object.getOwnPropertyNames(B);V||(V=Q[0]);for(var G=Object.create(null),q=0;q<Q.length;q++){var W=Q[q];G[W]=b(B[W]).concat(K)}for(var q=0;q<Q.length;q++)for(var W=Q[q],ne=G[W],Z=Object.create(null),oe=0;oe<ne.length;oe++){var ie=ne[oe];if(ie.include){var ae=[oe,1];if(ie.include!==W&&!Z[ie.include]){Z[ie.include]=!0;var he=G[ie.include];if(!he)throw new Error("Cannot include nonexistent state '"+ie.include+"' (in state '"+W+"')");for(var Ce=0;Ce<he.length;Ce++){var ke=he[Ce];ne.indexOf(ke)===-1&&ae.push(ke)}}ne.splice.apply(ne,ae),oe--}}for(var Te=Object.create(null),q=0;q<Q.length;q++){var W=Q[q];Te[W]=$(G[W],!0)}for(var q=0;q<Q.length;q++){for(var Ae=Q[q],Pe=Te[Ae],ye=Pe.groups,oe=0;oe<ye.length;oe++)x(ye[oe],Ae,Te);for(var _e=Object.getOwnPropertyNames(Pe.fast),oe=0;oe<_e.length;oe++)x(Pe.fast[_e[oe]],Ae,Te)}return new D(Te,V)}function I(B){for(var V=typeof Map<"u",K=V?new Map:Object.create(null),Q=Object.getOwnPropertyNames(B),G=0;G<Q.length;G++){var q=Q[G],W=B[q],ne=Array.isArray(W)?W:[W];ne.forEach(function(Z){if(typeof Z!="string")throw new Error("keyword must be string (in keyword '"+q+"')");V?K.set(Z,q):K[Z]=q})}return function(Z){return V?K.get(Z):K[Z]}}var D=function(B,V){this.startState=V,this.states=B,this.buffer="",this.stack=[],this.reset()};D.prototype.reset=function(B,V){return this.buffer=B||"",this.index=0,this.line=V?V.line:1,this.col=V?V.col:1,this.queuedToken=V?V.queuedToken:null,this.queuedText=V?V.queuedText:"",this.queuedThrow=V?V.queuedThrow:null,this.setState(V?V.state:this.startState),this.stack=V&&V.stack?V.stack.slice():[],this},D.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},D.prototype.setState=function(B){if(!(!B||this.state===B)){this.state=B;var V=this.states[B];this.groups=V.groups,this.error=V.error,this.re=V.regexp,this.fast=V.fast}},D.prototype.popState=function(){this.setState(this.stack.pop())},D.prototype.pushState=function(B){this.stack.push(this.state),this.setState(B)};var S=i?function(B,V){return B.exec(V)}:function(B,V){var K=B.exec(V);return K[0].length===0?null:K};D.prototype._getGroup=function(B){for(var V=this.groups.length,K=0;K<V;K++)if(B[K+1]!==void 0)return this.groups[K];throw new Error("Cannot find token type for matched text")};function O(){return this.value}if(D.prototype.next=function(){var B=this.index;if(this.queuedGroup){var V=this._token(this.queuedGroup,this.queuedText,B);return this.queuedGroup=null,this.queuedText="",V}var K=this.buffer;if(B!==K.length){var W=this.fast[K.charCodeAt(B)];if(W)return this._token(W,K.charAt(B),B);var Q=this.re;Q.lastIndex=B;var G=S(Q,K),q=this.error;if(G==null)return this._token(q,K.slice(B,K.length),B);var W=this._getGroup(G),ne=G[0];return q.fallback&&G.index!==B?(this.queuedGroup=W,this.queuedText=ne,this._token(q,K.slice(B,G.index),B)):this._token(W,ne,B)}},D.prototype._token=function(B,V,K){var Q=0;if(B.lineBreaks){var G=/\n/g,q=1;if(V===`
`)Q=1;else for(;G.exec(V);)Q++,q=G.lastIndex}var W={type:typeof B.type=="function"&&B.type(V)||B.defaultType,value:typeof B.value=="function"?B.value(V):V,text:V,toString:O,offset:K,lineBreaks:Q,line:this.line,col:this.col},ne=V.length;if(this.index+=ne,this.line+=Q,Q!==0?this.col=ne-q+1:this.col+=ne,B.shouldThrow){var Z=new Error(this.formatError(W,"invalid syntax"));throw Z}return B.pop?this.popState():B.push?this.pushState(B.push):B.next&&this.setState(B.next),W},typeof Symbol<"u"&&Symbol.iterator){var H=function(B){this.lexer=B};H.prototype.next=function(){var B=this.lexer.next();return{value:B,done:!B}},H.prototype[Symbol.iterator]=function(){return this},D.prototype[Symbol.iterator]=function(){return new H(this)}}return D.prototype.formatError=function(B,V){if(B==null)var K=this.buffer.slice(this.index),B={text:K,offset:this.index,lineBreaks:K.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var Q=2,G=Math.max(B.line-Q,1),q=B.line+Q,W=String(q).length,ne=c(this.buffer,this.line-B.line+Q+1).slice(0,5),Z=[];Z.push(V+" at line "+B.line+" col "+B.col+":"),Z.push("");for(var oe=0;oe<ne.length;oe++){var ie=ne[oe],ae=G+oe;Z.push(h(String(ae),W)+"  "+ie),ae===B.line&&Z.push(h("",W+B.col+1)+"^")}return Z.join(`
`)},D.prototype.clone=function(){return new D(this.states,this.state)},D.prototype.has=function(B){return!0},{compile:w,states:A,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:I}})})(OS);var ND=OS.exports;const AS=kb(ND),RD={article:"article-journal",book:"book",mvbook:"book",inbook:"chapter",bookinbook:"book",booklet:"book",collection:"book",mvcollection:"book",incollection:"chapter",dataset:"dataset",manual:"report",misc:"document",online:"webpage",patent:"patent",periodical:"periodical",proceedings:"book",mvproceedings:"book",inproceedings:"paper-conference",reference:"book",mvreference:"book",inreference:"entry",report:"report",software:"software",thesis:"thesis",unpublished:"manuscript",artwork:"graphic",audio:"song",image:"figure",jurisdiction:"legal_case",legislation:"legislation",legal:"treaty",letter:"personal_communication",movie:"motion_picture",music:"musical_score",performance:"performance",review:"review",standard:"standard",video:"motion_picture",conference:"paper-conference",electronic:"webpage",mastersthesis:"thesis",phdthesis:"thesis",techreport:"report",www:"webpage"},MD={article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",bill:"legislation",book:"book",broadcast:"audio",chapter:"inbook",classic:"unpublished",collection:"misc",dataset:"dataset",document:"misc",entry:"inreference","entry-dictionary":"inreference","entry-encyclopedia":"inreference",event:"misc",figure:"artwork",graphic:"artwork",hearing:"legal",interview:"audio",legal_case:"jurisdiction",legislation:"legislation",manuscript:"unpublished",motion_picture:"movie",musical_score:"music","paper-conference":"inproceedings",patent:"patent",performance:"performance",periodical:"periodical",personal_communication:"letter",post:"online","post-weblog":"online",regulation:"legal",report:"report",review:"review","review-book":"review",software:"software",song:"music",speech:"audio",standard:"standard",thesis:"thesis",treaty:"legal",webpage:"online"},Vg={source:RD,target:MD},BD={article:"article-journal",book:"book",booklet:"book",conference:"paper-conference",inbook:"chapter",incollection:"chapter",inproceedings:"paper-conference",manual:"report",mastersthesis:"thesis",misc:"document",phdthesis:"thesis",proceedings:"book",techreport:"report",unpublished:"manuscript"},FD={article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",book:"book",chapter:"inbook",manuscript:"unpublished","paper-conference":"inproceedings",report:"techreport",review:"article","review-book":"article"},Gg={source:BD,target:FD},zD={article:["author","title","journaltitle",["year","date"]],book:["author","title",["year","date"]],mvbook:["author","title",["year","date"]],inbook:["author","title","booktitle",["year","date"]],booklet:[["author","editor"],"title",["year","date"]],collection:["editor","title",["year","date"]],mvcollection:["editor","title",["year","date"]],incollection:["author","title","booktitle",["year","date"]],dataset:[["author","editor"],"title",["year","date"]],online:[["author","editor"],"title",["year","date"],["doi","eprint","url"]],patent:["author","title","number",["year","date"]],periodical:["editor","title",["year","date"]],proceedings:["title",["year","date"]],mvproceedings:["title",["year","date"]],inproceedings:["author","title","booktitle",["year","date"]],report:["author","title","type","institution",["year","date"]],thesis:["author","title","type","institution",["year","date"]],unpublished:["author","title",["year","date"]],conference:["author","title","booktitle",["year","date"]],electronic:[["author","editor"],"title",["year","date"],["doi","eprint","url"]],mastersthesis:["author","title","institution",["year","date"]],phdthesis:["author","title","institution",["year","date"]],techreport:["author","title","institution",["year","date"]],www:[["author","editor"],"title",["year","date"],["doi","eprint","url"]]},LD={article:["author","title","journal","year"],book:[["author","editor"],"title","publisher","year"],booklet:["title"],inbook:[["author","editor"],"title",["chapter","pages"],"publisher","year"],incollection:["author","title","booktitle","publisher","year"],inproceedings:["author","title","booktitle","year"],mastersthesis:["author","title","school","year"],phdthesis:["author","title","school","year"],proceedings:["title","year"],techreport:["author","title","institution","year"],unpublished:["author","title","note"]},jD={biblatex:zD,bibtex:LD},qD=["field","literal"],UD=["field","literal"],HD=["list","name"],WD=["field","literal"],VD=["list","name"],GD=["list","name"],XD=["field","key"],KD=["list","name"],YD=["field","key"],JD=["field","literal"],QD=["field","title"],ZD=["field","literal"],eN=["field","literal"],tN=["list","name"],rN=["field","date"],iN=["field","verbatim"],nN=["field","literal"],aN=["list","name"],sN=["list","name"],oN=["list","name"],lN=["list","name"],uN=["field","key"],fN=["field","key"],cN=["field","key"],hN=["field","key"],mN=["field","literal"],pN=["field","literal"],dN=["field","verbatim"],vN=["field","literal"],gN=["field","literal"],bN=["field","date"],yN=["field","title"],$N=["field","literal"],_N=["field","verbatim"],wN=["list","name"],xN=["list","name"],SN=["field","literal"],EN=["field","literal"],kN=["list","literal"],TN=["list","name"],ON=["field","literal"],AN=["field","literal"],IN=["field","literal"],CN=["field","literal"],PN=["field","literal"],DN=["field","literal"],NN=["field","literal"],RN=["field","literal"],MN=["field","literal"],BN=["field","literal"],FN=["field","literal"],zN=["field","literal"],LN=["list","key"],jN=["field","literal"],qN=["list","literal"],UN=["field","literal"],HN=["field","title"],WN=["field","literal"],VN=["field","literal"],GN=["field","literal"],XN=["field","literal"],KN=["field","literal"],YN=["list","literal"],JN=["field","date"],QN=["list","key"],ZN=["list","literal"],eR=["list","literal"],tR=["field","title"],rR=["field","range"],iR=["field","literal"],nR=["field","key"],aR=["field","literal"],sR=["list","literal"],oR=["field","key"],lR=["field","literal"],uR=["field","title"],fR=["list","name"],cR=["list","name"],hR=["field","literal"],mR=["field","literal"],pR=["field","literal"],dR=["field","literal"],vR=["field","title"],gR=["field","literal"],bR=["field","title"],yR=["field","literal"],$R=["list","name"],_R=["field","title"],wR=["field","uri"],xR=["field","date"],SR=["field","literal"],ER=["field","literal"],kR=["field","integer"],TR=["field","integer"],OR=["field","literal"],AR=["field","entry key"],IR=["separated","literal"],CR=["field","code"],PR=["field","gender"],DR=["field","identifier"],NR=["field","literal"],RR=["separated","entry key"],MR=["field","literal"],BR=["separated","literal"],FR=["separated","options"],zR=["field","string"],LR=["separated","literal"],jR=["separated","literal"],qR=["field","identifier"],UR=["field","literal"],HR=["field","literal"],WR=["list","name"],VR=["field","literal"],GR=["field","literal"],XR=["field","integer"],KR=["separated","entry key"],YR=["field","entry key"],JR=["list","name"],QR=["list","name"],ZR=["list","name"],eM=["field","key"],tM=["field","key"],rM=["field","key"],iM=["list","literal"],nM=["list","literal"],aM=["list","literal"],sM=["list","literal"],oM=["list","literal"],lM=["list","literal"],uM=["field","literal"],fM=["field","literal"],cM=["field","literal"],hM=["field","literal"],mM=["field","literal"],pM=["field","literal"],dM=["field","literal"],vM=["field","literal"],gM=["field","literal"],bM=["list","literal"],yM=["field","literal"],$M=["field","literal"],_M=["field","literal"],wM=["field","literal"],xM=["field","verbatim"],SM=["field","literal"],EM=["list","literal"],kM=["field","integer"],TM=["field","literal"],OM=["field","literal"],AM={abstract:qD,addendum:UD,afterword:HD,annotation:WD,annotator:VD,author:GD,authortype:XD,bookauthor:KD,bookpagination:YD,booksubtitle:JD,booktitle:QD,booktitleaddon:ZD,chapter:eN,commentator:tN,date:rN,doi:iN,edition:nN,editor:aN,editora:sN,editorb:oN,editorc:lN,editortype:uN,editoratype:fN,editorbtype:cN,editorctype:hN,eid:mN,entrysubtype:pN,eprint:dN,eprintclass:vN,eprinttype:gN,eventdate:bN,eventtitle:yN,eventtitleaddon:$N,file:_N,foreword:wN,holder:xN,howpublished:SN,indextitle:EN,institution:kN,introduction:TN,isan:ON,isbn:AN,ismn:IN,isrn:CN,issn:PN,issue:DN,issuesubtitle:NN,issuetitle:RN,iswc:MN,journalsubtitle:BN,journaltitle:FN,label:zN,language:LN,library:jN,location:qN,mainsubtitle:UN,maintitle:HN,maintitleaddon:WN,month:VN,nameaddon:GN,note:XN,number:KN,organization:YN,origdate:JN,origlanguage:QN,origlocation:ZN,origpublisher:eR,origtitle:tR,pages:rR,pagetotal:iR,pagination:nR,part:aR,publisher:sR,pubstate:oR,reprinttitle:lR,series:uR,shortauthor:fR,shorteditor:cR,shorthand:hR,shorthandintro:mR,shortjournal:pR,shortseries:dR,shorttitle:vR,subtitle:gR,title:bR,titleaddon:yR,translator:$R,type:_R,url:wR,urldate:xR,venue:SR,version:ER,volume:kR,volumes:TR,year:OR,crossref:AR,entryset:IR,execute:CR,gender:PR,langid:DR,langidopts:NR,ids:RR,indexsorttitle:MR,keywords:BR,options:FR,presort:zR,related:LR,relatedoptions:jR,relatedtype:qR,relatedstring:UR,sortkey:HR,sortname:WR,sortshorthand:VR,sorttitle:GR,sortyear:XR,xdata:KR,xref:YR,namea:JR,nameb:QR,namec:ZR,nameatype:eM,namebtype:tM,namectype:rM,lista:iM,listb:nM,listc:aM,listd:sM,liste:oM,listf:lM,usera:uM,userb:fM,userc:cM,userd:hM,usere:mM,userf:pM,verba:dM,verbb:vM,verbc:gM,address:bM,annote:yM,archiveprefix:$M,journal:_M,key:wM,pdf:xM,primaryclass:SM,school:EM,numpages:kM,pmid:TM,pmcid:OM},IM={"`":"̀","'":"́","^":"̂","~":"̃","=":"̄",u:"̆",".":"̇",'"':"̈",r:"̊",H:"̋",v:"̌",b:"̲",d:"̣",c:"̧",k:"̨",t:"͡",textcommabelow:"̦"},CM={textquotesingle:"'",textasciigrave:"`",textquotedbl:'"',textdollar:"$",textless:"<",textgreater:">",textbackslash:"\\",textasciicircum:"^",textunderscore:"_",textbraceleft:"{",textbar:"|",textbraceright:"}",textasciitilde:"~",textexclamdown:"¡",textcent:"¢",textsterling:"£",textcurrency:"¤",textyen:"¥",textbrokenbar:"¦",textsection:"§",textasciidieresis:"¨",textcopyright:"©",textordfeminine:"ª",guillemetleft:"«",guillemotleft:"«",textlnot:"¬",textregistered:"®",textasciimacron:"¯",textdegree:"°",textpm:"±",texttwosuperior:"²",textthreesuperior:"³",textasciiacute:"´",textmu:"µ",textparagraph:"¶",textperiodcentered:"·",textonesuperior:"¹",textordmasculine:"º",guillemetright:"»",guillemotright:"»",textonequarter:"¼",textonehalf:"½",textthreequarters:"¾",textquestiondown:"¿",AE:"Æ",DH:"Ð",texttimes:"×",O:"Ø",TH:"Þ",ss:"ß",ae:"æ",dh:"ð",textdiv:"÷",o:"ø",th:"þ",DJ:"Đ",dj:"đ",i:"ı",IJ:"Ĳ",ij:"ĳ",L:"Ł",l:"ł",NG:"Ŋ",ng:"ŋ",OE:"Œ",oe:"œ",textflorin:"ƒ",j:"ȷ",textasciicaron:"ˇ",textasciibreve:"˘",textacutedbl:"˝",textgravedbl:"˵",texttildelow:"˷",textbaht:"฿",SS:"ẞ",textcompwordmark:"‌",textendash:"–",textemdash:"—",textbardbl:"‖",textquoteleft:"‘",textquoteright:"’",quotesinglbase:"‚",textquotedblleft:"“",textquotedblright:"”",quotedblbase:"„",textdagger:"†",textdaggerdbl:"‡",textbullet:"•",textellipsis:"…",textperthousand:"‰",textpertenthousand:"‱",guilsinglleft:"‹",guilsinglright:"›",textreferencemark:"※",textinterrobang:"‽",textfractionsolidus:"⁄",textlquill:"⁅",textrquill:"⁆",textdiscount:"⁒",textcolonmonetary:"₡",textlira:"₤",textnaira:"₦",textwon:"₩",textdong:"₫",texteuro:"€",textpeso:"₱",textcelsius:"℃",textnumero:"№",textcircledP:"℗",textrecipe:"℞",textservicemark:"℠",texttrademark:"™",textohm:"Ω",textmho:"℧",textestimated:"℮",textleftarrow:"←",textuparrow:"↑",textrightarrow:"→",textdownarrow:"↓",textminus:"−",Hwithstroke:"Ħ",hwithstroke:"ħ",textasteriskcentered:"∗",textsurd:"√",textlangle:"〈",textrangle:"〉",textblank:"␢",textvisiblespace:"␣",textopenbullet:"◦",textbigcircle:"◯",textmusicalnote:"♪",textmarried:"⚭",textdivorced:"⚮",textinterrobangdown:"⸘",textcommabelow:null,copyright:"©"},PM={Gamma:"Γ",Delta:"Δ",Theta:"Θ",Lambda:"Λ",Xi:"Ξ",Pi:"Π",Sigma:"Σ",Phi:"Φ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",varepsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",pi:"π",rho:"ρ",varsigma:"ς",sigma:"σ",tau:"τ",upsilon:"υ",varphi:"φ",chi:"χ",psi:"ψ",omega:"ω",vartheta:"ϑ",Upsilon:"ϒ",phi:"ϕ",varpi:"ϖ",varrho:"ϱ",epsilon:"ϵ"},Fb={diacritics:IM,commands:CM,mathCommands:PM},zb=jD,wm=AM,Ef=Fb.diacritics,kf=Fb.commands,Tf=Fb.mathCommands,IS={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"},Yh={it:"italics",itshape:"italics",sl:"italics",slshape:"italics",em:"italics",bf:"bold",bfseries:"bold",sc:"smallcaps",scshape:"smallcaps",rm:void 0,sf:void 0,tt:void 0},Xg={textit:"italics",textsl:"italics",emph:"italics",mkbibitalic:"italics",mkbibemph:"italics",textbf:"bold",strong:"bold",mkbibbold:"bold",textsc:"smallcaps",textsuperscript:"superscript",textsubscript:"subscript",enquote:"quotes",mkbibquote:"quotes",textmd:void 0,textrm:void 0,textsf:void 0,texttt:void 0,textup:void 0},xm={italics:["<i>","</i>"],bold:["<b>","</b>"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"],smallcaps:['<span style="font-variant:small-caps;">',"</span>"],nocase:['<span class="nocase">',"</span>"],quotes:["“","”"]},Kg={ElsevierGlyph(r){return String.fromCharCode(parseInt(r,16))},href(r,t){return r},url(r){return r}},CS=/---?|''|``|~/g,Of={"--":"–","---":"—","``":"“","''":"”","~":" "},Jh={"^":"superscript",sp:"superscript",_:"subscript",sb:"subscript",mathrm:void 0},Yg={"^":{0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻","=":"⁼","(":"⁽",")":"⁾",i:"ⁱ",n:"ⁿ"},_:{0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉","+":"₊","-":"₋","=":"₌","(":"₍",")":"₎",a:"ₐ",e:"ₑ",o:"ₒ",x:"ₓ",ə:"ₔ",h:"ₕ",k:"ₖ",l:"ₗ",m:"ₘ",n:"ₙ",s:"ₚ",p:"ₛ",t:"ₜ"}},PS=["american","british","canadian","english","australian","newzealand","usenglish","ukenglish","en","eng","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","anglais"],DM=Object.freeze(Object.defineProperty({__proto__:null,argumentCommands:Kg,commands:kf,defaultStrings:IS,diacritics:Ef,fieldTypes:wm,formatting:xm,formattingCommands:Xg,formattingEnvs:Yh,ligaturePattern:CS,ligatures:Of,mathCommands:Tf,mathScriptFormatting:Jh,mathScripts:Yg,required:zb,sentenceCaseLanguages:PS},Symbol.toStringTag,{value:"Module"})),bi={constants:DM,types:{biblatex:Vg,bibtex:Gg},parse:{biblatex:!0,strict:!1,sentenceCase:"never"},format:{useIdAsLabel:!1,asciiOnly:!0},biber:{annotationMarker:"+an",namedAnnotationMarker:":"}};function W_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function la(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(e),!0).forEach(function(i){NM(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):W_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function NM(r,t,e){return t=RM(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function RM(r){var t=MM(r,"string");return typeof t=="symbol"?t:String(t)}function MM(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const V_=/[a-zA-Z_][a-zA-Z0-9_:+-]*/,Qc={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},BM=AS.states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:la(la({},Qc),{},{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:V_,next:"dataEntryContents"}}),otherEntryContents:la(la({},Qc),{},{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:la(la({},Qc),{},{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:la(la({},Qc),{},{identifier:V_,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},quote:{match:'"',pop:!0},text:{match:/(?:\\[\\{]|[^{"])+/,lineBreaks:!0}},bracedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:"}",pop:!0},text:{match:/(?:\\[\\{}]|[^{}])+/,lineBreaks:!0}}}),FM={"(":")","{":"}"},zM=new yS({Main(){const r=[];for(;;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;r.push(this.consumeRule("Entry"))}return r.filter(Boolean)},_(){let r;for(;r!==this.token;)r=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry(){this.consumeToken("at"),this.consumeRule("_");const r=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");const t=this.consumeToken("lbrace").value;this.consumeRule("_");let e;if(r==="string"){const[n,a]=this.consumeRule("Field");this.state.strings[n]=a}else if(r==="preamble")this.consumeRule("Expression");else{const n=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_");const a=this.consumeRule("EntryBody");e=la({type:r,label:n},a)}this.consumeRule("_");const i=this.consumeToken("rbrace").value;return i!==FM[t]&&En.warn("[plugin-bibtex]",`entry started with "${t}", but ends with "${i}"`),e},EntryBody(){const r={properties:{}};for(;this.matchToken("identifier");){const[t,e]=this.consumeRule("Field");let i,n="default";if(t.endsWith(bi.biber.annotationMarker)?i=t.slice(0,-bi.biber.annotationMarker.length):t.includes(bi.biber.annotationMarker+bi.biber.namedAnnotationMarker)&&([i,n]=t.split(bi.biber.annotationMarker+bi.biber.namedAnnotationMarker)),i?(r.annotations||(r.annotations={}),r.annotations[i]||(r.annotations[i]={}),r.annotations[i][n]=e):r.properties[t]=e,this.consumeRule("_"),this.consumeToken("comma",!0))this.consumeRule("_");else break}return r},Field(){const r=this.consumeToken("identifier").value.toLowerCase();this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_");const t=this.consumeRule("Expression");return[r,t]},Expression(){let r=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),r+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return r},ExpressionPart(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value.toLowerCase()]||"":this.matchToken("number")?parseInt(this.consumeToken("number")):this.matchToken("quote")?this.consumeRule("QuoteString"):this.consumeRule("BracketString")},QuoteString(){let r="";for(this.consumeToken("quote");!this.matchToken("quote");)r+=this.consumeRule("Text");return this.consumeToken("quote"),r},BracketString(){let r="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)r+=this.consumeRule("Text");return this.consumeToken("rbrace"),r},Text(){return this.matchToken("lbrace")?`{${this.consumeRule("BracketString")}}`:this.consumeToken("text").value}},{strings:IS});function G_(r){return zM.parse(BM.reset(r))}const Qh={splitEntries:/\n\s*(?=\[)/g,parseEntry:/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,splitPairs:/((?=.)\s)*\n\s*/g,splitPair:/:(.*)/},LM=r=>{const[,t,e]=r.match(Qh.parseEntry)||[];if(!t||!e)return{};{const i={type:"book",label:t,properties:{}};return e.trim().split(Qh.splitPairs).filter(n=>n).forEach(n=>{let[a,s]=n.split(Qh.splitPair);s&&(a=a.trim(),s=s.trim(),a==="type"?i.type=s:i.properties[a]=s)}),i}},jM=r=>r.trim().split(Qh.splitEntries).map(LM),qM=new Set(["the","a","an"]),Jg=/(?:<\/?.*?>|[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F])+/g,UM=/[^\u0020-\u007F]+/g;function X_(r){return r?r.normalize("NFKD").replace(UM,"").split(Jg).find(t=>t.length&&!qM.has(t.toLowerCase())):""}const Zc=new wa([{source:"given",target:"given"},{source:"family",target:"family"},{source:"suffix",target:"suffix"},{source:"prefix",target:"non-dropping-particle"},{source:"family",target:"literal",when:{source:!1,target:{family:!1,given:!1}}}]),HM=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Or="BibTeX type",Af="BibTeX label",dl={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},WM={bathesis:"Bachelor's thesis",mathesis:"Master's thesis",phdthesis:"PhD thesis",candthesis:"Candidate thesis",techreport:"technical report",resreport:"research report",software:"computer software",datacd:"data cd",audiocd:"audio cd",patent:"patent",patentde:"German patent",patenteu:"European patent",patentfr:"French patent",patentuk:"British patent",patentus:"U.S. patent",patreq:"patent request",patreqde:"German patent request",patreqeu:"European patent request",patreqfr:"French patent request",patrequk:"British patent request",patrequs:"U.S. patent request"},VM=/(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\d{9}|(?=[\d-]{11}$)\d+-\d+-\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\d{9}-?\d$)/i;function GM(r){const t=r.split("T")[0].replace(/[?~%]$/,"").split("-"),e=+t[0].replace(/^Y(?=-?\d{4}\d+)/,"").replace(/X/g,"0"),i=+t[1],n=+t[2];return!i||i>20?[e]:n?[e,i,n]:[e,i]}function XM(r){if(r==null)return[];if(+r)return[parseInt(r,10)];if(r=r.trim().toLowerCase(),r in dl)return[dl[r]];const t=r.split(/\s+/);let e,i;return t[0]in dl?(e=dl[t[0]],i=parseInt(t[1])):t[1]in dl&&(e=dl[t[1]],i=parseInt(t[0])),i?[e,i]:e?[e]:[]}function KM(r,t,e,i){let n="";return r&&r[0]&&(n+=X_(r[0].family||r[0].literal)),t&&t["date-parts"]&&t["date-parts"][0]&&(n+=t["date-parts"][0][0]),e?n+=e:i&&(n+=X_(i)),n}const ft={PICK:{toTarget(...r){return r.find(Boolean)},toSource(r){return[r]}},DATE:{toTarget(r){const t=r.split("/").map(e=>e&&e!==".."?GM(e):void 0);return isNaN(t[0][0])?{literal:r}:{"date-parts":t}},toSource(r){if("date-parts"in r)return r["date-parts"].map(t=>t.map(e=>e.toString().padStart(2,"0")).join("-")).join("/")}},YEAR_MONTH:{toTarget(r,t,e){return isNaN(+r)?{literal:r}:!isNaN(+e)&&!isNaN(+t)?{"date-parts":[[+r,+t,+e]]}:{"date-parts":[[+r,...XM(t)]]}},toSource(r){if("date-parts"in r){const[t,e,i]=r["date-parts"][0];return[t.toString(),e?i?`${HM[e-1]} ${i}`:e:void 0]}else return[]}},EPRINT:{toTarget(r,t){if(t==="pubmed")return r},toSource(r){return[r,"pubmed"]}},EVENT_TITLE:{toTarget(r,t){return t&&(r+=" ("+t+")"),r},toSource(r){return r.match(/^(.+)(?: \((.+)\))?$/).slice(1,3)}},HOW_PUBLISHED:{toTarget(r){if(r.startsWith("http"))return r}},KEYWORDS:{toTarget(r){return r.join(",")},toSource(r){return r.split(",")}},LABEL:{toTarget(r){return[r,r]},toSource(r,t,e,i,n,a){let s;return r===null?s="null":r===void 0?s="undefined":s=r.toString().replace(Jg,""),bi.format.useIdAsLabel?s:t&&!Jg.test(t)?t:KM(e,i,n,a)||s}},NAMES:{toTarget(r){return r.map(Zc.convertToTarget)},toSource(r){return r.map(Zc.convertToSource)}},NAMES_ORCID:{toTarget(r,t){return r.map((e,i)=>{var n;const a=Zc.convertToTarget(e);return typeof(t==null||(n=t.item)===null||n===void 0?void 0:n[i])=="string"&&(a._orcid=t.item[i]),a})},toSource(r){const t=[],e=[];for(let i=0;i<r.length;i++)t.push(Zc.convertToSource(r[i])),r[i]._orcid&&(e[i]=r[i]._orcid);return[t,e.length?{item:e}:void 0]}},PAGES:{toTarget(r){return r.replace(/[–—]/,"-")},toSource(r){return r.replace("-","--")}},STANDARD_NUMBERS:{toTarget(...r){return r.find(Boolean)},toSource(r){const t=r.toString().match(VM);return t?t.slice(1,5):[]}},STATUS:{toSource(r){if(/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(r))return r}},TITLE:{toTarget(r,t,e){return t&&(r+=": "+t),r},toSource(r){return[r]}}};var Lb={},up={};Object.defineProperty(up,"__esModule",{value:!0});up.default=void 0;function eu(r,t){return ZM(r)||QM(r,t)||JM(r,t)||YM()}function YM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JM(r,t){if(r){if(typeof r=="string")return K_(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return K_(r,t)}}function K_(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function QM(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var i=[],n=!0,a=!1,s,o;try{for(e=e.call(r);!(n=(s=e.next()).done)&&(i.push(s.value),!(t&&i.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&e.return!=null&&e.return()}finally{if(a)throw o}}return i}}function ZM(r){if(Array.isArray(r))return r}const eB={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},tB=/ (?:to|[-/]) | ?(?:--|[–—]) ?/,Y_=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function mo(r){return eB[r.toLowerCase().slice(0,3)]}function rB(r){const t=new Date(r);return typeof r=="number"&&!isNaN(t.valueOf())?[t.getFullYear(),t.getMonth()+1,t.getDate()]:null}const iB=function(t){const e=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if(typeof t!="string"||!e.test(t))return null;const i=t.match(e),n=eu(i,4),a=n[1],s=n[2],o=n[3];return+s?+o?[a,s,o]:[a,s]:[a]},nB=function(t){const e=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if(typeof t!="string"||!e.test(t))return null;let i=t.match(e),n=eu(i,4),a=n[1],s=n[2],o=n[3];return s=mo(s),s?[o,s,a]:null};function aB(r){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if(typeof r!="string"||!t.test(r))return null;const e=r.match(t),i=eu(e,4),n=i[1],a=i[2],s=i[3];return new Date(s,n,a).getMonth()===parseInt(n)?[s,n,a]:null}function sB(r){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,e=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let i,n,a;if(typeof r!="string")return null;if(t.test(r)){var s=r.match(t),o=eu(s,4);a=o[1],n=o[2],i=o[3]}else if(e.test(r)){var l=r.match(e),u=eu(l,4);i=u[1],n=u[2],a=u[3]}else return null;if(mo(n))n=mo(n);else if(isNaN(n))return null;return[i,n,a]}function oB(r){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if(typeof r=="string"&&t.test(r)){const e=r.match(t).slice(1,3);let i;if(mo(e[1]))i=mo(e.pop());else if(mo(e[0]))i=mo(e.shift());else{if(e.some(isNaN)||e.every(a=>+a<0))return null;+e[0]<0||+e[0]>+e[1]&&+e[1]>0?i=e.pop():i=e.shift()}return[e.pop(),i]}else return null}function lB(r){if(typeof r!="string")return null;const t=r.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=t.slice(1),i=eu(e,2),n=i[0],a=i[1];return[n*(a.toLowerCase()[0]==="a"?1:-1)]}else return/^-?\d+$/.test(r)?[r]:null}function uB(r){const t=rB(r)||iB(r)||nB(r)||aB(r)||sB(r)||oB(r)||lB(r);return t&&t.map(e=>parseInt(e))}function fB(r){return Y_.test(r)?r.match(Y_).slice(1,3):r.split(tB)}function cB(r,t){const e=[],i=typeof r=="string"&&fB(r);t?e.push(r,t):i&&i.length===2?e.push(...i):e.push(r);const n=e.map(uB);return n.filter(Boolean).length===e.length?{"date-parts":n}:{raw:t?e.join("/"):r}}var hB=cB;up.default=hB;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.default=void 0;function n0(r,t,e){if(r.length>=t)return r;for(;r.length<t;)r=e+r;return r.slice(-t)}const mB=function(t,e="-"){if(!t["date-parts"])return t.raw;const i=t["date-parts"][0].map(n=>n.toString());switch(i.length){case 3:i[2]=n0(i[2],2,"0");case 2:i[1]=n0(i[1],2,"0");case 1:i[0]=n0(i[0],4,"0");break}return i.join(e)};var pB=mB;fp.default=pB;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"format",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return t.default}});var t=i(up),e=i(fp);function i(n){return n&&n.__esModule?n:{default:n}}})(Lb);const dB=[{source:"note",target:"accessed",when:{source:!1,target:{note:!1,addendum:!1}},convert:{toSource(r){return`[Online; accessed ${Lb.format(r)}]`}}},{source:"numpages",target:"number-of-pages",when:{source:{pagetotal:!1},target:!1}},{source:"pmid",target:"PMID",when:{source:{eprinttype(r){return r!=="pmid"},archiveprefix(r){return r!=="pmid"}},target:!1}},{source:"pmcid",target:"PMCID",when:{target:!1}},{source:"s2id",target:"custom",convert:{toTarget(r){return{S2ID:r}},toSource({S2ID:r}){return r}}}],vB=[{source:"annote",target:"annote",when:{source:{annotation:!1},target:!1}},{source:"address",target:"publisher-place",convert:ft.PICK,when:{source:{location:!1},target:!1}},{source:["eprint","archiveprefix"],target:"PMID",convert:ft.EPRINT,when:{source:{eprinttype:!1},target:!1}},{source:"journal",target:"container-title",when:{source:{maintitle:!1,booktitle:!1,journaltitle:!1},target:!1}},{source:"school",target:"publisher",convert:ft.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:!1}}],DS=new wa([...vB,...dB,{source:"abstract",target:"abstract"},{source:"urldate",target:"accessed",convert:ft.DATE},{source:"annotation",target:"annote"},{source:["author","author+an:orcid"],target:"author",convert:ft.NAMES_ORCID},{source:"library",target:"call-number"},{source:"chapter",target:"chapter-number"},{source:"bookauthor",target:"container-author",convert:ft.NAMES},{source:["maintitle","mainsubtitle","maintitleaddon"],target:"container-title",when:{source:!0,target:{"number-of-volumes":!0}},convert:ft.TITLE},{source:["booktitle","booksubtitle","booktitleaddon"],target:"container-title",when:{source:{maintitle:!1},target:{"number-of-volumes":!1,type(r){return!r||!r.startsWith("article")}}},convert:ft.TITLE},{source:["journaltitle","journalsubtitle","journaltitleaddon"],target:"container-title",when:{source:{[Or]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}},convert:ft.TITLE},{source:"shortjournal",target:"container-title-short",when:{source:{[Or]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"shortjournal",target:"journalAbbreviation",when:{source:!1,target:{"container-title-short":!1}}},{source:"number",target:"collection-number",when:{source:{[Or]:["book","mvbook","inbook","bookinbook","suppbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"shortseries",target:"collection-title-short"},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:ft.NAMES},{source:[Or,"entrysubtype","type"],target:["type","genre"],convert:{toTarget(r,t,e){return e||(r==="mastersthesis"&&(e="mathesis"),r==="phdthesis"&&(e="phdthesis"),r==="techreport"&&(e="techreport")),[Vg.source[r]||"document",e||t]},toSource(r,t){const e=Vg.target[r]||"misc";return t in WM?[e,void 0,t]:[e,t]}}},{source:Or,when:{target:{type:!1}},convert:{toSource(){return"misc"}}},{source:"eventdate",target:"event-date",convert:ft.DATE},{source:"venue",target:"event-place"},{source:["eventtitle","eventtitleaddon"],target:"event-title",convert:ft.EVENT_TITLE},{source:["eventtitle","eventtitleaddon"],target:"event",convert:ft.EVENT_TITLE,when:{source:!1,target:{"event-title":!1}}},{source:Af,target:["id","citation-key","author","issued","year-suffix","title"],convert:ft.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"issue",target:"issue",when:{source:{number:!1,[Or]:["article","periodical"]},target:{issue(r){return typeof r=="string"&&!r.match(/\d+/)},type:["article","article-journal","article-newspaper","article-magazine","periodical"]}}},{source:"number",target:"issue",when:{source:{[Or]:["article","periodical","inproceedings"]},target:{issue(r){return r&&(typeof r=="number"||r.match(/\d+/))},type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:"date",target:"issued",convert:ft.DATE},{source:["year","month","day"],target:"issued",convert:ft.YEAR_MONTH,when:{source:{date:!1},target:!1}},{source:"location",target:"jurisdiction",when:{source:{type:"patent"},target:{type:"patent"}}},{source:"keywords",target:"keyword",convert:ft.KEYWORDS},{source:"language",target:"language",convert:ft.PICK},{source:"langid",target:"language",when:{source:{language:!1},target:!1}},{source:"note",target:"note"},{source:"addendum",target:"note",when:{source:{note:!1},target:!1}},{source:"eid",target:"number",when:{target:{type:["article-journal"]}}},{source:["isan","ismn","isrn","iswc"],target:"number",convert:ft.STANDARD_NUMBERS,when:{source:{[Or](r){return r!=="patent"}},target:{type(r){return r!=="patent"}}}},{source:"number",target:"number",when:{source:{[Or]:["patent","report","techreport","legislation"]},target:{type:["patent","report","legislation"]}}},{source:"origdate",target:"original-date",convert:ft.DATE},{source:"origlocation",target:"original-publisher-place",convert:ft.PICK},{source:"origpublisher",target:"original-publisher",convert:ft.PICK},{source:"origtitle",target:"original-title"},{source:"pages",target:"page",when:{source:{bookpagination:[void 0,"page"]}},convert:ft.PAGES},{source:"pagetotal",target:"number-of-pages"},{source:"part",target:"part-number"},{source:["eprint","eprinttype"],target:"PMID",convert:ft.EPRINT},{source:"location",target:"publisher-place",convert:ft.PICK},{source:"publisher",target:"publisher",convert:ft.PICK,when:{source:!0,target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty"]}}},{source:"organization",target:"publisher",convert:ft.PICK,when:{source:{publisher:!1},target:{type:"webpage"}}},{source:"institution",target:"publisher",convert:ft.PICK,when:{source:{publisher:!1,organization:!1},target:{type:["report","thesis"]}}},{source:"howpublished",target:"publisher",convert:ft.PICK,when:{source:{howpublished(r){return r&&!r.startsWith("http")},publisher:!1,organization:!1,institution:!1},target:{type:"manuscript"}}},{source:["pages","bookpagination"],target:"section",when:{source:{bookpagination:"section"},target:{page:!1}},convert:{toTarget(r){return r},toSource(r){return[r,"section"]}}},{source:"pubstate",target:"status",convert:ft.STATUS},{source:"shorttitle",target:"title-short"},{source:"shorttitle",target:"shortTitle",when:{source:!1,target:{"title-short":!1}}},{source:["title","subtitle","titleaddon"],target:"title",convert:ft.TITLE},{source:"translator",target:"translator",convert:ft.NAMES},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:ft.HOW_PUBLISHED,when:{source:{url:!1},target:!1}},{source:"version",target:"version"},{source:"volume",target:"volume"},{source:"volumes",target:"number-of-volumes"},{source:["issuetitle","issuesubtitle","issuetitleaddon"],target:"volume-title",convert:ft.TITLE}]),NS=new wa([{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource(r){return`[Online; accessed ${Lb.format(r)}]`}}},{source:"annote",target:"annote"},{source:"address",target:"publisher-place",convert:ft.PICK},{source:"author",target:"author",convert:ft.NAMES},{source:"chapter",target:"chapter-number"},{source:"number",target:"collection-number",when:{source:{[Or]:["book","mvbook","inbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"booktitle",target:"container-title",when:{target:{type:["chapter","paper-conference"]}}},{source:"journal",target:"container-title",when:{source:{[Or]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:ft.NAMES},{source:Af,target:["id","citation-key","author","issued","year-suffix","title"],convert:ft.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"number",target:"issue",when:{source:{[Or]:["article","periodical","inproceedings"]},target:{issue(r){return typeof r=="number"||typeof r=="string"&&r.match(/\d+/)},type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:["year","month","day"],target:"issued",convert:ft.YEAR_MONTH},{source:"note",target:"note"},{source:"number",target:"number",when:{source:{[Or]:["patent","report","techreport"]},target:{type:["patent","report"]}}},{source:"eid",target:"number",when:{source:{number:!1},target:{type:["article-journal"]}}},{source:"pages",target:"page",convert:ft.PAGES},{source:"publisher",target:"publisher",convert:ft.PICK,when:{target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","map","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty","webpage"]}}},{source:"organization",target:"publisher",convert:ft.PICK,when:{source:{publisher:!1},target:{type:"paper-conference"}}},{source:"institution",target:"publisher",convert:ft.PICK,when:{source:{publisher:!1,organization:!1},target:{type:"report"}}},{source:"school",target:"publisher",convert:ft.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:{type:"thesis"}}},{source:"howpublished",target:"publisher",convert:ft.PICK,when:{source:{howpublished(r){return r&&!r.startsWith("http")},publisher:!1,organization:!1,institution:!1,school:!1},target:{type:"manuscript"}}},{source:"title",target:"title"},{source:[Or,"type"],target:["type","genre"],convert:{toTarget(r,t){const e=Gg.source[r]||"document";return t?[e,t]:r==="mastersthesis"?[e,"Master's thesis"]:r==="phdthesis"?[e,"PhD thesis"]:[e]},toSource(r,t){const e=Gg.target[r]||"misc";return/^(master'?s|diploma) thesis$/i.test(t)?["mastersthesis"]:/^(phd|doctoral) thesis$/i.test(t)?["phdthesis"]:[e,t]}}},{source:Or,when:{target:{type:!1}},convert:{toSource(){return"misc"}}},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:ft.HOW_PUBLISHED,when:{target:{publisher:!1}}},{source:"volume",target:"volume"}]);function J_(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function gB(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(e),!0).forEach(function(i){bB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):J_(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function bB(r,t,e){return t=yB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function yB(r){var t=$B(r,"string");return typeof t=="symbol"?t:String(t)}function $B(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const _B=new Set(["book","inbook","bookinbook","suppbook"]),RS=new Set(["inbook","bookinbook","suppbook"]),Q_=new Set(["collection","reference","incollection","inreference","suppcollection"]),Z_=new Set(["incollection","inreference","suppcollection"]),wB=new Set(["proceedings","inproceedings"]),xB=new Set(["inproceedings"]),SB=new Set(["article","suppperiodical"]),e2={mvbook:["main",_B],mvcollection:["main",Q_],mvreference:["main",Q_],mvproceedings:["main",wB],book:["book",RS],collection:["book",Z_],reference:["book",Z_],proceedings:["book",xB],periodical:["journal",SB]};function MS(r,t,e){if(t.crossref in e){const i=e[t.crossref];if(i.properties===t)return t;const n=gB({},MS(i.type,i.properties,e));if(delete n.ids,delete n.crossref,delete n.xref,delete n.entryset,delete n.entrysubtype,delete n.execute,delete n.label,delete n.options,delete n.presort,delete n.related,delete n.relatedoptions,delete n.relatedstring,delete n.relatedtype,delete n.shortand,delete n.shortandintro,delete n.sortkey,(i.type==="mvbook"||i.type==="book")&&RS.has(r)&&(n.bookauthor=n.author),i.type in e2){const[a,s]=e2[i.type];s.has(r)&&(n[a+"title"]=n.title,n[a+"subtitle"]=n.subtitle,a!=="journal"&&(n[a+"titleaddon"]=n.titleaddon),delete n.title,delete n.subtitle,delete n.titleaddon,delete n.shorttitle,delete n.sorttitle,delete n.indextitle,delete n.indexsorttitle)}return Object.assign(n,t)}return t}function EB(r,t){if(r==null)return{};var e=kB(r,t),i,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)i=a[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(e[i]=r[i])}return e}function kB(r,t){if(r==null)return{};var e={},i=Object.keys(r),n,a;for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(e[n]=r[n]);return e}function t2(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function TB(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(e),!0).forEach(function(i){OB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):t2(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function OB(r,t,e){return t=BS(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function BS(r){var t=AB(r,"string");return typeof t=="symbol"?t:String(t)}function AB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function FS(r,t){const e={};for(const i of r)e[i.label]=i;return r.map(({type:i,label:n,properties:a})=>t.convertToTarget(TB({[Or]:i,[Af]:n},MS(i,a,e))))}function zS(r,t){return r.map(e=>{const i=t.convertToSource(e),{[Or]:n,[Af]:a}=i,s=EB(i,[Or,Af].map(BS));return{type:n,label:a,properties:s}})}function IB(r){return FS(r,NS)}function CB(r){return zS(r,NS)}function PB(r){return FS(r,DS)}function DB(r){return zS(r,DS)}function NB(r){const t=r.toUpperCase(),e=r.toLowerCase();for(let i=0;i<r.length;i++)if(t[i]!==e[i])return t[i]===r[i];return null}function Ps(r){if(r.length===0)return;let t="";for(;r.length>1;){const{value:i,hyphenated:n}=r.shift();t+=i+(n?"-":" ")}const e=t+r[0].value;return e[0]&&e}function RB(r,t=!0){const e=[],i=[];if(t)for(;r.length>1&&r[0].upperCase!==!1;){for(e.push(...i),i.length=0;r.length>1&&r[0].upperCase!==!1&&!r[0].hyphenated;)e.push(r.shift());for(;r.length>0&&r[0].upperCase!==!1&&r[0].hyphenated;)i.push(r.shift())}const n=[],a=[];for(;r.length>1;){for(n.push(...a),a.length=0;r.length>1&&r[0].upperCase===!1;)n.push(r.shift());for(;r.length>0&&r[0].upperCase!==!1;)a.push(r.shift())}return i.length&&a.unshift(...i),r.length&&a.push(r[0]),[Ps(e),Ps(n),Ps(a)]}function MB(r){if(r[0][0].label){const a={};for(const[{value:s,label:o}]of r)a[o]=s;return a}const t={},[e,i,n]=RB(r[0],r.length===1);return n&&(t.family=n),i&&(t.prefix=i),r.length===3?(t.given=Ps(r[2]),t.suffix=Ps(r[1])):r.length===2?t.given=Ps(r[1]):e&&(t.given=e),t}function r2(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function Xr(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(e),!0).forEach(function(i){BB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):r2(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function BB(r,t,e){return t=FB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function FB(r){var t=zB(r,"string");return typeof t=="symbol"?t:String(t)}function zB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const vs={commandBegin:{match:"\\begin",push:"environment"},command:{match:/\\(?:[a-zA-Z]+|.) */,value:r=>r.slice(1).trim()},lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/[\s]+|~/,lineBreaks:!0,value(r){return r==="~"?" ":" "}}},LS=AS.states({stringLiteral:Xr(Xr({},vs),{},{text:/[^{$}\s~\\]+/}),namesLiteral:Xr(Xr({and:/\s+[aA][nN][dD]\s+/,comma:",",hyphen:"-",equals:"="},vs),{},{text:/[^{$}\s~\\,=-]+/}),listLiteral:Xr(Xr({and:/\s+and\s+/},vs),{},{text:/[^{$}\s~\\]+/}),separatedLiteral:Xr(Xr({comma:","},vs),{},{text:/[^{$}\s~\\,]+/}),annotation:Xr(Xr({},vs),{},{colon:":",equals:"=",comma:",",semicolon:";",quote:'"',itemCount:/\d+/,text:/[^{$}\s~\\":;,=]+/}),bracedLiteral:Xr(Xr({},vs),{},{rbrace:{match:"}",pop:!0},text:/[^{$}\s~\\]+/}),mathLiteral:Xr(Xr({},vs),{},{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s~\\^_]+/}),environment:Xr(Xr({commandEnd:{match:"\\end",pop:!0}},vs),{},{text:/[^{$}\s~\\]+/})});function oo(r){return r[0],r}function Ku(r,t){return t in xm?r&&xm[t].join(r):r}const jS=new yS({String(){let r="";for(;!this.matchEndOfFile();)r+=this.consumeRule("Text");return oo(r)},StringNames(){const r=[];for(;;){if(this.consumeToken("whitespace",!0),r.push(this.consumeRule("Name")),this.consumeToken("whitespace",!0),this.matchEndOfFile())return r;this.consumeToken("and")}},Name(){const r=[];for(;;){if(r.push(this.consumeRule("NamePiece")),this.matchEndOfFile()||this.matchToken("and"))return MB(r);this.consumeToken("comma"),this.consumeToken("whitespace",!0)}},NamePiece(){const r=[];for(;;){const t=this.consumeRule("NameToken");if(t.label)return t.label=Ps([...r,{value:t.label}]),[t];if(r.push(t),this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma"))return r;for(;this.matchToken("hyphen")||this.matchToken("whitespace");)this.consumeToken()}},NameToken(){let r=null,t="";for(;;)if(r===null&&this.matchToken("text")){const e=this.consumeToken().value;t+=e,r=NB(e)}else{if(this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma")||this.matchToken("whitespace"))return{value:t,upperCase:r};if(this.matchToken("hyphen"))return{value:t,upperCase:r,hyphenated:!0};if(this.matchToken("equals")){this.consumeToken("equals");const e=this.consumeRule("NamePiece");return e[0].label&&(t+="="+e[0].label),{value:Ps(e),label:t}}else t+=this.consumeRule("Text")}},StringList(){const r=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("and");)t+=this.consumeRule("Text");r.push(oo(t)),this.consumeToken("and",!0)}return r.length===1?r[0]:r},StringSeparated(){const r=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("comma");)t+=this.consumeRule("Text");r.push(t.trim()),this.consumeToken("comma",!0),this.consumeToken("whitespace",!0)}return r},StringVerbatim(){let r="";for(;!this.matchEndOfFile();)r+=this.consumeToken().text;return oo(r)},StringUri(){const r=this.consumeRule("StringVerbatim");try{return decodeURI(r)===r?encodeURI(r):r}catch{return encodeURI(r)}},StringTitleCase(){this.state.sentenceCase=!0;let r="";for(;!this.matchEndOfFile();)r+=this.consumeRule("Text");return oo(r)},Annotations(){const r={};for(;;){const{scope:t,item:e,part:i,value:n}=this.consumeRule("Annotation");if(t==="part"?(r.part||(r.part=[]),r.part[e]||(r.part[e]={}),r.part[e][i]=n):t==="item"?(r.item||(r.item=[]),r.item[e]=n):r.field=n,this.matchEndOfFile())break;this.consumeToken("semicolon"),this.consumeRule("_")}return r},Annotation(){const r={};if(this.matchToken("itemCount")?(r.item=parseInt(this.consumeToken("itemCount"))-1,this.matchToken("colon")?(this.consumeToken("colon"),r.part=this.consumeToken("text"),r.scope="part"):r.scope="item"):r.scope="field",this.consumeToken("equals"),this.consumeRule("_"),this.matchToken("quote")){this.consumeToken("quote");let t="";for(;!this.matchToken("quote");)this.matchToken("itemCount")||this.matchToken("colon")||this.matchToken("comma")||this.matchToken("semicolon")||this.matchToken("equals")?(t+=this.token.value,this.token=this.lexer.next()):t+=this.consumeRule("Text");this.consumeToken("quote"),r.value=oo(t),this.consumeRule("_")}else{r.value=[];let t="";for(;;)if(t+=this.consumeRule("Text"),this.matchToken("comma"))this.consumeToken("comma"),this.consumeRule("_"),r.value.push(oo(t)),t="";else if(this.matchEndOfFile()||this.matchToken("semicolon")){r.value.push(oo(t));break}}return r},BracketString(){var r;let t="";this.consumeToken("lbrace");const e=this.state.sentenceCase;for(this.state.sentenceCase=e&&this.matchToken("command"),(r=this.state).partlyLowercase&&(r.partlyLowercase=this.state.sentenceCase);!this.matchToken("rbrace");)t+=this.consumeRule("Text");const n=e&&!this.state.sentenceCase&&this.state.partlyLowercase;return this.state.sentenceCase=e,this.consumeToken("rbrace"),n?Ku(t,"nocase"):t},MathString(){let r="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");){if(this.matchToken("script")){const t=this.consumeToken("script").value,e=this.consumeRule("Text").split("");if(e.every(i=>i in Yg[t]))r+=e.map(i=>Yg[t][i]).join("");else{const i=Jh[t];r+=xm[i].join(e.join(""))}continue}if(this.matchToken("command")){const t=this.token.value;if(t in Jh){this.consumeToken("command");const e=this.consumeRule("BracketString");r+=Ku(e,Jh[t]);continue}}r+=this.consumeRule("Text")}return this.consumeToken("mathShift"),r},Text(){if(this.matchToken("lbrace"))return this.consumeRule("BracketString");if(this.matchToken("mathShift"))return this.consumeRule("MathString");if(this.matchToken("whitespace"))return this.consumeToken("whitespace").value;if(this.matchToken("commandBegin"))return this.consumeRule("EnclosedEnv");if(this.matchToken("command"))return this.consumeRule("Command");const r=this.consumeToken("text").value.replace(CS,o=>Of[o]),t=this.state.afterPunctuation;if(this.state.afterPunctuation=/[?!.:]$/.test(r),!this.state.sentenceCase){var e;return(e=this.state).partlyLowercase||(e.partlyLowercase=r===r.toLowerCase()&&r!==r.toUpperCase()),r}const[i,...n]=r,a=n.join(""),s=a.toLowerCase();return a!==s?r:t?i+s:r.toLowerCase()},Command(){const r=this.consumeToken("command"),t=r.value;if(t in Yh){const e=this.consumeRule("Env"),i=Yh[t];return Ku(e,i)}else if(t in Xg){const e=this.consumeRule("BracketString"),i=Xg[t];return Ku(e,i)}else{if(t in kf)return kf[t];if(t in Tf)return Tf[t];if(t in Ef&&!this.matchEndOfFile()){const e=this.consumeRule("Text");return(e[0]+Ef[t]).normalize("NFC")+e.slice(1)}else if(t in Kg){const e=Kg[t],i=[];let n=e.length;for(;n-- >0;)this.consumeToken("whitespace",!0),i.push(this.consumeRule("BracketString"));return e(...i)}else return/^[&%$#_{}]$/.test(t)?r.text.slice(1):r.text}},Env(){let r="";for(;!this.matchEndOfFile()&&!this.matchToken("rbrace");)r+=this.consumeRule("Text");return r},EnclosedEnv(){this.consumeToken("commandBegin");const r=this.consumeRule("BracketString");let t="";for(;!this.matchToken("commandEnd");)t+=this.consumeRule("Text");const e=this.consumeToken("commandEnd"),i=this.consumeRule("BracketString");if(r!==i)throw new SyntaxError(this.lexer.formatError(e,`environment started with "${r}", ended with "${i}"`));return Ku(t,Yh[r])},_(){for(;this.matchToken("whitespace");)this.consumeToken("whitespace")}},{sentenceCase:!1,partlyLowercase:!1,afterPunctuation:!0});function i2(r){return PS.includes(r.toLowerCase())}function LB(r){return Array.isArray(r)?r.every(i2):i2(r)}function jB(r,t){if(r[1]==="name")return r[0]==="list"?"StringNames":"Name";if(r[1]==="title"){const e=bi.parse.sentenceCase;return e==="always"||e==="english"&&LB(t)?"StringTitleCase":"String"}switch(r[0]==="field"?r[1]:r[0]){case"list":return"StringList";case"separated":return"StringSeparated";case"verbatim":return"StringVerbatim";case"uri":return"StringUri";case"title":case"literal":default:return"String"}}function qB(r){if(r[1]==="name")return"namesLiteral";switch(r[0]){case"list":return"listLiteral";case"separated":return"separatedLiteral";case"field":default:return"stringLiteral"}}function n2(r,t,e=[]){const i=wm[t]||[];return jS.parse(LS.reset(r,{state:qB(i),line:0,col:0}),jB(i,e))}function UB(r){return jS.parse(LS.reset(r,{state:"annotation",line:0,col:0}),"Annotations")}function a2(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function s2(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(e),!0).forEach(function(i){HB(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):a2(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function HB(r,t,e){return t=WB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function WB(r){var t=VB(r,"string");return typeof t=="symbol"?t:String(t)}function VB(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function qS(r,t){const e=[];for(const{type:i,label:n,properties:a}of r)if(i in t){const s=[];for(const o of t[i])Array.isArray(o)&&!o.some(l=>l in a)?s.push(o.join("/")):typeof o=="string"&&!(o in a)&&s.push(o);s.length&&e.push([n,`missing fields: ${s.join(", ")}`])}else e.push([n,`invalid type: "${i}"`]);if(e.length)throw new RangeError(["Invalid entries:"].concat(e.map(([i,n])=>`  - ${i} has ${n}`)).join(`
`))}function US(r){const t={};"language"in r.properties&&(t.language=n2(r.properties.language,"language"));for(const e in r.properties){const i=r.properties[e];i!==""&&(t[e]=n2(i+"",e,t.language))}for(const e in r.annotations)for(const i in r.annotations[e])t[e+"+an:"+i]=UB(r.annotations[e][i]);return s2(s2({},r),{},{properties:t})}function o2(r){return bi.parse.strict&&qS(r,zb.biblatex),PB(r.map(US))}function l2(r){return bi.parse.strict&&qS(r,zb.bibtex),IB(r.map(US))}const GB="@bibtex",XB={"@biblatex/text":{parse:G_,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@biblatex/entry+object":{parse(r){return o2([r])},parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@biblatex/entries+list":{parse:o2,parseType:{elementConstraint:"@biblatex/entry+object"}},"@bibtex/text":{parse:G_,outputs:"@bibtex/entries+list"},"@bibtex/entry+object":{parse(r){return l2([r])}},"@bibtex/entries+list":{parse:l2},"@bibtxt/text":{parse:jM,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}}},Ts={};for(const r in kf)Ts[kf[r]]=r;for(const r in Ef)Ts[Ef[r]]=r;for(const r in Of)Ts[Of[r]]=r;const Qg={};for(const r in Tf)Qg[Tf[r]]=r;const KB=/[^a-zA-Z0-9\s!"#%&'()*+,\-./:;=?@[\]{}\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,YB=/.[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]+/g,JB=/[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,jb={separated:",",list:" and "},u2={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};function QB(r){return r in Ts?Ts[r]in Of?Ts[r]:`\\${Ts[r]}{}`:r in Qg?`$\\${Qg[r]}$`:""}function If(r){return bi.format.asciiOnly?r.normalize("NFKD").replace(KB,t=>QB(t)).replace(YB,t=>Array.from(t).reduce((e,i)=>`{\\${Ts[i]} ${e}}`)).replace(JB,""):r}function HS(r){const t=[];let e=r.split(/<(\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);return e=e.map((i,n)=>n%2===0?If(i):i in u2?(t.push("/"+i.split(" ")[0]),u2[i]):i===t[t.length-1]?(t.pop(),"}"):""),e.join("")}function ZB(r){if(r.family&&!r.prefix&&!r.given&!r.suffix)return r.family.includes(jb.list)?r.family:`{${r.family}}`;const t=[""];return r.prefix&&r.family&&(t[0]+=r.prefix+" "),r.family&&(t[0]+=r.family),r.suffix?(t.push(r.suffix),t.push(r.given||"")):t.push(r.given),If(t.join(", ").trim())}function eF(r){return HS(r).split(/(:\s*)/).map((t,e)=>e%2?t:t.replace(/([^\\])\b([a-z]*[A-Z].*?)\b/g,"$1{$2}")).join("")}function Zg(r,t){switch(t){case"title":return eF(r);case"literal":return HS(r.toString());case"name":return ZB(r);case"verbatim":case"uri":return r.toString();default:return If(r.toString())}}function tF(r,t,e){const i=jb[e];return r.map(n=>{const a=Zg(n,t);return a.includes(i)?`{${a}}`:a}).join(i)}function a0(r){return Array.isArray(r)?r.map(t=>If(t).replace(/([;,"])/g,"{$1}")).join(", "):'"'+If(r).replace(/(["])/g,"{$1}")+'"'}function rF(r,t){if(!(r in wm))return Zg(t,"verbatim");const[e,i]=wm[r];return e in jb?tF(t,i,e):Zg(t,i)}function iF(r){const t=[];if(r.field&&t.push("="+a0(r.field)),r.item)for(const[e,i]of Object.entries(r.item)){if(!i)continue;const n=parseInt(e)+1;t.push(n+"="+a0(i))}if(r.part)for(const[e,i]of Object.entries(r.part)){if(!i)continue;const n=parseInt(e)+1;for(const a in i)i[a]&&t.push(n+":"+a+"="+a0(i[a]))}return t.join("; ")}function WS({type:r,label:t,properties:e}){const i={type:r,label:t,properties:{}};for(const n in e){const a=e[n],[s,o]=n.split("+an:");o?(i.annotations||(i.annotations={}),i.annotations[s]||(i.annotations[s]={}),i.annotations[s][o]=iF(a)):i.properties[n]=rF(n,a)}return i}function nF(r){return DB(r).map(WS)}function f2(r){return CB(r).map(WS)}function c2(r,t,e){return e.listItem.join(`${r} = {${t}},`)}function aF(r,t){const e=[];for(const i in r.properties)if(e.push(c2(i,r.properties[i],t)),r.annotations&&r.annotations[i])for(const n in r.annotations[i]){let a=i+bi.biber.annotationMarker;n!=="default"&&(a+=bi.biber.namedAnnotationMarker+n),e.push(c2(a,r.annotations[i][n],t))}return t.entry.join(`@${r.type}{${r.label},${t.list.join(e.join(""))}}`)}function h2(r,t){const e=r.map(i=>aF(i,t)).join("");return t.bibliographyContainer.join(e)}function sF({type:r,label:t,properties:e},i){const n=Object.entries(e).concat([["type",r]]).map(([a,s])=>i.listItem.join(`${a}: ${s}`));return i.entry.join(`[${t}]${i.list.join(n.join(""))}`)}function oF(r,t){const e=r.map(i=>sF(i,t)).join(`
`);return t.bibliographyContainer.join(e)}const s0=function(r,t){return function(e,i={}){const{type:n,format:a=n||"text"}=i;if(e=r(e),a==="object")return e;if(ES(a))return t(e,Mb(a),i);throw new RangeError(`Output dictionary "${a}" not available`)}},lF={bibtex:s0(f2,h2),biblatex:s0(nF,h2),bibtxt:s0(f2,oF)};Bb(GB,{input:XB,output:lF,config:bi});const uF={"en-US":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><translator><name>Andrew Dunning</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Denis Meier</name></translator><translator><name>Brenton M. Wiernik</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">personal communication</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">personal communication</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">“</term><term name="close-quote">”</term><term name="open-inner-quote">‘</term><term name="close-inner-quote">’</term><term name="page-range-delimiter">–</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix" form="short">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator" form="short">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation" form="short">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation" form="short">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule" form="short">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene" form="short">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table" form="short">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp" form="short"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator" form="short">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term>
<!-- LONG MONTH FORMS --><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term>
<!-- SEASONS --><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms>
</locale>
`,"nl-NL":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze M. Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2017-04-01T12:00:00+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persoonlijke communicatie</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>druk</single><multiple>drukken</multiple></term><term name="edition" form="short">dr.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persoonlijke communicatie</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">‘</term><term name="close-quote">’</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">–</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio's</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple></term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina's</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina's</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">onder redactie van</term><term name="editorial-director" form="verb">onder redactie van</term><term name="illustrator" form="verb">geïllustreerd door</term><term name="interviewer" form="verb">geïnterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">onder redactie van</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">geïllustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>
<!-- LONG MONTH FORMS --><term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term>
<!-- SEASONS --><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms>
</locale>
`,"fr-FR":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>Grégoire Colly</name></translator><translator><name>Collectif Zotero francophone</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">publication en ligne anticipée</term><term name="album">album</term><term name="audio-recording">enregistrement audio</term><term name="film">film</term><term name="henceforth">désormais</term><term name="loc-cit">loc.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">sans lieu</term><term name="no-place" form="short">s.&#160;l.</term><term name="no-publisher">sans nom</term> <!-- sine nomine --><term name="no-publisher" form="short">s.&#160;n.</term><term name="on">sur</term><term name="op-cit">op.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">édition originale</term><term name="personal-communication">communication personnelle</term><term name="podcast">podcast</term><term name="podcast-episode">épisode de podcast</term><term name="preprint">prépublication</term><term name="radio-broadcast">émission de radio</term><term name="radio-series">série radiophonique</term><term name="radio-series-episode">épisode de série radiophonique</term><term name="special-issue">numéro spécial</term><term name="special-section">section spéciale</term><term name="television-broadcast">émission de télévision</term><term name="television-series">série télévisée</term><term name="television-series-episode">épisode de série télévisée</term><term name="video">vidéo</term><term name="working-paper">document de travail</term><term name="accessed">consulté le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">cité</term><term name="edition" gender="feminine"><single>édition</single><multiple>éditions</multiple></term><term name="edition" form="short">éd.</term><term name="et-al">et al.</term><term name="forthcoming">à paraître</term><term name="from">à l'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">présenté à</term><term name="reference"><single>référence</single><multiple>références</multiple></term><term name="reference" form="short"><single>réf.</single><multiple>réf.</multiple></term><term name="retrieved">consulté</term><term name="scale">échelle</term><term name="version">version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">article</term><term name="article-journal">article de revue</term><term name="article-magazine">article de magazine</term><term name="article-newspaper">article de presse</term><term name="bill">projet de loi</term><term name="book">livre</term><term name="broadcast">émission</term><term name="chapter">chapitre de livre</term><term name="classic">classique</term><term name="collection">collection</term><term name="dataset">jeu de données</term><term name="document">document</term><term name="entry">entrée</term><term name="entry-dictionary">entrée de dictionnaire</term><term name="entry-encyclopedia">entrée d'encyclopédie</term><term name="event">événement</term><!-- figure is in the list of locator terms --><term name="graphic">image</term><term name="hearing">audience</term><term name="interview">interview</term><term name="legal_case">affaire</term><term name="legislation">acte juridique</term><term name="manuscript">manuscrit</term><term name="map">carte</term><term name="motion_picture">enregistrement vidéo</term><term name="musical_score">partition</term><term name="pamphlet">pamphlet</term><term name="paper-conference">article de colloque</term><term name="patent">brevet</term><term name="performance">interprétation</term><term name="periodical">périodique</term><term name="personal_communication">communication personnelle</term><term name="post">billet</term><term name="post-weblog">billet de blog</term><term name="regulation">règlement</term><term name="report">rapport</term><term name="review">recension</term><term name="review-book">recension de livre</term><term name="software">logiciel</term><term name="song">chanson</term><term name="speech">présentation</term><term name="standard">norme</term><term name="thesis">thèse</term><term name="treaty">traité</term><term name="webpage">page web</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">art. de revue</term><term name="article-magazine" form="short">art. de mag.</term><term name="article-newspaper" form="short">art. de presse</term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap. de liv.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">ms</term><term name="motion_picture" form="short">enr. vidéo</term><term name="report" form="short">rap.</term><term name="review" form="short">recens.</term><term name="review-book" form="short">recens. de liv.</term><term name="song" form="short">enr. audio</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="bce">av. n. è.</term><term name="ce">n. è.</term>
<!-- PUNCTUATION --><term name="open-quote">«&#160;</term><term name="close-quote">&#160;»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">&#8209;</term> <!-- non-breaking hyphen --><term name="colon">&#160;:</term><term name="comma">,</term><term name="semicolon">&#160;;</term>
<!-- ORDINALS --><term name="ordinal">ᵉ</term><term name="ordinal-01" gender-form="feminine" match="whole-number">ʳᵉ</term><term name="ordinal-01" gender-form="masculine" match="whole-number">ᵉʳ</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxième</term><term name="long-ordinal-03">troisième</term><term name="long-ordinal-04">quatrième</term><term name="long-ordinal-05">cinquième</term><term name="long-ordinal-06">sixième</term><term name="long-ordinal-07">septième</term><term name="long-ordinal-08">huitième</term><term name="long-ordinal-09">neuvième</term><term name="long-ordinal-10">dixième</term>
<!-- LONG LOCATOR FORMS --><term name="act"><single>acte</single><multiple>actes</multiple></term><term name="appendix"><single>appendice</single><multiple>appendices</multiple></term><term name="article-locator"><single>article</single><multiple>articles</multiple></term><term name="canon"><single>canon</single><multiple>canons</multiple></term><term name="elocation"><single>emplacement</single><multiple>emplacements</multiple></term><term name="equation"><single>équation</single><multiple>équations</multiple></term><term name="rule"><single>règle</single><multiple>règles</multiple></term><term name="scene"><single>scène</single><multiple>scènes</multiple></term><term name="table"><single>tableau</single><multiple>tableaux</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>titre</single><multiple>titres</multiple></term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>numéro</single><multiple>numéros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix"><single>append.</single><multiple>append.</multiple></term><term name="article-locator"><single>art.</single><multiple>art.</multiple></term><term name="elocation"><single>emplact</single><multiple>emplact</multiple></term><term name="equation"><single>eq.</single><multiple>eq.</multiple></term><term name="rule"><single>règle</single><multiple>règles</multiple></term><term name="scene"><single>sc.</single><multiple>sc.</multiple></term><term name="table"><single>tab.</single><multiple>tab.</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>tit.</single><multiple>tit.</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>fᵒ</single><multiple>fᵒˢ</multiple></term><term name="issue" form="short"><single>nᵒ</single><multiple>nᵒˢ</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>président</single><multiple>présidents</multiple></term><term name="compiler"><single>compilateur</single><multiple>compilateurs</multiple></term><term name="contributor"><single>contributeur</single><multiple>contributeurs</multiple></term><term name="curator"><single>commissaire</single><multiple>commissaires</multiple></term><term name="executive-producer"><single>producteur exécutif</single><multiple>producteurs exécutifs</multiple></term><term name="guest"><single>invité</single><multiple>invités</multiple></term><term name="host"><single>hôte</single><multiple>hôtes</multiple></term><term name="narrator"><single>narrateur</single><multiple>narrateurs</multiple></term><term name="organizer"><single>organisateur</single><multiple>organisateurs</multiple></term><term name="performer"><single>interprète</single><multiple>interprètes</multiple></term><term name="producer"><single>producteur</single><multiple>producteurs</multiple></term><term name="script-writer"><single>scénariste</single><multiple>scénaristes</multiple></term><term name="series-creator"><single>créateur de série</single><multiple>créateurs de série</multiple></term><term name="director"><single>réalisateur</single><multiple>réalisateurs</multiple></term><term name="editor"><single>éditeur</single><multiple>éditeurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>éditeur et traducteur</single><multiple>éditeurs et traducteurs</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>compil.</single><multiple>compil.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contrib.</multiple></term><term name="curator" form="short"><single>commiss.</single><multiple>commiss.</multiple></term><term name="executive-producer" form="short"><single>prod. exé.</single><multiple>prod. exé.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narr.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>org.</multiple></term><term name="performer" form="short"><single>interpr.</single><multiple>interpr.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prod.</multiple></term><term name="script-writer" form="short"><single>scénar.</single><multiple>scénar.</multiple></term><term name="series-creator" form="short"><single>créat.</single><multiple>créat.</multiple></term><term name="director" form="short"><single>réal.</single><multiple>réal.</multiple></term><term name="editor" form="short"><single>éd.</single><multiple>éd.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>éd. et trad.</single><multiple>éd. et trad.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">présidé par</term><term name="compiler" form="verb">compilé par</term><term name="contributor" form="verb">avec</term><term name="curator" form="verb">organisé par</term><term name="executive-producer" form="verb">production exécutive par</term><term name="guest" form="verb">avec pour invité</term><term name="host" form="verb">animé par</term><term name="narrator" form="verb">lu par</term><term name="organizer" form="verb">organisé par</term><term name="performer" form="verb">interprété par</term><term name="producer" form="verb">produit par</term><term name="script-writer" form="verb">scénario de</term><term name="series-creator" form="verb">créé par</term><term name="container-author" form="verb">par</term><term name="director" form="verb">réalisé par</term><term name="editor" form="verb">édité par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustré par</term><term name="interviewer" form="verb">entretien réalisé par</term><term name="recipient" form="verb">à</term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">édité et traduit par</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">compil. par</term><term name="contributor" form="verb-short">ac</term><term name="curator" form="verb-short">org. par</term><term name="executive-producer" form="verb-short">prod. exé. par</term><term name="guest" form="verb-short">ac pr inv.</term><term name="host" form="verb-short">anim. par</term><term name="narrator" form="verb-short">lu par</term><term name="organizer" form="verb-short">org. par</term><term name="performer" form="verb-short">interpr. par</term><term name="producer" form="verb-short">prod. par</term><term name="script-writer" form="verb-short">scénar. de</term><term name="series-creator" form="verb-short">créé par</term><term name="director" form="verb-short">réal. par</term><term name="editor" form="verb-short">éd. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">éd. et trad. par</term>
<!-- LONG MONTH FORMS --><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">février</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">août</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">octobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">décembre</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">janv.</term><term name="month-02" form="short">févr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">août</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">déc.</term>
<!-- SEASONS --><term name="season-01">printemps</term><term name="season-02">été</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms>
</locale>
`,"de-DE":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><translator><name>Till A. Heilmann</name></translator><translator><name>Ulrich</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>jakov</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persönliche Kommunikation</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verfügbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">Maßstab</term><term name="version">Version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persönliche Kommunikation</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">&#160;n.&#160;Chr.</term><term name="bc">&#160;v.&#160;Chr.</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">„</term><term name="close-quote">“</term><term name="open-inner-quote">‚</term><term name="close-inner-quote">‘</term><term name="page-range-delimiter">–</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">.</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">fünfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>Buch</single><multiple>Bücher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>Blätter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>Absätze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>Bände</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">B.</term><term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>Übersetzer</single><multiple>Übersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; Übersetzer</single><multiple>Herausgeber&#160;&amp; Übersetzer</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>Übers.</single><multiple>Übers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; Übers.</single><multiple>Hrsg.&#160;&amp; Übers.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">übersetzt von</term><term name="editortranslator" form="verb">herausgegeben und übersetzt von</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">übers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; übers. von</term>
<!-- LONG MONTH FORMS --><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">März</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">März</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term>
<!-- SEASONS --><term name="season-01">Frühjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms>
</locale>
`,"es-ES":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><translator><name>javimat</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">comunicación personal</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">anónimo</term><term name="anonymous" form="short">anón.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>edición</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en línea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versión</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">comunicación personal</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">«</term><term name="close-quote">»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">-</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">.ª</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">séptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">décima</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>capítulo</single><multiple>capítulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>número</single><multiple>números</multiple></term><term name="line"><single>línea</single><multiple>líneas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>página</single><multiple>páginas</multiple></term><term name="number-of-pages"><single>página</single><multiple>páginas</multiple></term><term name="paragraph"><single>párrafo</single><multiple>párrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>sección</single><multiple>secciones</multiple></term><term name="sub-verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>volúmenes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">lib.</term><term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.º</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">párr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term>
<!-- LONG MONTH FORMS --><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dic.</term>
<!-- SEASONS --><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">otoño</term><term name="season-04">invierno</term></terms>
</locale>
`},Pl=new op(uF),fF=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never" page-range-format="expanded"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://www.zotero.org/styles/apa-6th-edition" rel="template"/><link href="https://apastyle.apa.org/style-grammar-guidelines/references/examples" rel="documentation"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2022-01-31T14:43:56+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short">trans.</term><term name="interviewer" form="short"><single>interviewer</single><multiple>interviewers</multiple></term><term name="collection-editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="circa" form="short">ca.</term><term name="bc"> B.C.E.</term><term name="ad"> C.E.</term><term name="letter">personal communication</term><term name="letter" form="short">letter</term><term name="issue" form="long"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang="af"><terms><term name="letter">persoonlike kommunikasie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="ar"><terms><term name="letter">اتصال شخصي</term><term name="letter" form="short">خطاب</term></terms></locale><locale xml:lang="bg"><terms><term name="letter">лична комуникация</term><term name="letter" form="short">писмо</term></terms></locale><locale xml:lang="ca"><terms><term name="letter">comunicació personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="cs"><terms><term name="letter">osobní komunikace</term><term name="letter" form="short">dopis</term></terms></locale><locale xml:lang="cy"><terms><term name="letter">cyfathrebu personol</term><term name="letter" form="short">llythyr</term></terms></locale><locale xml:lang="da"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="de"><terms><term name="et-al">et al.</term><term name="letter">persönliche Kommunikation</term><term name="letter" form="short">Brief</term></terms></locale><locale xml:lang="el"><terms><term name="letter">προσωπική επικοινωνία</term><term name="letter" form="short">επιστολή</term></terms></locale><locale xml:lang="es"><terms><term name="from">de</term><term name="letter">comunicación personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="et"><terms><term name="letter">isiklik suhtlus</term><term name="letter" form="short">kiri</term></terms></locale><locale xml:lang="eu"><terms><term name="letter">komunikazio pertsonala</term><term name="letter" form="short">gutuna</term></terms></locale><locale xml:lang="fa"><terms><term name="letter">ارتباط شخصی</term><term name="letter" form="short">نامه</term></terms></locale><locale xml:lang="fi"><terms><term name="letter">henkilökohtainen viestintä</term><term name="letter" form="short">kirje</term></terms></locale><locale xml:lang="fr"><terms><term name="letter">communication personnelle</term><term name="letter" form="short">lettre</term><term name="editor" form="short"><single>éd.</single><multiple>éds.</multiple></term></terms></locale><locale xml:lang="he"><terms><term name="letter">תקשורת אישית</term><term name="letter" form="short">מכתב</term></terms></locale><locale xml:lang="hr"><terms><term name="letter">osobna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="hu"><terms><term name="letter">személyes kommunikáció</term><term name="letter" form="short">levél</term></terms></locale><locale xml:lang="id"><terms><term name="letter">komunikasi pribadi</term><term name="letter" form="short">surat</term></terms></locale><locale xml:lang="is"><terms><term name="letter">persónuleg samskipti</term><term name="letter" form="short">bréf</term></terms></locale><locale xml:lang="it"><terms><term name="letter">comunicazione personale</term><term name="letter" form="short">lettera</term></terms></locale><locale xml:lang="ja"><terms><term name="letter">個人的なやり取り</term><term name="letter" form="short">手紙</term></terms></locale><locale xml:lang="ko"><terms><term name="letter">개인 서신</term><term name="letter" form="short">편지</term></terms></locale><locale xml:lang="la"><terms><term name="letter"/><term name="letter" form="short">epistula</term></terms></locale><locale xml:lang="lt"><terms><term name="letter">communicationis personalis</term><term name="letter" form="short"/></terms></locale><locale xml:lang="lv"><terms><term name="letter">personīga komunikācija</term><term name="letter" form="short">vēstule</term></terms></locale><locale xml:lang="mn"><terms><term name="letter">хувийн харилцаа холбоо</term><term name="letter" form="short">захиа</term></terms></locale><locale xml:lang="nb"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="nl"><terms><term name="et-al">et al.</term><term name="letter">persoonlijke communicatie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="nn"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="pl"><terms><term name="letter">osobista komunikacja</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="pt"><terms><term name="letter">comunicação pessoal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="ro"><terms><term name="letter">comunicare personală</term><term name="letter" form="short">scrisoare</term></terms></locale><locale xml:lang="ru"><terms><term name="letter">личная переписка</term><term name="letter" form="short">письмо</term></terms></locale><locale xml:lang="sk"><terms><term name="letter">osobná komunikácia</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="sl"><terms><term name="letter">osebna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="sr"><terms><term name="letter">лична комуникација</term><term name="letter" form="short">писмо</term></terms></locale><locale xml:lang="sv"><terms><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="th"><terms><term name="letter">การสื่อสารส่วนบุคคล</term><term name="letter" form="short">จดหมาย</term></terms></locale><locale xml:lang="tr"><terms><term name="letter">kişisel iletişim</term><term name="letter" form="short">mektup</term></terms></locale><locale xml:lang="uk"><terms><term name="letter">особисте спілкування</term><term name="letter" form="short">лист</term></terms></locale><locale xml:lang="vi"><terms><term name="letter">giao tiếp cá nhân</term><term name="letter" form="short">thư</term></terms></locale><locale xml:lang="zh-CN"><terms><term name="letter">的私人交流</term><term name="letter" form="short">信函</term></terms></locale><locale xml:lang="zh-TW"><terms><term name="letter">私人通訊</term><term name="letter" form="short">信函</term></terms></locale><!-- General categories of item types:Periodical: article-journal article-magazine article-newspaper post-weblog review review-bookPeriodical or Booklike: paper-conferenceBooklike: article book broadcast chapter dataset entry entry-dictionary entry-encyclopedia figure graphic interview manuscript map motion_picture musical_score pamphlet patent personal_communication report song speech thesis post webpageLegal: bill legal_case legislation treaty--><!-- APA references contain four parts: author, date, title, source --><macro name="author-bib"><names variable="composer" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></if></choose></if></choose><!-- Test for editortranslator and put that first as that becomes available --><names variable="editor" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="editorial-director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="collection-editor"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></substitute></names></macro><macro name="author-intext"><choose><if type="bill legal_case legislation treaty" match="any"><text macro="title-intext"/></if><else-if type="interview personal_communication" match="any"><choose><!-- These variables indicate that the letter is retrievable by the reader. If not, then use the APA in-text-only personal communication format --><if variable="archive container-title DOI publisher URL" match="none"><group delimiter=", "><names variable="author"><name and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names><!-- Replace with term="personal-communication" if that becomes available --><text term="letter"/></group></if><else><names variable="author" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names></else></choose></else-if><else><names variable="composer" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"/><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><text macro="title-intext"/></if></choose></if></choose><names variable="editor"/><names variable="editorial-director"/><text macro="title-intext"/></substitute></names></else></choose></macro><macro name="date-bib"><group delimiter=" " prefix="(" suffix=")"><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage" match="any"><!-- Many video and audio examples in manual give full dates. Err on the side of too much information. --><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if><else-if type="paper-conference"><!-- Capture 'speech' stored as 'paper-conference' --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if></choose></else-if><!-- Only year: article article-journal book chapter entry entry-dictionary entry-encyclopedia dataset figure graphic manuscript map musical_score paper-conference[published] patent report review review-book thesis --></choose></if><else-if variable="status"><group><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></group></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></group></group></macro><macro name="date-sort-group"><!-- APA sorts 1. no-date items, 2. items with dates, 3. in-press (status) items --><choose><if variable="issued"><text value="1"/></if><else-if variable="status"><text value="2"/></else-if><else><text value="0"/></else></choose></macro><macro name="date-sort-date"><date variable="issued" form="numeric"/></macro><macro name="date-intext"><choose><if variable="issued"><group delimiter="/"><group delimiter=" "><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group><group delimiter=" "><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><!-- These variables indicate that the communication is retrievable by the reader. If not, then use the in-text-only personal communication format --><date variable="issued" form="text"/></if><else><date variable="issued"><date-part name="year"/></date></else></choose></if><else><date variable="issued"><date-part name="year"/></date></else></choose><text variable="year-suffix"/></group></group></group></if><else-if variable="status"><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><!-- APA has two description elements following the title:title (parenthetical) [bracketed]  --><macro name="title-and-descriptions"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/><text macro="bracketed"/></group></if><else><group delimiter=" "><text macro="bracketed"/><text macro="parenthetical"/></group></else></choose></macro><macro name="title"><choose><if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" font-style="italic"/></if><else-if variable="container-title" match="any"><!-- Other types are italicized based on presence of container-title.Assume that review and review-book are published in periodicals/blogs,not just on a web page (ex. 69) --><text variable="title"/></else-if><else><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text variable="title" font-style="italic"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></if><else><text variable="title" font-style="italic"/></else></choose></else-if><else><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></else></choose></else></choose></macro><macro name="title-intext"><choose><if variable="title" match="none"><text macro="bracketed-intext" prefix="[" suffix="]"/></if><else-if type="bill"><!-- If a bill has no number or container-title, assume it is a hearing; italic --><choose><if variable="number container-title" match="none"><text variable="title" form="short" font-style="italic" text-case="title"/></if><else-if variable="title"><text variable="title" form="short" text-case="title"/></else-if><else><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group></else></choose></else-if><else-if type="legal_case" match="any"><!-- Cases are italicized --><text variable="title" font-style="italic"/></else-if><else-if type="legislation treaty" match="any"><!-- Legislation and treaties not italicized or quoted --><text variable="title" form="short" text-case="title"/></else-if><else-if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" form="short" font-style="italic" text-case="title"/></else-if><else-if variable="container-title" match="any"><!-- Other types are italicized or quoted based on presence of container-title. As in title macro. --><text variable="title" form="short" quotes="true" text-case="title"/></else-if><else><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="parenthetical"><!-- (Secondary contributors; Database location; Genre no. 123; Report Series 123, Version, Edition, Volume, Page) --><group prefix="(" suffix=")"><choose><if type="patent"><!-- authority: U.S. ; genre: patent ; number: 123,445 --><group delimiter=" "><text variable="authority" form="short"/><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else><!-- This should be localized --><text value="patent" text-case="capitalize-first"/></else></choose><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></group></if><else-if type="post webpage" match="any"><!-- For post webpage, container-title is treated as publisher --><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else-if><else-if variable="container-title"><group delimiter="; "><text macro="secondary-contributors"/><choose><if type="broadcast graphic map motion_picture song" match="any"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose></group></else-if><else><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else></choose></group></macro><macro name="parenthetical-container"><choose><if variable="container-title" match="any"><group prefix="(" suffix=")"><group delimiter="; "><text macro="database-location"/><choose><if type="broadcast graphic map motion_picture song" match="none"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose><text macro="locators-booklike"/></group></group></if></choose></macro><macro name="bracketed"><!-- [Descriptive information] --><!-- If there is a number, genre is already printed in macro="number" --><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- Reviewed item --><group delimiter="; "><group delimiter=", "><group delimiter=" "><!-- Assume that genre is entered as 'Review of the book' or similar --><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></else></choose><text macro="reviewed-title"/></group><names variable="reviewed-author"><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else-if type="thesis"><!-- Thesis type and institution --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=", "><text variable="genre" text-case="capitalize-first"/><choose><if variable="archive DOI URL" match="any"><!-- Include the university in brackets if thesis is published --><text variable="publisher"/></if></choose></group></if></choose><text variable="medium" text-case="capitalize-first"/></group></else-if><else-if variable="interviewer" type="interview" match="any"><!-- Interview information --><choose><if variable="title"><text macro="format"/></if><else-if variable="genre"><group delimiter="; "><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><group delimiter=" "><text term="author" form="verb"/><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></group></else-if><else-if variable="interviewer"><group delimiter="; "><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/></names><text variable="medium" text-case="capitalize-first"/></group></else-if><else><text macro="format"/></else></choose></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter="; "><group delimiter=" "><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else><text macro="format"/></else></choose></else-if><else-if variable="composer" type="song" match="all"><!-- Performer of classical music works --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=" "><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else-if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></if><else><group delimiter=" "><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></else></choose><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></else-if><else-if variable="container-title" match="none"><!-- Other description --><text macro="format"/></else-if><else><!-- For conference presentations, chapters in reports, software, place bracketed after the container title --><choose><if type="paper-conference speech" match="any"><choose><if variable="collection-editor editor editorial-director issue page volume" match="any"><text macro="format"/></if></choose></if><else-if type="book"><choose><if variable="version" match="none"><text macro="format"/></if></choose></else-if><else-if type="report" match="none"><text macro="format"/></else-if></choose></else></choose></group></macro><macro name="bracketed-intext"><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- This should be localized --><text macro="reviewed-title-intext" prefix="Review of "/></if><else-if variable="interviewer" type="interview" match="any"><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/><substitute><text macro="format-intext"/></substitute></names></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter=" "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group></if><else><text macro="format-intext"/></else></choose></else-if><else><text macro="format-intext"/></else></choose></group></macro><macro name="bracketed-container"><group prefix="[" suffix="]"><choose><if type="paper-conference speech" match="any"><!-- Conference presentations should describe the session [container] in bracketed unless published in a proceedings --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><text macro="format"/></if></choose></if><else-if type="book" variable="version" match="all"><!-- For entries in mobile app reference works, place bracketed after the container-title --><text macro="format"/></else-if><else-if type="report"><!-- For chapters in reports, place bracketed after the container title --><text macro="format"/></else-if></choose></group></macro><macro name="secondary-contributors"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text macro="secondary-contributors-periodical"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><text macro="secondary-contributors-booklike"/></if><else><text macro="secondary-contributors-periodical"/></else></choose></else-if><else><text macro="secondary-contributors-booklike"/></else></choose></macro><macro name="secondary-contributors-periodical"><group delimiter="; "><choose><if variable="title"><names variable="interviewer" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><names variable="translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></macro><macro name="secondary-contributors-booklike"><group delimiter="; "><choose><if variable="title"><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><!-- When editortranslator becomes available, add a test: variable="editortranslator" match="none"; then print translator --><choose><if type="post webpage" match="none"><!-- Webpages treat container-title like publisher --><choose><if variable="container-title" match="none"><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></if><else><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></else></choose></group></macro><macro name="database-location"><choose><if variable="archive-place" match="none"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- Add archive_collection as that becomes available --><text variable="archive_location"/></if></choose></macro><macro name="number"><choose><if variable="number"><group delimiter=", "><group delimiter=" "><text variable="genre" text-case="title"/><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></if><else><text variable="number"/></else></choose></group><choose><if type="thesis"><choose><!-- Include the university in brackets if thesis is published --><if variable="archive DOI URL" match="any"><text variable="publisher"/></if></choose></if></choose></group></if></choose></macro><macro name="locators-booklike"><choose><if type="article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage" match="any"/><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></if></choose></else-if><else><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></else></choose></macro><macro name="version"><choose><if is-numeric="version"><group delimiter=" "><!-- replace with label variable="version" if that becomes available --><text term="version" text-case="capitalize-first"/><text variable="version"/></group></if><else><text variable="version"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><label variable="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="volume-booklike"><group delimiter=", "><!-- Report series [ex. 52] --><choose><if type="report"><group delimiter=" "><text variable="collection-title" text-case="title"/><text variable="collection-number"/></group></if></choose><choose><if variable="volume" match="any"><choose><!-- Non-numeric volumes are already printed as part of the book title --><if is-numeric="volume" match="none"/><else><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><number variable="volume" form="numeric"/></group></else></choose></if><else><group><!-- Replace with label variable="number-of-volumes" if that becomes available --><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><text term="page-range-delimiter" prefix="1"/><number variable="number-of-volumes" form="numeric"/></group></else></choose><group delimiter=" "><label variable="issue" text-case="capitalize-first"/><text variable="issue"/></group><group delimiter=" "><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></macro><macro name="reviewed-title"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" font-style="italic"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" font-style="italic"/></else></choose></macro><macro name="reviewed-title-intext"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" form="short" font-style="italic" text-case="title"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="format"><choose><if variable="genre medium" match="any"><group delimiter="; "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if></choose><text variable="medium" text-case="capitalize-first"/></group></if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><macro name="format-intext"><choose><if variable="genre" match="any"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><!-- APA 'source' element contains four parts:container, event, publisher, access --><macro name="container"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><!-- Periodical items --><text macro="container-periodical"/></if><else-if type="paper-conference"><!-- Determine if paper-conference is a periodical or booklike --><choose><if variable="editor editorial-director collection-editor container-author" match="any"><text macro="container-booklike"/></if><else><text macro="container-periodical"/></else></choose></else-if><else-if type="post webpage" match="none"><!-- post and webpage treat container-title like publisher --><text macro="container-booklike"/></else-if></choose></macro><macro name="container-periodical"><group delimiter=". "><group delimiter=", "><text variable="container-title" font-style="italic" text-case="title"/><choose><if variable="volume"><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group></if><else><text variable="issue" font-style="italic"/></else></choose><choose><if variable="page"><text variable="page"/></if><else><!-- Ex. 6: Journal article with article number or eLocator --><!-- This should be localized --><text variable="number" prefix="Article "/></else></choose></group><choose><if variable="issued"><choose><if variable="issue page volume" match="none"><text variable="status" text-case="capitalize-first"/></if></choose></if></choose></group></macro><macro name="container-booklike"><choose><if variable="container-title" match="any"><group delimiter=" "><text term="in" text-case="capitalize-first"/><group delimiter=", "><names variable="editor translator" delimiter=", &amp; "><!-- Change to editortranslator and move editor to substitute as that becomes available --><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" text-case="title" prefix=" (" suffix=")"/><substitute><names variable="editorial-director"/><names variable="collection-editor"/><names variable="container-author"/></substitute></names><group delimiter=": " font-style="italic"><text variable="container-title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></group><text macro="parenthetical-container"/><text macro="bracketed-container"/></group></if></choose></macro><macro name="publisher"><group delimiter="; "><choose><if type="thesis"><choose><if variable="archive DOI URL" match="none"><text variable="publisher"/></if></choose></if><else-if type="post webpage" match="any"><!-- For websites, treat container title like publisher --><group delimiter="; "><text variable="container-title" text-case="title"/><text variable="publisher"/></group></else-if><else-if type="paper-conference"><!-- For paper-conference, don't print publisher if in a journal-like proceedings --><choose><if variable="collection-editor editor editorial-director" match="any"><text variable="publisher"/></if></choose></else-if><else-if type="article-journal article-magazine article-newspaper post-weblog" match="none"><text variable="publisher"/></else-if></choose><group delimiter=", "><choose><if variable="archive-place"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- For physical archives, print the location before the archive name.For electronic archives, these are printed in macro="description". --><!-- Split "archive_location" into "archive_collection" and "archive_location" as that becomes available --><!-- Must test for archive_collection:With collection: archive_collection (archive_location), archive, archive-placeNo collection: archive (archive_location), archive-place--><text variable="archive_location"/></if></choose><text variable="archive"/><text variable="archive-place"/></group></group></macro><macro name="access"><choose><if variable="DOI" match="any"><text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="URL"><group delimiter=" "><choose><if variable="issued status" match="none"><group delimiter=" "><text term="retrieved" text-case="capitalize-first"/><date variable="accessed" form="text" suffix=","/><text term="from"/></group></if></choose><text variable="URL"/></group></else-if></choose></macro><macro name="event"><choose><if variable="event"><!-- To prevent Zotero from printing event-place due to its double-mapping of all 'place' toboth publisher-place and event-place. Remove this 'choose' when that is changed. --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><!-- Don't print event info if published in a proceedings --><group delimiter=", "><text variable="event"/><text variable="event-place"/></group></if></choose></if></choose></macro><!-- After 'source', APA also prints publication history (original publication, reprint info, retraction info) --><macro name="publication-history"><choose><if type="patent" match="none"><group prefix="(" suffix=")"><choose><if variable="references"><!-- This provides the option for more elaborate description of publication history, such as full "reprinted" references(examples 11, 43, 44) or retracted references --><text variable="references"/></if><else><group delimiter=" "><text value="Original work published"/><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group></else></choose></group></if><else><text variable="references" prefix="(" suffix=")"/></else></choose></macro><!-- Legal citations have their own rules --><macro name="legal-cites"><choose><if type="legal_case"><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/></group><text variable="references"/></group><text macro="access"/></group></if><else-if type="bill"><!-- Currently designed to handle bills, resolutions, hearings, rederal reports. --><group delimiter=". "><group delimiter=", "><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><names variable="author" prefix="(testimony of " suffix=")"><name and="symbol" delimiter=", "/></names></if><else><text variable="status" prefix="(" suffix=")"/></else></choose></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="legislation"><!-- Currently designed to handle statutes, codified regulations, executive orders.For uncodified regulations, assume future code section is in status. --><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><text variable="status" prefix="(" suffix=")"/></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="treaty"><!-- APA generally defers to Bluebook for legal citations, but diverges withoutexplanation for treaty items. The Bluebook format that was used in APA 6thed. is used here. --><group delimiter=", "><text variable="title" text-case="title"/><names variable="author"><name initialize-with="." form="short" delimiter="-"/></names><text macro="date-legal"/><text macro="container-legal"/><text macro="access"/></group></else-if></choose></macro><macro name="date-legal"><choose><if type="legal_case"><group prefix="(" suffix=")" delimiter=" "><text variable="authority"/><choose><if variable="container-title" match="any"><!-- Print only year for cases published in reporters--><date variable="issued" form="numeric" date-parts="year"/></if><else><date variable="issued" form="text"/></else></choose></group></if><else-if type="bill legislation" match="any"><group prefix="(" suffix=")" delimiter=" "><group delimiter=" "><date variable="original-date"><date-part name="year"/></date><text term="and" form="symbol"/></group><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="treaty"><date variable="issued" form="text"/></else-if></choose></macro><macro name="container-legal"><!-- Expect legal item container-titles to be stored in short form --><choose><if type="legal_case"><group delimiter=" "><choose><if variable="container-title"><group delimiter=" "><text variable="volume"/><text variable="container-title"/><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><text value="___"/></else></choose></group></if><else><group delimiter=" "><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/></if></choose><text variable="number"/></group></else></choose></group></if><else-if type="bill"><group delimiter=", "><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group><text variable="authority"/><text variable="chapter-number"/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></else-if><else-if type="legislation"><choose><if variable="number"><!--There's a public law number--><group delimiter=", "><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></if><else><group delimiter=" "><text variable="volume"/><text variable="container-title"/><choose><if variable="section"><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group></if><else><text variable="page-first"/></else></choose></group></else></choose></else-if><else-if type="treaty"><group delimiter=" "><number variable="volume"/><text variable="container-title"/><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></else></choose></group></else-if></choose></macro><macro name="citation-locator"><group delimiter=" "><choose><if locator="chapter"><label variable="locator" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name-with-initials"><sort><key macro="author-bib" names-min="3" names-use-first="1"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-intext"/><text macro="date-intext"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="21" et-al-use-first="19" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author-bib"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/><key macro="title"/></sort><layout><choose><if type="bill legal_case legislation treaty" match="any"><!-- Legal items have different orders and delimiters --><choose><if variable="DOI URL" match="any"><text macro="legal-cites"/></if><else><text macro="legal-cites" suffix="."/></else></choose></if><else><group delimiter=" "><group delimiter=". " suffix="."><text macro="author-bib"/><text macro="date-bib"/><text macro="title-and-descriptions"/><text macro="container"/><text macro="event"/><text macro="publisher"/></group><text macro="access"/><text macro="publication-history"/></group></else></choose></layout></bibliography>
</style>
`,cF=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" initialize-with-hyphen="false" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_requirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2022-04-14T13:48:43+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><!--discard publisher info for articles--><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><!--add event-name and event-place once they become available--><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech"><group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number"><sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography>
</style>
`,hF=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" default-locale="en-GB"><info><title>Cite Them Right 11th edition - Harvard</title><id>http://www.zotero.org/styles/harvard-cite-them-right</id><link href="http://www.zotero.org/styles/harvard-cite-them-right" rel="self"/><link href="http://www.zotero.org/styles/harvard-cite-them-right-10th-edition" rel="template"/><link href="http://www.citethemrightonline.com/" rel="documentation"/><author><name>Patrick O'Brien</name></author><category citation-format="author-date"/><category field="generic-base"/><summary>Harvard according to Cite Them Right, 11th edition.</summary><updated>2021-09-01T10:12:20+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en-GB"><terms><term name="editor" form="short"><single>ed.</single><multiple>eds</multiple></term><term name="editortranslator" form="verb">edited and translated by</term><term name="edition" form="short">edn.</term></terms></locale><macro name="editor"><choose><if type="chapter paper-conference" match="any"><names variable="container-author" delimiter=", " suffix=", "><name and="text" initialize-with=". " delimiter=", " sort-separator=", " name-as-sort-order="all"/></names><choose><if variable="container-author" match="none"><names variable="editor translator" delimiter=", "><name and="text" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/></names></if></choose></if></choose></macro><macro name="secondary-contributors"><choose><if type="chapter paper-conference" match="none"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with="."/></names></if><else-if variable="container-author" match="any"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with=". " delimiter=", "/></names></else-if></choose></macro><macro name="author"><names variable="author"><name and="text" delimiter-precedes-last="never" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="text" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="access"><choose><if variable="DOI"><text variable="DOI" prefix="doi:"/></if><else-if variable="URL"><text term="available at" suffix=": " text-case="capitalize-first"/><text variable="URL"/><group prefix=" (" delimiter=": " suffix=")"><text term="accessed" text-case="capitalize-first"/><date form="text" variable="accessed"><date-part name="day"/><date-part name="month"/><date-part name="year"/></date></group></else-if></choose></macro><macro name="number-volumes"><choose><if variable="volume" match="none"><group delimiter=" " prefix="(" suffix=")"><text variable="number-of-volumes"/><label variable="volume" form="short" strip-periods="true"/></group></if></choose></macro><macro name="title"><choose><if type="bill book legal_case legislation motion_picture report song thesis webpage graphic" match="any"><group delimiter=". "><group delimiter=" "><group delimiter=" "><text variable="title" font-style="italic"/><text variable="medium" prefix="[" suffix="]"/></group><text macro="number-volumes"/></group><text macro="edition"/></group></if><else><text variable="title" form="long" quotes="true"/></else></choose></macro><macro name="publisher"><choose><if type="thesis"><group delimiter=". "><text variable="genre"/><text variable="publisher"/></group></if><else-if type="report"><group delimiter=". "><group delimiter=" "><text variable="genre"/><text variable="number"/></group><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group></else-if><else-if type="article-journal article-newspaper article-magazine" match="none"><group delimiter=" "><group delimiter=", "><choose><if type="speech" variable="event" match="any"><text variable="event" font-style="italic"/></if></choose><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group><group prefix="(" suffix=")" delimiter=", "><text variable="collection-title"/><text variable="collection-number"/></group></group></else-if></choose></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></if><else><text term="no date"/><text variable="year-suffix" prefix=" "/></else></choose></macro><macro name="locator"><choose><if type="article-journal"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="published-date"><choose><if type="article-newspaper article-magazine post-weblog speech" match="any"><date variable="issued"><date-part name="day" suffix=" "/><date-part name="month" form="long"/></date></if></choose></macro><macro name="pages"><choose><if type="chapter paper-conference article-journal article article-magazine article-newspaper book review review-book report" match="any"><group delimiter=" "><label variable="page" form="short"/><text variable="page"/></group></if></choose></macro><macro name="container-title"><choose><if variable="container-title"><group delimiter=". "><group delimiter=" "><text variable="container-title" font-style="italic"/><choose><if type="article article-journal" match="any"><choose><if match="none" variable="page volume"><text value="Preprint" prefix="[" suffix="]"/></if></choose></if></choose></group><text macro="edition"/></group></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short" strip-periods="true"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="container-prefix"><choose><if type="chapter paper-conference" match="any"><text term="in"/></if></choose></macro><citation et-al-min="4" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year"><sort><key macro="year-date"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=", "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short" suffix=" "/><text variable="locator"/></group></group></layout></citation><bibliography and="text" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key macro="year-date"/><key variable="title"/></sort><layout suffix="."><group delimiter=". "><group delimiter=" "><text macro="author"/><text macro="year-date" prefix="(" suffix=")"/><group delimiter=", "><text macro="title"/><group delimiter=" "><text macro="container-prefix"/><text macro="editor"/><text macro="container-title"/></group></group></group><text macro="secondary-contributors"/><text macro="publisher"/></group><group delimiter=", " prefix=", "><text macro="locator"/><text macro="published-date"/><text macro="pages"/></group><text macro="access" prefix=". "/></layout></bibliography>
</style>
`,mF={apa:fF,vancouver:cF,harvard1:hF},e1=new op(mF);var p={PROCESSOR_VERSION:"1.4.61",error:function(r){throw typeof Error>"u"?new Error("citeproc-js error: "+r):"citeproc-js error: "+r},debug:function(r){typeof console>"u"?dump("CSL: "+r+`
`):console.log("citeproc-js warning: "+r)},toLocaleUpperCase(r){var t=this.tmp.lang_array;try{r=r.toLocaleUpperCase(t)}catch{r=r.toUpperCase()}return r},toLocaleLowerCase(r){var t=this.tmp.lang_array;try{r=r.toLocaleLowerCase(t)}catch{r=r.toLowerCase()}return r},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(r){r.opt.xclass==="note"?(this.depth=0,this.update=function(e){for(var e=e||"",i=e.split(/([\(\)])/),n=1,a=i.length;n<a;n+=2)i[n]==="("?(this.depth%2===1&&(i[n]="["),this.depth+=1):i[n]===")"&&(this.depth%2===0&&(i[n]="]"),this.depth-=1);var s=i.join("");return s}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(r,t,e){var i=null;if(r.opt.availableAbbrevDomains&&t&&t!=="default"){var n=r.locale[r.opt.lang].opts["jurisdiction-preference"],a=null;if(r.locale[e]&&(a=r.locale[e].opts["jurisdiction-preference"]),a){for(var s=a.length-1;s>-1;s--)if(r.opt.availableAbbrevDomains[t].indexOf(a[s])>-1){i=a[s];break}}if(!i&&n){for(var s=n.length-1;s>-1;s--)if(r.opt.availableAbbrevDomains[t].indexOf(n[s])>-1){i=n[s];break}}}return i},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(r){if(this.opt.development_extensions.locator_date_and_revision&&r.locator){r.locator=""+r.locator;var t=r.locator.indexOf("|");if(t>-1){var e=r.locator;r.locator=e.slice(0,t),e=e.slice(t+1);var i=e.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);i&&(r["locator-date"]=this.fun.dateparser.parseDateToObject(i[1]),e=e.slice(i[1].length)),r["locator-extra"]=e.replace(/^\s+/,"").replace(/\s+$/,"")}}return r.locator&&(r.locator=(""+r.locator).replace(/\s+$/,"")),r},normalizeLocaleStr:function(r){if(r){var t=r.split("-");return t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),t.join("-")}},parseNoteFieldHacks:function(r,t,e){if(typeof r.note=="string"){for(var i=[],n=r.note.split(`
`),a=0,s=n.length;a<s;a++){var o=n[a],i=[],l=o.match(p.NOTE_FIELDS_REGEXP);if(l){for(var u=o.split(p.NOTE_FIELDS_REGEXP),f=0,h=u.length-1;f<h;f++)i.push(u[f]),i.push(l[f]);i.push(u[u.length-1]);for(var f=1,h=i.length;f<h&&!(i[f-1].trim()&&(a>0||f>1)&&!i[f-1].match(p.NOTE_FIELD_REGEXP));f+=2)i[f]=`
`+i[f].slice(2,-1).trim()+`
`;n[a]=i.join("")}}n=n.join(`
`).split(`
`);for(var c=0,m={},a=0,s=n.length;a<s;a++){var o=n[a],v=o.match(p.NOTE_FIELD_REGEXP);if(o.trim()){if(!v){if(a===0)continue;c=a;break}}else continue;var d=v[1],b=v[2].replace(/^\s+/,"").replace(/\s+$/,"");if(d==="type")r.type=b,n[a]="";else if(p.DATE_VARIABLES.indexOf(d.replace(/^alt-/,""))>-1)(!r[d]||e)&&(r[d]=p.DateParser.parseDateToArray(b),(!t||t[d]&&this.isDateString(b))&&(n[a]=""));else if(!r[d]){if(p.NAME_VARIABLES.indexOf(d.replace(/^alt-/,""))>-1){m[d]||(m[d]=[]);var g=b.split(/\s*\|\|\s*/);if(g.length===1)m[d].push({literal:g[0]});else if(g.length===2){var $={family:g[0],given:g[1]};p.parseParticles($),m[d].push($)}}else r[d]=b;(!t||t[d])&&(n[a]="")}}for(var d in m)r[d]=m[d];if(t){n[c].trim()&&(n[c]=`
`+n[c]);for(var a=c-1;a>-1;a--)n[a].trim()||(n=n.slice(0,a).concat(n.slice(a+1)))}r.note=n.join(`
`).trim()}},checkPrefixSpaceAppend:function(r,a){a||(a="");var e="",i=a.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),n=i.slice(-1);(i.match(p.ENDSWITH_ROMANESQUE_REGEXP)||p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(n)>-1||n.match(/[\)\],0-9]/))&&(e=" ");var a=(a+e).replace(/\s+/g," ");return a},checkIgnorePredecessor:function(r,t){var e=t.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),i=e.slice(-1);return p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(i)>-1&&t.trim().indexOf(" ")>-1?(r.tmp.term_predecessor=!1,!0):!1},checkSuffixSpacePrepend:function(r,t){return t?((t.match(p.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(t.slice(0,1))>-1)&&(t=" "+t),t):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(r){for(var t=["title","short","main","sub","subjoin"],e={},i=0,n=t.length;i<n;i++)e[t[i]]=r+"title"+(t[i]==="title"?"":"-"+t[i]);return e},demoteNoiseWords:function(r,t,e){var i=r.locale[r.opt.lang].opts["leading-noise-words"];if(t&&e){t=t.split(/\s+/),t.reverse();for(var n=[],a=t.length-1;a>-1&&i.indexOf(t[a].toLowerCase())>-1;a+=-1)n.push(t.pop());t.reverse();var s=t.join(" "),o=n.join(" ");e==="drop"||!o?t=s:e==="demote"&&(t=[s,o].join(", "))}return t},extractTitleAndSubtitle:function(r,t){var e=t?" ":"",i=[""];this.opt.development_extensions.split_container_title&&i.push("container-");for(var n=0,a=i.length;n<a;n++){var s=i[n],o=p.TITLE_FIELD_SPLITS(s),l=[!1];if(r.multi)for(var u in r.multi._keys[o.short])l.push(u);for(var f=0,h=l.length;f<h;f++){var u=l[f],c={};u?(r.multi._keys[o.title]&&(c[o.title]=r.multi._keys[o.title][u]),r.multi._keys[o.short]&&(c[o.short]=r.multi._keys[o.short][u])):(c[o.title]=r[o.title],c[o.short]=r[o.short]),c[o.main]=c[o.title],c[o.sub]=!1;var m=c[o.short];if(c[o.title]){if(m&&m.toLowerCase()===c[o.title].toLowerCase())c[o.main]=c[o.title],c[o.subjoin]="",c[o.sub]="";else if(m){var v=c[o.title].slice(m.replace(/[\?\!]+$/,"").length),d=c[o.title].replace(v.replace(/^[\?\!]+/,""),"").trim(),b=p.TITLE_SPLIT_REGEXP.matchfirst.exec(v);if(b&&d.toLowerCase()===m.toLowerCase())c[o.main]=d,c[o.subjoin]=b[1].replace(/[\?\!]+(\s*)$/,"$1"),c[o.sub]=v.replace(p.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(c[o.short]=c[o.main]);else{var g=p.TITLE_SPLIT(c[o.title]);g.length==3?(c[o.main]=g[0],c[o.subjoin]=g[1],c[o.sub]=g[2]):(c[o.main]=c[o.title],c[o.subjoin]="",c[o.sub]="")}}else{var g=p.TITLE_SPLIT(c[o.title]);if(g.length==3){if(c[o.main]=g[0],c[o.subjoin]=g[1],c[o.sub]=g[2],this.opt.development_extensions.implicit_short_title&&r.type!=="legal_case"&&!r[o.short]&&!c[o.main].match(/^[\-\.[0-9]+$/)){var $=c[o.subjoin].trim();["?","!"].indexOf($)===-1&&($=""),c[o.short]=c[o.main]+$}}else c[o.main]=c[o.title],c[o.subjoin]="",c[o.sub]=""}if(c[o.subjoin]&&c[o.subjoin].match(/([\?\!])/)){var b=c[o.subjoin].match(/(\s*)$/);c[o.main]=c[o.main]+e+c[o.subjoin].trim(),c[o.subjoin]=b[1]}}if(c[o.subjoin]&&(c[o.subjoin].indexOf(":")>-1&&(c[o.subjoin]=e+": "),(c[o.subjoin].indexOf("-")>-1||c[o.subjoin].indexOf("—")>-1)&&(c[o.subjoin]="—")),u)for(var w in c)r.multi._keys[w]||(r.multi._keys[w]={}),r.multi._keys[w][u]=c[w];else for(var w in c)r[w]=c[w]}}},titlecaseSentenceOrNormal:function(r,t,e,i,n){var a=p.TITLE_FIELD_SPLITS(e),s={};if(i&&t.multi?(t.multi._keys[a.title]&&(s[a.title]=t.multi._keys[a.title][i]),t.multi._keys[a.main]&&(s[a.main]=t.multi._keys[a.main][i]),t.multi._keys[a.sub]&&(s[a.sub]=t.multi._keys[a.sub][i]),t.multi._keys[a.subjoin]&&(s[a.subjoin]=t.multi._keys[a.subjoin][i])):(s[a.title]=t[a.title],s[a.main]=t[a.main],s[a.sub]=t[a.sub],s[a.subjoin]=t[a.subjoin]),s[a.main]&&s[a.sub]){var o=s[a.main],l=s[a.subjoin],u=s[a.sub];return n?(o=p.Output.Formatters.sentence(r,o),u=p.Output.Formatters.sentence(r,u)):r.opt.development_extensions.uppercase_subtitles&&(u=p.Output.Formatters["capitalize-first"](r,u)),[o,l,u].join("")}else if(s[a.title]){if(n)return p.Output.Formatters.sentence(r,s[a.title]);if(r.opt.development_extensions.uppercase_subtitles){for(var f=p.TITLE_SPLIT(s[a.title]),h=0,c=f.length;h<c;h+=2)f[h]=p.Output.Formatters["capitalize-first"](r,f[h]);for(var h=1,c=f.length-1;h<c;h+=2){var m=f[h].match(/([:\?\!] )/);if(m){var v=r.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr"?" ":"";f[h]=v+m[1]}(f[h].indexOf("-")>-1||f[h].indexOf("—")>-1)&&(f[h]="—")}return s[a.title]=f.join(""),s[a.title]}else return s[a.title]}else return""},getSafeEscape:function(r){if(["bibliography","citation"].indexOf(r.tmp.area)>-1){var t=[];return r.opt.development_extensions.thin_non_breaking_space_html_hack&&r.opt.mode==="html"&&t.push(function(e){return e.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),t.length?function(e){for(var i=0,n=t.length;i<n;i+=1)e=t[i](e);return p.Output.Formats[r.opt.mode].text_escape(e)}:p.Output.Formats[r.opt.mode].text_escape}else return function(e){return e}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-à-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokmål)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{ª:"a","²":"2","³":"3","¹":"1",º:"o",ʰ:"h",ʱ:"ɦ",ʲ:"j",ʳ:"r",ʴ:"ɹ",ʵ:"ɻ",ʶ:"ʁ",ʷ:"w",ʸ:"y",ˠ:"ɣ",ˡ:"l",ˢ:"s",ˣ:"x",ˤ:"ʕ","ᴬ":"A","ᴭ":"Æ","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴲ":"Ǝ","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴽ":"Ȣ","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ᵂ":"W","ᵃ":"a","ᵄ":"ɐ","ᵅ":"ɑ","ᵆ":"ᴂ","ᵇ":"b","ᵈ":"d","ᵉ":"e","ᵊ":"ə","ᵋ":"ɛ","ᵌ":"ɜ","ᵍ":"g","ᵏ":"k","ᵐ":"m","ᵑ":"ŋ","ᵒ":"o","ᵓ":"ɔ","ᵔ":"ᴖ","ᵕ":"ᴗ","ᵖ":"p","ᵗ":"t","ᵘ":"u","ᵙ":"ᴝ","ᵚ":"ɯ","ᵛ":"v","ᵜ":"ᴥ","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"φ","ᵡ":"χ","⁰":"0","ⁱ":"i","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","⁺":"+","⁻":"−","⁼":"=","⁽":"(","⁾":")",ⁿ:"n","℠":"SM","™":"TM","㆒":"一","㆓":"二","㆔":"三","㆕":"四","㆖":"上","㆗":"中","㆘":"下","㆙":"甲","㆚":"乙","㆛":"丙","㆜":"丁","㆝":"天","㆞":"地","㆟":"人",ˀ:"ʔ",ˁ:"ʕ",ۥ:"و",ۦ:"ي"},SUPERSCRIPTS_REGEXP:new RegExp("[ª²³¹ºʰʱʲʳʴʵʶʷʸˠˡˢˣˤᴬᴭᴮᴰᴱᴲᴳᴴᴵᴶᴷᴸᴹᴺᴼᴽᴾᴿᵀᵁᵂᵃᵄᵅᵆᵇᵈᵉᵊᵋᵌᵍᵏᵐᵑᵒᵓᵔᵕᵖᵗᵘᵙᵚᵛᵜᵝᵞᵟᵠᵡ⁰ⁱ⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿ℠™㆒㆓㆔㆕㆖㆗㆘㆙㆚㆛㆜㆝㆞㆟ˀˁۥۦ]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(r,t,e,i,n){if(r.opt.use_context_condition){var a=r.tmp.group_context.tip;a.condition?(a.condition.termtxt||(a.condition.termtxt=t,a.condition.valueTerm=e),!a.value_seen&&a.condition.test==="comma-safe-numbers-only"&&n&&(a.value_seen=!0,n.match(/^[0-9]/)||(r.tmp.just_did_number=!1))):i&&i.decorations.filter(s=>s[0]==="@vertical-align").length>0||i&&i.strings.suffix?r.tmp.just_did_number=!1:t&&(t.match(/[0-9]$/)?r.tmp.just_did_number=!0:r.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(r,t){if(r.opt.use_context_condition){var e,i=t.condition.test==="comma-safe-numbers-only";if(t.condition.test==="empty-label")e=!t.condition.termtxt;else if(t.condition.test==="empty-label-no-decor")e=!t.condition.termtxt||t.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(t.condition.test)>-1){var n=t.condition.termtxt,a=!1;t.condition.termtxt&&(a=t.condition.termtxt.slice(0,1).match(p.ALL_ROMANESQUE_REGEXP));var s=r.tmp.just_did_number;s?t.condition.valueTerm?e=!i:n?a?e=!i:["always","after-number"].indexOf(r.opt.require_comma_on_symbol)>-1?e=!0:e=!1:e=!0:t.condition.valueTerm?e=!1:n?a?e=!i:r.opt.require_comma_on_symbol==="always"?e=!0:e=!1:e=!1}if(e)var o=!1;else var o=!0;return t.condition.not&&(o=!o),o}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:function(){var r=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*—\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"];return{match:new RegExp("("+r.join("|")+")","g"),matchfirst:new RegExp("^("+r.join("|")+")"),split:new RegExp("(?:"+r.join("|")+")")}}(),TITLE_SPLIT:function(r){if(!r)return r;for(var t=r.match(p.TITLE_SPLIT_REGEXP.match),e=r.split(p.TITLE_SPLIT_REGEXP.split),i=e.length-2;i>-1;i--)e[i]=e[i].trim(),e[i]&&e[i].slice(-1).toLowerCase()!==e[i].slice(-1)?(e[i]=e[i]+t[i]+e[i+1],e=e.slice(0,i+1).concat(e.slice(i+2))):e=e.slice(0,i+1).concat([t[i]]).concat(e.slice(i+1));return e},GET_COURT_CLASS:function(r,t,e){var i="",n=null,a=t.jurisdiction?t.jurisdiction.split(":")[0]:null,s="court_condition_classes";return e&&(s="court_key_classes"),a&&t.authority&&(typeof t.authority=="string"?n=t.authority:t.authority[0]&&t.authority[0].literal&&(n=t.authority[0].literal)),n&&(this.lang&&r.locale[this.lang].opts[s]&&r.locale[this.lang].opts[s][a]&&r.locale[this.lang].opts[s][a][n]?i=r.locale[this.lang].opts[s][a][n]:r.locale[r.opt["default-locale"][0]].opts[s]&&r.locale[r.opt["default-locale"][0]].opts[s][a]&&r.locale[r.opt["default-locale"][0]].opts[s][a][n]&&(i=r.locale[r.opt["default-locale"][0]].opts[s][a][n])),i},SET_COURT_CLASSES:function(r,t,e,i){for(var n=e.getNodesByName(i,"court-class"),a=0,s=e.numberofnodes(n);a<s;a+=1){var o=n[a],l=e.attributes(o),u=l["@name"],f=l["@country"],h=l["@courts"],c="court_key_classes";if(r.registry&&(c="court_condition_classes"),u&&f&&h){h=h.trim().split(/\s+/),r.locale[t].opts[c]||(r.locale[t].opts[c]={}),r.locale[t].opts[c][f]||(r.locale[t].opts[c][f]={});for(var m=0,v=h.length;m<v;m++)r.locale[t].opts[c][f][h[m]]=u}}},INIT_JURISDICTION_MACROS:function(r,t,e,i){if(t["best-jurisdiction"])return!0;if(!r.sys.retrieveStyleModule||!p.MODULE_MACROS[i]||!t.jurisdiction)return!1;var o=r.getJurisdictionList(t.jurisdiction);if(!r.opt.jurisdictions_seen[o[0]]){var n=r.retrieveAllStyleModules(o);for(var a in n){var s=r.loadStyleModule(a,n[a]);s&&(n[s]||(Object.assign(n,r.retrieveAllStyleModules([s])),r.loadStyleModule(s,n[s],!0)))}}var o=r.getJurisdictionList(t.jurisdiction);r.opt.parallel.enable&&(r.parallel||(r.parallel=new p.Parallel(r)));for(var l=0,u=o.length;l<u;l++){var a=o[l];if(e&&r.juris[a]&&!e["best-jurisdiction"]&&r.juris[a].types.locator&&(t["best-jurisdiction"]=a),r.juris[a]&&r.juris[a].types[t.type])return t["best-jurisdiction"]=a,!0}return!1}};p.XmlJSON=function(r){this.dataObj=r,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}};p.XmlJSON.prototype.clean=function(r){return r};p.XmlJSON.prototype.getStyleId=function(r,t){var e="id";t&&(e="title");for(var i="",n=r.children,a=0,s=n.length;a<s;a++)if(n[a].name==="info")for(var o=n[a].children,l=0,u=o.length;l<u;l++)o[l].name===e&&(i=o[l].children[0]);return i};p.XmlJSON.prototype.children=function(r){return r&&r.children.length?r.children.slice():!1};p.XmlJSON.prototype.nodename=function(r){return r?r.name:null};p.XmlJSON.prototype.attributes=function(r){var t={};for(var e in r.attrs)t["@"+e]=r.attrs[e];return t};p.XmlJSON.prototype.content=function(r){var t="";if(!r||!r.children)return t;for(var e=0,i=r.children.length;e<i;e+=1)typeof r.children[e]=="string"&&(t+=r.children[e]);return t};p.XmlJSON.prototype.namespace={};p.XmlJSON.prototype.numberofnodes=function(r){return r&&typeof r.length=="number"?r.length:0};p.XmlJSON.prototype.getAttributeValue=function(r,t,e){var i="";return e&&(t=e+":"+t),r&&r.attrs&&(r.attrs[t]?i=r.attrs[t]:i=""),i};p.XmlJSON.prototype.getNodeValue=function(r,t){var e="";if(t)for(var i=0,n=r.children.length;i<n;i+=1)r.children[i].name===t&&(r.children[i].children.length?e=r.children[i]:e="");else r&&(e=r);return e&&e.children&&e.children.length==1&&typeof e.children[0]=="string"&&(e=e.children[0]),e};p.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(r,t,e,i,n){i.slice(0,1)==="@"&&(i=i.slice(1));for(var a=0,s=r.children.length;a<s;a+=1)r.children[a].name===t&&r.children[a].attrs.name===e&&(r.children[a].attrs[i]=n)};p.XmlJSON.prototype.deleteNodeByNameAttribute=function(r,t){var e,i;for(e=0,i=r.children.length;e<i;e+=1)!r.children[e]||typeof r.children[e]=="string"||r.children[e].attrs.name==t&&(r.children=r.children.slice(0,e).concat(r.children.slice(e+1)))};p.XmlJSON.prototype.deleteAttribute=function(r,t){typeof r.attrs[t]<"u"&&r.attrs.pop(t)};p.XmlJSON.prototype.setAttribute=function(r,t,e){return r.attrs[t]=e,!1};p.XmlJSON.prototype.nodeCopy=function(r,t){if(!t)var t={};if(typeof t=="object"&&typeof t.length>"u")for(var e in r)typeof r[e]=="string"?t[e]=r[e]:typeof r[e]=="object"&&(typeof r[e].length>"u"?t[e]=this.nodeCopy(r[e],{}):t[e]=this.nodeCopy(r[e],[]));else for(var i=0,n=r.length;i<n;i+=1)typeof r[i]=="string"?t[i]=r[i]:t[i]=this.nodeCopy(r[i],{});return t};p.XmlJSON.prototype.getNodesByName=function(r,t,e,i){if(!i)var i=[];if(!r||!r.children)return i;t===r.name&&(e?e===r.attrs.name&&i.push(r):i.push(r));for(var n=0,a=r.children.length;n<a;n+=1)typeof r.children[n]=="object"&&this.getNodesByName(r.children[n],t,e,i);return i};p.XmlJSON.prototype.nodeNameIs=function(r,t){return typeof r>"u"?!1:t==r.name};p.XmlJSON.prototype.makeXml=function(r){return typeof r=="string"&&(r.slice(0,1)==="<"?r=this.jsonStringWalker.walkToObject(r):r=JSON.parse(r)),r};p.XmlJSON.prototype.insertChildNodeAfter=function(r,t,e,i){for(var n=0,a=r.children.length;n<a;n+=1)if(t===r.children[n]){r.children=r.children.slice(0,n).concat([i]).concat(r.children.slice(n+1));break}return r};p.XmlJSON.prototype.insertPublisherAndPlace=function(r){if(r.name==="group"){for(var t=!0,e=["publisher","publisher-place"],i=0,n=r.children.length;i<n;i+=1){var a=e.indexOf(r.children[i].attrs.variable),s=r.children[i].name==="text";if(s&&a>-1&&!r.children[i].attrs.prefix&&!r.children[i].attrs.suffix)e=e.slice(0,a).concat(e.slice(a+1));else{t=!1;break}}t&&!e.length&&(r.attrs["has-publisher-and-publisher-place"]=!0)}for(var i=0,n=r.children.length;i<n;i+=1)typeof r.children[i]=="object"&&this.insertPublisherAndPlace(r.children[i])};p.XmlJSON.prototype.isChildOfSubstitute=function(r){if(r.length>0){var t=r.slice(),e=t.pop();return e==="substitute"?!0:this.isChildOfSubstitute(t)}return!1};p.XmlJSON.prototype.addMissingNameNodes=function(r,t){if(t||(t=[]),r.name==="names"&&!this.isChildOfSubstitute(t)){for(var e=!0,i=0,n=r.children.length;i<n;i++)if(r.children[i].name==="name"){e=!1;break}e&&(r.children=[{name:"name",attrs:{},children:[]}].concat(r.children))}t.push(r.name);for(var i=0,n=r.children.length;i<n;i+=1)typeof r.children[i]=="object"&&this.addMissingNameNodes(r.children[i],t);t.pop()};p.XmlJSON.prototype.addInstitutionNodes=function(r){var t;if(r.name==="names"){for(var e={},i=-1,n=0,a=r.children.length;n<a;n+=1){if(r.children[n].name=="name"){for(var s in r.children[n].attrs)e[s]=r.children[n].attrs[s];e.delimiter=r.children[n].attrs.delimiter,e.and=r.children[n].attrs.and,i=n;for(var o=0,l=r.children[n].children.length;o<l;o+=1)if(r.children[n].children[o].attrs.name==="family")for(var s in r.children[n].children[o].attrs)e[s]=r.children[n].children[o].attrs[s]}if(r.children[n].name=="institution"){i=-1;break}}if(i>-1){for(var t=this.nodeCopy(this.institution),n=0,a=p.INSTITUTION_KEYS.length;n<a;n+=1){var u=p.INSTITUTION_KEYS[n];typeof e[u]<"u"&&(t.children[0].attrs[u]=e[u]),e.delimiter&&(t.attrs.delimiter=e.delimiter),e.and&&(t.attrs.and=e.and)}r.children=r.children.slice(0,i+1).concat([t]).concat(r.children.slice(i+1))}}for(var n=0,a=r.children.length;n<a;n+=1)typeof r.children[n]!="string"&&this.addInstitutionNodes(r.children[n])};p.XmlJSON.prototype.flagDateMacros=function(r){for(var t=0,e=r.children.length;t<e;t+=1)r.children[t].name==="macro"&&this.inspectDateMacros(r.children[t])&&(r.children[t].attrs["macro-has-date"]="true")};p.XmlJSON.prototype.inspectDateMacros=function(r){if(!r||!r.children)return!1;if(r.name==="date")return!0;for(var t=0,e=r.children.length;t<e;t+=1)if(this.inspectDateMacros(r.children[t]))return!0;return!1};p.stripXmlProcessingInstruction=function(r){return r&&(r=r.replace(/^<\?[^?]+\?>/,""),r=r.replace(/<!--[^>]+-->/g,""),r=r.replace(/^\s+/g,""),r=r.replace(/\s+$/g,""),r)};p.parseXml=function(r){var t={children:[]},e=[t.children];function i(g){g=g.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"");for(var $=g.split("><"),w=null,x=0,A=$.length;x<A;x++)x>0&&($[x]="<"+$[x]),x<$.length-1&&($[x]=$[x]+">"),typeof w!="number"&&($[x].slice(0,7)==="<style "||$[x].slice(0,8)=="<locale ")&&(w=x);$=$.slice(w);for(var x=$.length-2;x>-1;x--)if($[x].slice(1).indexOf("<")===-1){var I=$[x].slice(0,5);$[x].slice(-2)!=="/>"&&(I==="<term"?$[x+1].slice(0,6)==="</term"&&($[x]=$[x]+$[x+1],$=$.slice(0,x+1).concat($.slice(x+2))):["<sing","<mult"].indexOf(I)>-1&&$[x].slice(-2)!=="/>"&&$[x+1].slice(0,1)==="<"&&($[x]=$[x]+$[x+1],$=$.slice(0,x+1).concat($.slice(x+2))))}return $}function n(g){return g.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function($,w){var x=parseInt(w,10);return String.fromCharCode(x)}).replace(/&#x([a-f0-9]{1,6});/gi,function($,w){var x=parseInt(w,16);return String.fromCharCode(x)})}function a(g){var $=g.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if($)for(var w=0,x=$.length;w<x;w++)$[w]=$[w].replace(/=.*/,"");return $}function s(g,$){var w=RegExp("^.*[	 ]+"+$+`=("(?:[^"]*)"|'(?:[^']*)').*$`),x=g.match(w);return x?x[1].slice(1,-1):null}function o(g){var $=RegExp("^<([^	 />]+)"),w=g.match($);return w?w[1]:null}function l(g){var $={};$.name=o(g),$.attrs={};var w=a(g);if(w)for(var x=0,A=w.length;x<A;x++){var I={name:w[x],value:s(g,w[x])};$.attrs[I.name]=n(I.value)}return $.children=[],$}function u(g){var $=g.match(/^.*>([^<]*)<.*$/);return n($[1])}function f(g){e.slice(-1)[0].push(g)}function h(g){e.push(g.children)}function c(g){var $;if(g.slice(1).indexOf("<")>-1){var w=g.slice(0,g.indexOf(">")+1);$=l(w),$.children=[u(g)],f($)}else g.slice(-2)==="/>"?($=l(g),o(g)==="term"&&$.children.push(""),f($)):g.slice(0,2)==="</"?e.pop():($=l(g),f($),h($))}for(var m=i(r),v=0,d=m.length;v<d;v++){var b=m[v];c(b)}return t.children[0]};p.XmlDOM=function(r){this.dataObj=r,typeof DOMParser>"u"?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(a,s){if(typeof ActiveXObject<"u"){var o=new ActiveXObject("MSXML.DomDocument");return o.async=!1,o.loadXML(a),o}else if(typeof XMLHttpRequest<"u"){var o=new XMLHttpRequest;return s||(s="text/xml"),o.open("GET","data:"+s+";charset=utf-8,"+encodeURIComponent(a),!1),o.overrideMimeType&&o.overrideMimeType(s),o.send(null),o.responseXML}else if(typeof marknote<"u"){var l=new marknote.Parser;return l.parse(a)}},this.hasAttributes=function(a){var s;return a.attributes&&a.attributes.length?s=!0:s=!1,s}):this.hasAttributes=function(a){var s;return a.attributes&&a.attributes.length?s=!0:s=!1,s},this.importNode=function(a,s){var o;return typeof a.importNode>"u"?o=this._importNode(a,s,!0):o=a.importNode(s,!0),o},this._importNode=function(a,s,o){switch(s.nodeType){case 1:var l=a.createElement(s.nodeName);if(s.attributes&&s.attributes.length>0)for(var u=0,f=s.attributes.length;u<f;)l.setAttribute(s.attributes[u].nodeName,s.getAttribute(s.attributes[u++].nodeName));if(o&&s.childNodes&&s.childNodes.length>0)for(var u=0,f=s.childNodes.length;u<f;)l.appendChild(this._importNode(a,s.childNodes[u++],o));return l}},this.parser=new DOMParser;var t='<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',e=this.parser.parseFromString(t,"text/xml"),i=e.getElementsByTagName("institution");this.institution=i.item(0);var n=e.getElementsByTagName("institution-part");this.institutionpart=n.item(0),this.ns="http://purl.org/net/xbiblio/csl"};p.XmlDOM.prototype.clean=function(r){return r=r.replace(/<\?[^?]+\?>/g,""),r=r.replace(/<![^>]+>/g,""),r=r.replace(/^\s+/,""),r=r.replace(/\s+$/,""),r=r.replace(/^\n*/,""),r};p.XmlDOM.prototype.getStyleId=function(r,t){var e="",i="id";t&&(i="title");var n=r.getElementsByTagName(i);return n&&n.length&&(n=n.item(0)),n&&(e=n.textContent),e||(e=n.innerText),e||(e=n.innerHTML),e};p.XmlDOM.prototype.children=function(r){var t,e,i,n;if(r){for(n=[],t=r.childNodes,e=0,i=t.length;e<i;e+=1)t[e].nodeName!="#text"&&n.push(t[e]);return n}else return[]};p.XmlDOM.prototype.nodename=function(r){var t=r.nodeName;return t};p.XmlDOM.prototype.attributes=function(r){var t,e,i,n,a;if(t=new Object,r&&this.hasAttributes(r))for(e=r.attributes,n=0,a=e.length;n<a;n+=1)i=e[n],t["@"+i.name]=i.value;return t};p.XmlDOM.prototype.content=function(r){var t;return typeof r.textContent<"u"?t=r.textContent:typeof r.innerText<"u"?t=r.innerText:t=r.txt,t};p.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"};p.XmlDOM.prototype.numberofnodes=function(r){return r?r.length:0};p.XmlDOM.prototype.getAttributeName=function(r){var t=r.name;return t};p.XmlDOM.prototype.getAttributeValue=function(r,t,e){var i="";return e&&(t=e+":"+t),r&&this.hasAttributes(r)&&r.getAttribute(t)&&(i=r.getAttribute(t)),i};p.XmlDOM.prototype.getNodeValue=function(r,t){var e=null;if(t){var i=r.getElementsByTagName(t);i.length>0&&(typeof i[0].textContent<"u"?e=i[0].textContent:typeof i[0].innerText<"u"?e=i[0].innerText:e=i[0].text)}return e===null&&r&&r.childNodes&&(r.childNodes.length==0||r.childNodes.length==1&&r.firstChild.nodeName=="#text")&&(typeof r.textContent<"u"?e=r.textContent:typeof r.innerText<"u"?e=r.innerText:e=r.text),e===null&&(e=r),e};p.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(r,t,e,i,n){var a,s,o,l;for(i.slice(0,1)==="@"&&(i=i.slice(1)),o=r.getElementsByTagName(t),a=0,s=o.length;a<s;a+=1)l=o[a],l.getAttribute("name")==e&&l.setAttribute(i,n)};p.XmlDOM.prototype.deleteNodeByNameAttribute=function(r,t){var e,i,n,a;for(a=r.childNodes,e=0,i=a.length;e<i;e+=1)n=a[e],!(!n||n.nodeType==n.TEXT_NODE)&&this.hasAttributes(n)&&n.getAttribute("name")==t&&r.removeChild(a[e])};p.XmlDOM.prototype.deleteAttribute=function(r,t){r.removeAttribute(t)};p.XmlDOM.prototype.setAttribute=function(r,t,e){return r.ownerDocument||(r=r.firstChild),["function","unknown"].indexOf(typeof r.setAttribute)>-1&&r.setAttribute(t,e),!1};p.XmlDOM.prototype.nodeCopy=function(r){var t=r.cloneNode(!0);return t};p.XmlDOM.prototype.getNodesByName=function(r,t,e){var i,n,a,s,o;for(i=[],n=r.getElementsByTagName(t),s=0,o=n.length;s<o;s+=1)a=n.item(s),!(e&&!(this.hasAttributes(a)&&a.getAttribute("name")==e))&&i.push(a);return i};p.XmlDOM.prototype.nodeNameIs=function(r,t){return t==r.nodeName};p.XmlDOM.prototype.makeXml=function(r){r||(r="<docco><bogus/></docco>"),r=r.replace(/\s*<\?[^>]*\?>\s*\n*/g,"");var t=this.parser.parseFromString(r,"application/xml");return t.firstChild};p.XmlDOM.prototype.insertChildNodeAfter=function(r,t,e,i){var n;return n=this.importNode(t.ownerDocument,i),r.replaceChild(n,t),r};p.XmlDOM.prototype.insertPublisherAndPlace=function(r){for(var t=r.getElementsByTagName("group"),e=0,i=t.length;e<i;e+=1){for(var n=t.item(e),a=[],s=0,o=n.childNodes.length;s<o;s+=1)n.childNodes.item(s).nodeType!==1&&a.push(s);if(n.childNodes.length-a.length===2){for(var l=[],s=0,o=2;s<o;s+=1)if(!(a.indexOf(s)>-1)){for(var u=n.childNodes.item(s),f=[],h=0,c=u.childNodes.length;h<c;h+=1)u.childNodes.item(h).nodeType!==1&&f.push(h);if(u.childNodes.length-f.length===0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&n.setAttribute("has-publisher-and-publisher-place",!0)}}};p.XmlDOM.prototype.isChildOfSubstitute=function(r){return r.parentNode?r.parentNode.tagName.toLowerCase()==="substitute"?!0:this.isChildOfSubstitute(r.parentNode):!1};p.XmlDOM.prototype.addMissingNameNodes=function(r){for(var t=r.getElementsByTagName("names"),e=0,i=t.length;e<i;e+=1){var n=t.item(e),a=n.getElementsByTagName("name");if((!a||a.length===0)&&!this.isChildOfSubstitute(n)){var s=n.ownerDocument,o=s.createElement("name");n.appendChild(o)}}};p.XmlDOM.prototype.addInstitutionNodes=function(r){var t,e,i,n,a,s,o,l,u;for(t=r.getElementsByTagName("names"),l=0,u=t.length;l<u;l+=1)if(e=t.item(l),s=e.getElementsByTagName("name"),s.length!=0&&(i=e.getElementsByTagName("institution"),i.length==0)){n=this.importNode(r.ownerDocument,this.institution),a=n.getElementsByTagName("institution-part").item(0),o=s.item(0),e.insertBefore(n,o.nextSibling);for(var f=0,h=p.INSTITUTION_KEYS.length;f<h;f+=1){var c=p.INSTITUTION_KEYS[f],m=o.getAttribute(c);m&&a.setAttribute(c,m)}for(var v=o.getElementsByTagName("name-part"),f=0,h=v.length;f<h;f+=1)if(v[f].getAttribute("name")==="family")for(var d=0,b=p.INSTITUTION_KEYS.length;d<b;d+=1){var c=p.INSTITUTION_KEYS[d],m=v[f].getAttribute(c);m&&a.setAttribute(c,m)}}};p.XmlDOM.prototype.flagDateMacros=function(r){var t,e,i,n,a=r.getElementsByTagName("macro");for(t=0,e=a.length;t<e;t+=1)i=a.item(t),n=i.getElementsByTagName("date"),n.length&&i.setAttribute("macro-has-date","true")};p.setupXml=function(r){var t={},e=null;return typeof r<"u"?typeof r=="string"?(r=r.replace("^\uFEFF","").replace(/^\s+/,""),r.slice(0,1)==="<"?t=p.parseXml(r):t=JSON.parse(r),e=new p.XmlJSON(t)):typeof r.getAttribute<"u"?e=new p.XmlDOM(r):typeof r.toXMLString<"u"?e=new p.XmlE4X(r):e=new p.XmlJSON(r):p.error("unable to parse XML input"),e||p.error("citeproc-js error: unable to parse CSL style or locale object"),e};p.getSortCompare=function(r){if(p.stringCompare)return p.stringCompare;var t=this,e,i={sensitivity:"base",ignorePunctuation:!0,numeric:!0};r||(r="en-US"),e=function(l,u){return p.toLocaleLowerCase.call(t,l).localeCompare(p.toLocaleLowerCase.call(t,u),r,i)};var n=function(l){return l.replace(/^[\[\]\'\"]*/g,"")},a=function(){return e("[x","x")?function(l,u){return e(n(l),n(u))}:!1},s=a(),o=function(l,u){return s?s(l,u):e(l,u)};return o};p.ambigConfigDiff=function(r,t){var e,i,n,a;if(r.names.length!==t.names.length)return 1;for(e=0,i=r.names.length;e<i;e+=1){if(r.names[e]!==t.names[e])return 1;for(n=0,a=r.givens[e];n<a;n+=1)if(r.givens[e][n]!==t.givens[e][n])return 1}return r.disambiguate!=t.disambiguate||r.year_suffix!==t.year_suffix?1:0};p.cloneAmbigConfig=function(r,t){var e,i,n,a,s,o={};for(o.names=[],o.givens=[],o.year_suffix=!1,o.disambiguate=!1,e=0,i=r.names.length;e<i;e+=1)s=r.names[e],o.names[e]=s;for(e=0,i=r.givens.length;e<i;e+=1){for(s=[],n=0,a=r.givens[e].length;n<a;n+=1)s.push(r.givens[e][n]);o.givens.push(s)}return t?(o.year_suffix=t.year_suffix,o.disambiguate=t.disambiguate):(o.year_suffix=r.year_suffix,o.disambiguate=r.disambiguate),o};p.getAmbigConfig=function(){var r,t;r=this.tmp.disambig_request,r||(r=this.tmp.disambig_settings);var t=p.cloneAmbigConfig(r);return t};p.getMaxVals=function(){return this.tmp.names_max.mystack.slice()};p.getMinVal=function(){return this.tmp["et-al-min"]};p.tokenExec=function(r,t,e){var i,n,a,s;s=!1,i=r.next,n=!1;var o=function(f){return f?(this.tmp.jump.replace("succeed"),r.succeed):(this.tmp.jump.replace("fail"),r.fail)};r.test&&(i=o.call(this,r.test(t,e)));for(var l=0,u=r.execs.length;l<u;l++)a=r.execs[l],n=a.call(r,this,t,e),n&&(i=n);return s&&p.debug(r.name+" ("+r.tokentype+") ---> done"),i};p.expandMacro=function(r,t){var e,i,n,a;e=r.postponed_macro;var s=r.strings.sort_direction;r=new p.Token("group",p.START);var o=!1,l=!1;i=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",e),i.length&&(l=this.cslXml.getAttributeValue(i[0],"cslid"),o=this.cslXml.getAttributeValue(i[0],"macro-has-date")),o&&(e=e+"@"+this.build.current_default_locale,a=function(h){h.tmp.extension&&(h.tmp["doing-macro-with-date"]=!0)},r.execs.push(a)),this.build.macro_stack.indexOf(e)>-1?p.error('CSL processor error: call to macro "'+e+'" would cause an infinite loop'):this.build.macro_stack.push(e),r.cslid=l,p.MODULE_MACROS[e]&&(r.juris=e,this.opt.update_mode=p.POSITION),p.Node.group.build.call(r,this,t,!0),this.cslXml.getNodeValue(i)||p.error('CSL style error: undefined macro "'+e+'"');var u=p.getMacroTarget.call(this,e);if(u&&(p.buildMacro.call(this,u,i),p.configureMacro.call(this,u)),!this.build.extension){var a=function(c){return function(m,v,d){for(var b=0;b<m.macros[c].length;)b=p.tokenExec.call(m,m.macros[c][b],v,d)}}(e),f=new p.Token("text",p.SINGLETON);f.execs.push(a),t.push(f)}n=new p.Token("group",p.END),n.strings.sort_direction=s,o&&(a=function(h){h.tmp.extension&&(h.tmp["doing-macro-with-date"]=!1)},n.execs.push(a)),r.juris&&(n.juris=e),p.Node.group.build.call(n,this,t,!0),this.build.macro_stack.pop()};p.getMacroTarget=function(r){var t=!1;return this.build.extension?t=this[this.build.root+this.build.extension].tokens:this.macros[r]||(t=[],this.macros[r]=t),t};p.buildMacro=function(r,t){var e=p.makeBuilder(this,r),i;typeof t.length>"u"?i=t:i=t[0],e(i)};p.configureMacro=function(r){this.build.extension||this.configureTokenList(r)};p.XmlToToken=function(r,t,e,i){var n,a,s,o,l,u,f;if(n=r.cslXml.nodename(this),!(r.build.skip&&r.build.skip!==n)){if(!n){a=r.cslXml.content(this),a&&(r.build.text=a);return}if(p.Node[r.cslXml.nodename(this)]||p.error('Undefined node name "'+n+'".'),s=r.cslXml.attributes(this),o=p.setDecorations.call(this,r,s),l=new p.Token(n,t),t!==p.END||n==="if"||n==="else-if"||n==="layout"){for(var u in s)if(s.hasOwnProperty(u)){if(t===p.END&&u!=="@language"&&u!=="@locale")continue;if(s.hasOwnProperty(u))if(p.Attributes[u])try{p.Attributes[u].call(l,r,""+s[u])}catch(c){p.error(u+" attribute: "+c)}else p.debug('warning: undefined attribute "'+u+'" in style')}l.decorations=o,p.DATE_VARIABLES.indexOf(s["@variable"])>-1&&i.push(l.variables)}else t===p.END&&s["@variable"]&&(l.hasVariable=!0,p.DATE_VARIABLES.indexOf(s["@variable"])>-1&&(l.variables=i.pop()));e?f=e:f=r[r.build.area].tokens,p.Node[n].build.call(l,r,f,!0)}};p.DateParser=function(){for(var r=[["明治",1867],["大正",1911],["昭和",1925],["平成",1988]],t=0,e=r.length;t<e;t++){r[t][0];var i=r[t][1]}for(var n=[],a={},t=0,e=r.length;t<e;t++){var s=r[t],i=s[0];n.push(i),a[s[0]]=s[1]}var o=n.join("|"),l=new RegExp("(?:"+o+")(?:[0-9]+)"),u=new RegExp("(?:"+o+")(?:[0-9]+)","g"),f=/(\u6708|\u5E74)/g,h=/\u65E5/g,c=/\u301c/g,m="(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])",v="[?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])",d="[?0-9]{1,3}",b="[%%DATED%%]",g="[?~]",$="[^-/~?0-9]+",w="("+v+"|"+m+"|"+d+"|"+b+"|"+g+"|"+$+")",x=new RegExp(w.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),A=new RegExp(w.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),I=new RegExp(w.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-")),D="january february march april may june july august september october november december spring summer fall winter spring summer";this.monthStrings=D.split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var S=0,O=this.monthStrings.length;S<O;S++)this.monthSets.push([this.monthStrings[S]]);this.monthAbbrevs=[];for(var S=0,O=this.monthSets.length;S<O;S++){this.monthAbbrevs.push([]);for(var H=0,B=this.monthSets[S].length;H<B;H++)this.monthAbbrevs[S].push(this.monthSets[S][0].slice(0,3))}this.monthRexes=[];for(var S=0,O=this.monthAbbrevs.length;S<O;S++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[S].join("|")+")"))},this.addDateParserMonths=function(S){if(typeof S=="string"&&(S=S.split(/\s+/)),S.length!==12&&S.length!==16){p.debug("month [+season] list of "+S.length+", expected 12 or 16. Ignoring.");return}for(var O=0,H=S.length;O<H;O++){for(var B=null,V=!1,K=3,Q={},G=0,q=this.monthAbbrevs.length;G<q;G++){if(Q[G]={},G===O){for(var W=0,ne=this.monthAbbrevs[O].length;W<ne;W++)if(this.monthAbbrevs[O][W]===S[O].slice(0,this.monthAbbrevs[O][W].length)){V=!0;break}}else for(var W=0,ne=this.monthAbbrevs[G].length;W<ne;W++)if(B=this.monthAbbrevs[G][W].length,this.monthAbbrevs[G][W]===S[O].slice(0,B)){for(;this.monthSets[G][W].slice(0,B)===S[O].slice(0,B);)if(B>S[O].length||B>this.monthSets[G][W].length){p.debug("unable to disambiguate month string in date parser: "+S[O]);break}else B+=1;K=B,Q[G][W]=B}for(var Z in Q)for(var oe in Q[Z])B=Q[Z][oe],Z=parseInt(Z,10),oe=parseInt(oe,10),this.monthAbbrevs[Z][oe]=this.monthSets[Z][oe].slice(0,B)}V||(this.monthSets[O].push(S[O]),this.monthAbbrevs[O].push(S[O].slice(0,K)))}this.monthRexes=[],this.monthRexStrs=[];for(var O=0,H=this.monthAbbrevs.length;O<H;O++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[O].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[O].join("|")+")");if(this.monthAbbrevs.length===18)for(var O=12,H=14;O<H;O++)this.monthRexes[O+4]=new RegExp("^(?:"+this.monthAbbrevs[O].join("|")+")"),this.monthRexStrs[O+4]="^(?:"+this.monthAbbrevs[O].join("|")+")"},this.convertDateObjectToArray=function(S){S["date-parts"]=[],S["date-parts"].push([]);for(var O=0,H,B=0,V=3;B<V&&(H=["year","month","day"][B],!!S[H]);B++)O+=1,S["date-parts"][0].push(S[H]),delete S[H];S["date-parts"].push([]);for(var B=0,V=O;B<V&&(H=["year_end","month_end","day_end"][B],!!S[H]);B++)S["date-parts"][1].push(S[H]),delete S[H];return S["date-parts"][0].length!==S["date-parts"][1].length&&S["date-parts"].pop(),S},this.convertDateObjectToString=function(S){for(var O=[],H=0,B=3;H<B&&S[p.DATE_PARTS_ALL[H]];H+=1)O.push(S[p.DATE_PARTS_ALL[H]]);return O.join("-")},this._parseNumericDate=function(S,O,H,B){H||(H="");for(var V=B.split(O),K=0,Q=V.length;K<Q;K++)if(V[K].length===4){S["year"+H]=V[K].replace(/^0*/,""),K?V=V.slice(0,K):V=V.slice(1);break}for(var K=0,Q=V.length;K<Q;K++)V[K]=parseInt(V[K],10);if(V.length===1||V.length===2&&!V[1]){var G=V[0];G&&(S["month"+H]=""+V[0])}else if(V.length===2)if(V[this.monthGuess]>12){var G=V[this.dayGuess],q=V[this.monthGuess];G&&(S["month"+H]=""+G,q&&(S["day"+H]=""+q))}else{var G=V[this.monthGuess],q=V[this.dayGuess];G&&(S["month"+H]=""+G,q&&(S["day"+H]=""+q))}},this.parseDateToObject=function(S){var O=S,H=-1,B=-1,V=!1,K;if(S){if(S=S.replace(/^(.*[0-9])T[0-9].*/,"$1"),S.slice(0,1)==="-"&&(V=!0,S=S.slice(1)),S.match(/^[0-9]{1,3}$/))for(;S.length<4;)S="0"+S;S=""+S,S=S.replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"");var Q=S.match(f);if(Q){S=S.replace(/\s+/g,""),S=S.replace(h,""),S=S.replace(f,"-"),S=S.replace(c,"/"),S=S.replace(/\-\//g,"/"),S=S.replace(/-$/g,"");var G=S.split(l);K=[];var q=S.match(u);if(q){for(var W=[],ne=0,Z=q.length;ne<Z;ne++)W=W.concat(q[ne].match(/([^0-9]+)([0-9]+)/).slice(1));for(var ne=0,Z=G.length;ne<Z;ne++)if(K.push(G[ne]),ne!==Z-1){var oe=ne*2;K.push(W[oe]),K.push(W[oe+1])}}else K=G;for(var ne=1,Z=K.length;ne<Z;ne+=3)K[ne+1]=a[K[ne]]+parseInt(K[ne+1],10),K[ne]="";S=K.join(""),S=S.replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/"),S=S.replace(/\.\s*$/,""),S=S.replace(/\.(?! )/,""),H=S.indexOf("/"),B=S.indexOf("-")}}S=S.replace(/([A-Za-z])\./g,"$1");var ie="",ae="",he={},Ce,ke;if(S.slice(0,1)==='"'&&S.slice(-1)==='"')return he.literal=S.slice(1,-1),he;if(H>-1&&B>-1){var Te=S.split("/");Te.length>3?(Ce="-",S=S.replace(/\_/g,"-"),ke="/",K=S.split(I)):(Ce="/",S=S.replace(/\_/g,"/"),ke="-",K=S.split(A))}else S=S.replace(/\//g,"-"),S=S.replace(/\_/g,"-"),Ce="-",ke="-",K=S.split(x);for(var Ae=[],ne=0,Z=K.length;ne<Z;ne++){var Q=K[ne].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/);Q&&Ae.push(Q[1])}var Pe=Ae.indexOf(Ce),ye=[],_e=!1;Pe>-1?(ye.push([0,Pe]),ye.push([Pe+1,Ae.length]),_e=!0):ye.push([0,Ae.length]);for(var X="",ne=0,Z=ye.length;ne<Z;ne++){var fe=ye[ne],te=Ae.slice(fe[0],fe[1]);e:for(var ve=0,je=te.length;ve<je;ve++){var Y=te[ve];if(Y.indexOf(ke)>-1){this._parseNumericDate(he,ke,X,Y);continue}if(Y.match(/[0-9]{4}/)){he["year"+X]=Y.replace(/^0*/,"");continue}(Y==="~"||Y==="?"||Y==="c"||Y.match(/^cir/))&&(he.circa=!0);for(var P=0,N=this.monthRexes.length;P<N;P++)if(Y.toLocaleLowerCase().match(this.monthRexes[P])){he["month"+X]=""+(parseInt(P,10)+1);continue e}if(Y.match(/^[0-9]+$/)&&(ie=Y),Y.toLocaleLowerCase().match(/^bc/)&&ie){he["year"+X]=""+ie*-1,ie="";continue}if(Y.toLocaleLowerCase().match(/^ad/)&&ie){he["year"+X]=""+ie,ie="";continue}if(Y.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)&&!he["season"+X]){ae=Y;continue}}ie&&(he["day"+X]=ie,ie=""),ae&&!he["season"+X]&&(he["season"+X]=ae.trim(),ae=""),X="_end"}if(_e)for(var ve=0,je=p.DATE_PARTS_ALL.length;ve<je;ve++){var ee=p.DATE_PARTS_ALL[ve];he[ee]&&!he[ee+"_end"]?he[ee+"_end"]=he[ee]:!he[ee]&&he[ee+"_end"]&&(he[ee]=he[ee+"_end"])}(!he.year||he.year&&he.day&&!he.month)&&(he={literal:O});for(var be=["year","month","day","year_end","month_end","day_end"],ne=0,Z=be.length;ne<Z;ne++){var Ie=be[ne];typeof he[Ie]=="string"&&he[Ie].match(/^[0-9]+$/)&&(he[Ie]=parseInt(he[Ie],10))}return V&&Object.keys(he).indexOf("year")>-1&&(he.year=he.year*-1),he},this.parseDateToArray=function(S){return this.convertDateObjectToArray(this.parseDateToObject(S))},this.parseDateToString=function(S){return this.convertDateObjectToString(this.parseDateToObject(S))},this.parse=function(S){return this.parseDateToObject(S)},this.setOrderMonthDay(),this.resetDateParserMonths()};p.DateParser=new p.DateParser;p.Engine=function(r,t,e,i){var n,a;this.processor_version=p.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=r,typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(h),m=1;m<arguments.length;m++){var v=arguments[m];if(v!=null)for(var d in v)Object.prototype.hasOwnProperty.call(v,d)&&(c[d]=v[d])}return c},writable:!0,configurable:!0}),r.variableWrapper&&(p.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(p.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),p.retrieveStyleModule&&(this.sys.retrieveStyleModule=p.retrieveStyleModule),p.getAbbreviation&&(this.sys.getAbbreviation=p.getAbbreviation),this.sys.stringCompare&&(p.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=p.AbbreviationSegments,this.transform=new p.Transform(this),this.setParseNames=function(f){this.opt["parse-names"]=f},this.opt=new p.Engine.Opt,this.tmp=new p.Engine.Tmp,this.build=new p.Engine.Build,this.fun=new p.Engine.Fun(this),this.configure=new p.Engine.Configure,this.citation_sort=new p.Engine.CitationSort,this.bibliography_sort=new p.Engine.BibliographySort,this.citation=new p.Engine.Citation(this),this.bibliography=new p.Engine.Bibliography,this.intext=new p.Engine.InText,this.output=new p.Output.Queue(this),this.dateput=new p.Output.Queue(this),this.cslXml=p.setupXml(t);for(var s in p.SYS_OPTIONS){var o=p.SYS_OPTIONS[s];typeof this.sys[o]=="boolean"&&(this.opt.development_extensions[o]=this.sys[o])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(f,h){var c=this.cslXml.children(f);this.cslXml.setAttribute(f,"cslid",this.build.cslNodeId),this.opt.nodenames.push(h),this.build.cslNodeId+=1;for(var m=0,v=this.cslXml.numberofnodes(c);m<v;m+=1)h=this.cslXml.nodename(c[m]),h&&this.setCslNodeIds(c[m],h)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),n=this.cslXml.attributes(this.cslXml.dataObj),typeof n["@sort-separator"]>"u"&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),this.opt.version.slice(0,4)==="1.1m"&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),e&&(e=e.replace("_","-"),e=p.normalizeLocaleStr(e)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=p.normalizeLocaleStr(this.opt["default-locale"][0])),e&&i&&(this.opt["default-locale"]=[e]),e&&!i&&this.opt["default-locale"][0]&&(e=this.opt["default-locale"][0]),this.opt["default-locale"].length===0&&(e||(e="en-US"),this.opt["default-locale"].push("en-US")),e||(e=this.opt["default-locale"][0]),a=p.localeResolve(e),this.opt.lang=a.best,this.opt["default-locale"][0]=a.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(a);function l(h){var h=h.slice(),c=new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+h.join("|")+")(?=[!?:]*\\s+|-|$))","g");return c}this.locale[this.opt.lang].opts["skip-words-regexp"]=l(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new p.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new p.Registry(this),this.macros={},this.build.area="citation";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="bibliography";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="intext";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new p.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new p.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=p.DateParser,this.fun.flipflopper=new p.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=p.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=p.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")};p.Engine.prototype.setCloseQuotesArray=function(){var r;r=[],r.push(this.getTerm("close-quote")),r.push(this.getTerm("close-inner-quote")),r.push('"'),r.push("'"),this.opt.close_quotes_array=r};p.makeBuilder=function(r,t){var e=[],i=[];function n(l){i.push(l),p.XmlToToken.call(l,r,p.START,t,e)}function a(){var l=i.pop();p.XmlToToken.call(l,r,p.END,t,e)}function s(l){p.XmlToToken.call(l,r,p.SINGLETON,t,e)}function o(l,u,f){l||(l=[]),typeof l.length>"u"&&(l=[l]);for(var h=0;h<l.length;h++){var c=l[h];r.cslXml.nodename(c)!==null&&(u&&r.cslXml.nodename(c)==="date"&&(p.Util.fixDateNode.call(r,u,h,c),c=r.cslXml.children(u)[h]),r.cslXml.numberofnodes(r.cslXml.children(c))?(n(c),o(r.cslXml.children(c),c),a()):s(c))}}return o};p.Engine.prototype.buildTokenLists=function(r,t){if(this.cslXml.getNodeValue(r)){var e=p.makeBuilder(this,t),i;typeof r.length>"u"?i=r:i=r[0],e(i)}};p.Engine.prototype.setStyleAttributes=function(){var e,r,t,e={};e.name=this.cslXml.nodename(this.cslXml.dataObj),r=this.cslXml.attributes(this.cslXml.dataObj);for(t in r)r.hasOwnProperty(t)&&p.Attributes[t].call(e,this,r[t])};p.Engine.prototype.getTerm=function(r,t,e,i,n,a){r&&r.match(/[A-Z]/)&&r===r.toUpperCase()&&(p.debug("Warning: term key is in uppercase form: "+r),r=r.toLowerCase());var s;a?s=this.opt["default-locale"][0]:s=this.opt.lang;var o=p.Engine.getField(p.LOOSE,this.locale[s].terms,r,t,e,i);return!o&&r==="range-delimiter"&&(o="–"),typeof o>"u"&&(n===p.STRICT?p.error('Error in getTerm: term "'+r+'" does not exist.'):n===p.TOLERANT&&(o="")),o&&(this.tmp.cite_renders_content=!0),o};p.Engine.prototype.getDate=function(r,t){var e;return t?e=this.opt["default-locale"]:e=this.opt.lang,this.locale[e].dates[r]?this.locale[e].dates[r]:!1};p.Engine.prototype.getOpt=function(r){return typeof this.locale[this.opt.lang].opts[r]<"u"?this.locale[this.opt.lang].opts[r]:!1};p.Engine.prototype.getVariable=function(r,t,e,i){return p.Engine.getField(p.LOOSE,r,t,e,i)};p.Engine.prototype.getDateNum=function(r,t){return typeof r>"u"?0:r[t]};p.Engine.getField=function(r,t,e,i,n,a){var s,o,l,u,f,h;if(s="",typeof t[e]>"u")if(r===p.STRICT)p.error('Error in getField: term "'+e+'" does not exist.');else return;for(a&&t[e][a]?h=t[e][a]:h=t[e],o=[],i==="symbol"?o=["symbol","short"]:i==="verb-short"?o=["verb-short","verb"]:i!=="long"&&(o=[i]),o=o.concat(["long"]),f=o.length,u=0;u<f;u+=1)if(l=o[u],typeof h=="string"||typeof h=="number")s=h;else if(typeof h[l]<"u"){typeof h[l]=="string"||typeof h[l]=="number"?s=h[l]:typeof n=="number"?s=h[l][n]:s=h[l][0];break}return s};p.Engine.prototype.configureTokenLists=function(){var r,t,e;for(e=p.AREAS.length,t=0;t<e;t+=1){r=p.AREAS[t];var i=this[r].tokens;this.configureTokenList(i)}return this.version=p.version,this.state};p.Engine.prototype.configureTokenList=function(r){var t,e,i,n,a,s,o,l;for(t=["year","month","day"],o=r.length-1,a=o;a>-1;a+=-1){if(e=r[a],e.name==="date"&&p.END===e.tokentype&&(i=[]),e.name==="date-part"&&e.strings.name)for(l=t.length,s=0;s<l;s+=1)n=t[s],n===e.strings.name&&i.push(e.strings.name);e.name==="date"&&p.START===e.tokentype&&(i.reverse(),e.dateparts=i),e.next=a+1,e.name&&p.Node[e.name].configure&&p.Node[e.name].configure.call(e,this,a)}};p.Engine.prototype.refetchItems=function(r){for(var t=[],e=0,i=r.length;e<i;e+=1)t.push(this.refetchItem(""+r[e]));return t};p.ITERATION=0;p.Engine.prototype.retrieveItem=function(r){var t,e,i;if(!this.tmp.loadedItemIDs[r])this.tmp.loadedItemIDs[r]=!0;else return this.registry.refhash[r];if(this.opt.development_extensions.normalize_lang_keys_to_lowercase&&typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase=="boolean"){for(var i=0,n=this.opt["default-locale"].length;i<n;i+=1)this.opt["default-locale"][i]=this.opt["default-locale"][i].toLowerCase();for(var i=0,n=this.opt["locale-translit"].length;i<n;i+=1)this.opt["locale-translit"][i]=this.opt["locale-translit"][i].toLowerCase();for(var i=0,n=this.opt["locale-translat"].length;i<n;i+=1)this.opt["locale-translat"][i]=this.opt["locale-translat"][i].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(p.ITERATION+=1,t=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+r))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(t.multi){if(t.multi._keys)for(var a in t.multi._keys)for(var s in t.multi._keys[a])s!==s.toLowerCase()&&(t.multi._keys[a][s.toLowerCase()]=t.multi._keys[a][s],delete t.multi._keys[a][s]);if(t.multi.main)for(var a in t.multi.main)t.multi.main[a]=t.multi.main[a].toLowerCase()}for(var i=0,n=p.NAME_VARIABLES.length;i>n;i+=1){var o=p.NAME_VARIABLES[i];if(t[o]&&t[o].multi)for(var l=0,u=t[o].length;l<u;l+=1){var f=t[o][l];if(f.multi){if(f.multi._key)for(var s in f.multi._key)s!==s.toLowerCase()&&(f.multi._key[s.toLowerCase()]=f.multi._key[s],delete f.multi._key[s]);f.multi.main&&(f.multi.main=f.multi.main.toLowerCase())}}}}if(t.language&&t.language.match(/[><]/)){var e=t.language.match(/(.*?)([<>])(.*)/);e[2]==="<"?(t["language-name"]=e[1],t["language-name-original"]=e[3]):(t["language-name"]=e[3],t["language-name-original"]=e[1]),this.opt.multi_layout?t["language-name-original"]&&(t.language=t["language-name-original"]):t["language-name"]&&(t.language=t["language-name"])}if(t.page){t["page-first"]=t.page;var h=""+t.page,e=h.split(/\s*(?:&|, |-|\u2013)\s*/);e[0].slice(-1)!=="\\"&&(t["page-first"]=e[0])}this.opt.development_extensions.field_hack&&t.note&&p.parseNoteFieldHacks(t,!1,this.opt.development_extensions.allow_field_hack_date_override);for(var s in t)if(p.DATE_VARIABLES.indexOf(s.replace(/^alt-/,""))>-1){var c=t[s];c&&(this.opt.development_extensions.raw_date_parsing&&c.raw&&(!c["date-parts"]||c["date-parts"].length===0)&&(c=this.fun.dateparser.parseDateToObject(c.raw)),t[s]=this.dateParseArray(c))}if(this.opt.development_extensions.consolidate_legal_items&&t.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1){for(var m,v=["type","title","jurisdiction","genre","volume","container-title"],d=[],i=0,n=v.length;i<n;i+=1)m=v[i],t[m]&&d.push(t[m]);v=["original-date","issued"];for(var i=0,n=v.length;i<n;i+=1)if(m=v[i],t[m]&&t[m].year){var b=t[m].year;d.push(b);break}t.legislation_id=d.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(t.type)>-1){for(var m,v=["type","container-title","publisher","edition"],g=[],i=0,n=v.length;i<n;i+=1)m=v[i],t[m]&&g.push(t[m]);t.container_id=g.join("::")}if(this.opt.development_extensions.force_jurisdiction&&typeof t.authority=="string"&&(t.authority=[{literal:t.authority,multi:{_key:{}}}],t.multi&&t.multi._keys&&t.multi._keys.authority)){t.authority[0].multi._key={};for(var s in t.multi._keys.authority)t.authority[0].multi._key[s]={literal:t.multi._keys.authority[s]}}if(t["title-short"]||(t["title-short"]=t.shortTitle),this.opt.development_extensions.main_title_from_short_title){var $=this.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr";p.extractTitleAndSubtitle.call(this,t,$)}var w=["bill","legal_case","legislation","gazette","regulation"].indexOf(t.type)>-1;this.opt.development_extensions.force_jurisdiction&&w&&(t.jurisdiction||(t.jurisdiction="us"));var x;if(!w&&t.title&&this.sys.getAbbreviation){t.jurisdiction,this.sys.normalizeAbbrevsKey?x=this.sys.normalizeAbbrevsKey("title",t.title):x=t.title;var A=this.transform.loadAbbreviation(t.jurisdiction,"title",x,t.language);this.transform.abbrevs[A].title&&this.transform.abbrevs[A].title[x]&&(t["title-short"]=this.transform.abbrevs[A].title[x])}if(t["container-title-short"]||(t["container-title-short"]=t.journalAbbreviation),t["container-title"]&&this.sys.getAbbreviation){this.sys.normalizeAbbrevsKey?x=this.sys.normalizeAbbrevsKey(t["container-title"]):x=t["container-title"];var A=this.transform.loadAbbreviation(t.jurisdiction,"container-title",x,t.language);this.transform.abbrevs[A]["container-title"]&&this.transform.abbrevs[A]["container-title"][x]&&(t["container-title-short"]=this.transform.abbrevs[A]["container-title"][x])}if(t.jurisdiction&&(t.country=t.jurisdiction.split(":")[0]),this.registry.refhash[r]){if(JSON.stringify(this.registry.refhash[r])!=JSON.stringify(t)){for(var s in this.registry.refhash[r])delete this.registry.refhash[r][s];this.tmp.taintedItemIDs[t.id]=!0,Object.assign(this.registry.refhash[r],t)}}else this.registry.refhash[r]=t;return this.registry.refhash[r]};p.Engine.prototype.refetchItem=function(r){return this.registry.refhash[r]};p.Engine.prototype.setOpt=function(r,t,e){r.name==="style"||r.name==="cslstyle"?(this.opt.inheritedAttributes[t]=e,this.citation.opt.inheritedAttributes[t]=e,this.bibliography.opt.inheritedAttributes[t]=e):["citation","bibliography"].indexOf(r.name)>-1?this[r.name].opt.inheritedAttributes[t]=e:r.strings[t]=e};p.Engine.prototype.inheritOpt=function(r,t,e,i){if(typeof r.strings[t]<"u")return r.strings[t];var n=this[this.tmp.root].opt.inheritedAttributes[e||t];return typeof n<"u"?n:i};p.Engine.prototype.remapSectionVariable=function(r){for(var t=0,e=r.length;t<e;t+=1){var i=r[t][0],n=r[t][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(i.type)>-1){if(n.locator){n.locator=n.locator.trim();var a=n.locator.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);a||(n.label?n.locator=p.STATUTE_SUBDIV_STRINGS_REVERSE[n.label]+" "+n.locator:n.locator="p. "+n.locator)}var s=null;if(i.section){i.section=i.section.trim();var a=i.section.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);a?s=a[0].trim():(i.section="sec. "+i.section,s="sec.")}if(i.section)if(!n.locator)n.locator=i.section;else{var a=n.locator.match(/^([^ ]*)\s*(.*)/),o=" ";a?(a[1]==="p."&&s!=="p."&&(n.locator=a[2]),["[","(",".",",",";",":","?"].indexOf(n.locator.slice(0,1))>-1&&(o="")):o="",n.locator=i.section+o+n.locator}n.label=""}}};p.Engine.prototype.setNumberLabels=function(r){if(r.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(r.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var t=""+r.number;t=t.split("\\").join("");var e=t.split(/\s+/)[0],i=p.STATUTE_SUBDIV_STRINGS[e];if(i){var n=t.split(p.STATUTE_SUBDIV_PLAIN_REGEX);if(n.length>1){for(var a=[],s=1,o=n.length;s<o;s+=1)a.push(n[s].replace(/\s*$/,"").replace(/^\s*/,""));t=a.join(" ")}else t=n[0];this.tmp.shadow_numbers.number.label=i,this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!0}};p.substituteOne=function(r){return function(t,e){return e?r.replace("%%STRING%%",e):""}};p.substituteTwo=function(r){return function(t){var e=r.replace("%%PARAM%%",t);return function(i,n){return n?e.replace("%%STRING%%",n):""}}};p.Mode=function(r){var t,e,i,n,a,s;t={},e=p.Output.Formats[r];for(i in e){if(i.slice(0,1)!=="@"){t[i]=e[i];continue}n=!1,a=e[i],s=i.split("/"),typeof a=="string"&&a.indexOf("%%STRING%%")>-1?a.indexOf("%%PARAM%%")>-1?n=p.substituteTwo(a):n=p.substituteOne(a):typeof a=="boolean"&&!a?n=p.Output.Formatters.passthrough:typeof a=="function"?n=a:p.error("Bad "+r+" config entry for "+i+": "+a),s.length===1?t[s[0]]=n:s.length===2&&(t[s[0]]||(t[s[0]]={}),t[s[0]][s[1]]=n)}return t};p.setDecorations=function(r,t){var e,i,n;e=[];for(n in p.FORMAT_KEY_SEQUENCE){var i=p.FORMAT_KEY_SEQUENCE[n];t[i]&&(e.push([i,t[i]]),delete t[i])}return e};p.Doppeler=function(r,t){var e=new RegExp("("+r+")","g"),i=new RegExp(r,"g");this.split=function(n){t&&(n=t(n));var a=n.match(e);if(!a)return{tags:[],strings:[n]};for(var s=n.split(i),o=a.length-1;o>-1;o--){typeof a[o]=="number"&&(a[o]="");var l=a[o];l==="'"&&s[o+1].length>0&&(s[o+1]=a[o]+s[o+1],a[o]="")}return{tags:a,strings:s,origStrings:s.slice()}},this.join=function(n){for(var a=n.strings.slice(-1),s=n.tags.length-1;s>-1;s--)a.push(n.tags[s]),a.push(n.strings[s]);return a.reverse(),a.join("")}};p.Engine.prototype.normalDecorIsOrphan=function(r,t){if(t[1]==="normal"){var e=!1,i;this.tmp.area==="citation"?i=[this.citation.opt.layout_decorations].concat(r.alldecor):i=r.alldecor;for(var n=i.length-1;n>-1;n+=-1)for(var a=i[n].length-1;a>-1;a+=-1)i[n][a][0]===t[0]&&i[n][a][1]!=="normal"&&(e=!0);if(!e)return!0}return!1};p.Engine.prototype.getCitationLabel=function(r){var t="",e=this.getTrigraphParams(),i=e[0],n=this.getTerm("reference","short",0);typeof n>"u"&&(n="reference"),n=n.replace(".",""),n=n.slice(0,1).toUpperCase()+n.slice(1);for(var a=0,s=p.NAME_VARIABLES.length;a<s;a+=1){var o=p.NAME_VARIABLES[a];if(r[o]){var l=r[o];l.length>e.length?i=e[e.length-1]:i=e[l.length-1];for(var u=0,f=l.length;u<f&&u!==i.authors.length;u+=1){var h=this.nameOutput.getName(l[u],"locale-translit",!0),c=h.name;c&&c.family?(n=c.family,n=n.replace(/^([ \'\u2019a-z]+\s+)/,"")):c&&c.literal&&(n=c.literal);var m=n.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(m&&(n=n.slice(m[1].length)),n=n.replace(p.ROMANESQUE_NOT_REGEXP,""),!n)break;n=n.slice(0,i.authors[u]),n.length>1?n=n.slice(0,1).toUpperCase()+n.slice(1).toLowerCase():n.length===1&&(n=n.toUpperCase()),t+=n}break}}if(!t&&r.title){for(var v=this.locale[this.opt.lang].opts["skip-words"],d=r.title.split(/\s+/),a=d.length-1;a>-1;a--)v.indexOf(d[a])>-1&&(d=d.slice(0,a).concat(d.slice(a+1)));var b=d.join("");b=b.slice(0,e[0].authors[0]),b.length>1?b=b.slice(0,1).toUpperCase()+b.slice(1).toLowerCase():b.length===1&&(b=b.toUpperCase()),t=b}var g="0000";return r.issued&&r.issued.year&&(g=""+r.issued.year),g=g.slice(i.year*-1),t=t+g,t};p.Engine.prototype.getTrigraphParams=function(){var r=[],t=this.opt.trigraph.split(":");(!this.opt.trigraph||this.opt.trigraph.slice(0,1)!=="A")&&p.error("Bad trigraph definition: "+this.opt.trigraph);for(var e=0,i=t.length;e<i;e+=1){for(var n=t[e],a={authors:[],year:0},s=0,o=n.length;s<o;s+=1)switch(n.slice(s,s+1)){case"A":a.authors.push(1);break;case"a":a.authors[a.authors.length-1]+=1;break;case"0":a.year+=1;break;default:p.error("Invalid character in trigraph definition: "+this.opt.trigraph)}r.push(a)}return r};p.Engine.prototype.setOutputFormat=function(r){this.opt.mode=r,this.fun.decorate=p.Mode(r),this.output[r]||(this.output[r]={},this.output[r].tmp={})};p.Engine.prototype.getSortFunc=function(){return function(r,t){return r=r.split("-"),t=t.split("-"),r.length<t.length?1:r.length>t.length?-1:(r=r.slice(-1)[0],t=t.slice(-1)[0],r.length<t.length?1:r.length>t.length?-1:0)}};p.Engine.prototype.setLangTagsForCslSort=function(r){var t,e;if(r)for(this.opt["locale-sort"]=[],t=0,e=r.length;t<e;t+=1)this.opt["locale-sort"].push(r[t]);this.opt["locale-sort"].sort(this.getSortFunc())};p.Engine.prototype.setLangTagsForCslTransliteration=function(r){var t,e;if(this.opt["locale-translit"]=[],r)for(t=0,e=r.length;t<e;t+=1)this.opt["locale-translit"].push(r[t]);this.opt["locale-translit"].sort(this.getSortFunc())};p.Engine.prototype.setLangTagsForCslTranslation=function(r){var t,e;if(this.opt["locale-translat"]=[],r)for(t=0,e=r.length;t<e;t+=1)this.opt["locale-translat"].push(r[t]);this.opt["locale-translat"].sort(this.getSortFunc())};p.Engine.prototype.setLangPrefsForCites=function(r,t){var e=this.opt["cite-lang-prefs"];t||(t=function(m){return m.toLowerCase()});for(var i=["Persons","Institutions","Titles","Journals","Publishers","Places"],n=0,a=i.length;n<a;n+=1){var s=t(i[n]),o=i[n].toLowerCase();if(r[s]){for(var l=[];r[s].length>1;)l.push(r[s].pop());var u={orig:1,translit:2,translat:3};for(l.length===2&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)r[s].push(l.pop());for(var f=e[o];f.length;)f.pop();for(var h=0,c=r[s].length;h<c;h+=1)f.push(r[s][h])}}};p.Engine.prototype.setLangPrefsForCiteAffixes=function(r){if(r&&r.length===48){for(var t=this.opt.citeAffixes,e=0,i=["persons","institutions","titles","journals","publishers","places"],n=["translit","orig","translit","translat"],a,s=0,o=i.length;s<o;s+=1)for(var l=0,u=n.length;l<u;l+=1)a="",e%8===4?!t[i[s]]["locale-"+n[l]].prefix&&!t[i[s]]["locale-"+n[l]].suffix&&(a=r[e]?r[e]:"",t[i[s]]["locale-"+n[l]].prefix=a,a=r[e]?r[e+1]:"",t[i[s]]["locale-"+n[l]].suffix=a):(a=r[e]?r[e]:"",t[i[s]]["locale-"+n[l]].prefix=a,a=r[e]?r[e+1]:"",t[i[s]]["locale-"+n[l]].suffix=a),e+=2;this.opt.citeAffixes=t}};p.Engine.prototype.setAutoVietnameseNamesOption=function(r){r?this.opt["auto-vietnamese-names"]=!0:this.opt["auto-vietnamese-names"]=!1};p.Engine.prototype.setAbbreviations=function(r){this.sys.setAbbreviations&&this.sys.setAbbreviations(r)};p.Engine.prototype.setSuppressTrailingPunctuation=function(r){this.citation.opt.suppressTrailingPunctuation=!!r};p.Output={};p.Output.Queue=function(r){this.levelname=["top"],this.state=r,this.queue=[],this.empty=new p.Token("empty");var t={};t.empty=this.empty,this.formats=new p.Stack(t),this.current=new p.Stack(this.queue)};p.Output.Queue.prototype.pop=function(){var r=this.current.value();return r.length?r.pop():r.blobs.pop()};p.Output.Queue.prototype.getToken=function(r){var t=this.formats.value()[r];return t};p.Output.Queue.prototype.mergeTokenStrings=function(r,t){var e,i,n,a;if(e=this.formats.value()[r],i=this.formats.value()[t],n=e,i){e||(e=new p.Token(r,p.SINGLETON),e.decorations=[]),n=new p.Token(r,p.SINGLETON);var a="";for(var a in e.strings)e.strings.hasOwnProperty(a)&&(n.strings[a]=e.strings[a]);for(var a in i.strings)i.strings.hasOwnProperty(a)&&(n.strings[a]=i.strings[a]);n.decorations=e.decorations.concat(i.decorations)}return n};p.Output.Queue.prototype.addToken=function(r,t,e){var i,n;if(i=new p.Token("output"),typeof e=="string"&&(e=this.formats.value()[e]),e&&e.strings){for(n in e.strings)e.strings.hasOwnProperty(n)&&(i.strings[n]=e.strings[n]);i.decorations=e.decorations}typeof t=="string"&&(i.strings.delimiter=t),this.formats.value()[r]=i};p.Output.Queue.prototype.pushFormats=function(r){r||(r={}),r.empty=this.empty,this.formats.push(r)};p.Output.Queue.prototype.popFormats=function(){this.formats.pop()};p.Output.Queue.prototype.startTag=function(r,t){var e={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(t=this.empty,r="empty"),e[r]=t,this.pushFormats(e),this.openLevel(r)};p.Output.Queue.prototype.endTag=function(r){this.closeLevel(r),this.popFormats()};p.Output.Queue.prototype.openLevel=function(r){var t,e;typeof r=="object"?t=new p.Blob(void 0,r):typeof r>"u"?t=new p.Blob(void 0,this.formats.value().empty,"empty"):((!this.formats.value()||!this.formats.value()[r])&&p.error('CSL processor error: call to nonexistent format token "'+r+'"'),t=new p.Blob(void 0,this.formats.value()[r],r)),e=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.prefix=this.checkNestedBrace.update(t.strings.prefix)),e.push(t),this.current.push(t)};p.Output.Queue.prototype.closeLevel=function(r){r&&r!==this.current.value().levelname&&p.error("Level mismatch error:  wanted "+r+" but found "+this.current.value().levelname);var t=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.suffix=this.checkNestedBrace.update(t.strings.suffix))};p.Output.Queue.prototype.append=function(r,t,e,i,n){var a,s,o,l=!0;if(e&&(i=!0),this.state.tmp["doing-macro-with-date"]&&!e){if(t!=="macro-with-date")return!1;t==="macro-with-date"&&(t="empty")}if(typeof r>"u"||(typeof r=="number"&&(r=""+r),!e&&this.state.tmp.element_trace&&this.state.tmp.element_trace.value()==="suppress-me"))return!1;if(s=!1,t?t==="literal"?(a=!0,l=!1):typeof t=="string"?a=this.formats.value()[t]:a=t:a=this.formats.value().empty,a||p.error("CSL processor error: unknown format token name: "+t),a.strings&&typeof a.strings.delimiter>"u"&&(a.strings.delimiter=""),typeof r=="string"&&r.length&&(r=r.replace(/ ([:;?!\u00bb])/g," $1").replace(/\u00ab /g,"« "),this.last_char_rendered=r.slice(-1),r=r.replace(/\s+'/g," '"),e||(r=r.replace(/^'/g," '")),i?e&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),s=new p.Blob(r,a),o=this.current.value(),typeof o>"u"&&this.current.mystack.length===0&&(this.current.mystack.push([]),o=this.current.value()),typeof s.blobs=="string"&&(i?e&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),typeof r=="string"){if(typeof s.blobs=="string"&&s.blobs.slice(0,1)!==" "){for(var u="",f=s.blobs;p.TERMINAL_PUNCTUATION.indexOf(f.slice(0,1))>-1;)u=u+f.slice(0,1),f=f.slice(1);f&&u&&(s.strings.prefix=s.strings.prefix+u,s.blobs=f)}s.strings["text-case"]&&(s.blobs=p.Output.Formatters[s.strings["text-case"]](this.state,r)),this.state.tmp.strip_periods&&!n&&(s.blobs=s.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var h=s.decorations.length-1;h>-1;h+=-1)s.decorations[h][0]==="@quotes"&&s.decorations[h][1]!=="false"&&(s.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),s.blobs.match(p.ROMANESQUE_REGEXP)||s.decorations[h][0]==="@font-style"&&(s.decorations=s.decorations.slice(0,h).concat(s.decorations.slice(h+1)));o.push(s),this.state.fun.flipflopper.processTags(s)}else l?o.push(s):o.push(r);return!0};p.Output.Queue.prototype.string=function(r,t,e){var i,n,a,s,o,l=p.getSafeEscape(this.state),u=t.slice(),f=[];if(u.length===0)return f;var h="";e?h=e.strings.delimiter:(r.tmp.count_offset_characters=!1,r.tmp.offset_characters=0),e&&e.new_locale&&(e.old_locale=r.opt.lang,r.opt.lang=e.new_locale);for(var c,m,v,d,i=0,n=u.length;i<n;i+=1){if(c=u[i],c.strings.first_blob&&(r.tmp.count_offset_characters=c.strings.first_blob),typeof c.blobs=="string"){if(typeof c.num=="number")f.push(c);else if(c.blobs){c.particle&&(c.blobs=c.particle+c.blobs,c.particle=""),o=l(c.blobs);var b=o.length;if(!r.tmp.suppress_decorations)for(a=0,s=c.decorations.length;a<s;a+=1)d=c.decorations[a],d[0]!=="@showid"&&(r.normalDecorIsOrphan(c,d)||(o=r.fun.decorate[d[0]][d[1]].call(c,r,o,d[2])));if(o&&o.length){if(o=l(c.strings.prefix)+o+l(c.strings.suffix),r.opt.development_extensions.csl_reverse_lookup_support&&!r.tmp.suppress_decorations)for(a=0,s=c.decorations.length;a<s;a+=1)d=c.decorations[a],d[0]==="@showid"&&(o=r.fun.decorate[d[0]][d[1]].call(c,r,o,d[2]));f.push(o),r.tmp.count_offset_characters&&(r.tmp.offset_characters+=b+c.strings.suffix.length+c.strings.prefix.length)}}}else if(c.blobs.length){var g=r.output.string(r,c.blobs,c);if(e&&g!=="string"&&g.length>1&&c.strings.delimiter)for(var $=!1,a=0,s=g.length;a<s;a++)typeof g[a]!="string"?$=!0:$&&(g[a]=c.strings.delimiter+g[a]);f=f.concat(g)}c.strings.first_blob&&r.registry.registry[c.strings.first_blob]&&(r.registry.registry[c.strings.first_blob].offset=r.tmp.offset_characters,r.tmp.count_offset_characters=!1)}for(i=0,n=f.length-1;i<n;i+=1)typeof f[i].num=="number"&&typeof f[i+1].num=="number"&&!f[i+1].UGLY_DELIMITER_SUPPRESS_HACK&&(f[i].strings.suffix=f[i].strings.suffix+(h||""),f[i+1].successor_prefix="",f[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);for(var w=0,i=0,n=f.length;i<n;i+=1)typeof f[i]=="string"&&(w=parseInt(i,10)+1,i<f.length-1&&typeof f[i+1]=="object"&&(h&&!f[i+1].UGLY_DELIMITER_SUPPRESS_HACK&&(f[i]+=l(h)),f[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(e&&(e.decorations.length||e.strings.suffix))w=f.length;else if(e&&e.strings.prefix){for(var i=0,n=f.length;i<n;i++)if(typeof f[i].num<"u"){w=i,i===0&&(f[i].strings.prefix=e.strings.prefix+f[i].strings.prefix);break}}var x=r.output.renderBlobs(f.slice(0,w),h,!1,e);if(x&&e&&(e.decorations.length||e.strings.suffix||e.strings.prefix)){if(!r.tmp.suppress_decorations)for(var i=0,n=e.decorations.length;i<n;i+=1)d=e.decorations[i],!(["@cite","@bibliography","@display","@showid"].indexOf(d[0])>-1)&&(r.normalDecorIsOrphan(c,d)||d[0]&&typeof x=="string"&&(x=r.fun.decorate[d[0]][d[1]].call(e,r,x,d[2])));if(o=x,m=e.strings.suffix,o&&o.length&&(v=e.strings.prefix,o=l(v)+o+l(m),r.tmp.count_offset_characters&&(r.tmp.offset_characters+=v.length+m.length)),x=o,!r.tmp.suppress_decorations)for(var i=0,n=e.decorations.length;i<n;i+=1)d=e.decorations[i],["@cite","@bibliography","@display","@showid"].indexOf(d[0])!==-1&&typeof x=="string"&&(x=r.fun.decorate[d[0]][d[1]].call(e,r,x,d[2]))}var A=f.slice(w,f.length);return!A.length&&x?f=[x]:A.length&&!x?f=A:x&&A.length&&(f=[x].concat(A)),typeof e>"u"?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),r.tmp.suppress_decorations&&(f=r.output.renderBlobs(f,void 0,!1))):typeof e=="boolean"&&(f=r.output.renderBlobs(f,void 0,!0)),e&&e.new_locale&&(r.opt.lang=e.old_locale),f};p.Output.Queue.prototype.clearlevel=function(){var r,t,e;for(r=this.current.value(),e=r.blobs.length,t=0;t<e;t+=1)r.blobs.pop()};p.Output.Queue.prototype.renderBlobs=function(r,t,e,i){var n,a,s,o,l,u,f,h,c,m,v;if(v=p.getSafeEscape(this.state),t||(t=""),n=this.state,a="",s="",u=r.length,this.state.tmp.area==="citation"&&!this.state.tmp.just_looking&&u===1&&typeof r[0]=="object"&&i)return r[0].strings.prefix=i.strings.prefix+r[0].strings.prefix,r[0].strings.suffix=r[0].strings.suffix+i.strings.suffix,r[0].decorations=r[0].decorations.concat(i.decorations),r[0].params=i.params,r[0];var d=!0;for(l=0;l<u;l+=1)r[l].checkNext?(r[l].checkNext(r[l+1],d),d=!1):r[l+1]&&r[l+1].splice_prefix?d=!1:d=!0;var b=!0;for(l=r.length-1;l>0;l+=-1)r[l].checkLast?b&&r[l].checkLast(r[l-1])&&(b=!1):b=!0;for(u=r.length,l=0;l<u;l+=1)if(o=r[l],a&&(s=t),typeof o=="string")a+=v(s),a+=o,n.tmp.count_offset_characters&&(n.tmp.offset_characters+=s.length);else if(e)a?a=[a,o]:a=[o];else if(o.status!==p.SUPPRESS){o.particle?c=o.particle+o.num:c=o.formatter.format(o.num,o.gender);var g=c.replace(/<[^>]*>/g,"").length;this.append(c,"empty",!0);var $=this.pop(),w=n.tmp.count_offset_characters;if(c=this.string(n,[$],!1),n.tmp.count_offset_characters=w,o.strings["text-case"]&&(c=p.Output.Formatters[o.strings["text-case"]](this.state,c)),c&&this.state.tmp.strip_periods&&(c=c.replace(/\.([^a-z]|$)/g,"$1")),!n.tmp.suppress_decorations)for(h=o.decorations.length,f=0;f<h;f+=1)m=o.decorations[f],!n.normalDecorIsOrphan(o,m)&&(c=n.fun.decorate[m[0]][m[1]].call(o,n,c,m[2]));c=v(o.strings.prefix)+c+v(o.strings.suffix);var x="";o.status===p.END?x=v(o.range_prefix):o.status===p.SUCCESSOR?x=v(o.successor_prefix):o.status===p.START?l>0&&!o.suppress_splice_prefix?x=v(o.splice_prefix):x="":o.status===p.SEEN&&(x=v(o.splice_prefix)),a+=x,a+=c,n.tmp.count_offset_characters&&(n.tmp.offset_characters+=x.length+o.strings.prefix.length+g+o.strings.suffix.length)}return a};p.Output.Queue.purgeEmptyBlobs=function(r){if(!(typeof r!="object"||typeof r.blobs!="object"||!r.blobs.length))for(var t=r.blobs.length-1;t>-1;t--){p.Output.Queue.purgeEmptyBlobs(r.blobs[t]);var e=r.blobs[t];if(!e||!e.blobs||!e.blobs.length){for(var i=[];r.blobs.length-1>t;)i.push(r.blobs.pop());for(r.blobs.pop();i.length;)r.blobs.push(i.pop())}}};p.Output.Queue.adjust=function(r){var t={";":!0,":":!0},e={".":!0,"!":!0,"?":!0},i={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},n={},a={},s={},o={};for(var l in i)s[l]=!0,o[l]=!0,t[l]||(n[l]=!0),e[l]||(a[l]=!0);o[" "]=!0,o[" "]=!0;var u={};for(var l in i)for(var f in i[l])u[f]||(u[f]={}),u[f][l]=i[l][f];function h(S){return typeof S.num=="number"||S.blobs&&S.blobs.length===1&&typeof S.blobs[0].num=="number"}function c(S){if(typeof S.num=="number")return!0;if(!S.blobs||typeof S.blobs!="object")return!1;if(c(S.blobs[S.blobs.length-1]))return!0}function m(S,O){var H=!1,B=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(O&&B.push("@quotes"),S.decorations){for(var V=0,K=S.decorations.length;V<K;V++)if(B.indexOf(S.decorations[V][0])>-1){H=!0;break}}return H}function v(S){if(S.decorations){for(var O=0,H=S.decorations.length;O<H;O++)if(S.decorations[O][0]==="@quotes"&&S.decorations[O][1]!=="false")return!0}return typeof S.blobs!="object"?!1:v(S.blobs[S.blobs.length-1])}function d(S,O){var H=O.strings.suffix.slice(-1);!H&&typeof O.blobs=="string"&&(H=O.blobs.slice(-1));var B=u[S][H];return B&&B.length===1?!0:typeof O.blobs!="object"?!1:!!d(S,O.blobs[O.blobs.length-1])}function b(S,O){if(!s[O])return!1;if(typeof S.blobs=="string")return S.blobs.slice(-1)===O;var H=S.blobs[S.blobs.length-1];if(H){var B=H.strings.suffix.slice(-1);return B?H.strings.suffix.slice(-1)==O:b(H,O)}else return!1}function g(S,O,H,B,V){var K=O==="blobs"?S:S.strings,Q=B==="blobs"?H:H.strings,G=K[O].slice(-1),q=Q[B].slice(0,1);function W(){Q[B]=Q[B].slice(1)}function ne(){K[O]=K[O].slice(0,-1)}function Z(ye){Q[B]=ye+Q[B]}function oe(ye){K[O]+=ye}var ie=V?ne:W;function ae(){return u[q]}function he(){return i[G]}var Ce=V?he:ae;function ke(){var ye=i[G][q];typeof ye=="string"?(ne(),W(),Z(ye)):(Z(G),ne())}function Te(){var ye=u[q][G];typeof ye=="string"?(ne(),W(),oe(ye)):(oe(q),W())}var Ae=V?ke:Te,Pe=G===q;Pe?ie():Ce()&&Ae()}function $(S){if(S.blobs&&typeof S.blobs=="string"){s[S.strings.suffix.slice(0,1)]&&S.strings.suffix.slice(0,1)===S.blobs.slice(-1)&&(S.strings.suffix=S.strings.suffix.slice(1));return}else if(typeof S!="object"||typeof S.blobs!="object"||!S.blobs.length)return;for(var O=m(S,!0),H=S.blobs.length-1;H>-1;H--){this.upward(S.blobs[H]);var B=S.strings,V=S.blobs[H].strings;if(H===0){B.prefix.slice(-1)===" "&&V.prefix.slice(0,1)===" "&&(V.prefix=V.prefix.slice(1));var K=V.prefix.slice(0,1);!O&&o[K]&&!B.prefix&&(B.prefix+=K,V.prefix=V.prefix.slice(1))}if(H===S.blobs.length-1){var K=V.suffix.slice(-1);!O&&[" "].indexOf(K)>-1&&(B.suffix.slice(0,1)!==K&&(B.suffix=K+B.suffix),V.suffix=V.suffix.slice(0,-1))}B.delimiter&&H>0&&o[B.delimiter.slice(-1)]&&B.delimiter.slice(-1)===V.prefix.slice(0,1)&&(V.prefix=V.prefix.slice(1))}}function w(S){if(!(typeof S!="object"||typeof S.blobs!="object"||!S.blobs.length)){for(var O=S.blobs.length-1;O>-1;O--)if(this.leftward(S.blobs[O]),O<S.blobs.length-1&&!S.strings.delimiter){var H=S.blobs[O],B=H.strings.suffix.slice(-1),V=S.blobs[O+1],K=V.strings.prefix.slice(0,1),Q=m(H)||m(V),G=typeof B=="number"||typeof K=="number";if(!Q&&!G&&s[K]&&!G){var q=K===H.strings.suffix.slice(-1),W=!H.strings.suffix&&typeof H.blobs=="string"&&H.blobs.slice(-1)===K;!q&&!W?g(H,"suffix",V,"prefix"):V.strings.prefix=V.strings.prefix.slice(1)}}}}function x(S){if(S.blobs&&typeof S.blobs=="string"){s[S.strings.suffix.slice(0,1)]&&S.strings.suffix.slice(0,1)===S.blobs.slice(-1)&&(S.strings.suffix=S.strings.suffix.slice(1));return}else if(typeof S!="object"||typeof S.blobs!="object"||!S.blobs.length)return;for(var O=S.strings,H=0,B=S.blobs.length;H<B&&!h(S.blobs[H]);H++);if(O.delimiter&&s[O.delimiter.slice(0,1)]){for(var V=O.delimiter.slice(0,1),H=S.blobs.length-2;H>-1;H--){var K=S.blobs[H].strings;K.suffix.slice(-1)!==V&&(K.suffix+=V)}O.delimiter=O.delimiter.slice(1)}for(var H=S.blobs.length-1;H>-1;H--){var Q=S.blobs[H],K=S.blobs[H].strings,G=m(Q,!0),q=h(Q);if(H===S.blobs.length-1){{var W=O.suffix.slice(0,1),ne=!1;s[W]&&(ne=d(W,Q),!ne&&r&&(ne=v(Q))),ne&&s[W]&&(c(Q)||(typeof Q.blobs=="string"?g(Q,"blobs",S,"suffix"):g(Q,"suffix",S,"suffix"),O.suffix.slice(0,1)==="."&&(K.suffix+=O.suffix.slice(0,1),O.suffix=O.suffix.slice(1)))),K.suffix.slice(-1)===" "&&O.suffix.slice(0,1)===" "&&(O.suffix=O.suffix.slice(1)),o[K.suffix.slice(0,1)]&&(typeof Q.blobs=="string"&&Q.blobs.slice(-1)===K.suffix.slice(0,1)&&(K.suffix=K.suffix.slice(1)),K.suffix.slice(-1)===O.suffix.slice(0,1)&&(O.suffix=O.suffix.slice(0,-1)))}b(S,S.strings.suffix.slice(0,1))&&(S.strings.suffix=S.strings.suffix.slice(1))}else if(O.delimiter)o[O.delimiter.slice(0,1)]&&O.delimiter.slice(0,1)===K.suffix.slice(-1)&&(S.blobs[H].strings.suffix=S.blobs[H].strings.suffix.slice(0,-1));else{var Z=S.blobs[H+1].strings;!h(Q)&&!G&&o[K.suffix.slice(-1)]&&K.suffix.slice(-1)===Z.prefix.slice(0,1)&&(Z.prefix=Z.prefix.slice(1))}!q&&!G&&s[K.suffix.slice(0,1)]&&typeof Q.blobs=="string"&&g(Q,"blobs",Q,"suffix"),this.downward(S.blobs[H])}}function A(S){var O=S.strings.suffix.slice(0,1);if(typeof S.blobs=="string")for(;n[O];)g(S,"blobs",S,"suffix"),O=S.strings.suffix.slice(0,1);else for(;n[O];)g(S.blobs[S.blobs.length-1],"suffix",S,"suffix"),O=S.strings.suffix.slice(0,1)}function I(S){if(typeof S.blobs=="string")for(var O=S.blobs.slice(-1);a[O];)g(S,"blobs",S,"suffix",!0),O=S.blobs.slice(-1);else for(var O=S.blobs[S.blobs.length-1].strings.suffix.slice(-1);a[O];)g(S.blobs[S.blobs.length-1],"suffix",S,"suffix",!0),O=S.blobs[S.blobs.length-1].strings.suffix.slice(-1)}function D(S){if(!(typeof S!="object"||typeof S.blobs!="object"||!S.blobs.length)){for(var O,H=0,B=S.blobs.length;H<B;H++){for(var V=S.blobs[H],K=!1,Q=0,G=V.decorations.length;Q<G;Q++){var q=V.decorations[Q];q[0]==="@quotes"&&q[1]!=="false"&&(K=!0)}K&&(r?A(V):I(V)),O=this.fix(S.blobs[H]),V.blobs&&typeof V.blobs=="string"&&(O=V.blobs.slice(-1))}return O}}this.upward=$,this.leftward=w,this.downward=x,this.fix=D};p.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=p.NONE,this.bib_mode=p.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1};p.Engine.Tmp=function(){this.names_max=new p.Stack,this.names_base=new p.Stack,this.givens_base=new p.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new p.Stack(0,p.LITERAL),this.element_rendered_ok=!1,this.element_trace=new p.Stack("style"),this.nameset_counter=0,this.group_context=new p.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new p.Stack(0,p.LITERAL),this.decorations=new p.Stack,this.tokenstore_stack=new p.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new p.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new p.AmbigConfig,this.bib_sort_keys=[],this.prefix=new p.Stack("",p.LITERAL),this.suffix=new p.Stack("",p.LITERAL),this.delimiter=new p.Stack("",p.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]};p.Engine.Fun=function(r){this.match=new p.Util.Match,this.suffixator=new p.Util.Suffixator(p.SUFFIX_CHARS),this.romanizer=new p.Util.Romanizer,this.ordinalizer=new p.Util.Ordinalizer(r),this.long_ordinalizer=new p.Util.LongOrdinalizer};p.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new p.Stack(0,p.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0};p.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]};p.Engine.Citation=function(r){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new p.Registry.Comparifier(r,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"};p.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"};p.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=p.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"};p.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"};p.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"};p.Engine.prototype.previewCitationCluster=function(r,t,e,i){var n=this.opt.mode;this.setOutputFormat(i),r.citationID&&delete r.citationID;var a=this.processCitationCluster(r,t,e,p.PREVIEW);return this.setOutputFormat(n),a[1]};p.Engine.prototype.appendCitationCluster=function(r){for(var t=[],e=this.registry.citationreg.citationByIndex.length,i=0;i<e;i+=1){var n=this.registry.citationreg.citationByIndex[i];t.push([""+n.citationID,n.properties.noteIndex])}return this.processCitationCluster(r,t,[])[1]};p.Engine.prototype.processCitationCluster=function(r,t,e,i){var n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(r);var I,D,S;if(i===p.PREVIEW){this.debug&&p.debug("****** start state save *********"),I=this.registry.citationreg.citationByIndex.slice(),D=this.registry.reflist.slice();for(var O=t.concat(e),H={},B=[],o=0,l=O.length;o<l;o+=1)for(n=this.registry.citationreg.citationById[O[o][0]],u=0,f=n.citationItems.length;u<f;u+=1)H[n.citationItems[u].id]=!0,B.push(""+n.citationItems[u].id);for(u=0,f=r.citationItems.length;u<f;u+=1)H[r.citationItems[u].id]=!0,B.push(""+r.citationItems[u].id);S={};for(var o=0,l=D.length;o<l;o+=1)if(!H[D[o].id]){var V=this.registry.registry[D[o].id].ambig,K=this.registry.ambigcites[V];if(K)for(u=0,f=K.length;u<f;u+=1)S[K[u]]=p.cloneAmbigConfig(this.registry.registry[K[u]].disambig)}this.debug&&p.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};for(var Q=[],G={},o=0,l=r.citationItems.length;o<l;o+=1){g={};for(var d in r.citationItems[o])g[d]=r.citationItems[o][d];if(b=this.retrieveItem(""+g.id),b.id&&this.transform.loadAbbreviation("default","hereinafter",b.id,b.language),g=p.parseLocator.call(this,g),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[b,g]]),this.opt.development_extensions.locator_label_parse&&g.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(b.type)===-1&&(!g.label||g.label==="page")){var x=p.LOCATOR_LABELS_REGEXP.exec(g.locator);if(x){var q=p.LOCATOR_LABELS_MAP[x[2]];this.getTerm(q)&&(g.label=q,g.locator=x[3])}}var W=[b,g];Q.push(W),r.citationItems[o].item=b}r.sortedItems=Q;var ne=[],Z={},oe;for(o=0,l=t.length;o<l;o+=1)a=t[o],this.opt.development_extensions.strict_inputs&&(Z[a[0]]&&p.error("Previously referenced citationID "+a[0]+" encountered in citationsPre"),a[1]&&(oe>a[1]&&p.debug("Note index sequence is not sane at citationsPre["+o+"]"),oe=a[1])),this.registry.citationreg.citationById[a[0]].properties.noteIndex=a[1],ne.push(this.registry.citationreg.citationById[a[0]]),Z[a[0]]=this.registry.citationreg.citationById[a[0]];for(r.properties||(r.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(Z[r.citationID]&&p.error("Citation with previously referenced citationID "+r.citationID),r.properties.noteIndex&&(oe>r.properties.noteIndex&&p.debug("Note index sequence is not sane for citation "+r.citationID),oe=r.properties.noteIndex)),ne.push(r),Z[r.citationID]=r,o=0,l=e.length;o<l;o+=1)s=e[o],this.opt.development_extensions.strict_inputs&&(Z[s[0]]&&p.error("Previously referenced citationID "+s[0]+" encountered in citationsPost"),s[1]&&(oe>s[1]&&p.debug("Note index sequence is not sane at postCitation["+o+"]"),oe=s[1])),this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1],ne.push(this.registry.citationreg.citationById[s[0]]),Z[s[0]]=this.registry.citationreg.citationById[s[0]];this.registry.citationreg.citationByIndex=ne,this.registry.citationreg.citationById=Z,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===p.POSITION&&(w=[],$=[],A={});for(var ie=[],o=0,l=ne.length;o<l;o+=1){for(ne[o].properties.index=o,u=0,f=ne[o].sortedItems.length;u<f;u+=1)g=ne[o].sortedItems[u],this.registry.citationreg.citationsByItemId[g[1].id]||(this.registry.citationreg.citationsByItemId[g[1].id]=[],ie.push(""+g[1].id)),this.registry.citationreg.citationsByItemId[g[1].id].indexOf(ne[o])===-1&&this.registry.citationreg.citationsByItemId[g[1].id].push(ne[o]);this.opt.update_mode===p.POSITION&&(ne[o].properties.noteIndex?$.push(ne[o]):(ne[o].properties.noteIndex=0,w.push(ne[o])))}if(i!==p.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&p.debug("****** start update items *********"),this.updateItems(ie,null,null,!0),this.debug&&p.debug("****** endo update items *********")),!this.opt.citation_number_sort&&Q&&Q.length>1&&this.citation_sort.tokens.length>0){for(var o=0,l=Q.length;o<l;o+=1)Q[o][1].sortkeys=p.getSortKeys.call(this,Q[o][0],"citation_sort");if(this.opt.grouped_sort&&!r.properties.unsorted){for(var o=0,l=Q.length;o<l;o+=1){var ae=Q[o][1].sortkeys;this.tmp.authorstring_request=!0;var he=this.registry.registry[Q[o][0].id].disambig;this.tmp.authorstring_request=!0,p.getAmbiguousCite.call(this,Q[o][0],he);var Ce=this.registry.authorstrings[Q[o][0].id];this.tmp.authorstring_request=!1,Q[o][1].sortkeys=[Ce].concat(ae)}Q.sort(this.citation.srt.compareCompositeKeys);for(var ke=!1,Te=!1,Ae=!1,o=0,l=Q.length;o<l;o+=1)Q[o][1].sortkeys[0]!==ke&&(Ae=Q[o][1].sortkeys[0],Te=Q[o][1].sortkeys[1]),Q[o][1].sortkeys[0]=""+Te+o,ke=Ae}r.properties.unsorted||Q.sort(this.citation.srt.compareCompositeKeys)}this.opt.parallel.enable&&this.parallel.StartCitation(r.sortedItems);var Pe;if(this.opt.update_mode===p.POSITION)for(var o=0;o<2;o+=1){var ye={},_e={},X={};for(Pe=[w,$][o],u=0,f=Pe.length;u<f;u+=1){var fe=Pe[u];for(Pe[u].properties.noteIndex||(Pe[u].properties.noteIndex=0),Pe[u].properties.noteIndex=parseInt(Pe[u].properties.noteIndex,10),u>0&&fe.properties.noteIndex&&Pe[u-1].properties.noteIndex>fe.properties.noteIndex&&(A={},ye={},_e={},X={}),h=0,c=fe.sortedItems.length;h<c;h+=1)fe.sortedItems[h][1].parallel&&fe.sortedItems[h][1].parallel!=="first"||(A[fe.properties.noteIndex]?A[fe.properties.noteIndex]+=1:A[fe.properties.noteIndex]=1);for(h=0,c=Pe[u].sortedItems.length;h<c;h+=1){g=Pe[u].sortedItems[h];var te=g[0].id,ve=g[0].legislation_id?g[0].legislation_id:g[0].id,je=g[0].legislation_id?g[0].legislation_id:g[0].container_id?g[0].container_id:g[0].id,Y=g[1]["locator-extra"],P=g[1].locator,N=g[1].label,ee,be;if(h>0)if(fe.sortedItems[h-1][0].legislation_id)ee=fe.sortedItems[h-1][0].legislation_id;else{ee=fe.sortedItems[h-1][1].id,be=fe.sortedItems[h-1][1]["locator-extra"];for(var Ie=h-2;Ie>-1;Ie--)fe.sortedItems[Ie][1].parallel==="first"&&(ee=fe.sortedItems[Ie][1].id,be=fe.sortedItems[Ie][1]["locator-extra"])}if(i===p.PREVIEW&&fe.citationID!=r.citationID){typeof ye[g[1].id]>"u"&&(ye[ve]=fe.properties.noteIndex),_e[je]=fe.properties.noteIndex;continue}var Re={};if(Re.position=g[1].position,Re["first-reference-note-number"]=g[1]["first-reference-note-number"],Re["first-container-reference-note-number"]=g[1]["first-container-reference-note-number"],Re["near-note"]=g[1]["near-note"],g[1]["first-reference-note-number"]=0,g[1]["first-container-reference-note-number"]=0,g[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[te]&&this.opt.xclass==="note"&&this.opt.has_disambiguate){var at=this.registry.registry[g[0].id]["citation-count"],dt=this.registry.citationreg.citationsByItemId[te].length;if(this.registry.registry[g[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[te].length,typeof at=="number"){var mt=at<2,Nt=dt<2;if(mt!==Nt)for(var Ie=0,wt=this.registry.citationreg.citationsByItemId[te].length;Ie<wt;Ie++)G[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[te][Ie].citationID]=!0}else for(var Ie=0,wt=this.registry.citationreg.citationsByItemId[te].length;Ie<wt;Ie++)G[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[te][Ie].citationID]=!0}var Jt,vr;if(typeof _e[je]>"u"&&fe.properties.mode!=="author-only")ye[ve]=fe.properties.noteIndex,_e[je]=fe.properties.noteIndex,X[je]=fe.properties.noteIndex,g[1].position=p.POSITION_FIRST;else{var tr=!1,cr=!1,rr=null;if(u>0)var rr=Pe[u-1];var dn=Pe[u];if(u>0){var Pi=1;rr.properties.mode==="author-only"&&u>1&&(Pi=2);var ci=u-Pi;Pe[ci].sortedItems.length&&(Jt=Pe[ci].sortedItems.slice(-1)[0][1].id,vr=Pe[u-Pi].sortedItems.slice(-1)[0][1]["locator-extra"]),rr.sortedItems.length&&rr.sortedItems[0].slice(-1)[0].legislation_id&&(Jt=rr.sortedItems[0].slice(-1)[0].legislation_id)}if(u>0&&h===0&&rr.properties.noteIndex!==dn.properties.noteIndex){var aa=!1,sa=rr.sortedItems[0][0].id;if(rr.sortedItems[0][0].legislation_id&&(sa=rr.sortedItems[0][0].legislation_id),sa==ve&&rr.properties.noteIndex>=dn.properties.noteIndex-1){var Qr=rr.sortedItems[0][1]["locator-extra"],In=dn.sortedItems[0][1]["locator-extra"];(A[rr.properties.noteIndex]===1||rr.properties.noteIndex===0)&&Qr===In&&(aa=!0)}aa?tr=!0:cr=!0}else h>0&&ee==ve&&be==Y||h===0&&u>0&&rr.properties.noteIndex==dn.properties.noteIndex&&rr.sortedItems.length&&Jt==ve&&vr==Y?tr=!0:cr=!0;var vn,Er,io,Fr,no;tr&&(h>0?vn=fe.sortedItems[h-1][1]:vn=Pe[u-1].sortedItems[0][1],vn.locator?(vn.label?io=vn.label:io="",Er=""+vn.locator+io):Er=vn.locator,P?(N?no=N:no="",Fr=""+P+no):Fr=P),tr&&Er&&!Fr&&(tr=!1,cr=!0),tr&&(!Er&&Fr?g[1].position=p.POSITION_IBID_WITH_LOCATOR:!Er&&!Fr||Er&&Fr===Er?g[1].position=p.POSITION_IBID:Er&&Fr&&Fr!==Er?g[1].position=p.POSITION_IBID_WITH_LOCATOR:(tr=!1,cr=!0)),cr&&(g[1].position=p.POSITION_CONTAINER_SUBSEQUENT,typeof ye[ve]>"u"?ye[ve]=fe.properties.noteIndex:g[1].position=p.POSITION_SUBSEQUENT),(cr||tr)&&(fe.properties.mode==="author-only"&&(g[1].position=p.POSITION_FIRST),X[je]!=fe.properties.noteIndex&&(g[1]["first-container-reference-note-number"]=X[je],this.registry.registry[g[0].id]&&(this.registry.registry[g[0].id]["first-container-reference-note-number"]=X[je])),ye[ve]!=fe.properties.noteIndex&&(g[1]["first-reference-note-number"]=ye[ve],this.registry.registry[g[0].id]&&(this.registry.registry[g[0].id]["first-reference-note-number"]=ye[ve])))}if(fe.properties.noteIndex){var Vu=parseInt(fe.properties.noteIndex,10)-parseInt(_e[je],10);g[1].position!==p.POSITION_FIRST&&Vu<=this.citation.opt["near-note-distance"]&&(g[1]["near-note"]=!0),_e[je]=fe.properties.noteIndex}else g[1].position!==p.POSITION_FIRST&&(g[1]["near-note"]=!0);if(fe.citationID!=r.citationID)for(m=0,v=p.POSITION_TEST_VARS.length;m<v;m+=1){var zr=p.POSITION_TEST_VARS[m];g[1][zr]!==Re[zr]&&(this.registry.registry[g[0].id]&&zr==="first-reference-note-number"&&(G[this.registry.registry[g[0].id].ambig]=!0,this.tmp.taintedItemIDs[g[0].id]=!0),this.tmp.taintedCitationIDs[fe.citationID]=!0)}this.sys.variableWrapper&&(g[1].index=fe.properties.index,g[1].noteIndex=fe.properties.noteIndex)}}}if(this.opt.citation_number_sort&&Q&&Q.length>1&&this.citation_sort.tokens.length>0&&!r.properties.unsorted){for(var o=0,l=Q.length;o<l;o+=1)Q[o][1].sortkeys=p.getSortKeys.call(this,Q[o][0],"citation_sort");Q.sort(this.citation.srt.compareCompositeKeys)}for(var d in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(d)&&(Pe=this.registry.citationreg.citationsByItemId[d],Pe))for(var o=0,l=Pe.length;o<l;o+=1)this.tmp.taintedCitationIDs[Pe[o].citationID]=!0;var hi=[];if(i===p.PREVIEW){this.debug&&p.debug("****** start run processor *********");try{hi=this.process_CitationCluster.call(this,r.sortedItems,r)}catch(Ma){p.error("Error running CSL processor for preview: "+Ma)}this.debug&&(p.debug("****** end run processor *********"),p.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=I,this.registry.citationreg.citationById={};for(var o=0,l=I.length;o<l;o+=1)this.registry.citationreg.citationById[I[o].citationID]=I[o];this.debug&&p.debug("****** start final update *********");for(var ul=[],o=0,l=D.length;o<l;o+=1)ul.push(""+D[o].id);this.updateItems(ul,null,null,!0),this.debug&&p.debug("****** end final update *********");for(var d in S)S.hasOwnProperty(d)&&(this.registry.registry[d].disambig=S[d]);this.debug&&p.debug("****** end state restore *********")}else{for(var Cn in G)this.disambiguate.run(Cn,r);var mi;for(var d in this.tmp.taintedCitationIDs)if(d!=r.citationID){var hr=this.registry.citationreg.citationById[d];if(!hr.properties.unsorted){for(var o=0,l=hr.sortedItems.length;o<l;o+=1)hr.sortedItems[o][1].sortkeys=p.getSortKeys.call(this,hr.sortedItems[o][0],"citation_sort");hr.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=hr.properties.index,this.tmp.citation_note_index=hr.properties.noteIndex,this.tmp.citation_id=""+hr.citationID,mi=[],mi.push(hr.properties.index),mi.push(this.process_CitationCluster.call(this,hr.sortedItems,hr)),mi.push(hr.citationID),hi.push(mi)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=r.properties.index,this.tmp.citation_note_index=r.properties.noteIndex,this.tmp.citation_id=""+r.citationID,mi=[],mi.push(t.length),mi.push(this.process_CitationCluster.call(this,Q,r)),mi.push(r.citationID),hi.push(mi),hi.sort(function(Ma,gn){return Ma[0]>gn[0]?1:Ma[0]<gn[0]?-1:0})}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,hi]};p.Engine.prototype.process_CitationCluster=function(r,t){var e="";if(t&&t.properties&&t.properties.mode==="composite"){t.properties.mode="author-only";var i=p.getCitationCluster.call(this,r,t);t.properties.mode="suppress-author";var n="";t.properties.infix&&(this.output.append(t.properties.infix),n=this.output.string(this,this.output.queue),typeof n=="object"&&(n=n.join("")));var a=p.getCitationCluster.call(this,r,t);t.properties.mode="composite",i&&n&&p.SWAPPING_PUNCTUATION.concat(["’","'"]).indexOf(n[0])>-1&&(i+=n,n=!1),e=[i,n,a].filter(function(s){return s}).join(" ")}else e=p.getCitationCluster.call(this,r,t);return e};p.Engine.prototype.makeCitationCluster=function(r){var t,e,f,i,n,a,s;for(t=[],n=r.length,i=0;i<n;i+=1){a={};for(var o in r[i])a[o]=r[i][o];if(s=this.retrieveItem(""+a.id),this.opt.development_extensions.locator_label_parse&&a.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(s.type)===-1&&(!a.label||a.label==="page")){var l=p.LOCATOR_LABELS_REGEXP.exec(a.locator);if(l){var u=p.LOCATOR_LABELS_MAP[l[2]];this.getTerm(u)&&(a.label=u,a.locator=l[3])}}a.locator&&(a.locator=(""+a.locator).replace(/\s+$/,"")),e=[s,a],t.push(e)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(t),t&&t.length>1&&this.citation_sort.tokens.length>0){for(n=t.length,i=0;i<n;i+=1)t[i][1].sortkeys=p.getSortKeys.call(this,t[i][0],"citation_sort");t.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_errors=[];var f=p.getCitationCluster.call(this,t);return f};p.getAmbiguousCite=function(r,t,e,i){var c,n=this.tmp.group_context.tip,a={term_intended:n.term_intended,variable_attempt:n.variable_attempt,variable_success:n.variable_success,output_tip:n.output_tip,label_form:n.label_form,non_parallel:n.non_parallel,parallel_last:n.parallel_last,parallel_first:n.parallel_first,parallel_last_override:n.parallel_last_override,parallel_delimiter_override:n.parallel_delimiter_override,parallel_delimiter_override_on_suppress:n.parallel_delimiter_override_on_suppress,condition:n.condition,force_suppress:n.force_suppress,done_vars:n.done_vars.slice()};t?this.tmp.disambig_request=t:this.tmp.disambig_request=!1;var s={position:p.POSITION_SUBSEQUENT,"near-note":!0};i&&(s.locator=i.locator,s.label=i.label),this.registry.registry[r.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[r.id]&&this.registry.citationreg.citationsByItemId[r.id].length&&e&&this.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(s["first-reference-note-number"]=this.registry.registry[r.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var o=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,p.getCite.call(this,r,s,null,!1);for(var l=0,u=this.output.queue.length;l<u;l+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[l]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var f=0,h=this.output.queue.length;f<h;f+=1)this.output.adjust.upward(this.output.queue[f]),this.output.adjust.leftward(this.output.queue[f]),this.output.adjust.downward(this.output.queue[f]),this.output.adjust.fix(this.output.queue[f]);var c=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=o,this.tmp.group_context.replace(a),c};p.getSpliceDelimiter=function(r,t,e){if(this.citation.opt["after-collapse-delimiter"]!==void 0)r?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:t&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:!t&&!this.tmp.have_collapsed&&this.citation.opt.collapse!=="year-suffix"?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:this.tmp.splice_delimiter=this.citation.opt.layout_delimiter;else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&this.opt.xclass==="in-text"&&this.opt.update_mode!==p.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[e-1]){var i=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[e-1]];i&&i.delimiter&&(this.tmp.splice_delimiter=i.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter};p.getCitationCluster=function(r,t){var e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D="";this.output.checkNestedBrace=new p.checkNestedBrace(this),t&&(x=t.citationID,A=t.properties.mode==="author-only"?!!t.properties.mode:!1,this.opt.xclass!=="note"&&(I=t.properties.mode==="suppress-author"?!!t.properties.mode:!1),t.properties.prefix&&(D=p.checkPrefixSpaceAppend(this,t.properties.prefix))),r=r||[],this.tmp.last_primary_names_string=!1,$=p.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",e="",i=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var S=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+D),O=!1;if(this.citation.opt.suppressTrailingPunctuation&&(O=!0),x&&this.registry.citationreg.citationById[x].properties["suppress-trailing-punctuation"]&&(O=!0),this.opt.xclass==="note"){for(var H=[],B=!1,V=!1,K=[],Q=0,G=r.length;Q<G;Q+=1){var q=r[Q][0].type,W=r[Q][0].title,ne=r[Q][1].position,Z=r[Q][0].id;W&&q==="legal_case"&&Z!==V&&ne&&((W!==B||H.length===0)&&(K=[],H.push(K)),K.push(r[Q][1])),B=W,V=Z}for(Q=0,G=H.length;Q<G;Q+=1)if(K=H[Q],!(K.length<2)){var oe=K.slice(-1)[0].locator;if(oe)for(var ie=0,ae=K.length-1;ie<ae;ie+=1)K[ie].locator&&(oe=!1);oe&&(K[0].locator=oe,delete K.slice(-1)[0].locator,K[0].label=K.slice(-1)[0].label,K.slice(-1)[0].label&&delete K.slice(-1)[0].label)}}for(n=[],a=r.length,r[0]&&r[0][1]&&(A?(delete r[0][1]["suppress-author"],r[0][1]["author-only"]=!0):I&&(delete r[0][1]["author-only"],r[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(r),s=0;s<a;s+=1){this.tmp.cite_index=s,m=r[s][0],o=r[s][1],o=p.parseLocator.call(this,o),l=this.tmp.have_collapsed;var he=!1;if(s>0&&r[s-1][1]&&(he=!!r[s-1][1].locator),u={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var Ce=this.output;this.output=new p.Output.Queue(this),this.output.adjust=new p.Output.Queue.adjust,p.getAmbiguousCite.call(this,m,null,!1,o),this.output=Ce}if(this.tmp.in_cite_predecessor=!1,s>0?p.getCite.call(this,m,o,""+r[s-1][0].id,!0):(this.tmp.term_predecessor=!1,p.getCite.call(this,m,o,null,!0)),this.tmp.cite_renders_content||(w={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+m.id,citationItems_pos:s,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(w)),u.splice_delimiter=p.getSpliceDelimiter.call(this,he,l,s),o&&o["author-only"]&&(this.tmp.suppress_decorations=!0),s>0){g=r[s-1][1];var ke=g.suffix&&[";",".",","].indexOf(g.suffix.slice(-1))>-1,Te=!g.suffix&&o.prefix&&[";",".",","].indexOf(o.prefix.slice(0,1))>-1;if(ke||Te){var Ae=u.splice_delimiter.indexOf(" ");Ae>-1&&!Te?u.splice_delimiter=u.splice_delimiter.slice(Ae):u.splice_delimiter=""}}if(u.suppress_decorations=this.tmp.suppress_decorations,u.have_collapsed=this.tmp.have_collapsed,n.push(u),o["author-only"])break}c=this.output.queue.slice();var Pe="";t&&(Pe=p.checkSuffixSpacePrepend(this,t.properties.suffix));var ye=this.citation.opt.layout_suffix,_e=this.tmp.cite_locales[this.tmp.cite_locales.length-1];_e&&this.tmp.cite_affixes[this.tmp.area][_e]&&this.tmp.cite_affixes[this.tmp.area][_e].suffix&&(ye=this.tmp.cite_affixes[this.tmp.area][_e].suffix),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(ye.slice(0,1))>-1&&(ye=ye.slice(0,1)),ye=this.output.checkNestedBrace.update(Pe+ye);for(var Q=0,G=this.output.queue.length;Q<G;Q+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[Q]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&this.tmp.area==="citation"||(O||(this.output.queue[this.output.queue.length-1].strings.suffix=ye),this.output.queue[0].strings.prefix=S)),this.opt.development_extensions.clean_up_csl_flaws)for(var ie=0,ae=this.output.queue.length;ie<ae;ie+=1)this.output.adjust.upward(this.output.queue[ie]),this.output.adjust.leftward(this.output.queue[ie]),this.output.adjust.downward(this.output.queue[ie]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[ie]);for(s=0,a=c.length;s<a;s+=1){var X=[];if(this.output.queue=[c[s]],this.tmp.suppress_decorations=n[s].suppress_decorations,this.tmp.splice_delimiter=n[s].splice_delimiter,c[s].parallel_delimiter&&(this.tmp.splice_delimiter=c[s].parallel_delimiter),this.tmp.have_collapsed=n[s].have_collapsed,f=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,typeof f=="string")return this.tmp.suppress_decorations=!1,f||(this.opt.development_extensions.throw_on_empty?p.error("Citation would render no content"):f="[NO_PRINTED_FORM]"),f;if(typeof f=="object"&&f.length===0&&!o["suppress-author"]){if(s===0){var fe="[CSL STYLE ERROR: reference with no printed form.]",te=s===0?$(this.citation.opt.layout_prefix):"",ve=s===c.length-1?$(this.citation.opt.layout_suffix):"";f.push(te+fe+ve)}else if(s===c.length-1){var je=i[i.length-1];typeof je=="string"?i[i.length-1]+=$(this.citation.opt.layout_suffix):typeof je=="object"&&(je.strings.suffix+=$(this.citation.opt.layout_suffix))}}if(X.length&&typeof f[0]=="string"){f.reverse();var Y=f.pop();Y&&Y.slice(0,1)===","?X.push(Y):typeof X.slice(-1)[0]=="string"&&X.slice(-1)[0].slice(-1)===","?X.push(" "+Y):Y&&X.push($(this.tmp.splice_delimiter)+Y)}else f.reverse(),h=f.pop(),typeof h<"u"&&(X.length&&typeof X[X.length-1]=="string"&&(X[X.length-1]+=h.successor_prefix),X.push(h));for(v=f.length,d=0;d<v;d+=1){if(b=f[d],typeof b=="string"){X.push($(this.tmp.splice_delimiter)+b);continue}h=f.pop(),typeof h<"u"&&X.push(h)}X.length===0&&r[s][1]["suppress-author"],X.length>1&&typeof X[0]!="string"&&(X=[this.output.renderBlobs(X)]),X.length&&(typeof X[0]=="string"?s>0&&(X[0]=$(this.tmp.splice_delimiter)+X[0]):s>0?X[0].splice_prefix=this.tmp.splice_delimiter:X[0].splice_prefix=""),i=i.concat(X)}if(e+=this.output.renderBlobs(i),e&&!this.tmp.suppress_decorations)for(a=this.citation.opt.layout_decorations.length,s=0;s<a;s+=1)u=this.citation.opt.layout_decorations[s],u[1]!=="normal"&&(!o||!o["author-only"])&&(e=this.fun.decorate[u[0]][u[1]](this,e));return this.tmp.suppress_decorations=!1,e||(this.opt.development_extensions.throw_on_empty?p.error("Citation would render no content"):e="[NO_PRINTED_FORM]"),e};p.getCite=function(r,t,e,i){var n,a,s=this.tmp.area;for(t&&t["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=e,p.citeStart.call(this,r,t,i),n=0,this.tmp.name_node={},this.nameOutput=new p.NameOutput(this,r,t);n<this[this.tmp.area].tokens.length;)n=p.tokenExec.call(this,this[this.tmp.area].tokens[n],r,t);return p.citeEnd.call(this,r,t),!this.tmp.cite_renders_content&&!this.tmp.just_looking&&this.tmp.area==="bibliography"&&(a={index:this.tmp.bibliography_pos,itemID:""+r.id,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(a)),this.tmp.area=s,""+r.id};p.citeStart=function(r,t,e){if(this.tmp.lang_array=[],r.language){var i=r.language.match(/^([a-zA-Z]+).*/);i&&this.tmp.lang_array.push(i[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),e||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="",this.tmp.area==="citation"&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[r.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[r.id].disambig,this.tmp.disambig_settings=this.registry.registry[r.id].disambig):this.tmp.disambig_settings=new p.AmbigConfig,this.tmp.area!=="citation"){if(!this.registry.registry[r.id])this.tmp.disambig_restore=new p.AmbigConfig;else if(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[r.id].disambig),this.tmp.area==="bibliography"&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[r.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[r.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[r.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[r.id].disambig.givens.slice();for(var n=0,a=this.tmp.disambig_settings.givens.length;n<a;n+=1)this.tmp.disambig_settings.givens[n]=this.registry.registry[r.id].disambig.givens[n].slice();for(var n=0,a=this.tmp.disambig_request.givens.length;n<a;n+=1)this.tmp.disambig_request.givens[n]=this.registry.registry[r.id].disambig.givens[n].slice()}}this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||(!t||t.parallel==="first"||!t.parallel)&&(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&t&&!t.position&&this.registry.registry[r.id]&&(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[r.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0};p.citeEnd=function(r,t){if(this.tmp.disambig_restore&&this.registry.registry[r.id]){this.registry.registry[r.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[r.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var e=0,i=this.registry.registry[r.id].disambig.givens.length;e<i;e+=1)this.registry.registry[r.id].disambig.givens[e]=this.tmp.disambig_restore.givens[e].slice()}if(this.tmp.disambig_restore=!1,t&&t.suffix?this.tmp.last_suffix_used=t.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){for(var n=[],e=this.tmp.issued_date.list.length-1;e>this.tmp.issued_date.pos;e+=-1)n.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),e=n.length-1;e>-1;e+=-1)this.tmp.issued_date.list.push(n.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1};p.Engine.prototype.makeBibliography=function(r){var t,e,i,n,a,s,o,l,u;if(t=!1,!r&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(r={exclude:[]},this.bibliography.opt.exclude_types)for(var f in this.bibliography.opt.exclude_types){var h=this.bibliography.opt.exclude_types[f];r.exclude.push({field:"type",value:h})}if(this.bibliography.opt.exclude_with_fields)for(var f in this.bibliography.opt.exclude_with_fields){var c=this.bibliography.opt.exclude_with_fields[f];r.exclude.push({field:c,value:!0})}}if(!this.bibliography.tokens.length)return!1;if(typeof r=="string"&&(this.opt.citation_number_slug=r,r=!1),t){for(a=this.bibliography.tokens.length,s=0;s<a;s+=1)o=this.bibliography.tokens[s],p.debug("bibtok: "+o.name);for(p.debug("---"),a=this.citation.tokens.length,s=0;s<a;s+=1)this.citation.tokens[s],p.debug("cittok: "+o.name);for(p.debug("---"),a=this.bibliography_sort.tokens.length,s=0;s<a;s+=1)this.bibliography_sort.tokens[s],p.debug("bibsorttok: "+o.name)}e=p.getBibliographyEntries.call(this,r),l=e[0],u=e[1];var m=e[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:l,bibliography_errors:this.tmp.bibliography_errors.slice(),done:m},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),a=this.registry.reflist.length,s=0;s<a;s+=1)n=this.registry.reflist[s],n.offset>i.maxoffset&&(i.maxoffset=n.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,u]};p.getBibliographyEntries=function(r){var t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A;t=[],w=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,r&&r.page_start&&r.page_length?e=this.registry.getSortedIds():e=this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0;function I(q,W){return q===W}function D(q,W){for(f=W.length,h=0;h<f;h+=1)if(I(q,W[h]))return!0;return!1}function S(q,W){return typeof q=="boolean"||!q?q?!!W:!W:typeof W=="string"?I(q,W):W?D(q,W):!1}g={};var O;if(r&&r.page_start&&r.page_length&&(O=0,r.page_start!==!0))for(v=0,d=e.length;v<d&&(g[e[v]]=!0,r.page_start!=e[v]);v+=1);var H=[],B={};for(this.tmp.container_item_count={},e=e.filter(q=>{var W=q;return q.legislation_id?B[q.legislation_id]?W=!1:B[q.legislation_id]=!0:q.container_id&&(this.tmp.container_item_count[q.container_id]||(this.tmp.container_item_count[q.container_id]=0),this.tmp.container_item_count[q.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(q.type)>-1&&(B[q.container_id]?W=!1:B[q.container_id]=!0)),W}),this.tmp.container_item_pos={},v=0,d=e.length;v<d;v+=1){if(r&&r.page_start&&r.page_length){if(g[e[v]])continue;if(l=this.refetchItem(e[v]),O===r.page_length)break}else if(l=e[v],g[l.id])continue;if(r){if(i=!0,r.include){for(i=!1,x=0,A=r.include.length;x<A;x+=1)if(u=r.include[x],S(u.value,l[u.field])){i=!0;break}}else if(r.exclude){for(n=!1,x=0,A=r.exclude.length;x<A;x+=1)if(u=r.exclude[x],S(u.value,l[u.field])){n=!0;break}n&&(i=!1)}else if(r.select){for(i=!1,a=!0,x=0,A=r.select.length;x<A;x+=1)u=r.select[x],S(u.value,l[u.field])||(a=!1);a&&(i=!0)}if(r.quash){for(a=!0,x=0,A=r.quash.length;x<A;x+=1)u=r.quash[x],S(u.value,l[u.field])||(a=!1);a&&(i=!1)}if(!i)continue}if(l.container_id&&(this.tmp.container_item_pos[l.container_id]||(this.tmp.container_item_pos[l.container_id]=0),this.tmp.container_item_pos[l.container_id]++),s=new p.Token("group",p.START),s.decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",s),l.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=l.system_id:this.output.current.value().system_id=l.id,m=[],this.registry.registry[l.id].master&&!(r&&r.page_start&&r.page_length)){$=[[l,{id:l.id}]],b=this.registry.registry[l.id].siblings;for(var x=0,A=b.length;x<A;x++)$.push([this.refetchItem(b[x]),{id:b[x]}]);for(this.parallel.StartCitation($),this.registry.registry[l.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[l.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,x=0,A=$.length;x<A;x+=1)x<$.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,m.push(""+p.getCite.call(this,$[x][0],$[x][1])),this.tmp.cite_index++,g[$[x][0].id]=!0}else this.registry.registry[l.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,m.push(""+p.getCite.call(this,l)),r&&r.page_start&&r.page_length&&(O+=1));for(w.push(""),this.tmp.bibliography_pos+=1,H.push(m),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(this.output.queue[0].blobs[0].blobs[0].strings?c=this.output.queue[0].blobs[0].blobs:c=this.output.queue[0].blobs,c[0].strings.prefix=this.bibliography.opt.layout_prefix+c[0].strings.prefix),x=0,A=this.output.queue.length;x<A;x+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[x]);for(x=0,A=this.output.queue.length;x<A;x+=1)this.output.adjust.upward(this.output.queue[x]),this.output.adjust.leftward(this.output.queue[x]),this.output.adjust.downward(this.output.queue[x],!0),this.output.adjust.fix(this.output.queue[x]);if(o=this.output.string(this,this.output.queue)[0],!o&&this.opt.update_mode===p.NUMERIC){var V=t.length+1+". [CSL STYLE ERROR: reference with no printed form.]";o=p.Output.Formats[this.opt.mode]["@bibliography/entry"](this,V)}o&&t.push(o)}var K=!1;if(r&&r.page_start&&r.page_length){var Q=e.slice(-1)[0],G=H.slice(-1)[0];(!Q||!G||Q==G)&&(K=!0)}return this.tmp.disambig_override=!1,[H,t,K]};p.Engine.prototype.setCitationId=function(r,t){var e,i,n;if(e=!1,!r.citationID||t){for(i=Math.floor(Math.random()*1e14);;){if(n=0,this.registry.citationreg.citationById[i])!n&&i<5e13?n=1:n=-1;else{r.citationID="a"+i.toString(32);break}n===1?i+=1:i+=-1}e=""+i}return this.registry.citationreg.citationById[r.citationID]=r,e};p.Engine.prototype.rebuildProcessorState=function(r,t,e){r||(r=[]),t||(t="html");for(var i={},n=[],a=0,s=r.length;a<s;a+=1)for(var o=0,l=r[a].citationItems.length;o<l;o+=1){var u=""+r[a].citationItems[o].id;i[u]||n.push(u),i[u]=!0}this.updateItems(n);var f=[],h=[],c=[],m=this.opt.mode;this.setOutputFormat(t);for(var a=0,s=r.length;a<s;a+=1){var v=this.processCitationCluster(r[a],f,h,p.ASSUME_ALL_ITEMS_REGISTERED);f.push([r[a].citationID,r[a].properties.noteIndex]);for(var o=0,l=v[1].length;o<l;o+=1){var d=v[1][o][0];c[d]=[f[d][0],f[d][1],v[1][o][1]]}}return this.updateUncitedItems(e),this.setOutputFormat(m),c};p.Engine.prototype.restoreProcessorState=function(r){var t,e,i,n,a,s,o,l,u,f;l=[],u=[],r||(r=[]);var h=[],c={};for(t=0,e=r.length;t<e;t+=1)c[r[t].citationID]&&this.setCitationId(r[t],!0),c[r[t].citationID]=!0,h.push(r[t].properties.index);var m=r.slice();for(m.sort(function(d,b){return d.properties.index<b.properties.index?-1:d.properties.index>b.properties.index?1:0}),t=0,e=m.length;t<e;t+=1)m[t].properties.index=t;for(t=0,e=m.length;t<e;t+=1){for(f=[],i=0,n=m[t].citationItems.length;i<n;i+=1)a=m[t].citationItems[i],typeof a.sortkeys>"u"&&(a.sortkeys=[]),s=this.retrieveItem(""+a.id),o=[s,a],f.push(o),m[t].citationItems[i].item=s,u.push(""+a.id);m[t].properties.unsorted||f.sort(this.citation.srt.compareCompositeKeys),m[t].sortedItems=f,this.registry.citationreg.citationById[m[t].citationID]=m[t]}for(this.updateItems(u),t=0,e=r.length;t<e;t+=1)l.push([""+r[t].citationID,r[t].properties.noteIndex]);var v=[];return r&&r.length?v=this.processCitationCluster(r[0],[],l.slice(1)):(this.registry=new p.Registry(this),this.tmp=new p.Engine.Tmp,this.disambiguate=new p.Disambiguation(this)),v};p.Engine.prototype.updateItems=function(r,t,e,i){var n=this.tmp.area,a=this.tmp.root,s=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",i||(this.tmp.loadedItemIDs={}),this.registry.init(r),e)for(var o in this.registry.ambigcites)this.registry.ambigsTouched[o]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=s,this.tmp.area=n,this.tmp.root=a,this.registry.getSortedIds()};p.Engine.prototype.updateUncitedItems=function(r,t){var e,i=this.tmp.area,n=this.tmp.root,a=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},r||(r=[]),typeof r=="object"){if(typeof r.length>"u"){e=r,r=[];for(var s in e)r.push(s)}else if(typeof r.length=="number"){e={};for(var o=0,l=r.length;o<l;o+=1)e[r[o]]=!0}}return this.registry.init(r,!0),this.registry.dopurge(e),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=a,this.tmp.area=i,this.tmp.root=n,this.registry.getSortedIds()};p.localeResolve=function(r,t){var e,i;return t||(t="en-US"),r||(r=t),e={},i=r.split(/[\-_]/),e.base=p.LANG_BASES[i[0]],typeof e.base>"u"?{base:t,best:r,bare:i[0]}:(i.length===1&&(e.generic=!0),i.length===1||i[1]==="x"?e.best=e.base.replace("_","-"):e.best=i.slice(0,2).join("-"),e.base=e.base.replace("_","-"),e.bare=i[0],e)};p.Engine.prototype.localeConfigure=function(r,t){var e;if(!(t&&this.locale[r.best])&&(r.best==="en-US"?(e=p.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(e,"en-US",r.best)):r.best!=="en-US"&&(r.base!==r.best&&(e=p.setupXml(this.sys.retrieveLocale(r.base)),this.localeSet(e,r.base,r.best)),e=p.setupXml(this.sys.retrieveLocale(r.best)),this.localeSet(e,r.best,r.best)),this.localeSet(this.cslXml,"",r.best),this.localeSet(this.cslXml,r.bare,r.best),r.base!==r.best&&this.localeSet(this.cslXml,r.base,r.best),this.localeSet(this.cslXml,r.best,r.best),typeof this.locale[r.best].terms["page-range-delimiter"]>"u"&&(["fr","pt"].indexOf(r.best.slice(0,2).toLowerCase())>-1?this.locale[r.best].terms["page-range-delimiter"]="-":this.locale[r.best].terms["page-range-delimiter"]="–"),typeof this.locale[r.best].terms["year-range-delimiter"]>"u"&&(this.locale[r.best].terms["year-range-delimiter"]="–"),typeof this.locale[r.best].terms["citation-range-delimiter"]>"u"&&(this.locale[r.best].terms["citation-range-delimiter"]="–"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var i=["default-locale","locale-sort","locale-translit","locale-translat"],n=0,a=i.length;n<a;n+=1)for(var s=0,o=this.opt[i[n]].length;s<o;s+=1)this.opt[i[n]][s]=this.opt[i[n]][s].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}};p.Engine.prototype.localeSet=function(r,t,e){var i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$;if(t=t.replace("_","-"),e=e.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(t=t.toLowerCase(),e=e.toLowerCase()),this.locale[e]||(this.locale[e]={},this.locale[e].terms={},this.locale[e].opts={},this.locale[e].opts["skip-words"]=p.SKIP_WORDS,this.locale[e].opts["leading-noise-words"]||(this.locale[e].opts["leading-noise-words"]=[]),this.locale[e].dates={},this.locale[e].ord={"1.0.1":!1,keys:{}},this.locale[e]["noun-genders"]={}),n=r.makeXml(),r.nodeNameIs(r.dataObj,"locale"))n=r.dataObj;else{a=r.getNodesByName(r.dataObj,"locale");var w=!1;for(o=0,v=r.numberofnodes(a);o<v;o+=1)if(i=a[o],!w&&r.getAttributeValue(i,"lang","xml")===t)n=i,w=!0;else{var x=r.getAttributeValue(i,"lang","xml"),A=r.getNodesByName(i,"style-options");if(x&&A&&A.length){var I=r.getAttributeValue(A[0],"jurisdiction-preference");I&&(this.locale[x]||(this.locale[x]={opts:{}}),this.locale[x].opts["jurisdiction-preference"]=I.split(/\s+/))}}}for(a=r.getNodesByName(n,"type"),g=0,$=r.numberofnodes(a);g<$;g+=1){var D=a[g],S=r.getAttributeValue(D,"name"),O=r.getAttributeValue(D,"gender");this.opt.gender[S]=O}var H=r.getNodesByName(n,"term","ordinal").length;if(H){for(var B in this.locale[e].ord.keys)delete this.locale[e].terms[B];this.locale[e].ord={"1.0.1":!1,keys:{}}}a=r.getNodesByName(n,"term");var V={"last-digit":{},"last-two-digits":{},"whole-number":{}},K=!1,Q={};for(o=0,v=r.numberofnodes(a);o<v;o+=1){if(l=a[o],f=r.getAttributeValue(l,"name"),f==="sub verbo"&&(f="sub-verbo"),f.slice(0,7)==="ordinal"){if(f==="ordinal")K=!0;else{var G=r.getAttributeValue(l,"match"),q=f.slice(8),d=r.getAttributeValue(l,"gender-form");d||(d="neuter"),G||(G="last-two-digits",q.slice(0,1)==="0"&&(G="last-digit")),q.slice(0,1)==="0"&&(q=q.slice(1)),V[G][q]||(V[G][q]={}),V[G][q][d]=f}this.locale[e].ord.keys[f]=!0}typeof this.locale[e].terms[f]>"u"&&(this.locale[e].terms[f]={}),u="long",d=!1,r.getAttributeValue(l,"form")&&(u=r.getAttributeValue(l,"form")),r.getAttributeValue(l,"gender-form")&&(d=r.getAttributeValue(l,"gender-form")),r.getAttributeValue(l,"gender")&&(this.locale[e]["noun-genders"][f]=r.getAttributeValue(l,"gender")),d?(this.locale[e].terms[f][d]={},this.locale[e].terms[f][d][u]=[],b=this.locale[e].terms[f][d],Q[f]=!0):(this.locale[e].terms[f][u]=[],b=this.locale[e].terms[f]),r.numberofnodes(r.getNodesByName(l,"multiple"))?(b[u][0]=r.getNodeValue(l,"single"),b[u][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),b[u][1]=r.getNodeValue(l,"multiple"),b[u][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(b[u]=r.getNodeValue(l),b[u].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[e].terms.supplement||(this.locale[e].terms.supplement={}),this.locale[e].terms.supplement.long||(this.locale[e].terms.supplement.long=["supplement","supplements"]),K){for(var W in Q){var ne={},Z=0;for(var oe in this.locale[e].terms[W])["masculine","feminine"].indexOf(oe)>-1?ne[oe]=this.locale[e].terms[W][oe]:Z+=1;if(!Z){if(ne.feminine)for(var oe in ne.feminine)this.locale[e].terms[W][oe]=ne.feminine[oe];else if(ne.masculine)for(var oe in ne.masculine)this.locale[e].terms[W][oe]=ne.masculine[oe]}}this.locale[e].ord["1.0.1"]=V}for(f in this.locale[e].terms)for(g=0,$=2;g<$;g+=1)if(d=p.GENDERS[g],this.locale[e].terms[f][d])for(u in this.locale[e].terms[f])this.locale[e].terms[f][d][u]||(this.locale[e].terms[f][d][u]=this.locale[e].terms[f][u]);for(a=r.getNodesByName(n,"style-options"),o=0,v=r.numberofnodes(a);o<v;o+=1){h=a[o],s=r.attributes(h);for(m in s)if(s.hasOwnProperty(m)){if(m==="@punctuation-in-quote"||m==="@limit-day-ordinals-to-day-1")s[m]==="true"?this.locale[e].opts[m.slice(1)]=!0:this.locale[e].opts[m.slice(1)]=!1;else if(m==="@jurisdiction-preference"){var ie=s[m].split(/\s+/);this.locale[e].opts[m.slice(1)]=ie}else if(m==="@skip-words"){var ae=s[m].split(/\s*,\s*/);this.locale[e].opts[m.slice(1)]=ae}else if(m==="@leading-noise-words"){var he=s[m].split(/\s*,\s*/);this.locale[e].opts["leading-noise-words"]=he}else if(m==="@name-as-sort-order"){this.locale[e].opts["name-as-sort-order"]={};for(var Ce=s[m].split(/\s+/),g=0,$=Ce.length;g<$;g+=1)this.locale[e].opts["name-as-sort-order"][Ce[g]]=!0}else if(m==="@name-as-reverse-order"){this.locale[e].opts["name-as-reverse-order"]={};for(var Ce=s[m].split(/\s+/),g=0,$=Ce.length;g<$;g+=1)this.locale[e].opts["name-as-reverse-order"][Ce[g]]=!0}else if(m==="@name-never-short"){this.locale[e].opts["name-never-short"]={};for(var Ce=s[m].split(/\s+/),g=0,$=Ce.length;g<$;g+=1)this.locale[e].opts["name-never-short"][Ce[g]]=!0}}}for(a=r.getNodesByName(n,"date"),o=0,v=r.numberofnodes(a);o<v;o+=1){var c=a[o];this.locale[e].dates[r.getAttributeValue(c,"form")]=c}p.SET_COURT_CLASSES(this,e,r,n)};p.getLocaleNames=function(r,t){var e=p.setupXml(r);function i(h,c){var m=["base","best"];if(c)for(var v=p.localeResolve(c),d=0,b=m.length;d<b;d++)v[m[d]]&&h.indexOf(v[m[d]])===-1&&h.push(v[m[d]])}var n=["en-US"];function a(h){for(var c=e.getNodesByName(e.dataObj,h),m=0,v=c.length;m<v;m++){var d=e.getAttributeValue(c[m],"locale");if(d){d=d.split(/ +/);for(var b=0,g=d.length;b<g;b++)this.extendLocaleList(n,d[b])}}}i(n,t);var s=e.getNodesByName(e.dataObj,"style")[0],o=e.getAttributeValue(s,"default-locale");i(n,o);for(var l=["layout","if","else-if","condition"],u=0,f=l.length;u<f;u++)a(e);return n};p.Node={};p.Node.bibliography={build:function(r,t){if(this.tokentype===p.START){r.build.area="bibliography",r.build.root="bibliography",r.build.extension="";var e=function(i){i.tmp.area="bibliography",i.tmp.root="bibliography",i.tmp.extension=""};this.execs.push(e)}t.push(this)}};p.Node.choose={build:function(r,t){var e;this.tokentype===p.START&&(e=function(i){i.tmp.jump.push(void 0,p.LITERAL)}),this.tokentype===p.END&&(e=function(i){i.tmp.jump.pop()}),this.execs.push(e),t.push(this)},configure:function(r,t){this.tokentype===p.END?(r.configure.fail.push(t),r.configure.succeed.push(t)):(r.configure.fail.pop(),r.configure.succeed.pop())}};p.Node.citation={build:function(r,t){if(this.tokentype===p.START){r.build.area="citation",r.build.root="citation",r.build.extension="";var e=function(n){n.tmp.area="citation",n.tmp.root="citation",n.tmp.extension=""};this.execs.push(e)}if(this.tokentype===p.END){if(r.opt.grouped_sort=r.opt.xclass==="in-text"&&r.citation.opt.collapse&&r.citation.opt.collapse.length||r.citation.opt.cite_group_delimiter&&r.citation.opt.cite_group_delimiter.length&&r.opt.update_mode!==p.POSITION&&r.opt.update_mode!==p.NUMERIC,r.opt.grouped_sort&&r.citation_sort.opt.sort_directions.length){var i=r.citation_sort.opt.sort_directions[0].slice();r.citation_sort.opt.sort_directions=[i].concat(r.citation_sort.opt.sort_directions)}r.citation.srt=new p.Registry.Comparifier(r,"citation_sort")}t.push(this)}};p.Node["#comment"]={build:function(){}};p.Node.date={build:function(r,t){var e,i,n,a,s,o,l,u,f,h;(this.tokentype===p.START||this.tokentype===p.SINGLETON)&&(r.dateput.string(r,r.dateput.queue),r.tmp.date_token=p.Util.cloneToken(this),r.tmp.date_token.strings.prefix="",r.tmp.date_token.strings.suffix="",r.dateput.openLevel(this),r.build.date_parts=[],r.build.date_variables=this.variables,r.build.extension||p.Util.substituteStart.call(this,r,t),r.build.extension?e=p.dateMacroAsSortKey:e=function(c,m,v){var d;if(c.tmp.element_rendered_ok=!1,c.tmp.donesies=[],c.tmp.dateparts=[],d=[],this.variables.length&&!(c.tmp.just_looking&&this.variables[0]==="accessed")){for(i=m[this.variables[0]],typeof i>"u"&&(i={"date-parts":[[0]]},c.opt.development_extensions.locator_date_and_revision&&v&&this.variables[0]==="locator-date"&&v["locator-date"]&&(i=v["locator-date"])),c.tmp.date_object=i,n=this.dateparts.length,a=0;a<n;a+=1)s=this.dateparts[a],(typeof c.tmp.date_object[s+"_end"]<"u"||s==="month"&&typeof c.tmp.date_object.season_end<"u")&&d.push(s);for(o=[],l=["year","month","day"],n=l.length,a=0;a<n;a+=1)d.indexOf(l[a])>-1&&o.push(l[a]);for(d=o.slice(),u=2,n=d.length,a=0;a<n;a+=1)if(s=d[a],f=c.tmp.date_object[s],h=c.tmp.date_object[s+"_end"],f!==h){u=a;break}c.tmp.date_collapse_at=d.slice(u)}else c.tmp.date_object=!1},this.execs.push(e),e=function(c,m){if(m[this.variables[0]]&&(c.output.startTag("date",this),this.variables[0]==="issued"&&(m.type==="legal_case"||m.type==="legislation")&&c.opt.disable_duplicate_year_suppression.indexOf(m.country)===-1&&!c.tmp.extension&&""+m["collection-number"]==""+c.tmp.date_object.year&&this.dateparts.length===1&&this.dateparts[0]==="year")){for(var v in c.tmp.date_object)if(c.tmp.date_object.hasOwnProperty(v)&&v.slice(0,4)==="year"){c.tmp.issued_date={};var d=c.output.current.mystack.slice(-2)[0].blobs;c.tmp.issued_date.list=d,c.tmp.issued_date.pos=d.length-1}}},this.execs.push(e)),!r.build.extension&&(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(e=function(c,m){m[this.variables[0]]&&c.output.endTag()},this.execs.push(e)),t.push(this),(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(r.build.extension||p.Util.substituteEnd.call(this,r,t))}};p.Node["date-part"]={build:function(r,t){var e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I;this.strings.form||(this.strings.form="long"),r.build.date_parts.push(this.strings.name);var D=r.build.date_variables[0];function S(O,H,B){if(!B)return B;if(B=""+p.Util.Dates[this.strings.name][O](r,B,H,this.default_locale),this.strings.name==="month"){if(r.tmp.strip_periods)B=B.replace(/\./g,"");else for(var V=0,K=this.decorations.length;V<K;V+=1)if(this.decorations[V][0]==="@strip-periods"&&this.decorations[V][1]==="true"){B=B.replace(/\./g,"");break}}return B}e=function(O,H){if(O.tmp.date_object)O.tmp.probably_rendered_something=!0;else return;var B="";if(a=!0,s="",o="",O.tmp.donesies.push(this.strings.name),O.tmp.date_object.literal&&this.strings.name==="year"&&(B=O.tmp.date_object.literal,O.output.append(O.tmp.date_object.literal,this)),O.tmp.date_object&&(s=O.tmp.date_object[this.strings.name],o=O.tmp.date_object[this.strings.name+"_end"]),this.strings.name==="year"&&s===0&&!O.tmp.suppress_decorations&&(s=!1),l=!O.tmp.suppress_decorations,u=O.tmp.have_collapsed,f=O[O.tmp.area].opt.collapse==="year-suffix"||O[O.tmp.area].opt.collapse==="year-suffix-ranged",h=O.opt["disambiguate-add-year-suffix"],l&&h&&f&&(O.tmp.years_used.push(s),c=O.tmp.last_years_used.length>=O.tmp.years_used.length,c&&u&&O.tmp.last_years_used[O.tmp.years_used.length-1]===s&&(s=!1)),typeof s<"u"){m=!1,v=!1,this.strings.name==="year"&&(parseInt(s,10)<500&&parseInt(s,10)>0&&(v=O.getTerm("ad")),parseInt(s,10)<0&&(m=O.getTerm("bc"),s=parseInt(s,10)*-1),o&&(parseInt(o,10)<500&&parseInt(o,10)>0&&O.getTerm("ad"),parseInt(o,10)<0&&(O.getTerm("bc"),o=parseInt(o,10)*-1)));for(var V=""+O.tmp.date_object.month;V.length<2;)V="0"+V;V="month-"+V;var K=O.locale[O.opt.lang]["noun-genders"][V];if(this.strings.form){var Q=this.strings.form,G=this.strings.form;this.strings.name==="day"&&Q==="ordinal"&&O.locale[O.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(s!=1&&(Q="numeric"),o!=1&&(G="numeric")),s=S.call(this,Q,K,s),o=S.call(this,G,K,o)}if(O.output.openLevel("empty"),O.tmp.date_collapse_at.length){for(d=!0,n=O.tmp.date_collapse_at.length,i=0;i<n;i+=1)if(A=O.tmp.date_collapse_at[i],O.tmp.donesies.indexOf(A)===-1){d=!1;break}if(d){if(""+o!="0"){if(O.dateput.queue.length===0&&(a=!0),O.opt["year-range-format"]&&O.opt["year-range-format"]!=="expanded"&&!O.tmp.date_object.day&&!O.tmp.date_object.month&&!O.tmp.date_object.season&&this.strings.name==="year"&&s&&o){o=O.fun.year_mangler(s+"-"+o,!0);var q=O.getTerm("year-range-delimiter");o=o.slice(o.indexOf(q)+1)}B=o,O.dateput.append(o,this),a&&(I=O.dateput.current.value().blobs[0],I&&(I.strings.prefix=""))}B=s,O.output.append(s,this),b=O.output.current.value(),I=b.blobs[b.blobs.length-1],I&&(I.strings.suffix=""),this.strings["range-delimiter"]?O.output.append(this.strings["range-delimiter"]):O.output.append(O.getTerm("year-range-delimiter"),"empty"),O.dateput.closeLevel(),g=O.dateput.current.value(),b.blobs=b.blobs.concat(g),O.dateput.string(O,O.dateput.queue),O.dateput.openLevel(O.tmp.date_token),O.tmp.date_collapse_at=[]}else B=s,O.output.append(s,this),O.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+o!="0"&&(O.dateput.queue.length===0&&(a=!0),O.dateput.openLevel("empty"),B=o,O.dateput.append(o,this),a&&(I=O.dateput.current.value().blobs[0],I&&(I.strings.prefix="")),m&&(B=m,O.dateput.append(m)),v&&(B=v,O.dateput.append(v)),O.dateput.closeLevel())}else B=s,O.output.append(s,this);m&&(B=m,O.output.append(m)),v&&(B=v,O.output.append(v)),O.output.closeLevel()}else this.strings.name==="month"&&O.tmp.date_object.season&&(s=""+O.tmp.date_object.season,s&&s.match(/^[1-4]$/)?(O.tmp.group_context.tip.variable_success=!0,B="winter",O.output.append(O.getTerm("season-0"+s),this)):s&&(B=s,O.output.append(s,this)));O.tmp.value=[],H[D]&&(s||O.tmp.have_collapsed)&&!O.opt.has_year_suffix&&this.strings.name==="year"&&!O.tmp.just_looking&&O.registry.registry[H.id]&&O.registry.registry[H.id].disambig.year_suffix!==!1&&!O.tmp.has_done_year_suffix&&(O.tmp.has_done_year_suffix=!0,B="x",w=parseInt(O.registry.registry[H.id].disambig.year_suffix,10),$=new p.NumericBlob(O,!1,w,this,H.id),this.successor_prefix=O[O.build.area].opt.layout_delimiter,this.splice_prefix=O[O.build.area].opt.layout_delimiter,x=new p.Util.Suffixator(p.SUFFIX_CHARS),$.setFormatter(x),O[O.tmp.area].opt.collapse==="year-suffix-ranged"&&($.range_prefix=O.getTerm("citation-range-delimiter")),O[O.tmp.area].opt.cite_group_delimiter?$.successor_prefix=O[O.tmp.area].opt.cite_group_delimiter:O[O.tmp.area].opt["year-suffix-delimiter"]?$.successor_prefix=O[O.tmp.area].opt["year-suffix-delimiter"]:$.successor_prefix=O[O.tmp.area].opt.layout_delimiter,$.UGLY_DELIMITER_SUPPRESS_HACK=!0,O.output.append($,"literal")),B&&!O.tmp.group_context.tip.condition&&(O.tmp.just_did_number=B.match(/[0-9]$/),O.output.current.tip.strings.suffix&&(O.tmp.just_did_number=!1))},this.execs.push(e),t.push(this)}};p.Node["else-if"]={build:function(r,t){p.Conditions.TopNode.call(this,r,t),t.push(this)},configure:function(r,t){p.Conditions.Configure.call(this,r,t)}};p.Node.else={build:function(r,t){t.push(this)},configure:function(r,t){this.tokentype===p.START&&(r.configure.fail[r.configure.fail.length-1]=t)}};p.Node["et-al"]={build:function(r,t){if(r.build.area==="citation"||r.build.area==="bibliography"){var e=function(i){i.tmp.etal_node=this,typeof this.strings.term=="string"&&(i.tmp.etal_term=this.strings.term)};this.execs.push(e)}t.push(this)}};p.Node.group={build:function(r,t,e){var i,n;if(this.realGroup=e,this.tokentype===p.START&&(p.Util.substituteStart.call(this,r,t),r.build.substitute_level.value()&&r.build.substitute_level.replace(r.build.substitute_level.value()+1),this.juris||t.push(this),i=function(c){if(c.output.startTag("group",this),this.strings.label_form_override&&(c.tmp.group_context.tip.label_form||(c.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(c.tmp.group_context.tip.label_capitalize_if_first||(c.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){c.tmp.group_context.tip.condition&&p.UPDATE_GROUP_CONTEXT_CONDITION(c,this.strings.prefix,null,this);var m=!1,v=!1;c.tmp.group_context.mystack.length&&(c.output.current.value().parent=c.tmp.group_context.tip.output_tip);var d=c.tmp.group_context.tip.label_form;d||(d=this.strings.label_form_override);var b=c.tmp.group_context.tip.label_capitalize_if_first;b||(b=this.strings.label_capitalize_if_first),c.tmp.group_context.tip.condition?(m=c.tmp.group_context.tip.condition,v=c.tmp.group_context.tip.force_suppress):this.strings.reject?m={test:this.strings.reject,not:!0}:this.strings.require&&(m={test:this.strings.require,not:!1});var g={old_term_predecessor:c.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:c.tmp.group_context.tip.variable_success,output_tip:c.output.current.tip,label_form:d,label_static:c.tmp.group_context.tip.label_static,label_capitalize_if_first:b,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:m,force_suppress:v,done_vars:c.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var $=c.tmp.group_context.tip.non_parallel;$||($={}),Object.assign($,this.non_parallel),g.non_parallel=$}if(this.parallel_first){var w=c.tmp.group_context.tip.parallel_first;w||(w={}),Object.assign(w,this.parallel_first),g.parallel_first=w}if(this.parallel_last){var x=c.tmp.group_context.tip.parallel_last;x||(x={}),Object.assign(x,this.parallel_last),g.parallel_last=x}if(c.tmp.abbrev_trimmer&&c.tmp.abbrev_trimmer.LAST_TO_FIRST&&g.parallel_last){g.parallel_first||(g.parallel_first={});for(var A in c.tmp.abbrev_trimmer.LAST_TO_FIRST)g.parallel_last[A]&&(g.parallel_first[A]=!0,delete g.parallel_last[A])}if(c.tmp.group_context.push(g),c.tmp.abbrev_trimmer&&this.parallel_last_to_first){c.tmp.abbrev_trimmer.LAST_TO_FIRST||(c.tmp.abbrev_trimmer.LAST_TO_FIRST={});for(var A in this.parallel_last_to_first)c.tmp.abbrev_trimmer.LAST_TO_FIRST[A]=!0}}},n=[],n.push(i),this.execs=n.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(r.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(i=function(c,m){if(m.publisher&&m["publisher-place"]){var v=m.publisher.split(/;\s*/),d=m["publisher-place"].split(/;\s*/);v.length>1&&v.length===d.length&&(c.publisherOutput=new p.PublisherOutput(c,this),c.publisherOutput["publisher-list"]=v,c.publisherOutput["publisher-place-list"]=d)}},this.execs.push(i))),this.juris)){var a=new p.Token("choose",p.START);p.Node.choose.build.call(a,r,t);var s=new p.Token("if",p.START);i=function(c){return function(m,v){return p.INIT_JURISDICTION_MACROS(r,m,v,c)}}(this.juris),s.tests||(s.tests=[]),s.tests.push(i),s.test=r.fun.match.any(s,r,s.tests),t.push(s);var o=new p.Token("text",p.SINGLETON);i=function(c,m,v){var d=m;v&&v["best-jurisdiction"]&&this.juris==="juris-locator"&&(d=v);var b=0;if(c.juris[d["best-jurisdiction"]][this.juris])for(;b<c.juris[d["best-jurisdiction"]][this.juris].length;)b=p.tokenExec.call(c,c.juris[d["best-jurisdiction"]][this.juris][b],m,v)},o.juris=this.juris,o.execs.push(i),t.push(o);var l=new p.Token("if",p.END);p.Node.if.build.call(l,r,t);var u=new p.Token("else",p.START);p.Node.else.build.call(u,r,t)}if(this.tokentype===p.END&&(r.build["publisher-special"]&&(r.build["publisher-special"]=!1,i=function(c){c.publisherOutput&&(c.publisherOutput.render(),c.publisherOutput=!1)},this.execs.push(i)),i=function(c,m,v){if(c.tmp.group_context.tip.condition||c.output.current.tip.strings.suffix&&(c.tmp.just_did_number=!1),c.output.endTag(),this.realGroup){var d=c.tmp.group_context.pop();if(d.parallel_delimiter_override&&(c.tmp.group_context.tip.parallel_delimiter_override=d.parallel_delimiter_override,!c.tmp.just_looking&&c.registry.registry[m.id].master&&(c.registry.registry[m.id].parallel_delimiter_override=d.parallel_delimiter_override)),d.parallel_delimiter_override_on_suppress&&(c.tmp.group_context.tip.parallel_delimiter_override_on_suppress=d.parallel_delimiter_override_on_suppress),c.tmp.area==="bibliography_sort"){var b=d.done_vars.indexOf("citation-number");this.strings.sort_direction&&b>-1&&c.tmp.group_context.length()==1&&(this.strings.sort_direction===p.DESCENDING?c.bibliography_sort.opt.citation_number_sort_direction=p.DESCENDING:c.bibliography_sort.opt.citation_number_sort_direction=p.ASCENDING,d.done_vars=d.done_vars.slice(0,b).concat(d.done_vars.slice(b+1)))}if(d.condition&&(d.force_suppress=p.EVALUATE_GROUP_CONDITION(c,d)),c.tmp.group_context.tip.condition&&(c.tmp.group_context.tip.force_suppress=d.force_suppress),!d.force_suppress&&(d.variable_success||d.term_intended&&!d.variable_attempt)){this.isJurisLocatorLabel||(c.tmp.group_context.tip.variable_success=!0);var g=c.output.current.value().blobs;if(c.output.current.value().blobs.length-1,!c.tmp.just_looking&&(d.non_parallel||d.parallel_last||d.parallel_first||d.parallel_delimiter_override||d.parallel_delimiter_override_on_suppress)){var $=c.parallel.checkRepeats(d);if($&&g&&g.pop(),c.tmp.cite_index>0&&($||!d.parallel_first&&!d.parallel_last&&!d.non_parallel)){var w=c.tmp.suppress_repeats[c.tmp.cite_index-1];$&&d.parallel_delimiter_override_on_suppress&&(w.SIBLING||w.ORPHAN)?c.output.queue.slice(-1)[0].parallel_delimiter=d.parallel_delimiter_override_on_suppress:d.parallel_delimiter_override&&w.SIBLING&&(c.output.queue.slice(-1)[0].parallel_delimiter=d.parallel_delimiter_override)}}}else{if(c.tmp.term_predecessor=d.old_term_predecessor,c.tmp.group_context.tip.variable_attempt=d.variable_attempt,d.force_suppress&&!c.tmp.group_context.tip.condition&&(c.tmp.group_context.tip.variable_attempt=!0,c.tmp.group_context.tip.variable_success=d.variable_success_parent),d.force_suppress)for(var x=0,A=d.done_vars.length;x<A;x++)for(var I=d.done_vars[x],D=0,S=c.tmp.done_vars.length;D<S;D++)c.tmp.done_vars[D]===I&&(c.tmp.done_vars=c.tmp.done_vars.slice(0,D).concat(c.tmp.done_vars.slice(D+1)));c.output.current.value().blobs&&c.output.current.value().blobs.pop()}}},this.execs.push(i),this.juris)){var f=new p.Token("else",p.END);p.Node.else.build.call(f,r,t);var h=new p.Token("choose",p.END);p.Node.choose.build.call(h,r,t)}this.tokentype===p.END&&(this.juris||t.push(this),r.build.substitute_level.value()&&r.build.substitute_level.replace(r.build.substitute_level.value()-1),p.Util.substituteEnd.call(this,r,t))}};p.Node.if={build:function(r,t){p.Conditions.TopNode.call(this,r,t),t.push(this)},configure:function(r,t){p.Conditions.Configure.call(this,r,t)}};p.Node.conditions={build:function(r){this.tokentype===p.START&&r.tmp.conditions.addMatch(this.match),this.tokentype===p.END&&r.tmp.conditions.matchCombine()}};p.Node.condition={build:function(r){if(this.tokentype===p.SINGLETON){var t=r.fun.match[this.match](this,r,this.tests);r.tmp.conditions.addTest(t)}}};p.Conditions={};p.Conditions.TopNode=function(r){var t;(this.tokentype===p.START||this.tokentype===p.SINGLETON)&&(this.locale&&(r.opt.lang=this.locale),!this.tests||!this.tests.length?r.tmp.conditions=new p.Conditions.Engine(r,this):this.test=r.fun.match[this.match](this,r,this.tests),r.build.substitute_level.value()===0&&(t=function(e){e.tmp.condition_counter++},this.execs.push(t))),(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(r.build.substitute_level.value()===0&&(t=function(e){if(e.tmp.condition_counter--,e.tmp.condition_lang_counter_arr.length>0){var i=e.tmp.condition_lang_counter_arr.slice(-1)[0];i===e.tmp.condition_counter&&(e.opt.lang=e.tmp.condition_lang_val_arr.pop(),e.tmp.condition_lang_counter_arr.pop())}this.locale_default&&(e.output.current.value().old_locale=this.locale_default,e.output.closeLevel("empty"),e.opt.lang=this.locale_default)},this.execs.push(t)),t=function(e){var i=this[e.tmp.jump.value()];return i},this.execs.push(t),this.locale_default&&(r.opt.lang=this.locale_default))};p.Conditions.Configure=function(r,t){this.tokentype===p.START?(this.fail=r.configure.fail.slice(-1)[0],this.succeed=this.next,r.configure.fail[r.configure.fail.length-1]=t):this.tokentype===p.SINGLETON?(this.fail=this.next,this.succeed=r.configure.succeed.slice(-1)[0],r.configure.fail[r.configure.fail.length-1]=t):(this.succeed=r.configure.succeed.slice(-1)[0],this.fail=this.next)};p.Conditions.Engine=function(r,t){this.token=t,this.state=r};p.Conditions.Engine.prototype.addTest=function(r){this.token.tests||(this.token.tests=[]),this.token.tests.push(r)};p.Conditions.Engine.prototype.addMatch=function(r){this.token.match=r};p.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)};p.Node.info={build:function(r){this.tokentype===p.START?r.build.skip="info":r.build.skip=!1}};p.Node.institution={build:function(r,t){if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){var e=function(i){typeof this.strings.delimiter=="string"?i.tmp.institution_delimiter=this.strings.delimiter:i.tmp.institution_delimiter=i.tmp.name_delimiter,i.inheritOpt(this,"and")==="text"?this.and_term=i.getTerm("and","long",0):i.inheritOpt(this,"and")==="symbol"?i.opt.development_extensions.expect_and_symbol_form?this.and_term=i.getTerm("and","symbol",0):this.and_term="&":i.inheritOpt(this,"and")==="none"&&(this.and_term=i.tmp.institution_delimiter),typeof this.and_term>"u"&&i.tmp.and_term&&(this.and_term=i.tmp.and_term),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof i.tmp.institution_delimiter=="string"&&(this.and_prefix_multiple=i.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),i.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=i.tmp.institution_delimiter:i.inheritOpt(this,"delimiter-precedes-last")==="never"&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},typeof this.and_term<"u"?(i.output.append(this.and_term,"empty",!0),this.and.single=i.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,i.output.append(this.and_term,"empty",!0),this.and.multiple=i.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):this.strings.delimiter!=="undefined"&&(this.and.single=new p.Blob(i.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(i.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),i.nameOutput.institution=this};this.execs.push(e)}t.push(this)},configure:function(r){[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(r.build.has_institution=!0)}};p.Node["institution-part"]={build:function(r,t){var e;this.strings.name==="long"?this.strings["if-short"]?e=function(i){i.nameOutput.institutionpart["long-with-short"]=this}:e=function(i){i.nameOutput.institutionpart.long=this}:this.strings.name==="short"&&(e=function(i){i.nameOutput.institutionpart.short=this}),this.execs.push(e),t.push(this)}};p.Node.key={build:function(r,t){t=r[r.build.root+"_sort"].tokens;var e,i=new p.Token("key",p.START);r.tmp.root=r.build.root,i.strings["et-al-min"]=r.inheritOpt(this,"et-al-min"),i.strings["et-al-use-first"]=r.inheritOpt(this,"et-al-use-first"),i.strings["et-al-use-last"]=r.inheritOpt(this,"et-al-use-last"),e=function(g){g.tmp.done_vars=[]},i.execs.push(e),e=function(g){g.output.openLevel("empty")},i.execs.push(e);var n=[];if(this.strings.sort_direction===p.DESCENDING?(n.push(1),n.push(-1)):(n.push(-1),n.push(1)),r[r.build.area].opt.sort_directions.push(n),p.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(r.build.date_key=!0),e=function(g){g.tmp.sort_key_flag=!0,g.inheritOpt(this,"et-al-min")&&(g.tmp["et-al-min"]=g.inheritOpt(this,"et-al-min")),g.inheritOpt(this,"et-al-use-first")&&(g.tmp["et-al-use-first"]=g.inheritOpt(this,"et-al-use-first")),typeof g.inheritOpt(this,"et-al-use-last")=="boolean"&&(g.tmp["et-al-use-last"]=g.inheritOpt(this,"et-al-use-last"))},i.execs.push(e),t.push(i),this.variables.length){var a=this.variables[0];if(p.NAME_VARIABLES.indexOf(a)>-1){var s=new p.Token("names",p.START);s.tokentype=p.START,s.variables=this.variables,p.Node.names.build.call(s,r,t);var o=new p.Token("name",p.SINGLETON);o.tokentype=p.SINGLETON,o.strings["name-as-sort-order"]="all",o.strings["sort-separator"]=" ",o.strings["et-al-use-last"]=r.inheritOpt(this,"et-al-use-last"),o.strings["et-al-min"]=r.inheritOpt(this,"et-al-min"),o.strings["et-al-use-first"]=r.inheritOpt(this,"et-al-use-first"),p.Node.name.build.call(o,r,t);var l=new p.Token("institution",p.SINGLETON);l.tokentype=p.SINGLETON,p.Node.institution.build.call(l,r,t);var u=new p.Token("names",p.END);u.tokentype=p.END,p.Node.names.build.call(u,r,t)}else{var f=new p.Token("text",p.SINGLETON);if(f.strings.sort_direction=this.strings.sort_direction,f.dateparts=this.dateparts,p.NUMERIC_VARIABLES.indexOf(a)>-1)a==="citation-number"?e=function(g,$){if(g.tmp.area==="bibliography_sort"&&(this.strings.sort_direction===p.DESCENDING?g.bibliography_sort.opt.citation_number_sort_direction=p.DESCENDING:g.bibliography_sort.opt.citation_number_sort_direction=p.ASCENDING),g.tmp.area==="citation_sort"&&g.bibliography_sort.tmp.citation_number_map)var w=g.bibliography_sort.tmp.citation_number_map[g.registry.registry[$.id].seq];else var w=g.registry.registry[$.id].seq;w&&(w=p.Util.padding(""+w)),g.output.append(w,this)}:e=function(g,$){var w=!1;w=$[a],w&&(w=p.Util.padding(w)),g.output.append(w,this)};else if(a==="citation-label")e=function(g,$){var w=g.getCitationLabel($);g.output.append(w,this)};else if(p.DATE_VARIABLES.indexOf(a)>-1)e=p.dateAsSortKey,f.variables=this.variables;else if(a==="title"){var h="title",c=!1,m=!1,v=!0;e=r.transform.getOutputFunction(this.variables,h,c,m,v)}else a==="court-class"?e=function(g,$,w){p.INIT_JURISDICTION_MACROS(g,$,w,"juris-main");var x=p.GET_COURT_CLASS(g,$,!0);g.output.append(x,"empty")}:e=function(g,$){var w=$[a];g.output.append(w,"empty")};f.execs.push(e),t.push(f)}}else{var d=new p.Token("text",p.SINGLETON);d.strings.sort_direction=this.strings.sort_direction,d.postponed_macro=this.postponed_macro,p.expandMacro.call(r,d,t)}var b=new p.Token("key",p.END);e=function(g){var $=g.output.string(g,g.output.queue);g.sys.normalizeUnicode&&($=g.sys.normalizeUnicode($)),$=$?$.split(" ").join(g.opt.sort_sep)+g.opt.sort_sep:"",$===""&&($=void 0),typeof $!="string"&&($=void 0),g[g[g.tmp.area].root+"_sort"].keys.push($),g.tmp.value=[]},b.execs.push(e),r.build.date_key&&(r.build.area==="citation"&&r.build.extension==="_sort"&&(r[r.build.area].opt.sort_directions.push([-1,1]),e=function(g,$){var w=g.registry.registry[$.id].disambig.year_suffix;w||(w=0);var x=p.Util.padding(""+w);g[g.tmp.area].keys.push(x)},b.execs.push(e)),r.build.date_key=!1),e=function(g){g.tmp["et-al-min"]=void 0,g.tmp["et-al-use-first"]=void 0,g.tmp["et-al-use-last"]=void 0,g.tmp.sort_key_flag=!1},b.execs.push(e),t.push(b)}};p.Node.label={build:function(r,t){if(this.strings.term){var e=function(o,l,u){var f=p.evaluateLabel(this,o,l,u);u&&this.strings.term==="locator"&&(u.section_form_override=this.strings.form),f&&(o.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(o,f,null,this),f.indexOf("%s")===-1&&(this.strings.capitalize_if_first&&!o.tmp.term_predecessor&&!(o.opt.class==="in-text"&&o.tmp.area==="citation")&&(f=p.Output.Formatters["capitalize-first"](o,f)),o.output.append(f,this))};this.execs.push(e)}else{this.strings.form||(this.strings.form="long");for(var i=r.build.names_variables[r.build.names_variables.length-1],n=r.build.name_label[r.build.name_label.length-1],a=0,s=i.length;a<s;a+=1)n[i[a]]||(n[i[a]]={});if(r.build.name_flag)for(var a=0,s=i.length;a<s;a+=1)n[i[a]].after=this;else for(var a=0,s=i.length;a<s;a+=1)n[i[a]].before=this}t.push(this)}};p.Node.layout={build:function(r,t){var e,i,n,a;function s(){r.build.area==="bibliography"&&(n=new p.Token("text",p.SINGLETON),e=function(u){if(!u.tmp.parallel_and_not_last){var f;u.tmp.cite_affixes[u.tmp.area][u.tmp.last_cite_locale]?f=u.tmp.cite_affixes[u.tmp.area][u.tmp.last_cite_locale].suffix:f=u.bibliography.opt.layout_suffix;var h=u.output.current.value();u.opt.using_display?h.blobs[h.blobs.length-1].strings.suffix=f:h.strings.suffix=f}u.bibliography.opt["second-field-align"]&&u.output.endTag("bib_other")},n.execs.push(e),t.push(n))}this.tokentype===p.START&&(this.locale_raw?r.build.current_default_locale=this.locale_raw:r.build.current_default_locale=r.opt["default-locale"],e=function(u,f,h){if(u.opt.development_extensions.apply_citation_wrapper&&u.sys.wrapCitationEntry&&!u.tmp.just_looking&&f.system_id&&u.tmp.area==="citation"){var c=new p.Token("group",p.START);c.decorations=[["@cite","entry"]],u.output.startTag("cite_entry",c),u.output.current.value().item_id=f.system_id,h&&(u.output.current.value().locator_txt=h.locator_txt,u.output.current.value().suffix_txt=h.suffix_txt)}},this.execs.push(e)),this.tokentype===p.START&&!r.tmp.cite_affixes[r.build.area]&&(e=function(u,f,h){if(u.tmp.done_vars=[],h&&h["author-only"]&&u.tmp.done_vars.push("locator"),u.opt.suppressedJurisdictions[f.country]&&f.country&&["treaty","patent"].indexOf(f.type)===-1&&u.tmp.done_vars.push("country"),!u.tmp.just_looking&&u.registry.registry[f.id]&&u.registry.registry[f.id].parallel&&u.tmp.done_vars.push("first-reference-note-number"),!u.tmp.just_looking&&u.tmp.abbrev_trimmer&&f.jurisdiction)for(var c in u.tmp.abbrev_trimmer.QUASHES[f.jurisdiction])u.tmp.done_vars.push(c);u.tmp.rendered_name=!1},this.execs.push(e),e=function(u){u.tmp.sort_key_flag=!1},this.execs.push(e),e=function(u){u.tmp.nameset_counter=0},this.execs.push(e),e=function(u,f){var h=new p.Token;u.output.openLevel(h)},this.execs.push(e),t.push(this),r.build.area==="citation"&&(i=new p.Token("text",p.SINGLETON),e=function(u,f,h){if(h&&h.prefix){var c=p.checkPrefixSpaceAppend(u,h.prefix);u.tmp.just_looking||(c=u.output.checkNestedBrace.update(c));var m=p.checkIgnorePredecessor(u,c);u.output.append(c,this,!1,m)}},i.execs.push(e),t.push(i)));var o;if(this.locale_raw&&(o=new p.Token("dummy",p.START),o.locale=this.locale_raw,o.strings.delimiter=this.strings.delimiter,o.strings.suffix=this.strings.suffix,r.tmp.cite_affixes[r.build.area]||(r.tmp.cite_affixes[r.build.area]={})),this.tokentype===p.START&&(r.build.layout_flag=!0,this.locale_raw||(r[r.tmp.area].opt.topdecor=[this.decorations],r[r.tmp.area+"_sort"].opt.topdecor=[this.decorations],r[r.build.area].opt.layout_prefix=this.strings.prefix,r[r.build.area].opt.layout_suffix=this.strings.suffix,r[r.build.area].opt.layout_delimiter=this.strings.delimiter,r[r.build.area].opt.layout_decorations=this.decorations,r.tmp.cite_affixes[r.build.area]&&(a=new p.Token("else",p.START),p.Node.else.build.call(a,r,t))),this.locale_raw)){if(r.build.layout_locale_flag)o.name="else-if",p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node["else-if"].build.call(o,r,t);else{var l=new p.Token("choose",p.START);p.Node.choose.build.call(l,r,t),o.name="if",p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node.if.build.call(o,r,t)}r.tmp.cite_affixes[r.build.area][o.locale]={},r.tmp.cite_affixes[r.build.area][o.locale].delimiter=this.strings.delimiter,r.tmp.cite_affixes[r.build.area][o.locale].suffix=this.strings.suffix}this.tokentype===p.END&&(this.locale_raw&&(s(),r.build.layout_locale_flag?(o.name="else-if",o.tokentype=p.END,p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node["else-if"].build.call(o,r,t)):(o.name="if",o.tokentype=p.END,p.Attributes["@locale-internal"].call(o,r,this.locale_raw),p.Node.if.build.call(o,r,t),r.build.layout_locale_flag=!0)),this.locale_raw||(s(),r.tmp.cite_affixes[r.build.area]&&r.build.layout_locale_flag&&(a=new p.Token("else",p.END),p.Node.else.build.call(a,r,t),a=new p.Token("choose",p.END),p.Node.choose.build.call(a,r,t)),r.build_layout_locale_flag=!0,r.build.area==="citation"&&(n=new p.Token("text",p.SINGLETON),e=function(u,f,h){if(h&&h.suffix){var c=p.checkSuffixSpacePrepend(u,h.suffix);u.tmp.just_looking||(c=u.output.checkNestedBrace.update(c)),u.output.append(c,this)}},n.execs.push(e),t.push(n)),e=function(u){u.output.closeLevel()},this.execs.push(e),e=function(u,f){u.opt.development_extensions.apply_citation_wrapper&&u.sys.wrapCitationEntry&&!u.tmp.just_looking&&f.system_id&&u.tmp.area==="citation"&&u.output.endTag()},this.execs.push(e),t.push(this),r.build.layout_flag=!1,r.build.layout_locale_flag=!1))}};p.Node.macro={build:function(){}};p.Node.alternative={build:function(r,t){if(this.tokentype===p.START){var e=new p.Token("choose",p.START);p.Node.choose.build.call(e,r,t);var i=new p.Token("if",p.START);p.Attributes["@alternative-node-internal"].call(i,r),p.Node.if.build.call(i,r,t);var n=function(a,s){if(a.tmp.oldItem=s,a.tmp.oldLang=a.opt.lang,a.tmp.abort_alternative=!0,s["language-name"]&&s["language-name-original"]){var o=JSON.parse(JSON.stringify(s));o.language=o["language-name"];var l=p.localeResolve(o.language,a.opt["default-locale"][0]);if(a.opt.multi_layout)for(var u in a.opt.multi_layout){var f=a.opt.multi_layout[u],h=!1;for(var c in f){var m=f[c];if(l.best===m.best||l.base===m.base||l.bare===m.bare){h=f[0].best;break}}h||(h=a.opt["default-locale"][0]),a.opt.lang=h}for(var v in o)if(["id","type","language","multi"].indexOf(v)===-1&&v.slice(0,4)!=="alt-")if(o.multi&&o.multi._keys[v]){var d=!0;for(var b in o.multi._keys[v])if(l.bare===b.replace(/^([a-zA-Z]+).*/,"$1")){d=!1;break}d&&delete o[v]}else delete o[v];for(var v in o)v.slice(0,4)==="alt-"?(o[v.slice(4)]=o[v],a.tmp.abort_alternative=!1):o.multi&&o.multi._keys&&!o["alt-"+v]&&o.multi._keys[v]&&(o.multi._keys[v][l.best]?(o[v]=o.multi._keys[v][l.best],a.tmp.abort_alternative=!1):o.multi._keys[v][l.base]?(o[v]=o.multi._keys[v][l.base],a.tmp.abort_alternative=!1):o.multi._keys[v][l.bare]&&(o[v]=o.multi._keys[v][l.bare],a.tmp.abort_alternative=!1))}a.output.openLevel(this),a.registry.refhash[s.id]=o,a.nameOutput=new p.NameOutput(a,o)};this.execs.push(n),t.push(this);var e=new p.Token("choose",p.START);p.Node.choose.build.call(e,r,t);var i=new p.Token("if",p.START);p.Attributes["@alternative-node-internal"].call(i,r);var n=function(a){a.tmp.abort_alternative=!0};i.execs.push(n),p.Node.if.build.call(i,r,t)}else if(this.tokentype===p.END){var i=new p.Token("if",p.END);p.Node.if.build.call(i,r,t);var e=new p.Token("choose",p.END);p.Node.choose.build.call(e,r,t);var n=function(l,u){l.output.closeLevel(),l.registry.refhash[u.id]=l.tmp.oldItem,l.opt.lang=l.tmp.oldLang,l.nameOutput=new p.NameOutput(l,l.tmp.oldItem),l.tmp.abort_alternative=!1};this.execs.push(n),t.push(this);var i=new p.Token("if",p.END);p.Node.if.build.call(i,r,t);var e=new p.Token("choose",p.END);p.Node.choose.build.call(e,r,t)}}};p.Node["alternative-text"]={build:function(r,t){if(this.tokentype===p.SINGLETON){var e=function(i,a){var a=i.refetchItem(a.id);p.getCite.call(i,a)};this.execs.push(e)}t.push(this)}};p.NameOutput=function(r,t,e){this.debug=!1,this.state=r,this.debug&&this.state.sys.print("(1)"),this.Item=t,this.item=e,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1};p.NameOutput.prototype.init=function(r){this.requireMatch=r.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=r,this.variables=r.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var t=0,e=this.variables.length;t<e;t+=1)this.Item[this.variables[t]]&&this.Item[this.variables[t]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[t]]));if(this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],!!this.state.tmp.value.length){var i=this.checkCommonAuthor(this.requireMatch);if(i){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var t in this.variables){var n=this.state.tmp.done_vars.indexOf(this.variables[t]);n>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,n).concat(this.state.tmp.done_vars.slice(t+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}}};p.NameOutput.prototype.reinit=function(r,t){if(this.requireMatch=r.requireMatch,this.labelVariable=t,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=r.variables;var e=this.state.tmp.value.slice();this.state.tmp.value=[];for(var i=0,n=this.variables.length;i<n;i+=1)this.Item[this.variables[i]]&&this.Item[this.variables[i]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[i]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.value=e}var a=this.checkCommonAuthor(this.requireMatch);if(a){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var i in this.variables){var s=this.state.tmp.done_vars.indexOf(this.variables[i]);s>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,s).concat(this.state.tmp.done_vars.slice(i+1)))}this.variables=[]}};p.NameOutput.prototype.outputNames=function(){var r,t,e=this.variables;if(this.institution.and&&((!this.institution.and.single.blobs||!this.institution.and.single.blobs.length)&&(this.institution.and.single.blobs=this.name.and.single.blobs),(!this.institution.and.multiple.blobs||!this.institution.and.multiple.blobs.length)&&(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=p.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",r=0,t=this.family.execs.length;r<t;r+=1)this.family.execs[r].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=p.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",r=0,t=this.given.execs.length;r<t;r+=1)this.given.execs[r].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&this.state.sys.print("(2)"),this.getEtAlConfig(),this.debug&&this.state.sys.print("(3)"),this.divideAndTransliterateNames(),this.debug&&this.state.sys.print("(4)"),this.truncatePersonalNameLists(),this.debug&&this.state.sys.print("(5)"),this.debug&&this.state.sys.print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&this.state.sys.print("(7)"),this.name.strings.form==="count"){(this.state.tmp.extension||this.names_count!=0)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0);return}this.debug&&this.state.sys.print("(8)"),this.setEtAlParameters(),this.debug&&this.state.sys.print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&this.state.sys.print("(10)"),this.renderAllNames(),this.debug&&this.state.sys.print("(11)");var i=[];for(r=0,t=e.length;r<t;r+=1){var n=e[r],a=[],s=!1,o=null;if(!this.state.opt.development_extensions.spoof_institutional_affiliations)o=this._join([this.freeters[n]],"");else{this.debug&&this.state.sys.print("(11a)");for(var l=0,u=this.institutions[n].length;l<u;l+=1)a.push(this.joinPersonsAndInstitutions([this.persons[n][l],this.institutions[n][l]]));if(this.debug&&this.state.sys.print("(11b)"),this.institutions[n].length){var f=this.nameset_base+this.variable_offset[n];this.freeters[n].length&&(f+=1),s=this.joinInstitutionSets(a,f)}this.debug&&this.state.sys.print("(11c)");var o=this.joinFreetersAndInstitutionSets([this.freeters[n],s]);this.debug&&this.state.sys.print("(11d)")}if(o&&(this.state.tmp.extension||(o=this._applyLabels(o,n)),i.push(o)),this.debug&&this.state.sys.print("(11e)"),this.common_term)break}for(this.debug&&this.state.sys.print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&this.state.sys.print("(13)"),r=0,t=i.length;r<t;r+=1)this.state.output.append(i[r],"literal",!0);!this.state.tmp.just_looking&&i.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&this.state.sys.print("(14)"),this.state.output.closeLevel("empty"),this.debug&&this.state.sys.print("(15)");var h=this.state.output.pop();this.state.tmp.name_node.top=h,this.debug&&this.state.sys.print("(16)");var c=p.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&p.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(h,c),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&this.state.sys.print("(17)"),this.debug&&this.state.sys.print("(18)"),e[0]!=="authority"){var m=[],v=this.Item[e[0]];if(v)for(var r=0,t=v.length;r<t;r+=1){var d=p.Util.Names.getRawName(v[r]);d&&m.push(d)}m=m.join(", "),m&&(this.state.tmp.name_node.string=m)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),this.Item.type==="classic"&&this.state.tmp.first_name_string){var b=[];b.push(this.state.tmp.first_name_string),this.Item.title&&b.push(this.Item.title),b=b.join(", "),b&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(b=this.state.sys.normalizeAbbrevsKey("classic",b)),this.state.transform.loadAbbreviation("default","classic",b,this.Item.language),this.state.transform.abbrevs.default.classic[b]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[b],"empty",!0),h=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(h)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&this.state.sys.print("(19)")};p.NameOutput.prototype._applyLabels=function(r,t){var e;if(!this.label||!this.label[this.labelVariable])return r;var i=0,n=this.freeters_count[t]+this.institutions_count[t];if(n>1)i=1;else{for(var a=0,s=this.persons[t].length;a<s;a+=1)n+=this.persons_count[t][a];n>1&&(i=1)}return this.label[this.labelVariable].before?(typeof this.label[this.labelVariable].before.strings.plural=="number"&&(i=this.label[this.labelVariable].before.strings.plural),e=this._buildLabel(t,i,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(e,this.label[this.labelVariable].before,!0),this.state.output.append(r,"literal",!0),this.state.output.closeLevel("empty"),r=this.state.output.pop()):this.label[this.labelVariable].after&&(typeof this.label[this.labelVariable].after.strings.plural=="number"&&(i=this.label[this.labelVariable].after.strings.plural),e=this._buildLabel(t,i,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(r,"literal",!0),this.state.output.append(e,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),r=this.state.output.pop()),r};p.NameOutput.prototype._buildLabel=function(r,t,e,i){this.common_term&&(r=this.common_term);var n=!1,a=this.label[i][e];return a&&(n=p.castLabel(this.state,a,r,t,p.TOLERANT)),n};p.NameOutput.prototype._collapseAuthor=function(){var r,t,e;this.state.tmp.name_node.top.blobs.length!==0&&(this.nameset_base===0&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(t="",r=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,e=this.state.tmp.offset_characters,r&&(t=this.state.output.string(this.state,r,!1)),this.state.tmp.offset_characters=e,this.state.registry.authorstrings[this.Item.id]=t):!this.state.tmp.just_looking&&!this.state.tmp.suppress_decorations&&(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)&&(t="",r=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,e=this.state.tmp.offset_characters,r&&(t=this.state.output.string(this.state,r,!1)),t===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=e),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=t,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&this.Item.type!=="legal_case"&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=e,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))};p.NameOutput.prototype.isPerson=function(r){return!(r.literal||!r.given&&r.family&&r.isInstitution)};p.NameOutput.prototype.truncatePersonalNameLists=function(){var r,t,e,i,n,a;this.freeters_count={},this.persons_count={},this.institutions_count={};for(r in this.freeters)this.freeters.hasOwnProperty(r)&&(this.freeters_count[r]=this.freeters[r].length,this.freeters[r]=this._truncateNameList(this.freeters,r));for(r in this.persons)if(this.persons.hasOwnProperty(r))for(this.institutions_count[r]=this.institutions[r].length,this._truncateNameList(this.institutions,r),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.persons_count[r]=[],i=0,n=this.persons[r].length;i<n;i+=1)this.persons_count[r][i]=this.persons[r][i].length,this.persons[r][i]=this._truncateNameList(this.persons,r,i);if(this.state.opt.development_extensions.etal_min_etal_usefirst_hack&&this.etal_min===1&&this.etal_use_first===1&&!(this.state.tmp.extension||this.state.tmp.just_looking)?a=r:a=!1,a||this._please_chop)for(t=0,e=this.variables.length;t<e;t+=1){r=this.variables[t],this.freeters[r].length&&(this._please_chop===r?(this.freeters[r]=this.freeters[r].slice(1),this.freeters_count[r]+=-1,this._please_chop=!1):a&&!this._please_chop&&(this.freeters[r]=this.freeters[r].slice(0,1),this.freeters_count[r]=1,this.institutions[r]=[],this.persons[r]=[],this._please_chop=a));for(var i=0,n=this.persons[r].length;i<n;i++)if(this.persons[r][i].length){if(this._please_chop===r){this.persons[r][i]=this.persons[r][i].slice(1),this.persons_count[r][i]+=-1,this._please_chop=!1;break}else if(a&&!this._please_chop){this.freeters[r]=this.persons[r][i].slice(0,1),this.freeters_count[r]=1,this.institutions[r]=[],this.persons[r]=[],this._please_chop=a;break}}this.institutions[r].length&&(this._please_chop===r?(this.institutions[r]=this.institutions[r].slice(1),this.institutions_count[r]+=-1,this._please_chop=!1):a&&!this._please_chop&&(this.institutions[r]=this.institutions[r].slice(0,1),this.institutions_count[r]=1,this._please_chop=a))}for(t=0,e=this.variables.length;t<e;t+=1){this.institutions[r].length&&(this.nameset_offset+=1);for(var i=0,n=this.persons[r].length;i<n;i++)this.persons[r][i].length&&(this.nameset_offset+=1)}};p.NameOutput.prototype._truncateNameList=function(r,t,e){var i;if(typeof e>"u"?i=r[t]:i=r[t][e],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&i.length>50&&i.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var n=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;i=i.slice(0,n+1).concat(i.slice(-1))}return i};p.NameOutput.prototype.divideAndTransliterateNames=function(){var r,t,e,i,n=this.Item,a=this.variables;for(this.varnames=a.slice(),this.freeters={},this.persons={},this.institutions={},r=0,t=a.length;r<t;r+=1){var s=a[r];this.variable_offset[s]=this.nameset_offset;var o=this._normalizeVariableValue(n,s);if(this.name.strings["suppress-min"]&&o.length>=this.name.strings["suppress-min"]&&(o=[]),this.name.strings["suppress-max"]&&o.length<=this.name.strings["suppress-max"]&&(o=[]),this._getFreeters(s,o),this._getPersonsAndInstitutions(s,o),this.state.opt.development_extensions.spoof_institutional_affiliations){if(this.name.strings["suppress-min"]===0)for(this.freeters[s]=[],e=0,i=this.persons[s].length;e<i;e+=1)this.persons[s][e]=[];else if(this.institution.strings["suppress-min"]===0){for(this.institutions[s]=[],this.freeters[s]=this.freeters[s].concat(this.persons[s]),e=0,i=this.persons[s].length;e<i;e+=1)for(var l=0,u=this.persons[s][e].length;l<u;l+=1)this.freeters[s].push(this.persons[s][e][l]);this.persons[s]=[]}}}};p.NameOutput.prototype._normalizeVariableValue=function(r,t){var e;return typeof r[t]=="string"||typeof r[t]=="number"?(p.debug('name variable "'+t+'" is string or number, not array. Attempting to fix.'),e=[{literal:r[t]+""}]):r[t]?(typeof r[t].length!="number"&&(p.debug('name variable "'+t+'" is object, not array. Attempting to fix.'),r[t]=[r[t]]),e=r[t].slice()):e=[],e};p.NameOutput.prototype._getFreeters=function(r,t){if(this.freeters[r]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var e=t.length-1;e>-1&&this.isPerson(t[e]);e--){var i=this._checkNickname(t.pop());i&&this.freeters[r].push(i)}else for(var e=t.length-1;e>-1;e--){var i=t.pop();if(this.isPerson(i))var i=this._checkNickname(i);this.freeters[r].push(i)}this.freeters[r].reverse(),this.freeters[r].length&&(this.nameset_offset+=1)};p.NameOutput.prototype._getPersonsAndInstitutions=function(r,t){if(this.persons[r]=[],this.institutions[r]=[],!!this.state.opt.development_extensions.spoof_institutional_affiliations){for(var e=[],i=!1,n=!0,a=t.length-1;a>-1;a+=-1)if(this.isPerson(t[a])){var s=this._checkNickname(t[a]);s&&e.push(s)}else i=!0,this.institutions[r].push(t[a]),n||(e.reverse(),this.persons[r].push(e),e=[]),n=!1;i&&(e.reverse(),this.persons[r].push(e),this.persons[r].reverse(),this.institutions[r].reverse())}};p.NameOutput.prototype._clearValues=function(r){for(var t=r.length-1;t>-1;t+=-1)r.pop()};p.NameOutput.prototype._checkNickname=function(r){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var t="";if(t=p.Util.Names.getRawName(r),t&&this.state.sys.getAbbreviation&&!(this.item&&this.item["suppress-author"])){var e=t;this.state.sys.normalizeAbbrevsKey&&(e=this.state.sys.normalizeAbbrevsKey("author",t)),this.state.transform.loadAbbreviation("default","nickname",e,this.Item.language);var i=this.state.transform.abbrevs.default.nickname[e];i&&(i==="!here>>>"?r=!1:r={family:i,given:""})}}return r};p.NameOutput.prototype._purgeEmptyBlobs=function(r){for(var t=r.length-1;t>-1;t+=-1)(!r[t]||r[t].length===0||!r[t].blobs.length)&&(r=r.slice(0,t).concat(r.slice(t+1)));return r};p.NameOutput.prototype.joinPersons=function(r,t,e,i){var n;return r=this._purgeEmptyBlobs(r),typeof e>"u"?this.etal_spec[t].freeters===1?n=this._joinEtAl(r):this.etal_spec[t].freeters===2?n=this._joinEllipsis(r):this.state.tmp.sort_key_flag?n=this._join(r,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):n=this._joinAnd(r):this.etal_spec[t].persons[e]===1?n=this._joinEtAl(r):this.etal_spec[t].persons[e]===2?n=this._joinEllipsis(r):this.state.tmp.sort_key_flag?n=this._join(r,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):n=this._joinAnd(r),n};p.NameOutput.prototype.joinInstitutionSets=function(r,t){var e;return r=this._purgeEmptyBlobs(r),this.etal_spec[t].institutions===1?e=this._joinEtAl(r,"institution"):this.etal_spec[t].institutions===2?e=this._joinEllipsis(r,"institution"):e=this._joinAnd(r),e};p.NameOutput.prototype.joinPersonsAndInstitutions=function(r){r=this._purgeEmptyBlobs(r);var t=this._join(r,this.state.tmp.name_delimiter);return t.isInstitution=!0,t};p.NameOutput.prototype.joinFreetersAndInstitutionSets=function(r){r=this._purgeEmptyBlobs(r);var t=this._join(r,"[never here]",this.with.single,this.with.multiple);return t};p.NameOutput.prototype._getAfterInvertedName=function(r,t,e){if(e&&r.length>1&&this.state.inheritOpt(this.name,"delimiter-precedes-last")==="after-inverted-name"){var i=r[r.length-2];i.blobs.length>0&&i.blobs[0].isInverted&&(e.strings.prefix=t)}return e};p.NameOutput.prototype._getAndJoin=function(r,t){var e=!1;if(r.length>1){var i="single";r.length>2&&(i="multiple"),r[r.length-1].isInstitution?e=this.institution.and[i]:e=this.name.and[i],e=JSON.parse(JSON.stringify(e)),e=this._getAfterInvertedName(r,t,e)}return e};p.NameOutput.prototype._joinEtAl=function(r){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),e=this._join(r,t);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(e,"literal",!0),r.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):r.length===1&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()};p.NameOutput.prototype._joinEllipsis=function(r){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),e=!1;if(r.length>1){var i="single";r.length>2&&(i="multiple"),e=JSON.parse(JSON.stringify(this.name.ellipsis[i])),e=this._getAfterInvertedName(r,t,e)}return this._join(r,t,e)};p.NameOutput.prototype._joinAnd=function(r){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),e=this._getAndJoin(r,t);return this._join(r,t,e)};p.NameOutput.prototype._join=function(r,t,e){var i,n;if(!r||(r=this._purgeEmptyBlobs(r),!r.length))return!1;if(r.length>1)if(r.length===2)e?r=[r[0],e,r[1]]:r[0].strings.suffix+=t;else{var a;e?a=1:a=0;for(var s=r.pop(),i=0,n=r.length-a;i<n;i++)r[i].strings.suffix+=t;r.push(e),r.push(s)}for(this.state.output.openLevel(),i=0,n=r.length;i<n;i+=1)this.state.output.append(r[i],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()};p.NameOutput.prototype._getToken=function(r){var t=this[r];if(r==="institution"){var e=new p.Token;return e}return t};p.NameOutput.prototype.checkCommonAuthor=function(r){if(!r)return!1;var t=!1;if(this.variables.length===2){var e=this.variables,i=e.slice();i.sort(),t=i.join("")}if(!t)return!1;var n=!1;if(this.state.locale[this.state.opt.lang].terms[t]&&(n=!0),!n)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var a=this.Item[this.variables[0]],s=this.Item[this.variables[1]],o=this._compareNamesets(a,s);return o===!0&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!o};p.NameOutput.prototype.setCommonTerm=function(){var r=this.variables,t=r.slice();if(t.sort(),this.common_term=t.join(""),!!this.common_term){var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2){this.common_term=!1;return}for(var i=0,n=this.variables.length-1;i<n;i+=1){var a=this.variables[i],s=this.variables[i+1];if((this.freeters[a].length||this.freeters[s].length)&&(this.etal_spec[a].freeters!==this.etal_spec[s].freeters||!this._compareNamesets(this.freeters[a],this.freeters[s]))){this.common_term=!1;return}if(this.persons[a].length!==this.persons[s].length){this.common_term=!1;return}for(var o=0,l=this.persons[a].length;o<l;o+=1)if(this.etal_spec[a].persons[o]!==this.etal_spec[s].persons[o]||!this._compareNamesets(this.persons[a][o],this.persons[s][o])){this.common_term=!1;return}}}};p.NameOutput.prototype._compareNamesets=function(r,t){if(!r||!t||r.length!==t.length)return!1;for(var e=0,i=t.length;e<i;e+=1)for(var n=0,a=p.NAME_PARTS.length;n<a;n+=1){var s=p.NAME_PARTS[n];if(!r[e]||r[e][s]!=t[e][s])return!1}return!0};p.NameOutput.prototype.constrainNames=function(){this.names_count=0;for(var r,t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];r=this.nameset_base+t,this.freeters[i].length&&(this.state.tmp.names_max.push(this.freeters[i].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,i,r),this.names_count+=this.freeters[i].length),this.institutions[i].length&&(this.state.tmp.names_max.push(this.institutions[i].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,i,r),this.persons[i]=this.persons[i].slice(0,this.institutions[i].length),this.names_count+=this.institutions[i].length);for(var n=0,a=this.persons[i].length;n<a;n+=1)this.persons[i][n].length&&(this.state.tmp.names_max.push(this.persons[i][n].length,"literal"),this._imposeNameConstraints(this.persons[i],this.persons_count[i],n,r),this.names_count+=this.persons[i][n].length)}};p.NameOutput.prototype._imposeNameConstraints=function(r,t,e,i){var n=r[e],a=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]?a=this.state.tmp.disambig_request.names[i]:t[e]>=this.etal_min&&(a=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]>this.etal_use_first?t[e]<this.etal_min?a=t[e]:a=this.state.tmp.disambig_request.names[i]:t[e]>=this.etal_min&&(a=this.etal_use_first),this.etal_use_last&&a>this.etal_min-2&&(a=this.etal_min-2));var s=this.etal_min>=this.etal_use_first,o=t[e]>a;a>t[e]&&(a=n.length),s&&o&&(this.etal_use_last?r[e]=n.slice(0,a).concat(n.slice(-1)):r[e]=n.slice(0,a)),this.state.tmp.disambig_settings.names[i]=r[e].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)};p.NameOutput.prototype.disambigNames=function(){for(var r,t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];if(r=this.nameset_base+t,this.freeters[i].length&&this._runDisambigNames(this.freeters[i],r),this.institutions[i].length){typeof this.state.tmp.disambig_settings.givens[r]>"u"&&(this.state.tmp.disambig_settings.givens[r]=[]);for(var n=0,a=this.institutions[i].length;n<a;n+=1)typeof this.state.tmp.disambig_settings.givens[r][n]>"u"&&this.state.tmp.disambig_settings.givens[r].push(2)}for(var n=0,a=this.persons[i].length;n<a;n+=1)this.persons[i][n].length&&this._runDisambigNames(this.persons[i][n],r)}};p.NameOutput.prototype._runDisambigNames=function(r,t){var e,i,n,a,s,o,l;for(s=0,o=r.length;s<o;s+=1)if(!(!r[s].given&&!r[s].family)){if(n=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,r[s],s),e=this.state.tmp.disambig_settings.givens[t],typeof e>"u")for(var u=0,f=t+1;u<f;u+=1)this.state.tmp.disambig_settings.givens[u]||(this.state.tmp.disambig_settings.givens[u]=[]);if(e=this.state.tmp.disambig_settings.givens[t][s],typeof e>"u"&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),a=this.state.registry.namereg.evalname(""+this.Item.id,r[s],s,0,i,n),this.state.tmp.disambig_settings.givens[t].push(a)),i=this.state.inheritOpt(this.name,"form","name-form","long"),l=this.state.registry.namereg.evalname(""+this.Item.id,r[s],s,0,i,n),this.state.tmp.disambig_request){var h=this.state.tmp.disambig_settings.givens[t][s];h===1&&this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(typeof this.state.inheritOpt(this.name,"initialize-with")>"u"||typeof r[s].given>"u")&&(h=2),a=h,this.state.opt["disambiguate-add-givenname"]&&r[s].given&&(a=this.state.registry.namereg.evalname(""+this.Item.id,r[s],s,a,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else a=l;!this.state.tmp.just_looking&&this.item&&this.item.position===p.POSITION_FIRST&&l>a&&(a=l),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[t][s]=a,typeof n=="string"&&(typeof this.name.strings.initialize>"u"||this.name.strings.initialize===!0)&&(this.state.tmp.disambig_settings.use_initials=!0))}};p.NameOutput.prototype.getEtAlConfig=function(){var r=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,typeof r>"u"&&(r={}),r.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),typeof this.state.tmp["et-al-use-last"]=="boolean"?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)};p.NameOutput.prototype.setEtAlParameters=function(){var r,t,e,i;for(r=0,t=this.variables.length;r<t;r+=1){var n=this.variables[r];for(typeof this.etal_spec[n]>"u"&&(this.etal_spec[n]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+r]=this.etal_spec[n],this.freeters[n].length&&this._setEtAlParameter("freeters",n),e=0,i=this.persons[n].length;e<i;e+=1)typeof this.etal_spec[n][e]>"u"&&(this.etal_spec[n].persons[e]=0),this._setEtAlParameter("persons",n,e);this.institutions[n].length&&this._setEtAlParameter("institutions",n)}};p.NameOutput.prototype._setEtAlParameter=function(r,t,e){var i,n;r==="persons"?(i=this.persons[t][e],n=this.persons_count[t][e]):(i=this[r][t],n=this[r+"_count"][t]),i.length<n&&!this.state.tmp.sort_key_flag?this.etal_use_last?r==="persons"?this.etal_spec[t].persons[e]=2:this.etal_spec[t][r]=2:r==="persons"?this.etal_spec[t].persons[e]=1:this.etal_spec[t][r]=1:r==="persons"?this.etal_spec[t].persons[e]=0:this.etal_spec[t][r]=0};p.NameOutput.prototype.renderAllNames=function(){for(var r,t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];(this.freeters[i].length||this.institutions[i].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),r=this.nameset_base+t,this.freeters[i].length&&(this.freeters[i]=this._renderNames(i,this.freeters[i],r));for(var n=0,a=this.institutions[i].length;n<a;n+=1)this.persons[i][n]=this._renderNames(i,this.persons[i][n],r,n)}this.renderInstitutionNames()};p.NameOutput.prototype.renderInstitutionNames=function(){for(var r=0,t=this.variables.length;r<t;r+=1)for(var e=this.variables[r],i=0,n=this.institutions[e].length;i<n;i+=1){var h,a=this.institutions[e][i],i,n,s;this.state.tmp.extension?s=["sort"]:a.isInstitution||a.literal?s=this.state.opt["cite-lang-prefs"].institutions:s=this.state.opt["cite-lang-prefs"].persons;var o={primary:"locale-orig",secondary:!1,tertiary:!1};if(s)for(var l=["primary","secondary","tertiary"],u=0,f=l.length;u<f&&!(s.length-1<u);u+=1)s[u]&&(o[l[u]]="locale-"+s[u]);else o.primary="locale-translat";this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position)&&(o.secondary=!1,o.tertiary=!1),this.setRenderedName(a);var h=this._renderInstitutionName(e,a,o,i);this.institutions[e][i]=h}};p.NameOutput.prototype._renderInstitutionName=function(r,t,e,i){var n,a,s,o,l,u,f,h=this.getName(t,e.primary,!0),c=h.name,m=h.usedOrig;if(c&&(c=this.fixupInstitution(c,r,i)),n=!1,e.secondary){h=this.getName(t,e.secondary,!1,m);var n=h.name;m=h.usedOrig,n&&(n=this.fixupInstitution(n,r,i))}a=!1,e.tertiary&&(h=this.getName(t,e.tertiary,!1,m),a=h.name,a&&(a=this.fixupInstitution(a,r,i)));var v={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(c&&(v.l.pri=c.long,v.s.pri=c.short.length?c.short:c.long),n&&(v.l.sec=n.long,v.s.sec=n.short.length?n.short:n.long),a&&(v.l.ter=a.long,v.s.ter=a.short.length?a.short:a.long),this.institution.strings["institution-parts"]){case"short":c.short.length?(o=this._getShortStyle(),l=[this._composeOneInstitutionPart([v.s.pri,v.s.sec,v.s.ter],e,o,r)]):(s=this._getLongStyle(c,r,i),l=[this._composeOneInstitutionPart([v.l.pri,v.l.sec,v.l.ter],e,s,r)]);break;case"short-long":s=this._getLongStyle(c,r,i),o=this._getShortStyle(),u=this._renderOneInstitutionPart(c.short,o),f=this._composeOneInstitutionPart([v.l.pri,v.l.sec,v.l.ter],e,s,r),l=[u,f];break;case"long-short":s=this._getLongStyle(c,r,i),o=this._getShortStyle(),u=this._renderOneInstitutionPart(c.short,o),f=this._composeOneInstitutionPart([v.l.pri,v.l.sec,v.l.ter],e,s,r),l=[f,u];break;default:s=this._getLongStyle(c,r,i),l=[this._composeOneInstitutionPart([v.l.pri,v.l.sec,v.l.ter],e,s,r)];break}var d=this._join(l," ");return d&&(d.isInstitution=!0),this.state.tmp.name_node.children.push(d),d};p.NameOutput.prototype._composeOneInstitutionPart=function(r,t,e){var i=!1,n=!1,a=!1,s,o,l;if(r[0]){if(s=p.Util.cloneToken(e),this.state.opt.citeAffixes[t.primary]&&this.state.opt.citeAffixes.institutions[t.primary].prefix==="<i>"){for(var u=!1,f=0,h=s.decorations.length;f<h;f+=1)e.decorations[f][0]==="@font-style"&&s.decorations[f][1]==="italic"&&(u=!0);u||s.decorations.push(["@font-style","italic"])}i=this._renderOneInstitutionPart(r[0],s)}r[1]&&(n=this._renderOneInstitutionPart(r[1],e)),r[2]&&(a=this._renderOneInstitutionPart(r[2],e));var c;if(n||a){this.state.output.openLevel("empty"),this.state.output.append(i),o=p.Util.cloneToken(e),t.secondary&&(o.strings.prefix=this.state.opt.citeAffixes.institutions[t.secondary].prefix,o.strings.suffix=this.state.opt.citeAffixes.institutions[t.secondary].suffix,o.strings.prefix||(o.strings.prefix=" "));var m=new p.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(n,o),this.state.output.closeLevel(),l=p.Util.cloneToken(e),t.tertiary&&(l.strings.prefix=this.state.opt.citeAffixes.institutions[t.tertiary].prefix,l.strings.suffix=this.state.opt.citeAffixes.institutions[t.tertiary].suffix,l.strings.prefix||(l.strings.prefix=" "));var v=new p.Token;v.decorations.push(["@font-style","normal"]),v.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(v),this.state.output.append(a,l),this.state.output.closeLevel(),this.state.output.closeLevel(),c=this.state.output.pop()}else c=i;return c};p.NameOutput.prototype._renderOneInstitutionPart=function(r,t){for(var e=0,i=r.length;e<i;e+=1)if(r[e]){var n=r[e];if(this.state.tmp.strip_periods)n=n.replace(/\./g,"");else for(var a=0,s=t.decorations.length;a<s;a+=1)if(t.decorations[a][0]==="@strip-periods"&&t.decorations[a][1]==="true"){n=n.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),n==="!here>>>"?r[e]=!1:(this.state.output.append(n,t,!0),r[e]=this.state.output.pop())}return typeof this.institution.strings["part-separator"]>"u"&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(r,this.institution.strings["part-separator"])};p.NameOutput.prototype._renderNames=function(r,t,e,i){var n=!1;if(t.length){for(var a=[],s=0,o=t.length;s<o;s+=1){var l=t[s],n,u;this.state.tmp.extension?u=["sort"]:l.isInstitution||l.literal?u=this.state.opt["cite-lang-prefs"].institutions:u=this.state.opt["cite-lang-prefs"].persons;var f={primary:"locale-orig",secondary:!1,tertiary:!1};if(u)for(var h=["primary","secondary","tertiary"],c=0,m=h.length;c<m&&!(u.length-1<c);c+=1)f[h[c]]="locale-"+u[c];else f.primary="locale-translat";if((this.state.tmp.sort_key_flag||this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position))&&(f.secondary=!1,f.tertiary=!1),this.setRenderedName(l),!l.literal&&!l.isInstitution){var v=this._renderPersonalName(r,l,f,e,s,i),d=p.Util.cloneToken(this.name);this.state.output.append(v,d,!0),a.push(this.state.output.pop())}else a.push(this._renderInstitutionName(r,l,f,i))}n=this.joinPersons(a,e,i)}return n};p.NameOutput.prototype._renderPersonalName=function(r,t,e,i,n,a){var s=this.getName(t,e.primary,!0),o=this._renderOnePersonalName(s.name,i,n,a),l=!1;e.secondary&&(s=this.getName(t,e.secondary,!1,s.usedOrig),s.name&&(l=this._renderOnePersonalName(s.name,i,n,a)));var u=!1;e.tertiary&&(s=this.getName(t,e.tertiary,!1,s.usedOrig),s.name&&(u=this._renderOnePersonalName(s.name,i,n,a)));var f;if(l||u){this.state.output.openLevel("empty"),this.state.output.append(o);var h=new p.Token;e.secondary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[e.secondary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[e.secondary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(l,h);var c=new p.Token;e.tertiary&&(c.strings.prefix=this.state.opt.citeAffixes.persons[e.tertiary].prefix,c.strings.suffix=this.state.opt.citeAffixes.persons[e.tertiary].suffix,c.strings.prefix||(c.strings.prefix=" ")),this.state.output.append(u,c),this.state.output.closeLevel(),f=this.state.output.pop()}else f=o;return f};p.NameOutput.prototype._isRomanesque=function(r){var t=2;r.family.replace(/\"/g,"").match(p.ROMANESQUE_REGEXP)||(t=0),!t&&r.given&&r.given.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&(t=1);var e;return t==2&&(r.multi&&r.multi.main?e=r.multi.main.slice(0,2):this.Item.language&&(e=this.Item.language.slice(0,2)),["ja","zh"].indexOf(e)>-1&&(t=1)),t};p.NameOutput.prototype._renderOnePersonalName=function(r,t,e,i){var n=r,a=this._droppingParticle(n,t,i),s=this._familyName(n),o=this._nonDroppingParticle(n),l=this._givenName(n,t,e),u=l.blob,f=this._nameSuffix(n);u===!1&&(a=!1,f=!1);var h=this.state.inheritOpt(this.name,"sort-separator");h||(h="");var c;n["comma-suffix"]?c=", ":c=" ";var m=this._isRomanesque(n);function v(S){return S?typeof S.blobs=="string"?["’","'","-"," "].indexOf(S.blobs.slice(-1))>-1:v(S.blobs[S.blobs.length-1]):!1}var d=v(o),b;["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?b=" ":b=" ";var g,$,w,x;if(m===0)g=this._join([o,s,u],"");else if(m===1||n["static-ordering"])$=this._join([o,s],b),g=this._join([$,u]," ");else if(n["reverse-ordering"])$=this._join([o,s],b),g=this._join([u,$]," ");else if(this.state.tmp.sort_key_flag)this.state.opt["demote-non-dropping-particle"]==="never"?($=this._join([o,s],b),$=this._join([$,a]," "),$=this._join([$,u],this.state.opt.sort_sep),g=this._join([$,f]," ")):(x=this._join([u,a,o]," "),$=this._join([s,x],this.state.opt.sort_sep),g=this._join([$,f]," "));else if(this.state.inheritOpt(this.name,"name-as-sort-order")==="all"||this.state.inheritOpt(this.name,"name-as-sort-order")==="first"&&e===0&&(i===0||typeof i>"u"))["Lord","Lady"].indexOf(n.given)>-1&&(h=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(x=this._join([u,a],n["comma-dropping-particle"]+" "),x=this._join([x,o]," "),x&&this.given&&(x.strings.prefix=this.given.strings.prefix,x.strings.suffix=this.given.strings.suffix),s&&this.family&&(s.strings.prefix=this.family.strings.prefix,s.strings.suffix=this.family.strings.suffix),$=this._join([s,x],h),g=this._join([$,f],h)):(d?w=this._join([o,s],""):w=this._join([o,s],b),w&&this.family&&(w.strings.prefix=this.family.strings.prefix,w.strings.suffix=this.family.strings.suffix),x=this._join([u,a],n["comma-dropping-particle"]+" "),x&&this.given&&(x.strings.prefix=this.given.strings.prefix,x.strings.suffix=this.given.strings.suffix),$=this._join([w,x],h),g=this._join([$,f],h)),g.isInverted=!0;else{if(n["dropping-particle"]&&n.family&&!n["non-dropping-particle"]){var A=n["dropping-particle"],I=["'","ʼ","’","-"];I.indexOf(A.slice(-1))>-1&&A.slice(0,-1)!=="de"&&(s=this._join([a,s],""),a=!1)}d?(x=this._join([o,s],""),x=this._join([a,x],b)):x=this._join([a,o,s],b),x=this._join([x,f],c),x&&this.family&&(x.strings.prefix=this.family.strings.prefix,x.strings.suffix=this.family.strings.suffix),u&&this.given&&(u.strings.prefix=this.given.strings.prefix,u.strings.suffix=this.given.strings.suffix),x.strings.prefix&&(n["comma-dropping-particle"]="");var D;this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&l.initializationLevel===1?D=b:D=" ",g=this._join([u,x],n["comma-dropping-particle"]+D)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(g),g};p.NameOutput.prototype._normalizeNameInput=function(r){var t={literal:r.literal,family:r.family,isInstitution:r.isInstitution,given:r.given,suffix:r.suffix,"comma-suffix":r["comma-suffix"],"non-dropping-particle":r["non-dropping-particle"],"dropping-particle":r["dropping-particle"],"static-ordering":r["static-ordering"],"static-particles":r["static-particles"],"reverse-ordering":r["reverse-ordering"],"full-form-always":r["full-form-always"],"parse-names":r["parse-names"],"comma-dropping-particle":"",block_initialize:r.block_initialize,multi:r.multi};return this._parseName(t),t};p.NameOutput.prototype._stripPeriods=function(r,t){var e=this[r+"_decor"];if(t){if(this.state.tmp.strip_periods)t=t.replace(/\./g,"");else if(e){for(var i=0,n=e.decorations.length;i<n;i+=1)if(e.decorations[i][0]==="@strip-periods"&&e.decorations[i][1]==="true"){t=t.replace(/\./g,"");break}}}return t};p.NameOutput.prototype._nonDroppingParticle=function(r){var t=r["non-dropping-particle"];t&&this.state.tmp.sort_key_flag&&(t=t.replace(/[\'\u2019]/,""));var e=this._stripPeriods("family",t);return this.state.output.append(e,this.family_decor,!0)?this.state.output.pop():!1};p.NameOutput.prototype._droppingParticle=function(r,t,e){var i=r["dropping-particle"];i&&this.state.tmp.sort_key_flag&&(i=i.replace(/[\'\u2019]/,""));var n=this._stripPeriods("given",i);if(r["dropping-particle"]&&r["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?typeof e>"u"?this.etal_spec[t].freeters=2:this.etal_spec[t].persons=2:typeof e>"u"?this.etal_spec[t].freeters=1:this.etal_spec[t].persons=1,r["comma-dropping-particle"]="";else if(this.state.output.append(n,this.given_decor,!0))return this.state.output.pop();return!1};p.NameOutput.prototype._familyName=function(r){var t=this._stripPeriods("family",r.family);return this.state.output.append(t,this.family_decor,!0)?this.state.output.pop():!1};p.NameOutput.prototype._givenName=function(r,t,e){var i,n=this.state.inheritOpt(this.name,"form","name-form","long")!=="long",a=this.state.inheritOpt(this.name,"initialize")!==!1,s=typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&!r.block_initialize,o,l;if(r["full-form-always"])l=2;else{n?o=0:s?o=1:o=2;var u=this.state.tmp.disambig_settings.givens[t][e];u>o?l=u:l=o}var f=this.state.citation.opt["givenname-disambiguation-rule"];if(f&&f.slice(-14)==="-with-initials"&&(s=!0),r.family&&l===1)if(s){var h=this.state.inheritOpt(this.name,"initialize-with",!1,"");r.given=p.Util.Names.initializeWith(this.state,r.given,h,!a)}else r.given=p.Util.Names.unInitialize(this.state,r.given);else{if(l===0)return{blob:!1};l===2&&(r.given=p.Util.Names.unInitialize(this.state,r.given))}var c=this._stripPeriods("given",r.given),m=this.state.output.append(c,this.given_decor,!0);return m?(i=this.state.output.pop(),{blob:i,initializationLevel:l}):{blob:!1}};p.NameOutput.prototype._nameSuffix=function(r){var t=r.suffix,e;t&&typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&(t=p.Util.Names.initializeWith(this.state,t,this.state.inheritOpt(this.name,"initialize-with"),!0)),t=this._stripPeriods("family",t);var i="";t&&t.slice(-1)==="."&&(t=t.slice(0,-1),i=".");var n=this.state.output.append(t,"empty",!0);return n?(e=this.state.output.pop(),e.strings.suffix=i+e.strings.suffix,e):!1};p.NameOutput.prototype._getLongStyle=function(r){var t;return r.short.length?this.institutionpart["long-with-short"]?t=this.institutionpart["long-with-short"]:t=this.institutionpart.long:t=this.institutionpart.long,t||(t=new p.Token),t};p.NameOutput.prototype._getShortStyle=function(){var r;return this.institutionpart.short?r=this.institutionpart.short:r=new p.Token,r};p.NameOutput.prototype._parseName=function(r){if(!r["parse-names"]&&typeof r["parse-names"]<"u")return r;r.family&&!r.given&&r.isInstitution&&(r.literal=r.family,r.family=void 0,r.isInstitution=void 0);var t;r.family&&r.family.slice(0,1)==='"'&&r.family.slice(-1)==='"'||!r["parse-names"]&&typeof r["parse-names"]<"u"?(r.family=r.family.slice(1,-1),t=!0,r["parse-names"]=0):t=!1,this.state.opt.development_extensions.parse_names&&!r["non-dropping-particle"]&&r.family&&!t&&r.given&&(r["static-particles"]||p.parseParticles(r,!0))};p.NameOutput.prototype.getName=function(r,t,e,i){if(i&&t==="locale-orig")return{name:!1,usedOrig:i};r.family||(r.family=""),r.given||(r.given="");var n={};n["static-ordering"]=this.getStaticOrder(r);var a=!0,s;if(t!=="locale-orig"&&(a=!1,r.multi)){for(var o=this.state.opt[t],l=0,u=o.length;l<u;l+=1)if(s=o[l],r.multi._key[s]){a=!0;var f=r.isInstitution;r=r.multi._key[s],r.isInstitution=f,n=this.getNameParams(s),n.transliterated=!0;break}}if(a||(s=!1,r.multi&&r.multi.main?s=r.multi.main:this.Item.language&&(s=this.Item.language),s&&(n=this.getNameParams(s))),!e&&!a)return{name:!1,usedOrig:i};r.family||(r.family=""),r.given||(r.given=""),r.literal&&(delete r.family,delete r.given),r={family:r.family,given:r.given,"non-dropping-particle":r["non-dropping-particle"],"dropping-particle":r["dropping-particle"],suffix:r.suffix,"static-ordering":n["static-ordering"],"static-particles":r["static-particles"],"reverse-ordering":n["reverse-ordering"],"full-form-always":n["full-form-always"],"parse-names":r["parse-names"],"comma-suffix":r["comma-suffix"],"comma-dropping-particle":r["comma-dropping-particle"],transliterated:n.transliterated,block_initialize:n["block-initialize"],literal:r.literal,isInstitution:r.isInstitution,multi:r.multi},!r.literal&&!r.given&&r.family&&r.isInstitution&&(r.literal=r.family),r.literal&&(delete r.family,delete r.given),r=this._normalizeNameInput(r);var h;return i?h=i:h=!a,{name:r,usedOrig:h}};p.NameOutput.prototype.getNameParams=function(r){var t={},e=p.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),i=this.state.locale[e.best]?e.best:this.state.opt["default-locale"][0],n=this.state.locale[i].opts["name-as-sort-order"],a=this.state.locale[i].opts["name-as-reverse-order"],s=this.state.locale[i].opts["name-never-short"],o=r.split("-")[0];return n&&n[o]&&(t["static-ordering"]=!0,t["reverse-ordering"]=!1),a&&a[o]&&(t["reverse-ordering"]=!0,t["static-ordering"]=!1),s&&s[o]&&(t["full-form-always"]=!0),t["static-ordering"]&&(t["block-initialize"]=!0),t};p.NameOutput.prototype.setRenderedName=function(r){if(this.state.tmp.area==="bibliography"){for(var t="",e=0,i=p.NAME_PARTS.length;e<i;e+=1)r[p.NAME_PARTS[e]]&&(t+=r[p.NAME_PARTS[e]]);this.state.tmp.rendered_name.push(t)}};p.NameOutput.prototype.fixupInstitution=function(r,t,e){!r.literal&&r.family&&(r.literal=r.family,delete r.family);var i=r.literal,n=i,a={long:i.split(/\s*\|\s*/),short:n.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if(this.institution.strings.form==="short"){let c=this.Item.jurisdiction;c=this.state.transform.loadAbbreviation(c,"institution-entire",i,this.Item.language),this.state.transform.abbrevs[c]["institution-entire"][i]?i=this.state.transform.abbrevs[c]["institution-entire"][i]:(c=this.Item.jurisdiction,c=this.state.transform.loadAbbreviation(c,"institution-part",i,this.Item.language),this.state.transform.abbrevs[c]["institution-part"][i]&&(i=this.state.transform.abbrevs[c]["institution-part"][i])),i=this._quashChecks(c,i)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let c=this.Item.jurisdiction;c=this.state.transform.loadAbbreviation(c,"institution-part",n,this.Item.language),this.state.transform.abbrevs[c]["institution-part"][n]&&(n=this.state.transform.abbrevs[c]["institution-part"][n]),n=this._quashChecks(c,n),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&n===i&&(n="")}if(a.long=i.split(/\s*\|\s*/),a.short=n.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var s=a.short.length-1;s>-1;s--){let c=this.Item.jurisdiction;var o=a.short[s];if(c=this.state.transform.loadAbbreviation(c,"institution-part",o,this.Item.language),this.state.transform.abbrevs[c]["institution-part"][o]&&(a.short[s]=this.state.transform.abbrevs[c]["institution-part"][o]),a.short[s].indexOf("|")>-1){let m=a.short,v=m[s].split(/\s*\|\s*/);a.short=m.slice(0,s).concat(v).concat(m.slice(s+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&a.short.reverse(),a.short=this._trimInstitution(a.short),this.institution.strings["reverse-order"]&&a.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let c=this.Item.jurisdiction;var l=this.state.tmp.abbrev_trimmer;if(l&&l[c]&&l[c][t])for(var u=0,f=a.short.length;u<f;u++){var h=a.short[u];a.short[u]=h.replace(l[c][t],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&a.long.reverse(),a.long=this._trimInstitution(a.long),this.institution.strings["reverse-order"]&&a.long.reverse(),a};p.NameOutput.prototype.getStaticOrder=function(r,t){var e=!1;return(!t&&r["static-ordering"]||this._isRomanesque(r)===0||(!r.multi||!r.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||r.multi&&r.multi.main&&["vi","hu"].indexOf(r.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&p.VIETNAMESE_NAMES.exec(r.family+" "+r.given)&&p.VIETNAMESE_SPECIALS.exec(r.family+r.given))&&(e=!0),e};p.NameOutput.prototype._quashChecks=function(r,e){var e=this.state.transform.quashCheck(r,e),i=e.split(/>>[0-9]{4}>>/),n=e.match(/>>([0-9]{4})>>/);e=i.pop();var a=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(a&&(a=parseInt(a.year,10),a=isNaN(a)?!1:a),a){if(i.length>0)for(var s=n.length-1;s>0&&!(a>=parseInt(n[s],10));s--)e=i.pop();e=e.replace(/\s*\|\s*/g,"|")}return e};p.NameOutput.prototype._trimInstitution=function(r){var t=!1,e=!1,i=!1,n=!1,a=r.slice();if(this.institution){if(typeof this.institution.strings["use-first"]<"u"&&(t=this.institution.strings["use-first"]),typeof this.institution.strings["use-last"]<"u"&&(i=this.institution.strings["use-last"]),typeof this.institution.strings["stop-first"]<"u"&&(n=this.institution.strings["stop-first"]),typeof this.institution.strings["stop-last"]<"u"&&(e=this.institution.strings["stop-last"]),t&&(e&&(a=a.slice(0,e*-1)),a=a.slice(0,t)),i){var s=r.slice();t?n=t:a=[],n&&(s=s.slice(n)),s=s.slice(i*-1),a=a.concat(s)}r=a}return r};p.PublisherOutput=function(r,t){this.state=r,this.group_tok=t,this.varlist=[]};p.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()};p.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var r=!1;this.group_tok.strings.and==="text"?r=this.state.getTerm("and"):this.group_tok.strings.and==="symbol"&&(r="&");var t=new p.Token;t.strings.suffix=" ",t.strings.prefix=" ",this.state.output.append(r,t,!0);var e=this.state.output.pop();t.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(r,t,!0);var i=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,r&&(this.group_tok.strings["subgroup-delimiter-precedes-last"]==="always"?this.and_blob.single=i:this.group_tok.strings["subgroup-delimiter-precedes-last"]==="never"?(this.and_blob.single=e,this.and_blob.multiple=e):(this.and_blob.single=e,this.and_blob.multiple=i))};p.PublisherOutput.prototype.composeElements=function(){for(var r=0,t=2;r<t;r+=1)for(var e=["publisher","publisher-place"][r],i=0,n=this["publisher-list"].length;i<n;i+=1){var a=this[e+"-list"][i],s=this[e+"-token"];this.state.output.append(a,s,!0),this[e+"-list"][i]=this.state.output.pop()}};p.PublisherOutput.prototype.composePublishers=function(){for(var r,t=0,e=this["publisher-list"].length;t<e;t+=1)r=[this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this["publisher-list"][t]=this._join(r,this.group_tok.strings.delimiter)};p.PublisherOutput.prototype.joinPublishers=function(){var r=this["publisher-list"],t=this._join(r,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")};p.PublisherOutput.prototype._join=p.NameOutput.prototype._join;p.PublisherOutput.prototype._getToken=p.NameOutput.prototype._getToken;p.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1};p.evaluateLabel=function(r,t,e,i){var n;r.strings.term==="locator"?(i&&i.label&&(i.label==="sub verbo"?n="sub-verbo":n=i.label),n||(n="page")):n=r.strings.term;var a=r.strings.plural;if(typeof a!="number"){var s=i&&r.strings.term==="locator"?i:e;s[r.strings.term]&&(t.processNumber(!1,s,r.strings.term,e.type),a=t.tmp.shadow_numbers[r.strings.term].plural,!t.tmp.shadow_numbers[r.strings.term].labelForm&&!t.tmp.shadow_numbers[r.strings.term].labelDecorations&&(r.strings.form?t.tmp.shadow_numbers[r.strings.term].labelForm=r.strings.form:t.tmp.group_context.tip.label_form&&(t.tmp.shadow_numbers[r.strings.term].labelForm=t.tmp.group_context.tip.label_form),t.tmp.shadow_numbers[r.strings.term].labelCapitalizeIfFirst=r.strings.capitalize_if_first,t.tmp.shadow_numbers[r.strings.term].labelDecorations=r.decorations.slice()),["locator","number","page"].indexOf(r.strings.term)>-1&&t.tmp.shadow_numbers[r.strings.term].label&&(n=t.tmp.shadow_numbers[r.strings.term].label),r.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(r.decorations.reverse(),r.decorations.push(["@showid","true",r.cslid]),r.decorations.reverse()))}return p.castLabel(t,r,n,a,p.TOLERANT)};p.castLabel=function(r,t,e,i,n){var a=t.strings.form,s=t.strings.capitalize_if_first;r.tmp.group_context.tip.label_form&&(a==="static"?r.tmp.group_context.tip.label_static=!0:a=r.tmp.group_context.tip.label_form),r.tmp.group_context.tip.label_capitalize_if_first&&(s=r.tmp.group_context.tip.label_capitalize_if_first);var o=r.getTerm(e,a,i,!1,n,t.default_locale);if(s&&(o=p.Output.Formatters["capitalize-first"](r,o)),r.tmp.strip_periods)o=o.replace(/\./g,"");else for(var l=0,u=t.decorations.length;l<u;l+=1)if(t.decorations[l][0]==="@strip-periods"&&t.decorations[l][1]==="true"){o=o.replace(/\./g,"");break}return o};p.Node.name={build:function(r,t){var e;if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){var i;typeof r.tmp.root>"u"?(i=void 0,r.tmp.root="citation"):i=r.tmp.root,r.inheritOpt(this,"et-al-subsequent-min")&&r.inheritOpt(this,"et-al-subsequent-min")!==r.inheritOpt(this,"et-al-min")&&(r.opt.update_mode=p.POSITION),r.inheritOpt(this,"et-al-subsequent-use-first")&&r.inheritOpt(this,"et-al-subsequent-use-first")!==r.inheritOpt(this,"et-al-use-first")&&(r.opt.update_mode=p.POSITION),r.tmp.root=i,e=function(n){n.tmp.etal_term="et-al",n.tmp.name_delimiter=n.inheritOpt(this,"delimiter","name-delimiter",", "),n.tmp["delimiter-precedes-et-al"]=n.inheritOpt(this,"delimiter-precedes-et-al"),n.inheritOpt(this,"and")==="text"?this.and_term=n.getTerm("and","long",0):n.inheritOpt(this,"and")==="symbol"&&(n.opt.development_extensions.expect_and_symbol_form?this.and_term=n.getTerm("and","symbol",0):this.and_term="&"),n.tmp.and_term=this.and_term,p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof n.tmp.name_delimiter=="string"&&(this.and_prefix_multiple=n.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),n.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=n.tmp.name_delimiter:n.inheritOpt(this,"delimiter-precedes-last")==="never"?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):n.inheritOpt(this,"delimiter-precedes-last")==="after-inverted-name"&&(this.and_prefix_single&&(this.and_prefix_single=n.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},n.inheritOpt(this,"and")?(n.output.append(this.and_term,"empty",!0),this.and.single=n.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,n.output.append(this.and_term,"empty",!0),this.and.multiple=n.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):n.tmp.name_delimiter&&(this.and.single=new p.Blob(n.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(n.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},n.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="…",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=n.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new p.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new p.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),typeof n.tmp["et-al-min"]>"u"&&(n.tmp["et-al-min"]=n.inheritOpt(this,"et-al-min")),typeof n.tmp["et-al-use-first"]>"u"&&(n.tmp["et-al-use-first"]=n.inheritOpt(this,"et-al-use-first")),typeof n.tmp["et-al-use-last"]>"u"&&(n.tmp["et-al-use-last"]=n.inheritOpt(this,"et-al-use-last")),n.nameOutput.name=this},r.build.name_flag=!0,this.execs.push(e)}t.push(this)}};p.Node["name-part"]={build:function(r){r.build[this.strings.name]=this}};p.Node.names={build:function(r,t){var e;if((this.tokentype===p.START||this.tokentype===p.SINGLETON)&&(p.Util.substituteStart.call(this,r,t),r.build.substitute_level.push(1)),this.tokentype===p.SINGLETON){r.build.names_variables[r.build.names_variables.length-1].concat(this.variables);for(var i in this.variables){var n=this.variables[i],a=r.build.name_label[r.build.name_label.length-1];Object.keys(a).length&&(a[n]=a[Object.keys(a)[0]])}e=function(l){l.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(e)}if(this.tokentype===p.START&&(r.build.names_flag=!0,r.build.name_flag=!1,r.build.names_level+=1,r.build.names_variables.push(this.variables),r.build.name_label.push({}),e=function(l){l.tmp.can_substitute.push(!0),l.tmp.name_node={},l.tmp.name_node.children=[],l.nameOutput.init(this)},this.execs.push(e)),this.tokentype===p.END){for(var i=0,s=3;i<s;i+=1){var o=["family","given","et-al"][i];this[o]=r.build[o],r.build.names_level===1&&(r.build[o]=void 0)}this.label=r.build.name_label[r.build.name_label.length-1],r.build.names_level+=-1,r.build.names_variables.pop(),r.build.name_label.pop(),e=function(l){l.tmp.etal_node?this.etal_style=l.tmp.etal_node:this.etal_style="empty",this.etal_term=l.getTerm(l.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=l.tmp.name_delimiter,l.tmp["delimiter-precedes-et-al"]==="always"?this.etal_prefix_single=l.tmp.name_delimiter:l.tmp["delimiter-precedes-et-al"]==="never"?this.etal_prefix_multiple=" ":l.tmp["delimiter-precedes-et-al"]==="after-inverted-name"&&(this.etal_prefix_single=l.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",p.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(this.etal_prefix_single===" "&&(this.etal_prefix_single=""),this.etal_prefix_multiple===" "&&(this.etal_prefix_multiple=""),this.etal_suffix===" "&&(this.etal_suffix=""));for(var u=0,f=3;u<f;u+=1){var h=["family","given"][u];l.nameOutput[h]=this[h]}l.nameOutput.with=this.with;var c="with",m="",v="";p.STARTSWITH_ROMANESQUE_REGEXP.test(c)&&(m=" ",v=" ");var d={};d.single=new p.Blob(c),d.single.strings.suffix=v,d.multiple=new p.Blob(c),d.multiple.strings.suffix=v,l.inheritOpt(l.nameOutput.name,"delimiter-precedes-last")==="always"?(d.single.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter"),d.multiple.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter")):l.inheritOpt(l.nameOutput.name,"delimiter-precedes-last")==="contextual"?(d.single.strings.prefix=m,d.multiple.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter")):l.inheritOpt(l.nameOutput.name,"delimiter-precedes-last")==="after-inverted-name"?(d.single.strings.prefix=l.inheritOpt(this,"delimiter","names-delimiter"),d.multiple.strings.prefix=m):(d.single.strings.prefix=m,d.multiple.strings.prefix=m),l.nameOutput.with=d,l.nameOutput.label=this.label,l.nameOutput.etal_style=this.etal_style,l.nameOutput.etal_term=this.etal_term,l.nameOutput.etal_prefix_single=this.etal_prefix_single,l.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,l.nameOutput.etal_suffix=this.etal_suffix,l.nameOutput.outputNames(),l.tmp["et-al-use-first"]=void 0,l.tmp["et-al-min"]=void 0,l.tmp["et-al-use-last"]=void 0},this.execs.push(e),e=function(l){l.tmp.can_substitute.pop()||l.tmp.can_substitute.replace(!1,p.LITERAL),l.tmp.can_substitute.mystack.length===1&&(l.tmp.can_block_substitute=!1)},this.execs.push(e),r.build.name_flag=!1}t.push(this),(this.tokentype===p.END||this.tokentype===p.SINGLETON)&&(r.build.substitute_level.pop(),p.Util.substituteEnd.call(this,r,t))}};p.Node.number={build:function(r,t){var e;p.Util.substituteStart.call(this,r,t),this.strings.form==="roman"?this.formatter=r.fun.romanizer:this.strings.form==="ordinal"?this.formatter=r.fun.ordinalizer:this.strings.form==="long-ordinal"&&(this.formatter=r.fun.long_ordinalizer),typeof this.successor_prefix>"u"&&(this.successor_prefix=r[r.build.area].opt.layout_delimiter),typeof this.splice_prefix>"u"&&(this.splice_prefix=r[r.build.area].opt.layout_delimiter),e=function(i,n,a){if(this.variables.length!==0){var s;if(s=this.variables[0],typeof a>"u")var a={};if(["locator","locator-extra"].indexOf(s)>-1){if(i.tmp.just_looking||!a[s])return}else if(!n[s])return;s==="collection-number"&&n.type==="legal_case"&&(i.tmp.renders_collection_number=!0);var o=this;if(i.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(s)>-1?i.processNumber.call(i,o,a,s,n.type):(!i.tmp.group_context.tip.condition&&n[s]&&(i.tmp.just_did_number=(""+n[s]).match(/[0-9]$/)),i.processNumber.call(i,o,n,s,n.type)),this.substring){var l=n[s].slice(this.substring);i.output.append(l,o)}else p.Util.outputNumericField(i,s,n.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!i.tmp.just_looking&&(i.tmp.done_vars.push(this.variables_real[0]),i.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(e),t.push(this),p.Util.substituteEnd.call(this,r,t)}};p.Node.sort={build:function(r,t){if(t=r[r.build.root+"_sort"].tokens,this.tokentype===p.START){r.build.area==="citation"&&(r.opt.sort_citations=!0),r.build.area=r.build.root+"_sort",r.build.extension="_sort";var e=function(i,n){if(i.opt.has_layout_locale){for(var a=p.localeResolve(n.language,i.opt["default-locale"][0]),s=i[i.tmp.area.slice(0,-5)].opt.sort_locales,o,l=0,u=s.length;l<u&&(o=s[l][a.bare],o||(o=s[l][a.best]),!o);l+=1);o||(o=i.opt["default-locale"][0]),i.tmp.lang_sort_hold=i.opt.lang,i.opt.lang=o}};this.execs.push(e)}if(this.tokentype===p.END){r.build.area=r.build.root,r.build.extension="";var e=function(n){n.opt.has_layout_locale&&(n.opt.lang=n.tmp.lang_sort_hold,delete n.tmp.lang_sort_hold)};this.execs.push(e)}t.push(this)}};p.Node.substitute={build:function(r,t){var e;if(this.tokentype===p.START){var i=new p.Token("choose",p.START);p.Node.choose.build.call(i,r,t);var n=new p.Token("if",p.SINGLETON);e=function(){return!!(r.tmp.value.length&&!r.tmp.common_term_match_fail)},n.tests=[e],n.test=r.fun.match.any(n,r,n.tests),t.push(n),e=function(s){s.tmp.can_block_substitute=!0,s.tmp.value.length&&!s.tmp.common_term_match_fail&&s.tmp.can_substitute.replace(!1,p.LITERAL),s.tmp.common_term_match_fail=!1},this.execs.push(e),t.push(this)}if(this.tokentype===p.END){t.push(this);var a=new p.Token("choose",p.END);p.Node.choose.build.call(a,r,t)}}};p.Node.text={build:function(r,t){var e,i,n,a,s,o,l,u,f,h,c;if(this.postponed_macro){var m=p.Util.cloneToken(this);m.name="group",m.tokentype=p.START,p.Node.group.build.call(m,r,t),p.expandMacro.call(r,this,t);var v=p.Util.cloneToken(this);v.name="group",v.tokentype=p.END,this.postponed_macro==="juris-locator-label"&&(v.isJurisLocatorLabel=!0),p.Node.group.build.call(v,r,t)}else{if(p.Util.substituteStart.call(this,r,t),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),i="long",n=0,this.strings.form&&(i=this.strings.form),this.strings.plural&&(n=this.strings.plural),this.variables_real[0]==="citation-number"||this.variables_real[0]==="year-suffix"||this.variables_real[0]==="citation-label")this.variables_real[0]==="citation-number"?(r.build.root==="citation"&&(r.opt.update_mode=p.NUMERIC),r.build.root==="bibliography"&&(r.opt.bib_mode=p.NUMERIC),r[r.tmp.area].opt.collapse==="citation-number"&&(this.range_prefix=r.getTerm("citation-range-delimiter")),this.successor_prefix=r[r.build.area].opt.layout_delimiter,this.splice_prefix=r[r.build.area].opt.layout_delimiter,e=function(w,x,A){if(a=""+x.id,!w.tmp.just_looking){if(w.tmp.area.slice(-5)==="_sort"&&this.variables[0]==="citation-number"){if(w.tmp.area==="bibliography_sort"&&w.tmp.group_context.tip.done_vars.push("citation-number"),w.tmp.area==="citation_sort"&&w.bibliography_sort.tmp.citation_number_map)var I=w.bibliography_sort.tmp.citation_number_map[w.registry.registry[x.id].seq];else var I=w.registry.registry[x.id].seq;I&&(I=p.Util.padding(""+I)),w.output.append(I,this);return}A&&A["author-only"]&&w.tmp.element_trace.replace("suppress-me"),w.tmp.area!=="bibliography_sort"&&w.bibliography_sort.tmp.citation_number_map&&w.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING?I=w.bibliography_sort.tmp.citation_number_map[w.registry.registry[a].seq]:I=w.registry.registry[a].seq,w.opt.citation_number_slug?w.output.append(w.opt.citation_number_slug,this):(o=new p.NumericBlob(w,!1,I,this,x.id),w.tmp.in_cite_predecessor&&(o.suppress_splice_prefix=!0),w.output.append(o,"literal"))}},this.execs.push(e)):this.variables_real[0]==="year-suffix"?(r.opt.has_year_suffix=!0,r[r.tmp.area].opt.collapse==="year-suffix-ranged"&&(this.range_prefix=r.getTerm("citation-range-delimiter")),this.successor_prefix=r[r.build.area].opt.layout_delimiter,r[r.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=r[r.build.area].opt["year-suffix-delimiter"]),e=function(w,x){if(w.registry.registry[x.id]&&w.registry.registry[x.id].disambig.year_suffix!==!1&&!w.tmp.just_looking){s=parseInt(w.registry.registry[x.id].disambig.year_suffix,10),w[w.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=w[w.tmp.area].opt.cite_group_delimiter),o=new p.NumericBlob(w,!1,s,this,x.id),l=new p.Util.Suffixator(p.SUFFIX_CHARS),o.setFormatter(l),w.output.append(o,"literal"),u=!1;for(var A=0,I=w.tmp.group_context.mystack.length;A<I;A++){var D=w.tmp.group_context.mystack[A];if(!D.variable_success&&(D.variable_attempt||!D.variable_attempt&&!D.term_intended)){u=!0;break}}f=w[w.tmp.area].opt["year-suffix-delimiter"],u&&f&&!w.tmp.sort_key_flag&&(w.tmp.splice_delimiter=w[w.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(e)):this.variables_real[0]==="citation-label"&&(r.build.root==="bibliography"&&(r.opt.bib_mode=p.TRIGRAPH),r.opt.has_year_suffix=!0,e=function(w,x){h=x["citation-label"],h||(h=w.getCitationLabel(x)),w.tmp.just_looking||(c="",w.registry.registry[x.id]&&w.registry.registry[x.id].disambig.year_suffix!==!1&&(s=parseInt(w.registry.registry[x.id].disambig.year_suffix,10),c=w.fun.suffixator.format(s)),h+=c),w.output.append(h,this)},this.execs.push(e));else if(this.strings.term)e=function(w,x){var A=w.opt.gender[x.type],I=this.strings.term;I=w.getTerm(I,i,n,A,p.TOLERANT,this.default_locale);var D;if(I!==""&&(w.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(w,I,null,this),!w.tmp.term_predecessor&&!(w.opt.class==="in-text"&&w.tmp.area==="citation")?D=p.Output.Formatters["capitalize-first"](w,I):D=I,w.tmp.strip_periods)D=D.replace(/\./g,"");else for(var S=0,O=this.decorations.length;S<O;S+=1)if(this.decorations[S][0]==="@strip-periods"&&this.decorations[S][1]==="true"){D=D.replace(/\./g,"");break}w.output.append(D,this),w.tmp.can_block_substitute&&w.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(e),r.build.term=!1,r.build.form=!1,r.build.plural=!1;else if(this.variables_real.length){if(e=function(w,x){this.variables_real[0]!=="locator"&&(w.tmp.have_collapsed=!1),!w.tmp.group_context.tip.condition&&x[this.variables[0]]&&(w.tmp.just_did_number=!1);var A=x[this.variables[0]];A&&!w.tmp.group_context.tip.condition&&((""+A).slice(-1).match(/[0-9]/)?w.tmp.just_did_number=!0:w.tmp.just_did_number=!1)},this.execs.push(e),p.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var d=this.variables[0],b=!1,g=!1,$=!1;i==="short"?this.variables_real[0].slice(-6)!=="-short"&&(g=this.variables_real[0]+"-short"):d=!1,r.build.extension?$=!0:($=!0,b=!0),e=r.transform.getOutputFunction(this.variables,d,b,g,$)}else p.CITE_FIELDS.indexOf(this.variables_real[0])>-1?e=function(w,x,A){A&&A[this.variables[0]]&&(w.processNumber(this,A,this.variables[0],x.type),p.Util.outputNumericField(w,this.variables[0],x.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!w.tmp.just_looking&&w.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?e=function(w,x){w.processNumber(this,x,this.variables[0],x.type),p.Util.outputNumericField(w,this.variables[0],x.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?e=function(w,x){var A;if(this.variables[0]&&(A=w.getVariable(x,this.variables[0],i),A))if(this.variables[0]==="URL"&&i==="short"&&(A=A.replace(/(.*\.[^\/]+)\/.*/,"$1"),A.match(/\/\/www\./)&&(A=A.replace(/https?:\/\//,""))),w.opt.development_extensions.wrap_url_and_doi)if(!this.decorations.length||this.decorations[0][0]!=="@"+this.variables[0]){var I=p.Util.cloneToken(this),D=new p.Blob(null,null,"url-wrapper");if(D.decorations.push(["@DOI","true"]),this.variables_real[0]==="DOI"){var S;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(A=A.replace(/^https?:\/\/doi\.org\//,""),A.match(/^https?:\/\//)?S="":S="https://doi.org/",I.strings.prefix=this.strings.prefix.slice(0,I.strings.prefix.length-16));var O=new p.Blob(S),H=new p.Blob(A);D.push(O),D.push(H),w.output.append(D,I,!1,!1,!0)}else{var H=new p.Blob(A);D.push(H),w.output.append(D,I,!1,!1,!0)}}else w.output.append(A,this,!1,!1,!0);else{if(this.decorations.length)for(var B=this.decorations.length-1;B>-1;B--)this.decorations[B][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,B).concat(this.decorations.slice(B+1)));w.output.append(A,this,!1,!1,!0)}}:this.variables_real[0]==="section"?e=function(w,x){var A;A=w.getVariable(x,this.variables[0],i),A&&w.output.append(A,this)}:this.variables_real[0]==="hereinafter"?e=function(w,x){var A=w.transform.abbrevs.default.hereinafter[x.id];A&&(w.output.append(A,this),w.tmp.group_context.tip.variable_success=!0)}:e=function(w,x){var A;this.variables[0]&&(A=w.getVariable(x,this.variables[0],i),A&&(A=""+A,A=A.split("\\").join(""),w.output.append(A,this)))};this.execs.push(e)}else this.strings.value&&(e=function(w){w.tmp.group_context.tip.term_intended=!0,p.UPDATE_GROUP_CONTEXT_CONDITION(w,this.strings.value,!0,this),w.output.append(this.strings.value,this),w.tmp.can_block_substitute&&w.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(e));t.push(this),p.Util.substituteEnd.call(this,r,t)}}};p.Node.intext={build:function(r,t){if(this.tokentype===p.START){r.build.area="intext",r.build.root="intext",r.build.extension="";var e=function(i,n){i.tmp.area="intext",i.tmp.root="intext",i.tmp.extension=""};this.execs.push(e)}this.tokentype===p.END&&(r.intext_sort={opt:{sort_directions:r.citation_sort.opt.sort_directions}},r.intext.srt=r.citation.srt),t.push(this)}};p.Attributes={};p.Attributes["@disambiguate"]=function(r,t){if(this.tests||(this.tests=[]),t==="true"){r.opt.has_disambiguate=!0;var e=function(i){if(r.tmp.area==="bibliography"){if(r.tmp.disambiguate_count<r.registry.registry[i.id].disambig.disambiguate)return r.tmp.disambiguate_count+=1,!0}else if(r.tmp.disambiguate_maxMax+=1,r.tmp.disambig_settings.disambiguate&&r.tmp.disambiguate_count<r.tmp.disambig_settings.disambiguate)return r.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(e)}else if(t==="check-ambiguity-and-backreference"){var e=function(n){return!!(r.registry.registry[n.id].disambig.disambiguate&&r.registry.registry[n.id]["citation-count"]>1)};this.tests.push(e)}};p.Attributes["@is-numeric"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(a){return function(s,o){var l=s;if(o&&["locator","locator-extra"].indexOf(a)>-1&&(l=o),!l[a])return!1;if(p.NUMERIC_VARIABLES.indexOf(a)>-1){if(r.tmp.shadow_numbers[a]||r.processNumber(!1,l,a,s.type),r.tmp.shadow_numbers[a].numeric)return!0}else if(["title","version"].indexOf(a)>-1&&l[a].slice(-1)===""+parseInt(l[a].slice(-1),10))return!0;return!1}},n=0;n<e.length;n+=1)this.tests.push(i(e[n]))};p.Attributes["@is-uncertain-date"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){return!!(o[s]&&o[s].circa)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@locator"]=function(r,t){this.tests||(this.tests=[]);var e=t.replace("sub verbo","sub-verbo");e=e.split(/\s+/);for(var i=function(s){return function(o,l){var u;return r.processNumber(!1,l,"locator"),u=r.tmp.shadow_numbers.locator.label,!!(u&&s===u)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@position"]=function(r,t){this.tests||(this.tests=[]);var e;r.opt.update_mode=p.POSITION;for(var i=t.split(/\s+/),n=function(u,f){return!!(f&&p.POSITION_MAP[f.position]>=p.POSITION_MAP[p.POSITION_SUBSEQUENT]&&f["near-note"])},a=function(u,f){return!!(f&&p.POSITION_MAP[f.position]==p.POSITION_MAP[p.POSITION_SUBSEQUENT]&&!f["near-note"])},s=function(u){return function(f,h){if(r.tmp.area==="bibliography")return!1;if(h&&typeof h.position>"u"&&(h.position=0),h&&typeof h.position=="number"){if(h.position===0&&u===0)return!0;if(u>0&&p.POSITION_MAP[h.position]>=p.POSITION_MAP[u])return!0}else if(u===0)return!0;return!1}},o=0,l=i.length;o<l;o+=1){var e=i[o];e==="first"?e=p.POSITION_FIRST:e==="container-subsequent"?e=p.POSITION_CONTAINER_SUBSEQUENT:e==="subsequent"?e=p.POSITION_SUBSEQUENT:e==="ibid"?e=p.POSITION_IBID:e==="ibid-with-locator"&&(e=p.POSITION_IBID_WITH_LOCATOR),e==="near-note"?this.tests.push(n):e==="far-note"?this.tests.push(a):this.tests.push(s(e))}};p.Attributes["@type"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(o){return function(l){var u=l.type===o;return!!u}},n=[],a=0,s=e.length;a<s;a+=1)n.push(i(e[a]));this.tests.push(r.fun.match.any(this,r,n))};p.Attributes["@variable"]=function(r,t){this.tests||(this.tests=[]);var e;if(this.variables=t.split(/\s+/),this.variables_real=this.variables.slice(),this.name==="label"&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)e=function(s,o,l){for(var u=this.variables.length-1;u>-1;u+=-1)this.variables.pop();for(var u=0,f=this.variables_real.length;u<f;u++)s.tmp.done_vars.indexOf(this.variables_real[u])===-1&&this.variables.push(this.variables_real[u]),s.tmp.can_block_substitute&&s.tmp.done_vars.push(this.variables_real[u])},this.execs.push(e),e=function(s,o,l){for(var u=!1,f=0,h=this.variables.length;f<h;f++){var c=this.variables[f];if(["authority","committee"].indexOf(c)>-1&&typeof o[c]=="string"&&this.name==="names"){var m=!0,v=o[c].split(/\s*;\s*/),d={};if(o.multi&&o.multi._keys[c]){for(var b in o.multi._keys[c])if(d[b]=o.multi._keys[c][b].split(/\s*;\s*/),d[b].length!==v.length){m=!1;break}}m||(v=[o[c]],d=o.multi._keys[c]);for(var g=0,$=v.length;g<$;g++){var w={literal:v[g],multi:{_key:{}}};for(var b in d){var x={literal:d[b][g]};w.multi._key[b]=x}v[g]=w}o[c]=v}if(this.strings.form==="short"&&!o[c]&&(c==="title"?c="title-short":c==="container-title"&&(c="container-title-short")),c==="year-suffix"){u=!0;break}else if(p.DATE_VARIABLES.indexOf(c)>-1){if(s.opt.development_extensions.locator_date_and_revision&&c==="locator-date"){u=!0;break}if(o[c]){for(var A in o[c])if(!(this.dateparts.indexOf(A)===-1&&A!=="literal")&&o[c][A]){u=!0;break}if(u)break}}else if(c==="locator"){l&&l.locator&&(u=!0);break}else if(c==="locator-extra"){l&&l["locator-extra"]&&(u=!0);break}else if(["citation-number","citation-label"].indexOf(c)>-1){u=!0;break}else if(c==="first-reference-note-number"){l&&l["first-reference-note-number"]&&(u=!0);break}else if(c==="first-container-reference-note-number"){l&&l["first-container-reference-note-number"]&&(u=!0);break}else if(c==="hereinafter"){s.transform.abbrevs.default.hereinafter[o.id]&&s.sys.getAbbreviation&&o.id&&(u=!0);break}else{if(typeof o[c]=="object")break;if(typeof o[c]=="string"&&o[c]){u=!0;break}else if(typeof o[c]=="number"){u=!0;break}}if(u)break}if(u){for(var f=0,h=this.variables_real.length;f<h;f++){var c=this.variables_real[f];(c!=="citation-number"||s.tmp.area!=="bibliography")&&(s.tmp.cite_renders_content=!0),s.tmp.group_context.tip.variable_success=!0,s.tmp.can_substitute.value()&&s.tmp.area==="bibliography"&&typeof o[c]=="string"&&(s.tmp.name_node.top=s.output.current.value(),s.tmp.rendered_name.push(o[c]))}s.tmp.can_substitute.replace(!1,p.LITERAL)}else s.tmp.group_context.tip.variable_attempt=!0},this.execs.push(e);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var i=function(s){return function(o,l){var u=o;if(l&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(s)>-1&&(u=l),s==="hereinafter"&&r.sys.getAbbreviation&&u.id){if(r.transform.abbrevs.default.hereinafter[u.id])return!0}else if(u[s]){if(typeof u[s]=="number"||typeof u[s]=="string")return!0;if(typeof u[s]=="object"){for(var f in u[s])if(u[s][f])return!0}}return!1}},n=0,a=this.variables.length;n<a;n+=1)this.tests.push(i(this.variables[n]))};p.Attributes["@page"]=function(r,t){this.tests||(this.tests=[]);var e=t.replace("sub verbo","sub-verbo");e=e.split(/\s+/);for(var i=function(s){return function(o){var l;return r.processNumber(!1,o,"page",o.type),r.tmp.shadow_numbers.page.label?r.tmp.shadow_numbers.page.label==="sub verbo"?l="sub-verbo":l=r.tmp.shadow_numbers.page.label:l="page",r.tmp.shadow_numbers.page.values.length>0&&r.tmp.shadow_numbers.page.values[0].gotosleepability&&(r.tmp.shadow_numbers.page.values[0].labelVisibility=!1),s===l}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@number"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l;return r.processNumber(!1,o,"number",o.type),r.tmp.shadow_numbers.number.label?l=r.tmp.shadow_numbers.number.label:l="number",s===l}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@jurisdiction"]=function(r,t){this.tests||(this.tests=[]);var e=t.split(/\s+/),i=function(n){return function(a){if(!a.jurisdiction)return!1;for(var s=a.jurisdiction,o=0,l=n.length;o<l;o++)if(s===n[o])return!0;return!1}};this.tests.push(i(e))};p.Attributes["@country"]=function(r,t){this.tests||(this.tests=[]);var e=t.split(/\s+/),i=function(n){return function(a){if(!a.country)return!1;for(var s=a.country,o=0,l=n.length;o<l;o++)if(s===n[o])return!0;return!1}};this.tests.push(i(e))};p.Attributes["@context"]=function(r,t){this.tests||(this.tests=[]);var e=function(){if(["bibliography","citation"].indexOf(t)>-1){var i=r.tmp.area.slice(0,t.length);return i===t}else if(t==="alternative")return!!r.tmp.abort_alternative};this.tests.push(e)};p.Attributes["@has-year-only"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=o[s];return!(!l||l.month||l.season)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@has-to-month-or-season"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=o[s];return!(!l||!l.month&&!l.season||l.day)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@has-day"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=o[s];return!(!l||!l.day)}},n=0,a=e.length;n<a;n+=1)this.tests.push(i(e[n]))};p.Attributes["@is-plural"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){var n=i[t];if(n&&n.length){for(var a=0,s=0,o=!1,l=0,u=n.length;l<u;l+=1)r.opt.development_extensions.spoof_institutional_affiliations&&(n[l].literal||n[l].isInstitution&&n[l].family&&!n[l].given)?(s+=1,o=!1):(a+=1,o=!0);if(a>1)return!0;if(s>1)return!0;if(s&&o)return!0}return!1};this.tests.push(e)};p.Attributes["@is-multiple"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){var n=""+i[t],a=n.split(/(?:,\s|\s(?:tot\sen\smet|līdz|oraz|and|bis|έως|και|och|až|do|en|et|in|ir|ja|og|sa|to|un|und|és|și|i|u|y|à|e|a|и|-|–)\s|—|\&)/);return a.length>1};this.tests.push(e)};p.Attributes["@locale"]=function(r,t){this.tests||(this.tests=[]);var e,i,n,a,s,o=r.opt["default-locale"][0];if(this.name==="layout"){if(this.locale_raw=t,this.tokentype===p.START){r.opt.multi_layout||(r.opt.multi_layout=[]);var l=[],u=t.split(/\s+/),f={},h=p.localeResolve(u[0],o);l.push(h),h.generic?f[h.generic]=h.best:f[h.best]=h.best;for(var a=1,s=u.length;a<s;a+=1){var c=p.localeResolve(u[a],o);l.push(c),c.generic?f[c.generic]=h.best:f[c.best]=h.best}r[r.build.area].opt.sort_locales.push(f),r.opt.multi_layout.push(l)}r.opt.has_layout_locale=!0}else{n=t.split(/\s+/);var m=[];for(a=0,s=n.length;a<s;a+=1)i=n[a],e=p.localeResolve(i,o),n[a].length===2&&m.push(e.bare),r.localeConfigure(e,!0),n[a]=e;var v=n.slice(),d=function(b,g,$){return function(w){var x;x=!1;var A=!1,I;for(w.language?I=w.language:I=g,A=p.localeResolve(I,g),a=0,s=b.length;a<s;a+=1)if(A.best===b[a].best){r.tmp.condition_lang_counter_arr.push(r.tmp.condition_counter),r.tmp.condition_lang_val_arr.push(r.opt.lang),r.opt.lang=b[0].best,x=!0;break}return!x&&$.indexOf(A.bare)>-1&&(r.tmp.condition_lang_counter_arr.push(r.tmp.condition_counter),r.tmp.condition_lang_val_arr.push(r.opt.lang),r.opt.lang=b[0].best,x=!0),x}};this.tests.push(d(v,o,m))}};p.Attributes["@alternative-node-internal"]=function(r){this.tests||(this.tests=[]);var t=function(){return function(){return!r.tmp.abort_alternative}};this.tests.push(t())};p.Attributes["@locale-internal"]=function(r,t){this.tests||(this.tests=[]);var e,i,n,a,s;for(n=t.split(/\s+/),this.locale_bares=[],a=0,s=n.length;a<s;a+=1)i=n[a],e=p.localeResolve(i,r.opt["default-locale"][0]),n[a].length===2&&this.locale_bares.push(e.bare),r.localeConfigure(e),n[a]=e;this.locale_default=r.opt["default-locale"][0],this.locale=n[0].best,this.locale_list=n.slice();var o=function(u){return function(f){var h;h=!1;var c=!1;if(f.language&&(i=f.language,c=p.localeResolve(i,r.opt["default-locale"][0]),c.best===r.opt["default-locale"][0]&&(c=!1)),c){for(a=0,s=u.locale_list.length;a<s;a+=1)if(c.best===u.locale_list[a].best){r.opt.lang=u.locale,r.tmp.last_cite_locale=u.locale,r.output.openLevel("empty"),r.output.current.value().new_locale=u.locale,h=!0;break}!h&&u.locale_bares.indexOf(c.bare)>-1&&(r.opt.lang=u.locale,r.tmp.last_cite_locale=u.locale,r.output.openLevel("empty"),r.output.current.value().new_locale=u.locale,h=!0)}return h}},l=this;this.tests.push(o(l))};p.Attributes["@court-class"]=function(r,t){this.tests||(this.tests=[]);for(var e=t.split(/\s+/),i=function(s){return function(o){var l=p.GET_COURT_CLASS(r,o);return l===s}},n=0,a=e.length;n<a;n++)this.tests.push(i(e[n]))};p.Attributes["@container-multiple"]=function(r,t){this.tests||(this.tests=[]);var e=t==="true",i=function(n){return function(a){if(r.tmp.container_item_count[a.container_id]){if(r.tmp.container_item_count[a.container_id]>1)return n}else return!n;return!n}};this.tests.push(i(e))};p.Attributes["@container-subsequent"]=function(r,t){this.tests||(this.tests=[]);var e=t==="true",i=function(n){return function(a){return r.tmp.container_item_pos[a.container_id]>1?n:!n}};this.tests.push(i(e))};p.Attributes["@has-subunit"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){return function(n){var a=0;for(var s in n[i]){var o=n[i][s];if(!o.given){var l=o.literal?o.literal:o.family,u=l.split("|").length;(a===0||u<a)&&(a=u)}}return a>1}};this.tests.push(e(t))};p.Attributes["@cite-form"]=function(r,t){this.tests||(this.tests=[]);var e=function(i){return function(n){return n["cite-form"]===i}};this.tests.push(e(t))};p.Attributes["@disable-duplicate-year-suppression"]=function(r,t){r.opt.disable_duplicate_year_suppression=t.split(/\s+/)};p.Attributes["@consolidate-containers"]=function(r,t){p.Attributes["@track-containers"](r,t);var e=t.split(/\s+/);r.bibliography.opt.consolidate_containers=e};p.Attributes["@track-containers"]=function(r,t){var e=t.split(/\s+/);r.bibliography.opt.track_container_items||(r.bibliography.opt.track_container_items=[]),r.bibliography.opt.consolidate_containers||(r.bibliography.opt.consolidate_containers=[]),r.bibliography.opt.track_container_items=r.bibliography.opt.track_container_items.concat(e)};p.Attributes["@parallel-first"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);r.opt.track_repeat||(r.opt.track_repeat={}),this.parallel_first={};for(var i in e){var n=e[i];this.parallel_first[n]=!0,r.opt.track_repeat[n]=!0}};p.Attributes["@parallel-last"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);r.opt.track_repeat||(r.opt.track_repeat={}),this.parallel_last={};for(var i in e){var n=e[i];this.parallel_last[n]=!0,r.opt.track_repeat[n]=!0}};p.Attributes["@parallel-last-to-first"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);this.parallel_last_to_first={};for(var i=0,n=e.length;i<n;i++)this.parallel_last_to_first[e[i]]=!0};p.Attributes["@parallel-delimiter-override"]=function(r,t){r.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=t};p.Attributes["@parallel-delimiter-override-on-suppress"]=function(r,t){r.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=t};p.Attributes["@no-repeat"]=function(r,t){r.opt.parallel.enable=!0;var e=t.split(/\s+/);r.opt.track_repeat||(r.opt.track_repeat={}),this.non_parallel={};for(var i in e){var n=e[i];this.non_parallel[n]=!0,r.opt.track_repeat[n]=!0}};p.Attributes["@require"]=function(r,t){r.opt.use_context_condition=!0,this.strings.require=t};p.Attributes["@reject"]=function(r,t){r.opt.use_context_condition=!0,this.strings.reject=t};p.Attributes["@require-comma-on-symbol"]=function(r,t){r.opt.require_comma_on_symbol=t};p.Attributes["@gender"]=function(r,t){this.gender=t};p.Attributes["@cslid"]=function(r,t){this.cslid=parseInt(t,10)};p.Attributes["@capitalize-if-first"]=function(r,t){this.strings.capitalize_if_first_override=t};p.Attributes["@label-capitalize-if-first"]=function(r,t){this.strings.label_capitalize_if_first_override=t};p.Attributes["@label-form"]=function(r,t){this.strings.label_form_override=t};p.Attributes["@part-separator"]=function(r,t){this.strings["part-separator"]=t};p.Attributes["@leading-noise-words"]=function(r,t){this["leading-noise-words"]=t};p.Attributes["@name-never-short"]=function(r,t){this["name-never-short"]=t};p.Attributes["@class"]=function(r,t){r.opt.class=t};p.Attributes["@version"]=function(r,t){r.opt.version=t};p.Attributes["@value"]=function(r,t){this.strings.value=t};p.Attributes["@name"]=function(r,t){this.strings.name=t};p.Attributes["@form"]=function(r,t){this.strings.form=t};p.Attributes["@date-parts"]=function(r,t){this.strings["date-parts"]=t};p.Attributes["@range-delimiter"]=function(r,t){this.strings["range-delimiter"]=t};p.Attributes["@macro"]=function(r,t){this.postponed_macro=t};p.Attributes["@term"]=function(r,t){t==="sub verbo"?this.strings.term="sub-verbo":this.strings.term=t};p.Attributes["@xmlns"]=function(){};p.Attributes["@lang"]=function(r,t){t&&(r.build.lang=t)};p.Attributes["@lingo"]=function(){};p.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0};p.Attributes["@suffix"]=function(r,t){this.strings.suffix=t};p.Attributes["@prefix"]=function(r,t){this.strings.prefix=t};p.Attributes["@delimiter"]=function(r,t){this.strings.delimiter=t};p.Attributes["@match"]=function(r,t){this.match=t};p.Attributes["@names-min"]=function(r,t){var e=parseInt(t,10);r[r.build.area].opt.max_number_of_names<e&&(r[r.build.area].opt.max_number_of_names=e),this.strings["et-al-min"]=e};p.Attributes["@names-use-first"]=function(r,t){this.strings["et-al-use-first"]=parseInt(t,10)};p.Attributes["@names-use-last"]=function(r,t){t==="true"?this.strings["et-al-use-last"]=!0:this.strings["et-al-use-last"]=!1};p.Attributes["@sort"]=function(r,t){t==="descending"&&(this.strings.sort_direction=p.DESCENDING)};p.Attributes["@plural"]=function(r,t){t==="always"||t==="true"?this.strings.plural=1:t==="never"||t==="false"?this.strings.plural=0:t==="contextual"&&(this.strings.plural=!1)};p.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0};p.Attributes["@publisher-delimiter-precedes-last"]=function(r,t){this.strings["publisher-delimiter-precedes-last"]=t};p.Attributes["@publisher-delimiter"]=function(r,t){this.strings["publisher-delimiter"]=t};p.Attributes["@publisher-and"]=function(r,t){this.strings["publisher-and"]=t};p.Attributes["@givenname-disambiguation-rule"]=function(r,t){p.GIVENNAME_DISAMBIGUATION_RULES.indexOf(t)>-1&&(r.citation.opt["givenname-disambiguation-rule"]=t)};p.Attributes["@collapse"]=function(r,t){t&&(r[this.name].opt.collapse=t)};p.Attributes["@cite-group-delimiter"]=function(r,t){t&&(r[r.tmp.area].opt.cite_group_delimiter=t)};p.Attributes["@names-delimiter"]=function(r,t){r.setOpt(this,"names-delimiter",t)};p.Attributes["@name-form"]=function(r,t){r.setOpt(this,"name-form",t)};p.Attributes["@subgroup-delimiter"]=function(r,t){this.strings["subgroup-delimiter"]=t};p.Attributes["@subgroup-delimiter-precedes-last"]=function(r,t){this.strings["subgroup-delimiter-precedes-last"]=t};p.Attributes["@name-delimiter"]=function(r,t){r.setOpt(this,"name-delimiter",t)};p.Attributes["@et-al-min"]=function(r,t){var e=parseInt(t,10);r[r.build.area].opt.max_number_of_names<e&&(r[r.build.area].opt.max_number_of_names=e),r.setOpt(this,"et-al-min",e)};p.Attributes["@et-al-use-first"]=function(r,t){r.setOpt(this,"et-al-use-first",parseInt(t,10))};p.Attributes["@et-al-use-last"]=function(r,t){t==="true"?r.setOpt(this,"et-al-use-last",!0):r.setOpt(this,"et-al-use-last",!1)};p.Attributes["@et-al-subsequent-min"]=function(r,t){var e=parseInt(t,10);r[r.build.area].opt.max_number_of_names<e&&(r[r.build.area].opt.max_number_of_names=e),r.setOpt(this,"et-al-subsequent-min",e)};p.Attributes["@et-al-subsequent-use-first"]=function(r,t){r.setOpt(this,"et-al-subsequent-use-first",parseInt(t,10))};p.Attributes["@suppress-min"]=function(r,t){this.strings["suppress-min"]=parseInt(t,10)};p.Attributes["@suppress-max"]=function(r,t){this.strings["suppress-max"]=parseInt(t,10)};p.Attributes["@and"]=function(r,t){r.setOpt(this,"and",t)};p.Attributes["@delimiter-precedes-last"]=function(r,t){r.setOpt(this,"delimiter-precedes-last",t)};p.Attributes["@delimiter-precedes-et-al"]=function(r,t){r.setOpt(this,"delimiter-precedes-et-al",t)};p.Attributes["@initialize-with"]=function(r,t){r.setOpt(this,"initialize-with",t)};p.Attributes["@initialize"]=function(r,t){t==="false"&&r.setOpt(this,"initialize",!1)};p.Attributes["@name-as-reverse-order"]=function(r,t){this["name-as-reverse-order"]=t};p.Attributes["@name-as-sort-order"]=function(r,t){this.name==="style-options"?this["name-as-sort-order"]=t:r.setOpt(this,"name-as-sort-order",t)};p.Attributes["@sort-separator"]=function(r,t){r.setOpt(this,"sort-separator",t)};p.Attributes["@require-match"]=function(r,t){t==="true"&&(this.requireMatch=!0)};p.Attributes["@exclude-types"]=function(r,t){r.bibliography.opt.exclude_types=t.split(/\s+/)};p.Attributes["@exclude-with-fields"]=function(r,t){r.bibliography.opt.exclude_with_fields=t.split(/\s+/)};p.Attributes["@year-suffix-delimiter"]=function(r,t){r[this.name].opt["year-suffix-delimiter"]=t};p.Attributes["@after-collapse-delimiter"]=function(r,t){r[this.name].opt["after-collapse-delimiter"]=t};p.Attributes["@subsequent-author-substitute"]=function(r,t){r[this.name].opt["subsequent-author-substitute"]=t};p.Attributes["@subsequent-author-substitute-rule"]=function(r,t){r[this.name].opt["subsequent-author-substitute-rule"]=t};p.Attributes["@disambiguate-add-names"]=function(r,t){t==="true"&&(r.opt["disambiguate-add-names"]=!0)};p.Attributes["@disambiguate-add-givenname"]=function(r,t){t==="true"&&(r.opt["disambiguate-add-givenname"]=!0)};p.Attributes["@disambiguate-add-year-suffix"]=function(r,t){t==="true"&&r.opt.xclass!=="numeric"&&(r.opt["disambiguate-add-year-suffix"]=!0)};p.Attributes["@second-field-align"]=function(r,t){(t==="flush"||t==="margin")&&(r[this.name].opt["second-field-align"]=t)};p.Attributes["@hanging-indent"]=function(r,t){t==="true"&&(r.opt.development_extensions.hanging_indent_legacy_number?r[this.name].opt.hangingindent=2:r[this.name].opt.hangingindent=!0)};p.Attributes["@line-spacing"]=function(r,t){t&&t.match(/^[.0-9]+$/)&&(r[this.name].opt["line-spacing"]=parseFloat(t,10))};p.Attributes["@entry-spacing"]=function(r,t){t&&t.match(/^[.0-9]+$/)&&(r[this.name].opt["entry-spacing"]=parseFloat(t,10))};p.Attributes["@near-note-distance"]=function(r,t){r[this.name].opt["near-note-distance"]=parseInt(t,10)};p.Attributes["@substring"]=function(r,t){this.substring=parseInt(t,10)};p.Attributes["@text-case"]=function(r,t){var e=function(i,n){t==="normal"?this.text_case_normal=!0:(this.strings["text-case"]=t,t==="title"&&n.jurisdiction&&(this.strings["text-case"]="passthrough"))};this.execs.push(e)};p.Attributes["@page-range-format"]=function(r,t){r.opt["page-range-format"]=t};p.Attributes["@year-range-format"]=function(r,t){r.opt["year-range-format"]=t};p.Attributes["@default-locale"]=function(r,t){if(this.name==="style"){var e,i,n,s,a,s=t.match(/-x-(sort|translit|translat)-/g);if(s)for(n=0,i=s.length;n<i;n+=1)s[n]=s[n].replace(/^-x-/,"").replace(/-$/,"");for(e=t.split(/-x-(?:sort|translit|translat)-/),a=[e[0]],n=1,i=e.length;n<i;n+=1)a.push(s[n-1]),a.push(e[n]);for(e=a.slice(),i=e.length,n=1;n<i;n+=2)r.opt["locale-"+e[n]].push(e[n+1].replace(/^\s*/g,"").replace(/\s*$/g,""));e.length?r.opt["default-locale"]=e.slice(0,1):r.opt["default-locale"]=["en"]}else t==="true"&&(this.default_locale=!0)};p.Attributes["@default-locale-sort"]=function(r,t){r.opt["default-locale-sort"]=t};p.Attributes["@demote-non-dropping-particle"]=function(r,t){r.opt["demote-non-dropping-particle"]=t};p.Attributes["@initialize-with-hyphen"]=function(r,t){t==="false"&&(r.opt["initialize-with-hyphen"]=!1)};p.Attributes["@institution-parts"]=function(r,t){this.strings["institution-parts"]=t};p.Attributes["@if-short"]=function(r,t){t==="true"&&(this.strings["if-short"]=!0)};p.Attributes["@substitute-use-first"]=function(r,t){this.strings["substitute-use-first"]=parseInt(t,10)};p.Attributes["@use-first"]=function(r,t){this.strings["use-first"]=parseInt(t,10)};p.Attributes["@use-last"]=function(r,t){this.strings["use-last"]=parseInt(t,10)};p.Attributes["@stop-first"]=function(r,t){this.strings["stop-first"]=parseInt(t,10)};p.Attributes["@stop-last"]=function(r,t){this.strings["stop-last"]=parseInt(t,10)*-1};p.Attributes["@reverse-order"]=function(r,t){t==="true"&&(this.strings["reverse-order"]=!0)};p.Attributes["@display"]=function(r,t){r.bibliography.tokens.length===2&&(r.opt.using_display=!0),this.strings.cls=t};p.Stack=function(r,t){this.mystack=[],(t||r)&&this.mystack.push(r),this.tip=this.mystack[0]};p.Stack.prototype.push=function(r,t){t||r?this.mystack.push(r):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]};p.Stack.prototype.clear=function(){this.mystack=[],this.tip={}};p.Stack.prototype.replace=function(r,t){this.mystack.length===0&&p.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+r),t||r?this.mystack[this.mystack.length-1]=r:this.mystack[this.mystack.length-1]="",this.tip=this.mystack[this.mystack.length-1]};p.Stack.prototype.pop=function(){var r=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},r};p.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]};p.Stack.prototype.length=function(){return this.mystack.length};p.Parallel=function(r){this.state=r};p.Parallel.prototype.StartCitation=function(r,t){if(this.state.tmp.suppress_repeats=[],!(r.length<2)){for(var e=0,i=!1,n=[],a=0,s=r.length-1;a<s;a++){var o=r[a][0],l=r[a+1][0],u=!1,f={};if(r[a][0].seeAlso&&r[a][0].seeAlso.length>0&&!i){u=!0,i=[r[a][0].id].concat(r[a][0].seeAlso);var h=i.slice(),c=r.slice(a);c[0][1].parallel="first";for(var m=0,v=c.length;m<v;m++){var d=c[m][0].id,b=h.indexOf(d);if(e=!1,b===-1?e=a+m-1:a+m===r.length-1&&(e=a+m),e){n.push([a,e]);break}else h=h.slice(0,b).concat(h.slice(b+1))}}a>0&&u&&(this.state.tmp.suppress_repeats[a-1].START=!0,u=!1);for(var g in this.state.opt.track_repeat)if(!o[g]||!l[g])f[g]=!1;else if(typeof l[g]=="string"||typeof l[g]=="number"){if(g==="title"&&o["title-short"]&&l["title-short"])var $=o["title-short"],w=l["title-short"];else var $=o[g],w=l[g];$==w?f[g]=!0:f[g]=!1}else if(typeof o[g].length>"u"){f[g]=!1;var x=o[g].year,A=l[g].year;x&&A&&x==A&&(f[g]=!0)}else{var $=JSON.stringify(o[g]),w=JSON.stringify(l[g]);$===w?f[g]=!0:f[g]=!1}i||(f.ORPHAN=!0),e===a&&(f.END=!0,i=!1),this.state.tmp.suppress_repeats.push(f)}for(var m=0,v=n.length;m<v;m++){var I=r[n[m][0]][0].id;this.state.registry.registry[I].master=!0,this.state.registry.registry[I].siblings=[];for(var D=n[m][0],S=n[m][1],O=D;O<S;O++){this.state.tmp.suppress_repeats[O].SIBLING=!0;var H=r[O+1][0].id;r[O+1][1].parallel="other",this.state.registry.registry[I].siblings.push(H)}}}};p.Parallel.prototype.checkRepeats=function(r){var t=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(r.parallel_first&&Object.keys(r.parallel_first).length>0){var e=[{}].concat(this.state.tmp.suppress_repeats),i=!0;for(var n in r.parallel_first)(!e[t][n]||e[t].START)&&(i=!1);return i}if(r.parallel_last&&Object.keys(r.parallel_last).length>0){var e=this.state.tmp.suppress_repeats.concat([{}]),i=Object.keys(r.parallel_last).length>0;for(var n in r.parallel_last)(!e[t][n]||e[t].END)&&(i=!1);return i}if(r.non_parallel&&Object.keys(r.non_parallel).length>0){var e=[{}].concat(this.state.tmp.suppress_repeats),i=!0;for(var n in r.non_parallel)e[t][n]||(i=!1);return i}}return!1};p.Util={};p.Util.Match=function(){this.any=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(o)return!0}return!1}},this.none=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(o)return!1}return!0}},this.all=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(!o)return!1}return!0}},this[void 0]=this.all,this.nand=function(r,t,e){return function(i,n){for(var a=0,s=e.length;a<s;a+=1){var o=e[a](i,n);if(!o)return!0}return!1}}};p.Transform=function(r){this.abbrevs={},this.abbrevs.default=new r.sys.AbbreviationSegments;function t(f,h,c){var m="";return r.sys.getHumanForm&&(f==="country"?(m=r.sys.getHumanForm(h.toLowerCase(),!1,!0),m=m.split("|")[0]):f==="jurisdiction"&&(m=r.sys.getHumanForm(h.toLowerCase(),!1,!0),c?m="":m=m.split("|").slice(1).join(", "))),m}function e(f,h,c,m,v,d,b){var g="",$=p.FIELD_CATEGORY_REMAP[d],w;if(!$)return v;var x=d,A=v;f.sys.normalizeAbbrevsKey&&(A=f.sys.normalizeAbbrevsKey(d,v));var I=!1;if(x==="jurisdiction"&&A&&(I=A.indexOf(":")===-1),["jurisdiction","country"].indexOf(d)>-1&&v===v.toLowerCase()&&(A=v.toUpperCase()),f.sys.getAbbreviation){["jurisdiction","country","language-name","language-name-original"].indexOf(x)>-1?w="default":c.jurisdiction?w=c.jurisdiction:w="default";var D=f.transform.loadAbbreviation(w,$,A,c.language);if(f.transform.abbrevs[D][$]&&A){var S=f.transform.abbrevs[D][$][A];h.strings.form==="short"&&S?I?g="":g=S:g=t(x,A,I)}}return!g&&(!f.opt.development_extensions.require_explicit_legal_case_title_short||c.type!=="legal_case")&&m&&c[m]&&b&&(g=c[m]),!g&&!f.sys.getAbbreviation&&f.sys.getHumanForm&&(g=t(x,A,I)),!g&&!I&&(!f.sys.getHumanForm||x!=="jurisdiction")&&(g=v),f.opt.development_extensions.force_title_abbrev_fallback&&x==="title"&&g===v&&c["title-short"]&&(g=c["title-short"]),g}function i(f,h){var c=r.opt["default-locale"][0].slice(0,2),m;if(r.opt.development_extensions.strict_text_case_locales?m=new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):m=new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),f.language){var v=(""+f.language).match(m);v?c=v[1]:c="tlh"}return f.multi&&f.multi&&f.multi.main&&f.multi.main[h]&&(c=f.multi.main[h]),(!r.opt.development_extensions.strict_text_case_locales||r.opt.development_extensions.normalize_lang_keys_to_lowercase)&&(c=c.toLowerCase()),c}function n(f,h,c,m,v,d){var b,g,$,w,x=v,A=!1;if(!f[h])return{name:"",usedOrig:v,token:p.Util.cloneToken(this)};var I=!1;p.VARIABLES_WITH_SHORT_FORM.indexOf(h)>-1&&d&&(h=h+"-short",I=!0);var D=!1,S=null,O=[];h.slice(-6)==="-short"?(O.push(h),O.push(h.slice(0,-6))):O.push(h);for(var H=0,B=O.length;H<B;H++){var V=!1,h=O[H];$={name:"",usedOrig:v,locale:i(f,h)},w=r.opt[c]?r.opt[c].slice():[];var K=!1;if(c==="locale-orig"?(v||($.name=f[h],$.usedOrig=!1),K=!0,A=!0):m&&(typeof w>"u"||w.length===0)&&($.name=f[h],$.usedOrig=!0,K=!0,A=!0),!K){for(var Q=0,G=w.length;Q<G;Q+=1)if(b=w[Q],g=b.split(/[\-_]/)[0],b&&f.multi&&f.multi._keys[h]&&f.multi._keys[h][b]){$.name=f.multi._keys[h][b],$.locale=b,K=!0,V=!0,A=!1;break}else if(g&&f.multi&&f.multi._keys[h]&&f.multi._keys[h][g]){$.name=f.multi._keys[h][g],$.locale=g,K=!0,V=!0,A=!1;break}!$.name&&m&&($={name:f[h],usedOrig:!0,locale:i(f,h)},A=!0)}if($.token=p.Util.cloneToken(this),H===0?(V&&($.found_variant_ok=!0),S=$,!I&&(typeof w>"u"||w.length===0)&&(D=!0),V&&(D=!0)):!I&&!V&&S?($=S,h=O[0]):V&&($.found_variant_ok=!0),["title","container-title"].indexOf(h)>-1&&!x&&(!$.token.strings["text-case"]||$.token.strings["text-case"]==="sentence"||$.token.strings["text-case"]==="normal")){r.opt.lang;var q;A?q=!1:q=$.locale;var W=h.slice(0,-5),ne=$.token.strings["text-case"]==="sentence";$.name=p.titlecaseSentenceOrNormal(r,f,W,q,ne),delete $.token.strings["text-case"]}if(D)break}return $}this.getTextSubField=n;function a(f,h,c,m){f||(f="default");var v=f.split(":")[0],d=p.getAbbrevsDomain(r,v,m);return d&&(f+="@"+d),c?(r.sys.getAbbreviation&&(f=r.sys.getAbbreviation(r.opt.styleID,r.transform.abbrevs,f,h,c),f||(f="default",d&&(f+="@"+d))),f):(r.transform.abbrevs[f]||(r.transform.abbrevs[f]=new r.sys.AbbreviationSegments),r.transform.abbrevs[f][h]||(r.transform.abbrevs[f][h]={}),f)}this.loadAbbreviation=a;function s(f,h,c,m){var v=f.variables[0];if(r.publisherOutput&&c){if(["publisher","publisher-place"].indexOf(v)===-1)return!1;r.publisherOutput[v+"-token"]=f,r.publisherOutput.varlist.push(v);var d=c.split(/;\s*/);d.length===r.publisherOutput[v+"-list"].length&&(r.publisherOutput[v+"-list"]=d);for(var b=0,g=d.length;b<g;b+=1)d[b]=e(r,f,h,!1,d[b],m,!0);return r.tmp[v+"-token"]=f,!0}return!1}function o(f,h){var c=h.match(/^#([0-9]+).*>>>/);c&&c[1]&&(f["cite-form"]=c[1])}function l(f,h){var c=h.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(c&&(h=h.slice(c[0].length),c[1]))for(var m=c[1].split(","),v=0,d=m.length;v<d;v+=1){var b=m[v],g=b.match(/^([-_a-z]+)(?:\:(.*))*$/),$=g[1],w=r.tmp.abbrev_trimmer;g[2]?w&&f&&(w[f]||(w[f]={}),w[f][$]=g[2]):r.tmp.done_vars.indexOf($)===-1&&(w&&f&&(w.QUASHES[f]||(w.QUASHES[f]={}),w.QUASHES[f][$]=!0),r.tmp.done_vars.push($))}return h}this.quashCheck=l;function u(f,h,c,m){var v,d=p.LangPrefsMap[f[0]];return d?v=r.opt["cite-lang-prefs"][d]:v=!1,function(b,g,$){var w,x,A,I,D,S,G;if(!f[0]||!g[f[0]]&&!g[m]||!b.tmp.just_looking&&$&&$["suppress-author"]&&!b.tmp.probably_rendered_something&&b.tmp.can_substitute.length()>1)return null;var O={primary:!1,secondary:!1,tertiary:!1};if(b.tmp.area.slice(-5)==="_sort")O.primary="locale-sort";else if(v&&v.length===1&&v[0]==="locale-orig")O.primary="locale-orig",v=!1;else if(v&&!b.tmp.multi_layout)for(var H=["primary","secondary","tertiary"],B=0,V=H.length;B<V&&!(v.length-1<B);B+=1)v[B]&&(O[H[B]]="locale-"+v[B]);else O.primary="locale-orig";if((f[0]==="title-short"||b.tmp.area!=="bibliography"&&!(b.tmp.area==="citation"&&b.opt.xclass==="note"&&$&&!$.position))&&(O.secondary=!1,O.tertiary=!1),b.tmp.multi_layout&&(O.secondary=!1,O.tertiary=!1),b.tmp["publisher-list"])return f[0]==="publisher"?b.tmp["publisher-token"]=this:f[0]==="publisher-place"&&(b.tmp["publisher-place-token"]=this),null;var K=b.tmp.lang_array.slice(),Q=n.call(this,g,f[0],O.primary,!0,null,h);w=Q.name,x=Q.locale;var G=Q.token,q=Q.usedOrig;if(h&&!Q.found_variant_ok&&(w=e(b,G,g,m,w,h,!0),w&&(o(g,w),b.tmp.just_looking||(w=l(g.jurisdiction,w)))),s(this,g,w,h))return b.tmp.lang_array=K,null;A=!1,D=!1;var W,ne;O.secondary&&(Q=n.call(this,g,f[0],O.secondary,!1,Q.usedOrig,null,h),A=Q.name,I=Q.locale,W=Q.token,h&&!Q.found_variant_ok&&A&&(A=e(b,W,g,!1,A,h,!0))),O.tertiary&&(Q=n.call(this,g,f[0],O.tertiary,!1,Q.usedOrig,null,h),D=Q.name,S=Q.locale,ne=Q.token,h&&!Q.found_variant_ok&&D&&(D=e(b,ne,g,!1,D,h,!0)));var Z;if(O.primary==="locale-translit"&&(Z=b.opt.citeAffixes[d][O.primary].prefix),Z==="<i>"&&f[0]==="title"&&!q){for(var oe=!1,B=0,V=G.decorations.length;B<V;B+=1)G.decorations[B][0]==="@font-style"&&G.decorations[B][1]==="italic"&&(oe=!0);oe||G.decorations.push(["@font-style","italic"])}if(x!=="en"&&G.strings["text-case"]==="title"&&(G.strings["text-case"]="passthrough"),f[0]==="title"&&(w=p.demoteNoiseWords(b,w,this["leading-noise-words"])),A||D){if(b.output.openLevel("empty"),G.strings.suffix=G.strings.suffix.replace(/[ .,]+$/,""),x&&(b.tmp.lang_array=[x].concat(K)),p.UPDATE_GROUP_CONTEXT_CONDITION(b,null,null,G,G.strings.prefix+w),b.output.append(w,G),b.tmp.probably_rendered_something=!0,w===A&&(A=!1),A){W.strings.prefix=b.opt.citeAffixes[d][O.secondary].prefix,W.strings.suffix=b.opt.citeAffixes[d][O.secondary].suffix,W.strings.prefix||(W.strings.prefix=" ");for(var B=W.decorations.length-1;B>-1;B+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(W.decorations[B].join("/"))>-1&&(W.decorations=W.decorations.slice(0,B).concat(W.decorations.slice(B+1)));I!=="en"&&W.strings["text-case"]==="title"&&(W.strings["text-case"]="passthrough"),I&&(b.tmp.lang_array=[I].concat(K));var ie=new p.Token;ie.decorations.push(["@font-style","normal"]),ie.decorations.push(["@font-weight","normal"]),b.output.openLevel(ie),b.output.append(A,W),b.output.closeLevel(),b.output.current.value(),b.output.current.value().blobs.length-1}if(w===D&&(D=!1),D){ne.strings.prefix=b.opt.citeAffixes[d][O.tertiary].prefix,ne.strings.suffix=b.opt.citeAffixes[d][O.tertiary].suffix,ne.strings.prefix||(ne.strings.prefix=" ");for(var B=ne.decorations.length-1;B>-1;B+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(ne.decorations[B].join("/"))>-1&&(ne.decorations=ne.decorations.slice(0,B).concat(ne.decorations.slice(B+1)));S!=="en"&&ne.strings["text-case"]==="title"&&(ne.strings["text-case"]="passthrough"),S&&(b.tmp.lang_array=[S].concat(K));var ae=new p.Token;ae.decorations.push(["@font-style","normal"]),ae.decorations.push(["@font-weight","normal"]),b.output.openLevel(ae),b.output.append(D,ne),b.output.closeLevel(),b.output.current.value(),b.output.current.value().blobs.length-1}b.output.closeLevel()}else x&&(b.tmp.lang_array=[x].concat(K)),p.UPDATE_GROUP_CONTEXT_CONDITION(b,null,null,G,G.strings.prefix+w),b.output.append(w,G),b.tmp.probably_rendered_something=!0;return b.tmp.lang_array=K,b.tmp.can_block_substitute&&b.tmp.name_node.children.push(b.output.current.value()),null}}this.getOutputFunction=u};p.Token=function(r,t,e){this.name=r,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=t};p.Util.cloneToken=function(r){var t,e,i,n;if(typeof r=="string")return r;t=new p.Token(r.name,r.tokentype);for(var e in r.strings)r.strings.hasOwnProperty(e)&&(t.strings[e]=r.strings[e]);if(r.decorations)for(t.decorations=[],i=0,n=r.decorations.length;i<n;i+=1)t.decorations.push(r.decorations[i].slice());return r.variables&&(t.variables=r.variables.slice()),r.execs&&(t.execs=r.execs.slice(),r.tests&&(t.tests=r.tests.slice())),t};p.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0};p.Blob=function(r,t,e){var i,n,a;if(this.levelname=e,t){this.strings={prefix:"",suffix:""};for(var a in t.strings)t.strings.hasOwnProperty(a)&&(this.strings[a]=t.strings[a]);for(this.decorations=[],t.decorations===void 0?i=0:i=t.decorations.length,n=0;n<i;n+=1)this.decorations.push(t.decorations[n].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];typeof r=="string"?this.blobs=r:r?this.blobs=[r]:this.blobs=[],this.alldecor=[this.decorations]};p.Blob.prototype.push=function(r){typeof this.blobs=="string"?p.error("Attempt to push blob onto string object"):r!==!1&&(r.alldecor=r.alldecor.concat(this.alldecor),this.blobs.push(r))};p.NumericBlob=function(r,t,e,i,n){if(this.id=n,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=p.START,this.strings={},i){if(i.strings["text-case"]){var a=i.strings["text-case"];this.particle=p.Output.Formatters[a](r,this.particle),this.blobs=p.Output.Formatters[a](r,this.blobs)}this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new p.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new p.Output.DefaultFormatter};p.NumericBlob.prototype.setFormatter=function(r){this.formatter=r,this.type=this.formatter.format(1)};p.Output.DefaultFormatter=function(){};p.Output.DefaultFormatter.prototype.format=function(r){return r.toString()};p.NumericBlob.prototype.checkNext=function(r,t){t?(this.status=p.START,typeof r=="object"&&(r.num===this.num+1?r.status=p.SUCCESSOR:r.status=p.SEEN)):!r||!r.num||this.type!==r.type||r.num!==this.num+1?(this.status===p.SUCCESSOR_OF_SUCCESSOR&&(this.status=p.END),typeof r=="object"&&(r.status=p.SEEN)):this.status===p.START||this.status===p.SEEN?r.status=p.SUCCESSOR:(this.status===p.SUCCESSOR||this.status===p.SUCCESSOR_OF_SUCCESSOR)&&(this.range_prefix?(r.status=p.SUCCESSOR_OF_SUCCESSOR,this.status=p.SUPPRESS):r.status=p.SUCCESSOR)};p.NumericBlob.prototype.checkLast=function(r){return this.status===p.SEEN||r.num!==this.num-1&&this.status===p.SUCCESSOR?(this.status=p.SUCCESSOR,!0):!1};p.Util.fixDateNode=function(r,t,e){var i,n,a,s,o,l,u,f,h,c,m,v,d,g=this.cslXml.getAttributeValue(e,"lingo"),b=this.cslXml.getAttributeValue(e,"default-locale");this.build.date_key=!0,i=this.cslXml.getAttributeValue(e,"form");var g;if(b?g=this.opt["default-locale"][0]:g=this.cslXml.getAttributeValue(e,"lingo"),!this.getDate(i,b))return r;var $=this.cslXml.getAttributeValue(e,"date-parts");n=this.cslXml.getAttributeValue(e,"variable"),f=this.cslXml.getAttributeValue(e,"prefix"),h=this.cslXml.getAttributeValue(e,"suffix"),v=this.cslXml.getAttributeValue(e,"display"),d=this.cslXml.getAttributeValue(e,"cslid"),a=this.cslXml.nodeCopy(this.getDate(i,b)),this.cslXml.setAttribute(a,"lingo",this.opt.lang),this.cslXml.setAttribute(a,"form",i),this.cslXml.setAttribute(a,"date-parts",$),this.cslXml.setAttribute(a,"cslid",d),this.cslXml.setAttribute(a,"variable",n),this.cslXml.setAttribute(a,"default-locale",b),f&&this.cslXml.setAttribute(a,"prefix",f),h&&this.cslXml.setAttribute(a,"suffix",h),v&&this.cslXml.setAttribute(a,"display",v),c=this.cslXml.children(a);for(var w in c)s=c[w],this.cslXml.nodename(s)==="date-part"&&(o=this.cslXml.getAttributeValue(s,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(a,"date-part",o,"@default-locale","true"));c=this.cslXml.children(e);for(var w in c)if(s=c[w],this.cslXml.nodename(s)==="date-part"){o=this.cslXml.getAttributeValue(s,"name"),m=this.cslXml.attributes(s);for(l in m)l!=="@name"&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(u=m[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(a,"date-part",o,l,u)))}if(this.cslXml.getAttributeValue(e,"date-parts")==="year")this.cslXml.deleteNodeByNameAttribute(a,"month"),this.cslXml.deleteNodeByNameAttribute(a,"day");else if(this.cslXml.getAttributeValue(e,"date-parts")==="year-month")this.cslXml.deleteNodeByNameAttribute(a,"day");else if(this.cslXml.getAttributeValue(e,"date-parts")==="month-day"){for(var x=this.cslXml.children(a),A=1,I=this.cslXml.numberofnodes(x);A<I;A++)if(this.cslXml.getAttributeValue(x[A],"name")==="year"){this.cslXml.setAttribute(x[A-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(a,"year")}return this.cslXml.insertChildNodeAfter(r,e,t,a)};p.dateMacroAsSortKey=function(r,t){p.dateAsSortKey.call(this,r,t,!0)};p.dateAsSortKey=function(r,t,e){var i,n,a,s,o,l,u,f,h=this.variables[0],c="empty";if(e&&r.tmp.extension&&(c="macro-with-date"),i=t[h],typeof i>"u"&&(i={"date-parts":[[0]]}),typeof this.dateparts>"u"&&(this.dateparts=["year","month","day"]),i.raw?i=r.fun.dateparser.parseDateToArray(i.raw):i["date-parts"]&&(i=r.dateParseArray(i)),typeof i>"u"&&(i={}),i.year)for(u=0,f=p.DATE_PARTS_INTERNAL.length;u<f;u+=1)if(n=p.DATE_PARTS_INTERNAL[u],a=0,s=n,s.slice(-4)==="_end"&&(s=s.slice(0,-4)),i[n]&&this.dateparts.indexOf(s)>-1&&(a=i[n]),n.slice(0,4)==="year"){o=p.Util.Dates[s].numeric(r,a);var l="1";o[0]==="-"&&(l="0",o=o.slice(1),o=9999-parseInt(o,10)),r.output.append(p.Util.Dates[n.slice(0,4)].numeric(r,l+o),c)}else a=p.Util.Dates[s]["numeric-leading-zeros"](r,a),a||(a="00"),r.output.append(a,c)};p.Engine.prototype.dateParseArray=function(r){var t,e,i,n;t={};for(e in r)if(e==="date-parts"){i=r["date-parts"],i.length>1&&i[0].length!==i[1].length&&p.error("CSL data error: element mismatch in date range input."),n=["","_end"];for(var a=0,s=i.length;a<s;a+=1)for(var o=0,l=p.DATE_PARTS.length;o<l;o+=1)isNaN(parseInt(i[a][o],10))?t[p.DATE_PARTS[o]+n[a]]=void 0:t[p.DATE_PARTS[o]+n[a]]=parseInt(i[a][o],10)}else r.hasOwnProperty(e)&&(e==="literal"&&typeof r.literal=="object"&&typeof r.literal.part=="string"?(p.debug("Warning: fixing up weird literal date value"),t.literal=r.literal.part):t[e]=r[e]);return t};p.Util.Names={};p.Util.Names.compareNamesets=p.NameOutput.prototype._compareNamesets;p.Util.Names.unInitialize=function(r,t){var e,i,n,a,s;if(!t)return"";for(n=t.split(/(?:\-|\s+)/),a=t.match(/(\-|\s+)/g),s="",e=0,i=n.length;e<i;e+=1)s+=n[e],e<i-1&&(s+=a[e]);return s};p.Util.Names.initializeWith=function(r,t,e,i){var n,a,s;if(!t)return"";if(e||(e=""),["Lord","Lady"].indexOf(t)>-1||!t.replace(/^(?:<[^>]+>)*/,"").match(p.STARTSWITH_ROMANESQUE_REGEXP)&&!e.match("%s"))return t;r.opt["initialize-with-hyphen"]===!1&&(t=t.replace(/\-/g," ")),t=t.replace(/\s*\-\s*/g,"-").replace(/\s+/g," "),t=t.replace(/-([a-z])/g,"–$1");for(var n=t.length-2;n>-1;n+=-1)t.slice(n,n+1)==="."&&t.slice(n+1,n+2)!==" "&&(t=t.slice(0,n)+". "+t.slice(n+1));var o=p.Output.Formatters.nameDoppel.split(t),l=[];if(l=[o.strings[0]],o.tags.length===0){var u=l[0].match(/[^\.]+$/);u&&u[0].length===1&&u[0]!==u[0].toLowerCase()&&(l[0]+=".")}for(n=1,a=o.strings.length;n<a;n+=1)l.push(o.tags[n-1]),l.push(o.strings[n]);return i?s=this.doNormalize(r,l,e):s=this.doInitialize(r,l,e),s=s.replace(/\u2013([a-z])/g,"-$1"),s};p.Util.Names.notag=function(r){return r.replace(/^(?:<[^>]+>)*/,"")};p.Util.Names.mergetag=function(r,t,e){var i=t.match(/(?:-*<[^>]+>-*)/g);if(i)t=i.join("");else return e;return i=e.match(/^(.*[^\s])*(\s+)$/),i?(i[1]=i[1]?i[1]:"",e=i[1]+t+i[2]):e=e+t,e};p.Util.Names.tagonly=function(r,t){var e=t.match(/(?:<[^>]+>)+/);return e?e.join(""):t};p.Util.Names.doNormalize=function(r,t,e){var i,n;e=e||"";var a=[];for(i=0,n=t.length;i<n;i+=1)this.notag(t[i]).length>1&&this.notag(t[i]).slice(-1)==="."?(t[i]=t[i].replace(/^(.*)\.(.*)$/,"$1$2"),a.push(!0)):t[i].length===1&&t[i].toUpperCase()===t[i]?a.push(!0):a.push(!1);for(i=0,n=t.length;i<n;i+=2)a[i]&&(i<t.length-2&&(t[i+1]=this.tagonly(r,t[i+1]),a[i+2]||(t[i+1]=this.tagonly(r,t[i+1])+" "),t[i+2].length>1?t[i+1]=e.replace(/\ufeff$/,"")+t[i+1]:t[i+1]=this.mergetag(r,t[i+1],e)),i===t.length-1&&(t[i]=t[i]+e));return t.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")};p.Util.Names.doInitialize=function(r,t,e){var i,n,a,s,o,l,u;for(i=0,n=t.length;i<n;i+=2)if(u=t[i],!!u)if(a=u.match(p.NAME_INITIAL_REGEXP),!a&&!u.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&u.length>1&&e.match("%s")&&(a=u.match(/(.)(.*)/)),a&&a[2]&&a[3]&&(a[1]=a[1]+a[2],a[2]=""),a&&a[1].slice(0,1)===a[1].slice(0,1).toUpperCase()){var f="";if(a[2]){var h="";for(l=a[2].split(""),s=0,o=l.length;s<o;s+=1){var c=l[s];if(c===c.toUpperCase())h+=c;else break}h.length<a[2].length&&(f=p.toLocaleLowerCase.call(r,h))}t[i]=a[1]+f,i<n-1?e.match("%s")?t[i]=e.replace("%s",t[i]):t[i+1].indexOf("-")>-1?t[i+1]=this.mergetag(r,t[i+1].replace("-",""),e)+"-":t[i+1]=this.mergetag(r,t[i+1],e):e.match("%s")?t[i]=e.replace("%s",t[i]):t.push(e)}else u.match(p.ROMANESQUE_REGEXP)&&(!a||!a[3])&&(t[i]=" "+u);var m=t.join("");return m=m.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," "),m};p.Util.Names.getRawName=function(r){var t=[];return r.literal?t.push(r.literal):(r.given&&t.push(r.given),r.family&&t.push(r.family)),t.join(" ")};p.Util.Dates={};p.Util.Dates.year={};p.Util.Dates.year.long=function(r,t){return t||(typeof t=="boolean"?t="":t=0),t.toString()};p.Util.Dates.year.imperial=function(r,t,e){var i="";t||(typeof t=="boolean"?t="":t=0),e=e?"_end":"";var n=r.tmp.date_object["month"+e];for(n=n?""+n:"1";n.length<2;)n="0"+n;var a=r.tmp.date_object["day"+e];for(a=a?""+a:"1";a.length<2;)a="0"+a;var s=parseInt(t+n+a,10),o,l;if(s>=18680908&&s<19120730?(o="明治",l=1867):s>=19120730&&s<19261225?(o="大正",l=1911):s>=19261225&&s<19890108?(o="昭和",l=1925):s>=19890108&&(o="平成",l=1988),o&&l){var u=o;r.sys.normalizeAbbrevsKey&&(u=r.sys.normalizeAbbrevsKey("number",o)),r.transform.abbrevs.default.number[u]||r.transform.loadAbbreviation("default","number",u,null),r.transform.abbrevs.default.number[u]&&(o=r.transform.abbrevs.default.number[u]),i=o+(t-l)}return i};p.Util.Dates.year.short=function(r,t){if(t=t.toString(),t&&t.length===4)return t.substr(2)};p.Util.Dates.year.numeric=function(r,t){var i,e;t=""+t;var i=t.match(/([0-9]*)$/);for(i?(e=t.slice(0,i[1].length*-1),t=i[1]):(e=t,t="");t.length<4;)t="0"+t;return e+t};p.Util.Dates.normalizeMonth=function(r,t){var e;if(r||(r=0),r=""+r,r.match(/^[0-9]+$/)||(r=0),r=parseInt(r,10),t){var i={stub:"month-",num:r};if(i.num<1||i.num>24)i.num=0;else{for(;i.num>16;)i.num=i.num-4;i.num>12&&(i.stub="season-",i.num=i.num-12)}e=i}else(r<1||r>12)&&(r=0),e=r;return e};p.Util.Dates.month={};p.Util.Dates.month.numeric=function(r,e){var e=p.Util.Dates.normalizeMonth(e);return e||(e=""),e};p.Util.Dates.month["numeric-leading-zeros"]=function(r,e){var e=p.Util.Dates.normalizeMonth(e);if(!e)e="";else for(e=""+e;e.length<2;)e="0"+e;return e};p.Util.Dates.month.long=function(r,a,e,i){var n=p.Util.Dates.normalizeMonth(a,!0),a=n.num;if(!a)a="";else{for(a=""+a;a.length<2;)a="0"+a;a=r.getTerm(n.stub+a,"long",0,0,!1,i)}return a};p.Util.Dates.month.short=function(r,a,e,i){var n=p.Util.Dates.normalizeMonth(a,!0),a=n.num;if(!a)a="";else{for(a=""+a;a.length<2;)a="0"+a;a=r.getTerm(n.stub+a,"short",0,0,!1,i)}return a};p.Util.Dates.day={};p.Util.Dates.day.numeric=function(r,t){return t.toString()};p.Util.Dates.day.long=p.Util.Dates.day.numeric;p.Util.Dates.day["numeric-leading-zeros"]=function(r,t){for(t||(t=0),t=t.toString();t.length<2;)t="0"+t;return t.toString()};p.Util.Dates.day.ordinal=function(r,t,e){return r.fun.ordinalizer.format(t,e)};p.Util.Sort={};p.Util.Sort.strip_prepositions=function(r){var t;return typeof r=="string"&&(t=r.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),t&&(r=r.substr(t[1].length)),r};p.Util.substituteStart=function(r,t){var e,i,n,a,s,o,l;a=function(u,f,h){for(var c=0,m=this.decorations.length;c<m;c+=1)if(this.decorations[c][0]==="@strip-periods"&&this.decorations[c][1]==="true"){u.tmp.strip_periods+=1;break}},this.execs.push(a),this.decorations&&r.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),l=["number","date","names"],(this.name==="text"&&!this.postponed_macro||l.indexOf(this.name)>-1)&&(e=function(u,f,h){u.tmp.element_trace.value()==="author"||this.name==="names"?(!u.tmp.just_looking&&h&&h["author-only"]&&u.tmp.area!=="intext"&&u.tmp.probably_rendered_something&&u.tmp.element_trace.push("suppress-me"),!u.tmp.just_looking&&h&&h["suppress-author"]&&(u.tmp.probably_rendered_something||u.tmp.element_trace.push("suppress-me"))):this.name==="date"?!u.tmp.just_looking&&h&&h["author-only"]&&u.tmp.area!=="intext"&&u.tmp.probably_rendered_something&&u.tmp.element_trace.push("suppress-me"):!u.tmp.just_looking&&h&&h["author-only"]&&u.tmp.area!=="intext"?!u.tmp.probably_rendered_something&&u.tmp.can_block_substitute||u.tmp.element_trace.push("suppress-me"):h&&h["suppress-author"]&&u.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(e)),i=this.strings.cls,this.strings.cls=!1,r.build.render_nesting_level===0&&(r.build.area==="bibliography"&&r.bibliography.opt["second-field-align"]?(n=new p.Token("group",p.START),n.decorations=[["@display","left-margin"]],a=function(u,f){u.tmp.render_seen||(n.strings.first_blob=f.id,u.output.startTag("bib_first",n))},n.execs.push(a),t.push(n)):p.DISPLAY_CLASSES.indexOf(i)>-1&&(n=new p.Token("group",p.START),n.decorations=[["@display",i]],a=function(u,f){n.strings.first_blob=f.id,u.output.startTag("bib_first",n)},n.execs.push(a),t.push(n)),r.build.cls=i),r.build.render_nesting_level+=1,r.build.substitute_level.value()===1&&(s=new p.Token("choose",p.START),p.Node.choose.build.call(s,r,t),o=new p.Token("if",p.START),a=function(){return!!r.tmp.can_substitute.value()},o.tests||(o.tests=[]),o.tests.push(a),o.test=r.fun.match.any(this,r,o.tests),t.push(o)),r.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(a=function(u,f,h){if(!u.tmp.just_looking&&!u.tmp.suppress_decorations){var c=new p.Token("text",p.START);c.decorations=[["@showid","true"]],u.output.startTag("variable_entry",c);var m=null;h&&(m=h.position),m||(m=0);var v=["first","container-subsequent","subsequent","ibid","ibid-with-locator"],d=0;h&&h.noteIndex&&(d=h.noteIndex);var b=0;h&&h["first-reference-note-number"]&&(b=h["first-reference-note-number"]);var g=0;h&&h["first-container-reference-note-number"]&&(g=h["first-container-reference-note-number"]);var $=0;h&&h["citation-number"]&&($=h["citation-number"]);var w=0;h&&h.index&&(w=h.index);var x={itemData:f,variableNames:this.variables,context:u.tmp.area,xclass:u.opt.xclass,position:v[m],"note-number":d,"first-reference-note-number":b,"first-container-reference-note-number":g,"citation-number":$,index:w,mode:u.opt.mode};u.output.current.value().params=x}},this.execs.push(a))};p.Util.substituteEnd=function(r,t){var e,i,n,a,s,o;if(r.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(e=function(u){!u.tmp.just_looking&&!u.tmp.suppress_decorations&&u.output.endTag("variable_entry")},this.execs.push(e)),e=function(u){for(var f=0,h=this.decorations.length;f<h;f+=1)if(this.decorations[f][0]==="@strip-periods"&&this.decorations[f][1]==="true"){u.tmp.strip_periods+=-1;break}},this.execs.push(e),r.build.render_nesting_level+=-1,r.build.render_nesting_level===0&&(r.build.cls?(e=function(u){u.output.endTag("bib_first")},this.execs.push(e),r.build.cls=!1):r.build.area==="bibliography"&&r.bibliography.opt["second-field-align"]&&(i=new p.Token("group",p.END),e=function(u){u.tmp.render_seen||u.output.endTag("bib_first")},i.execs.push(e),t.push(i),n=new p.Token("group",p.START),n.decorations=[["@display","right-inline"]],e=function(u){u.tmp.render_seen||(u.tmp.render_seen=!0,u.output.startTag("bib_other",n))},n.execs.push(e),t.push(n))),r.build.substitute_level.value()===1&&(a=new p.Token("if",p.END),t.push(a),s=new p.Token("choose",p.END),p.Node.choose.build.call(s,r,t)),this.name==="names"||this.name==="text"&&this.variables_real!=="title"){new p.Token("text",p.SINGLETON);var l=this.name;e=function(u,f){if(u.tmp.area==="bibliography"&&typeof u.bibliography.opt["subsequent-author-substitute"]=="string"&&!(this.variables_real&&!f[this.variables_real])&&!(this.variables_real&&l==="names")){var h=u.bibliography.opt["subsequent-author-substitute-rule"],c,m,v=!u.tmp.suppress_decorations;if(v&&u.tmp.subsequent_author_substitute_ok&&u.tmp.rendered_name){if(h==="partial-each"||h==="partial-first"){var d=!0,b=[];for(c=0,m=u.tmp.name_node.children.length;c<m;c+=1){var g=u.tmp.rendered_name[c];d&&u.tmp.last_rendered_name&&u.tmp.last_rendered_name.length>c-1&&g&&!g.localeCompare(u.tmp.last_rendered_name[c])?(o=new p.Blob(u[u.tmp.area].opt["subsequent-author-substitute"]),u.tmp.name_node.children[c].blobs=[o],h==="partial-first"&&(d=!1)):d=!1,b.push(g)}u.tmp.last_rendered_name=b}else if(h==="complete-each"){var b=u.tmp.rendered_name.join(",");if(b){if(u.tmp.last_rendered_name&&!b.localeCompare(u.tmp.last_rendered_name))for(c=0,m=u.tmp.name_node.children.length;c<m;c+=1)o=new p.Blob(u[u.tmp.area].opt["subsequent-author-substitute"]),u.tmp.name_node.children[c].blobs=[o];u.tmp.last_rendered_name=b}}else{var b=u.tmp.rendered_name.join(",");b&&(u.tmp.last_rendered_name&&!b.localeCompare(u.tmp.last_rendered_name)&&(o=new p.Blob(u[u.tmp.area].opt["subsequent-author-substitute"]),u.tmp.label_blob?u.tmp.name_node.top.blobs=[o,u.tmp.label_blob]:u.tmp.name_node.top.blobs.length?u.tmp.name_node.top.blobs[0].blobs=[o]:u.tmp.name_node.top.blobs=[o],u.tmp.substituted_variable=l),u.tmp.last_rendered_name=b)}u.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(e)}(this.name==="text"&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(e=function(u,f){u.tmp.element_trace.mystack.length>1&&u.tmp.element_trace.pop()},this.execs.push(e))};p.Util.padding=function(r){var t=r.match(/\s*(-{0,1}[0-9]+)/);if(t)for(r=parseInt(t[1],10),r<0&&(r=1e20+r),r=""+r;r.length<20;)r="0"+r;return r};p.Util.LongOrdinalizer=function(){};p.Util.LongOrdinalizer.prototype.init=function(r){this.state=r};p.Util.LongOrdinalizer.prototype.format=function(r,t){r<10&&(r="0"+r);var e=p.Engine.getField(p.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+r,"long",0,t);return e||(e=this.state.fun.ordinalizer.format(r,t)),this.state.tmp.cite_renders_content=!0,e};p.Util.Ordinalizer=function(r){this.state=r,this.suffixes={}};p.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var r=0,t=3;r<t;r+=1){var e=[void 0,"masculine","feminine"][r];this.suffixes[this.state.opt.lang][e]=[];for(var i=1;i<5;i+=1){var n=this.state.getTerm("ordinal-0"+i,"long",!1,e);if(typeof n>"u"){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(n)}}}};p.Util.Ordinalizer.prototype.format=function(r,t){var e;r=parseInt(r,10),e=""+r;var i="",n=[];if(t&&n.push(t),n.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){i=this.state.getTerm("ordinal",!1,0,t);for(var a,s=0,o=n.length;s<o;s+=1){a=n[s];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][e]&&l["whole-number"][e][a]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][e][a],!1,0,t):l["last-two-digits"][e.slice(e.length-2)]&&l["last-two-digits"][e.slice(e.length-2)][a]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][e.slice(e.length-2)][a],!1,0,t):l["last-digit"][e.slice(e.length-1)]&&l["last-digit"][e.slice(e.length-1)][a]&&(i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][e.slice(e.length-1)][a],!1,0,t)),i)break}}else t||(t=void 0),this.state.fun.ordinalizer.init(),r/10%10===1||r>10&&r<20?i=this.suffixes[this.state.opt.lang][t][3]:r%10===1&&r%100!==11?i=this.suffixes[this.state.opt.lang][t][0]:r%10===2&&r%100!==12?i=this.suffixes[this.state.opt.lang][t][1]:r%10===3&&r%100!==13?i=this.suffixes[this.state.opt.lang][t][2]:i=this.suffixes[this.state.opt.lang][t][3];return e=e+=i,e};p.Util.Romanizer=function(){};p.Util.Romanizer.prototype.format=function(r){var t,e,i,n,a;if(t="",r<6e3)for(n=r.toString().split(""),n.reverse(),e=0,i=0,a=n.length,e=0;e<a;e+=1)i=parseInt(n[e],10),t=p.ROMAN_NUMERALS[e][i]+t;return t};p.Util.Suffixator=function(r){r||(r=p.SUFFIX_CHARS),this.slist=r.split(",")};p.Util.Suffixator.prototype.format=function(r){var t;r+=1;var e="";do{t=r%26===0?26:r%26;var e=this.slist[t-1]+e;r=(r-t)/26}while(r!==0);return e};p.Engine.prototype.processNumber=function(r,t,e){var i,n=this,a=e;e=e==="page-first"?"page":e;var s=",\\s+and\\s+|\\s+and\\s+";this.opt.lang.slice(0,2)!=="en"&&(s+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var o="\\s*&\\s*",l=new RegExp("^"+o+"$"),u=new RegExp("("+o+"|"+s+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),f=new RegExp("(?:"+o+"|"+s+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),h=this.getTerm("and"),c=this.getTerm("and","symbol");h===c&&(c="&");function m(ie){ie=ie.trim();var ae=ie.match(/^([^ ]+)/);if(ae&&!p.STATUTE_SUBDIV_STRINGS[ae[1]]){var he=null;["locator","locator-extra","page"].indexOf(e)>-1?t.label?he=p.STATUTE_SUBDIV_STRINGS_REVERSE[t.label]:he="p.":he=p.STATUTE_SUBDIV_STRINGS_REVERSE[e],he&&(ie=he+" "+ie)}return ie}function v(ie,ae,he,Ce,ke){Ce=Ce||"";var Te={};if(!ae&&!p.STATUTE_SUBDIV_STRINGS_REVERSE[e]&&(ae="var:"+e),ae){var Ae=ae.match(/(\s*)([^\s]+)(\s*)/);a==="page"&&ke===0&&["p.","pp."].indexOf(Ae[2])===-1?(Te.gotosleepability=!0,Te.labelVisibility=!0):Te.labelVisibility=!1,Te.label=Ae[2],Te.origLabel=ie,Te.labelSuffix=Ae[3]?Ae[3]:"",Te.plural=0}var Ae=he.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/);return Ae?(Te.particle=Ae[1]?Ae[1]:"",Te.value=Ae[2]):(Te.particle="",Te.value=he),Te.joiningSuffix=Ce.replace(/\s*-\s*/,"-"),Te}function d(ie){for(var ae=ie.length-2;ae>-1;ae-=2)ie[ae]==="-"&&ie[ae-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&ie[ae+1].match(/^[,a-zA-Z]+$/)&&(ie[ae-1]=ie.slice(ae-1,ae+2).join(""),ie=ie.slice(0,ae).concat(ie.slice(ae+2)));return ie}function b(ie,ae){ae=ae||"",ie=m(ie);var he,Ce,ke;if(e==="page"&&ie.indexOf("–")>-1&&(ie=ie.replace(/\u2013/g,"-")),ie.indexOf("\\-")>-1){he=new RegExp(u.source.replace("\\-","")),Ce=new RegExp(f.source.replace("\\-",""));for(var Te=ie.split("\\-"),Ae=0,Pe=Te.length;Ae<Pe;Ae++)Te[Ae]=Te[Ae].replace(/\-/g,"–");ke=Te.join("\\-"),ke=ke.replace(/\\/g,"")}else he=u,Ce=f,ke=ie;var ye=[],_e=ke.match(he);if(_e){for(var Te=ke.split(Ce),Ae=0,Pe=_e.length;Ae<Pe;Ae++)_e[Ae].match(l)&&(Te[Ae].match(/[a-zA-Z]$/)&&Te[Ae].match(/^[a-zA-Z]/)?_e[Ae]=c:_e[Ae]=" "+c+" ");var X=!1;for(var Ae in Te)if((""+Te[Ae]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;if(X)ye=[ke];else{for(var Ae=0,Pe=Te.length-1;Ae<Pe;Ae++)ye.push(Te[Ae]),ye.push(_e[Ae]);ye.push(Te[Te.length-1]),ye=d(ye)}}else var ye=[ke];for(var fe=[],te=ae,ve="",Ae=0,Pe=ye.length;Ae<Pe;Ae+=2){var _e=ye[Ae].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g);if(_e){for(var Te=ye[Ae].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/),je=Te.length-1;je>0;je--)Te[je-1]&&(!Te[je].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||!Te[je-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/))&&(Te[je-1]=Te[je-1]+_e[je-1]+Te[je],Te=Te.slice(0,je).concat(Te.slice(je+1)),_e=_e.slice(0,je-1).concat(_e.slice(je)));if(_e.length>0){var Y=_e[0].trim(),P=!p.STATUTE_SUBDIV_STRINGS[Y]||typeof n.getTerm(p.STATUTE_SUBDIV_STRINGS[Y])>"u"||["locator","number","locator-extra","page"].indexOf(e)===-1&&p.STATUTE_SUBDIV_STRINGS[Y]!==e;P?Ae===0&&(_e=_e.slice(1),Te[0]=Te[0]+" "+Y+" "+Te[1],Te=Te.slice(0,1).concat(Te.slice(2))):ve=Y}for(var je=0,N=Te.length;je<N;je++)if(Te[je]||je===Te.length-1){var ee;te=_e[je-1]?_e[je-1]:te,ve===te.trim()?ee="":ee=ve,ke=Te[je]?Te[je].trim():"",je===Te.length-1?fe.push(v(ee,te,ke,ye[Ae+1],Ae)):fe.push(v(ee,te,ke,null,Ae))}}else{var ee;ve===te.trim()?ee="":ee=ve,fe.push(v(ee,te,ye[Ae],ye[Ae+1]))}}return fe}function g(ie){for(var ae=0,he=ie.length-1;ae<he;ae++)!ie[ae].joiningSuffix&&ie[ae+1].label&&(ie[ae].joiningSuffix=" ")}function $(ie,ae,he){var Ce=ie[he.pos],ke=ie[ae].value,Te=Ce.joiningSuffix==="\\-";ke.particle&&ke.particle!==Ce.particle&&(he.collapsible=!1);var Ae=ke.match(/^[0-9]+([-,:a-zA-Z]*)$/),Pe=Ce.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if((!ke||!Ae||!Pe||Te)&&(he.collapsible=!1,(!ke||!Pe)&&(he.numeric=!1),Te&&he.count--),(Ae&&Ae[1]||Pe&&Pe[1])&&(he.collapsible=!1),ie[ae].collapsible===void 0){for(var ye=ae,_e=ae+he.count;ye<_e;ye++)isNaN(parseInt(ie[ye].value))&&!ie[ye].value.match(/^[ivxlcmIVXLCM]+$/)?ie[ye].collapsible=!1:ie[ye].collapsible=!0;he.collapsible=ie[ae].collapsible}for(var X=he.collapsible,ye=he.pos,_e=he.pos+he.count;ye<_e;ye++)he.count>1&&X&&(ie[ye].plural=1),ie[ye].numeric=he.numeric,ie[ye].collapsible=he.collapsible}function w(ie,ae,he){he.label.slice(0,4)!=="var:"&&(he.pos===0?(["locator","number","locator-extra","page"].indexOf(e)>-1&&typeof n.getTerm(p.STATUTE_SUBDIV_STRINGS[he.label])>"u"&&(ie[he.pos].labelVisibility=!0),["locator","number","locator-extra","page"].indexOf(e)===-1&&p.STATUTE_SUBDIV_STRINGS[he.label]!==e&&(ie[0].labelVisibility=!0)):ie[he.pos].labelVisibility=!0)}function x(ie){if(ie.length!==0){for(var ae=0,he=1,Ce=1,ke=ie.length;Ce<ke;Ce++){var Te=ie[Ce-1],Ae=ie[Ce];if(Te.label===Ae.label&&Te.particle===Te.particle)he++;else{var Pe=JSON.parse(JSON.stringify(ie[ae]));Pe.pos=ae,Pe.count=he,Pe.numeric=!0,$(ie,ae,Pe),Te.label!==Ae.label&&w(ie,ae,Pe),ae=Ce,he=1}}var Pe=JSON.parse(JSON.stringify(ie[ae]));Pe.pos=ae,Pe.count=he,Pe.numeric=!0,$(ie,ae,Pe),w(ie,ae,Pe),ie.length&&ie[0].numeric&&e.slice(0,10)==="number-of-"&&parseInt(t[a],10)>1&&(ie[0].plural=1)}}function A(ie){return ie.replace("\\-","-")}function I(ie){var ae=p.Util.cloneToken(r),he=new p.Token;n.tmp.just_looking||(he.decorations=ae.decorations,ae.decorations=[],he.strings.prefix=ae.strings.prefix,ae.strings.prefix="",he.strings.suffix=ae.strings.suffix,ae.strings.suffix="");var Ce=ie.length?ie[0].label:null;if(ie.length){for(var ke=0,Te=ie.length;ke<Te;ke++){var Ae=ie[ke],Pe=p.Util.cloneToken(ae);Pe.gender=r.gender,Ce===Ae.label&&(Pe.formatter=r.formatter),Ae.numeric&&(Pe.successor_prefix=Ae.successor_prefix),Pe.strings.suffix=Pe.strings.suffix+A(Ae.joiningSuffix),Ae.styling=Pe}n.tmp.just_looking||ie[0].value.slice(0,1)==='"'&&ie[ie.length-1].value.slice(-1)==='"'&&(ie[0].value=ie[0].value.slice(1),ie[ie.length-1].value=ie[ie.length-1].value.slice(0,-1),he.decorations.push(["@quotes",!0]))}return he}function D(ie,ae){var he=!0;if(["locator","locator-extra","page"].indexOf(ie)>-1){var Ce;ae.origLabel?Ce=ae.origLabel:Ce=ae.label,he=!!n.getTerm(p.STATUTE_SUBDIV_STRINGS[Ce])}return he}function S(ie,ae){return ie==="page"||["locator","locator-extra"].indexOf(ie)>-1&&(["p."].indexOf(ae.label)>-1||["p."].indexOf(ae.origLabel)>-1)}function O(ie,ae,he,Ce){var ke=S(ie,ae),Te=D(ie,ae);return Te&&he==="-"&&Ce&&((ke||["locator","locator-extra","issue","volume","edition","number"].indexOf(ie)>-1)&&(he=n.getTerm("page-range-delimiter"),he||(he="–")),ie==="collection-number"&&(he=n.getTerm("year-range-delimiter"),he||(he="–"))),he}function H(ie,ae,he){if(!(ae<1)&&he.count===2&&ie[ae-1].particle===ie[ae].particle){if(ie[ae-1].joiningSuffix!=="-"){he.count=1;return}if(!n.opt["page-range-format"]&&parseInt(ie[ae-1].value,10)>parseInt(ie[ae].value,10)){ie[ae-1].joiningSuffix=O(e,ie[ae],ie[ae-1].joiningSuffix,!0);return}var Ce=ie[ae],ke=S(e,Ce),Te;ke&&!isNaN(parseInt(ie[ae-1].value))&&!isNaN(parseInt(ie[ae].value))?(Te=ie[ae-1].particle+ie[ae-1].value+" - "+ie[ae].particle+ie[ae].value,Te=n.fun.page_mangler(Te)):((""+ie[ae-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+ie[ae].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(ie[ae-1].joiningSuffix=n.getTerm("page-range-delimiter")),Te=ie[ae-1].value+A(ie[ae-1].joiningSuffix)+ie[ae].value);var Ae=Te.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(Ae){var Pe=Ae[3];Pe=O(e,Ce,Pe,ie[ae].numeric),ie[ae-1].particle=Ae[1],ie[ae-1].value=Ae[2],ie[ae-1].joiningSuffix=Pe,ie[ae].particle=Ae[4],ie[ae].value=Ae[5]}he.count=0}}function B(ie){if(r&&["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(e)!==-1){for(var ae={count:0,label:null,lastHadRangeDelimiter:!1},he=0,Ce=ie.length;he<Ce;he++){var ke=ie[he];if(ke.collapsible)ae.label===ke.label&&ke.joiningSuffix==="-"?ae.count=1:ae.label===ke.label&&ke.joiningSuffix!=="-"?(ae.count++,ae.count===2&&H(ie,he,ae)):ae.label!==ke.label?(ae.label=ke.label,ae.count=1):(ae.count=1,ae.label=ke.label);else{ae.count=0,ae.label=null;var Te=ke.numeric;ke.joiningSuffix=O(e,ke,ke.joiningSuffix,Te)}}ae.count===2&&H(ie,ie.length-1,ae)}}function V(ie,ae,he){var Ce=ie[ae];he.length&&(Ce.numeric=he[0].numeric,Ce.collapsible=he[0].collapsible,Ce.plural=he[0].plural,Ce.label=p.STATUTE_SUBDIV_STRINGS[he[0].label],e==="number"&&Ce.label==="issue"&&n.getTerm("number")&&(Ce.label="number"))}if(r&&this.tmp.shadow_numbers[a]&&this.tmp.shadow_numbers[a].values.length){var K=this.tmp.shadow_numbers[a].values;B(K),this.tmp.shadow_numbers[a].masterStyling=I(K);return}if(this.tmp.shadow_numbers[a]||(this.tmp.shadow_numbers[a]={values:[]}),!!t){var Q=p.LangPrefsMap[e];if(Q){var G=this.opt["cite-lang-prefs"][Q][0];i=this.transform.getTextSubField(t,a,"locale-"+G,!0),i=i.name}else i=t[a];if(i&&a==="number"&&t.type==="legal_case"&&(i=i.replace(/[\\]*-/g,"\\-")),i&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var q=this.sys.normalizeAbbrevsKey(a,i);else var q=i;var W=this.transform.loadAbbreviation(t.jurisdiction,"number",q,t.language);this.transform.abbrevs[W].number&&(this.transform.abbrevs[W].number[q]?i=this.transform.abbrevs[W].number[q]:typeof this.transform.abbrevs[W].number[q]<"u"&&delete this.transform.abbrevs[W].number[q])}if(typeof i<"u"&&(typeof i=="string"||typeof i=="number")){typeof i=="number"&&(i=""+i);var ne=p.STATUTE_SUBDIV_STRINGS_REVERSE[e];if(this.tmp.shadow_numbers[a].values.length===0){var K=b(i,ne);g(K),x(K);for(var Z of K)Z.numeric||(Z.plural=0);this.tmp.shadow_numbers[a].values=K,r&&(B(K),this.tmp.shadow_numbers[a].masterStyling=I(K)),V(this.tmp.shadow_numbers,a,K)}var oe=this.tmp.shadow_numbers[a];e==="number"&&oe.values.length===1&&oe.values[0].value.indexOf("|")>-1&&(oe.values[0].value=oe.values[0].value.replace(/\|/g,", "),oe.values[0].numeric=!0,oe.values[0].plural=1,oe.values[0].collapsible=!1,oe.numeric=!0,oe.plural=1,oe.collapsible=!1),oe.values.length===1&&oe.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(oe.values[0].numeric=!0,oe.values[0].plural=0,oe.values[0].collapsible=!1,oe.numeric=!0,oe.plural=0,oe.collapsible=!1),e==="page"&&oe.values.length>0&&oe.values[0].gotosleepability&&(oe.labelForm="short")}}};p.Util.outputNumericField=function(r,t,e){r.output.openLevel(r.tmp.shadow_numbers[t].masterStyling);var i=r.tmp.shadow_numbers[t].masterStyling,n=r.tmp.shadow_numbers[t].values,a=n.length?n[0].label:null,s=r.tmp.shadow_numbers[t].labelForm,o=r.tmp.group_context.tip.label_static,l;s?l=s:l="short";for(var u=r.tmp.shadow_numbers[t].labelCapitalizeIfFirst,f=r.tmp.shadow_numbers[t].labelDecorations,h=null,c=0,m=n.length;c<m;c++){var v=n[c],d="",b;v.label&&(v.label.slice(0,4)==="var:"?b=v.label.slice(4):b=p.STATUTE_SUBDIV_STRINGS[v.label],b&&(v.label===a?(o&&(d=r.getTerm(b,"static",v.plural),d.indexOf("%s")===-1&&(d="")),d||(d=r.getTerm(b,s,v.plural))):(o&&(d=r.getTerm(b,"static",v.plural),d.indexOf("%s")===-1&&(d="")),d||(d=r.getTerm(b,l,v.plural))),u&&(d=p.Output.Formatters["capitalize-first"](r,d))));var g=-1;d&&(g=d.indexOf("%s"));var $=p.Util.cloneToken(v.styling);if($.formatter=v.styling.formatter,$.type=v.styling.type,$.num=v.styling.num,$.gender=v.styling.gender,g>0&&g<d.length-2)$.strings.prefix+=d.slice(0,g),$.strings.suffix=d.slice(g+2)+$.strings.suffix;else if(v.labelVisibility)if(d||(d=v.label,b=v.label),g>0){var w=new p.Token;w.decorations=f,r.output.append(d.slice(0,g),w)}else(g===d.length-2||g===-1)&&r.output.append(d+v.labelSuffix,"empty");if(p.UPDATE_GROUP_CONTEXT_CONDITION(r,i.strings.prefix,null,i,`${v.particle}${v.value}`),v.collapsible){var x;v.value.match(/^[1-9][0-9]*$/)&&Number.isSafeInteger(parseInt(v.value,10))?x=new p.NumericBlob(r,v.particle,parseInt(v.value,10),$,e):x=new p.NumericBlob(r,v.particle,v.value,$,e),typeof x.gender>"u"&&(x.gender=r.locale[r.opt.lang]["noun-genders"][t]),r.output.append(x,"literal")}else r.output.append(v.particle+v.value,$);if(g===0&&g<d.length-2&&(h===null&&(h=b),b!==h||c===n.length-1)){var A=new p.Token;A.decorations=f,r.output.append(d.slice(g+2),A)}h=b,r.tmp.term_predecessor=!0}r.output.closeLevel()};p.Util.PageRangeMangler={};p.Util.PageRangeMangler.getFunction=function(r,t){var e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x=r.getTerm(t+"-range-delimiter");e=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,a=function(I){for(n=I.length,i=1;i<n;i+=2)typeof I[i]=="object"&&(I[i]=I[i].join(""));var D=I.join("");return D=D.replace(/([^\\])\-/g,"$1"+r.getTerm(t+"-range-delimiter")),D},s=function(I){var D,S,O,H="\\s+\\-\\s+",B=x==="-"?"":x,V=new RegExp("([^\\\\])[-"+B+"\\u2013]","g");I=I.replace(V,"$1 - ").replace(/\s+-\s+/g," - ");var K=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+H+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),Q=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+H+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(D=I.match(K),S=I.split(Q),S.length===0)O=D;else for(O=[S[0]],i=1,n=S.length;i<n;i+=1)O.push(D[i-1].replace(/\s*\-\s*/g,"-")),O.push(S[i]);return O},o=function(I){for(I=""+I,c=s(I),n=c.length,i=1;i<n;i+=2)m=c[i].match(e),m&&(!m[3]||m[1]===m[3])&&(m[4].length<m[2].length&&(m[4]=m[2].slice(0,m[2].length-m[4].length)+m[4]),parseInt(m[2],10)<parseInt(m[4],10)&&(m[3]=x+(m[1]?m[1]:""),c[i]=m.slice(1))),typeof c[i]=="string"&&(c[i]=c[i].replace(/\-/g,x));return c},l=function(I,D,S){n=I.length;for(var O=1,H=I.length;O<H;O+=2)typeof I[O]=="object"&&(I[O][3]=u(I[O][1],I[O][3],D,S),I[O][2].slice(1)===I[O][0]&&(I[O][2]=x));return a(I)},u=function(I,D,S,O){if(S||(S=0),v=(""+I).split(""),d=(""+D).split(""),b=d.slice(),b.reverse(),v.length===d.length)for(var H=0,B=v.length;H<B;H+=1)if(v[H]===d[H]&&b.length>S)b.pop();else{if(S&&O&&b.length===3){var V=v.slice(0,H);V.reverse(),b=b.concat(V)}break}return b.reverse(),b.join("")},f=function(I){for(n=I.length,i=1;i<n;i+=2)typeof I[i]=="object"&&(m=I[i],g=parseInt(m[1],10),$=parseInt(m[3],10),g>100&&g%100&&parseInt(g/100,10)===parseInt($/100,10)?m[3]=""+$%100:g>=1e4&&(m[3]=""+$%1e3)),m[2].slice(1)===m[0]&&(m[2]=x);return a(I)},h=function(I){for(n=I.length,i=1;i<n;i+=2){if(typeof I[i]=="object"&&(m=I[i],g=parseInt(m[1],10),$=parseInt(m[3],10),d=""+$,g>100&&g%100))for(var D=2;D<d.length;D++){var S=Math.pow(10,D);if(Math.floor(g/S)===Math.floor($/S)){m[3]=""+$%S;break}}m[2].slice(1)===m[0]&&(m[2]=x)}return a(I)};var A=function(I,D,S,O){var B;I=""+I;var H=o(I),B=D(H,S,O);return B};return r.opt[t+"-range-format"]?r.opt[t+"-range-format"]==="expanded"?w=function(I){return A(I,a)}:r.opt[t+"-range-format"]==="minimal"?w=function(I){return A(I,l)}:r.opt[t+"-range-format"]==="minimal-two"?w=function(I,D){return A(I,l,2,D)}:r.opt[t+"-range-format"]==="chicago"?w=function(I){return A(I,f)}:r.opt[t+"-range-format"]==="chicago-15"?w=function(I){return A(I,f)}:r.opt[t+"-range-format"]==="chicago-16"&&(w=function(I){return A(I,h)}):w=function(I){return A(I,a)},w};p.Util.FlipFlopper=function(r){var t=[],e={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};e['("']=e[' "'],e["('"]=e[" '"];var i=r.getTerm("open-quote"),n=r.getTerm("close-quote"),a=r.getTerm("open-inner-quote"),s=r.getTerm("close-inner-quote");i&&n&&[' "'," '",'"',"'"].indexOf(i)===-1&&(e[i]=JSON.parse(JSON.stringify(e[' "'])),e[i].opener=i,e[i].closer=n),a&&s&&[' "'," '",'"',"'"].indexOf(a)===-1&&(e[a]=JSON.parse(JSON.stringify(e[" '"])),e[a].opener=a,e[a].closer=s);function o($){var w={" '":' "',' "':" '",'("':"('","('":'("'};e[$].outer="true",e[w[$]].outer="inner"}function l($){for(var w=[],x=Object.keys(e),A=0,I=x.length;A<I;A++){var D=x[A];(e[$].type!=="quote"||!e[$])&&w.push(D)}var S=e[$];return S.opener=new RegExp("^(?:"+w.map(function(O){return O.replace("(","\\(")}).join("|")+")"),S}var u=function(){for(var $={},w=Object.keys(e),x=0,A=w.length;x<A;x++){var I=w[x];$[I]=l(I)}return $}(),f=function(){var $=[],w=[],x={};for(var A in u)$.push(A),x[u[A].closer]=!0;for(var I=Object.keys(x),D=0,S=I.length;D<S;D++){var O=I[D];w.push(O)}var H=$.concat(w).map(function(B){return B.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+H+"))","g"),splitAll:new RegExp("(?:"+H+")","g"),open:new RegExp("(^(?:"+$.map(function(B){return B.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+w.join("|")+")$)")}}();function h($,w){var x=t[t.length-1];return!x||$.match(x.opener)?(t.push({type:u[$].type,opener:u[$].opener,closer:u[$].closer,pos:w}),!1):(t.pop(),t.push({type:u[$].type,opener:u[$].opener,closer:u[$].closer,pos:w}),{fixtag:x.pos})}function c($,w){var x=t[t.length-1];return x&&$===x.closer?(t.pop(),x.type==="nocase"?{nocase:{open:x.pos,close:w}}:!1):x?{fixtag:x.pos}:{fixtag:w}}function m($,w){return $.match(f.open)?h($,w):c($,w)}function v($){var w=[];$=$.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4'),$=$.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3");var x=$.match(f.matchAll);if(!x)return{tags:[],strings:[$],forcedSpaces:[]};for(var A=$.split(f.splitAll),I=0,D=x.length-1;I<D;I++)e[x[I]]&&(A[I+1]===""&&['"',"'"].indexOf(x[I+1])>-1?(x[I+1]=" "+x[I+1],w.push(!0)):w.push(!1));return{tags:x,strings:A,forcedSpaces:w}}var d=function($){var w=[];this.set=function(x){for(var A=e[x].attr,I=null,D=w.length-1;D>-1;D--){var S=w[D];if(S[0]===A){I=S;break}}if(!I){var O=[r[r.tmp.area].opt.layout_decorations].concat($.alldecor);e:for(var D=O.length-1;D>-1;D--){var H=O[D];if(H)for(var B=H.length-1;B>-1;B--){var S=H[B];if(S[0]===A){I=S;break e}}}}I?I=[A,e[x].flipflop[I[1]]]:I=[A,e[x].outer],w.push(I)},this.pair=function(){return w[w.length-1]},this.pop=function(){w.pop()}};function b($,w){if($==="'"){if(w&&w.match(/^[^\,\.\?\:\;\ ]/))return"’"}else if($===" '"&&w&&w.match(/^[\ ]/))return" ’";return!1}function g($,w,x){var A=!0,I=new d($);$.blobs=[];function D(K){this.stack=[K],this.latest=K,this.addStyling=function(Q,G){if(A&&(Q.slice(0,1)===" "&&(Q=Q.slice(1)),Q.slice(0,1)===" "&&(Q=Q.slice(1)),A=!1),this.latest=this.stack[this.stack.length-1],G){if(typeof this.latest.blobs=="string"){var q=new p.Blob;q.blobs=this.latest.blobs,q.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[q]}var W=new p.Token,ne=new p.Blob(null,W);if(ne.alldecor=this.latest.alldecor.slice(),G[0]==="@class"&&G[1]==="nodecor"){for(var Z=[],oe={},ie=[r[r.tmp.area].opt.layout_decorations].concat(ne.alldecor),ae=ie.length-1;ae>-1;ae--){var he=ie[ae];if(he)for(var Ce=he.length-1;Ce>-1;Ce--){var ke=he[Ce];["@font-weight","@font-style","@font-variant"].indexOf(ke[0])>-1&&!oe[ke[0]]&&(G[1]!=="normal"&&(ne.decorations.push([ke[0],"normal"]),Z.push([ke[0],"normal"])),oe[ke[0]]=!0)}}ne.alldecor.push(Z)}else ne.decorations.push(G),ne.alldecor.push([G]);if(this.latest.blobs.push(ne),this.stack.push(ne),this.latest=ne,Q){var W=new p.Token,ne=new p.Blob(null,W);ne.blobs=Q,ne.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(ne)}}else if(Q){var q=new p.Blob;q.blobs=Q,q.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(q)}},this.popStyling=function(){this.stack.pop()}}var S=new D($);if(w.strings.length){var O=w.strings[0];x&&(O=" "+O),S.addStyling(O)}for(var H=0,B=w.tags.length;H<B;H++){var V=w.tags[H],O=w.strings[H+1];V.match(f.open)?(I.set(V),S.addStyling(O,I.pair())):(I.pop(),S.popStyling(),S.addStyling(O))}}this.processTags=function($){var A=$.blobs,w=!1;A.slice(0,1)===" "&&!A.match(/^\s+[\'\"]/)&&(w=!0);var x=new RegExp("("+p.ROMANESQUE_REGEXP.source+")’("+p.ROMANESQUE_REGEXP.source+")","g"),A=" "+A.replace(x,"$1'$2"),I=v(A);if(I.tags.length!==0){for(var D=!1,S=0,O=I.tags.length;S<O;S++){var H=I.tags[S],A=I.strings[S+1],B=b(H,A);if(B)I.strings[S+1]=B+I.strings[S+1],I.tags[S]="";else{for(var V;V=m(H,S),V;)if(Object.keys(V).indexOf("fixtag")>-1){if(H.match(f.close)&&H==="'")I.strings[S+1]="’"+I.strings[S+1],I.tags[S]="";else{var K=I.tags[V.fixtag];I.forcedSpaces[V.fixtag-1]&&(K=K.slice(1)),I.strings[V.fixtag+1]=K+I.strings[V.fixtag+1],I.tags[V.fixtag]=""}if(t.length>0)if(H!=="'")t.pop();else break;else break}else if(V.nocase){I.tags[V.nocase.open]="",I.tags[V.nocase.close]="";break}else break;V&&(V.fixtag||V.fixtag===0)&&(I.strings[S+1]=I.tags[S]+I.strings[S+1],I.tags[S]="")}}for(var S=t.length-1;S>-1;S--){var Q=t[S].pos,H=I.tags[Q];H===" '"||H==="'"?I.strings[Q+1]=" ’"+I.strings[Q+1]:I.strings[Q+1]=I.tags[Q]+I.strings[Q+1],I.tags[Q]="",t.pop()}for(var S=I.tags.length-1;S>-1;S--)I.tags[S]||(I.tags=I.tags.slice(0,S).concat(I.tags.slice(S+1)),I.strings[S]=I.strings[S]+I.strings[S+1],I.strings=I.strings.slice(0,S+1).concat(I.strings.slice(S+2)));for(var S=0,O=I.tags.length;S<O;S++){var H=I.tags[S],G=I.forcedSpaces[S-1];[' "'," '",'("',"('"].indexOf(H)>-1&&(D||(o(H),D=!0),G||(I.strings[S]+=H.slice(0,1)))}g($,I,w)}}};p.Output.Formatters=function(){var r=`(?:‘|’|“|”| "| '|"|'|[-–—/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)`,t=new p.Doppeler(r,function(d){return d.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),e='(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)',i=new p.Doppeler(e),n=new p.Doppeler("(?:[    -​ 　]+)"),a={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function s(d){var b=d.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return b&&!(b[2].match(/^[\u0370-\u03FF]$/)&&!b[3])?b[1]+p.toLocaleUpperCase.call(this,b[2])+b[3]:d}function o(d,b){if(!b)return"";d.doppel=t.split(b);var g={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"‘":{opener:"‘",closer:"’"},"“":{opener:"“",closer:"”"}};function $(Q,G){if(d.quoteState.length===0||Q===d.quoteState[d.quoteState.length-1].opener)return d.quoteState.push({opener:g[Q].opener,closer:g[Q].closer,pos:G}),!1;var q=d.quoteState[d.quoteState.length-1].pos;return d.quoteState.pop(),d.quoteState.push({opener:g[Q].opener,closer:g[Q].closer,positions:G}),q}function w(Q,G){if(d.quoteState.length>0&&Q===d.quoteState[d.quoteState.length-1].closer)d.quoteState.pop();else return G}function x(Q,G){var q=["“","‘",' "'," '"].indexOf(Q)>-1;return q?$(Q,G):w(Q,G)}function A(Q,G){var q=Q.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(q)return x(q[1],G)}d.doppel.strings.length&&d.doppel.strings[0].trim()&&(d.doppel.strings[0]=d.capitaliseWords(d.doppel.strings[0],0,d.doppel.tags[0]));for(var I=0,D=d.doppel.tags.length;I<D;I++){var S=d.doppel.tags[I],O=d.doppel.strings[I+1];if(d.tagState!==null&&(a[S]?d.tagState.push(a[S]):d.tagState.length&&S===d.tagState[d.tagState.length-1]&&d.tagState.pop()),d.afterPunct!==null&&S.match(/[\!\?\:]$/)&&(d.afterPunct=!0),d.tagState.length===0?d.doppel.strings[I+1]=d.capitaliseWords(O,I+1,d.doppel,d.doppel.tags[I+1]):d.doppel.strings[I+1].trim()&&(d.lastWordPos=null),d.quoteState!==null){var H=A(S,I);if(H||H===0){var B=d.doppel.origStrings[H+1].slice(0,1);d.doppel.strings[H+1]=B+d.doppel.strings[H+1].slice(1),d.lastWordPos=null}}d.isFirst&&O.trim()&&(d.isFirst=!1),d.afterPunct&&O.trim()&&(d.afterPunct=!1)}if(d.quoteState)for(var I=0,D=d.quoteState.length;I<D;I++){var H=d.quoteState[I].pos;if(typeof H<"u"){var B=d.doppel.origStrings[H+1].slice(0,1);d.doppel.strings[H+1]=B+d.doppel.strings[H+1].slice(1)}}if(d.lastWordPos){var V=n.split(d.doppel.strings[d.lastWordPos.strings]),K=V.strings[d.lastWordPos.words];K.length>1&&p.toLocaleLowerCase.call(this,K).match(d.skipWordsRex)&&(K=s.call(this,K),V.strings[d.lastWordPos.words]=K),d.doppel.strings[d.lastWordPos.strings]=n.join(V)}return t.join(d.doppel)}function l(d,b){return b}function u(d,b){var g={quoteState:null,capitaliseWords:function($){for(var w=$.split(" "),x=0,A=w.length;x<A;x++){var I=w[x];I&&(w[x]=p.toLocaleLowerCase.call(d,I))}return w.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(d,g,b)}function f(d,b){var g={quoteState:null,capitaliseWords:function($){for(var w=$.split(" "),x=0,A=w.length;x<A;x++){var I=w[x];I&&(w[x]=p.toLocaleUpperCase.call(d,I))}return w.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(d,g,b)}function h(d,b){var g={quoteState:[],capitaliseWords:function($){for(var w=$.split(" "),x=0,A=w.length;x<A;x++){var I=w[x];I&&(g.isFirst?(w[x]=s.call(d,I),g.isFirst=!1):w[x]=p.toLocaleLowerCase.call(d,I))}return w.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return o.call(d,g,b)}function c(d,b){var g={quoteState:[],capitaliseWords:function($,w,x){if($.trim()){for(var A=n.split($),I=A.strings,D=0,S=I.length;D<S;D++){var O=I[D];if(!O)continue;let H=p.toLocaleLowerCase.call(d,O),B=!1;(O.length>1&&!H.match(g.skipWordsRex)||D===I.length-1&&x==="-"||g.isFirst||g.afterPunct)&&(B=!0),B&&O===H&&(I[D]=s.call(d,O)),g.afterPunct=!1,g.isFirst=!1,g.lastWordPos={strings:w,words:D}}$=n.join(A)}return $},skipWordsRex:d.locale[d.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return o.call(d,g,b)}function m(d,b){var g={quoteState:[],capitaliseWords:function($){for(var w=n.split($),x=w.strings,A=0,I=x.length;A<I;A++){var D=x[A];if(D&&g.isFirst){D===p.toLocaleLowerCase.call(d,D)&&(x[A]=s.call(d,D)),g.isFirst=!1;break}}return n.join(w)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return o.call(d,g,b)}function v(d,b){var g={quoteState:[],capitaliseWords:function($){for(var w=n.split($),x=w.strings,A=0,I=x.length;A<I;A++){var D=x[A];D&&D===p.toLocaleLowerCase.call(d,D)&&(x[A]=s.call(d,D))}return n.join(w)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(d,g,b)}return{nameDoppel:i,passthrough:l,lowercase:u,uppercase:f,sentence:h,title:c,"capitalize-first":m,"capitalize-all":v}}();p.Output.Formats=function(){};p.Output.Formats.prototype.html={text_escape:function(r){return r||(r=""),r.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"  ").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+p.SUPERSCRIPTS[t]+"</sup>"})},bibstart:`<div class="csl-bib-body">
`,bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){var e="";return r.sys.embedBibliographyEntry&&(e=r.sys.embedBibliographyEntry(this.item_id)+`
`),'  <div class="csl-entry">'+t+`</div>
`+e},"@display/block":function(r,t){return`

    <div class="csl-block">`+t+`</div>
`},"@display/left-margin":function(r,t){return`
    <div class="csl-left-margin">`+t+"</div>"},"@display/right-inline":function(r,t){return'<div class="csl-right-inline">'+t+`</div>
  `},"@display/indent":function(r,t){return'<div class="csl-indent">'+t+`</div>
  `},"@showid/true":function(r,t,e){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations){if(e)return'<span class="'+r.opt.nodenames[e]+'" cslid="'+e+'">'+t+"</span>";if(this.params&&typeof t=="string"){var i="";if(t){var n=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);i=n[1],t=n[2]}var a="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(a=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,i,t,a)}else return t}else return t},"@URL/true":function(r,t){return'<a href="'+t+'">'+t+"</a>"},"@DOI/true":function(r,t){var e=t;return t.match(/^https?:\/\//)||(e="https://doi.org/"+t),'<a href="'+e+'">'+t+"</a>"}};p.Output.Formats.prototype.text={text_escape:function(r){return r||(r=""),r},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return t+`
`},"@display/block":function(r,t){return`
`+t},"@display/left-margin":function(r,t){return t+" "},"@display/right-inline":function(r,t){return t},"@display/indent":function(r,t){return`
    `+t},"@showid/true":function(r,t){return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){return t}};p.Output.Formats.prototype.rtf={text_escape:function(r){return r||(r=""),r.replace(/([\\{}])/g,"\\$1").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+p.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("	").join("\\tab{}")},"@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?p.Output.Formats.rtf.text_escape(r.getTerm("open-quote")):p.Output.Formats.rtf.text_escape(r.getTerm("open-quote"))+t+p.Output.Formats.rtf.text_escape(r.getTerm("close-quote"))},"@quotes/inner":function(r,t){return typeof t>"u"?p.Output.Formats.rtf.text_escape("’"):p.Output.Formats.rtf.text_escape(r.getTerm("open-inner-quote"))+t+p.Output.Formats.rtf.text_escape(r.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":`\\line{}%%STRING%%\\line\r
`,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return t},"@display/left-margin":function(r,t){return t+"\\tab "},"@display/right-inline":function(r,t){return t+`\r
`},"@display/indent":function(r,t){return`
\\tab `+t+`\\line\r
`},"@showid/true":function(r,t){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations){var e="";if(t){var i=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);e=i[1],t=i[2]}var n="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,e,t,n)}else return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){return t}};p.Output.Formats.prototype.asciidoc={text_escape:function(r){return r||(r=""),r.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"^"+p.SUPERSCRIPTS[t]+"^"})},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?"``":"``"+t+"''"},"@quotes/inner":function(r,t){return typeof t>"u"?"`":"`"+t+"'"},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return t+`
`},"@display/block":function(r,t){return t},"@display/left-margin":function(r,t){return t},"@display/right-inline":function(r,t){return" "+t},"@display/indent":function(r,t){return" "+t},"@showid/true":function(r,t){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations&&this.params&&typeof t=="string"){var e="";if(t){var i=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);e=i[1],t=i[2]}var n="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,e,t,n)}else return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){var e=t;return t.match(/^https?:\/\//)||(e="https://doi.org/"+t),e+"["+t+"]"}};p.Output.Formats.prototype.fo={text_escape:function(r){return r||(r=""),r.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,function(t){return'<fo:inline vertical-align="super">'+p.SUPERSCRIPTS[t]+"</fo:inline>"})},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){var e="";if(r.bibliography&&r.bibliography.opt&&r.bibliography.opt.hangingindent){var i=r.bibliography.opt.hangingindent;e=' start-indent="'+i+'em" text-indent="-'+i+'em"'}var n="";return r.sys.embedBibliographyEntry&&(n=r.sys.embedBibliographyEntry(this.item_id)+`
`),'<fo:block id="'+this.system_id+'"'+e+">"+t+`</fo:block>
`+n},"@display/block":function(r,t){return`
  <fo:block>`+t+`</fo:block>
`},"@display/left-margin":function(r,t){return`
  <fo:table table-layout="fixed" width="100%">
    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>
    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>
    <fo:table-body>
      <fo:table-row>
        <fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
        `},"@display/right-inline":function(r,t){return`<fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
      </fo:table-row>
    </fo:table-body>
  </fo:table>
`},"@display/indent":function(r,t){return'<fo:block margin-left="2em">'+t+`</fo:block>
`},"@showid/true":function(r,t){if(!r.tmp.just_looking&&!r.tmp.suppress_decorations&&this.params&&typeof t=="string"){var e="";if(t){var i=t.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);e=i[1],t=i[2]}var n="";return t&&p.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(n=t.slice(-1),t=t.slice(0,-1)),r.sys.variableWrapper(this.params,e,t,n)}else return t},"@URL/true":function(r,t){return`<fo:basic-link external-destination="url('`+t+`')">`+t+"</fo:basic-link>"},"@DOI/true":function(r,t){var e=t;return t.match(/^https?:\/\//)||(e="https://doi.org/"+t),`<fo:basic-link external-destination="url('`+e+`')">`+t+"</fo:basic-link>"}};p.Output.Formats.prototype.latex={text_escape:function(r){return r||(r=""),r},bibstart:"\\begin{thebibliography}{4}",bibend:"\\end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(r,t){return typeof t>"u"?r.getTerm("open-quote"):r.getTerm("open-quote")+t+r.getTerm("close-quote")},"@quotes/inner":function(r,t){return typeof t>"u"?"’":r.getTerm("open-inner-quote")+t+r.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(r,t){return r.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(r,t){return"\\bibitem{"+r.sys.embedBibliographyEntry(this.item_id)+`}
`},"@display/block":function(r,t){return`
`+t},"@display/left-margin":function(r,t){return t},"@display/right-inline":function(r,t){return t},"@display/indent":function(r,t){return`
    `+t},"@showid/true":function(r,t,e){return t},"@URL/true":function(r,t){return t},"@DOI/true":function(r,t){return t}};p.Output.Formats=new p.Output.Formats;p.Registry=function(r){this.debug=!1,this.state=r,this.registry={},this.reflist=[],this.refhash={},this.namereg=new p.Registry.NameReg(r),this.citationreg=new p.Registry.CitationReg(r),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new p.Registry.Comparifier(r,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(this.reflist[e]);return t}};p.Registry.prototype.init=function(r,t){var e,i;if(this.oldseq={},t){this.uncited={};for(var e=0,i=r.length;e<i;e+=1)this.myhash[r[e]]||this.mylist.push(""+r[e]),this.uncited[r[e]]=!0,this.myhash[r[e]]=!0}else{for(var n in this.uncited)r.push(n);var a={};for(e=r.length-1;e>-1;e+=-1)a[r[e]]?r=r.slice(0,e).concat(r.slice(e+1)):a[r[e]]=!0;this.mylist=r,this.myhash=a}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}};p.Registry.prototype.dopurge=function(r){for(var t=this.mylist.length-1;t>-1;t+=-1)this.citationreg.citationsByItemId&&(!this.citationreg.citationsByItemId||!this.citationreg.citationsByItemId[this.mylist[t]])&&!r[this.mylist[t]]&&(delete this.myhash[this.mylist[t]],delete this.uncited[this.mylist[t]],this.mylist=this.mylist.slice(0,t).concat(this.mylist.slice(t+1)));this.dodeletes(this.myhash)};p.Registry.prototype.dodeletes=function(r){var t,e,i,n,a,s,o,l,u;if(typeof r=="string"){var e=r;r={},r[e]=!0}for(var e in this.registry)if(!r[e]){if(this.uncited[e])continue;t=this.namereg.delitems(e);for(o in t)this.refreshes[o]=!0;for(i=this.registry[e].ambig,l=this.ambigcites[i].indexOf(e),l>-1&&(s=this.ambigcites[i].slice(),this.ambigcites[i]=s.slice(0,l).concat(s.slice(l+1,s.length)),this.ambigresets[i]=this.ambigcites[i].length),a=this.ambigcites[i].length,n=0;n<a;n+=1)u=""+this.ambigcites[i][n],this.refreshes[u]=!0;if(this.registry[e].siblings){if(this.registry[e].siblings.length==1){var f=this.registry[e].siblings[0];this.registry[f].siblings&&(this.registry[f].siblings.pop(),this.registry[f].master=!0)}else if(this.registry[e].siblings.length>1){var h=[e];if(this.registry[e].master){var c=this.registry[e].siblings[0],m=this.registry[c];m.master=!0,h.push(c)}for(var v=[],d=this.registry[e].siblings.length-1;d>-1;d+=-1){var b=this.registry[e].siblings.pop();h.indexOf(b)===-1&&v.push(b)}for(var d=v.length-1;d>-1;d+=-1)this.registry[e].siblings.push(v[d])}}for(var g=this.reflist.length-1;g>-1;g--)this.reflist[g].id===e&&(this.reflist=this.reflist.slice(0,g).concat(this.reflist.slice(g+1)));delete this.registry[e],delete this.refhash[e],this.return_data.bibchange=!0}};p.Registry.prototype.doinserts=function(r){var t,e,i,n,a,s,o;typeof r=="string"&&(r=[r]);for(var s=0,o=r.length;s<o;s+=1)t=r[s],this.registry[t]||(e=this.state.retrieveItem(t),i=p.getAmbiguousCite.call(this.state,e),this.ambigsTouched[i]=!0,e.legislation_id||(this.akeys[i]=!0),n={id:""+t,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:e,newItem:!0},this.registry[t]=n,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[t]&&(this.registry[t]["first-reference-note-number"]=this.citationreg.citationsByItemId[t][0].properties.noteIndex),a=p.getAmbigConfig.call(this.state),this.registerAmbigToken(i,t,a),this.touched[t]=!0,this.return_data.bibchange=!0)};p.Registry.prototype.rebuildlist=function(r){var t,e,i,n;if(r)for(this.reflist=[],t=this.mylist.length,e=0;e<t;e+=1)i=this.mylist[e],n=this.registry[i],this.reflist.push(n),this.oldseq[i]=this.registry[i].seq,this.registry[i].seq=e+1;else for(this.reflist_inserts=[],t=this.mylist.length,e=0;e<t;e+=1)i=this.mylist[e],n=this.registry[i],n.newItem&&this.reflist_inserts.push(n),this.oldseq[i]=this.registry[i].seq,this.registry[i].seq=e+1};p.Registry.prototype.dorefreshes=function(){var r,t,e,i,n;for(var r in this.refreshes)if(t=this.registry[r],!!t){t.sortkeys=void 0,e=this.state.refetchItem(r);var i=t.ambig;typeof i>"u"&&(this.state.tmp.disambig_settings=!1,i=p.getAmbiguousCite.call(this.state,e),n=p.getAmbigConfig.call(this.state),this.registerAmbigToken(i,r,n));for(var a in this.ambigresets)if(this.ambigresets[a]===1){var s=this.ambigcites[i][0],e=this.state.refetchItem(s);this.registry[s].disambig=new p.AmbigConfig,this.state.tmp.disambig_settings=!1;var i=p.getAmbiguousCite.call(this.state,e),n=p.getAmbigConfig.call(this.state);this.registerAmbigToken(i,s,n)}this.state.tmp.taintedItemIDs[r]=!0,this.ambigsTouched[i]=!0,e.legislation_id||(this.akeys[i]=!0),this.touched[r]=!0}};p.Registry.prototype.setdisambigs=function(){for(var r in this.ambigsTouched)this.state.disambiguate.run(r);this.ambigsTouched={},this.akeys={}};p.Registry.prototype.renumber=function(){var r,t,e;for(this.state.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),r=this.reflist.length,t=0;t<r;t+=1)e=this.reflist[t],e.seq=t+1,this.state.bibliography_sort.opt.citation_number_sort_direction===p.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[e.seq]=this.reflist.length-e.seq+1),this.state.opt.update_mode===p.NUMERIC&&e.seq!=this.oldseq[e.id]&&(this.state.tmp.taintedItemIDs[e.id]=!0),e.seq!=this.oldseq[e.id]&&(this.return_data.bibchange=!0)};p.Registry.prototype.setsortkeys=function(){for(var r,t=0,e=this.mylist.length;t<e;t+=1){var r=this.mylist[t];(this.touched[r]||this.state.tmp.taintedItemIDs[r]||!this.registry[r].sortkeys)&&(this.registry[r].sortkeys=p.getSortKeys.call(this.state,this.state.retrieveItem(r),"bibliography_sort"))}};p.Registry.prototype._insertItem=function(r,t){return t.splice(this._locationOf(r,t)+1,0,r),t};p.Registry.prototype._locationOf=function(r,t,e,i){if(t.length===0)return-1;e=e||0,i=i||t.length;var n=e+i>>1,a=this.sorter.compareKeys(r,t[n]);if(i-e<=1)return a==-1?n-1:n;switch(a){case-1:return this._locationOf(r,t,e,n);case 0:return n;case 1:return this._locationOf(r,t,n,i)}};p.Registry.prototype.sorttokens=function(r){var t,e,i,n;if(!r){for(this.reflist_inserts=[],t=this.mylist.length,n=0;n<t;n+=1)e=this.mylist[n],i=this.registry[e],i.newItem&&this.reflist_inserts.push(i);for(var a in this.state.tmp.taintedItemIDs)if(this.registry[a]&&!this.registry[a].newItem)for(var s=this.reflist.length-1;s>-1;s--)this.reflist[s].id===a&&(this.reflist_inserts.push(this.reflist[s]),this.reflist=this.reflist.slice(0,s).concat(this.reflist.slice(s+1)));for(var s=0,o=this.reflist_inserts.length;s<o;s++){var i=this.reflist_inserts[s];delete i.newItem,this.reflist=this._insertItem(i,this.reflist)}for(n=0;n<t;n+=1)e=this.mylist[n],i=this.registry[e],this.registry[e].seq=n+1}};p.Registry.Comparifier=function(r,t){var e,i,n,a,s=p.getSortCompare.call(r,r.opt["default-locale-sort"]);e=r[t].opt.sort_directions,this.compareKeys=function(o,l){for(i=o.sortkeys?o.sortkeys.length:0,n=0;n<i;n+=1){var u=0;if(o.sortkeys[n]===l.sortkeys[n]?u=0:typeof o.sortkeys[n]>"u"?u=e[n][1]:typeof l.sortkeys[n]>"u"?u=e[n][0]:u=s(o.sortkeys[n],l.sortkeys[n]),0<u)return e[n][1];if(0>u)return e[n][0]}return o.seq>l.seq?1:o.seq<l.seq?-1:0},a=this.compareKeys,this.compareCompositeKeys=function(o,l){return a(o[1],l[1])}};p.Registry.prototype.compareRegistryTokens=function(r,t){return r.seq>t.seq?1:r.seq<t.seq?-1:0};p.Registry.prototype.registerAmbigToken=function(r,t,e){if(this.registry[t]||p.debug("Warning: unregistered item: itemID=("+t+"), akey=("+r+")"),this.registry[t]&&this.registry[t].disambig&&this.registry[t].disambig.names)for(var i=0,n=e.names.length;i<n;i+=1){var a=e.names[i],s=this.registry[t].disambig.names[i];if(a!==s)this.state.tmp.taintedItemIDs[t]=!0;else if(e.givens[i])for(var o=0,l=e.givens[i].length;o<l;o+=1){var u=e.givens[i][o],f=this.registry[t].disambig.givens[i][o];u!==f&&(this.state.tmp.taintedItemIDs[t]=!0)}}this.ambigcites[r]||(this.ambigcites[r]=[]),this.ambigcites[r].indexOf(""+t)===-1&&this.ambigcites[r].push(""+t),this.registry[t].ambig=r,this.registry[t].disambig=p.cloneAmbigConfig(e)};p.getSortKeys=function(r,t){var e,i,n,a,s,o;for(e=this.tmp.area,i=this.tmp.root,n=this.tmp.extension,a=p.Util.Sort.strip_prepositions,this.tmp.area=t,this.tmp.root=t.indexOf("_")>-1?t.slice(0,-5):t,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,p.getCite.call(this,r),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,s=this[t].keys.length,o=0;o<s;o+=1)this[t].keys[o]=a(this[t].keys[o]);return this.tmp.area=e,this.tmp.root=i,this.tmp.extension=n,this[t].keys};p.Registry.NameReg=function(r){var t,e,i,n,a,s,o,l,u,f,h,c;this.state=r,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},o=function(m){return m||(m=""),m.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(m,v,d){t=o(d.family),m.opt["demote-non-dropping-particle"]==="never"&&d["non-dropping-particle"]&&d.family&&(t=`${t} ${d["non-dropping-particle"]}`),i=o(d.given);var b=i.match(/[,\!]* ([^,]+)$/);b&&b[1]===b[1].toLowerCase()&&(i=i.replace(/[,\!]* [^,]+$/,"")),e=p.Util.Names.initializeWith(m,i,"%s"),m.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(t=""+v+t)},u=function(m,v,d,b,g,$){var w;if(r.tmp.area.slice(0,12)==="bibliography"&&!g)return typeof $=="string"?1:2;var x=r.nameOutput.getName(v,"locale-translit",!0);v=x.name,l(this.state,""+m,v),w=2,n=r.opt["disambiguate-add-givenname"],a=r.citation.opt["givenname-disambiguation-rule"];var A=a;if(a==="by-cite"&&(a="all-names"),g==="short"?w=0:typeof $=="string"&&(w=1),typeof this.namereg[t]>"u"||typeof this.namereg[t].ikey[e]>"u")return w;if(A==="by-cite"&&w<=b)return b;if(!n||typeof a=="string"&&a.slice(0,12)==="primary-name"&&d>0||(!a||a==="all-names"||a==="primary-name"?(this.namereg[t].count>1&&(w=1),(this.namereg[t].ikey&&this.namereg[t].ikey[e].count>1||this.namereg[t].count>1&&typeof $!="string")&&(w=2)):(a==="all-names-with-initials"||a==="primary-name-with-initials")&&(this.namereg[t].count>1?w=1:w=0),r.registry.registry[m]))return w;if(g=="short")return 0;if(typeof $=="string")return 1},f=function(m){var v,d,b,g,$;(typeof m=="string"||typeof m=="number")&&(m=[""+m]);var w={};for(d=m.length,v=0;v<d;v+=1)if(g=""+m[v],!!this.nameind[g]){for($ in this.nameind[g])if(this.nameind[g].hasOwnProperty($)){var x=$.split("::");if(t=x[0],e=x[1],i=x[2],typeof this.namereg[t]>"u")continue;if(s=this.namereg[t].items,i&&this.namereg[t].ikey[e]&&this.namereg[t].ikey[e].skey[i]&&(c=this.namereg[t].ikey[e].skey[i].items,b=c.indexOf(""+g),b>-1&&(this.namereg[t].ikey[e].skey[i].items=c.slice(0,b).concat(c.slice([b+1]))),this.namereg[t].ikey[e].skey[i].items.length===0&&(delete this.namereg[t].ikey[e].skey[i],this.namereg[t].ikey[e].count+=-1,this.namereg[t].ikey[e].count<2)))for(var A=0,I=this.namereg[t].ikey[e].items.length;A<I;A+=1)r.tmp.taintedItemIDs[this.namereg[t].ikey[e].items[A]]=!0;if(e&&this.namereg[t].ikey[e]&&(b=this.namereg[t].ikey[e].items.indexOf(""+g),b>-1&&(s=this.namereg[t].ikey[e].items.slice(),this.namereg[t].ikey[e].items=s.slice(0,b).concat(s.slice([b+1]))),this.namereg[t].ikey[e].items.length===0&&(delete this.namereg[t].ikey[e],this.namereg[t].count+=-1,this.namereg[t].count<2)))for(var A=0,I=this.namereg[t].items.length;A<I;A+=1)r.tmp.taintedItemIDs[this.namereg[t].items[A]]=!0;t&&(b=this.namereg[t].items.indexOf(""+g),b>-1&&(s=this.namereg[t].items.slice(),this.namereg[t].items=s.slice(0,b).concat(s.slice([b+1],s.length))),this.namereg[t].items.length<2&&delete this.namereg[t]),delete this.nameind[g][$]}delete this.nameind[g],delete this.nameindpkeys[g]}return w},h=function(m,v,d){var b,g,$=r.nameOutput.getName(v,"locale-translit",!0);if(v=$.name,!(r.citation.opt["givenname-disambiguation-rule"]&&r.citation.opt["givenname-disambiguation-rule"].slice(0,8)==="primary-"&&d!==0)){if(l(this.state,""+m,v),t&&(typeof this.namereg[t]>"u"?(this.namereg[t]={},this.namereg[t].count=0,this.namereg[t].ikey={},this.namereg[t].items=[m]):this.namereg[t].items.indexOf(m)===-1&&this.namereg[t].items.push(m)),t&&e)if(typeof this.namereg[t].ikey[e]>"u"){if(this.namereg[t].ikey[e]={},this.namereg[t].ikey[e].count=0,this.namereg[t].ikey[e].skey={},this.namereg[t].ikey[e].items=[m],this.namereg[t].count+=1,this.namereg[t].count===2)for(var b=0,g=this.namereg[t].items.length;b<g;b+=1)r.tmp.taintedItemIDs[this.namereg[t].items[b]]=!0}else this.namereg[t].ikey[e].items.indexOf(m)===-1&&this.namereg[t].ikey[e].items.push(m);if(t&&e&&i)if(typeof this.namereg[t].ikey[e].skey[i]>"u"){if(this.namereg[t].ikey[e].skey[i]={},this.namereg[t].ikey[e].skey[i].items=[m],this.namereg[t].ikey[e].count+=1,this.namereg[t].ikey[e].count===2)for(var b=0,g=this.namereg[t].ikey[e].items.length;b<g;b+=1)r.tmp.taintedItemIDs[this.namereg[t].ikey[e].items[b]]=!0}else this.namereg[t].ikey[e].skey[i].items.indexOf(m)===-1&&this.namereg[t].ikey[e].skey[i].items.push(m);typeof this.nameind[m]>"u"&&(this.nameind[m]={},this.nameindpkeys[m]={}),t&&(this.nameind[m][t+"::"+e+"::"+i]=!0,this.nameindpkeys[m][t]=this.namereg[t])}},this.addname=h,this.delitems=f,this.evalname=u};p.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]};p.Disambiguation=function(r){this.state=r,this.sys=this.state.sys,this.registry=r.registry.registry,this.ambigcites=r.registry.ambigcites,this.configModes(),this.debug=!1};p.Disambiguation.prototype.run=function(r){this.modes.length&&(this.debug&&this.state.sys.print("[A] === RUN ==="),this.akey=r,this.initVars(r)&&this.runDisambig())};p.Disambiguation.prototype.runDisambig=function(){var r;for(this.debug&&this.state.sys.print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),r=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(r);this.lists=this.lists.slice(1)}};p.Disambiguation.prototype.scanItems=function(r){var t,e,i;this.debug&&this.state.sys.print("[2] === scanItems() ==="),this.Item=r[1][0],this.ItemCite=p.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=r[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var n=0,t=1,e=r[1].length;t<e;t+=1){i=r[1][t];var a=p.getAmbiguousCite.call(this.state,i,this.base,!0);this.debug&&t>1&&this.state.sys.print("  -----------"),this.ItemCite===a?(this.debug&&(this.state.sys.print("  [CLASH]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+i.id+": "+a)),n+=1,this.partners.push(i)):(this.debug&&(this.state.sys.print("  [clear]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+i.id+": "+a)),this.nonpartners.push(i))}this.clashes[0]=this.clashes[1],this.clashes[1]=n};p.Disambiguation.prototype.evalScan=function(r){this[this.modes[this.modeindex]](r),r&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])};p.Disambiguation.prototype.disNames=function(r){var t,e;if(this.debug&&this.state.sys.print("[3] == disNames() =="),this.clashes[1]===0&&this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [a]: lone partner, one nonpartner"),this.state.sys.print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(this.clashes[1]===0)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),this.state.sys.print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),this.state.sys.print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&this.state.sys.print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&this.state.sys.print("  ** RESOLUTION [e]: no improvement, and clashes remain"),r&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&this.state.sys.print("     (registering clashing entries because we've run out of options)");for(var t=0,e=this.partners.length;t<e;t+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[t].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}};p.Disambiguation.prototype.disExtraText=function(){this.debug&&this.state.sys.print("[3] === disExtraText ==");var r=!1;if(this.clashes[1]===0&&this.nonpartners.length<2&&(r=!0),!r&&(!this.base.disambiguate||this.state.tmp.disambiguate_count!==this.state.tmp.disambiguate_maxMax))if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var t=0,e=this.lists[this.listpos][1].length;t<e;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0}else if(r||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(r||this.modeindex===this.modes.length-1){for(var i=this.lists[this.listpos][0],t=0,e=this.lists[this.listpos][1].length;t<e;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,i);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1;var i=this.lists[this.listpos][0];i.disambiguate=!0;for(var t=0,e=this.lists[this.listpos][1].length;t<e;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,i)}};p.Disambiguation.prototype.disYears=function(){var r,t,e,i;this.debug&&this.state.sys.print("[3] === disYears =="),e=[];var n=this.lists[this.listpos][0];if(this.clashes[1])for(var a=0,s=this.state.registry.mylist.length;a<s;a+=1)for(var o=this.state.registry.mylist[a],l=0,u=this.lists[this.listpos][1].length;l<u;l+=1){var i=this.lists[this.listpos][1][l];if(i.id==o){e.push(this.registry[i.id]);break}}e.sort(this.state.registry.sorter.compareKeys);for(var r=0,t=e.length;r<t;r+=1){n.year_suffix=""+r;var f=this.state.registry.registry[e[r].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+e[r].id,n),p.ambigConfigDiff(f,n)&&(this.state.tmp.taintedItemIDs[e[r].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]};p.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&this.state.sys.print(`
[1] === incrementDisambig() ===`),this.initGivens)return this.initGivens=!1,!1;var r=!1,t=!0;if(this.modes[this.modeindex]==="disNames"){t=!1,typeof this.givensMax!="number"&&(t=!0);var e=!1;typeof this.namesMax!="number"&&(e=!0),typeof this.givensMax=="number"&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:t=!0),typeof this.namesMax=="number"&&t&&(this.state.opt["disambiguate-add-names"]?(e=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):e=!0):e=!0),typeof this.namesetsMax=="number"&&e&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(this.state.sys.print("    ------------------"),this.state.sys.print("    incremented values"),this.state.sys.print("    ------------------"),this.state.sys.print("    | gnameset: "+this.gnameset),this.state.sys.print("    | gname: "+this.gname),this.state.sys.print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?this.state.sys.print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):this.state.sys.print("    | givens value: nil"),this.state.sys.print("    | namesetsMax: "+this.namesetsMax),this.state.sys.print("    | namesMax: "+this.namesMax),this.state.sys.print("    | givensMax: "+this.givensMax)),(typeof this.namesetsMax!="number"||this.namesetsMax===-1||this.gnameset===this.namesetsMax)&&(!this.state.opt["disambiguate-add-names"]||typeof this.namesMax!="number"||this.gname===this.namesMax)&&(typeof this.givensMax!="number"||typeof this.base.givens[this.gnameset]>"u"||typeof this.base.givens[this.gnameset][this.gname]>"u"||this.base.givens[this.gnameset][this.gname]===this.givensMax)&&(r=!0,this.debug&&this.state.sys.print("    MAXED"))}else this.modes[this.modeindex]==="disExtraText"&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return r};p.Disambiguation.prototype.initVars=function(r){var t,e,i,n,a;if(this.debug&&this.state.sys.print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=r,this.maxNamesByItemId={},n=[],i=this.ambigcites[r],!i||!i.length)return!1;var s=this.state.refetchItem(""+i[0]);if(this.getCiteData(s),this.base=p.getAmbigConfig.call(this.state),i&&i.length>1){n.push([this.maxNamesByItemId[s.id],s]);for(var t=1,e=i.length;t<e;t+=1)s=this.state.refetchItem(""+i[t]),this.getCiteData(s,this.base),n.push([this.maxNamesByItemId[s.id],s]);n.sort(function(l,u){return l[0]>u[0]?1:l[0]<u[0]?-1:l[1].id>u[1].id?1:l[1].id<u[1].id?-1:0}),a=[];for(var t=0,e=n.length;t<e;t+=1)a.push(n[t][1]);this.lists.push([this.base,a]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+i[0]);if(this.modeindex=0,this.state.citation.opt["disambiguate-add-names"]||!0)this.namesMax=this.maxNamesByItemId[this.Item.id][0];else{var o;for(var t,e;t<e;t+=1);}return this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0};p.Disambiguation.prototype.padBase=function(r){for(var t=0,e=r.names.length;t<e;t+=1){r.givens[t]||(r.givens[t]=[]);for(var i=0,n=r.names[t];i<n;i+=1)r.givens[t][i]||(r.givens[t][i]=0)}};p.Disambiguation.prototype.configModes=function(){var r,t;this.modes=[],r=this.state.opt["disambiguate-add-givenname"],t=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||r&&t==="by-cite")&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))};p.Disambiguation.prototype.getCiteData=function(r,t){if(!this.maxNamesByItemId[r.id]){p.getAmbiguousCite.call(this.state,r,t),t=p.getAmbigConfig.call(this.state),this.maxNamesByItemId[r.id]=p.getMaxVals.call(this.state),this.state.registry.registry[r.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var e=0,i=this.state.registry.registry[r.id].disambig.givens.length;e<i;e+=1)this.state.registry.registry[r.id].disambig.givens[e]=this.state.tmp.disambig_settings.givens[e].slice();this.namesetsMax=this.state.registry.registry[r.id].disambig.names.length-1,this.base||(this.base=t,this.betterbase=p.cloneAmbigConfig(t)),t.names.length<this.base.names.length&&(this.base=t);for(var e=0,i=t.names.length;e<i;e+=1)t.names[e]>this.base.names[e]&&(this.base.givens[e]=t.givens[e].slice(),this.base.names[e]=t.names[e],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var n=0,a=this.base.givens.length;n<a;n+=1)this.betterbase.givens[n]=this.base.givens[n].slice()}};p.Disambiguation.prototype.captureStepToBase=function(){this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.base.givens&&this.base.givens.length&&typeof this.base.givens[this.gnameset][this.gname]<"u"&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]};p.Engine.prototype.getJurisdictionList=function(r){for(var t=[],e=r.split(":"),i=e.length;i>0;i--){var n=e.slice(0,i).join(":");if(t.push(n),this.opt.jurisdiction_fallbacks[n]){var a=this.opt.jurisdiction_fallbacks[n];t.push(a)}}return t.indexOf("us")===-1&&t.push("us"),t};p.Engine.prototype.loadStyleModule=function(r,t,e){var i=null;this.juris[r]={};var n=p.setupXml(t);n.addMissingNameNodes(n.dataObj),n.addInstitutionNodes(n.dataObj),n.insertPublisherAndPlace(n.dataObj),n.flagDateMacros(n.dataObj);for(var h=n.getNodesByName(n.dataObj,"law-module"),a=0,s=h.length;a<s;a++){var o=n.getAttributeValue(h[a],"types");if(o){this.juris[r].types={},o=o.split(/\s+/);for(var l=0,u=o.length;l<u;l++)this.juris[r].types[o[l]]=!0}e||(i=n.getAttributeValue(h[a],"fallback"),i&&r!=="us"&&(this.opt.jurisdiction_fallbacks[r]=i))}var f=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];p.SET_COURT_CLASSES(this,f,n,n.dataObj),this.juris[r].types||(this.juris[r].types=p.MODULE_TYPES);for(var h=n.getNodesByName(n.dataObj,"macro"),a=0,s=h.length;a<s;a++){var c=n.getAttributeValue(h[a],"name");if(!p.MODULE_MACROS[c]){p.debug('CSL: skipping non-modular macro name "'+c+'" in module context');continue}this.juris[r][c]=[],this.buildTokenLists(h[a],this.juris[r][c]),this.configureTokenList(this.juris[r][c])}return i};p.Engine.prototype.retrieveAllStyleModules=function(r){var t={},e=this.locale[this.opt.lang].opts["jurisdiction-preference"];e=e||[],e=[""].concat(e);for(var i=e.length-1;i>-1;i--)for(var n=e[i],a=0,s=r.length;a<s;a++){var o=r[a];if(!this.opt.jurisdictions_seen[o]){var l=this.sys.retrieveStyleModule(o,n);(!l&&!n||l)&&(this.opt.jurisdictions_seen[o]=!0),l&&(t[o]=l)}}return t};p.ParticleList=function(){var r=[[[0,1],null]],t=[[[0,3],null]],e=[[null,[0,1]]],i=[[null,[0,2]]],n=[[null,[0,3]]],a=[[null,[0,1]],[[0,1],null]],s=[[null,[0,2]],[[0,2],null]],o=[[[0,1],null],[null,[0,1]]],l=[[[0,2],null],[null,[0,2]]],u=[[[0,3],null],[null,[0,3]]],f=[[null,[0,2]],[[0,1],[1,2]]],h=[["'s",e],["'s-",e],["'t",e],["a",e],["aan 't",i],["aan de",i],["aan den",i],["aan der",i],["aan het",i],["aan t",i],["aan",e],["ad-",a],["adh-",a],["af",a],["al",a],["al-",a],["am de",i],["am",e],["an-",a],["ar-",a],["as-",a],["ash-",a],["at-",a],["ath-",a],["auf dem",l],["auf den",l],["auf der",l],["auf ter",i],["auf",o],["aus 'm",l],["aus dem",l],["aus den",l],["aus der",l],["aus m",l],["aus",o],["aus'm",l],["az-",a],["aš-",a],["aḍ-",a],["aḏ-",a],["aṣ-",a],["aṭ-",a],["aṯ-",a],["aẓ-",a],["ben",e],["bij 't",i],["bij de",i],["bij den",i],["bij het",i],["bij t",i],["bij",e],["bin",e],["boven d",i],["boven d'",i],["d",e],["d'",a],["da",a],["dal",e],["dal'",e],["dall'",e],["dalla",e],["das",a],["de die le",n],["de die",i],["de l",i],["de l'",i],["de la",f],["de las",f],["de le",i],["de li",s],["de van der",n],["de",a],["de'",a],["deca",e],["degli",a],["dei",a],["del",a],["dela",r],["dell'",a],["della",a],["delle",a],["dello",a],["den",a],["der",a],["des",a],["di",a],["die le",i],["do",e],["don",e],["dos",a],["du",a],["ed-",a],["edh-",a],["el",a],["el-",a],["en-",a],["er-",a],["es-",a],["esh-",a],["et-",a],["eth-",a],["ez-",a],["eš-",a],["eḍ-",a],["eḏ-",a],["eṣ-",a],["eṭ-",a],["eṯ-",a],["eẓ-",a],["het",e],["i",e],["il",r],["im",e],["in 't",i],["in de",i],["in den",i],["in der",s],["in het",i],["in t",i],["in",e],["l",e],["l'",e],["la",e],["las",e],["le",e],["les",a],["lo",a],["los",e],["lou",e],["of",e],["onder 't",i],["onder de",i],["onder den",i],["onder het",i],["onder t",i],["onder",e],["op 't",i],["op de",s],["op den",i],["op der",i],["op gen",i],["op het",i],["op t",i],["op ten",i],["op",e],["over 't",i],["over de",i],["over den",i],["over het",i],["over t",i],["over",e],["s",e],["s'",e],["sen",r],["t",e],["te",e],["ten",e],["ter",e],["tho",e],["thoe",e],["thor",e],["to",e],["toe",e],["tot",e],["uijt 't",i],["uijt de",i],["uijt den",i],["uijt te de",n],["uijt ten",i],["uijt",e],["uit 't",i],["uit de",i],["uit den",i],["uit het",i],["uit t",i],["uit te de",n],["uit ten",i],["uit",e],["unter",e],["v",e],["v.",e],["v.d.",e],["van 't",i],["van de l",n],["van de l'",n],["van de",i],["van de",i],["van den",i],["van der",i],["van gen",i],["van het",i],["van la",i],["van t",i],["van ter",i],["van van de",n],["van",a],["vander",e],["vd",e],["ver",e],["vom und zum",t],["vom",a],["von 't",i],["von dem",l],["von den",l],["von der",l],["von t",i],["von und zu",u],["von zu",l],["von",o],["voor 't",i],["voor de",i],["voor den",i],["voor in 't",n],["voor in t",n],["voor",e],["vor der",l],["vor",o],["z",r],["ze",r],["zu",o],["zum",a],["zur",a]];return h}();p.parseParticles=function(){function r(i,n,a){var s=i;i=a?i.toLowerCase():i;var o=[],l,u;n?(i=i.split("").reverse().join(""),l=p.PARTICLE_GIVEN_REGEXP):l=p.PARTICLE_FAMILY_REGEXP;for(var f=i.match(l);f;){var h=n?f[1].split("").reverse().join(""):f[1],c=f?h:!1,c=c?h.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"):!1;if(u=c?c.toUpperCase()!==c:!1,!u)break;n?(o.push(s.slice(h.length*-1)),s=s.slice(0,h.length*-1)):(o.push(s.slice(0,h.length)),s=s.slice(h.length)),i=f[2],f=i.match(l)}if(n){i=i.split("").reverse().join(""),o.reverse();for(var m=1,v=o.length;m<v;m++)o[m].slice(0,1)==" "&&(o[m-1]+=" ");for(var m=0,v=o.length;m<v;m++)o[m].slice(0,1)==" "&&(o[m]=o[m].slice(1));i=s.slice(0,i.length)}else i=s.slice(i.length*-1);return[u,i,o]}function t(i){var n=i.slice(-1);return i=i.trim(),n===" "&&["'","’"].indexOf(i.slice(-1))>-1&&(i+=" "),i}function e(i){if(!i.suffix&&i.given){var n=i.given.match(/(\s*,!*\s*)/);if(n){var a=i.given.indexOf(n[1]),s=i.given.slice(a+n[1].length),o=i.given.slice(a,a+n[1].length).replace(/\s*/g,"");s.replace(/\./g,"")==="et al"&&!i["dropping-particle"]?(i["dropping-particle"]=s,i["comma-dropping-particle"]=","):(o.length===2&&(i["comma-suffix"]=!0),i.suffix=s),i.given=i.given.slice(0,a)}}}return function(i){var o=r(i.family),n=o[1],a=o[2];i.family=n;var s=t(a.join(""));s&&(i["non-dropping-particle"]=s),e(i);var o=r(i.given,!0),l=o[1],u=o[2];i.given=l;var f=u.join("").trim();f&&(i["dropping-particle"]=f)}}();var pF=p;const bo=kb(pF),VS=Symbol.for("proxied"),dF=function(r){const t=function(e,i){if(e.sys.wrapBibliographyEntry){const[n,a]=e.sys.wrapBibliographyEntry(this.system_id);i=[n,i,a].join("")}return r.call(this,e,i)};return t[VS]=!0,t};for(const r in bo.Output.Formats){const t=bo.Output.Formats[r]["@bibliography/entry"];!t||t[VS]||(bo.Output.Formats[r]["@bibliography/entry"]=dF(t))}function vF(r){if(Pl.has(r))return Pl.get(r);const t=r.replace("-","_");return Pl.has(t)?Pl.get(t):{}}const o0={},gF=function(r,t,e,i,n){const a=`${r}|${t}`;let s;return o0[a]instanceof bo.Engine?(s=o0[a],s.sys.retrieveItem=i,s.sys.wrapBibliographyEntry=void 0,s.updateItems([])):s=o0[a]=new bo.Engine({retrieveLocale:n,retrieveItem:i},e,t,!0),s},qb=function(r,t,e,i){if(!bo.Output.Formats[i]||!bo.Output.Formats[i]["@bibliography/entry"])throw new TypeError(`Cannot find format '${i}'`);const n=r.reduce((l,u)=>(l[u.id]=u,l),{}),a=e1.get(e1.has(t)?t:"apa");e=Pl.has(e)?e:void 0;const o=gF(t,e,a,function(l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l];throw new Error(`Cannot find entry with id '${l}'`)},vF);return o.setOutputFormat(i),o},bF=(r,t,e)=>r.replace(/^\s*<[a-z]+/i,`$& data-${t}="${e}"`),yF=(r,t)=>bF(r,"csl-entry-id",t),m2=(r,t)=>typeof t=="function"?t(r):t||"";function $F(r,t={}){const{template:e="apa",lang:i,format:n="text",nosort:a=!1}=t,s=t.entry?[].concat(t.entry):r.map(({id:v})=>v);r=wf(r);const o=qb(r,e,i,n),l=o.updateItems(s,a);if(t.append||t.prepend){const v=r.reduce((d,b)=>(d[b.id]=b,d),{});o.sys.wrapBibliographyEntry=function(d){const b=v[d];return[m2(b,t.prepend),m2(b,t.append)]}}const u=o.makeBibliography(),[{bibstart:f,bibend:h},c]=u,m=c.map((v,d)=>yF(v,l[d]));return t.asEntryArray?m.map((v,d)=>[l[d],v]):f+m.join("")+h}function _F(r){return typeof r=="object"?r:{id:r}}function GS(r){return r.citationItems?r:{citationItems:[].concat(r).map(_F),properties:{noteIndex:0}}}function p2(r){return r?r.map(GS):[]}function wF(r,t={}){const{template:e="apa",lang:i,format:n="text"}=t,a=r.map(({id:c})=>c),s=t.entry?t.entry:a;r=wf(r);const o=qb(r,e,i,n),l=p2(t.citationsPre),u=GS(s),f=p2(t.citationsPost);return o.rebuildProcessorState([...l,u,...f],n,[])[l.length][2]}Bb("@csl",{output:{bibliography:$F,citation:wF},config:{engine:qb,locales:Pl,templates:e1}});const xF=`
  
@book{wolsey2020,
  title={Integer Programming},
  author={Wolsey, L.A.},
  isbn={9781119606536},
  lccn={2020023657},
  url={https://books.google.com/books?id=3yhPwwEACAAJ},
  year={2020},
  publisher={Wiley}
}

@book{nemWol2014,
  title={Integer and Combinatorial Optimization},
  author={Wolsey, L.A. and Nemhauser, G.L.},
  isbn={9781118626863},
  series={Wiley Series in Discrete Mathematics and Optimization},
  url={https://books.google.com/books?id=MvBjBAAAQBAJ},
  year={2014},
  publisher={Wiley}
}

@book{schrijver2003combOpt,
  title={Combinatorial Optimization: Polyhedra and Efficiency},
  author={Schrijver, A.},
  number={v. 1},
  isbn={9783540443896},
  lccn={2002036693},
  series={Algorithms and Combinatorics},
  url={https://books.google.com/books?id=mqGeSQ6dJycC},
  year={2003},
  publisher={Springer}
}

@book{schrijver1998theory,
  title={Theory of Linear and Integer Programming},
  author={Schrijver, A.},
  isbn={9780471982326},
  lccn={lc85012314},
  series={Wiley Series in Discrete Mathematics & Optimization},
  url={https://books.google.com/books?id=zEzW5mhppB8C},
  year={1998},
  publisher={Wiley}
}

@book{desaulniers2010column,
  title={Column Generation},
  author={Desaulniers, G. and Desrosiers, J. and Solomon, M.M.},
  isbn={9781441937995},
  lccn={2005043438},
  url={https://books.google.com/books?id=s2BjcgAACAAJ},
  year={2010},
  publisher={Springer US}
}

@book{williams2013model,
  title={Model Building in Mathematical Programming},
  author={Williams, H.P.},
  isbn={9781118506189},
  lccn={2012037911},
  url={https://books.google.com/books?id=YJRh0tOes7UC},
  year={2013},
  publisher={Wiley}
}

@book{diestel2018,
  title={Graph Theory},
  author={Diestel, R.},
  isbn={9783662575604},
  series={Graduate Texts in Mathematics},
  url={https://books.google.com/books?id=JQ1XtgEACAAJ},
  year={2018},
  publisher={Springer Berlin Heidelberg}
}
`,SF={wolsey2020:{image:"https://books.google.com/books/content?id=3yhPwwEACAAJ&printsec=frontcover&img=1&zoom=1&edge=curl&imgtk=AFLRE73wC-wd346_iopsgQm3d7L0TrSKJwg8WtyEMTng9ZkMzfxI6lWDuxBXec9UFnMdM9vnRV2WvJwz2EGKFYXVBVwjKtoKF08X95r0mZYr5p9RVNDwoiJeE0uhCV2ZbgYSj1loVo6B"},nemWol2014:{image:"https://books.google.com/books/publisher/content?id=vvm4DwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&imgtk=AFLRE72zxRMrD1hW9HSF9VsaUoKWTnMltFUPhX64Xs3qo4iAUovp5V0dNSmltAq6YRSE_W4GT24vVGAXebzpcvmYmwmqTELknA8UbrNsbRUl9hGVTRc3piuyiMeZxH4zwGqMqHpJJAq4",libLink:"https://k-state.primo.exlibrisgroup.com/discovery/fulldisplay?docid=alma9942417743502401&context=L&vid=01KSU_INST:NewUI"},schrijver2003combOpt:{image:"https://books.google.com/books/content?id=mqGeSQ6dJycC&printsec=frontcover&img=1&zoom=1&edge=curl&imgtk=AFLRE71wvIQTkrTaB6db0WUUn8kQ92DTdHAuXbLtm8TuolZE7LY5GsdQ2ZCL7HxxMGYL1ZfLH6VSS_l1XiK12MlYDiCVGvrY4qjR1er6Ixw7S5wxoI71ghZyjM382sqiclMnwY3MfBSa"},schrijver1998theory:{image:"https://books.google.com/books/content?id=zEzW5mhppB8C&printsec=frontcover&img=1&zoom=1&edge=curl&imgtk=AFLRE71UAlOePLhQ0m5O8_beUUxO344W34I1YWltPrdNw1-AgXHdEAOTI9LnWmikrfnMTAApmLaH185FFuo2pPi3dJSOxgneIyks7wClcCdaGCSA_7S6nEBi72V3XZfvITFuRFIAtjFc"},desaulniers2010column:{image:"https://books.google.com/books/content?id=s2BjcgAACAAJ&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE73WuT4OfmZ412qMmqbwlfArXwp84srV71WXxJ8H-Rm3g8EwaRaUJbmIurLVDWfieEZNKsxcKUwkh3KrPQIbtGVDbEOpLl-WE1PHZ38jib1LE7MrS6XsqM5kkffbKKFZibYZfwt0",libLink:"https://k-state.primo.exlibrisgroup.com/discovery/fulldisplay?docid=cdi_springer_books_10_1007_b135457&context=PC&vid=01KSU_INST:NewUI"},williams2013model:{image:"https://books.google.com/books/content?id=YJRh0tOes7UC&printsec=frontcover&img=1&zoom=1&edge=curl&imgtk=AFLRE73Vs8QqP5QqHmI00g2Pq2nAzyat4rl-vjMjA5Pk0-PeloONRMgBlmdTygkEj577_Nz03aIkxAC4ECEgJwM4NOhyN37vaMy4cHUC1a-lo_oZ9VE5Eo_4T0oRsnpco4F2S5sWTQ9-",libLink:"https://k-state.primo.exlibrisgroup.com/discovery/fulldisplay?docid=cdi_safari_books_v2_9781118506172&context=PC&vid=01KSU_INST:NewUI"},diestel2018:{image:"https://books.google.com/books/content?id=JQ1XtgEACAAJ&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE708iWMAD4FT-kZAkCWVKmh_dO0fqxql-4aDEIUuGoTqdiNN-XQnf6hflBl1pnlcn4GTJtHXYdy0caqltOSvxv1WlljA7JD__m4qwwT7yhnJvjVhtsgy-PIqnxaXUyPhuvLHR_OM"}},EF=async()=>{const r=await No(xF),t={};for(const e of r.data){const i=No(e);let a=i.format("bibliography").split(" ");for(const s in a){let o=a[s];o.startsWith("http")&&(a[s]=`<a href=${o} target='_blank'>${o}</a>`)}t[e.id]={refStr:i.format("citation"),biblio:a.join(" "),referenced:!1},t[e.id]={...t[e.id],...SF[e.id]}}return t},Hr=fn({hierarchy:[],numbers:{},numRefs:{},returnIds:{},headingTexts:{},dispSecNums:{},contexts:{}}),Wl=fn({secCounts:{},numbers:{},numRefs:{},returnIds:{}}),eh=fn({secCounts:{},numbers:{},numRefs:{},returnIds:{},names:{}}),Vl=fn({numRefs:{},returnIds:{},names:{},abbrevs:{}}),Sm=fn({plainText:{}}),t1=fn(await EF()),Cf=fn(!1),XS=fn(!1),kF=fn([]),nn=fn(!1),r1=fn(!1),Mo=fn({innerWidth:0,innerHeight:0,scrollY:0}),KS=nC([Mo,Cf,XS],([r,t,e])=>{let l=Math.min(800,r.innerWidth-60),u=t?350:0,f=0,h="Center",c=(r.innerWidth-l)/2;const m=r.innerWidth-l-3*20-2*16-u;e&&(m>=350?(h="Side",f=m,c=20):f=.85*l);const v=r.innerWidth-l-(h==="Side"?1:0)*(f-20);return t&&(v>u?c=u+(v-u-2*20)/2:c=Math.max(v/2,r.innerWidth-l-2*20)),{notesWidth:l,menuWidth:u,popupWidth:f,popupPlacement:h,popupLeft:l,popupPadding:16,marginWidth:20,notesLeft:c}});function d2(r){let t,e,i="Menu",n,a,s="IMSE 884",o,l,u,f=!r[0]&&v2();return{c(){t=pe("div"),e=pe("div"),e.textContent=i,n=Se(),a=pe("div"),a.textContent=s,o=Se(),f&&f.c(),this.h()},l(h){t=de(h,"DIV",{class:!0});var c=De(t);e=de(c,"DIV",{id:!0,class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Xe(e)!=="svelte-drs7at"&&(e.textContent=i),n=Ee(c),a=de(c,"DIV",{class:!0,"data-svelte-h":!0}),Xe(a)!=="svelte-1mi2n3c"&&(a.textContent=s),o=Ee(c),f&&f.l(c),c.forEach(y),this.h()},h(){ce(e,"id","menuClick"),ce(e,"class","menu svelte-1engwwl"),ce(e,"role","button"),ce(e,"tabindex","0"),ce(e,"aria-label","Toggle show menu"),ce(a,"class","courseNum svelte-1engwwl"),ce(t,"class","topBar svelte-1engwwl")},m(h,c){_(h,t,c),le(t,e),le(t,n),le(t,a),le(t,o),f&&f.m(t,null),l||(u=[xt(e,"keydown",r[3]),xt(e,"click",r[4])],l=!0)},p(h,c){h[0]?f&&(f.d(1),f=null):f||(f=v2(),f.c(),f.m(t,null))},d(h){h&&y(t),f&&f.d(),l=!1,An(u)}}}function v2(r){let t,e="Spring 2025";return{c(){t=pe("div"),t.textContent=e,this.h()},l(i){t=de(i,"DIV",{class:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-hfppnr"&&(t.textContent=e),this.h()},h(){ce(t,"class","term svelte-1engwwl")},m(i,n){_(i,t,n)},d(i){i&&y(t)}}}function TF(r){let t,e=!r[1]&&d2(r);return{c(){e&&e.c(),t=ht()},l(i){e&&e.l(i),t=ht()},m(i,n){e&&e.m(i,n),_(i,t,n)},p(i,[n]){i[1]?e&&(e.d(1),e=null):e?e.p(i,n):(e=d2(i),e.c(),e.m(t.parentNode,t))},i:re,o:re,d(i){i&&y(t),e&&e.d(i)}}}function OF(r,t,e){let i,n,a;St(r,Mo,l=>e(2,n=l)),St(r,nn,l=>e(1,a=l));const s=()=>{Cf.update(l=>!l)},o=()=>{Cf.update(l=>!l)};return r.$$.update=()=>{r.$$.dirty&4&&e(0,i=n.innerWidth<500)},[i,a,n,s,o]}class AF extends $t{constructor(t){super(),_t(this,t,OF,TF,yt,{})}}function IF(r){let t,e;return{c(){t=pe("div"),this.h()},l(i){t=de(i,"DIV",{id:!0}),De(t).forEach(y),this.h()},h(){ce(t,"id",e=r[0]+":InGlossary")},m(i,n){_(i,t,n),r[3](t)},p(i,[n]){n&1&&e!==(e=i[0]+":InGlossary")&&ce(t,"id",e)},i:re,o:re,d(i){i&&y(t),r[3](null)}}}function CF(r,t,e){let{refId:i}=t,{makeCopy:n=!1}=t,a;Vo(()=>{setTimeout(()=>{const o=document.getElementById(i+":glossaryEntry");n?e(1,a.innerHTML=o.innerHTML,a):(o.style.display="block",a.appendChild(o))},1)});function s(o){xi[o?"unshift":"push"](()=>{a=o,e(1,a)})}return r.$$set=o=>{"refId"in o&&e(0,i=o.refId),"makeCopy"in o&&e(2,n=o.makeCopy)},[i,a,n,s]}class YS extends $t{constructor(t){super(),_t(this,t,CF,IF,yt,{refId:0,makeCopy:2})}}function g2(r,t,e){const i=r.slice();return i[4]=t[e],i}function b2(r){let t,e;return t=new YS({props:{refId:r[4].key,makeCopy:!0}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p(i,n){const a={};n&1&&(a.refId=i[4].key),t.$set(a)},i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function y2(r){let t,e,i=r[4].match&&b2(r);return{c(){i&&i.c(),t=ht()},l(n){i&&i.l(n),t=ht()},m(n,a){i&&i.m(n,a),_(n,t,a),e=!0},p(n,a){n[4].match?i?(i.p(n,a),a&1&&R(i,1)):(i=b2(n),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(ai(),M(i,1,1,()=>{i=null}),si())},i(n){e||(R(i),e=!0)},o(n){M(i),e=!1},d(n){n&&y(t),i&&i.d(n)}}}function PF(r){let t,e,i=Kn(r[0]),n=[];for(let s=0;s<i.length;s+=1)n[s]=y2(g2(r,i,s));const a=s=>M(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=ht()},l(s){for(let o=0;o<n.length;o+=1)n[o].l(s);t=ht()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);_(s,t,o),e=!0},p(s,[o]){if(o&1){i=Kn(s[0]);let l;for(l=0;l<i.length;l+=1){const u=g2(s,i,l);n[l]?(n[l].p(u,o),R(n[l],1)):(n[l]=y2(u),n[l].c(),R(n[l],1),n[l].m(t.parentNode,t))}for(ai(),l=i.length;l<n.length;l+=1)a(l);si()}},i(s){if(!e){for(let o=0;o<i.length;o+=1)R(n[o]);e=!0}},o(s){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)M(n[o]);e=!1},d(s){s&&y(t),Jf(n,s)}}}function DF(r,t,e){let i,n,a;St(r,Sm,o=>e(3,a=o));let{searchString:s=""}=t;return r.$$set=o=>{"searchString"in o&&e(1,s=o.searchString)},r.$$.update=()=>{r.$$.dirty&8&&e(2,i=Object.keys(a.plainText).sort((o,l)=>a.plainText[o].toLowerCase()<a.plainText[l].toLocaleLowerCase()?-1:1)),r.$$.dirty&14&&e(0,n=i.map(o=>({key:o,match:s!==""&&a.plainText[o].toLowerCase().includes(s.toLowerCase())})))},[n,s,i,a]}class NF extends $t{constructor(t){super(),_t(this,t,DF,PF,yt,{searchString:1})}}function RF(r){let t,e,i,n;return{c(){t=pe("div"),e=pe("button"),this.h()},l(a){t=de(a,"DIV",{class:!0});var s=De(t);e=de(s,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var o=De(e);o.forEach(y),s.forEach(y),this.h()},h(){ce(e,"role","switch"),ce(e,"aria-checked",r[0]),ce(e,"aria-labelledby",`switch-${r[1]}`),ce(e,"class","svelte-1b1etyn"),ce(t,"class","s s--slider svelte-1b1etyn")},m(a,s){_(a,t,s),le(t,e),i||(n=xt(e,"click",r[2]),i=!0)},p(a,[s]){s&1&&ce(e,"aria-checked",a[0])},i:re,o:re,d(a){a&&y(t),i=!1,n()}}}function MF(r,t,e){let{value:i=!0}=t;const n=Math.floor(Math.random()*100);function a(s){const l=s.target.getAttribute("aria-checked");e(0,i=l!=="true")}return r.$$set=s=>{"value"in s&&e(0,i=s.value)},[i,n,a]}class BF extends $t{constructor(t){super(),_t(this,t,MF,RF,yt,{value:0})}}function FF(r){const t=r-1;return t*t*t+1}function Em(r,{delay:t=0,duration:e=400,easing:i=FF,axis:n="y"}={}){const a=getComputedStyle(r),s=+a.opacity,o=n==="y"?"height":"width",l=parseFloat(a[o]),u=n==="y"?["top","bottom"]:["left","right"],f=u.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),h=parseFloat(a[`padding${f[0]}`]),c=parseFloat(a[`padding${f[1]}`]),m=parseFloat(a[`margin${f[0]}`]),v=parseFloat(a[`margin${f[1]}`]),d=parseFloat(a[`border${f[0]}Width`]),b=parseFloat(a[`border${f[1]}Width`]);return{delay:t,duration:e,easing:i,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*s};${o}: ${g*l}px;padding-${u[0]}: ${g*h}px;padding-${u[1]}: ${g*c}px;margin-${u[0]}: ${g*m}px;margin-${u[1]}: ${g*v}px;border-${u[0]}-width: ${g*d}px;border-${u[1]}-width: ${g*b}px;`}}function $2(r,t,e){const i=r.slice();return i[6]=t[e],i[8]=e,i}function _2(r){let t,e=r[1][r[8]]?"-":"+",i,n,a;function s(){return r[4](r[8])}function o(){return r[5](r[8])}return{c(){t=pe("span"),i=E(e),this.h()},l(l){t=de(l,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var u=De(t);i=k(u,e),u.forEach(y),this.h()},h(){ce(t,"class","tocExpand svelte-1iphz67"),ce(t,"role","button"),ce(t,"tabindex","0"),ce(t,"aria-label","Toggle expand")},m(l,u){_(l,t,u),le(t,i),n||(a=[xt(t,"keydown",s),xt(t,"click",o)],n=!0)},p(l,u){r=l,u&2&&e!==(e=r[1][r[8]]?"-":"+")&&Ca(i,e)},d(l){l&&y(t),n=!1,An(a)}}}function w2(r){let t,e,i=r[1][r[8]]&&x2(r);return{c(){i&&i.c(),t=ht()},l(n){i&&i.l(n),t=ht()},m(n,a){i&&i.m(n,a),_(n,t,a),e=!0},p(n,a){n[1][n[8]]?i?(i.p(n,a),a&2&&R(i,1)):(i=x2(n),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(ai(),M(i,1,1,()=>{i=null}),si())},i(n){e||(R(i),e=!0)},o(n){M(i),e=!1},d(n){n&&y(t),i&&i.d(n)}}}function x2(r){let t,e,i,n,a;return e=new JS({props:{hierarchy:r[6].hierarchy}}),{c(){t=pe("div"),F(e.$$.fragment),i=Se()},l(s){t=de(s,"DIV",{});var o=De(t);z(e.$$.fragment,o),i=Ee(o),o.forEach(y)},m(s,o){_(s,t,o),L(e,t,null),le(t,i),a=!0},p(s,o){const l={};o&1&&(l.hierarchy=s[6].hierarchy),e.$set(l)},i(s){a||(R(e.$$.fragment,s),s&&ym(()=>{a&&(n||(n=$m(t,Em,{},!0)),n.run(1))}),a=!0)},o(s){M(e.$$.fragment,s),s&&(n||(n=$m(t,Em,{},!1)),n.run(0)),a=!1},d(s){s&&y(t),j(e),s&&n&&n.end()}}}function S2(r){let t,e,i,n=r[2].headingTexts[r[6].id]+"",a,s,o,l,u,f,h=(r[6].hierarchy||[]).length>0&&_2(r),c=(r[6].hierarchy||[]).length>0&&w2(r);return{c(){t=pe("div"),e=pe("a"),i=new Yn(!1),o=Se(),h&&h.c(),l=Se(),c&&c.c(),u=ht(),this.h()},l(m){t=de(m,"DIV",{class:!0});var v=De(t);e=de(v,"A",{class:!0,href:!0,style:!0});var d=De(e);i=Jn(d,!1),d.forEach(y),o=Ee(v),h&&h.l(v),v.forEach(y),l=Ee(m),c&&c.l(m),u=ht(),this.h()},h(){i.a=null,ce(e,"class","tocA svelte-1iphz67"),ce(e,"href",a="#"+r[6].id),ce(e,"style",s=`margin-left: ${r[6].level*15}pt`),ce(t,"class","tocItem svelte-1iphz67")},m(m,v){_(m,t,v),le(t,e),i.m(n,e),le(t,o),h&&h.m(t,null),_(m,l,v),c&&c.m(m,v),_(m,u,v),f=!0},p(m,v){(!f||v&5)&&n!==(n=m[2].headingTexts[m[6].id]+"")&&i.p(n),(!f||v&1&&a!==(a="#"+m[6].id))&&ce(e,"href",a),(!f||v&1&&s!==(s=`margin-left: ${m[6].level*15}pt`))&&ce(e,"style",s),(m[6].hierarchy||[]).length>0?h?h.p(m,v):(h=_2(m),h.c(),h.m(t,null)):h&&(h.d(1),h=null),(m[6].hierarchy||[]).length>0?c?(c.p(m,v),v&1&&R(c,1)):(c=w2(m),c.c(),R(c,1),c.m(u.parentNode,u)):c&&(ai(),M(c,1,1,()=>{c=null}),si())},i(m){f||(R(c),f=!0)},o(m){M(c),f=!1},d(m){m&&(y(t),y(l),y(u)),h&&h.d(),c&&c.d(m)}}}function zF(r){let t,e,i=Kn(r[0]),n=[];for(let s=0;s<i.length;s+=1)n[s]=S2($2(r,i,s));const a=s=>M(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=ht()},l(s){for(let o=0;o<n.length;o+=1)n[o].l(s);t=ht()},m(s,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,o);_(s,t,o),e=!0},p(s,[o]){if(o&15){i=Kn(s[0]);let l;for(l=0;l<i.length;l+=1){const u=$2(s,i,l);n[l]?(n[l].p(u,o),R(n[l],1)):(n[l]=S2(u),n[l].c(),R(n[l],1),n[l].m(t.parentNode,t))}for(ai(),l=i.length;l<n.length;l+=1)a(l);si()}},i(s){if(!e){for(let o=0;o<i.length;o+=1)R(n[o]);e=!0}},o(s){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)M(n[o]);e=!1},d(s){s&&y(t),Jf(n,s)}}}function LF(r,t,e){let i;St(r,Hr,u=>e(2,i=u));let{hierarchy:n}=t,a=n.map(()=>!1);const s=u=>{e(1,a[u]=!a[u],a)},o=u=>s(u),l=u=>s(u);return r.$$set=u=>{"hierarchy"in u&&e(0,n=u.hierarchy)},[n,a,i,s,o,l]}class JS extends $t{constructor(t){super(),_t(this,t,LF,zF,yt,{hierarchy:0})}}function E2(r){let t,e,i,n;return e=new JS({props:{hierarchy:r[2].hierarchy}}),{c(){t=pe("div"),F(e.$$.fragment)},l(a){t=de(a,"DIV",{});var s=De(t);z(e.$$.fragment,s),s.forEach(y)},m(a,s){_(a,t,s),L(e,t,null),n=!0},p(a,s){const o={};s&4&&(o.hierarchy=a[2].hierarchy),e.$set(o)},i(a){n||(R(e.$$.fragment,a),a&&ym(()=>{n&&(i||(i=$m(t,Em,{},!0)),i.run(1))}),n=!0)},o(a){M(e.$$.fragment,a),a&&(i||(i=$m(t,Em,{},!1)),i.run(0)),n=!1},d(a){a&&y(t),j(e),a&&i&&i.end()}}}function jF(r){let t,e,i,n,a=r[0]?"-":"+",s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I=r[0]&&E2(r);function D(O){r[5](O)}let S={};return r[3]!==void 0&&(S.value=r[3]),h=new BF({props:S}),xi.push(()=>rC(h,"value",D)),$=new NF({props:{searchString:r[1].trim()}}),{c(){t=pe("div"),e=pe("div"),i=E(`Contents
        `),n=pe("span"),s=E(a),o=Se(),I&&I.c(),l=Se(),u=pe("div"),f=E(`Highlight key points
        `),F(h.$$.fragment),m=Se(),v=pe("div"),d=E(`Glossary lookup
        `),b=pe("input"),g=Se(),F($.$$.fragment),this.h()},l(O){t=de(O,"DIV",{class:!0});var H=De(t);e=de(H,"DIV",{class:!0,id:!0,role:!0,tabindex:!0,"aria-label":!0});var B=De(e);i=k(B,`Contents
        `),n=de(B,"SPAN",{class:!0,id:!0});var V=De(n);s=k(V,a),V.forEach(y),B.forEach(y),o=Ee(H),I&&I.l(H),l=Ee(H),u=de(H,"DIV",{class:!0});var K=De(u);f=k(K,`Highlight key points
        `),z(h.$$.fragment,K),K.forEach(y),m=Ee(H),v=de(H,"DIV",{class:!0,style:!0});var Q=De(v);d=k(Q,`Glossary lookup
        `),b=de(Q,"INPUT",{style:!0}),g=Ee(Q),z($.$$.fragment,Q),Q.forEach(y),H.forEach(y),this.h()},h(){ce(n,"class","menuExpand svelte-7u8nzp"),ce(n,"id","menuContentsPlusMinus"),ce(e,"class","menuItem menuItemClick svelte-7u8nzp"),ce(e,"id","menuContentsText"),ce(e,"role","button"),ce(e,"tabindex","0"),ce(e,"aria-label","Toggle expand"),ce(u,"class","menuItem svelte-7u8nzp"),tt(b,"height","1.5rem"),tt(b,"width","90%"),ce(v,"class","menuItem svelte-7u8nzp"),tt(v,"display","block"),ce(t,"class","menu svelte-7u8nzp")},m(O,H){_(O,t,H),le(t,e),le(e,i),le(e,n),le(n,s),le(t,o),I&&I.m(t,null),le(t,l),le(t,u),le(u,f),L(h,u,null),le(t,m),le(t,v),le(v,d),le(v,b),I_(b,r[1]),le(v,g),L($,v,null),w=!0,x||(A=[xt(e,"keydown",r[4]),xt(e,"click",r[4]),xt(b,"input",r[6])],x=!0)},p(O,[H]){(!w||H&1)&&a!==(a=O[0]?"-":"+")&&Ca(s,a),O[0]?I?(I.p(O,H),H&1&&R(I,1)):(I=E2(O),I.c(),R(I,1),I.m(t,l)):I&&(ai(),M(I,1,1,()=>{I=null}),si());const B={};!c&&H&8&&(c=!0,B.value=O[3],ZI(()=>c=!1)),h.$set(B),H&2&&b.value!==O[1]&&I_(b,O[1]);const V={};H&2&&(V.searchString=O[1].trim()),$.$set(V)},i(O){w||(R(I),R(h.$$.fragment,O),R($.$$.fragment,O),w=!0)},o(O){M(I),M(h.$$.fragment,O),M($.$$.fragment,O),w=!1},d(O){O&&y(t),I&&I.d(),j(h),j($),x=!1,An(A)}}}function qF(r,t,e){let i,n;St(r,Hr,f=>e(2,i=f)),St(r,r1,f=>e(3,n=f));let a=!1;const s=f=>{const h=f.target;["menuContentsText","menuContentsPlusMinus"].includes(h.id)&&e(0,a=!a)};let o="";function l(f){n=f,r1.set(n)}function u(){o=this.value,e(1,o)}return[a,o,i,n,s,l,u]}class UF extends $t{constructor(t){super(),_t(this,t,qF,jF,yt,{})}}const HF=r=>({}),k2=r=>({});function T2(r){let t;return{c(){t=pe("hr"),this.h()},l(e){t=de(e,"HR",{style:!0}),this.h()},h(){tt(t,"margin-top","3rem"),tt(t,"margin-bottom","5rem")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function O2(r){let t,e,i,n,a;return{c(){t=pe("a"),e=E("↩︎"),this.h()},l(s){t=de(s,"A",{style:!0,href:!0});var o=De(t);e=k(o,"↩︎"),o.forEach(y),this.h()},h(){tt(t,"float","right"),ce(t,"href",i="#"+r[4])},m(s,o){_(s,t,o),le(t,e),n||(a=xt(t,"click",r[13]),n=!0)},p(s,o){o&16&&i!==(i="#"+s[4])&&ce(t,"href",i)},d(s){s&&y(t),n=!1,a()}}}function WF(r){let t,e,i,n=!!r[4]&&O2(r),a=[{id:r[0]},{class:"svelte-13reipa"}],s={};for(let o=0;o<a.length;o+=1)s=Q7(s,a[o]);return{c(){t=pe("h"+(r[5]||1)),e=new Yn(!1),i=Se(),n&&n.c(),this.h()},l(o){t=de(o,("h"+(r[5]||1)||"null").toUpperCase(),{id:!0,class:!0});var l=De(t);e=Jn(l,!1),i=Ee(l),n&&n.l(l),l.forEach(y),this.h()},h(){e.a=i,_m("h"+(r[5]||1))(t,s)},m(o,l){_(o,t,l),e.m(r[3],t),le(t,i),n&&n.m(t,null)},p(o,l){l&8&&e.p(o[3]),o[4]?n?n.p(o,l):(n=O2(o),n.c(),n.m(t,null)):n&&(n.d(1),n=null),_m("h"+(o[5]||1))(t,s=eS(a,[l&1&&{id:o[0]},{class:"svelte-13reipa"}]))},d(o){o&&y(t),n&&n.d()}}}function VF(r){let t,e,i,n,a,s,o;const l=r[11].default,u=qt(l,r,r[10],null),f=r[11].context,h=qt(f,r,r[10],k2);let c=(r[5]||1)===1&&r[1]!=="1"&&T2(),m="h"+(r[5]||1)&&WF(r);return{c(){t=pe("span"),u&&u.c(),e=Se(),i=pe("span"),h&&h.c(),a=Se(),c&&c.c(),s=Se(),m&&m.c(),this.h()},l(v){t=de(v,"SPAN",{style:!0});var d=De(t);u&&u.l(d),d.forEach(y),e=Ee(v),i=de(v,"SPAN",{style:!0,id:!0});var b=De(i);h&&h.l(b),b.forEach(y),a=Ee(v),c&&c.l(v),s=Ee(v),m&&m.l(v),this.h()},h(){tt(t,"display","none"),tt(i,"display","none"),ce(i,"id",n=r[0]+"Context")},m(v,d){_(v,t,d),u&&u.m(t,null),r[12](t),_(v,e,d),_(v,i,d),h&&h.m(i,null),_(v,a,d),c&&c.m(v,d),_(v,s,d),m&&m.m(v,d),o=!0},p(v,[d]){u&&u.p&&(!o||d&1024)&&Ut(u,l,v,v[10],o?Wt(l,v[10],d,null):Ht(v[10]),null),h&&h.p&&(!o||d&1024)&&Ut(h,f,v,v[10],o?Wt(f,v[10],d,HF):Ht(v[10]),k2),(!o||d&1&&n!==(n=v[0]+"Context"))&&ce(i,"id",n),(v[5]||1)===1&&v[1]!=="1"?c||(c=T2(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null),"h"+(v[5]||1)&&m.p(v,d)},i(v){o||(R(u,v),R(h,v),o=!0)},o(v){M(u,v),M(h,v),o=!1},d(v){v&&(y(t),y(e),y(i),y(a),y(s)),u&&u.d(v),r[12](null),h&&h.d(v),c&&c.d(v),m&&m.d(v)}}}function GF(r,t,e){let i,n,a;St(r,Hr,g=>e(9,a=g));let{$$slots:s={},$$scope:o}=t,{level:l=void 0}=t,{refId:u}=t,{dispSecNum:f=""}=t,{includeDispSecNum:h=!0}=t;if(!u)throw new Error("refId required for Heading");u="sec:"+u;const c=l===void 0?0:parseInt(l);let m=`${a.hierarchy.length+(c>1?0:1)}`;f!==""&&Hr.update(g=>(g.dispSecNums[m]=f,g)),Object.keys(a.dispSecNums).includes(m)&&(m=a.dispSecNums[m]);let v;Vo(()=>{setTimeout(()=>{e(3,n=`${h?(l?m:"")+(l?": ":""):""}${v==null?void 0:v.innerHTML}`),Hr.update(g=>(g.headingTexts[u]=n,g))},250)});function d(g){xi[g?"unshift":"push"](()=>{v=g,e(2,v)})}const b=()=>{Hr.update(g=>(delete g.returnIds[u],g))};return r.$$set=g=>{"level"in g&&e(6,l=g.level),"refId"in g&&e(0,u=g.refId),"dispSecNum"in g&&e(7,f=g.dispSecNum),"includeDispSecNum"in g&&e(8,h=g.includeDispSecNum),"$$scope"in g&&e(10,o=g.$$scope)},r.$$.update=()=>{if(r.$$.dirty&579&&l&&Hr&&!Object.keys(a.numRefs).includes(u)){Hr.update(w=>(w.numRefs[u]=0,w));let g=1,$=a.hierarchy;for(;g<c;)$=$[$.length-1].hierarchy,e(1,m+=(m===""?"":".")+($.length+(g<c-1?0:1))),g+=1;$.push({id:u,secNum:m,hierarchy:[],level:c}),Hr.update(w=>(w.numbers[u]=m,w))}r.$$.dirty&513&&e(4,i=a.returnIds[u]),r.$$.dirty&326&&e(3,n=`${h?(l?m:"")+(l?": ":""):""}${v==null?void 0:v.innerHTML}`),r.$$.dirty&9&&Hr.update(g=>(g.headingTexts[u]=n,g))},[u,m,v,n,i,c,l,f,h,a,o,s,d,b]}class Yr extends $t{constructor(t){super(),_t(this,t,GF,VF,yt,{level:6,refId:0,dispSecNum:7,includeDispSecNum:8})}}function XF(r){let t,e,i;const n=r[2].default,a=qt(n,r,r[1],null);return{c(){t=pe("div"),a&&a.c(),this.h()},l(s){t=de(s,"DIV",{class:!0});var o=De(t);a&&a.l(o),o.forEach(y),this.h()},h(){ce(t,"class",e=kn("bodyText"+(r[0]?" bodyTextPrintMode":""))+" svelte-snfyhn")},m(s,o){_(s,t,o),a&&a.m(t,null),i=!0},p(s,[o]){a&&a.p&&(!i||o&2)&&Ut(a,n,s,s[1],i?Wt(n,s[1],o,null):Ht(s[1]),null),(!i||o&1&&e!==(e=kn("bodyText"+(s[0]?" bodyTextPrintMode":""))+" svelte-snfyhn"))&&ce(t,"class",e)},i(s){i||(R(a,s),i=!0)},o(s){M(a,s),i=!1},d(s){s&&y(t),a&&a.d(s)}}}function KF(r,t,e){let i;St(r,nn,s=>e(0,i=s));let{$$slots:n={},$$scope:a}=t;return r.$$set=s=>{"$$scope"in s&&e(1,a=s.$$scope)},[i,a,n]}class ct extends $t{constructor(t){super(),_t(this,t,KF,XF,yt,{})}}function YF(r){let t,e,i="×",n,a,s,o,l,u;const f=r[7].default,h=qt(f,r,r[6],null);return{c(){t=pe("div"),e=pe("div"),e.textContent=i,n=Se(),h&&h.c(),this.h()},l(c){t=de(c,"DIV",{style:!0,class:!0,id:!0});var m=De(t);e=de(m,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Xe(e)!=="svelte-11qc707"&&(e.textContent=i),n=Ee(m),h&&h.l(m),m.forEach(y),this.h()},h(){ce(e,"class","closeX svelte-17ow5d7"),ce(e,"role","button"),ce(e,"tabindex","0"),ce(e,"aria-label","Toggle popup"),ce(t,"style",a=`display:${r[0]?"block":"none"}`),ce(t,"class",s=kn(`popup popup${r[3].popupPlacement}`)+" svelte-17ow5d7"),ce(t,"id",r[1])},m(c,m){_(c,t,m),le(t,e),le(t,n),h&&h.m(t,null),r[8](t),o=!0,l||(u=[xt(e,"keydown",r[4]),xt(e,"click",r[4])],l=!0)},p(c,[m]){h&&h.p&&(!o||m&64)&&Ut(h,f,c,c[6],o?Wt(f,c[6],m,null):Ht(c[6]),null),(!o||m&1&&a!==(a=`display:${c[0]?"block":"none"}`))&&ce(t,"style",a),(!o||m&8&&s!==(s=kn(`popup popup${c[3].popupPlacement}`)+" svelte-17ow5d7"))&&ce(t,"class",s),(!o||m&2)&&ce(t,"id",c[1])},i(c){o||(R(h,c),o=!0)},o(c){M(h,c),o=!1},d(c){c&&y(t),h&&h.d(c),r[8](null),l=!1,An(u)}}}function JF(r,t,e){let i;St(r,KS,c=>e(3,i=c));let{$$slots:n={},$$scope:a}=t,{show:s}=t,{divId:o=""}=t,l;const u=c=>{e(0,s=!1)};let f=()=>!1;Vo(()=>{e(5,f=()=>{let c=!1;for(let m of Array.from(document.getElementsByClassName("popup")))m.style.display==="block"&&m!==l&&(c=!0);return c})});function h(c){xi[c?"unshift":"push"](()=>{l=c,e(2,l)})}return r.$$set=c=>{"show"in c&&e(0,s=c.show),"divId"in c&&e(1,o=c.divId),"$$scope"in c&&e(6,a=c.$$scope)},r.$$.update=()=>{r.$$.dirty&33&&XS.update(()=>s?!0:f())},[s,o,l,i,u,f,a,n,h]}class cp extends $t{constructor(t){super(),_t(this,t,JF,YF,yt,{show:0,divId:1})}}function QF(r){let t,e=`(Referenced citation "${r[0]}" not found)`,i;return{c(){t=pe("span"),i=E(e),this.h()},l(n){t=de(n,"SPAN",{class:!0});var a=De(t);i=k(a,e),a.forEach(y),this.h()},h(){ce(t,"class","missingRef svelte-1qkemij")},m(n,a){_(n,t,a),le(t,i)},p(n,a){a&1&&e!==(e=`(Referenced citation "${n[0]}" not found)`)&&Ca(i,e)},i:re,o:re,d(n){n&&y(t)}}}function ZF(r){let t,e,i=r[1].refStr+"",n,a,s,o;return t=new cp({props:{show:r[3],$$slots:{default:[ez]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment),e=pe("span"),n=E(i),this.h()},l(l){z(t.$$.fragment,l),e=de(l,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var u=De(e);n=k(u,i),u.forEach(y),this.h()},h(){ce(e,"class","ref svelte-1qkemij"),ce(e,"role","button"),ce(e,"tabindex","0"),ce(e,"aria-label","Toggle popup")},m(l,u){L(t,l,u),_(l,e,u),le(e,n),a=!0,s||(o=[xt(e,"keydown",r[4]),xt(e,"click",r[4])],s=!0)},p(l,u){const f={};u&8&&(f.show=l[3]),u&260&&(f.$$scope={dirty:u,ctx:l}),t.$set(f),(!a||u&2)&&i!==(i=l[1].refStr+"")&&Ca(n,i)},i(l){a||(R(t.$$.fragment,l),a=!0)},o(l){M(t.$$.fragment,l),a=!1},d(l){l&&y(e),j(t,l),s=!1,An(o)}}}function ez(r){let t,e;return{c(){t=pe("div"),e=Se(),this.h()},l(i){t=de(i,"DIV",{style:!0}),De(t).forEach(y),e=Ee(i),this.h()},h(){tt(t,"font-size","1.3rem"),tt(t,"overflow-x","auto")},m(i,n){_(i,t,n),r[6](t),_(i,e,n)},p:re,d(i){i&&(y(t),y(e)),r[6](null)}}}function tz(r){let t,e,i,n;const a=[ZF,QF],s=[];function o(l,u){return l[5]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ht()},l(l){e.l(l),i=ht()},m(l,u){s[t].m(l,u),_(l,i,u),n=!0},p(l,[u]){e.p(l,u)},i(l){n||(R(e),n=!0)},o(l){M(e),n=!1},d(l){l&&y(i),s[t].d(l)}}}function rz(r,t,e){let i,n;St(r,t1,h=>e(7,n=h));let{refId:a}=t;const s=()=>{e(3,i=!i)};let o;const l=Object.keys(n).includes(a);l&&(t1.update(h=>(h[a].referenced=!0,h)),o=n[a]);let u;Vo(()=>{setTimeout(()=>{const h=document.getElementById(a);e(2,u.innerHTML=h.innerHTML,u)},1)});function f(h){xi[h?"unshift":"push"](()=>{u=h,e(2,u)})}return r.$$set=h=>{"refId"in h&&e(0,a=h.refId)},e(3,i=!1),[a,o,u,i,s,l,f]}class zi extends $t{constructor(t){super(),_t(this,t,rz,tz,yt,{refId:0})}}class Bi{constructor(t,e,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=e,this.end=i}static range(t,e){return e?!t||!t.loc||!e.loc||t.loc.lexer!==e.loc.lexer?null:new Bi(t.loc.lexer,t.loc.start,e.loc.end):t&&t.loc}}class an{constructor(t,e){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=e}range(t,e){return new an(e,Bi.range(this,t))}}class ze{constructor(t,e){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+t,n,a,s=e&&e.loc;if(s&&s.start<=s.end){var o=s.lexer.input;n=s.start,a=s.end,n===o.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=o.slice(n,a).replace(/[^]/g,"$&̲"),u;n>15?u="…"+o.slice(n-15,n):u=o.slice(0,n);var f;a+15<o.length?f=o.slice(a,a+15)+"…":f=o.slice(a),i+=u+l+f}var h=new Error(i);return h.name="ParseError",h.__proto__=ze.prototype,h.position=n,n!=null&&a!=null&&(h.length=a-n),h.rawMessage=t,h}}ze.prototype.__proto__=Error.prototype;var iz=function(t,e){return t.indexOf(e)!==-1},nz=function(t,e){return t===void 0?e:t},az=/([A-Z])/g,sz=function(t){return t.replace(az,"-$1").toLowerCase()},oz={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},lz=/[&><"']/g;function uz(r){return String(r).replace(lz,t=>oz[t])}var QS=function r(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?r(t.body[0]):t:t.type==="font"?r(t.body):t},fz=function(t){var e=QS(t);return e.type==="mathord"||e.type==="textord"||e.type==="atom"},cz=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},hz=function(t){var e=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return e?e[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(e[1])?null:e[1].toLowerCase():"_relative"},et={contains:iz,deflt:nz,escape:uz,hyphenate:sz,getBaseElem:QS,isCharacterBox:fz,protocolFromUrl:hz},Zh={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,t)=>(t.push(r),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function mz(r){if(r.default)return r.default;var t=r.type,e=Array.isArray(t)?t[0]:t;if(typeof e!="string")return e.enum[0];switch(e){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Ub{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var e in Zh)if(Zh.hasOwnProperty(e)){var i=Zh[e];this[e]=t[e]!==void 0?i.processor?i.processor(t[e]):t[e]:mz(i)}}reportNonstrict(t,e,i){var n=this.strict;if(typeof n=="function"&&(n=n(t,e,i)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new ze("LaTeX-incompatible input and strict mode is set to 'error': "+(e+" ["+t+"]"),i);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(e+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+e+" ["+t+"]"))}}useStrictBehavior(t,e,i){var n=this.strict;if(typeof n=="function")try{n=n(t,e,i)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(e+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+e+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var e=et.protocolFromUrl(t.url);if(e==null)return!1;t.protocol=e}var i=typeof this.trust=="function"?this.trust(t):this.trust;return!!i}}class gs{constructor(t,e,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=e,this.cramped=i}sup(){return Bn[pz[this.id]]}sub(){return Bn[dz[this.id]]}fracNum(){return Bn[vz[this.id]]}fracDen(){return Bn[gz[this.id]]}cramp(){return Bn[bz[this.id]]}text(){return Bn[yz[this.id]]}isTight(){return this.size>=2}}var Hb=0,km=1,Gl=2,ca=3,Pf=4,rn=5,tu=6,ii=7,Bn=[new gs(Hb,0,!1),new gs(km,0,!0),new gs(Gl,1,!1),new gs(ca,1,!0),new gs(Pf,2,!1),new gs(rn,2,!0),new gs(tu,3,!1),new gs(ii,3,!0)],pz=[Pf,rn,Pf,rn,tu,ii,tu,ii],dz=[rn,rn,rn,rn,ii,ii,ii,ii],vz=[Gl,ca,Pf,rn,tu,ii,tu,ii],gz=[ca,ca,rn,rn,ii,ii,ii,ii],bz=[km,km,ca,ca,rn,rn,ii,ii],yz=[Hb,km,Gl,ca,Gl,ca,Gl,ca],it={DISPLAY:Bn[Hb],TEXT:Bn[Gl],SCRIPT:Bn[Pf],SCRIPTSCRIPT:Bn[tu]},i1=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function $z(r){for(var t=0;t<i1.length;t++)for(var e=i1[t],i=0;i<e.blocks.length;i++){var n=e.blocks[i];if(r>=n[0]&&r<=n[1])return e.name}return null}var em=[];i1.forEach(r=>r.blocks.forEach(t=>em.push(...t)));function ZS(r){for(var t=0;t<em.length;t+=2)if(r>=em[t]&&r<=em[t+1])return!0;return!1}var vl=80,_z=function(t,e){return"M95,"+(622+t+e)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},wz=function(t,e){return"M263,"+(601+t+e)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},xz=function(t,e){return"M983 "+(10+t+e)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},Sz=function(t,e){return"M424,"+(2398+t+e)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+e+`
h400000v`+(40+t)+"h-400000z"},Ez=function(t,e){return"M473,"+(2713+t+e)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+e+"h400000v"+(40+t)+"H1017.7z"},kz=function(t){var e=t/2;return"M400000 "+t+" H0 L"+e+" 0 l65 45 L145 "+(t-80)+" H400000z"},Tz=function(t,e,i){var n=i-54-e-t;return"M702 "+(t+e)+"H400000"+(40+t)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+e+"H400000v"+(40+t)+"H742z"},Oz=function(t,e,i){e=1e3*e;var n="";switch(t){case"sqrtMain":n=_z(e,vl);break;case"sqrtSize1":n=wz(e,vl);break;case"sqrtSize2":n=xz(e,vl);break;case"sqrtSize3":n=Sz(e,vl);break;case"sqrtSize4":n=Ez(e,vl);break;case"sqrtTall":n=Tz(e,vl,i)}return n},Az=function(t,e){switch(t){case"⎜":return"M291 0 H417 V"+e+" H291z M291 0 H417 V"+e+" H291z";case"∣":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z";case"∥":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z"+("M367 0 H410 V"+e+" H367z M367 0 H410 V"+e+" H367z");case"⎟":return"M457 0 H583 V"+e+" H457z M457 0 H583 V"+e+" H457z";case"⎢":return"M319 0 H403 V"+e+" H319z M319 0 H403 V"+e+" H319z";case"⎥":return"M263 0 H347 V"+e+" H263z M263 0 H347 V"+e+" H263z";case"⎪":return"M384 0 H504 V"+e+" H384z M384 0 H504 V"+e+" H384z";case"⏐":return"M312 0 H355 V"+e+" H312z M312 0 H355 V"+e+" H312z";case"‖":return"M257 0 H300 V"+e+" H257z M257 0 H300 V"+e+" H257z"+("M478 0 H521 V"+e+" H478z M478 0 H521 V"+e+" H478z");default:return""}},A2={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Iz=function(t,e){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+e+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+e+" v1759 h84z";case"vert":return"M145 15 v585 v"+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+e+" v585 h43z";case"doublevert":return"M145 15 v585 v"+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+e+` v585 h43z
M367 15 v585 v`+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+e+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+e+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+e+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+e+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+e+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+` v602 h84z
M403 1759 V0 H319 V1759 v`+e+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+` v602 h84z
M347 1759 V0 h-84 V1759 v`+e+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(e+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(e+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(e+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(e+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class ec{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return et.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t}toMarkup(){for(var t="",e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t}toText(){var t=e=>e.toText();return this.children.map(t).join("")}}var jn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},th={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},I2={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Cz(r,t){jn[r]=t}function Wb(r,t,e){if(!jn[t])throw new Error("Font metrics not found for font: "+t+".");var i=r.charCodeAt(0),n=jn[t][i];if(!n&&r[0]in I2&&(i=I2[r[0]].charCodeAt(0),n=jn[t][i]),!n&&e==="text"&&ZS(i)&&(n=jn[t][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}var l0={};function Pz(r){var t;if(r>=5?t=0:r>=3?t=1:t=2,!l0[t]){var e=l0[t]={cssEmPerMu:th.quad[t]/18};for(var i in th)th.hasOwnProperty(i)&&(e[i]=th[i][t])}return l0[t]}var Dz=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],C2=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],P2=function(t,e){return e.size<2?t:Dz[t-1][e.size-1]};class ua{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||ua.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=C2[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var e={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return new ua(e)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:P2(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:C2[t-1]})}havingBaseStyle(t){t=t||this.style.text();var e=P2(ua.BASESIZE,t);return this.size===e&&this.textSize===ua.BASESIZE&&this.style===t?this:this.extend({style:t,size:e})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ua.BASESIZE?["sizing","reset-size"+this.size,"size"+ua.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Pz(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ua.BASESIZE=6;var n1={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Nz={ex:!0,em:!0,mu:!0},e8=function(t){return typeof t!="string"&&(t=t.unit),t in n1||t in Nz||t==="ex"},Zt=function(t,e){var i;if(t.unit in n1)i=n1[t.unit]/e.fontMetrics().ptPerEm/e.sizeMultiplier;else if(t.unit==="mu")i=e.fontMetrics().cssEmPerMu;else{var n;if(e.style.isTight()?n=e.havingStyle(e.style.text()):n=e,t.unit==="ex")i=n.fontMetrics().xHeight;else if(t.unit==="em")i=n.fontMetrics().quad;else throw new ze("Invalid unit: '"+t.unit+"'");n!==e&&(i*=n.sizeMultiplier/e.sizeMultiplier)}return Math.min(t.number*i,e.maxSize)},Ue=function(t){return+t.toFixed(4)+"em"},js=function(t){return t.filter(e=>e).join(" ")},t8=function(t,e,i){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},e){e.style.isTight()&&this.classes.push("mtight");var n=e.getColor();n&&(this.style.color=n)}},r8=function(t){var e=document.createElement(t);e.className=js(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&e.setAttribute(n,this.attributes[n]);for(var a=0;a<this.children.length;a++)e.appendChild(this.children[a].toNode());return e},i8=function(t){var e="<"+t;this.classes.length&&(e+=' class="'+et.escape(js(this.classes))+'"');var i="";for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=et.hyphenate(n)+":"+this.style[n]+";");i&&(e+=' style="'+et.escape(i)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(e+=" "+a+'="'+et.escape(this.attributes[a])+'"');e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</"+t+">",e};class tc{constructor(t,e,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,t8.call(this,t,i,n),this.children=e||[]}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return et.contains(this.classes,t)}toNode(){return r8.call(this,"span")}toMarkup(){return i8.call(this,"span")}}class Vb{constructor(t,e,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,t8.call(this,e,n),this.children=i||[],this.setAttribute("href",t)}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return et.contains(this.classes,t)}toNode(){return r8.call(this,"a")}toMarkup(){return i8.call(this,"a")}}class Rz{constructor(t,e,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=e,this.src=t,this.classes=["mord"],this.style=i}hasClass(t){return et.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var e in this.style)this.style.hasOwnProperty(e)&&(t.style[e]=this.style[e]);return t}toMarkup(){var t='<img src="'+et.escape(this.src)+'"'+(' alt="'+et.escape(this.alt)+'"'),e="";for(var i in this.style)this.style.hasOwnProperty(i)&&(e+=et.hyphenate(i)+":"+this.style[i]+";");return e&&(t+=' style="'+et.escape(e)+'"'),t+="'/>",t}}var Mz={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class ln{constructor(t,e,i,n,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=e||0,this.depth=i||0,this.italic=n||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=$z(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Mz[this.text])}hasClass(t){return et.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),e=null;this.italic>0&&(e=document.createElement("span"),e.style.marginRight=Ue(this.italic)),this.classes.length>0&&(e=e||document.createElement("span"),e.className=js(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(e=e||document.createElement("span"),e.style[i]=this.style[i]);return e?(e.appendChild(t),e):t}toMarkup(){var t=!1,e="<span";this.classes.length&&(t=!0,e+=' class="',e+=et.escape(js(this.classes)),e+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=et.hyphenate(n)+":"+this.style[n]+";");i&&(t=!0,e+=' style="'+et.escape(i)+'"');var a=et.escape(this.text);return t?(e+=">",e+=a,e+="</span>",e):a}}class xa{constructor(t,e){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=e||{}}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="'+et.escape(this.attributes[e])+'"');t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</svg>",t}}class qs{constructor(t,e){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=e}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",A2[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+et.escape(this.alternate)+'"/>':'<path d="'+et.escape(A2[this.pathName])+'"/>'}}class a1{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);return e}toMarkup(){var t="<line";for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="'+et.escape(this.attributes[e])+'"');return t+="/>",t}}function D2(r){if(r instanceof ln)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function Bz(r){if(r instanceof tc)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var Fz={bin:1,close:1,inner:1,open:1,punct:1,rel:1},zz={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Vt={math:{},text:{}};function T(r,t,e,i,n,a){Vt[r][n]={font:t,group:e,replace:i},a&&i&&(Vt[r][i]=Vt[r][n])}var C="math",Me="text",U="main",se="ams",Xt="accent-token",Ge="bin",ui="close",vu="inner",rt="mathord",_r="op-token",ji="open",hp="punct",ue="rel",Pa="spacing",me="textord";T(C,U,ue,"≡","\\equiv",!0);T(C,U,ue,"≺","\\prec",!0);T(C,U,ue,"≻","\\succ",!0);T(C,U,ue,"∼","\\sim",!0);T(C,U,ue,"⊥","\\perp");T(C,U,ue,"⪯","\\preceq",!0);T(C,U,ue,"⪰","\\succeq",!0);T(C,U,ue,"≃","\\simeq",!0);T(C,U,ue,"∣","\\mid",!0);T(C,U,ue,"≪","\\ll",!0);T(C,U,ue,"≫","\\gg",!0);T(C,U,ue,"≍","\\asymp",!0);T(C,U,ue,"∥","\\parallel");T(C,U,ue,"⋈","\\bowtie",!0);T(C,U,ue,"⌣","\\smile",!0);T(C,U,ue,"⊑","\\sqsubseteq",!0);T(C,U,ue,"⊒","\\sqsupseteq",!0);T(C,U,ue,"≐","\\doteq",!0);T(C,U,ue,"⌢","\\frown",!0);T(C,U,ue,"∋","\\ni",!0);T(C,U,ue,"∝","\\propto",!0);T(C,U,ue,"⊢","\\vdash",!0);T(C,U,ue,"⊣","\\dashv",!0);T(C,U,ue,"∋","\\owns");T(C,U,hp,".","\\ldotp");T(C,U,hp,"⋅","\\cdotp");T(C,U,me,"#","\\#");T(Me,U,me,"#","\\#");T(C,U,me,"&","\\&");T(Me,U,me,"&","\\&");T(C,U,me,"ℵ","\\aleph",!0);T(C,U,me,"∀","\\forall",!0);T(C,U,me,"ℏ","\\hbar",!0);T(C,U,me,"∃","\\exists",!0);T(C,U,me,"∇","\\nabla",!0);T(C,U,me,"♭","\\flat",!0);T(C,U,me,"ℓ","\\ell",!0);T(C,U,me,"♮","\\natural",!0);T(C,U,me,"♣","\\clubsuit",!0);T(C,U,me,"℘","\\wp",!0);T(C,U,me,"♯","\\sharp",!0);T(C,U,me,"♢","\\diamondsuit",!0);T(C,U,me,"ℜ","\\Re",!0);T(C,U,me,"♡","\\heartsuit",!0);T(C,U,me,"ℑ","\\Im",!0);T(C,U,me,"♠","\\spadesuit",!0);T(C,U,me,"§","\\S",!0);T(Me,U,me,"§","\\S");T(C,U,me,"¶","\\P",!0);T(Me,U,me,"¶","\\P");T(C,U,me,"†","\\dag");T(Me,U,me,"†","\\dag");T(Me,U,me,"†","\\textdagger");T(C,U,me,"‡","\\ddag");T(Me,U,me,"‡","\\ddag");T(Me,U,me,"‡","\\textdaggerdbl");T(C,U,ui,"⎱","\\rmoustache",!0);T(C,U,ji,"⎰","\\lmoustache",!0);T(C,U,ui,"⟯","\\rgroup",!0);T(C,U,ji,"⟮","\\lgroup",!0);T(C,U,Ge,"∓","\\mp",!0);T(C,U,Ge,"⊖","\\ominus",!0);T(C,U,Ge,"⊎","\\uplus",!0);T(C,U,Ge,"⊓","\\sqcap",!0);T(C,U,Ge,"∗","\\ast");T(C,U,Ge,"⊔","\\sqcup",!0);T(C,U,Ge,"◯","\\bigcirc",!0);T(C,U,Ge,"∙","\\bullet",!0);T(C,U,Ge,"‡","\\ddagger");T(C,U,Ge,"≀","\\wr",!0);T(C,U,Ge,"⨿","\\amalg");T(C,U,Ge,"&","\\And");T(C,U,ue,"⟵","\\longleftarrow",!0);T(C,U,ue,"⇐","\\Leftarrow",!0);T(C,U,ue,"⟸","\\Longleftarrow",!0);T(C,U,ue,"⟶","\\longrightarrow",!0);T(C,U,ue,"⇒","\\Rightarrow",!0);T(C,U,ue,"⟹","\\Longrightarrow",!0);T(C,U,ue,"↔","\\leftrightarrow",!0);T(C,U,ue,"⟷","\\longleftrightarrow",!0);T(C,U,ue,"⇔","\\Leftrightarrow",!0);T(C,U,ue,"⟺","\\Longleftrightarrow",!0);T(C,U,ue,"↦","\\mapsto",!0);T(C,U,ue,"⟼","\\longmapsto",!0);T(C,U,ue,"↗","\\nearrow",!0);T(C,U,ue,"↩","\\hookleftarrow",!0);T(C,U,ue,"↪","\\hookrightarrow",!0);T(C,U,ue,"↘","\\searrow",!0);T(C,U,ue,"↼","\\leftharpoonup",!0);T(C,U,ue,"⇀","\\rightharpoonup",!0);T(C,U,ue,"↙","\\swarrow",!0);T(C,U,ue,"↽","\\leftharpoondown",!0);T(C,U,ue,"⇁","\\rightharpoondown",!0);T(C,U,ue,"↖","\\nwarrow",!0);T(C,U,ue,"⇌","\\rightleftharpoons",!0);T(C,se,ue,"≮","\\nless",!0);T(C,se,ue,"","\\@nleqslant");T(C,se,ue,"","\\@nleqq");T(C,se,ue,"⪇","\\lneq",!0);T(C,se,ue,"≨","\\lneqq",!0);T(C,se,ue,"","\\@lvertneqq");T(C,se,ue,"⋦","\\lnsim",!0);T(C,se,ue,"⪉","\\lnapprox",!0);T(C,se,ue,"⊀","\\nprec",!0);T(C,se,ue,"⋠","\\npreceq",!0);T(C,se,ue,"⋨","\\precnsim",!0);T(C,se,ue,"⪹","\\precnapprox",!0);T(C,se,ue,"≁","\\nsim",!0);T(C,se,ue,"","\\@nshortmid");T(C,se,ue,"∤","\\nmid",!0);T(C,se,ue,"⊬","\\nvdash",!0);T(C,se,ue,"⊭","\\nvDash",!0);T(C,se,ue,"⋪","\\ntriangleleft");T(C,se,ue,"⋬","\\ntrianglelefteq",!0);T(C,se,ue,"⊊","\\subsetneq",!0);T(C,se,ue,"","\\@varsubsetneq");T(C,se,ue,"⫋","\\subsetneqq",!0);T(C,se,ue,"","\\@varsubsetneqq");T(C,se,ue,"≯","\\ngtr",!0);T(C,se,ue,"","\\@ngeqslant");T(C,se,ue,"","\\@ngeqq");T(C,se,ue,"⪈","\\gneq",!0);T(C,se,ue,"≩","\\gneqq",!0);T(C,se,ue,"","\\@gvertneqq");T(C,se,ue,"⋧","\\gnsim",!0);T(C,se,ue,"⪊","\\gnapprox",!0);T(C,se,ue,"⊁","\\nsucc",!0);T(C,se,ue,"⋡","\\nsucceq",!0);T(C,se,ue,"⋩","\\succnsim",!0);T(C,se,ue,"⪺","\\succnapprox",!0);T(C,se,ue,"≆","\\ncong",!0);T(C,se,ue,"","\\@nshortparallel");T(C,se,ue,"∦","\\nparallel",!0);T(C,se,ue,"⊯","\\nVDash",!0);T(C,se,ue,"⋫","\\ntriangleright");T(C,se,ue,"⋭","\\ntrianglerighteq",!0);T(C,se,ue,"","\\@nsupseteqq");T(C,se,ue,"⊋","\\supsetneq",!0);T(C,se,ue,"","\\@varsupsetneq");T(C,se,ue,"⫌","\\supsetneqq",!0);T(C,se,ue,"","\\@varsupsetneqq");T(C,se,ue,"⊮","\\nVdash",!0);T(C,se,ue,"⪵","\\precneqq",!0);T(C,se,ue,"⪶","\\succneqq",!0);T(C,se,ue,"","\\@nsubseteqq");T(C,se,Ge,"⊴","\\unlhd");T(C,se,Ge,"⊵","\\unrhd");T(C,se,ue,"↚","\\nleftarrow",!0);T(C,se,ue,"↛","\\nrightarrow",!0);T(C,se,ue,"⇍","\\nLeftarrow",!0);T(C,se,ue,"⇏","\\nRightarrow",!0);T(C,se,ue,"↮","\\nleftrightarrow",!0);T(C,se,ue,"⇎","\\nLeftrightarrow",!0);T(C,se,ue,"△","\\vartriangle");T(C,se,me,"ℏ","\\hslash");T(C,se,me,"▽","\\triangledown");T(C,se,me,"◊","\\lozenge");T(C,se,me,"Ⓢ","\\circledS");T(C,se,me,"®","\\circledR");T(Me,se,me,"®","\\circledR");T(C,se,me,"∡","\\measuredangle",!0);T(C,se,me,"∄","\\nexists");T(C,se,me,"℧","\\mho");T(C,se,me,"Ⅎ","\\Finv",!0);T(C,se,me,"⅁","\\Game",!0);T(C,se,me,"‵","\\backprime");T(C,se,me,"▲","\\blacktriangle");T(C,se,me,"▼","\\blacktriangledown");T(C,se,me,"■","\\blacksquare");T(C,se,me,"⧫","\\blacklozenge");T(C,se,me,"★","\\bigstar");T(C,se,me,"∢","\\sphericalangle",!0);T(C,se,me,"∁","\\complement",!0);T(C,se,me,"ð","\\eth",!0);T(Me,U,me,"ð","ð");T(C,se,me,"╱","\\diagup");T(C,se,me,"╲","\\diagdown");T(C,se,me,"□","\\square");T(C,se,me,"□","\\Box");T(C,se,me,"◊","\\Diamond");T(C,se,me,"¥","\\yen",!0);T(Me,se,me,"¥","\\yen",!0);T(C,se,me,"✓","\\checkmark",!0);T(Me,se,me,"✓","\\checkmark");T(C,se,me,"ℶ","\\beth",!0);T(C,se,me,"ℸ","\\daleth",!0);T(C,se,me,"ℷ","\\gimel",!0);T(C,se,me,"ϝ","\\digamma",!0);T(C,se,me,"ϰ","\\varkappa");T(C,se,ji,"┌","\\@ulcorner",!0);T(C,se,ui,"┐","\\@urcorner",!0);T(C,se,ji,"└","\\@llcorner",!0);T(C,se,ui,"┘","\\@lrcorner",!0);T(C,se,ue,"≦","\\leqq",!0);T(C,se,ue,"⩽","\\leqslant",!0);T(C,se,ue,"⪕","\\eqslantless",!0);T(C,se,ue,"≲","\\lesssim",!0);T(C,se,ue,"⪅","\\lessapprox",!0);T(C,se,ue,"≊","\\approxeq",!0);T(C,se,Ge,"⋖","\\lessdot");T(C,se,ue,"⋘","\\lll",!0);T(C,se,ue,"≶","\\lessgtr",!0);T(C,se,ue,"⋚","\\lesseqgtr",!0);T(C,se,ue,"⪋","\\lesseqqgtr",!0);T(C,se,ue,"≑","\\doteqdot");T(C,se,ue,"≓","\\risingdotseq",!0);T(C,se,ue,"≒","\\fallingdotseq",!0);T(C,se,ue,"∽","\\backsim",!0);T(C,se,ue,"⋍","\\backsimeq",!0);T(C,se,ue,"⫅","\\subseteqq",!0);T(C,se,ue,"⋐","\\Subset",!0);T(C,se,ue,"⊏","\\sqsubset",!0);T(C,se,ue,"≼","\\preccurlyeq",!0);T(C,se,ue,"⋞","\\curlyeqprec",!0);T(C,se,ue,"≾","\\precsim",!0);T(C,se,ue,"⪷","\\precapprox",!0);T(C,se,ue,"⊲","\\vartriangleleft");T(C,se,ue,"⊴","\\trianglelefteq");T(C,se,ue,"⊨","\\vDash",!0);T(C,se,ue,"⊪","\\Vvdash",!0);T(C,se,ue,"⌣","\\smallsmile");T(C,se,ue,"⌢","\\smallfrown");T(C,se,ue,"≏","\\bumpeq",!0);T(C,se,ue,"≎","\\Bumpeq",!0);T(C,se,ue,"≧","\\geqq",!0);T(C,se,ue,"⩾","\\geqslant",!0);T(C,se,ue,"⪖","\\eqslantgtr",!0);T(C,se,ue,"≳","\\gtrsim",!0);T(C,se,ue,"⪆","\\gtrapprox",!0);T(C,se,Ge,"⋗","\\gtrdot");T(C,se,ue,"⋙","\\ggg",!0);T(C,se,ue,"≷","\\gtrless",!0);T(C,se,ue,"⋛","\\gtreqless",!0);T(C,se,ue,"⪌","\\gtreqqless",!0);T(C,se,ue,"≖","\\eqcirc",!0);T(C,se,ue,"≗","\\circeq",!0);T(C,se,ue,"≜","\\triangleq",!0);T(C,se,ue,"∼","\\thicksim");T(C,se,ue,"≈","\\thickapprox");T(C,se,ue,"⫆","\\supseteqq",!0);T(C,se,ue,"⋑","\\Supset",!0);T(C,se,ue,"⊐","\\sqsupset",!0);T(C,se,ue,"≽","\\succcurlyeq",!0);T(C,se,ue,"⋟","\\curlyeqsucc",!0);T(C,se,ue,"≿","\\succsim",!0);T(C,se,ue,"⪸","\\succapprox",!0);T(C,se,ue,"⊳","\\vartriangleright");T(C,se,ue,"⊵","\\trianglerighteq");T(C,se,ue,"⊩","\\Vdash",!0);T(C,se,ue,"∣","\\shortmid");T(C,se,ue,"∥","\\shortparallel");T(C,se,ue,"≬","\\between",!0);T(C,se,ue,"⋔","\\pitchfork",!0);T(C,se,ue,"∝","\\varpropto");T(C,se,ue,"◀","\\blacktriangleleft");T(C,se,ue,"∴","\\therefore",!0);T(C,se,ue,"∍","\\backepsilon");T(C,se,ue,"▶","\\blacktriangleright");T(C,se,ue,"∵","\\because",!0);T(C,se,ue,"⋘","\\llless");T(C,se,ue,"⋙","\\gggtr");T(C,se,Ge,"⊲","\\lhd");T(C,se,Ge,"⊳","\\rhd");T(C,se,ue,"≂","\\eqsim",!0);T(C,U,ue,"⋈","\\Join");T(C,se,ue,"≑","\\Doteq",!0);T(C,se,Ge,"∔","\\dotplus",!0);T(C,se,Ge,"∖","\\smallsetminus");T(C,se,Ge,"⋒","\\Cap",!0);T(C,se,Ge,"⋓","\\Cup",!0);T(C,se,Ge,"⩞","\\doublebarwedge",!0);T(C,se,Ge,"⊟","\\boxminus",!0);T(C,se,Ge,"⊞","\\boxplus",!0);T(C,se,Ge,"⋇","\\divideontimes",!0);T(C,se,Ge,"⋉","\\ltimes",!0);T(C,se,Ge,"⋊","\\rtimes",!0);T(C,se,Ge,"⋋","\\leftthreetimes",!0);T(C,se,Ge,"⋌","\\rightthreetimes",!0);T(C,se,Ge,"⋏","\\curlywedge",!0);T(C,se,Ge,"⋎","\\curlyvee",!0);T(C,se,Ge,"⊝","\\circleddash",!0);T(C,se,Ge,"⊛","\\circledast",!0);T(C,se,Ge,"⋅","\\centerdot");T(C,se,Ge,"⊺","\\intercal",!0);T(C,se,Ge,"⋒","\\doublecap");T(C,se,Ge,"⋓","\\doublecup");T(C,se,Ge,"⊠","\\boxtimes",!0);T(C,se,ue,"⇢","\\dashrightarrow",!0);T(C,se,ue,"⇠","\\dashleftarrow",!0);T(C,se,ue,"⇇","\\leftleftarrows",!0);T(C,se,ue,"⇆","\\leftrightarrows",!0);T(C,se,ue,"⇚","\\Lleftarrow",!0);T(C,se,ue,"↞","\\twoheadleftarrow",!0);T(C,se,ue,"↢","\\leftarrowtail",!0);T(C,se,ue,"↫","\\looparrowleft",!0);T(C,se,ue,"⇋","\\leftrightharpoons",!0);T(C,se,ue,"↶","\\curvearrowleft",!0);T(C,se,ue,"↺","\\circlearrowleft",!0);T(C,se,ue,"↰","\\Lsh",!0);T(C,se,ue,"⇈","\\upuparrows",!0);T(C,se,ue,"↿","\\upharpoonleft",!0);T(C,se,ue,"⇃","\\downharpoonleft",!0);T(C,U,ue,"⊶","\\origof",!0);T(C,U,ue,"⊷","\\imageof",!0);T(C,se,ue,"⊸","\\multimap",!0);T(C,se,ue,"↭","\\leftrightsquigarrow",!0);T(C,se,ue,"⇉","\\rightrightarrows",!0);T(C,se,ue,"⇄","\\rightleftarrows",!0);T(C,se,ue,"↠","\\twoheadrightarrow",!0);T(C,se,ue,"↣","\\rightarrowtail",!0);T(C,se,ue,"↬","\\looparrowright",!0);T(C,se,ue,"↷","\\curvearrowright",!0);T(C,se,ue,"↻","\\circlearrowright",!0);T(C,se,ue,"↱","\\Rsh",!0);T(C,se,ue,"⇊","\\downdownarrows",!0);T(C,se,ue,"↾","\\upharpoonright",!0);T(C,se,ue,"⇂","\\downharpoonright",!0);T(C,se,ue,"⇝","\\rightsquigarrow",!0);T(C,se,ue,"⇝","\\leadsto");T(C,se,ue,"⇛","\\Rrightarrow",!0);T(C,se,ue,"↾","\\restriction");T(C,U,me,"‘","`");T(C,U,me,"$","\\$");T(Me,U,me,"$","\\$");T(Me,U,me,"$","\\textdollar");T(C,U,me,"%","\\%");T(Me,U,me,"%","\\%");T(C,U,me,"_","\\_");T(Me,U,me,"_","\\_");T(Me,U,me,"_","\\textunderscore");T(C,U,me,"∠","\\angle",!0);T(C,U,me,"∞","\\infty",!0);T(C,U,me,"′","\\prime");T(C,U,me,"△","\\triangle");T(C,U,me,"Γ","\\Gamma",!0);T(C,U,me,"Δ","\\Delta",!0);T(C,U,me,"Θ","\\Theta",!0);T(C,U,me,"Λ","\\Lambda",!0);T(C,U,me,"Ξ","\\Xi",!0);T(C,U,me,"Π","\\Pi",!0);T(C,U,me,"Σ","\\Sigma",!0);T(C,U,me,"Υ","\\Upsilon",!0);T(C,U,me,"Φ","\\Phi",!0);T(C,U,me,"Ψ","\\Psi",!0);T(C,U,me,"Ω","\\Omega",!0);T(C,U,me,"A","Α");T(C,U,me,"B","Β");T(C,U,me,"E","Ε");T(C,U,me,"Z","Ζ");T(C,U,me,"H","Η");T(C,U,me,"I","Ι");T(C,U,me,"K","Κ");T(C,U,me,"M","Μ");T(C,U,me,"N","Ν");T(C,U,me,"O","Ο");T(C,U,me,"P","Ρ");T(C,U,me,"T","Τ");T(C,U,me,"X","Χ");T(C,U,me,"¬","\\neg",!0);T(C,U,me,"¬","\\lnot");T(C,U,me,"⊤","\\top");T(C,U,me,"⊥","\\bot");T(C,U,me,"∅","\\emptyset");T(C,se,me,"∅","\\varnothing");T(C,U,rt,"α","\\alpha",!0);T(C,U,rt,"β","\\beta",!0);T(C,U,rt,"γ","\\gamma",!0);T(C,U,rt,"δ","\\delta",!0);T(C,U,rt,"ϵ","\\epsilon",!0);T(C,U,rt,"ζ","\\zeta",!0);T(C,U,rt,"η","\\eta",!0);T(C,U,rt,"θ","\\theta",!0);T(C,U,rt,"ι","\\iota",!0);T(C,U,rt,"κ","\\kappa",!0);T(C,U,rt,"λ","\\lambda",!0);T(C,U,rt,"μ","\\mu",!0);T(C,U,rt,"ν","\\nu",!0);T(C,U,rt,"ξ","\\xi",!0);T(C,U,rt,"ο","\\omicron",!0);T(C,U,rt,"π","\\pi",!0);T(C,U,rt,"ρ","\\rho",!0);T(C,U,rt,"σ","\\sigma",!0);T(C,U,rt,"τ","\\tau",!0);T(C,U,rt,"υ","\\upsilon",!0);T(C,U,rt,"ϕ","\\phi",!0);T(C,U,rt,"χ","\\chi",!0);T(C,U,rt,"ψ","\\psi",!0);T(C,U,rt,"ω","\\omega",!0);T(C,U,rt,"ε","\\varepsilon",!0);T(C,U,rt,"ϑ","\\vartheta",!0);T(C,U,rt,"ϖ","\\varpi",!0);T(C,U,rt,"ϱ","\\varrho",!0);T(C,U,rt,"ς","\\varsigma",!0);T(C,U,rt,"φ","\\varphi",!0);T(C,U,Ge,"∗","*",!0);T(C,U,Ge,"+","+");T(C,U,Ge,"−","-",!0);T(C,U,Ge,"⋅","\\cdot",!0);T(C,U,Ge,"∘","\\circ",!0);T(C,U,Ge,"÷","\\div",!0);T(C,U,Ge,"±","\\pm",!0);T(C,U,Ge,"×","\\times",!0);T(C,U,Ge,"∩","\\cap",!0);T(C,U,Ge,"∪","\\cup",!0);T(C,U,Ge,"∖","\\setminus",!0);T(C,U,Ge,"∧","\\land");T(C,U,Ge,"∨","\\lor");T(C,U,Ge,"∧","\\wedge",!0);T(C,U,Ge,"∨","\\vee",!0);T(C,U,me,"√","\\surd");T(C,U,ji,"⟨","\\langle",!0);T(C,U,ji,"∣","\\lvert");T(C,U,ji,"∥","\\lVert");T(C,U,ui,"?","?");T(C,U,ui,"!","!");T(C,U,ui,"⟩","\\rangle",!0);T(C,U,ui,"∣","\\rvert");T(C,U,ui,"∥","\\rVert");T(C,U,ue,"=","=");T(C,U,ue,":",":");T(C,U,ue,"≈","\\approx",!0);T(C,U,ue,"≅","\\cong",!0);T(C,U,ue,"≥","\\ge");T(C,U,ue,"≥","\\geq",!0);T(C,U,ue,"←","\\gets");T(C,U,ue,">","\\gt",!0);T(C,U,ue,"∈","\\in",!0);T(C,U,ue,"","\\@not");T(C,U,ue,"⊂","\\subset",!0);T(C,U,ue,"⊃","\\supset",!0);T(C,U,ue,"⊆","\\subseteq",!0);T(C,U,ue,"⊇","\\supseteq",!0);T(C,se,ue,"⊈","\\nsubseteq",!0);T(C,se,ue,"⊉","\\nsupseteq",!0);T(C,U,ue,"⊨","\\models");T(C,U,ue,"←","\\leftarrow",!0);T(C,U,ue,"≤","\\le");T(C,U,ue,"≤","\\leq",!0);T(C,U,ue,"<","\\lt",!0);T(C,U,ue,"→","\\rightarrow",!0);T(C,U,ue,"→","\\to");T(C,se,ue,"≱","\\ngeq",!0);T(C,se,ue,"≰","\\nleq",!0);T(C,U,Pa," ","\\ ");T(C,U,Pa," ","\\space");T(C,U,Pa," ","\\nobreakspace");T(Me,U,Pa," ","\\ ");T(Me,U,Pa," "," ");T(Me,U,Pa," ","\\space");T(Me,U,Pa," ","\\nobreakspace");T(C,U,Pa,null,"\\nobreak");T(C,U,Pa,null,"\\allowbreak");T(C,U,hp,",",",");T(C,U,hp,";",";");T(C,se,Ge,"⊼","\\barwedge",!0);T(C,se,Ge,"⊻","\\veebar",!0);T(C,U,Ge,"⊙","\\odot",!0);T(C,U,Ge,"⊕","\\oplus",!0);T(C,U,Ge,"⊗","\\otimes",!0);T(C,U,me,"∂","\\partial",!0);T(C,U,Ge,"⊘","\\oslash",!0);T(C,se,Ge,"⊚","\\circledcirc",!0);T(C,se,Ge,"⊡","\\boxdot",!0);T(C,U,Ge,"△","\\bigtriangleup");T(C,U,Ge,"▽","\\bigtriangledown");T(C,U,Ge,"†","\\dagger");T(C,U,Ge,"⋄","\\diamond");T(C,U,Ge,"⋆","\\star");T(C,U,Ge,"◃","\\triangleleft");T(C,U,Ge,"▹","\\triangleright");T(C,U,ji,"{","\\{");T(Me,U,me,"{","\\{");T(Me,U,me,"{","\\textbraceleft");T(C,U,ui,"}","\\}");T(Me,U,me,"}","\\}");T(Me,U,me,"}","\\textbraceright");T(C,U,ji,"{","\\lbrace");T(C,U,ui,"}","\\rbrace");T(C,U,ji,"[","\\lbrack",!0);T(Me,U,me,"[","\\lbrack",!0);T(C,U,ui,"]","\\rbrack",!0);T(Me,U,me,"]","\\rbrack",!0);T(C,U,ji,"(","\\lparen",!0);T(C,U,ui,")","\\rparen",!0);T(Me,U,me,"<","\\textless",!0);T(Me,U,me,">","\\textgreater",!0);T(C,U,ji,"⌊","\\lfloor",!0);T(C,U,ui,"⌋","\\rfloor",!0);T(C,U,ji,"⌈","\\lceil",!0);T(C,U,ui,"⌉","\\rceil",!0);T(C,U,me,"\\","\\backslash");T(C,U,me,"∣","|");T(C,U,me,"∣","\\vert");T(Me,U,me,"|","\\textbar",!0);T(C,U,me,"∥","\\|");T(C,U,me,"∥","\\Vert");T(Me,U,me,"∥","\\textbardbl");T(Me,U,me,"~","\\textasciitilde");T(Me,U,me,"\\","\\textbackslash");T(Me,U,me,"^","\\textasciicircum");T(C,U,ue,"↑","\\uparrow",!0);T(C,U,ue,"⇑","\\Uparrow",!0);T(C,U,ue,"↓","\\downarrow",!0);T(C,U,ue,"⇓","\\Downarrow",!0);T(C,U,ue,"↕","\\updownarrow",!0);T(C,U,ue,"⇕","\\Updownarrow",!0);T(C,U,_r,"∐","\\coprod");T(C,U,_r,"⋁","\\bigvee");T(C,U,_r,"⋀","\\bigwedge");T(C,U,_r,"⨄","\\biguplus");T(C,U,_r,"⋂","\\bigcap");T(C,U,_r,"⋃","\\bigcup");T(C,U,_r,"∫","\\int");T(C,U,_r,"∫","\\intop");T(C,U,_r,"∬","\\iint");T(C,U,_r,"∭","\\iiint");T(C,U,_r,"∏","\\prod");T(C,U,_r,"∑","\\sum");T(C,U,_r,"⨂","\\bigotimes");T(C,U,_r,"⨁","\\bigoplus");T(C,U,_r,"⨀","\\bigodot");T(C,U,_r,"∮","\\oint");T(C,U,_r,"∯","\\oiint");T(C,U,_r,"∰","\\oiiint");T(C,U,_r,"⨆","\\bigsqcup");T(C,U,_r,"∫","\\smallint");T(Me,U,vu,"…","\\textellipsis");T(C,U,vu,"…","\\mathellipsis");T(Me,U,vu,"…","\\ldots",!0);T(C,U,vu,"…","\\ldots",!0);T(C,U,vu,"⋯","\\@cdots",!0);T(C,U,vu,"⋱","\\ddots",!0);T(C,U,me,"⋮","\\varvdots");T(C,U,Xt,"ˊ","\\acute");T(C,U,Xt,"ˋ","\\grave");T(C,U,Xt,"¨","\\ddot");T(C,U,Xt,"~","\\tilde");T(C,U,Xt,"ˉ","\\bar");T(C,U,Xt,"˘","\\breve");T(C,U,Xt,"ˇ","\\check");T(C,U,Xt,"^","\\hat");T(C,U,Xt,"⃗","\\vec");T(C,U,Xt,"˙","\\dot");T(C,U,Xt,"˚","\\mathring");T(C,U,rt,"","\\@imath");T(C,U,rt,"","\\@jmath");T(C,U,me,"ı","ı");T(C,U,me,"ȷ","ȷ");T(Me,U,me,"ı","\\i",!0);T(Me,U,me,"ȷ","\\j",!0);T(Me,U,me,"ß","\\ss",!0);T(Me,U,me,"æ","\\ae",!0);T(Me,U,me,"œ","\\oe",!0);T(Me,U,me,"ø","\\o",!0);T(Me,U,me,"Æ","\\AE",!0);T(Me,U,me,"Œ","\\OE",!0);T(Me,U,me,"Ø","\\O",!0);T(Me,U,Xt,"ˊ","\\'");T(Me,U,Xt,"ˋ","\\`");T(Me,U,Xt,"ˆ","\\^");T(Me,U,Xt,"˜","\\~");T(Me,U,Xt,"ˉ","\\=");T(Me,U,Xt,"˘","\\u");T(Me,U,Xt,"˙","\\.");T(Me,U,Xt,"¸","\\c");T(Me,U,Xt,"˚","\\r");T(Me,U,Xt,"ˇ","\\v");T(Me,U,Xt,"¨",'\\"');T(Me,U,Xt,"˝","\\H");T(Me,U,Xt,"◯","\\textcircled");var n8={"--":!0,"---":!0,"``":!0,"''":!0};T(Me,U,me,"–","--",!0);T(Me,U,me,"–","\\textendash");T(Me,U,me,"—","---",!0);T(Me,U,me,"—","\\textemdash");T(Me,U,me,"‘","`",!0);T(Me,U,me,"‘","\\textquoteleft");T(Me,U,me,"’","'",!0);T(Me,U,me,"’","\\textquoteright");T(Me,U,me,"“","``",!0);T(Me,U,me,"“","\\textquotedblleft");T(Me,U,me,"”","''",!0);T(Me,U,me,"”","\\textquotedblright");T(C,U,me,"°","\\degree",!0);T(Me,U,me,"°","\\degree");T(Me,U,me,"°","\\textdegree",!0);T(C,U,me,"£","\\pounds");T(C,U,me,"£","\\mathsterling",!0);T(Me,U,me,"£","\\pounds");T(Me,U,me,"£","\\textsterling",!0);T(C,se,me,"✠","\\maltese");T(Me,se,me,"✠","\\maltese");var N2='0123456789/@."';for(var u0=0;u0<N2.length;u0++){var R2=N2.charAt(u0);T(C,U,me,R2,R2)}var M2='0123456789!@*()-=+";:?/.,';for(var f0=0;f0<M2.length;f0++){var B2=M2.charAt(f0);T(Me,U,me,B2,B2)}var Tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var c0=0;c0<Tm.length;c0++){var rh=Tm.charAt(c0);T(C,U,rt,rh,rh),T(Me,U,me,rh,rh)}T(C,se,me,"C","ℂ");T(Me,se,me,"C","ℂ");T(C,se,me,"H","ℍ");T(Me,se,me,"H","ℍ");T(C,se,me,"N","ℕ");T(Me,se,me,"N","ℕ");T(C,se,me,"P","ℙ");T(Me,se,me,"P","ℙ");T(C,se,me,"Q","ℚ");T(Me,se,me,"Q","ℚ");T(C,se,me,"R","ℝ");T(Me,se,me,"R","ℝ");T(C,se,me,"Z","ℤ");T(Me,se,me,"Z","ℤ");T(C,U,rt,"h","ℎ");T(Me,U,rt,"h","ℎ");var ut="";for(var Zr=0;Zr<Tm.length;Zr++){var ir=Tm.charAt(Zr);ut=String.fromCharCode(55349,56320+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),ut=String.fromCharCode(55349,56372+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),ut=String.fromCharCode(55349,56424+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),ut=String.fromCharCode(55349,56580+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),ut=String.fromCharCode(55349,56684+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),ut=String.fromCharCode(55349,56736+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),ut=String.fromCharCode(55349,56788+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),ut=String.fromCharCode(55349,56840+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),ut=String.fromCharCode(55349,56944+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),Zr<26&&(ut=String.fromCharCode(55349,56632+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut),ut=String.fromCharCode(55349,56476+Zr),T(C,U,rt,ir,ut),T(Me,U,me,ir,ut))}ut="𝕜";T(C,U,rt,"k",ut);T(Me,U,me,"k",ut);for(var lo=0;lo<10;lo++){var bs=lo.toString();ut=String.fromCharCode(55349,57294+lo),T(C,U,rt,bs,ut),T(Me,U,me,bs,ut),ut=String.fromCharCode(55349,57314+lo),T(C,U,rt,bs,ut),T(Me,U,me,bs,ut),ut=String.fromCharCode(55349,57324+lo),T(C,U,rt,bs,ut),T(Me,U,me,bs,ut),ut=String.fromCharCode(55349,57334+lo),T(C,U,rt,bs,ut),T(Me,U,me,bs,ut)}var s1="ÐÞþ";for(var h0=0;h0<s1.length;h0++){var ih=s1.charAt(h0);T(C,U,rt,ih,ih),T(Me,U,me,ih,ih)}var nh=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],F2=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Lz=function(t,e){var i=t.charCodeAt(0),n=t.charCodeAt(1),a=(i-55296)*1024+(n-56320)+65536,s=e==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[nh[o][2],nh[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[F2[l][2],F2[l][s]]}else{if(a===120485||a===120486)return[nh[0][2],nh[0][s]];if(120486<a&&a<120782)return["",""];throw new ze("Unsupported character: "+t)}},mp=function(t,e,i){return Vt[i][t]&&Vt[i][t].replace&&(t=Vt[i][t].replace),{value:t,metrics:Wb(t,e,i)}},bn=function(t,e,i,n,a){var s=mp(t,e,i),o=s.metrics;t=s.value;var l;if(o){var u=o.italic;(i==="text"||n&&n.font==="mathit")&&(u=0),l=new ln(t,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+e+"' and mode '"+i+"'")),l=new ln(t,0,0,0,0,0,a);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var f=n.getColor();f&&(l.style.color=f)}return l},jz=function(t,e,i,n){return n===void 0&&(n=[]),i.font==="boldsymbol"&&mp(t,"Main-Bold",e).metrics?bn(t,"Main-Bold",e,i,n.concat(["mathbf"])):t==="\\"||Vt[e][t].font==="main"?bn(t,"Main-Regular",e,i,n):bn(t,"AMS-Regular",e,i,n.concat(["amsrm"]))},qz=function(t,e,i,n,a){return a!=="textord"&&mp(t,"Math-BoldItalic",e).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Uz=function(t,e,i){var n=t.mode,a=t.text,s=["mord"],o=n==="math"||n==="text"&&e.font,l=o?e.font:e.fontFamily,u="",f="";if(a.charCodeAt(0)===55349&&([u,f]=Lz(a,n)),u.length>0)return bn(a,u,n,e,s.concat(f));if(l){var h,c;if(l==="boldsymbol"){var m=qz(a,n,e,s,i);h=m.fontName,c=[m.fontClass]}else o?(h=o8[l].fontName,c=[l]):(h=ah(l,e.fontWeight,e.fontShape),c=[l,e.fontWeight,e.fontShape]);if(mp(a,h,n).metrics)return bn(a,h,n,e,s.concat(c));if(n8.hasOwnProperty(a)&&h.slice(0,10)==="Typewriter"){for(var v=[],d=0;d<a.length;d++)v.push(bn(a[d],h,n,e,s.concat(c)));return s8(v)}}if(i==="mathord")return bn(a,"Math-Italic",n,e,s.concat(["mathnormal"]));if(i==="textord"){var b=Vt[n][a]&&Vt[n][a].font;if(b==="ams"){var g=ah("amsrm",e.fontWeight,e.fontShape);return bn(a,g,n,e,s.concat("amsrm",e.fontWeight,e.fontShape))}else if(b==="main"||!b){var $=ah("textrm",e.fontWeight,e.fontShape);return bn(a,$,n,e,s.concat(e.fontWeight,e.fontShape))}else{var w=ah(b,e.fontWeight,e.fontShape);return bn(a,w,n,e,s.concat(w,e.fontWeight,e.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},Hz=(r,t)=>{if(js(r.classes)!==js(t.classes)||r.skew!==t.skew||r.maxFontSize!==t.maxFontSize)return!1;if(r.classes.length===1){var e=r.classes[0];if(e==="mbin"||e==="mord")return!1}for(var i in r.style)if(r.style.hasOwnProperty(i)&&r.style[i]!==t.style[i])return!1;for(var n in t.style)if(t.style.hasOwnProperty(n)&&r.style[n]!==t.style[n])return!1;return!0},Wz=r=>{for(var t=0;t<r.length-1;t++){var e=r[t],i=r[t+1];e instanceof ln&&i instanceof ln&&Hz(e,i)&&(e.text+=i.text,e.height=Math.max(e.height,i.height),e.depth=Math.max(e.depth,i.depth),e.italic=i.italic,r.splice(t+1,1),t--)}return r},Gb=function(t){for(var e=0,i=0,n=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>e&&(e=s.height),s.depth>i&&(i=s.depth),s.maxFontSize>n&&(n=s.maxFontSize)}t.height=e,t.depth=i,t.maxFontSize=n},vi=function(t,e,i,n){var a=new tc(t,e,i,n);return Gb(a),a},a8=(r,t,e,i)=>new tc(r,t,e,i),Vz=function(t,e,i){var n=vi([t],[],e);return n.height=Math.max(i||e.fontMetrics().defaultRuleThickness,e.minRuleThickness),n.style.borderBottomWidth=Ue(n.height),n.maxFontSize=1,n},Gz=function(t,e,i,n){var a=new Vb(t,e,i,n);return Gb(a),a},s8=function(t){var e=new ec(t);return Gb(e),e},Xz=function(t,e){return t instanceof ec?vi([],[t],e):t},Kz=function(t){if(t.positionType==="individualShift"){for(var e=t.children,i=[e[0]],n=-e[0].shift-e[0].elem.depth,a=n,s=1;s<e.length;s++){var o=-e[s].shift-a-e[s].elem.depth,l=o-(e[s-1].elem.height+e[s-1].elem.depth);a=a+o,i.push({type:"kern",size:l}),i.push(e[s])}return{children:i,depth:n}}var u;if(t.positionType==="top"){for(var f=t.positionData,h=0;h<t.children.length;h++){var c=t.children[h];f-=c.type==="kern"?c.size:c.elem.height+c.elem.depth}u=f}else if(t.positionType==="bottom")u=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},Yz=function(t,e){for(var{children:i,depth:n}=Kz(t),a=0,s=0;s<i.length;s++){var o=i[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=vi(["pstrut"],[]);u.style.height=Ue(a);for(var f=[],h=n,c=n,m=n,v=0;v<i.length;v++){var d=i[v];if(d.type==="kern")m+=d.size;else{var b=d.elem,g=d.wrapperClasses||[],$=d.wrapperStyle||{},w=vi(g,[u,b],void 0,$);w.style.top=Ue(-a-m-b.depth),d.marginLeft&&(w.style.marginLeft=d.marginLeft),d.marginRight&&(w.style.marginRight=d.marginRight),f.push(w),m+=b.height+b.depth}h=Math.min(h,m),c=Math.max(c,m)}var x=vi(["vlist"],f);x.style.height=Ue(c);var A;if(h<0){var I=vi([],[]),D=vi(["vlist"],[I]);D.style.height=Ue(-h);var S=vi(["vlist-s"],[new ln("​")]);A=[vi(["vlist-r"],[x,S]),vi(["vlist-r"],[D])]}else A=[vi(["vlist-r"],[x])];var O=vi(["vlist-t"],A);return A.length===2&&O.classes.push("vlist-t2"),O.height=c,O.depth=-h,O},Jz=(r,t)=>{var e=vi(["mspace"],[],t),i=Zt(r,t);return e.style.marginRight=Ue(i),e},ah=function(t,e,i){var n="";switch(t){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=t}var a;return e==="textbf"&&i==="textit"?a="BoldItalic":e==="textbf"?a="Bold":e==="textit"?a="Italic":a="Regular",n+"-"+a},o8={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},l8={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Qz=function(t,e){var[i,n,a]=l8[t],s=new qs(i),o=new xa([s],{width:Ue(n),height:Ue(a),style:"width:"+Ue(n),viewBox:"0 0 "+1e3*n+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=a8(["overlay"],[o],e);return l.height=a,l.style.height=Ue(a),l.style.width=Ue(n),l},xe={fontMap:o8,makeSymbol:bn,mathsym:jz,makeSpan:vi,makeSvgSpan:a8,makeLineSpan:Vz,makeAnchor:Gz,makeFragment:s8,wrapFragment:Xz,makeVList:Yz,makeOrd:Uz,makeGlue:Jz,staticSvg:Qz,svgData:l8,tryCombineChars:Wz},Qt={number:3,unit:"mu"},uo={number:4,unit:"mu"},oa={number:5,unit:"mu"},Zz={mord:{mop:Qt,mbin:uo,mrel:oa,minner:Qt},mop:{mord:Qt,mop:Qt,mrel:oa,minner:Qt},mbin:{mord:uo,mop:uo,mopen:uo,minner:uo},mrel:{mord:oa,mop:oa,mopen:oa,minner:oa},mopen:{},mclose:{mop:Qt,mbin:uo,mrel:oa,minner:Qt},mpunct:{mord:Qt,mop:Qt,mrel:oa,mopen:Qt,mclose:Qt,mpunct:Qt,minner:Qt},minner:{mord:Qt,mop:Qt,mbin:uo,mrel:oa,mopen:Qt,mpunct:Qt,minner:Qt}},eL={mord:{mop:Qt},mop:{mord:Qt,mop:Qt},mbin:{},mrel:{},mopen:{},mclose:{mop:Qt},mpunct:{},minner:{mop:Qt}},u8={},Om={},Am={};function Ve(r){for(var{type:t,names:e,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=r,o={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:n},l=0;l<e.length;++l)u8[e[l]]=o;t&&(a&&(Om[t]=a),s&&(Am[t]=s))}function Go(r){var{type:t,htmlBuilder:e,mathmlBuilder:i}=r;Ve({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:e,mathmlBuilder:i})}var Im=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},mr=function(t){return t.type==="ordgroup"?t.body:[t]},Sa=xe.makeSpan,tL=["leftmost","mbin","mopen","mrel","mop","mpunct"],rL=["rightmost","mrel","mclose","mpunct"],iL={display:it.DISPLAY,text:it.TEXT,script:it.SCRIPT,scriptscript:it.SCRIPTSCRIPT},nL={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Sr=function(t,e,i,n){n===void 0&&(n=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=Et(t[s],e);if(o instanceof ec){var l=o.children;a.push(...l)}else a.push(o)}if(xe.tryCombineChars(a),!i)return a;var u=e;if(t.length===1){var f=t[0];f.type==="sizing"?u=e.havingSize(f.size):f.type==="styling"&&(u=e.havingStyle(iL[f.style]))}var h=Sa([n[0]||"leftmost"],[],e),c=Sa([n[1]||"rightmost"],[],e),m=i==="root";return z2(a,(v,d)=>{var b=d.classes[0],g=v.classes[0];b==="mbin"&&et.contains(rL,g)?d.classes[0]="mord":g==="mbin"&&et.contains(tL,b)&&(v.classes[0]="mord")},{node:h},c,m),z2(a,(v,d)=>{var b=o1(d),g=o1(v),$=b&&g?v.hasClass("mtight")?eL[b][g]:Zz[b][g]:null;if($)return xe.makeGlue($,u)},{node:h},c,m),a},z2=function r(t,e,i,n,a){n&&t.push(n);for(var s=0;s<t.length;s++){var o=t[s],l=f8(o);if(l){r(l.children,e,i,null,a);continue}var u=!o.hasClass("mspace");if(u){var f=e(o,i.node);f&&(i.insertAfter?i.insertAfter(f):(t.unshift(f),s++))}u?i.node=o:a&&o.hasClass("newline")&&(i.node=Sa(["leftmost"])),i.insertAfter=(h=>c=>{t.splice(h+1,0,c),s++})(s)}n&&t.pop()},f8=function(t){return t instanceof ec||t instanceof Vb||t instanceof tc&&t.hasClass("enclosing")?t:null},aL=function r(t,e){var i=f8(t);if(i){var n=i.children;if(n.length){if(e==="right")return r(n[n.length-1],"right");if(e==="left")return r(n[0],"left")}}return t},o1=function(t,e){return t?(e&&(t=aL(t,e)),nL[t.classes[0]]||null):null},Df=function(t,e){var i=["nulldelimiter"].concat(t.baseSizingClasses());return Sa(e.concat(i))},Et=function(t,e,i){if(!t)return Sa();if(Om[t.type]){var n=Om[t.type](t,e);if(i&&e.size!==i.size){n=Sa(e.sizingClasses(i),[n],e);var a=e.sizeMultiplier/i.sizeMultiplier;n.height*=a,n.depth*=a}return n}else throw new ze("Got group of unknown type: '"+t.type+"'")};function sh(r,t){var e=Sa(["base"],r,t),i=Sa(["strut"]);return i.style.height=Ue(e.height+e.depth),e.depth&&(i.style.verticalAlign=Ue(-e.depth)),e.children.unshift(i),e}function l1(r,t){var e=null;r.length===1&&r[0].type==="tag"&&(e=r[0].tag,r=r[0].body);var i=Sr(r,t,"root"),n;i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var a=[],s=[],o=0;o<i.length;o++)if(s.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var l=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,s.push(i[o]),i[o].hasClass("nobreak")&&(l=!0);l||(a.push(sh(s,t)),s=[])}else i[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(sh(s,t)),s=[]),a.push(i[o]));s.length>0&&a.push(sh(s,t));var u;e?(u=sh(Sr(e,t,!0)),u.classes=["tag"],a.push(u)):n&&a.push(n);var f=Sa(["katex-html"],a);if(f.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=Ue(f.height+f.depth),f.depth&&(h.style.verticalAlign=Ue(-f.depth))}return f}function c8(r){return new ec(r)}class en{constructor(t,e,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=e||[],this.classes=i||[]}setAttribute(t,e){this.attributes[t]=e}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);this.classes.length>0&&(t.className=js(this.classes));for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var t="<"+this.type;for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=et.escape(this.attributes[e]),t+='"');this.classes.length>0&&(t+=' class ="'+et.escape(js(this.classes))+'"'),t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class uf{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return et.escape(this.toText())}toText(){return this.text}}class sL{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Ue(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ue(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Be={MathNode:en,TextNode:uf,SpaceNode:sL,newDocumentFragment:c8},un=function(t,e,i){return Vt[e][t]&&Vt[e][t].replace&&t.charCodeAt(0)!==55349&&!(n8.hasOwnProperty(t)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(t=Vt[e][t].replace),new Be.TextNode(t)},Xb=function(t){return t.length===1?t[0]:new Be.MathNode("mrow",t)},Kb=function(t,e){if(e.fontFamily==="texttt")return"monospace";if(e.fontFamily==="textsf")return e.fontShape==="textit"&&e.fontWeight==="textbf"?"sans-serif-bold-italic":e.fontShape==="textit"?"sans-serif-italic":e.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(e.fontShape==="textit"&&e.fontWeight==="textbf")return"bold-italic";if(e.fontShape==="textit")return"italic";if(e.fontWeight==="textbf")return"bold";var i=e.font;if(!i||i==="mathnormal")return null;var n=t.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=t.text;if(et.contains(["\\imath","\\jmath"],a))return null;Vt[n][a]&&Vt[n][a].replace&&(a=Vt[n][a].replace);var s=xe.fontMap[i].fontName;return Wb(a,s,n)?xe.fontMap[i].variant:null},Ti=function(t,e,i){if(t.length===1){var n=Ft(t[0],e);return i&&n instanceof en&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var a=[],s,o=0;o<t.length;o++){var l=Ft(t[o],e);if(l instanceof en&&s instanceof en){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof uf&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var f=s.children[0];if(f instanceof uf&&f.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof uf&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Us=function(t,e,i){return Xb(Ti(t,e,i))},Ft=function(t,e){if(!t)return new Be.MathNode("mrow");if(Am[t.type]){var i=Am[t.type](t,e);return i}else throw new ze("Got group of unknown type: '"+t.type+"'")};function L2(r,t,e,i,n){var a=Ti(r,e),s;a.length===1&&a[0]instanceof en&&et.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new Be.MathNode("mrow",a);var o=new Be.MathNode("annotation",[new Be.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new Be.MathNode("semantics",[s,o]),u=new Be.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var f=n?"katex":"katex-mathml";return xe.makeSpan([f],[u])}var h8=function(t){return new ua({style:t.displayMode?it.DISPLAY:it.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},m8=function(t,e){if(e.displayMode){var i=["katex-display"];e.leqno&&i.push("leqno"),e.fleqn&&i.push("fleqn"),t=xe.makeSpan(i,[t])}return t},oL=function(t,e,i){var n=h8(i),a;if(i.output==="mathml")return L2(t,e,n,i.displayMode,!0);if(i.output==="html"){var s=l1(t,n);a=xe.makeSpan(["katex"],[s])}else{var o=L2(t,e,n,i.displayMode,!1),l=l1(t,n);a=xe.makeSpan(["katex"],[o,l])}return m8(a,i)},lL=function(t,e,i){var n=h8(i),a=l1(t,n),s=xe.makeSpan(["katex"],[a]);return m8(s,i)},uL={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},fL=function(t){var e=new Be.MathNode("mo",[new Be.TextNode(uL[t.replace(/^\\/,"")])]);return e.setAttribute("stretchy","true"),e},cL={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},hL=function(t){return t.type==="ordgroup"?t.body.length:1},mL=function(t,e){function i(){var o=4e5,l=t.label.slice(1);if(et.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=t,f=hL(u.base),h,c,m;if(f>5)l==="widehat"||l==="widecheck"?(h=420,o=2364,m=.42,c=l+"4"):(h=312,o=2340,m=.34,c="tilde4");else{var v=[1,1,2,2,3,3][f];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][v],h=[0,239,300,360,420][v],m=[0,.24,.3,.3,.36,.42][v],c=l+v):(o=[0,600,1033,2339,2340][v],h=[0,260,286,306,312][v],m=[0,.26,.286,.3,.306,.34][v],c="tilde"+v)}var d=new qs(c),b=new xa([d],{width:"100%",height:Ue(m),viewBox:"0 0 "+o+" "+h,preserveAspectRatio:"none"});return{span:xe.makeSvgSpan([],[b],e),minWidth:0,height:m}}else{var g=[],$=cL[l],[w,x,A]=$,I=A/1e3,D=w.length,S,O;if(D===1){var H=$[3];S=["hide-tail"],O=[H]}else if(D===2)S=["halfarrow-left","halfarrow-right"],O=["xMinYMin","xMaxYMin"];else if(D===3)S=["brace-left","brace-center","brace-right"],O=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+D+" children.");for(var B=0;B<D;B++){var V=new qs(w[B]),K=new xa([V],{width:"400em",height:Ue(I),viewBox:"0 0 "+o+" "+A,preserveAspectRatio:O[B]+" slice"}),Q=xe.makeSvgSpan([S[B]],[K],e);if(D===1)return{span:Q,minWidth:x,height:I};Q.style.height=Ue(I),g.push(Q)}return{span:xe.makeSpan(["stretchy"],g,e),minWidth:x,height:I}}}var{span:n,minWidth:a,height:s}=i();return n.height=s,n.style.height=Ue(s),a>0&&(n.style.minWidth=Ue(a)),n},pL=function(t,e,i,n,a){var s,o=t.height+t.depth+i+n;if(/fbox|color|angl/.test(e)){if(s=xe.makeSpan(["stretchy",e],[],a),e==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(e)&&u.push(new a1({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(e)&&u.push(new a1({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new xa(u,{width:"100%",height:Ue(o)});s=xe.makeSvgSpan([],[f],a)}return s.height=o,s.style.height=Ue(o),s},Ea={encloseSpan:pL,mathMLnode:fL,svgSpan:mL};function pt(r,t){if(!r||r.type!==t)throw new Error("Expected node of type "+t+", but got "+(r?"node of type "+r.type:String(r)));return r}function Yb(r){var t=pp(r);if(!t)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return t}function pp(r){return r&&(r.type==="atom"||zz.hasOwnProperty(r.type))?r:null}var Jb=(r,t)=>{var e,i,n;r&&r.type==="supsub"?(i=pt(r.base,"accent"),e=i.base,r.base=e,n=Bz(Et(r,t)),r.base=i):(i=pt(r,"accent"),e=i.base);var a=Et(e,t.havingCrampedStyle()),s=i.isShifty&&et.isCharacterBox(e),o=0;if(s){var l=et.getBaseElem(e),u=Et(l,t.havingCrampedStyle());o=D2(u).skew}var f=i.label==="\\c",h=f?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),c;if(i.isStretchy)c=Ea.svgSpan(i,t),c=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:c,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Ue(2*o)+")",marginLeft:Ue(2*o)}:void 0}]},t);else{var m,v;i.label==="\\vec"?(m=xe.staticSvg("vec",t),v=xe.svgData.vec[1]):(m=xe.makeOrd({mode:i.mode,text:i.label},t,"textord"),m=D2(m),m.italic=0,v=m.width,f&&(h+=m.depth)),c=xe.makeSpan(["accent-body"],[m]);var d=i.label==="\\textcircled";d&&(c.classes.push("accent-full"),h=a.height);var b=o;d||(b-=v/2),c.style.left=Ue(b),i.label==="\\textcircled"&&(c.style.top=".2em"),c=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-h},{type:"elem",elem:c}]},t)}var g=xe.makeSpan(["mord","accent"],[c],t);return n?(n.children[0]=g,n.height=Math.max(g.height,n.height),n.classes[0]="mord",n):g},p8=(r,t)=>{var e=r.isStretchy?Ea.mathMLnode(r.label):new Be.MathNode("mo",[un(r.label,r.mode)]),i=new Be.MathNode("mover",[Ft(r.base,t),e]);return i.setAttribute("accent","true"),i},dL=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));Ve({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,t)=>{var e=Im(t[0]),i=!dL.test(r.funcName),n=!i||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:i,isShifty:n,base:e}},htmlBuilder:Jb,mathmlBuilder:p8});Ve({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,t)=>{var e=t[0],i=r.parser.mode;return i==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:r.funcName,isStretchy:!1,isShifty:!0,base:e}},htmlBuilder:Jb,mathmlBuilder:p8});Ve({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0];return{type:"accentUnder",mode:e.mode,label:i,base:n}},htmlBuilder:(r,t)=>{var e=Et(r.base,t),i=Ea.svgSpan(r,t),n=r.label==="\\utilde"?.12:0,a=xe.makeVList({positionType:"top",positionData:e.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:e}]},t);return xe.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(r,t)=>{var e=Ea.mathMLnode(r.label),i=new Be.MathNode("munder",[Ft(r.base,t),e]);return i.setAttribute("accentunder","true"),i}});var oh=r=>{var t=new Be.MathNode("mpadded",r?[r]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ve({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,t,e){var{parser:i,funcName:n}=r;return{type:"xArrow",mode:i.mode,label:n,body:t[0],below:e[0]}},htmlBuilder(r,t){var e=t.style,i=t.havingStyle(e.sup()),n=xe.wrapFragment(Et(r.body,i,t),t),a=r.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(a+"-arrow-pad");var s;r.below&&(i=t.havingStyle(e.sub()),s=xe.wrapFragment(Et(r.below,i,t),t),s.classes.push(a+"-arrow-pad"));var o=Ea.svgSpan(r,t),l=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(n.depth>.25||r.label==="\\xleftequilibrium")&&(u-=n.depth);var f;if(s){var h=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;f=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:h}]},t)}else f=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l}]},t);return f.children[0].children[0].children[1].classes.push("svg-align"),xe.makeSpan(["mrel","x-arrow"],[f],t)},mathmlBuilder(r,t){var e=Ea.mathMLnode(r.label);e.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(r.body){var n=oh(Ft(r.body,t));if(r.below){var a=oh(Ft(r.below,t));i=new Be.MathNode("munderover",[e,a,n])}else i=new Be.MathNode("mover",[e,n])}else if(r.below){var s=oh(Ft(r.below,t));i=new Be.MathNode("munder",[e,s])}else i=oh(),i=new Be.MathNode("mover",[e,i]);return i}});var vL=xe.makeSpan;function d8(r,t){var e=Sr(r.body,t,!0);return vL([r.mclass],e,t)}function v8(r,t){var e,i=Ti(r.body,t);return r.mclass==="minner"?e=new Be.MathNode("mpadded",i):r.mclass==="mord"?r.isCharacterBox?(e=i[0],e.type="mi"):e=new Be.MathNode("mi",i):(r.isCharacterBox?(e=i[0],e.type="mo"):e=new Be.MathNode("mo",i),r.mclass==="mbin"?(e.attributes.lspace="0.22em",e.attributes.rspace="0.22em"):r.mclass==="mpunct"?(e.attributes.lspace="0em",e.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(e.attributes.lspace="0em",e.attributes.rspace="0em"):r.mclass==="minner"&&(e.attributes.lspace="0.0556em",e.attributes.width="+0.1111em")),e}Ve({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];return{type:"mclass",mode:e.mode,mclass:"m"+i.slice(5),body:mr(n),isCharacterBox:et.isCharacterBox(n)}},htmlBuilder:d8,mathmlBuilder:v8});var dp=r=>{var t=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Ve({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,t){var{parser:e}=r;return{type:"mclass",mode:e.mode,mclass:dp(t[0]),body:mr(t[1]),isCharacterBox:et.isCharacterBox(t[1])}}});Ve({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,t){var{parser:e,funcName:i}=r,n=t[1],a=t[0],s;i!=="\\stackrel"?s=dp(n):s="mrel";var o={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:mr(n)},l={type:"supsub",mode:a.mode,base:o,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:e.mode,mclass:s,body:[l],isCharacterBox:et.isCharacterBox(l)}},htmlBuilder:d8,mathmlBuilder:v8});Ve({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,t){var{parser:e}=r;return{type:"pmb",mode:e.mode,mclass:dp(t[0]),body:mr(t[0])}},htmlBuilder(r,t){var e=Sr(r.body,t,!0),i=xe.makeSpan([r.mclass],e,t);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(r,t){var e=Ti(r.body,t),i=new Be.MathNode("mstyle",e);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var gL={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},j2=()=>({type:"styling",body:[],mode:"math",style:"display"}),q2=r=>r.type==="textord"&&r.text==="@",bL=(r,t)=>(r.type==="mathord"||r.type==="atom")&&r.text===t;function yL(r,t,e){var i=gL[r];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return e.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var n=e.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=e.callFunction("\\Big",[a],[]),o=e.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[n,s,o]};return e.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return e.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return e.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function $L(r){var t=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){t.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var e=r.fetch().text;if(e==="&"||e==="\\\\")r.consume();else if(e==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ze("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var i=[],n=[i],a=0;a<t.length;a++){for(var s=t[a],o=j2(),l=0;l<s.length;l++)if(!q2(s[l]))o.body.push(s[l]);else{i.push(o),l+=1;var u=Yb(s[l]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var c=!0,m=l+1;m<s.length;m++){if(bL(s[m],u)){c=!1,l=m;break}if(q2(s[m]))throw new ze("Missing a "+u+" character to complete a CD arrow.",s[m]);f[h].body.push(s[m])}if(c)throw new ze("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new ze('Expected one of "<>AV=|." after @',s[l]);var v=yL(u,f,r),d={type:"styling",body:[v],mode:"math",style:"display"};i.push(d),o=j2()}a%2===0?i.push(o):i.shift(),i=[],n.push(i)}r.gullet.endGroup(),r.gullet.endGroup();var b=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}Ve({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,t){var{parser:e,funcName:i}=r;return{type:"cdlabel",mode:e.mode,side:i.slice(4),label:t[0]}},htmlBuilder(r,t){var e=t.havingStyle(t.style.sup()),i=xe.wrapFragment(Et(r.label,e,t),t);return i.classes.push("cd-label-"+r.side),i.style.bottom=Ue(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(r,t){var e=new Be.MathNode("mrow",[Ft(r.label,t)]);return e=new Be.MathNode("mpadded",[e]),e.setAttribute("width","0"),r.side==="left"&&e.setAttribute("lspace","-1width"),e.setAttribute("voffset","0.7em"),e=new Be.MathNode("mstyle",[e]),e.setAttribute("displaystyle","false"),e.setAttribute("scriptlevel","1"),e}});Ve({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,t){var{parser:e}=r;return{type:"cdlabelparent",mode:e.mode,fragment:t[0]}},htmlBuilder(r,t){var e=xe.wrapFragment(Et(r.fragment,t),t);return e.classes.push("cd-vert-arrow"),e},mathmlBuilder(r,t){return new Be.MathNode("mrow",[Ft(r.fragment,t)])}});Ve({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,t){for(var{parser:e}=r,i=pt(t[0],"ordgroup"),n=i.body,a="",s=0;s<n.length;s++){var o=pt(n[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new ze("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new ze("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:e.mode,text:u}}});var g8=(r,t)=>{var e=Sr(r.body,t.withColor(r.color),!1);return xe.makeFragment(e)},b8=(r,t)=>{var e=Ti(r.body,t.withColor(r.color)),i=new Be.MathNode("mstyle",e);return i.setAttribute("mathcolor",r.color),i};Ve({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,t){var{parser:e}=r,i=pt(t[0],"color-token").color,n=t[1];return{type:"color",mode:e.mode,color:i,body:mr(n)}},htmlBuilder:g8,mathmlBuilder:b8});Ve({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,t){var{parser:e,breakOnTokenText:i}=r,n=pt(t[0],"color-token").color;e.gullet.macros.set("\\current@color",n);var a=e.parseExpression(!0,i);return{type:"color",mode:e.mode,color:n,body:a}},htmlBuilder:g8,mathmlBuilder:b8});Ve({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,t,e){var{parser:i}=r,n=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:n&&pt(n,"size").value}},htmlBuilder(r,t){var e=xe.makeSpan(["mspace"],[],t);return r.newLine&&(e.classes.push("newline"),r.size&&(e.style.marginTop=Ue(Zt(r.size,t)))),e},mathmlBuilder(r,t){var e=new Be.MathNode("mspace");return r.newLine&&(e.setAttribute("linebreak","newline"),r.size&&e.setAttribute("height",Ue(Zt(r.size,t)))),e}});var u1={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},y8=r=>{var t=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ze("Expected a control sequence",r);return t},_L=r=>{var t=r.gullet.popToken();return t.text==="="&&(t=r.gullet.popToken(),t.text===" "&&(t=r.gullet.popToken())),t},$8=(r,t,e,i)=>{var n=r.gullet.macros.get(e.text);n==null&&(e.noexpand=!0,n={tokens:[e],numArgs:0,unexpandable:!r.gullet.isExpandable(e.text)}),r.gullet.macros.set(t,n,i)};Ve({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:t,funcName:e}=r;t.consumeSpaces();var i=t.fetch();if(u1[i.text])return(e==="\\global"||e==="\\\\globallong")&&(i.text=u1[i.text]),pt(t.parseFunction(),"internal");throw new ze("Invalid token after macro prefix",i)}});Ve({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:t,funcName:e}=r,i=t.gullet.popToken(),n=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new ze("Expected a control sequence",i);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(i=t.gullet.popToken(),i.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new ze('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new ze('Argument number "'+i.text+'" out of order');a++,o.push([])}else{if(i.text==="EOF")throw new ze("Expected a macro definition");o[a].push(i.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(e==="\\edef"||e==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(n,{tokens:l,numArgs:a,delimiters:o},e===u1[e]),{type:"internal",mode:t.mode}}});Ve({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:t,funcName:e}=r,i=y8(t.gullet.popToken());t.gullet.consumeSpaces();var n=_L(t);return $8(t,i,n,e==="\\\\globallet"),{type:"internal",mode:t.mode}}});Ve({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:t,funcName:e}=r,i=y8(t.gullet.popToken()),n=t.gullet.popToken(),a=t.gullet.popToken();return $8(t,i,a,e==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(n),{type:"internal",mode:t.mode}}});var nf=function(t,e,i){var n=Vt.math[t]&&Vt.math[t].replace,a=Wb(n||t,e,i);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+e+".");return a},Qb=function(t,e,i,n){var a=i.havingBaseStyle(e),s=xe.makeSpan(n.concat(a.sizingClasses(i)),[t],i),o=a.sizeMultiplier/i.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},_8=function(t,e,i){var n=e.havingBaseStyle(i),a=(1-e.sizeMultiplier/n.sizeMultiplier)*e.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Ue(a),t.height-=a,t.depth+=a},wL=function(t,e,i,n,a,s){var o=xe.makeSymbol(t,"Main-Regular",a,n),l=Qb(o,e,n,s);return i&&_8(l,n,e),l},xL=function(t,e,i,n){return xe.makeSymbol(t,"Size"+e+"-Regular",i,n)},w8=function(t,e,i,n,a,s){var o=xL(t,e,a,n),l=Qb(xe.makeSpan(["delimsizing","size"+e],[o],n),it.TEXT,n,s);return i&&_8(l,n,it.TEXT),l},m0=function(t,e,i){var n;e==="Size1-Regular"?n="delim-size1":n="delim-size4";var a=xe.makeSpan(["delimsizinginner",n],[xe.makeSpan([],[xe.makeSymbol(t,e,i)])]);return{type:"elem",elem:a}},p0=function(t,e,i){var n=jn["Size4-Regular"][t.charCodeAt(0)]?jn["Size4-Regular"][t.charCodeAt(0)][4]:jn["Size1-Regular"][t.charCodeAt(0)][4],a=new qs("inner",Az(t,Math.round(1e3*e))),s=new xa([a],{width:Ue(n),height:Ue(e),style:"width:"+Ue(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*e),preserveAspectRatio:"xMinYMin"}),o=xe.makeSvgSpan([],[s],i);return o.height=e,o.style.height=Ue(e),o.style.width=Ue(n),{type:"elem",elem:o}},f1=.008,lh={type:"kern",size:-1*f1},SL=["|","\\lvert","\\rvert","\\vert"],EL=["\\|","\\lVert","\\rVert","\\Vert"],x8=function(t,e,i,n,a,s){var o,l,u,f,h="",c=0;o=u=f=t,l=null;var m="Size1-Regular";t==="\\uparrow"?u=f="⏐":t==="\\Uparrow"?u=f="‖":t==="\\downarrow"?o=u="⏐":t==="\\Downarrow"?o=u="‖":t==="\\updownarrow"?(o="\\uparrow",u="⏐",f="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="‖",f="\\Downarrow"):et.contains(SL,t)?(u="∣",h="vert",c=333):et.contains(EL,t)?(u="∥",h="doublevert",c=556):t==="["||t==="\\lbrack"?(o="⎡",u="⎢",f="⎣",m="Size4-Regular",h="lbrack",c=667):t==="]"||t==="\\rbrack"?(o="⎤",u="⎥",f="⎦",m="Size4-Regular",h="rbrack",c=667):t==="\\lfloor"||t==="⌊"?(u=o="⎢",f="⎣",m="Size4-Regular",h="lfloor",c=667):t==="\\lceil"||t==="⌈"?(o="⎡",u=f="⎢",m="Size4-Regular",h="lceil",c=667):t==="\\rfloor"||t==="⌋"?(u=o="⎥",f="⎦",m="Size4-Regular",h="rfloor",c=667):t==="\\rceil"||t==="⌉"?(o="⎤",u=f="⎥",m="Size4-Regular",h="rceil",c=667):t==="("||t==="\\lparen"?(o="⎛",u="⎜",f="⎝",m="Size4-Regular",h="lparen",c=875):t===")"||t==="\\rparen"?(o="⎞",u="⎟",f="⎠",m="Size4-Regular",h="rparen",c=875):t==="\\{"||t==="\\lbrace"?(o="⎧",l="⎨",f="⎩",u="⎪",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="⎫",l="⎬",f="⎭",u="⎪",m="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(o="⎧",f="⎩",u="⎪",m="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(o="⎫",f="⎭",u="⎪",m="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(o="⎧",f="⎭",u="⎪",m="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(o="⎫",f="⎩",u="⎪",m="Size4-Regular");var v=nf(o,m,a),d=v.height+v.depth,b=nf(u,m,a),g=b.height+b.depth,$=nf(f,m,a),w=$.height+$.depth,x=0,A=1;if(l!==null){var I=nf(l,m,a);x=I.height+I.depth,A=2}var D=d+w+x,S=Math.max(0,Math.ceil((e-D)/(A*g))),O=D+S*A*g,H=n.fontMetrics().axisHeight;i&&(H*=n.sizeMultiplier);var B=O/2-H,V=[];if(h.length>0){var K=O-d-w,Q=Math.round(O*1e3),G=Iz(h,Math.round(K*1e3)),q=new qs(h,G),W=(c/1e3).toFixed(3)+"em",ne=(Q/1e3).toFixed(3)+"em",Z=new xa([q],{width:W,height:ne,viewBox:"0 0 "+c+" "+Q}),oe=xe.makeSvgSpan([],[Z],n);oe.height=Q/1e3,oe.style.width=W,oe.style.height=ne,V.push({type:"elem",elem:oe})}else{if(V.push(m0(f,m,a)),V.push(lh),l===null){var ie=O-d-w+2*f1;V.push(p0(u,ie,n))}else{var ae=(O-d-w-x)/2+2*f1;V.push(p0(u,ae,n)),V.push(lh),V.push(m0(l,m,a)),V.push(lh),V.push(p0(u,ae,n))}V.push(lh),V.push(m0(o,m,a))}var he=n.havingBaseStyle(it.TEXT),Ce=xe.makeVList({positionType:"bottom",positionData:B,children:V},he);return Qb(xe.makeSpan(["delimsizing","mult"],[Ce],he),it.TEXT,n,s)},d0=80,v0=.08,g0=function(t,e,i,n,a){var s=Oz(t,n,i),o=new qs(t,s),l=new xa([o],{width:"400em",height:Ue(e),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return xe.makeSvgSpan(["hide-tail"],[l],a)},kL=function(t,e){var i=e.havingBaseSizing(),n=T8("\\surd",t*i.sizeMultiplier,k8,i),a=i.sizeMultiplier,s=Math.max(0,e.minRuleThickness-e.fontMetrics().sqrtRuleThickness),o,l=0,u=0,f=0,h;return n.type==="small"?(f=1e3+1e3*s+d0,t<1?a=1:t<1.4&&(a=.7),l=(1+s+v0)/a,u=(1+s)/a,o=g0("sqrtMain",l,f,s,e),o.style.minWidth="0.853em",h=.833/a):n.type==="large"?(f=(1e3+d0)*ff[n.size],u=(ff[n.size]+s)/a,l=(ff[n.size]+s+v0)/a,o=g0("sqrtSize"+n.size,l,f,s,e),o.style.minWidth="1.02em",h=1/a):(l=t+s+v0,u=t+s,f=Math.floor(1e3*t+s)+d0,o=g0("sqrtTall",l,f,s,e),o.style.minWidth="0.742em",h=1.056),o.height=u,o.style.height=Ue(l),{span:o,advanceWidth:h,ruleWidth:(e.fontMetrics().sqrtRuleThickness+s)*a}},S8=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],TL=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],E8=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ff=[0,1.2,1.8,2.4,3],OL=function(t,e,i,n,a){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),et.contains(S8,t)||et.contains(E8,t))return w8(t,e,!1,i,n,a);if(et.contains(TL,t))return x8(t,ff[e],!1,i,n,a);throw new ze("Illegal delimiter: '"+t+"'")},AL=[{type:"small",style:it.SCRIPTSCRIPT},{type:"small",style:it.SCRIPT},{type:"small",style:it.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],IL=[{type:"small",style:it.SCRIPTSCRIPT},{type:"small",style:it.SCRIPT},{type:"small",style:it.TEXT},{type:"stack"}],k8=[{type:"small",style:it.SCRIPTSCRIPT},{type:"small",style:it.SCRIPT},{type:"small",style:it.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],CL=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},T8=function(t,e,i,n){for(var a=Math.min(2,3-n.style.size),s=a;s<i.length&&i[s].type!=="stack";s++){var o=nf(t,CL(i[s]),"math"),l=o.height+o.depth;if(i[s].type==="small"){var u=n.havingBaseStyle(i[s].style);l*=u.sizeMultiplier}if(l>e)return i[s]}return i[i.length-1]},O8=function(t,e,i,n,a,s){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var o;et.contains(E8,t)?o=AL:et.contains(S8,t)?o=k8:o=IL;var l=T8(t,e,o,n);return l.type==="small"?wL(t,l.style,i,n,a,s):l.type==="large"?w8(t,l.size,i,n,a,s):x8(t,e,i,n,a,s)},PL=function(t,e,i,n,a,s){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,l=901,u=5/n.fontMetrics().ptPerEm,f=Math.max(e-o,i+o),h=Math.max(f/500*l,2*f-u);return O8(t,h,!0,n,a,s)},ha={sqrtImage:kL,sizedDelim:OL,sizeToMaxHeight:ff,customSizedDelim:O8,leftRightDelim:PL},U2={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},DL=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function vp(r,t){var e=pp(r);if(e&&et.contains(DL,e.text))return e;throw e?new ze("Invalid delimiter '"+e.text+"' after '"+t.funcName+"'",r):new ze("Invalid delimiter type '"+r.type+"'",r)}Ve({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,t)=>{var e=vp(t[0],r);return{type:"delimsizing",mode:r.parser.mode,size:U2[r.funcName].size,mclass:U2[r.funcName].mclass,delim:e.text}},htmlBuilder:(r,t)=>r.delim==="."?xe.makeSpan([r.mclass]):ha.sizedDelim(r.delim,r.size,t,r.mode,[r.mclass]),mathmlBuilder:r=>{var t=[];r.delim!=="."&&t.push(un(r.delim,r.mode));var e=new Be.MathNode("mo",t);r.mclass==="mopen"||r.mclass==="mclose"?e.setAttribute("fence","true"):e.setAttribute("fence","false"),e.setAttribute("stretchy","true");var i=Ue(ha.sizeToMaxHeight[r.size]);return e.setAttribute("minsize",i),e.setAttribute("maxsize",i),e}});function H2(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ve({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var e=r.parser.gullet.macros.get("\\current@color");if(e&&typeof e!="string")throw new ze("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:vp(t[0],r).text,color:e}}});Ve({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var e=vp(t[0],r),i=r.parser;++i.leftrightDepth;var n=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=pt(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:n,left:e.text,right:a.delim,rightColor:a.color}},htmlBuilder:(r,t)=>{H2(r);for(var e=Sr(r.body,t,!0,["mopen","mclose"]),i=0,n=0,a=!1,s=0;s<e.length;s++)e[s].isMiddle?a=!0:(i=Math.max(e[s].height,i),n=Math.max(e[s].depth,n));i*=t.sizeMultiplier,n*=t.sizeMultiplier;var o;if(r.left==="."?o=Df(t,["mopen"]):o=ha.leftRightDelim(r.left,i,n,t,r.mode,["mopen"]),e.unshift(o),a)for(var l=1;l<e.length;l++){var u=e[l],f=u.isMiddle;f&&(e[l]=ha.leftRightDelim(f.delim,i,n,f.options,r.mode,[]))}var h;if(r.right===".")h=Df(t,["mclose"]);else{var c=r.rightColor?t.withColor(r.rightColor):t;h=ha.leftRightDelim(r.right,i,n,c,r.mode,["mclose"])}return e.push(h),xe.makeSpan(["minner"],e,t)},mathmlBuilder:(r,t)=>{H2(r);var e=Ti(r.body,t);if(r.left!=="."){var i=new Be.MathNode("mo",[un(r.left,r.mode)]);i.setAttribute("fence","true"),e.unshift(i)}if(r.right!=="."){var n=new Be.MathNode("mo",[un(r.right,r.mode)]);n.setAttribute("fence","true"),r.rightColor&&n.setAttribute("mathcolor",r.rightColor),e.push(n)}return Xb(e)}});Ve({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var e=vp(t[0],r);if(!r.parser.leftrightDepth)throw new ze("\\middle without preceding \\left",e);return{type:"middle",mode:r.parser.mode,delim:e.text}},htmlBuilder:(r,t)=>{var e;if(r.delim===".")e=Df(t,[]);else{e=ha.sizedDelim(r.delim,1,t,r.mode,[]);var i={delim:r.delim,options:t};e.isMiddle=i}return e},mathmlBuilder:(r,t)=>{var e=r.delim==="\\vert"||r.delim==="|"?un("|","text"):un(r.delim,r.mode),i=new Be.MathNode("mo",[e]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var Zb=(r,t)=>{var e=xe.wrapFragment(Et(r.body,t),t),i=r.label.slice(1),n=t.sizeMultiplier,a,s=0,o=et.isCharacterBox(r.body);if(i==="sout")a=xe.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/n,s=-.5*t.fontMetrics().xHeight;else if(i==="phase"){var l=Zt({number:.6,unit:"pt"},t),u=Zt({number:.35,unit:"ex"},t),f=t.havingBaseSizing();n=n/f.sizeMultiplier;var h=e.height+e.depth+l+u;e.style.paddingLeft=Ue(h/2+l);var c=Math.floor(1e3*h*n),m=kz(c),v=new xa([new qs("phase",m)],{width:"400em",height:Ue(c/1e3),viewBox:"0 0 400000 "+c,preserveAspectRatio:"xMinYMin slice"});a=xe.makeSvgSpan(["hide-tail"],[v],t),a.style.height=Ue(h),s=e.depth+l+u}else{/cancel/.test(i)?o||e.classes.push("cancel-pad"):i==="angl"?e.classes.push("anglpad"):e.classes.push("boxpad");var d=0,b=0,g=0;/box/.test(i)?(g=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),d=t.fontMetrics().fboxsep+(i==="colorbox"?0:g),b=d):i==="angl"?(g=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),d=4*g,b=Math.max(0,.25-e.depth)):(d=o?.2:0,b=d),a=Ea.encloseSpan(e,i,d,b,t),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=Ue(g)):i==="angl"&&g!==.049&&(a.style.borderTopWidth=Ue(g),a.style.borderRightWidth=Ue(g)),s=e.depth+b,r.backgroundColor&&(a.style.backgroundColor=r.backgroundColor,r.borderColor&&(a.style.borderColor=r.borderColor))}var $;if(r.backgroundColor)$=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:e,shift:0}]},t);else{var w=/cancel|phase/.test(i)?["svg-align"]:[];$=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:e,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:w}]},t)}return/cancel/.test(i)&&($.height=e.height,$.depth=e.depth),/cancel/.test(i)&&!o?xe.makeSpan(["mord","cancel-lap"],[$],t):xe.makeSpan(["mord"],[$],t)},ey=(r,t)=>{var e=0,i=new Be.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ft(r.body,t)]);switch(r.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(e=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*e+"pt"),i.setAttribute("height","+"+2*e+"pt"),i.setAttribute("lspace",e+"pt"),i.setAttribute("voffset",e+"pt"),r.label==="\\fcolorbox"){var n=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+n+"em solid "+String(r.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&i.setAttribute("mathbackground",r.backgroundColor),i};Ve({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,t,e){var{parser:i,funcName:n}=r,a=pt(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:n,backgroundColor:a,body:s}},htmlBuilder:Zb,mathmlBuilder:ey});Ve({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,t,e){var{parser:i,funcName:n}=r,a=pt(t[0],"color-token").color,s=pt(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:i.mode,label:n,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:Zb,mathmlBuilder:ey});Ve({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,t){var{parser:e}=r;return{type:"enclose",mode:e.mode,label:"\\fbox",body:t[0]}}});Ve({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];return{type:"enclose",mode:e.mode,label:i,body:n}},htmlBuilder:Zb,mathmlBuilder:ey});Ve({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,t){var{parser:e}=r;return{type:"enclose",mode:e.mode,label:"\\angl",body:t[0]}}});var A8={};function Qn(r){for(var{type:t,names:e,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=r,o={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},l=0;l<e.length;++l)A8[e[l]]=o;a&&(Om[t]=a),s&&(Am[t]=s)}var I8={};function J(r,t){I8[r]=t}function W2(r){var t=[];r.consumeSpaces();var e=r.fetch().text;for(e==="\\relax"&&(r.consume(),r.consumeSpaces(),e=r.fetch().text);e==="\\hline"||e==="\\hdashline";)r.consume(),t.push(e==="\\hdashline"),r.consumeSpaces(),e=r.fetch().text;return t}var gp=r=>{var t=r.parser.settings;if(!t.displayMode)throw new ze("{"+r.envName+"} can be used only in display mode.")};function ty(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function Xs(r,t,e){var{hskipBeforeAndAfter:i,addJot:n,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:f,maxNumCols:h,leqno:c}=t;if(r.gullet.beginGroup(),u||r.gullet.macros.set("\\cr","\\\\\\relax"),!s){var m=r.gullet.expandMacroAsText("\\arraystretch");if(m==null)s=1;else if(s=parseFloat(m),!s||s<0)throw new ze("Invalid \\arraystretch: "+m)}r.gullet.beginGroup();var v=[],d=[v],b=[],g=[],$=l!=null?[]:void 0;function w(){l&&r.gullet.macros.set("\\@eqnsw","1",!0)}function x(){$&&(r.gullet.macros.get("\\df@tag")?($.push(r.subparse([new an("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):$.push(!!l&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(w(),g.push(W2(r));;){var A=r.parseExpression(!1,u?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),A={type:"ordgroup",mode:r.mode,body:A},e&&(A={type:"styling",mode:r.mode,style:e,body:[A]}),v.push(A);var I=r.fetch().text;if(I==="&"){if(h&&v.length===h){if(u||o)throw new ze("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(I==="\\end"){x(),v.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(d.length>1||!f)&&d.pop(),g.length<d.length+1&&g.push([]);break}else if(I==="\\\\"){r.consume();var D=void 0;r.gullet.future().text!==" "&&(D=r.parseSizeGroup(!0)),b.push(D?D.value:null),x(),g.push(W2(r)),v=[],d.push(v),w()}else throw new ze("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:n,arraystretch:s,body:d,cols:a,rowGaps:b,hskipBeforeAndAfter:i,hLinesBeforeRow:g,colSeparationType:o,tags:$,leqno:c}}function ry(r){return r.slice(0,1)==="d"?"display":"text"}var Zn=function(t,e){var i,n,a=t.body.length,s=t.hLinesBeforeRow,o=0,l=new Array(a),u=[],f=Math.max(e.fontMetrics().arrayRuleWidth,e.minRuleThickness),h=1/e.fontMetrics().ptPerEm,c=5*h;if(t.colSeparationType&&t.colSeparationType==="small"){var m=e.havingStyle(it.SCRIPT).sizeMultiplier;c=.2778*(m/e.sizeMultiplier)}var v=t.colSeparationType==="CD"?Zt({number:3,unit:"ex"},e):12*h,d=3*h,b=t.arraystretch*v,g=.7*b,$=.3*b,w=0;function x(N){for(var ee=0;ee<N.length;++ee)ee>0&&(w+=.25),u.push({pos:w,isDashed:N[ee]})}for(x(s[0]),i=0;i<t.body.length;++i){var A=t.body[i],I=g,D=$;o<A.length&&(o=A.length);var S=new Array(A.length);for(n=0;n<A.length;++n){var O=Et(A[n],e);D<O.depth&&(D=O.depth),I<O.height&&(I=O.height),S[n]=O}var H=t.rowGaps[i],B=0;H&&(B=Zt(H,e),B>0&&(B+=$,D<B&&(D=B),B=0)),t.addJot&&(D+=d),S.height=I,S.depth=D,w+=I,S.pos=w,w+=D+B,l[i]=S,x(s[i+1])}var V=w/2+e.fontMetrics().axisHeight,K=t.cols||[],Q=[],G,q,W=[];if(t.tags&&t.tags.some(N=>N))for(i=0;i<a;++i){var ne=l[i],Z=ne.pos-V,oe=t.tags[i],ie=void 0;oe===!0?ie=xe.makeSpan(["eqn-num"],[],e):oe===!1?ie=xe.makeSpan([],[],e):ie=xe.makeSpan([],Sr(oe,e,!0),e),ie.depth=ne.depth,ie.height=ne.height,W.push({type:"elem",elem:ie,shift:Z})}for(n=0,q=0;n<o||q<K.length;++n,++q){for(var ae=K[q]||{},he=!0;ae.type==="separator";){if(he||(G=xe.makeSpan(["arraycolsep"],[]),G.style.width=Ue(e.fontMetrics().doubleRuleSep),Q.push(G)),ae.separator==="|"||ae.separator===":"){var Ce=ae.separator==="|"?"solid":"dashed",ke=xe.makeSpan(["vertical-separator"],[],e);ke.style.height=Ue(w),ke.style.borderRightWidth=Ue(f),ke.style.borderRightStyle=Ce,ke.style.margin="0 "+Ue(-f/2);var Te=w-V;Te&&(ke.style.verticalAlign=Ue(-Te)),Q.push(ke)}else throw new ze("Invalid separator type: "+ae.separator);q++,ae=K[q]||{},he=!1}if(!(n>=o)){var Ae=void 0;(n>0||t.hskipBeforeAndAfter)&&(Ae=et.deflt(ae.pregap,c),Ae!==0&&(G=xe.makeSpan(["arraycolsep"],[]),G.style.width=Ue(Ae),Q.push(G)));var Pe=[];for(i=0;i<a;++i){var ye=l[i],_e=ye[n];if(_e){var X=ye.pos-V;_e.depth=ye.depth,_e.height=ye.height,Pe.push({type:"elem",elem:_e,shift:X})}}Pe=xe.makeVList({positionType:"individualShift",children:Pe},e),Pe=xe.makeSpan(["col-align-"+(ae.align||"c")],[Pe]),Q.push(Pe),(n<o-1||t.hskipBeforeAndAfter)&&(Ae=et.deflt(ae.postgap,c),Ae!==0&&(G=xe.makeSpan(["arraycolsep"],[]),G.style.width=Ue(Ae),Q.push(G)))}}if(l=xe.makeSpan(["mtable"],Q),u.length>0){for(var fe=xe.makeLineSpan("hline",e,f),te=xe.makeLineSpan("hdashline",e,f),ve=[{type:"elem",elem:l,shift:0}];u.length>0;){var je=u.pop(),Y=je.pos-V;je.isDashed?ve.push({type:"elem",elem:te,shift:Y}):ve.push({type:"elem",elem:fe,shift:Y})}l=xe.makeVList({positionType:"individualShift",children:ve},e)}if(W.length===0)return xe.makeSpan(["mord"],[l],e);var P=xe.makeVList({positionType:"individualShift",children:W},e);return P=xe.makeSpan(["tag"],[P],e),xe.makeFragment([l,P])},NL={c:"center ",l:"left ",r:"right "},ea=function(t,e){for(var i=[],n=new Be.MathNode("mtd",[],["mtr-glue"]),a=new Be.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],l=[],u=0;u<o.length;u++)l.push(new Be.MathNode("mtd",[Ft(o[u],e)]));t.tags&&t.tags[s]&&(l.unshift(n),l.push(n),t.leqno?l.unshift(a):l.push(a)),i.push(new Be.MathNode("mtr",l))}var f=new Be.MathNode("mtable",i),h=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);f.setAttribute("rowspacing",Ue(h));var c="",m="";if(t.cols&&t.cols.length>0){var v=t.cols,d="",b=!1,g=0,$=v.length;v[0].type==="separator"&&(c+="top ",g=1),v[v.length-1].type==="separator"&&(c+="bottom ",$-=1);for(var w=g;w<$;w++)v[w].type==="align"?(m+=NL[v[w].align],b&&(d+="none "),b=!0):v[w].type==="separator"&&b&&(d+=v[w].separator==="|"?"solid ":"dashed ",b=!1);f.setAttribute("columnalign",m.trim()),/[sd]/.test(d)&&f.setAttribute("columnlines",d.trim())}if(t.colSeparationType==="align"){for(var x=t.cols||[],A="",I=1;I<x.length;I++)A+=I%2?"0em ":"1em ";f.setAttribute("columnspacing",A.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var D="",S=t.hLinesBeforeRow;c+=S[0].length>0?"left ":"",c+=S[S.length-1].length>0?"right ":"";for(var O=1;O<S.length-1;O++)D+=S[O].length===0?"none ":S[O][0]?"dashed ":"solid ";return/[sd]/.test(D)&&f.setAttribute("rowlines",D.trim()),c!==""&&(f=new Be.MathNode("menclose",[f]),f.setAttribute("notation",c.trim())),t.arraystretch&&t.arraystretch<1&&(f=new Be.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},C8=function(t,e){t.envName.indexOf("ed")===-1&&gp(t);var i=[],n=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=Xs(t.parser,{cols:i,addJot:!0,autoTag:a?void 0:ty(t.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(e[0]&&e[0].type==="ordgroup"){for(var f="",h=0;h<e[0].body.length;h++){var c=pt(e[0].body[h],"textord");f+=c.text}o=Number(f),l=o*2}var m=!l;s.body.forEach(function(g){for(var $=1;$<g.length;$+=2){var w=pt(g[$],"styling"),x=pt(w.body[0],"ordgroup");x.body.unshift(u)}if(m)l<g.length&&(l=g.length);else{var A=g.length/2;if(o<A)throw new ze("Too many math in a row: "+("expected "+o+", but got "+A),g[0])}});for(var v=0;v<l;++v){var d="r",b=0;v%2===1?d="l":v>0&&m&&(b=1),i[v]={type:"align",align:d,pregap:b,postgap:0}}return s.colSeparationType=m?"align":"alignat",s};Qn({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,t){var e=pp(t[0]),i=e?[t[0]]:pt(t[0],"ordgroup").body,n=i.map(function(s){var o=Yb(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ze("Unknown column alignment: "+l,s)}),a={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Xs(r.parser,a,ry(r.envName))},htmlBuilder:Zn,mathmlBuilder:ea});Qn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],e="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:e}]};if(r.envName.charAt(r.envName.length-1)==="*"){var n=r.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),e=n.fetch().text,"lcr".indexOf(e)===-1)throw new ze("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),i.cols=[{type:"align",align:e}]}}var a=Xs(r.parser,i,ry(r.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:e}),t?{type:"leftright",mode:r.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:Zn,mathmlBuilder:ea});Qn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var t={arraystretch:.5},e=Xs(r.parser,t,"script");return e.colSeparationType="small",e},htmlBuilder:Zn,mathmlBuilder:ea});Qn({type:"array",names:["subarray"],props:{numArgs:1},handler(r,t){var e=pp(t[0]),i=e?[t[0]]:pt(t[0],"ordgroup").body,n=i.map(function(s){var o=Yb(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ze("Unknown column alignment: "+l,s)});if(n.length>1)throw new ze("{subarray} can contain only one column");var a={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Xs(r.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new ze("{subarray} can contain only one column");return a},htmlBuilder:Zn,mathmlBuilder:ea});Qn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},e=Xs(r.parser,t,ry(r.envName));return{type:"leftright",mode:r.mode,body:[e],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Zn,mathmlBuilder:ea});Qn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:C8,htmlBuilder:Zn,mathmlBuilder:ea});Qn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){et.contains(["gather","gather*"],r.envName)&&gp(r);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:ty(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return Xs(r.parser,t,"display")},htmlBuilder:Zn,mathmlBuilder:ea});Qn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:C8,htmlBuilder:Zn,mathmlBuilder:ea});Qn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){gp(r);var t={autoTag:ty(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return Xs(r.parser,t,"display")},htmlBuilder:Zn,mathmlBuilder:ea});Qn({type:"array",names:["CD"],props:{numArgs:0},handler(r){return gp(r),$L(r.parser)},htmlBuilder:Zn,mathmlBuilder:ea});J("\\nonumber","\\gdef\\@eqnsw{0}");J("\\notag","\\nonumber");Ve({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,t){throw new ze(r.funcName+" valid only within array environment")}});var V2=A8;Ve({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];if(n.type!=="ordgroup")throw new ze("Invalid environment name",n);for(var a="",s=0;s<n.body.length;++s)a+=pt(n.body[s],"textord").text;if(i==="\\begin"){if(!V2.hasOwnProperty(a))throw new ze("No such environment: "+a,n);var o=V2[a],{args:l,optArgs:u}=e.parseArguments("\\begin{"+a+"}",o),f={mode:e.mode,envName:a,parser:e},h=o.handler(f,l,u);e.expect("\\end",!1);var c=e.nextToken,m=pt(e.parseFunction(),"environment");if(m.name!==a)throw new ze("Mismatch: \\begin{"+a+"} matched by \\end{"+m.name+"}",c);return h}return{type:"environment",mode:e.mode,name:a,nameGroup:n}}});var P8=(r,t)=>{var e=r.font,i=t.withFont(e);return Et(r.body,i)},D8=(r,t)=>{var e=r.font,i=t.withFont(e);return Ft(r.body,i)},G2={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ve({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=Im(t[0]),a=i;return a in G2&&(a=G2[a]),{type:"font",mode:e.mode,font:a.slice(1),body:n}},htmlBuilder:P8,mathmlBuilder:D8});Ve({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,t)=>{var{parser:e}=r,i=t[0],n=et.isCharacterBox(i);return{type:"mclass",mode:e.mode,mclass:dp(i),body:[{type:"font",mode:e.mode,font:"boldsymbol",body:i}],isCharacterBox:n}}});Ve({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,t)=>{var{parser:e,funcName:i,breakOnTokenText:n}=r,{mode:a}=e,s=e.parseExpression(!0,n),o="math"+i.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:e.mode,body:s}}},htmlBuilder:P8,mathmlBuilder:D8});var N8=(r,t)=>{var e=t;return r==="display"?e=e.id>=it.SCRIPT.id?e.text():it.DISPLAY:r==="text"&&e.size===it.DISPLAY.size?e=it.TEXT:r==="script"?e=it.SCRIPT:r==="scriptscript"&&(e=it.SCRIPTSCRIPT),e},iy=(r,t)=>{var e=N8(r.size,t.style),i=e.fracNum(),n=e.fracDen(),a;a=t.havingStyle(i);var s=Et(r.numer,a,t);if(r.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=t.havingStyle(n);var u=Et(r.denom,a,t),f,h,c;r.hasBarLine?(r.barSize?(h=Zt(r.barSize,t),f=xe.makeLineSpan("frac-line",t,h)):f=xe.makeLineSpan("frac-line",t),h=f.height,c=f.height):(f=null,h=0,c=t.fontMetrics().defaultRuleThickness);var m,v,d;e.size===it.DISPLAY.size||r.size==="display"?(m=t.fontMetrics().num1,h>0?v=3*c:v=7*c,d=t.fontMetrics().denom1):(h>0?(m=t.fontMetrics().num2,v=c):(m=t.fontMetrics().num3,v=3*c),d=t.fontMetrics().denom2);var b;if(f){var $=t.fontMetrics().axisHeight;m-s.depth-($+.5*h)<v&&(m+=v-(m-s.depth-($+.5*h))),$-.5*h-(u.height-d)<v&&(d+=v-($-.5*h-(u.height-d)));var w=-($-.5*h);b=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:d},{type:"elem",elem:f,shift:w},{type:"elem",elem:s,shift:-m}]},t)}else{var g=m-s.depth-(u.height-d);g<v&&(m+=.5*(v-g),d+=.5*(v-g)),b=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:d},{type:"elem",elem:s,shift:-m}]},t)}a=t.havingStyle(e),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var x;e.size===it.DISPLAY.size?x=t.fontMetrics().delim1:e.size===it.SCRIPTSCRIPT.size?x=t.havingStyle(it.SCRIPT).fontMetrics().delim2:x=t.fontMetrics().delim2;var A,I;return r.leftDelim==null?A=Df(t,["mopen"]):A=ha.customSizedDelim(r.leftDelim,x,!0,t.havingStyle(e),r.mode,["mopen"]),r.continued?I=xe.makeSpan([]):r.rightDelim==null?I=Df(t,["mclose"]):I=ha.customSizedDelim(r.rightDelim,x,!0,t.havingStyle(e),r.mode,["mclose"]),xe.makeSpan(["mord"].concat(a.sizingClasses(t)),[A,xe.makeSpan(["mfrac"],[b]),I],t)},ny=(r,t)=>{var e=new Be.MathNode("mfrac",[Ft(r.numer,t),Ft(r.denom,t)]);if(!r.hasBarLine)e.setAttribute("linethickness","0px");else if(r.barSize){var i=Zt(r.barSize,t);e.setAttribute("linethickness",Ue(i))}var n=N8(r.size,t.style);if(n.size!==t.style.size){e=new Be.MathNode("mstyle",[e]);var a=n.size===it.DISPLAY.size?"true":"false";e.setAttribute("displaystyle",a),e.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var s=[];if(r.leftDelim!=null){var o=new Be.MathNode("mo",[new Be.TextNode(r.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(e),r.rightDelim!=null){var l=new Be.MathNode("mo",[new Be.TextNode(r.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Xb(s)}return e};Ve({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0],a=t[1],s,o=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:e.mode,continued:!1,numer:n,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:iy,mathmlBuilder:ny});Ve({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0],a=t[1];return{type:"genfrac",mode:e.mode,continued:!0,numer:n,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ve({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:t,funcName:e,token:i}=r,n;switch(e){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:n,token:i}}});var X2=["display","text","script","scriptscript"],K2=function(t){var e=null;return t.length>0&&(e=t,e=e==="."?null:e),e};Ve({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,t){var{parser:e}=r,i=t[4],n=t[5],a=Im(t[0]),s=a.type==="atom"&&a.family==="open"?K2(a.text):null,o=Im(t[1]),l=o.type==="atom"&&o.family==="close"?K2(o.text):null,u=pt(t[2],"size"),f,h=null;u.isBlank?f=!0:(h=u.value,f=h.number>0);var c="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var v=pt(m.body[0],"textord");c=X2[Number(v.text)]}}else m=pt(m,"textord"),c=X2[Number(m.text)];return{type:"genfrac",mode:e.mode,numer:i,denom:n,continued:!1,hasBarLine:f,barSize:h,leftDelim:s,rightDelim:l,size:c}},htmlBuilder:iy,mathmlBuilder:ny});Ve({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,t){var{parser:e,funcName:i,token:n}=r;return{type:"infix",mode:e.mode,replaceWith:"\\\\abovefrac",size:pt(t[0],"size").value,token:n}}});Ve({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0],a=cz(pt(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:e.mode,numer:n,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:iy,mathmlBuilder:ny});var R8=(r,t)=>{var e=t.style,i,n;r.type==="supsub"?(i=r.sup?Et(r.sup,t.havingStyle(e.sup()),t):Et(r.sub,t.havingStyle(e.sub()),t),n=pt(r.base,"horizBrace")):n=pt(r,"horizBrace");var a=Et(n.base,t.havingBaseStyle(it.DISPLAY)),s=Ea.svgSpan(n,t),o;if(n.isOver?(o=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=xe.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),i){var l=xe.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t);n.isOver?o=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},t):o=xe.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return xe.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t)},RL=(r,t)=>{var e=Ea.mathMLnode(r.label);return new Be.MathNode(r.isOver?"mover":"munder",[Ft(r.base,t),e])};Ve({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,t){var{parser:e,funcName:i}=r;return{type:"horizBrace",mode:e.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:R8,mathmlBuilder:RL});Ve({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[1],n=pt(t[0],"url").url;return e.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:e.mode,href:n,body:mr(i)}:e.formatUnsupportedCmd("\\href")},htmlBuilder:(r,t)=>{var e=Sr(r.body,t,!1);return xe.makeAnchor(r.href,[],e,t)},mathmlBuilder:(r,t)=>{var e=Us(r.body,t);return e instanceof en||(e=new en("mrow",[e])),e.setAttribute("href",r.href),e}});Ve({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=pt(t[0],"url").url;if(!e.settings.isTrusted({command:"\\url",url:i}))return e.formatUnsupportedCmd("\\url");for(var n=[],a=0;a<i.length;a++){var s=i[a];s==="~"&&(s="\\textasciitilde"),n.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:e.mode,font:"\\texttt",body:n};return{type:"href",mode:e.mode,href:i,body:mr(o)}}});Ve({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,t){var{parser:e}=r;return{type:"hbox",mode:e.mode,body:mr(t[0])}},htmlBuilder(r,t){var e=Sr(r.body,t,!1);return xe.makeFragment(e)},mathmlBuilder(r,t){return new Be.MathNode("mrow",Ti(r.body,t))}});Ve({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,t)=>{var{parser:e,funcName:i,token:n}=r,a=pt(t[0],"raw").string,s=t[1];e.settings.strict&&e.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(i){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),f=0;f<u.length;f++){var h=u[f].split("=");if(h.length!==2)throw new ze("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return e.settings.isTrusted(o)?{type:"html",mode:e.mode,attributes:l,body:mr(s)}:e.formatUnsupportedCmd(i)},htmlBuilder:(r,t)=>{var e=Sr(r.body,t,!1),i=["enclosing"];r.attributes.class&&i.push(...r.attributes.class.trim().split(/\s+/));var n=xe.makeSpan(i,e,t);for(var a in r.attributes)a!=="class"&&r.attributes.hasOwnProperty(a)&&n.setAttribute(a,r.attributes[a]);return n},mathmlBuilder:(r,t)=>Us(r.body,t)});Ve({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r;return{type:"htmlmathml",mode:e.mode,html:mr(t[0]),mathml:mr(t[1])}},htmlBuilder:(r,t)=>{var e=Sr(r.html,t,!1);return xe.makeFragment(e)},mathmlBuilder:(r,t)=>Us(r.mathml,t)});var b0=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var e=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!e)throw new ze("Invalid size: '"+t+"' in \\includegraphics");var i={number:+(e[1]+e[2]),unit:e[3]};if(!e8(i))throw new ze("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Ve({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,t,e)=>{var{parser:i}=r,n={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(e[0])for(var l=pt(e[0],"raw").string,u=l.split(","),f=0;f<u.length;f++){var h=u[f].split("=");if(h.length===2){var c=h[1].trim();switch(h[0].trim()){case"alt":o=c;break;case"width":n=b0(c);break;case"height":a=b0(c);break;case"totalheight":s=b0(c);break;default:throw new ze("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var m=pt(t[0],"url").url;return o===""&&(o=m,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:i.mode,alt:o,width:n,height:a,totalheight:s,src:m}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,t)=>{var e=Zt(r.height,t),i=0;r.totalheight.number>0&&(i=Zt(r.totalheight,t)-e);var n=0;r.width.number>0&&(n=Zt(r.width,t));var a={height:Ue(e+i)};n>0&&(a.width=Ue(n)),i>0&&(a.verticalAlign=Ue(-i));var s=new Rz(r.src,r.alt,a);return s.height=e,s.depth=i,s},mathmlBuilder:(r,t)=>{var e=new Be.MathNode("mglyph",[]);e.setAttribute("alt",r.alt);var i=Zt(r.height,t),n=0;if(r.totalheight.number>0&&(n=Zt(r.totalheight,t)-i,e.setAttribute("valign",Ue(-n))),e.setAttribute("height",Ue(i+n)),r.width.number>0){var a=Zt(r.width,t);e.setAttribute("width",Ue(a))}return e.setAttribute("src",r.src),e}});Ve({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,t){var{parser:e,funcName:i}=r,n=pt(t[0],"size");if(e.settings.strict){var a=i[1]==="m",s=n.value.unit==="mu";a?(s||e.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+n.value.unit+" units")),e.mode!=="math"&&e.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&e.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:e.mode,dimension:n.value}},htmlBuilder(r,t){return xe.makeGlue(r.dimension,t)},mathmlBuilder(r,t){var e=Zt(r.dimension,t);return new Be.SpaceNode(e)}});Ve({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0];return{type:"lap",mode:e.mode,alignment:i.slice(5),body:n}},htmlBuilder:(r,t)=>{var e;r.alignment==="clap"?(e=xe.makeSpan([],[Et(r.body,t)]),e=xe.makeSpan(["inner"],[e],t)):e=xe.makeSpan(["inner"],[Et(r.body,t)]);var i=xe.makeSpan(["fix"],[]),n=xe.makeSpan([r.alignment],[e,i],t),a=xe.makeSpan(["strut"]);return a.style.height=Ue(n.height+n.depth),n.depth&&(a.style.verticalAlign=Ue(-n.depth)),n.children.unshift(a),n=xe.makeSpan(["thinbox"],[n],t),xe.makeSpan(["mord","vbox"],[n],t)},mathmlBuilder:(r,t)=>{var e=new Be.MathNode("mpadded",[Ft(r.body,t)]);if(r.alignment!=="rlap"){var i=r.alignment==="llap"?"-1":"-0.5";e.setAttribute("lspace",i+"width")}return e.setAttribute("width","0px"),e}});Ve({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,t){var{funcName:e,parser:i}=r,n=i.mode;i.switchMode("math");var a=e==="\\("?"\\)":"$",s=i.parseExpression(!1,a);return i.expect(a),i.switchMode(n),{type:"styling",mode:i.mode,style:"text",body:s}}});Ve({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,t){throw new ze("Mismatched "+r.funcName)}});var Y2=(r,t)=>{switch(t.style.size){case it.DISPLAY.size:return r.display;case it.TEXT.size:return r.text;case it.SCRIPT.size:return r.script;case it.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};Ve({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,t)=>{var{parser:e}=r;return{type:"mathchoice",mode:e.mode,display:mr(t[0]),text:mr(t[1]),script:mr(t[2]),scriptscript:mr(t[3])}},htmlBuilder:(r,t)=>{var e=Y2(r,t),i=Sr(e,t,!1);return xe.makeFragment(i)},mathmlBuilder:(r,t)=>{var e=Y2(r,t);return Us(e,t)}});var M8=(r,t,e,i,n,a,s)=>{r=xe.makeSpan([],[r]);var o=e&&et.isCharacterBox(e),l,u;if(t){var f=Et(t,i.havingStyle(n.sup()),i);u={elem:f,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-f.depth)}}if(e){var h=Et(e,i.havingStyle(n.sub()),i);l={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-h.height)}}var c;if(u&&l){var m=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+r.depth+s;c=xe.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ue(-a)},{type:"kern",size:l.kern},{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ue(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var v=r.height-s;c=xe.makeVList({positionType:"top",positionData:v,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ue(-a)},{type:"kern",size:l.kern},{type:"elem",elem:r}]},i)}else if(u){var d=r.depth+s;c=xe.makeVList({positionType:"bottom",positionData:d,children:[{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ue(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return r;var b=[c];if(l&&a!==0&&!o){var g=xe.makeSpan(["mspace"],[],i);g.style.marginRight=Ue(a),b.unshift(g)}return xe.makeSpan(["mop","op-limits"],b,i)},B8=["\\smallint"],gu=(r,t)=>{var e,i,n=!1,a;r.type==="supsub"?(e=r.sup,i=r.sub,a=pt(r.base,"op"),n=!0):a=pt(r,"op");var s=t.style,o=!1;s.size===it.DISPLAY.size&&a.symbol&&!et.contains(B8,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",f="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(f=a.name.slice(1),a.name=f==="oiint"?"\\iint":"\\iiint"),l=xe.makeSymbol(a.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),f.length>0){var h=l.italic,c=xe.staticSvg(f+"Size"+(o?"2":"1"),t);l=xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:c,shift:o?.08:0}]},t),a.name="\\"+f,l.classes.unshift("mop"),l.italic=h}}else if(a.body){var m=Sr(a.body,t,!0);m.length===1&&m[0]instanceof ln?(l=m[0],l.classes[0]="mop"):l=xe.makeSpan(["mop"],m,t)}else{for(var v=[],d=1;d<a.name.length;d++)v.push(xe.mathsym(a.name[d],a.mode,t));l=xe.makeSpan(["mop"],v,t)}var b=0,g=0;return(l instanceof ln||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(l.height-l.depth)/2-t.fontMetrics().axisHeight,g=l.italic),n?M8(l,e,i,t,s,g,b):(b&&(l.style.position="relative",l.style.top=Ue(b)),l)},rc=(r,t)=>{var e;if(r.symbol)e=new en("mo",[un(r.name,r.mode)]),et.contains(B8,r.name)&&e.setAttribute("largeop","false");else if(r.body)e=new en("mo",Ti(r.body,t));else{e=new en("mi",[new uf(r.name.slice(1))]);var i=new en("mo",[un("⁡","text")]);r.parentIsSupSub?e=new en("mrow",[e,i]):e=c8([e,i])}return e},ML={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ve({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=i;return n.length===1&&(n=ML[n]),{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:gu,mathmlBuilder:rc});Ve({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:mr(i)}},htmlBuilder:gu,mathmlBuilder:rc});var BL={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ve({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:t,funcName:e}=r;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:e}},htmlBuilder:gu,mathmlBuilder:rc});Ve({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:t,funcName:e}=r;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:e}},htmlBuilder:gu,mathmlBuilder:rc});Ve({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(r){var{parser:t,funcName:e}=r,i=e;return i.length===1&&(i=BL[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:gu,mathmlBuilder:rc});var F8=(r,t)=>{var e,i,n=!1,a;r.type==="supsub"?(e=r.sup,i=r.sub,a=pt(r.base,"operatorname"),n=!0):a=pt(r,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(h=>{var c=h.text;return typeof c=="string"?{type:"textord",mode:h.mode,text:c}:h}),l=Sr(o,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var f=l[u];f instanceof ln&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=xe.makeSpan(["mop"],l,t)}else s=xe.makeSpan(["mop"],[],t);return n?M8(s,e,i,t,t.style,0,0):s},FL=(r,t)=>{for(var e=Ti(r.body,t.withFont("mathrm")),i=!0,n=0;n<e.length;n++){var a=e[n];if(!(a instanceof Be.SpaceNode))if(a instanceof Be.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof Be.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=e.map(f=>f.toText()).join("");e=[new Be.TextNode(o)]}var l=new Be.MathNode("mi",e);l.setAttribute("mathvariant","normal");var u=new Be.MathNode("mo",[un("⁡","text")]);return r.parentIsSupSub?new Be.MathNode("mrow",[l,u]):Be.newDocumentFragment([l,u])};Ve({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,t)=>{var{parser:e,funcName:i}=r,n=t[0];return{type:"operatorname",mode:e.mode,body:mr(n),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:F8,mathmlBuilder:FL});J("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Go({type:"ordgroup",htmlBuilder(r,t){return r.semisimple?xe.makeFragment(Sr(r.body,t,!1)):xe.makeSpan(["mord"],Sr(r.body,t,!0),t)},mathmlBuilder(r,t){return Us(r.body,t,!0)}});Ve({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,t){var{parser:e}=r,i=t[0];return{type:"overline",mode:e.mode,body:i}},htmlBuilder(r,t){var e=Et(r.body,t.havingCrampedStyle()),i=xe.makeLineSpan("overline-line",t),n=t.fontMetrics().defaultRuleThickness,a=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e},{type:"kern",size:3*n},{type:"elem",elem:i},{type:"kern",size:n}]},t);return xe.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(r,t){var e=new Be.MathNode("mo",[new Be.TextNode("‾")]);e.setAttribute("stretchy","true");var i=new Be.MathNode("mover",[Ft(r.body,t),e]);return i.setAttribute("accent","true"),i}});Ve({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"phantom",mode:e.mode,body:mr(i)}},htmlBuilder:(r,t)=>{var e=Sr(r.body,t.withPhantom(),!1);return xe.makeFragment(e)},mathmlBuilder:(r,t)=>{var e=Ti(r.body,t);return new Be.MathNode("mphantom",e)}});Ve({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"hphantom",mode:e.mode,body:i}},htmlBuilder:(r,t)=>{var e=xe.makeSpan([],[Et(r.body,t.withPhantom())]);if(e.height=0,e.depth=0,e.children)for(var i=0;i<e.children.length;i++)e.children[i].height=0,e.children[i].depth=0;return e=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e}]},t),xe.makeSpan(["mord"],[e],t)},mathmlBuilder:(r,t)=>{var e=Ti(mr(r.body),t),i=new Be.MathNode("mphantom",e),n=new Be.MathNode("mpadded",[i]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}});Ve({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,t)=>{var{parser:e}=r,i=t[0];return{type:"vphantom",mode:e.mode,body:i}},htmlBuilder:(r,t)=>{var e=xe.makeSpan(["inner"],[Et(r.body,t.withPhantom())]),i=xe.makeSpan(["fix"],[]);return xe.makeSpan(["mord","rlap"],[e,i],t)},mathmlBuilder:(r,t)=>{var e=Ti(mr(r.body),t),i=new Be.MathNode("mphantom",e),n=new Be.MathNode("mpadded",[i]);return n.setAttribute("width","0px"),n}});Ve({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,t){var{parser:e}=r,i=pt(t[0],"size").value,n=t[1];return{type:"raisebox",mode:e.mode,dy:i,body:n}},htmlBuilder(r,t){var e=Et(r.body,t),i=Zt(r.dy,t);return xe.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:e}]},t)},mathmlBuilder(r,t){var e=new Be.MathNode("mpadded",[Ft(r.body,t)]),i=r.dy.number+r.dy.unit;return e.setAttribute("voffset",i),e}});Ve({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:t}=r;return{type:"internal",mode:t.mode}}});Ve({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(r,t,e){var{parser:i}=r,n=e[0],a=pt(t[0],"size"),s=pt(t[1],"size");return{type:"rule",mode:i.mode,shift:n&&pt(n,"size").value,width:a.value,height:s.value}},htmlBuilder(r,t){var e=xe.makeSpan(["mord","rule"],[],t),i=Zt(r.width,t),n=Zt(r.height,t),a=r.shift?Zt(r.shift,t):0;return e.style.borderRightWidth=Ue(i),e.style.borderTopWidth=Ue(n),e.style.bottom=Ue(a),e.width=i,e.height=n+a,e.depth=-a,e.maxFontSize=n*1.125*t.sizeMultiplier,e},mathmlBuilder(r,t){var e=Zt(r.width,t),i=Zt(r.height,t),n=r.shift?Zt(r.shift,t):0,a=t.color&&t.getColor()||"black",s=new Be.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Ue(e)),s.setAttribute("height",Ue(i));var o=new Be.MathNode("mpadded",[s]);return n>=0?o.setAttribute("height",Ue(n)):(o.setAttribute("height",Ue(n)),o.setAttribute("depth",Ue(-n))),o.setAttribute("voffset",Ue(n)),o}});function z8(r,t,e){for(var i=Sr(r,t,!1),n=t.sizeMultiplier/e.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(e)):i[a].classes[s+1]==="reset-size"+t.size&&(i[a].classes[s+1]="reset-size"+e.size),i[a].height*=n,i[a].depth*=n}return xe.makeFragment(i)}var J2=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],zL=(r,t)=>{var e=t.havingSize(r.size);return z8(r.body,e,t)};Ve({type:"sizing",names:J2,props:{numArgs:0,allowedInText:!0},handler:(r,t)=>{var{breakOnTokenText:e,funcName:i,parser:n}=r,a=n.parseExpression(!1,e);return{type:"sizing",mode:n.mode,size:J2.indexOf(i)+1,body:a}},htmlBuilder:zL,mathmlBuilder:(r,t)=>{var e=t.havingSize(r.size),i=Ti(r.body,e),n=new Be.MathNode("mstyle",i);return n.setAttribute("mathsize",Ue(e.sizeMultiplier)),n}});Ve({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,t,e)=>{var{parser:i}=r,n=!1,a=!1,s=e[0]&&pt(e[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")n=!0;else if(o==="b")a=!0;else{n=!1,a=!1;break}}else n=!0,a=!0;var f=t[0];return{type:"smash",mode:i.mode,body:f,smashHeight:n,smashDepth:a}},htmlBuilder:(r,t)=>{var e=xe.makeSpan([],[Et(r.body,t)]);if(!r.smashHeight&&!r.smashDepth)return e;if(r.smashHeight&&(e.height=0,e.children))for(var i=0;i<e.children.length;i++)e.children[i].height=0;if(r.smashDepth&&(e.depth=0,e.children))for(var n=0;n<e.children.length;n++)e.children[n].depth=0;var a=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e}]},t);return xe.makeSpan(["mord"],[a],t)},mathmlBuilder:(r,t)=>{var e=new Be.MathNode("mpadded",[Ft(r.body,t)]);return r.smashHeight&&e.setAttribute("height","0px"),r.smashDepth&&e.setAttribute("depth","0px"),e}});Ve({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,t,e){var{parser:i}=r,n=e[0],a=t[0];return{type:"sqrt",mode:i.mode,body:a,index:n}},htmlBuilder(r,t){var e=Et(r.body,t.havingCrampedStyle());e.height===0&&(e.height=t.fontMetrics().xHeight),e=xe.wrapFragment(e,t);var i=t.fontMetrics(),n=i.defaultRuleThickness,a=n;t.style.id<it.TEXT.id&&(a=t.fontMetrics().xHeight);var s=n+a/4,o=e.height+e.depth+s+n,{span:l,ruleWidth:u,advanceWidth:f}=ha.sqrtImage(o,t),h=l.height-u;h>e.height+e.depth+s&&(s=(s+h-e.height-e.depth)/2);var c=l.height-e.height-s-u;e.style.paddingLeft=Ue(f);var m=xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e,wrapperClasses:["svg-align"]},{type:"kern",size:-(e.height+c)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(r.index){var v=t.havingStyle(it.SCRIPTSCRIPT),d=Et(r.index,v,t),b=.6*(m.height-m.depth),g=xe.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:d}]},t),$=xe.makeSpan(["root"],[g]);return xe.makeSpan(["mord","sqrt"],[$,m],t)}else return xe.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(r,t){var{body:e,index:i}=r;return i?new Be.MathNode("mroot",[Ft(e,t),Ft(i,t)]):new Be.MathNode("msqrt",[Ft(e,t)])}});var Q2={display:it.DISPLAY,text:it.TEXT,script:it.SCRIPT,scriptscript:it.SCRIPTSCRIPT};Ve({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,t){var{breakOnTokenText:e,funcName:i,parser:n}=r,a=n.parseExpression(!0,e),s=i.slice(1,i.length-5);return{type:"styling",mode:n.mode,style:s,body:a}},htmlBuilder(r,t){var e=Q2[r.style],i=t.havingStyle(e).withFont("");return z8(r.body,i,t)},mathmlBuilder(r,t){var e=Q2[r.style],i=t.havingStyle(e),n=Ti(r.body,i),a=new Be.MathNode("mstyle",n),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[r.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var LL=function(t,e){var i=t.base;if(i)if(i.type==="op"){var n=i.limits&&(e.style.size===it.DISPLAY.size||i.alwaysHandleSupSub);return n?gu:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(e.style.size===it.DISPLAY.size||i.limits);return a?F8:null}else{if(i.type==="accent")return et.isCharacterBox(i.base)?Jb:null;if(i.type==="horizBrace"){var s=!t.sub;return s===i.isOver?R8:null}else return null}else return null};Go({type:"supsub",htmlBuilder(r,t){var e=LL(r,t);if(e)return e(r,t);var{base:i,sup:n,sub:a}=r,s=Et(i,t),o,l,u=t.fontMetrics(),f=0,h=0,c=i&&et.isCharacterBox(i);if(n){var m=t.havingStyle(t.style.sup());o=Et(n,m,t),c||(f=s.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(a){var v=t.havingStyle(t.style.sub());l=Et(a,v,t),c||(h=s.depth+v.fontMetrics().subDrop*v.sizeMultiplier/t.sizeMultiplier)}var d;t.style===it.DISPLAY?d=u.sup1:t.style.cramped?d=u.sup3:d=u.sup2;var b=t.sizeMultiplier,g=Ue(.5/u.ptPerEm/b),$=null;if(l){var w=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");(s instanceof ln||w)&&($=Ue(-s.italic))}var x;if(o&&l){f=Math.max(f,d,o.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var A=u.defaultRuleThickness,I=4*A;if(f-o.depth-(l.height-h)<I){h=I-(f-o.depth)+l.height;var D=.8*u.xHeight-(f-o.depth);D>0&&(f+=D,h-=D)}var S=[{type:"elem",elem:l,shift:h,marginRight:g,marginLeft:$},{type:"elem",elem:o,shift:-f,marginRight:g}];x=xe.makeVList({positionType:"individualShift",children:S},t)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var O=[{type:"elem",elem:l,marginLeft:$,marginRight:g}];x=xe.makeVList({positionType:"shift",positionData:h,children:O},t)}else if(o)f=Math.max(f,d,o.depth+.25*u.xHeight),x=xe.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:o,marginRight:g}]},t);else throw new Error("supsub must have either sup or sub.");var H=o1(s,"right")||"mord";return xe.makeSpan([H],[s,xe.makeSpan(["msupsub"],[x])],t)},mathmlBuilder(r,t){var e=!1,i,n;r.base&&r.base.type==="horizBrace"&&(n=!!r.sup,n===r.base.isOver&&(e=!0,i=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var a=[Ft(r.base,t)];r.sub&&a.push(Ft(r.sub,t)),r.sup&&a.push(Ft(r.sup,t));var s;if(e)s=i?"mover":"munder";else if(r.sub)if(r.sup){var u=r.base;u&&u.type==="op"&&u.limits&&t.style===it.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===it.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=r.base;l&&l.type==="op"&&l.limits&&(t.style===it.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===it.DISPLAY)?s="munder":s="msub"}else{var o=r.base;o&&o.type==="op"&&o.limits&&(t.style===it.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===it.DISPLAY)?s="mover":s="msup"}return new Be.MathNode(s,a)}});Go({type:"atom",htmlBuilder(r,t){return xe.mathsym(r.text,r.mode,t,["m"+r.family])},mathmlBuilder(r,t){var e=new Be.MathNode("mo",[un(r.text,r.mode)]);if(r.family==="bin"){var i=Kb(r,t);i==="bold-italic"&&e.setAttribute("mathvariant",i)}else r.family==="punct"?e.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&e.setAttribute("stretchy","false");return e}});var L8={mi:"italic",mn:"normal",mtext:"normal"};Go({type:"mathord",htmlBuilder(r,t){return xe.makeOrd(r,t,"mathord")},mathmlBuilder(r,t){var e=new Be.MathNode("mi",[un(r.text,r.mode,t)]),i=Kb(r,t)||"italic";return i!==L8[e.type]&&e.setAttribute("mathvariant",i),e}});Go({type:"textord",htmlBuilder(r,t){return xe.makeOrd(r,t,"textord")},mathmlBuilder(r,t){var e=un(r.text,r.mode,t),i=Kb(r,t)||"normal",n;return r.mode==="text"?n=new Be.MathNode("mtext",[e]):/[0-9]/.test(r.text)?n=new Be.MathNode("mn",[e]):r.text==="\\prime"?n=new Be.MathNode("mo",[e]):n=new Be.MathNode("mi",[e]),i!==L8[n.type]&&n.setAttribute("mathvariant",i),n}});var y0={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},$0={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Go({type:"spacing",htmlBuilder(r,t){if($0.hasOwnProperty(r.text)){var e=$0[r.text].className||"";if(r.mode==="text"){var i=xe.makeOrd(r,t,"textord");return i.classes.push(e),i}else return xe.makeSpan(["mspace",e],[xe.mathsym(r.text,r.mode,t)],t)}else{if(y0.hasOwnProperty(r.text))return xe.makeSpan(["mspace",y0[r.text]],[],t);throw new ze('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,t){var e;if($0.hasOwnProperty(r.text))e=new Be.MathNode("mtext",[new Be.TextNode(" ")]);else{if(y0.hasOwnProperty(r.text))return new Be.MathNode("mspace");throw new ze('Unknown type of space "'+r.text+'"')}return e}});var Z2=()=>{var r=new Be.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};Go({type:"tag",mathmlBuilder(r,t){var e=new Be.MathNode("mtable",[new Be.MathNode("mtr",[Z2(),new Be.MathNode("mtd",[Us(r.body,t)]),Z2(),new Be.MathNode("mtd",[Us(r.tag,t)])])]);return e.setAttribute("width","100%"),e}});var ew={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},tw={"\\textbf":"textbf","\\textmd":"textmd"},jL={"\\textit":"textit","\\textup":"textup"},rw=(r,t)=>{var e=r.font;return e?ew[e]?t.withTextFontFamily(ew[e]):tw[e]?t.withTextFontWeight(tw[e]):t.withTextFontShape(jL[e]):t};Ve({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,t){var{parser:e,funcName:i}=r,n=t[0];return{type:"text",mode:e.mode,body:mr(n),font:i}},htmlBuilder(r,t){var e=rw(r,t),i=Sr(r.body,e,!0);return xe.makeSpan(["mord","text"],i,e)},mathmlBuilder(r,t){var e=rw(r,t);return Us(r.body,e)}});Ve({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,t){var{parser:e}=r;return{type:"underline",mode:e.mode,body:t[0]}},htmlBuilder(r,t){var e=Et(r.body,t),i=xe.makeLineSpan("underline-line",t),n=t.fontMetrics().defaultRuleThickness,a=xe.makeVList({positionType:"top",positionData:e.height,children:[{type:"kern",size:n},{type:"elem",elem:i},{type:"kern",size:3*n},{type:"elem",elem:e}]},t);return xe.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(r,t){var e=new Be.MathNode("mo",[new Be.TextNode("‾")]);e.setAttribute("stretchy","true");var i=new Be.MathNode("munder",[Ft(r.body,t),e]);return i.setAttribute("accentunder","true"),i}});Ve({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,t){var{parser:e}=r;return{type:"vcenter",mode:e.mode,body:t[0]}},htmlBuilder(r,t){var e=Et(r.body,t),i=t.fontMetrics().axisHeight,n=.5*(e.height-i-(e.depth+i));return xe.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:e}]},t)},mathmlBuilder(r,t){return new Be.MathNode("mpadded",[Ft(r.body,t)],["vcenter"])}});Ve({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,t,e){throw new ze("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,t){for(var e=iw(r),i=[],n=t.havingStyle(t.style.text()),a=0;a<e.length;a++){var s=e[a];s==="~"&&(s="\\textasciitilde"),i.push(xe.makeSymbol(s,"Typewriter-Regular",r.mode,n,["mord","texttt"]))}return xe.makeSpan(["mord","text"].concat(n.sizingClasses(t)),xe.tryCombineChars(i),n)},mathmlBuilder(r,t){var e=new Be.TextNode(iw(r)),i=new Be.MathNode("mtext",[e]);return i.setAttribute("mathvariant","monospace"),i}});var iw=r=>r.body.replace(/ /g,r.star?"␣":" "),Os=u8,j8=`[ \r
	]`,qL="\\\\[a-zA-Z@]+",UL="\\\\[^\uD800-\uDFFF]",HL="("+qL+")"+j8+"*",WL=`\\\\(
|[ \r	]+
?)[ \r	]*`,c1="[̀-ͯ]",VL=new RegExp(c1+"+$"),GL="("+j8+"+)|"+(WL+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(c1+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(c1+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+HL)+("|"+UL+")");class nw{constructor(t,e){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=e,this.tokenRegex=new RegExp(GL,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,e){this.catcodes[t]=e}lex(){var t=this.input,e=this.tokenRegex.lastIndex;if(e===t.length)return new an("EOF",new Bi(this,e,e));var i=this.tokenRegex.exec(t);if(i===null||i.index!==e)throw new ze("Unexpected character: '"+t[e]+"'",new an(t[e],new Bi(this,e,e+1)));var n=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[n]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new an(n,new Bi(this,e,this.tokenRegex.lastIndex))}}class XL{constructor(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=e,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ze("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var e in t)t.hasOwnProperty(e)&&(t[e]==null?delete this.current[e]:this.current[e]=t[e])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,e,i){if(i===void 0&&(i=!1),i){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=e)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}e==null?delete this.current[t]:this.current[t]=e}}var KL=I8;J("\\noexpand",function(r){var t=r.popToken();return r.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});J("\\expandafter",function(r){var t=r.popToken();return r.expandOnce(!0),{tokens:[t],numArgs:0}});J("\\@firstoftwo",function(r){var t=r.consumeArgs(2);return{tokens:t[0],numArgs:0}});J("\\@secondoftwo",function(r){var t=r.consumeArgs(2);return{tokens:t[1],numArgs:0}});J("\\@ifnextchar",function(r){var t=r.consumeArgs(3);r.consumeSpaces();var e=r.future();return t[0].length===1&&t[0][0].text===e.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});J("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");J("\\TextOrMath",function(r){var t=r.consumeArgs(2);return r.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var aw={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};J("\\char",function(r){var t=r.popToken(),e,i="";if(t.text==="'")e=8,t=r.popToken();else if(t.text==='"')e=16,t=r.popToken();else if(t.text==="`")if(t=r.popToken(),t.text[0]==="\\")i=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ze("\\char` missing argument");i=t.text.charCodeAt(0)}else e=10;if(e){if(i=aw[t.text],i==null||i>=e)throw new ze("Invalid base-"+e+" digit "+t.text);for(var n;(n=aw[r.future().text])!=null&&n<e;)i*=e,i+=n,r.popToken()}return"\\@char{"+i+"}"});var ay=(r,t,e)=>{var i=r.consumeArg().tokens;if(i.length!==1)throw new ze("\\newcommand's first argument must be a macro name");var n=i[0].text,a=r.isDefined(n);if(a&&!t)throw new ze("\\newcommand{"+n+"} attempting to redefine "+(n+"; use \\renewcommand"));if(!a&&!e)throw new ze("\\renewcommand{"+n+"} when command "+n+" does not yet exist; use \\newcommand");var s=0;if(i=r.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var o="",l=r.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=r.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new ze("Invalid number of arguments: "+o);s=parseInt(o),i=r.consumeArg().tokens}return r.macros.set(n,{tokens:i,numArgs:s}),""};J("\\newcommand",r=>ay(r,!1,!0));J("\\renewcommand",r=>ay(r,!0,!1));J("\\providecommand",r=>ay(r,!0,!0));J("\\message",r=>{var t=r.consumeArgs(1)[0];return console.log(t.reverse().map(e=>e.text).join("")),""});J("\\errmessage",r=>{var t=r.consumeArgs(1)[0];return console.error(t.reverse().map(e=>e.text).join("")),""});J("\\show",r=>{var t=r.popToken(),e=t.text;return console.log(t,r.macros.get(e),Os[e],Vt.math[e],Vt.text[e]),""});J("\\bgroup","{");J("\\egroup","}");J("~","\\nobreakspace");J("\\lq","`");J("\\rq","'");J("\\aa","\\r a");J("\\AA","\\r A");J("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");J("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");J("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");J("ℬ","\\mathscr{B}");J("ℰ","\\mathscr{E}");J("ℱ","\\mathscr{F}");J("ℋ","\\mathscr{H}");J("ℐ","\\mathscr{I}");J("ℒ","\\mathscr{L}");J("ℳ","\\mathscr{M}");J("ℛ","\\mathscr{R}");J("ℭ","\\mathfrak{C}");J("ℌ","\\mathfrak{H}");J("ℨ","\\mathfrak{Z}");J("\\Bbbk","\\Bbb{k}");J("·","\\cdotp");J("\\llap","\\mathllap{\\textrm{#1}}");J("\\rlap","\\mathrlap{\\textrm{#1}}");J("\\clap","\\mathclap{\\textrm{#1}}");J("\\mathstrut","\\vphantom{(}");J("\\underbar","\\underline{\\text{#1}}");J("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');J("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");J("\\ne","\\neq");J("≠","\\neq");J("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");J("∉","\\notin");J("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");J("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");J("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");J("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");J("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");J("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");J("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");J("⟂","\\perp");J("‼","\\mathclose{!\\mkern-0.8mu!}");J("∌","\\notni");J("⌜","\\ulcorner");J("⌝","\\urcorner");J("⌞","\\llcorner");J("⌟","\\lrcorner");J("©","\\copyright");J("®","\\textregistered");J("️","\\textregistered");J("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');J("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');J("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');J("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');J("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");J("⋮","\\vdots");J("\\varGamma","\\mathit{\\Gamma}");J("\\varDelta","\\mathit{\\Delta}");J("\\varTheta","\\mathit{\\Theta}");J("\\varLambda","\\mathit{\\Lambda}");J("\\varXi","\\mathit{\\Xi}");J("\\varPi","\\mathit{\\Pi}");J("\\varSigma","\\mathit{\\Sigma}");J("\\varUpsilon","\\mathit{\\Upsilon}");J("\\varPhi","\\mathit{\\Phi}");J("\\varPsi","\\mathit{\\Psi}");J("\\varOmega","\\mathit{\\Omega}");J("\\substack","\\begin{subarray}{c}#1\\end{subarray}");J("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");J("\\boxed","\\fbox{$\\displaystyle{#1}$}");J("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");J("\\implies","\\DOTSB\\;\\Longrightarrow\\;");J("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var sw={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};J("\\dots",function(r){var t="\\dotso",e=r.expandAfterFuture().text;return e in sw?t=sw[e]:(e.slice(0,4)==="\\not"||e in Vt.math&&et.contains(["bin","rel"],Vt.math[e].group))&&(t="\\dotsb"),t});var sy={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};J("\\dotso",function(r){var t=r.future().text;return t in sy?"\\ldots\\,":"\\ldots"});J("\\dotsc",function(r){var t=r.future().text;return t in sy&&t!==","?"\\ldots\\,":"\\ldots"});J("\\cdots",function(r){var t=r.future().text;return t in sy?"\\@cdots\\,":"\\@cdots"});J("\\dotsb","\\cdots");J("\\dotsm","\\cdots");J("\\dotsi","\\!\\cdots");J("\\dotsx","\\ldots\\,");J("\\DOTSI","\\relax");J("\\DOTSB","\\relax");J("\\DOTSX","\\relax");J("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");J("\\,","\\tmspace+{3mu}{.1667em}");J("\\thinspace","\\,");J("\\>","\\mskip{4mu}");J("\\:","\\tmspace+{4mu}{.2222em}");J("\\medspace","\\:");J("\\;","\\tmspace+{5mu}{.2777em}");J("\\thickspace","\\;");J("\\!","\\tmspace-{3mu}{.1667em}");J("\\negthinspace","\\!");J("\\negmedspace","\\tmspace-{4mu}{.2222em}");J("\\negthickspace","\\tmspace-{5mu}{.277em}");J("\\enspace","\\kern.5em ");J("\\enskip","\\hskip.5em\\relax");J("\\quad","\\hskip1em\\relax");J("\\qquad","\\hskip2em\\relax");J("\\tag","\\@ifstar\\tag@literal\\tag@paren");J("\\tag@paren","\\tag@literal{({#1})}");J("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new ze("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});J("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");J("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");J("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");J("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");J("\\newline","\\\\\\relax");J("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var q8=Ue(jn["Main-Regular"][84][1]-.7*jn["Main-Regular"][65][1]);J("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+q8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");J("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+q8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");J("\\hspace","\\@ifstar\\@hspacer\\@hspace");J("\\@hspace","\\hskip #1\\relax");J("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");J("\\ordinarycolon",":");J("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");J("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');J("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');J("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');J("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');J("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');J("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');J("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');J("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');J("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');J("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');J("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');J("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');J("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');J("∷","\\dblcolon");J("∹","\\eqcolon");J("≔","\\coloneqq");J("≕","\\eqqcolon");J("⩴","\\Coloneqq");J("\\ratio","\\vcentcolon");J("\\coloncolon","\\dblcolon");J("\\colonequals","\\coloneqq");J("\\coloncolonequals","\\Coloneqq");J("\\equalscolon","\\eqqcolon");J("\\equalscoloncolon","\\Eqqcolon");J("\\colonminus","\\coloneq");J("\\coloncolonminus","\\Coloneq");J("\\minuscolon","\\eqcolon");J("\\minuscoloncolon","\\Eqcolon");J("\\coloncolonapprox","\\Colonapprox");J("\\coloncolonsim","\\Colonsim");J("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");J("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");J("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");J("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");J("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");J("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");J("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");J("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");J("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");J("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");J("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");J("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");J("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");J("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");J("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");J("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");J("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");J("\\nleqq","\\html@mathml{\\@nleqq}{≰}");J("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");J("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");J("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");J("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");J("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");J("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");J("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");J("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");J("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");J("\\imath","\\html@mathml{\\@imath}{ı}");J("\\jmath","\\html@mathml{\\@jmath}{ȷ}");J("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");J("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");J("⟦","\\llbracket");J("⟧","\\rrbracket");J("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");J("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");J("⦃","\\lBrace");J("⦄","\\rBrace");J("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");J("⦵","\\minuso");J("\\darr","\\downarrow");J("\\dArr","\\Downarrow");J("\\Darr","\\Downarrow");J("\\lang","\\langle");J("\\rang","\\rangle");J("\\uarr","\\uparrow");J("\\uArr","\\Uparrow");J("\\Uarr","\\Uparrow");J("\\N","\\mathbb{N}");J("\\R","\\mathbb{R}");J("\\Z","\\mathbb{Z}");J("\\alef","\\aleph");J("\\alefsym","\\aleph");J("\\Alpha","\\mathrm{A}");J("\\Beta","\\mathrm{B}");J("\\bull","\\bullet");J("\\Chi","\\mathrm{X}");J("\\clubs","\\clubsuit");J("\\cnums","\\mathbb{C}");J("\\Complex","\\mathbb{C}");J("\\Dagger","\\ddagger");J("\\diamonds","\\diamondsuit");J("\\empty","\\emptyset");J("\\Epsilon","\\mathrm{E}");J("\\Eta","\\mathrm{H}");J("\\exist","\\exists");J("\\harr","\\leftrightarrow");J("\\hArr","\\Leftrightarrow");J("\\Harr","\\Leftrightarrow");J("\\hearts","\\heartsuit");J("\\image","\\Im");J("\\infin","\\infty");J("\\Iota","\\mathrm{I}");J("\\isin","\\in");J("\\Kappa","\\mathrm{K}");J("\\larr","\\leftarrow");J("\\lArr","\\Leftarrow");J("\\Larr","\\Leftarrow");J("\\lrarr","\\leftrightarrow");J("\\lrArr","\\Leftrightarrow");J("\\Lrarr","\\Leftrightarrow");J("\\Mu","\\mathrm{M}");J("\\natnums","\\mathbb{N}");J("\\Nu","\\mathrm{N}");J("\\Omicron","\\mathrm{O}");J("\\plusmn","\\pm");J("\\rarr","\\rightarrow");J("\\rArr","\\Rightarrow");J("\\Rarr","\\Rightarrow");J("\\real","\\Re");J("\\reals","\\mathbb{R}");J("\\Reals","\\mathbb{R}");J("\\Rho","\\mathrm{P}");J("\\sdot","\\cdot");J("\\sect","\\S");J("\\spades","\\spadesuit");J("\\sub","\\subset");J("\\sube","\\subseteq");J("\\supe","\\supseteq");J("\\Tau","\\mathrm{T}");J("\\thetasym","\\vartheta");J("\\weierp","\\wp");J("\\Zeta","\\mathrm{Z}");J("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");J("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");J("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");J("\\bra","\\mathinner{\\langle{#1}|}");J("\\ket","\\mathinner{|{#1}\\rangle}");J("\\braket","\\mathinner{\\langle{#1}\\rangle}");J("\\Bra","\\left\\langle#1\\right|");J("\\Ket","\\left|#1\\right\\rangle");var U8=r=>t=>{var e=t.consumeArg().tokens,i=t.consumeArg().tokens,n=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var l=h=>c=>{r&&(c.macros.set("|",s),n.length&&c.macros.set("\\|",o));var m=h;if(!h&&n.length){var v=c.future();v.text==="|"&&(c.popToken(),m=!0)}return{tokens:m?n:i,numArgs:0}};t.macros.set("|",l(!1)),n.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,f=t.expandTokens([...a,...u,...e]);return t.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};J("\\bra@ket",U8(!1));J("\\bra@set",U8(!0));J("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");J("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");J("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");J("\\angln","{\\angl n}");J("\\blue","\\textcolor{##6495ed}{#1}");J("\\orange","\\textcolor{##ffa500}{#1}");J("\\pink","\\textcolor{##ff00af}{#1}");J("\\red","\\textcolor{##df0030}{#1}");J("\\green","\\textcolor{##28ae7b}{#1}");J("\\gray","\\textcolor{gray}{#1}");J("\\purple","\\textcolor{##9d38bd}{#1}");J("\\blueA","\\textcolor{##ccfaff}{#1}");J("\\blueB","\\textcolor{##80f6ff}{#1}");J("\\blueC","\\textcolor{##63d9ea}{#1}");J("\\blueD","\\textcolor{##11accd}{#1}");J("\\blueE","\\textcolor{##0c7f99}{#1}");J("\\tealA","\\textcolor{##94fff5}{#1}");J("\\tealB","\\textcolor{##26edd5}{#1}");J("\\tealC","\\textcolor{##01d1c1}{#1}");J("\\tealD","\\textcolor{##01a995}{#1}");J("\\tealE","\\textcolor{##208170}{#1}");J("\\greenA","\\textcolor{##b6ffb0}{#1}");J("\\greenB","\\textcolor{##8af281}{#1}");J("\\greenC","\\textcolor{##74cf70}{#1}");J("\\greenD","\\textcolor{##1fab54}{#1}");J("\\greenE","\\textcolor{##0d923f}{#1}");J("\\goldA","\\textcolor{##ffd0a9}{#1}");J("\\goldB","\\textcolor{##ffbb71}{#1}");J("\\goldC","\\textcolor{##ff9c39}{#1}");J("\\goldD","\\textcolor{##e07d10}{#1}");J("\\goldE","\\textcolor{##a75a05}{#1}");J("\\redA","\\textcolor{##fca9a9}{#1}");J("\\redB","\\textcolor{##ff8482}{#1}");J("\\redC","\\textcolor{##f9685d}{#1}");J("\\redD","\\textcolor{##e84d39}{#1}");J("\\redE","\\textcolor{##bc2612}{#1}");J("\\maroonA","\\textcolor{##ffbde0}{#1}");J("\\maroonB","\\textcolor{##ff92c6}{#1}");J("\\maroonC","\\textcolor{##ed5fa6}{#1}");J("\\maroonD","\\textcolor{##ca337c}{#1}");J("\\maroonE","\\textcolor{##9e034e}{#1}");J("\\purpleA","\\textcolor{##ddd7ff}{#1}");J("\\purpleB","\\textcolor{##c6b9fc}{#1}");J("\\purpleC","\\textcolor{##aa87ff}{#1}");J("\\purpleD","\\textcolor{##7854ab}{#1}");J("\\purpleE","\\textcolor{##543b78}{#1}");J("\\mintA","\\textcolor{##f5f9e8}{#1}");J("\\mintB","\\textcolor{##edf2df}{#1}");J("\\mintC","\\textcolor{##e0e5cc}{#1}");J("\\grayA","\\textcolor{##f6f7f7}{#1}");J("\\grayB","\\textcolor{##f0f1f2}{#1}");J("\\grayC","\\textcolor{##e3e5e6}{#1}");J("\\grayD","\\textcolor{##d6d8da}{#1}");J("\\grayE","\\textcolor{##babec2}{#1}");J("\\grayF","\\textcolor{##888d93}{#1}");J("\\grayG","\\textcolor{##626569}{#1}");J("\\grayH","\\textcolor{##3b3e40}{#1}");J("\\grayI","\\textcolor{##21242c}{#1}");J("\\kaBlue","\\textcolor{##314453}{#1}");J("\\kaGreen","\\textcolor{##71B307}{#1}");var H8={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class YL{constructor(t,e,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=e,this.expansionCount=0,this.feed(t),this.macros=new XL(KL,e.macros),this.mode=i,this.stack=[]}feed(t){this.lexer=new nw(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var e,i,n;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;e=this.popToken(),{tokens:n,end:i}=this.consumeArg(["]"])}else({tokens:n,start:e,end:i}=this.consumeArg());return this.pushToken(new an("EOF",i.loc)),this.pushTokens(n),e.range(i,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var e=[],i=t&&t.length>0;i||this.consumeSpaces();var n=this.future(),a,s=0,o=0;do{if(a=this.popToken(),e.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new ze("Extra }",a)}else if(a.text==="EOF")throw new ze("Unexpected end of input in a macro argument, expected '"+(t&&i?t[o]:"}")+"'",a);if(t&&i)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){e.splice(-o,o);break}}else o=0}while(s!==0||i);return n.text==="{"&&e[e.length-1].text==="}"&&(e.pop(),e.shift()),e.reverse(),{tokens:e,start:n,end:a}}consumeArgs(t,e){if(e){if(e.length!==t+1)throw new ze("The length of delimiters doesn't match the number of args!");for(var i=e[0],n=0;n<i.length;n++){var a=this.popToken();if(i[n]!==a.text)throw new ze("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(e&&e[o+1]).tokens);return s}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ze("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var e=this.popToken(),i=e.text,n=e.noexpand?null:this._getExpansion(i);if(n==null||t&&n.unexpandable){if(t&&n==null&&i[0]==="\\"&&!this.isDefined(i))throw new ze("Undefined control sequence: "+i);return this.pushToken(e),!1}this.countExpansion(1);var a=n.tokens,s=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new ze("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new ze("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new an(t)]):void 0}expandTokens(t){var e=[],i=this.stack.length;for(this.pushTokens(t);this.stack.length>i;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),e.push(n)}return this.countExpansion(e.length),e}expandMacroAsText(t){var e=this.expandMacro(t);return e&&e.map(i=>i.text).join("")}_getExpansion(t){var e=this.macros.get(t);if(e==null)return e;if(t.length===1){var i=this.lexer.catcodes[t];if(i!=null&&i!==13)return}var n=typeof e=="function"?e(this):e;if(typeof n=="string"){var a=0;if(n.indexOf("#")!==-1)for(var s=n.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new nw(n,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var f={tokens:l,numArgs:a};return f}return n}isDefined(t){return this.macros.has(t)||Os.hasOwnProperty(t)||Vt.math.hasOwnProperty(t)||Vt.text.hasOwnProperty(t)||H8.hasOwnProperty(t)}isExpandable(t){var e=this.macros.get(t);return e!=null?typeof e=="string"||typeof e=="function"||!e.unexpandable:Os.hasOwnProperty(t)&&!Os[t].primitive}}var ow=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,uh=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),_0={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},lw={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class bp{constructor(t,e){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new YL(t,e,this.mode),this.settings=e,this.leftrightDepth=0}expect(t,e){if(e===void 0&&(e=!0),this.fetch().text!==t)throw new ze("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());e&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var e=this.nextToken;this.consume(),this.gullet.pushToken(new an("}")),this.gullet.pushTokens(t);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=e,i}parseExpression(t,e){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(bp.endOfExpression.indexOf(n.text)!==-1||e&&n.text===e||t&&Os[n.text]&&Os[n.text].infix)break;var a=this.parseAtom(e);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(t){for(var e=-1,i,n=0;n<t.length;n++)if(t[n].type==="infix"){if(e!==-1)throw new ze("only one infix operator per group",t[n].token);e=n,i=t[n].replaceWith}if(e!==-1&&i){var a,s,o=t.slice(0,e),l=t.slice(e+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[a,t[e],s],[]):u=this.callFunction(i,[a,s],[]),[u]}else return t}handleSupSubscript(t){var e=this.fetch(),i=e.text;this.consume(),this.consumeSpaces();var n=this.parseGroup(t);if(!n)throw new ze("Expected group after '"+i+"'",e);return n}formatUnsupportedCmd(t){for(var e=[],i=0;i<t.length;i++)e.push({type:"textord",mode:"text",text:t[i]});var n={type:"text",mode:this.mode,body:e},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return a}parseAtom(t){var e=this.parseGroup("atom",t);if(this.mode==="text")return e;for(var i,n;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(e&&e.type==="op"){var s=a.text==="\\limits";e.limits=s,e.alwaysHandleSupSub=!0}else if(e&&e.type==="operatorname")e.alwaysHandleSupSub&&(e.limits=a.text==="\\limits");else throw new ze("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new ze("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(n)throw new ze("Double subscript",a);n=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new ze("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(uh[a.text]){var u=ow.test(a.text),f=[];for(f.push(new an(uh[a.text])),this.consume();;){var h=this.fetch().text;if(!uh[h]||ow.test(h)!==u)break;f.unshift(new an(uh[h])),this.consume()}var c=this.subparse(f);u?n={type:"ordgroup",mode:"math",body:c}:i={type:"ordgroup",mode:"math",body:c}}else break}return i||n?{type:"supsub",mode:this.mode,base:e,sup:i,sub:n}:e}parseFunction(t,e){var i=this.fetch(),n=i.text,a=Os[n];if(!a)return null;if(this.consume(),e&&e!=="atom"&&!a.allowedInArgument)throw new ze("Got function '"+n+"' with no arguments"+(e?" as "+e:""),i);if(this.mode==="text"&&!a.allowedInText)throw new ze("Can't use function '"+n+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new ze("Can't use function '"+n+"' in math mode",i);var{args:s,optArgs:o}=this.parseArguments(n,a);return this.callFunction(n,s,o,i,t)}callFunction(t,e,i,n,a){var s={funcName:t,parser:this,token:n,breakOnTokenText:a},o=Os[t];if(o&&o.handler)return o.handler(s,e,i);throw new ze("No function handler for "+t)}parseArguments(t,e){var i=e.numArgs+e.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var n=[],a=[],s=0;s<i;s++){var o=e.argTypes&&e.argTypes[s],l=s<e.numOptionalArgs;(e.primitive&&o==null||e.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,l);if(l)a.push(u);else if(u!=null)n.push(u);else throw new ze("Null argument, please report this as a bug")}return{args:n,optArgs:a}}parseGroupOfType(t,e,i){switch(e){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,e);case"hbox":{var n=this.parseArgumentGroup(i,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new ze("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new ze("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new ze("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,e){var i=this.gullet.scanArgument(e);if(i==null)return null;for(var n="",a;(a=this.fetch()).text!=="EOF";)n+=a.text,this.consume();return this.consume(),i.text=n,i}parseRegexGroup(t,e){for(var i=this.fetch(),n=i,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)n=s,a+=n.text,this.consume();if(a==="")throw new ze("Invalid "+e+": '"+i.text+"'",i);return i.range(n,a)}parseColorGroup(t){var e=this.parseStringGroup("color",t);if(e==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(e.text);if(!i)throw new ze("Invalid color: '"+e.text+"'",e);var n=i[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(t){var e,i=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?e=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):e=this.parseStringGroup("size",t),!e)return null;!t&&e.text.length===0&&(e.text="0pt",i=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e.text);if(!n)throw new ze("Invalid size: '"+e.text+"'",e);var a={number:+(n[1]+n[2]),unit:n[3]};if(!e8(a))throw new ze("Invalid unit: '"+a.unit+"'",e);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var e=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),e==null)return null;var i=e.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(t,e){var i=this.gullet.scanArgument(t);if(i==null)return null;var n=this.mode;e&&this.switchMode(e),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return e&&this.switchMode(n),s}parseGroup(t,e){var i=this.fetch(),n=i.text,a;if(n==="{"||n==="\\begingroup"){this.consume();var s=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Bi.range(i,l),body:o,semisimple:n==="\\begingroup"||void 0}}else if(a=this.parseFunction(e,t)||this.parseSymbol(),a==null&&n[0]==="\\"&&!H8.hasOwnProperty(n)){if(this.settings.throwOnError)throw new ze("Undefined control sequence: "+n,i);a=this.formatUnsupportedCmd(n),this.consume()}return a}formLigatures(t){for(var e=t.length-1,i=0;i<e;++i){var n=t[i],a=n.text;a==="-"&&t[i+1].text==="-"&&(i+1<e&&t[i+2].text==="-"?(t.splice(i,3,{type:"textord",mode:"text",loc:Bi.range(n,t[i+2]),text:"---"}),e-=2):(t.splice(i,2,{type:"textord",mode:"text",loc:Bi.range(n,t[i+1]),text:"--"}),e-=1)),(a==="'"||a==="`")&&t[i+1].text===a&&(t.splice(i,2,{type:"textord",mode:"text",loc:Bi.range(n,t[i+1]),text:a+a}),e-=1)}}parseSymbol(){var t=this.fetch(),e=t.text;if(/^\\verb[^a-zA-Z]/.test(e)){this.consume();var i=e.slice(5),n=i.charAt(0)==="*";if(n&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new ze(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:n}}lw.hasOwnProperty(e[0])&&!Vt[this.mode][e[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+e[0]+'" used in math mode',t),e=lw[e[0]]+e.slice(1));var a=VL.exec(e);a&&(e=e.substring(0,a.index),e==="i"?e="ı":e==="j"&&(e="ȷ"));var s;if(Vt[this.mode][e]){this.settings.strict&&this.mode==="math"&&s1.indexOf(e)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+e[0]+'" used in math mode',t);var o=Vt[this.mode][e].group,l=Bi.range(t),u;if(Fz.hasOwnProperty(o)){var f=o;u={type:"atom",mode:this.mode,family:f,loc:l,text:e}}else u={type:o,mode:this.mode,loc:l,text:e};s=u}else if(e.charCodeAt(0)>=128)this.settings.strict&&(ZS(e.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+e[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+e[0]+'"'+(" ("+e.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:Bi.range(t),text:e};else return null;if(this.consume(),a)for(var h=0;h<a[0].length;h++){var c=a[0][h];if(!_0[c])throw new ze("Unknown accent ' "+c+"'",t);var m=_0[c][this.mode]||_0[c].text;if(!m)throw new ze("Accent "+c+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:Bi.range(t),label:m,isStretchy:!1,isShifty:!0,base:s}}return s}}bp.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var oy=function(t,e){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new bp(t,e);delete i.gullet.macros.current["\\df@tag"];var n=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!e.displayMode)throw new ze("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:i.subparse([new an("\\df@tag")])}]}return n},W8=function(t,e,i){e.textContent="";var n=ly(t,i).toNode();e.appendChild(n)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),W8=function(){throw new ze("KaTeX doesn't work in quirks mode.")});var JL=function(t,e){var i=ly(t,e).toMarkup();return i},QL=function(t,e){var i=new Ub(e);return oy(t,i)},V8=function(t,e,i){if(i.throwOnError||!(t instanceof ze))throw t;var n=xe.makeSpan(["katex-error"],[new ln(e)]);return n.setAttribute("title",t.toString()),n.setAttribute("style","color:"+i.errorColor),n},ly=function(t,e){var i=new Ub(e);try{var n=oy(t,i);return oL(n,t,i)}catch(a){return V8(a,t,i)}},ZL=function(t,e){var i=new Ub(e);try{var n=oy(t,i);return lL(n,t,i)}catch(a){return V8(a,t,i)}},uw={version:"0.16.10",render:W8,renderToString:JL,ParseError:ze,SETTINGS_SCHEMA:Zh,__parse:QL,__renderToDomTree:ly,__renderToHTMLTree:ZL,__setFontMetrics:Cz,__defineSymbol:T,__defineFunction:Ve,__defineMacro:J,__domTree:{Span:tc,Anchor:Vb,SymbolNode:ln,SvgNode:xa,PathNode:qs,LineNode:a1}};const ej={"\\st":"\\text{s.t.}","\\R":"\\mathbb{R}","\\Z":"\\mathbb{Z}","\\T":"^\\intercal","\\inv":"^{-1}","\\mat":"\\mathbf{#1}","\\A":"\\mat{A}","\\B":"\\mat{B}","\\b":"\\mat{b}","\\c":"\\mat{c}","\\x":"\\mat{x}","\\y":"\\mat{y}","\\zeros":"\\mat{0}","\\ones":"\\mat{1}","\\identity":"\\mat{I}","\\P":"\\mathcal{P}","\\NP":"\\mathcal{NP}","\\floor":"\\lfloor #1 \\rfloor","\\ceil":"\\lceil #1 \\rceil","\\bpi":"\\mathbb{\\pi}","\\Q":"\\mathbf{Q}","\\indicator":"\\boldsymbol{1}","\\prob":"P\\left( #1 \\right)","\\E":"E\\left( #1 \\right)","\\Var":"\\text{Var}!\\left( #1 \\right)"};function tj(r){let t,e;return{c(){t=pe("span"),e=E(r[5]),this.h()},l(i){t=de(i,"SPAN",{class:!0});var n=De(t);e=k(n,r[5]),n.forEach(y),this.h()},h(){ce(t,"class","notRendered svelte-a0fvc5")},m(i,n){_(i,t,n),le(t,e)},p(i,n){n&32&&Ca(e,i[5])},d(i){i&&y(t)}}}function rj(r){let t,e=uw.renderToString(r[5],r[0])+"",i;return{c(){t=new Yn(!1),i=ht(),this.h()},l(n){t=Jn(n,!1),i=ht(),this.h()},h(){t.a=i},m(n,a){t.m(e,n,a),_(n,i,a)},p(n,a){a&33&&e!==(e=uw.renderToString(n[5],n[0])+"")&&t.p(e)},d(n){n&&(y(i),t.d())}}}function ij(r){let t,e,i,n,a,s,o,l;const u=r[16].default,f=qt(u,r,r[15],null);function h(v,d){return v[7]||v[9]||v[3]?rj:tj}let c=h(r),m=c(r);return{c(){t=pe("link"),e=Se(),i=pe("span"),f&&f.c(),n=Se(),a=pe("span"),m.c(),this.h()},l(v){const d=iC("svelte-1fmc3zn",document.head);t=de(d,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),d.forEach(y),e=Ee(v),i=de(v,"SPAN",{style:!0});var b=De(i);f&&f.l(b),b.forEach(y),n=Ee(v),a=de(v,"SPAN",{style:!0,role:!0,tabindex:!0});var g=De(a);m.l(g),g.forEach(y),this.h()},h(){ce(t,"rel","stylesheet"),ce(t,"href","https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"),ce(t,"integrity","sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"),ce(t,"crossorigin","anonymous"),tt(i,"display","none"),ce(a,"style",r[8]),ce(a,"role","button"),ce(a,"tabindex","0")},m(v,d){le(document.head,t),_(v,e,d),_(v,i,d),f&&f.m(i,null),r[17](i),_(v,n,d),_(v,a,d),m.m(a,null),r[18](a),s=!0,o||(l=[xt(a,"mouseover",function(){Jc(r[1])&&r[1].apply(this,arguments)}),xt(a,"mouseout",function(){Jc(r[2])&&r[2].apply(this,arguments)}),xt(a,"focus",function(){Jc(r[1])&&r[1].apply(this,arguments)}),xt(a,"blur",function(){Jc(r[2])&&r[2].apply(this,arguments)})],o=!0)},p(v,[d]){r=v,f&&f.p&&(!s||d&32768)&&Ut(f,u,r,r[15],s?Wt(u,r[15],d,null):Ht(r[15]),null),c===(c=h(r))&&m?m.p(r,d):(m.d(1),m=c(r),m&&(m.c(),m.m(a,null))),(!s||d&256)&&ce(a,"style",r[8])},i(v){s||(R(f,v),s=!0)},o(v){M(f,v),s=!1},d(v){v&&(y(e),y(i),y(n),y(a)),y(t),f&&f.d(v),r[17](null),m.d(),r[18](null),o=!1,An(l)}}}function nj(r,t,e){let i,n,a,s,o;St(r,Mo,S=>e(20,a=S)),St(r,kF,S=>e(14,s=S)),St(r,nn,S=>e(9,o=S));let{$$slots:l={},$$scope:u}=t,{options:f}=t,{fontSize:h}=t,{refId:c=""}=t,{extraStyle:m=""}=t,{math:v=void 0}=t,{mouseOverFunction:d=void 0}=t,{mouseOutFunction:b=void 0}=t,{alwaysRender:g=!1}=t,$,w;f={...f,macros:ej};let x,A;eC(()=>{A=(x||{offsetTop:0}).offsetTop,A>0&&Math.abs(A-a.scrollY)<=2*a.innerHeight&&e(7,n=!0)});function I(S){xi[S?"unshift":"push"](()=>{$=S,e(4,$)})}function D(S){xi[S?"unshift":"push"](()=>{x=S,e(6,x)})}return r.$$set=S=>{"options"in S&&e(0,f=S.options),"fontSize"in S&&e(10,h=S.fontSize),"refId"in S&&e(11,c=S.refId),"extraStyle"in S&&e(12,m=S.extraStyle),"math"in S&&e(13,v=S.math),"mouseOverFunction"in S&&e(1,d=S.mouseOverFunction),"mouseOutFunction"in S&&e(2,b=S.mouseOutFunction),"alwaysRender"in S&&e(3,g=S.alwaysRender),"$$scope"in S&&e(15,u=S.$$scope)},r.$$.update=()=>{r.$$.dirty&5120&&e(8,i=`font-size:${h}em;`+m),r.$$.dirty&8240&&(e(5,w=v||`${$==null?void 0:$.innerText}`),e(5,w=w.replaceAll("{:underscore:}","_"))),r.$$.dirty&18432&&s.includes(c)&&e(7,n=!0)},e(7,n=!1),[f,d,b,g,$,w,x,n,i,o,h,c,m,v,s,u,l,I,D]}class G8 extends $t{constructor(t){super(),_t(this,t,nj,ij,yt,{options:0,fontSize:10,refId:11,extraStyle:12,math:13,mouseOverFunction:1,mouseOutFunction:2,alwaysRender:3})}}function aj(r){let t;const e=r[7].default,i=qt(e,r,r[9],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&512)&&Ut(i,e,n,n[9],t?Wt(e,n[9],a,null):Ht(n[9]),null)},i(n){t||(R(i,n),t=!0)},o(n){M(i,n),t=!1},d(n){i&&i.d(n)}}}function sj(r){let t,e,i,n;return i=new G8({props:{options:r[6],fontSize:r[1],extraStyle:r[2],mouseOverFunction:r[3],mouseOutFunction:r[4],alwaysRender:r[0],$$slots:{default:[aj]},$$scope:{ctx:r}}}),{c(){t=pe("span"),e=Se(),F(i.$$.fragment)},l(a){t=de(a,"SPAN",{}),De(t).forEach(y),e=Ee(a),z(i.$$.fragment,a)},m(a,s){_(a,t,s),r[8](t),_(a,e,s),L(i,a,s),n=!0},p(a,[s]){const o={};s&2&&(o.fontSize=a[1]),s&4&&(o.extraStyle=a[2]),s&8&&(o.mouseOverFunction=a[3]),s&16&&(o.mouseOutFunction=a[4]),s&1&&(o.alwaysRender=a[0]),s&512&&(o.$$scope={dirty:s,ctx:a}),i.$set(o)},i(a){n||(R(i.$$.fragment,a),n=!0)},o(a){M(i.$$.fragment,a),n=!1},d(a){a&&(y(t),y(e)),r[8](null),j(i,a)}}}function oj(r,t,e){let{$$slots:i={},$$scope:n}=t,{fontSize:a=.9}=t,{extraStyle:s=""}=t,{mouseOverFunction:o=void 0}=t,{mouseOutFunction:l=void 0}=t,{alwaysRender:u=!1}=t;const f={displayMode:!1,throwOnError:!1};let h;function c(m){xi[m?"unshift":"push"](()=>{h=m,e(5,h)})}return r.$$set=m=>{"fontSize"in m&&e(1,a=m.fontSize),"extraStyle"in m&&e(2,s=m.extraStyle),"mouseOverFunction"in m&&e(3,o=m.mouseOverFunction),"mouseOutFunction"in m&&e(4,l=m.mouseOutFunction),"alwaysRender"in m&&e(0,u=m.alwaysRender),"$$scope"in m&&e(9,n=m.$$scope)},r.$$.update=()=>{if(r.$$.dirty&32&&h){const m=h.parentElement||{classList:[]};e(0,u=![...m.classList].includes("bodyText"))}},[u,a,s,o,l,h,f,i,c,n]}let $e=class extends $t{constructor(t){super(),_t(this,t,oj,sj,yt,{fontSize:1,extraStyle:2,mouseOverFunction:3,mouseOutFunction:4,alwaysRender:0})}};/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function yp(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var X8={exports:{}},fh=function(r){return r&&r.Math===Math&&r},Kt=fh(typeof globalThis=="object"&&globalThis)||fh(typeof window=="object"&&window)||fh(typeof self=="object"&&self)||fh(typeof w0=="object"&&w0)||function(){return this}()||w0||Function("return this")(),Ct=function(r){try{return!!r()}catch{return!0}},lj=Ct,ic=!lj(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),uj=ic,K8=Function.prototype,fw=K8.apply,cw=K8.call,bu=typeof Reflect=="object"&&Reflect.apply||(uj?cw.bind(fw):function(){return cw.apply(fw,arguments)}),Y8=ic,J8=Function.prototype,h1=J8.call,fj=Y8&&J8.bind.bind(h1,h1),Gt=Y8?fj:function(r){return function(){return h1.apply(r,arguments)}},Q8=Gt,cj=Q8({}.toString),hj=Q8("".slice),Ks=function(r){return hj(cj(r),8,-1)},mj=Ks,pj=Gt,Z8=function(r){if(mj(r)==="Function")return pj(r)},m1=typeof document=="object"&&document.all,dj=typeof m1>"u"&&m1!==void 0,eE={all:m1,IS_HTMLDDA:dj},tE=eE,vj=tE.all,sr=tE.IS_HTMLDDA?function(r){return typeof r=="function"||r===vj}:function(r){return typeof r=="function"},Xo={},gj=Ct,Cr=!gj(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),bj=ic,ch=Function.prototype.call,Pr=bj?ch.bind(ch):function(){return ch.apply(ch,arguments)},$p={},rE={}.propertyIsEnumerable,iE=Object.getOwnPropertyDescriptor,yj=iE&&!rE.call({1:2},1);$p.f=yj?function(t){var e=iE(this,t);return!!e&&e.enumerable}:rE;var Ko=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}},$j=Gt,_j=Ct,wj=Ks,x0=Object,xj=$j("".split),_p=_j(function(){return!x0("z").propertyIsEnumerable(0)})?function(r){return wj(r)==="String"?xj(r,""):x0(r)}:x0,yu=function(r){return r==null},Sj=yu,Ej=TypeError,uy=function(r){if(Sj(r))throw new Ej("Can't call method on "+r);return r},kj=_p,Tj=uy,ta=function(r){return kj(Tj(r))},hw=sr,nE=eE,Oj=nE.all,Vr=nE.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:hw(r)||r===Oj}:function(r){return typeof r=="object"?r!==null:hw(r)},Yt={},S0=Yt,E0=Kt,Aj=sr,mw=function(r){return Aj(r)?r:void 0},fi=function(r,t){return arguments.length<2?mw(S0[r])||mw(E0[r]):S0[r]&&S0[r][t]||E0[r]&&E0[r][t]},Ij=Gt,wr=Ij({}.isPrototypeOf),Ys=typeof navigator<"u"&&String(navigator.userAgent)||"",aE=Kt,k0=Ys,pw=aE.process,dw=aE.Deno,vw=pw&&pw.versions||dw&&dw.version,gw=vw&&vw.v8,yn,Cm;gw&&(yn=gw.split("."),Cm=yn[0]>0&&yn[0]<4?1:+(yn[0]+yn[1]));!Cm&&k0&&(yn=k0.match(/Edge\/(\d+)/),(!yn||yn[1]>=74)&&(yn=k0.match(/Chrome\/(\d+)/),yn&&(Cm=+yn[1])));var $u=Cm,bw=$u,Cj=Ct,Pj=Kt,Dj=Pj.String,_u=!!Object.getOwnPropertySymbols&&!Cj(function(){var r=Symbol("symbol detection");return!Dj(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&bw&&bw<41}),Nj=_u,sE=Nj&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Rj=fi,Mj=sr,Bj=wr,Fj=sE,zj=Object,nc=Fj?function(r){return typeof r=="symbol"}:function(r){var t=Rj("Symbol");return Mj(t)&&Bj(t.prototype,zj(r))},Lj=String,wu=function(r){try{return Lj(r)}catch{return"Object"}},jj=sr,qj=wu,Uj=TypeError,Oi=function(r){if(jj(r))return r;throw new Uj(qj(r)+" is not a function")},Hj=Oi,Wj=yu,fy=function(r,t){var e=r[t];return Wj(e)?void 0:Hj(e)},T0=Pr,O0=sr,A0=Vr,Vj=TypeError,Gj=function(r,t){var e,i;if(t==="string"&&O0(e=r.toString)&&!A0(i=T0(e,r))||O0(e=r.valueOf)&&!A0(i=T0(e,r))||t!=="string"&&O0(e=r.toString)&&!A0(i=T0(e,r)))return i;throw new Vj("Can't convert object to primitive value")},oE={exports:{}},Xj=!0,yw=Kt,Kj=Object.defineProperty,Yj=function(r,t){try{Kj(yw,r,{value:t,configurable:!0,writable:!0})}catch{yw[r]=t}return t},Jj=Kt,Qj=Yj,$w="__core-js_shared__",Zj=Jj[$w]||Qj($w,{}),cy=Zj,_w=cy;(oE.exports=function(r,t){return _w[r]||(_w[r]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var xu=oE.exports,eq=uy,tq=Object,Ai=function(r){return tq(eq(r))},rq=Gt,iq=Ai,nq=rq({}.hasOwnProperty),xr=Object.hasOwn||function(t,e){return nq(iq(t),e)},aq=Gt,sq=0,oq=Math.random(),lq=aq(1 .toString),wp=function(r){return"Symbol("+(r===void 0?"":r)+")_"+lq(++sq+oq,36)},uq=Kt,fq=xu,ww=xr,cq=wp,hq=_u,mq=sE,Dl=uq.Symbol,I0=fq("wks"),pq=mq?Dl.for||Dl:Dl&&Dl.withoutSetter||cq,er=function(r){return ww(I0,r)||(I0[r]=hq&&ww(Dl,r)?Dl[r]:pq("Symbol."+r)),I0[r]},dq=Pr,xw=Vr,Sw=nc,vq=fy,gq=Gj,bq=er,yq=TypeError,$q=bq("toPrimitive"),_q=function(r,t){if(!xw(r)||Sw(r))return r;var e=vq(r,$q),i;if(e){if(t===void 0&&(t="default"),i=dq(e,r,t),!xw(i)||Sw(i))return i;throw new yq("Can't convert object to primitive value")}return t===void 0&&(t="number"),gq(r,t)},wq=_q,xq=nc,xp=function(r){var t=wq(r,"string");return xq(t)?t:t+""},Sq=Kt,Ew=Vr,p1=Sq.document,Eq=Ew(p1)&&Ew(p1.createElement),hy=function(r){return Eq?p1.createElement(r):{}},kq=Cr,Tq=Ct,Oq=hy,lE=!kq&&!Tq(function(){return Object.defineProperty(Oq("div"),"a",{get:function(){return 7}}).a!==7}),Aq=Cr,Iq=Pr,Cq=$p,Pq=Ko,Dq=ta,Nq=xp,Rq=xr,Mq=lE,kw=Object.getOwnPropertyDescriptor;Xo.f=Aq?kw:function(t,e){if(t=Dq(t),e=Nq(e),Mq)try{return kw(t,e)}catch{}if(Rq(t,e))return Pq(!Iq(Cq.f,t,e),t[e])};var Bq=Ct,Fq=sr,zq=/#|\.prototype\./,ac=function(r,t){var e=jq[Lq(r)];return e===Uq?!0:e===qq?!1:Fq(t)?Bq(t):!!t},Lq=ac.normalize=function(r){return String(r).replace(zq,".").toLowerCase()},jq=ac.data={},qq=ac.NATIVE="N",Uq=ac.POLYFILL="P",uE=ac,Tw=Z8,Hq=Oi,Wq=ic,Vq=Tw(Tw.bind),Js=function(r,t){return Hq(r),t===void 0?r:Wq?Vq(r,t):function(){return r.apply(t,arguments)}},Ii={},Gq=Cr,Xq=Ct,fE=Gq&&Xq(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Kq=Vr,Yq=String,Jq=TypeError,qi=function(r){if(Kq(r))return r;throw new Jq(Yq(r)+" is not an object")},Qq=Cr,Zq=lE,eU=fE,hh=qi,Ow=xp,tU=TypeError,C0=Object.defineProperty,rU=Object.getOwnPropertyDescriptor,P0="enumerable",D0="configurable",N0="writable";Ii.f=Qq?eU?function(t,e,i){if(hh(t),e=Ow(e),hh(i),typeof t=="function"&&e==="prototype"&&"value"in i&&N0 in i&&!i[N0]){var n=rU(t,e);n&&n[N0]&&(t[e]=i.value,i={configurable:D0 in i?i[D0]:n[D0],enumerable:P0 in i?i[P0]:n[P0],writable:!1})}return C0(t,e,i)}:C0:function(t,e,i){if(hh(t),e=Ow(e),hh(i),Zq)try{return C0(t,e,i)}catch{}if("get"in i||"set"in i)throw new tU("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var iU=Cr,nU=Ii,aU=Ko,Da=iU?function(r,t,e){return nU.f(r,t,aU(1,e))}:function(r,t,e){return r[t]=e,r},mh=Kt,sU=bu,oU=Z8,lU=sr,uU=Xo.f,fU=uE,gl=Yt,cU=Js,bl=Da,Aw=xr,hU=function(r){var t=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,i)}return new r(e,i,n)}return sU(r,this,arguments)};return t.prototype=r.prototype,t},nt=function(r,t){var e=r.target,i=r.global,n=r.stat,a=r.proto,s=i?mh:n?mh[e]:(mh[e]||{}).prototype,o=i?gl:gl[e]||bl(gl,e,{})[e],l=o.prototype,u,f,h,c,m,v,d,b,g;for(c in t)u=fU(i?c:e+(n?".":"#")+c,r.forced),f=!u&&s&&Aw(s,c),v=o[c],f&&(r.dontCallGetSet?(g=uU(s,c),d=g&&g.value):d=s[c]),m=f&&d?d:t[c],!(f&&typeof v==typeof m)&&(r.bind&&f?b=cU(m,mh):r.wrap&&f?b=hU(m):a&&lU(m)?b=oU(m):b=m,(r.sham||m&&m.sham||v&&v.sham)&&bl(b,"sham",!0),bl(o,c,b),a&&(h=e+"Prototype",Aw(gl,h)||bl(gl,h,{}),bl(gl[h],c,m),r.real&&l&&(u||!l[c])&&bl(l,c,m)))},mU=nt,pU=Cr,Iw=Ii.f;mU({target:"Object",stat:!0,forced:Object.defineProperty!==Iw,sham:!pU},{defineProperty:Iw});var dU=Yt,cE=dU.Object,vU=X8.exports=function(t,e,i){return cE.defineProperty(t,e,i)};cE.defineProperty.sham&&(vU.sham=!0);var gU=X8.exports,bU=gU,hE=bU,yU=hE,$U=yU,_U=$U,wU=_U,mE=wU,Sp=lt(mE),xU=Ks,Qs=Array.isArray||function(t){return xU(t)==="Array"},SU=Math.ceil,EU=Math.floor,kU=Math.trunc||function(t){var e=+t;return(e>0?EU:SU)(e)},TU=kU,Ep=function(r){var t=+r;return t!==t||t===0?0:TU(t)},OU=Ep,AU=Math.min,IU=function(r){return r>0?AU(OU(r),9007199254740991):0},CU=IU,Ui=function(r){return CU(r.length)},PU=TypeError,DU=9007199254740991,kp=function(r){if(r>DU)throw PU("Maximum allowed index exceeded");return r},NU=xp,RU=Ii,MU=Ko,Su=function(r,t,e){var i=NU(t);i in r?RU.f(r,i,MU(0,e)):r[i]=e},BU=er,FU=BU("toStringTag"),pE={};pE[FU]="z";var my=String(pE)==="[object z]",zU=my,LU=sr,tm=Ks,jU=er,qU=jU("toStringTag"),UU=Object,HU=tm(function(){return arguments}())==="Arguments",WU=function(r,t){try{return r[t]}catch{}},Na=zU?tm:function(r){var t,e,i;return r===void 0?"Undefined":r===null?"Null":typeof(e=WU(t=UU(r),qU))=="string"?e:HU?tm(t):(i=tm(t))==="Object"&&LU(t.callee)?"Arguments":i},VU=Gt,GU=sr,d1=cy,XU=VU(Function.toString);GU(d1.inspectSource)||(d1.inspectSource=function(r){return XU(r)});var dE=d1.inspectSource,KU=Gt,YU=Ct,vE=sr,JU=Na,QU=fi,ZU=dE,gE=function(){},eH=[],bE=QU("Reflect","construct"),py=/^\s*(?:class|function)\b/,tH=KU(py.exec),rH=!py.test(gE),Yu=function(t){if(!vE(t))return!1;try{return bE(gE,eH,t),!0}catch{return!1}},yE=function(t){if(!vE(t))return!1;switch(JU(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rH||!!tH(py,ZU(t))}catch{return!0}};yE.sham=!0;var Tp=!bE||YU(function(){var r;return Yu(Yu.call)||!Yu(Object)||!Yu(function(){r=!0})||r})?yE:Yu,Cw=Qs,iH=Tp,nH=Vr,aH=er,sH=aH("species"),Pw=Array,oH=function(r){var t;return Cw(r)&&(t=r.constructor,iH(t)&&(t===Pw||Cw(t.prototype))?t=void 0:nH(t)&&(t=t[sH],t===null&&(t=void 0))),t===void 0?Pw:t},lH=oH,Op=function(r,t){return new(lH(r))(t===0?0:t)},uH=Ct,fH=er,cH=$u,hH=fH("species"),sc=function(r){return cH>=51||!uH(function(){var t=[],e=t.constructor={};return e[hH]=function(){return{foo:1}},t[r](Boolean).foo!==1})},mH=nt,pH=Ct,dH=Qs,vH=Vr,gH=Ai,bH=Ui,Dw=kp,Nw=Su,yH=Op,$H=sc,_H=er,wH=$u,$E=_H("isConcatSpreadable"),xH=wH>=51||!pH(function(){var r=[];return r[$E]=!1,r.concat()[0]!==r}),SH=function(r){if(!vH(r))return!1;var t=r[$E];return t!==void 0?!!t:dH(r)},EH=!xH||!$H("concat");mH({target:"Array",proto:!0,arity:1,forced:EH},{concat:function(t){var e=gH(this),i=yH(e,0),n=0,a,s,o,l,u;for(a=-1,o=arguments.length;a<o;a++)if(u=a===-1?e:arguments[a],SH(u))for(l=bH(u),Dw(n+l),s=0;s<l;s++,n++)s in u&&Nw(i,n,u[s]);else Dw(n+1),Nw(i,n++,u);return i.length=n,i}});var kH=Na,TH=String,Yo=function(r){if(kH(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return TH(r)},Ap={},OH=Ep,AH=Math.max,IH=Math.min,Ip=function(r,t){var e=OH(r);return e<0?AH(e+t,0):IH(e,t)},CH=ta,PH=Ip,DH=Ui,Rw=function(r){return function(t,e,i){var n=CH(t),a=DH(n),s=PH(i,a),o;if(r&&e!==e){for(;a>s;)if(o=n[s++],o!==o)return!0}else for(;a>s;s++)if((r||s in n)&&n[s]===e)return r||s||0;return!r&&-1}},NH={includes:Rw(!0),indexOf:Rw(!1)},oc={},RH=Gt,R0=xr,MH=ta,BH=NH.indexOf,FH=oc,Mw=RH([].push),_E=function(r,t){var e=MH(r),i=0,n=[],a;for(a in e)!R0(FH,a)&&R0(e,a)&&Mw(n,a);for(;t.length>i;)R0(e,a=t[i++])&&(~BH(n,a)||Mw(n,a));return n},dy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zH=_E,LH=dy,Cp=Object.keys||function(t){return zH(t,LH)},jH=Cr,qH=fE,UH=Ii,HH=qi,WH=ta,VH=Cp;Ap.f=jH&&!qH?Object.defineProperties:function(t,e){HH(t);for(var i=WH(e),n=VH(e),a=n.length,s=0,o;a>s;)UH.f(t,o=n[s++],i[o]);return t};var GH=fi,wE=GH("document","documentElement"),XH=xu,KH=wp,Bw=XH("keys"),Pp=function(r){return Bw[r]||(Bw[r]=KH(r))},YH=qi,JH=Ap,Fw=dy,QH=oc,ZH=wE,eW=hy,tW=Pp,zw=">",Lw="<",v1="prototype",g1="script",xE=tW("IE_PROTO"),M0=function(){},SE=function(r){return Lw+g1+zw+r+Lw+"/"+g1+zw},jw=function(r){r.write(SE("")),r.close();var t=r.parentWindow.Object;return r=null,t},rW=function(){var r=eW("iframe"),t="java"+g1+":",e;return r.style.display="none",ZH.appendChild(r),r.src=String(t),e=r.contentWindow.document,e.open(),e.write(SE("document.F=Object")),e.close(),e.F},ph,rm=function(){try{ph=new ActiveXObject("htmlfile")}catch{}rm=typeof document<"u"?document.domain&&ph?jw(ph):rW():jw(ph);for(var r=Fw.length;r--;)delete rm[v1][Fw[r]];return rm()};QH[xE]=!0;var Jo=Object.create||function(t,e){var i;return t!==null?(M0[v1]=YH(t),i=new M0,M0[v1]=null,i[xE]=t):i=rm(),e===void 0?i:JH.f(i,e)},lc={},iW=_E,nW=dy,aW=nW.concat("length","prototype");lc.f=Object.getOwnPropertyNames||function(t){return iW(t,aW)};var vy={},qw=Ip,sW=Ui,oW=Su,lW=Array,uW=Math.max,EE=function(r,t,e){for(var i=sW(r),n=qw(t,i),a=qw(e===void 0?i:e,i),s=lW(uW(a-n,0)),o=0;n<a;n++,o++)oW(s,o,r[n]);return s.length=o,s},fW=Ks,cW=ta,kE=lc.f,hW=EE,TE=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],mW=function(r){try{return kE(r)}catch{return hW(TE)}};vy.f=function(t){return TE&&fW(t)==="Window"?mW(t):kE(cW(t))};var uc={};uc.f=Object.getOwnPropertySymbols;var pW=Da,Eu=function(r,t,e,i){return i&&i.enumerable?r[t]=e:pW(r,t,e),r},dW=Ii,gy=function(r,t,e){return dW.f(r,t,e)},fc={},vW=er;fc.f=vW;var Uw=Yt,gW=xr,bW=fc,yW=Ii.f,or=function(r){var t=Uw.Symbol||(Uw.Symbol={});gW(t,r)||yW(t,r,{value:bW.f(r)})},$W=Pr,_W=fi,wW=er,xW=Eu,OE=function(){var r=_W("Symbol"),t=r&&r.prototype,e=t&&t.valueOf,i=wW("toPrimitive");t&&!t[i]&&xW(t,i,function(n){return $W(e,this)},{arity:1})},SW=my,EW=Na,kW=SW?{}.toString:function(){return"[object "+EW(this)+"]"},TW=my,OW=Ii.f,AW=Da,IW=xr,CW=kW,PW=er,Hw=PW("toStringTag"),Qo=function(r,t,e,i){if(r){var n=e?r:r.prototype;IW(n,Hw)||OW(n,Hw,{configurable:!0,value:t}),i&&!TW&&AW(n,"toString",CW)}},DW=Kt,NW=sr,Ww=DW.WeakMap,RW=NW(Ww)&&/native code/.test(String(Ww)),MW=RW,AE=Kt,BW=Vr,FW=Da,B0=xr,F0=cy,zW=Pp,LW=oc,Vw="Object already initialized",b1=AE.TypeError,jW=AE.WeakMap,Pm,Nf,Dm,qW=function(r){return Dm(r)?Nf(r):Pm(r,{})},UW=function(r){return function(t){var e;if(!BW(t)||(e=Nf(t)).type!==r)throw new b1("Incompatible receiver, "+r+" required");return e}};if(MW||F0.state){var Nn=F0.state||(F0.state=new jW);Nn.get=Nn.get,Nn.has=Nn.has,Nn.set=Nn.set,Pm=function(r,t){if(Nn.has(r))throw new b1(Vw);return t.facade=r,Nn.set(r,t),t},Nf=function(r){return Nn.get(r)||{}},Dm=function(r){return Nn.has(r)}}else{var yl=zW("state");LW[yl]=!0,Pm=function(r,t){if(B0(r,yl))throw new b1(Vw);return t.facade=r,FW(r,yl,t),t},Nf=function(r){return B0(r,yl)?r[yl]:{}},Dm=function(r){return B0(r,yl)}}var ku={set:Pm,get:Nf,has:Dm,enforce:qW,getterFor:UW},HW=Js,WW=Gt,VW=_p,GW=Ai,XW=Ui,KW=Op,Gw=WW([].push),ys=function(r){var t=r===1,e=r===2,i=r===3,n=r===4,a=r===6,s=r===7,o=r===5||a;return function(l,u,f,h){for(var c=GW(l),m=VW(c),v=HW(u,f),d=XW(m),b=0,g=h||KW,$=t?g(l,d):e||s?g(l,0):void 0,w,x;d>b;b++)if((o||b in m)&&(w=m[b],x=v(w,b,c),r))if(t)$[b]=x;else if(x)switch(r){case 3:return!0;case 5:return w;case 6:return b;case 2:Gw($,w)}else switch(r){case 4:return!1;case 7:Gw($,w)}return a?-1:i||n?n:$}},Tu={forEach:ys(0),map:ys(1),filter:ys(2),some:ys(3),every:ys(4),find:ys(5),findIndex:ys(6),filterReject:ys(7)},Dp=nt,cc=Kt,by=Pr,YW=Gt,ru=Cr,iu=_u,JW=Ct,Ar=xr,QW=wr,y1=qi,Np=ta,yy=xp,ZW=Yo,$1=Ko,Rf=Jo,IE=Cp,eV=lc,CE=vy,tV=uc,PE=Xo,DE=Ii,rV=Ap,NE=$p,Xw=Eu,iV=gy,$y=xu,nV=Pp,RE=oc,Kw=wp,aV=er,sV=fc,oV=or,lV=OE,uV=Qo,ME=ku,Rp=Tu.forEach,yi=nV("hidden"),Mp="Symbol",Mf="prototype",fV=ME.set,Yw=ME.getterFor(Mp),xn=Object[Mf],yo=cc.Symbol,af=yo&&yo[Mf],cV=cc.RangeError,hV=cc.TypeError,z0=cc.QObject,BE=PE.f,$o=DE.f,FE=CE.f,mV=NE.f,zE=YW([].push),ka=$y("symbols"),hc=$y("op-symbols"),pV=$y("wks"),_1=!z0||!z0[Mf]||!z0[Mf].findChild,LE=function(r,t,e){var i=BE(xn,t);i&&delete xn[t],$o(r,t,e),i&&r!==xn&&$o(xn,t,i)},w1=ru&&JW(function(){return Rf($o({},"a",{get:function(){return $o(this,"a",{value:7}).a}})).a!==7})?LE:$o,L0=function(r,t){var e=ka[r]=Rf(af);return fV(e,{type:Mp,tag:r,description:t}),ru||(e.description=t),e},Bp=function(t,e,i){t===xn&&Bp(hc,e,i),y1(t);var n=yy(e);return y1(i),Ar(ka,n)?(i.enumerable?(Ar(t,yi)&&t[yi][n]&&(t[yi][n]=!1),i=Rf(i,{enumerable:$1(0,!1)})):(Ar(t,yi)||$o(t,yi,$1(1,{})),t[yi][n]=!0),w1(t,n,i)):$o(t,n,i)},_y=function(t,e){y1(t);var i=Np(e),n=IE(i).concat(HE(i));return Rp(n,function(a){(!ru||by(jE,i,a))&&Bp(t,a,i[a])}),t},dV=function(t,e){return e===void 0?Rf(t):_y(Rf(t),e)},jE=function(t){var e=yy(t),i=by(mV,this,e);return this===xn&&Ar(ka,e)&&!Ar(hc,e)?!1:i||!Ar(this,e)||!Ar(ka,e)||Ar(this,yi)&&this[yi][e]?i:!0},qE=function(t,e){var i=Np(t),n=yy(e);if(!(i===xn&&Ar(ka,n)&&!Ar(hc,n))){var a=BE(i,n);return a&&Ar(ka,n)&&!(Ar(i,yi)&&i[yi][n])&&(a.enumerable=!0),a}},UE=function(t){var e=FE(Np(t)),i=[];return Rp(e,function(n){!Ar(ka,n)&&!Ar(RE,n)&&zE(i,n)}),i},HE=function(r){var t=r===xn,e=FE(t?hc:Np(r)),i=[];return Rp(e,function(n){Ar(ka,n)&&(!t||Ar(xn,n))&&zE(i,ka[n])}),i};iu||(yo=function(){if(QW(af,this))throw new hV("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:ZW(arguments[0]),e=Kw(t),i=function(n){var a=this===void 0?cc:this;a===xn&&by(i,hc,n),Ar(a,yi)&&Ar(a[yi],e)&&(a[yi][e]=!1);var s=$1(1,n);try{w1(a,e,s)}catch(o){if(!(o instanceof cV))throw o;LE(a,e,s)}};return ru&&_1&&w1(xn,e,{configurable:!0,set:i}),L0(e,t)},af=yo[Mf],Xw(af,"toString",function(){return Yw(this).tag}),Xw(yo,"withoutSetter",function(r){return L0(Kw(r),r)}),NE.f=jE,DE.f=Bp,rV.f=_y,PE.f=qE,eV.f=CE.f=UE,tV.f=HE,sV.f=function(r){return L0(aV(r),r)},ru&&iV(af,"description",{configurable:!0,get:function(){return Yw(this).description}}));Dp({global:!0,constructor:!0,wrap:!0,forced:!iu,sham:!iu},{Symbol:yo});Rp(IE(pV),function(r){oV(r)});Dp({target:Mp,stat:!0,forced:!iu},{useSetter:function(){_1=!0},useSimple:function(){_1=!1}});Dp({target:"Object",stat:!0,forced:!iu,sham:!ru},{create:dV,defineProperty:Bp,defineProperties:_y,getOwnPropertyDescriptor:qE});Dp({target:"Object",stat:!0,forced:!iu},{getOwnPropertyNames:UE});lV();uV(yo,Mp);RE[yi]=!0;var vV=_u,WE=vV&&!!Symbol.for&&!!Symbol.keyFor,gV=nt,bV=fi,yV=xr,$V=Yo,VE=xu,_V=WE,j0=VE("string-to-symbol-registry"),wV=VE("symbol-to-string-registry");gV({target:"Symbol",stat:!0,forced:!_V},{for:function(r){var t=$V(r);if(yV(j0,t))return j0[t];var e=bV("Symbol")(t);return j0[t]=e,wV[e]=t,e}});var xV=nt,SV=xr,EV=nc,kV=wu,TV=xu,OV=WE,Jw=TV("symbol-to-string-registry");xV({target:"Symbol",stat:!0,forced:!OV},{keyFor:function(t){if(!EV(t))throw new TypeError(kV(t)+" is not a symbol");if(SV(Jw,t))return Jw[t]}});var AV=Gt,mc=AV([].slice),IV=Gt,Qw=Qs,CV=sr,Zw=Ks,PV=Yo,e4=IV([].push),DV=function(r){if(CV(r))return r;if(Qw(r)){for(var t=r.length,e=[],i=0;i<t;i++){var n=r[i];typeof n=="string"?e4(e,n):(typeof n=="number"||Zw(n)==="Number"||Zw(n)==="String")&&e4(e,PV(n))}var a=e.length,s=!0;return function(o,l){if(s)return s=!1,l;if(Qw(this))return l;for(var u=0;u<a;u++)if(e[u]===o)return l}}},NV=nt,GE=fi,XE=bu,RV=Pr,pc=Gt,KE=Ct,t4=sr,r4=nc,YE=mc,MV=DV,BV=_u,FV=String,Ds=GE("JSON","stringify"),dh=pc(/./.exec),i4=pc("".charAt),zV=pc("".charCodeAt),LV=pc("".replace),jV=pc(1 .toString),qV=/[\uD800-\uDFFF]/g,n4=/^[\uD800-\uDBFF]$/,a4=/^[\uDC00-\uDFFF]$/,s4=!BV||KE(function(){var r=GE("Symbol")("stringify detection");return Ds([r])!=="[null]"||Ds({a:r})!=="{}"||Ds(Object(r))!=="{}"}),o4=KE(function(){return Ds("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ds("\uDEAD")!=='"\\udead"'}),UV=function(r,t){var e=YE(arguments),i=MV(t);if(!(!t4(i)&&(r===void 0||r4(r))))return e[1]=function(n,a){if(t4(i)&&(a=RV(i,this,FV(n),a)),!r4(a))return a},XE(Ds,null,e)},HV=function(r,t,e){var i=i4(e,t-1),n=i4(e,t+1);return dh(n4,r)&&!dh(a4,n)||dh(a4,r)&&!dh(n4,i)?"\\u"+jV(zV(r,0),16):r};Ds&&NV({target:"JSON",stat:!0,arity:3,forced:s4||o4},{stringify:function(t,e,i){var n=YE(arguments),a=XE(s4?UV:Ds,null,n);return o4&&typeof a=="string"?LV(a,qV,HV):a}});var WV=nt,VV=_u,GV=Ct,JE=uc,XV=Ai,KV=!VV||GV(function(){JE.f(1)});WV({target:"Object",stat:!0,forced:KV},{getOwnPropertySymbols:function(t){var e=JE.f;return e?e(XV(t)):[]}});var YV=or;YV("asyncIterator");var JV=or;JV("hasInstance");var QV=or;QV("isConcatSpreadable");var ZV=or;ZV("iterator");var eG=or;eG("match");var tG=or;tG("matchAll");var rG=or;rG("replace");var iG=or;iG("search");var nG=or;nG("species");var aG=or;aG("split");var sG=or,oG=OE;sG("toPrimitive");oG();var lG=fi,uG=or,fG=Qo;uG("toStringTag");fG(lG("Symbol"),"Symbol");var cG=or;cG("unscopables");var hG=Kt,mG=Qo;mG(hG.JSON,"JSON",!0);var pG=Yt,dG=pG.Symbol,Ou={},x1=Cr,vG=xr,QE=Function.prototype,gG=x1&&Object.getOwnPropertyDescriptor,wy=vG(QE,"name"),bG=wy&&(function(){}).name==="something",yG=wy&&(!x1||x1&&gG(QE,"name").configurable),$G={EXISTS:wy,PROPER:bG,CONFIGURABLE:yG},_G=Ct,ZE=!_G(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),wG=xr,xG=sr,SG=Ai,EG=Pp,kG=ZE,l4=EG("IE_PROTO"),S1=Object,TG=S1.prototype,Fp=kG?S1.getPrototypeOf:function(r){var t=SG(r);if(wG(t,l4))return t[l4];var e=t.constructor;return xG(e)&&t instanceof e?e.prototype:t instanceof S1?TG:null},OG=Ct,AG=sr,IG=Vr,CG=Jo,u4=Fp,PG=Eu,DG=er,E1=DG("iterator"),ek=!1,ma,q0,U0;[].keys&&(U0=[].keys(),"next"in U0?(q0=u4(u4(U0)),q0!==Object.prototype&&(ma=q0)):ek=!0);var NG=!IG(ma)||OG(function(){var r={};return ma[E1].call(r)!==r});NG?ma={}:ma=CG(ma);AG(ma[E1])||PG(ma,E1,function(){return this});var tk={IteratorPrototype:ma,BUGGY_SAFARI_ITERATORS:ek},RG=tk.IteratorPrototype,MG=Jo,BG=Ko,FG=Qo,zG=Ou,LG=function(){return this},jG=function(r,t,e,i){var n=t+" Iterator";return r.prototype=MG(RG,{next:BG(+!i,e)}),FG(r,n,!1,!0),zG[n]=LG,r},qG=Gt,UG=Oi,HG=function(r,t,e){try{return qG(UG(Object.getOwnPropertyDescriptor(r,t)[e]))}catch{}},WG=sr,VG=String,GG=TypeError,XG=function(r){if(typeof r=="object"||WG(r))return r;throw new GG("Can't set "+VG(r)+" as a prototype")},KG=HG,YG=qi,JG=XG,rk=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,t={},e;try{e=KG(Object.prototype,"__proto__","set"),e(t,[]),r=t instanceof Array}catch{}return function(n,a){return YG(n),JG(a),r?e(n,a):n.__proto__=a,n}}():void 0),QG=nt,ZG=Pr,eX=$G,tX=jG,rX=Fp,iX=Qo,f4=Eu,nX=er,c4=Ou,aX=tk,sX=eX.PROPER,vh=aX.BUGGY_SAFARI_ITERATORS,H0=nX("iterator"),h4="keys",gh="values",m4="entries",oX=function(){return this},xy=function(r,t,e,i,n,a,s){tX(e,t,i);var o=function(g){if(g===n&&c)return c;if(!vh&&g&&g in f)return f[g];switch(g){case h4:return function(){return new e(this,g)};case gh:return function(){return new e(this,g)};case m4:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,f=r.prototype,h=f[H0]||f["@@iterator"]||n&&f[n],c=!vh&&h||o(n),m=t==="Array"&&f.entries||h,v,d,b;if(m&&(v=rX(m.call(new r)),v!==Object.prototype&&v.next&&(iX(v,l,!0,!0),c4[l]=oX)),sX&&n===gh&&h&&h.name!==gh&&(u=!0,c=function(){return ZG(h,this)}),n)if(d={values:o(gh),keys:a?c:o(h4),entries:o(m4)},s)for(b in d)(vh||u||!(b in f))&&f4(f,b,d[b]);else QG({target:t,proto:!0,forced:vh||u},d);return s&&f[H0]!==c&&f4(f,H0,c,{name:n}),c4[t]=c,d},Sy=function(r,t){return{value:r,done:t}},lX=ta,p4=Ou,ik=ku;Ii.f;var uX=xy,bh=Sy,nk="Array Iterator",fX=ik.set,cX=ik.getterFor(nk);uX(Array,"Array",function(r,t){fX(this,{type:nk,target:lX(r),index:0,kind:t})},function(){var r=cX(this),t=r.target,e=r.index++;if(!t||e>=t.length)return r.target=void 0,bh(void 0,!0);switch(r.kind){case"keys":return bh(e,!1);case"values":return bh(t[e],!1)}return bh([e,t[e]],!1)},"values");p4.Arguments=p4.Array;var hX={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},mX=hX,pX=Kt,dX=Na,vX=Da,d4=Ou,gX=er,v4=gX("toStringTag");for(var W0 in mX){var g4=pX[W0],V0=g4&&g4.prototype;V0&&dX(V0)!==v4&&vX(V0,v4,W0),d4[W0]=d4.Array}var bX=dG,ak=bX,yX=er,$X=Ii.f,b4=yX("metadata"),y4=Function.prototype;y4[b4]===void 0&&$X(y4,b4,{value:null});var _X=or;_X("asyncDispose");var wX=or;wX("dispose");var xX=or;xX("metadata");var SX=ak,EX=SX,kX=fi,TX=Gt,Ey=kX("Symbol"),OX=Ey.keyFor,AX=TX(Ey.prototype.valueOf),sk=Ey.isRegisteredSymbol||function(t){try{return OX(AX(t))!==void 0}catch{return!1}},IX=nt,CX=sk;IX({target:"Symbol",stat:!0},{isRegisteredSymbol:CX});var PX=xu,ok=fi,DX=Gt,NX=nc,RX=er,Nm=ok("Symbol"),$4=Nm.isWellKnownSymbol,lk=ok("Object","getOwnPropertyNames"),MX=DX(Nm.prototype.valueOf),_4=PX("wks");for(var G0=0,w4=lk(Nm),BX=w4.length;G0<BX;G0++)try{var x4=w4[G0];NX(Nm[x4])&&RX(x4)}catch{}var uk=function(t){if($4&&$4(t))return!0;try{for(var e=MX(t),i=0,n=lk(_4),a=n.length;i<a;i++)if(_4[n[i]]==e)return!0}catch{}return!1},FX=nt,zX=uk;FX({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:zX});var LX=or;LX("matcher");var jX=or;jX("observable");var qX=nt,UX=sk;qX({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:UX});var HX=nt,WX=uk;HX({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:WX});var VX=or;VX("metadataKey");var GX=or;GX("patternMatch");var XX=or;XX("replaceAll");var KX=EX,YX=KX,ky=YX,Nl=lt(ky),Ty=Gt,JX=Ep,QX=Yo,ZX=uy,eK=Ty("".charAt),S4=Ty("".charCodeAt),tK=Ty("".slice),E4=function(r){return function(t,e){var i=QX(ZX(t)),n=JX(e),a=i.length,s,o;return n<0||n>=a?r?"":void 0:(s=S4(i,n),s<55296||s>56319||n+1===a||(o=S4(i,n+1))<56320||o>57343?r?eK(i,n):s:r?tK(i,n,n+2):(s-55296<<10)+(o-56320)+65536)}},rK={codeAt:E4(!1),charAt:E4(!0)},iK=rK.charAt,nK=Yo,fk=ku,aK=xy,k4=Sy,ck="String Iterator",sK=fk.set,oK=fk.getterFor(ck);aK(String,"String",function(r){sK(this,{type:ck,string:nK(r),index:0})},function(){var t=oK(this),e=t.string,i=t.index,n;return i>=e.length?k4(void 0,!0):(n=iK(e,i),t.index+=n.length,k4(n,!1))});var lK=fc,uK=lK.f("iterator"),fK=uK,hk=fK,cK=hk,hK=cK,mK=hK,pK=mK,mk=pK,dK=lt(mk);function nu(r){"@babel/helpers - typeof";return nu=typeof Nl=="function"&&typeof dK=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Nl=="function"&&t.constructor===Nl&&t!==Nl.prototype?"symbol":typeof t},nu(r)}var vK=fc,gK=vK.f("toPrimitive"),bK=gK,yK=bK,$K=yK,_K=$K,wK=_K,xK=wK,SK=xK,EK=lt(SK);function kK(r,t){if(nu(r)!=="object"||r===null)return r;var e=r[EK];if(e!==void 0){var i=e.call(r,t||"default");if(nu(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function pk(r){var t=kK(r,"string");return nu(t)==="symbol"?t:String(t)}function T4(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Sp(r,pk(i.key),i)}}function zp(r,t,e){return t&&T4(r.prototype,t),e&&T4(r,e),Sp(r,"prototype",{writable:!1}),r}function Ns(r,t,e){return t=pk(t),t in r?Sp(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var dk=Gt,TK=Oi,OK=Vr,AK=xr,O4=mc,IK=ic,vk=Function,CK=dk([].concat),PK=dk([].join),X0={},DK=function(r,t,e){if(!AK(X0,t)){for(var i=[],n=0;n<t;n++)i[n]="a["+n+"]";X0[t]=vk("C,a","return new C("+PK(i,",")+")")}return X0[t](r,e)},gk=IK?vk.bind:function(t){var e=TK(this),i=e.prototype,n=O4(arguments,1),a=function(){var o=CK(n,O4(arguments));return this instanceof a?DK(e,o.length,o):e.apply(t,o)};return OK(i)&&(a.prototype=i),a},NK=nt,A4=gk;NK({target:"Function",proto:!0,forced:Function.bind!==A4},{bind:A4});var RK=Kt,MK=Yt,Jr=function(r,t){var e=MK[r+"Prototype"],i=e&&e[t];if(i)return i;var n=RK[r],a=n&&n.prototype;return a&&a[t]},BK=Jr,FK=BK("Function","bind"),zK=wr,LK=FK,K0=Function.prototype,jK=function(r){var t=r.bind;return r===K0||zK(K0,r)&&t===K0.bind?LK:t},qK=jK,bk=qK,UK=bk,yk=lt(UK),HK=Oi,WK=Ai,VK=_p,GK=Ui,XK=TypeError,I4=function(r){return function(t,e,i,n){HK(e);var a=WK(t),s=VK(a),o=GK(a),l=r?o-1:0,u=r?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=u;break}if(l+=u,r?l<0:o<=l)throw new XK("Reduce of empty array with no initial value")}for(;r?l>=0:o>l;l+=u)l in s&&(n=e(n,s[l],l,a));return n}},KK={left:I4(!1),right:I4(!0)},YK=Ct,Lp=function(r,t){var e=[][r];return!!e&&YK(function(){e.call(null,t||function(){return 1},1)})},JK=Kt,QK=Ks,dc=QK(JK.process)==="process",ZK=nt,eY=KK.left,tY=Lp,C4=$u,rY=dc,iY=!rY&&C4>79&&C4<83,nY=iY||!tY("reduce");ZK({target:"Array",proto:!0,forced:nY},{reduce:function(t){var e=arguments.length;return eY(this,t,e,e>1?arguments[1]:void 0)}});var aY=Jr,sY=aY("Array","reduce"),oY=wr,lY=sY,Y0=Array.prototype,uY=function(r){var t=r.reduce;return r===Y0||oY(Y0,r)&&t===Y0.reduce?lY:t},fY=uY,cY=fY,hY=cY,mY=lt(hY),pY=nt,dY=Tu.filter,vY=sc,gY=vY("filter");pY({target:"Array",proto:!0,forced:!gY},{filter:function(t){return dY(this,t,arguments.length>1?arguments[1]:void 0)}});var bY=Jr,yY=bY("Array","filter"),$Y=wr,_Y=yY,J0=Array.prototype,wY=function(r){var t=r.filter;return r===J0||$Y(J0,r)&&t===J0.filter?_Y:t},xY=wY,SY=xY,EY=SY,Rl=lt(EY),kY=nt,TY=Tu.map,OY=sc,AY=OY("map");kY({target:"Array",proto:!0,forced:!AY},{map:function(t){return TY(this,t,arguments.length>1?arguments[1]:void 0)}});var IY=Jr,CY=IY("Array","map"),PY=wr,DY=CY,Q0=Array.prototype,NY=function(r){var t=r.map;return r===Q0||PY(Q0,r)&&t===Q0.map?DY:t},RY=NY,MY=RY,BY=MY,$n=lt(BY),FY=Qs,zY=Ui,LY=kp,jY=Js,$k=function(r,t,e,i,n,a,s,o){for(var l=n,u=0,f=s?jY(s,o):!1,h,c;u<i;)u in e&&(h=f?f(e[u],u,t):e[u],a>0&&FY(h)?(c=zY(h),l=$k(r,t,h,c,l,a-1)-1):(LY(l+1),r[l]=h),l++),u++;return l},qY=$k,UY=nt,HY=qY,WY=Oi,VY=Ai,GY=Ui,XY=Op;UY({target:"Array",proto:!0},{flatMap:function(t){var e=VY(this),i=GY(e),n;return WY(t),n=XY(e,0),n.length=HY(n,e,e,i,0,1,t,arguments.length>1?arguments[1]:void 0),n}});var KY=Jr;KY("Array","flatMap");var YY=Pr,P4=qi,JY=fy,_k=function(r,t,e){var i,n;P4(r);try{if(i=JY(r,"return"),!i){if(t==="throw")throw e;return e}i=YY(i,r)}catch(a){n=!0,i=a}if(t==="throw")throw e;if(n)throw i;return P4(i),e},QY=qi,ZY=_k,eJ=function(r,t,e,i){try{return i?t(QY(e)[0],e[1]):t(e)}catch(n){ZY(r,"throw",n)}},tJ=er,rJ=Ou,iJ=tJ("iterator"),nJ=Array.prototype,wk=function(r){return r!==void 0&&(rJ.Array===r||nJ[iJ]===r)},aJ=Na,D4=fy,sJ=yu,oJ=Ou,lJ=er,uJ=lJ("iterator"),jp=function(r){if(!sJ(r))return D4(r,uJ)||D4(r,"@@iterator")||oJ[aJ(r)]},fJ=Pr,cJ=Oi,hJ=qi,mJ=wu,pJ=jp,dJ=TypeError,Oy=function(r,t){var e=arguments.length<2?pJ(r):t;if(cJ(e))return hJ(fJ(e,r));throw new dJ(mJ(r)+" is not iterable")},vJ=Js,gJ=Pr,bJ=Ai,yJ=eJ,$J=wk,_J=Tp,wJ=Ui,N4=Su,xJ=Oy,SJ=jp,R4=Array,EJ=function(t){var e=bJ(t),i=_J(this),n=arguments.length,a=n>1?arguments[1]:void 0,s=a!==void 0;s&&(a=vJ(a,n>2?arguments[2]:void 0));var o=SJ(e),l=0,u,f,h,c,m,v;if(o&&!(this===R4&&$J(o)))for(c=xJ(e,o),m=c.next,f=i?new this:[];!(h=gJ(m,c)).done;l++)v=s?yJ(c,a,[h.value,l],!0):h.value,N4(f,l,v);else for(u=wJ(e),f=i?new this(u):R4(u);u>l;l++)v=s?a(e[l],l):e[l],N4(f,l,v);return f.length=l,f},kJ=er,xk=kJ("iterator"),Sk=!1;try{var TJ=0,M4={next:function(){return{done:!!TJ++}},return:function(){Sk=!0}};M4[xk]=function(){return this},Array.from(M4,function(){throw 2})}catch{}var Ek=function(r,t){try{if(!t&&!Sk)return!1}catch{return!1}var e=!1;try{var i={};i[xk]=function(){return{next:function(){return{done:e=!0}}}},r(i)}catch{}return e},OJ=nt,AJ=EJ,IJ=Ek,CJ=!IJ(function(r){Array.from(r)});OJ({target:"Array",stat:!0,forced:CJ},{from:AJ});var PJ=Yt,DJ=PJ.Array.from,NJ=DJ,kk=NJ,RJ=kk,Ay=lt(RJ),MJ=jp,BJ=MJ,FJ=BJ,zJ=FJ,LJ=zJ,jJ=LJ,qJ=jJ,UJ=qJ,Tk=UJ,Ok=lt(Tk),HJ=Tk,Iy=lt(HJ),WJ=nt,VJ=Qs;WJ({target:"Array",stat:!0},{isArray:VJ});var GJ=Yt,XJ=GJ.Array.isArray,KJ=XJ,Ak=KJ,YJ=Ak,JJ=YJ,QJ=JJ,ZJ=QJ,eQ=ZJ,Ik=lt(eQ);function tQ(r){if(Ik(r))return r}var rQ=Cr,iQ=Qs,nQ=TypeError,aQ=Object.getOwnPropertyDescriptor,sQ=rQ&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}(),Ck=sQ?function(r,t){if(iQ(r)&&!aQ(r,"length").writable)throw new nQ("Cannot set read only .length");return r.length=t}:function(r,t){return r.length=t},oQ=nt,lQ=Ai,uQ=Ui,fQ=Ck,cQ=kp,hQ=Ct,mQ=hQ(function(){return[].push.call({length:4294967296},1)!==4294967297}),pQ=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}},dQ=mQ||!pQ();oQ({target:"Array",proto:!0,arity:1,forced:dQ},{push:function(t){var e=lQ(this),i=uQ(e),n=arguments.length;cQ(i+n);for(var a=0;a<n;a++)e[i]=arguments[a],i++;return fQ(e,i),i}});var vQ=Jr,gQ=vQ("Array","push"),bQ=wr,yQ=gQ,Z0=Array.prototype,$Q=function(r){var t=r.push;return r===Z0||bQ(Z0,r)&&t===Z0.push?yQ:t},_Q=$Q,wQ=_Q,xQ=wQ,SQ=xQ,EQ=SQ,kQ=EQ,Pk=kQ,TQ=lt(Pk);function OQ(r,t){var e=r==null?null:typeof Nl<"u"&&Ok(r)||r["@@iterator"];if(e!=null){var i,n,a,s,o=[],l=!0,u=!1;try{if(a=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=a.call(e)).done)&&(TQ(o).call(o,i.value),o.length!==t);l=!0);}catch(f){u=!0,n=f}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw n}}return o}}var AQ=nt,B4=Qs,IQ=Tp,CQ=Vr,F4=Ip,PQ=Ui,DQ=ta,NQ=Su,RQ=er,MQ=sc,BQ=mc,FQ=MQ("slice"),zQ=RQ("species"),ev=Array,LQ=Math.max;AQ({target:"Array",proto:!0,forced:!FQ},{slice:function(t,e){var i=DQ(this),n=PQ(i),a=F4(t,n),s=F4(e===void 0?n:e,n),o,l,u;if(B4(i)&&(o=i.constructor,IQ(o)&&(o===ev||B4(o.prototype))?o=void 0:CQ(o)&&(o=o[zQ],o===null&&(o=void 0)),o===ev||o===void 0))return BQ(i,a,s);for(l=new(o===void 0?ev:o)(LQ(s-a,0)),u=0;a<s;a++,u++)a in i&&NQ(l,u,i[a]);return l.length=u,l}});var jQ=Jr,qQ=jQ("Array","slice"),UQ=wr,HQ=qQ,tv=Array.prototype,WQ=function(r){var t=r.slice;return r===tv||UQ(tv,r)&&t===tv.slice?HQ:t},VQ=WQ,Dk=VQ,GQ=Dk,XQ=GQ,KQ=XQ,YQ=KQ,Nk=YQ,JQ=lt(Nk),QQ=kk,ZQ=QQ,eZ=ZQ,tZ=eZ,rZ=tZ,Rk=lt(rZ);function k1(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function Mk(r,t){var e;if(r){if(typeof r=="string")return k1(r,t);var i=JQ(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Rk(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return k1(r,t)}}function iZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pi(r,t){return tQ(r)||OQ(r,t)||Mk(r,t)||iZ()}function nZ(r){if(Ik(r))return k1(r)}function aZ(r){if(typeof Nl<"u"&&Ok(r)!=null||r["@@iterator"]!=null)return Rk(r)}function sZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $i(r){return nZ(r)||aZ(r)||Mk(r)||sZ()}var oZ=ak,qp=lt(oZ),lZ=Jr,uZ=lZ("Array","concat"),fZ=wr,cZ=uZ,rv=Array.prototype,hZ=function(r){var t=r.concat;return r===rv||fZ(rv,r)&&t===rv.concat?cZ:t},mZ=hZ,pZ=mZ,dZ=pZ,Up=lt(dZ),vZ=Dk,Hp=lt(vZ),gZ=fi,bZ=Gt,yZ=lc,$Z=uc,_Z=qi,wZ=bZ([].concat),Cy=gZ("Reflect","ownKeys")||function(t){var e=yZ.f(_Z(t)),i=$Z.f;return i?wZ(e,i(t)):e},xZ=nt,SZ=Cy;xZ({target:"Reflect",stat:!0},{ownKeys:SZ});var EZ=Yt,kZ=EZ.Reflect.ownKeys,TZ=kZ,OZ=TZ,AZ=OZ,IZ=lt(AZ),CZ=Ak,Fi=lt(CZ),PZ=nt,DZ=Ai,Bk=Cp,NZ=Ct,RZ=NZ(function(){Bk(1)});PZ({target:"Object",stat:!0,forced:RZ},{keys:function(t){return Bk(DZ(t))}});var MZ=Yt,BZ=MZ.Object.keys,FZ=BZ,zZ=FZ,LZ=zZ,Py=lt(LZ),jZ=Tu.forEach,qZ=Lp,UZ=qZ("forEach"),HZ=UZ?[].forEach:function(t){return jZ(this,t,arguments.length>1?arguments[1]:void 0)},WZ=nt,z4=HZ;WZ({target:"Array",proto:!0,forced:[].forEach!==z4},{forEach:z4});var VZ=Jr,GZ=VZ("Array","forEach"),XZ=GZ,KZ=XZ,YZ=Na,JZ=xr,QZ=wr,ZZ=KZ,iv=Array.prototype,eee={DOMTokenList:!0,NodeList:!0},Fk=function(r){var t=r.forEach;return r===iv||QZ(iv,r)&&t===iv.forEach||JZ(eee,YZ(r))?ZZ:t},tee=Fk,Bo=lt(tee),ree=nt,iee=Gt,nee=Qs,aee=iee([].reverse),L4=[1,2];ree({target:"Array",proto:!0,forced:String(L4)===String(L4.reverse())},{reverse:function(){return nee(this)&&(this.length=this.length),aee(this)}});var see=Jr,oee=see("Array","reverse"),lee=wr,uee=oee,nv=Array.prototype,fee=function(r){var t=r.reverse;return r===nv||lee(nv,r)&&t===nv.reverse?uee:t},cee=fee,zk=cee,hee=zk,mee=lt(hee),j4=wu,pee=TypeError,Lk=function(r,t){if(!delete r[t])throw new pee("Cannot delete property "+j4(t)+" of "+j4(r))},dee=nt,vee=Ai,gee=Ip,bee=Ep,yee=Ui,$ee=Ck,_ee=kp,wee=Op,xee=Su,av=Lk,See=sc,Eee=See("splice"),kee=Math.max,Tee=Math.min;dee({target:"Array",proto:!0,forced:!Eee},{splice:function(t,e){var i=vee(this),n=yee(i),a=gee(t,n),s=arguments.length,o,l,u,f,h,c;for(s===0?o=l=0:s===1?(o=0,l=n-a):(o=s-2,l=Tee(kee(bee(e),0),n-a)),_ee(n+o-l),u=wee(i,l),f=0;f<l;f++)h=a+f,h in i&&xee(u,f,i[h]);if(u.length=l,o<l){for(f=a;f<n-l;f++)h=f+l,c=f+o,h in i?i[c]=i[h]:av(i,c);for(f=n;f>n-l+o;f--)av(i,f-1)}else if(o>l)for(f=n-l;f>a;f--)h=f+l-1,c=f+o-1,h in i?i[c]=i[h]:av(i,c);for(f=0;f<o;f++)i[f+a]=arguments[f+2];return $ee(i,n-l+o),u}});var Oee=Jr,Aee=Oee("Array","splice"),Iee=wr,Cee=Aee,sv=Array.prototype,Pee=function(r){var t=r.splice;return r===sv||Iee(sv,r)&&t===sv.splice?Cee:t},Dee=Pee,Nee=Dee,Ree=Nee,jk=lt(Ree),q4=Cr,Mee=Gt,Bee=Pr,Fee=Ct,ov=Cp,zee=uc,Lee=$p,jee=Ai,qee=_p,$l=Object.assign,U4=Object.defineProperty,Uee=Mee([].concat),Hee=!$l||Fee(function(){if(q4&&$l({b:1},$l(U4({},"a",{enumerable:!0,get:function(){U4(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},t={},e=Symbol("assign detection"),i="abcdefghijklmnopqrst";return r[e]=7,i.split("").forEach(function(n){t[n]=n}),$l({},r)[e]!==7||ov($l({},t)).join("")!==i})?function(t,e){for(var i=jee(t),n=arguments.length,a=1,s=zee.f,o=Lee.f;n>a;)for(var l=qee(arguments[a++]),u=s?Uee(ov(l),s(l)):ov(l),f=u.length,h=0,c;f>h;)c=u[h++],(!q4||Bee(o,l,c))&&(i[c]=l[c]);return i}:$l,Wee=nt,H4=Hee;Wee({target:"Object",stat:!0,arity:2,forced:Object.assign!==H4},{assign:H4});var Vee=Yt,Gee=Vee.Object.assign,Xee=Gee,Kee=Xee,Yee=Kee,Jee=lt(Yee),Qee=nt,Zee=Ct,ete=Ai,qk=Fp,tte=ZE,rte=Zee(function(){qk(1)});Qee({target:"Object",stat:!0,forced:rte,sham:!tte},{getPrototypeOf:function(t){return qk(ete(t))}});var ite=Yt,nte=ite.Object.getPrototypeOf,ate=nte,ste=ate,ote=nt,lte=Cr,ute=Jo;ote({target:"Object",stat:!0,sham:!lte},{create:ute});var fte=Yt,cte=fte.Object,hte=function(t,e){return cte.create(t,e)},mte=hte,Uk=mte,pte=Uk,dte=lt(pte),T1=Yt,vte=bu;T1.JSON||(T1.JSON={stringify:JSON.stringify});var gte=function(t,e,i){return vte(T1.JSON.stringify,null,arguments)},bte=gte,yte=bte,$te=yte,_te=lt($te),wte=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",xte=TypeError,Hk=function(r,t){if(r<t)throw new xte("Not enough arguments");return r},Wk=Kt,Ste=bu,Ete=sr,kte=wte,Tte=Ys,Ote=mc,Ate=Hk,Ite=Wk.Function,Cte=/MSIE .\./.test(Tte)||kte&&function(){var r=Wk.Bun.version.split(".");return r.length<3||r[0]==="0"&&(r[1]<3||r[1]==="3"&&r[2]==="0")}(),Vk=function(r,t){var e=t?2:1;return Cte?function(i,n){var a=Ate(arguments.length,1)>e,s=Ete(i)?i:Ite(i),o=a?Ote(arguments,e):[],l=a?function(){Ste(s,this,o)}:s;return t?r(l,n):r(l)}:r},Pte=nt,Gk=Kt,Dte=Vk,W4=Dte(Gk.setInterval,!0);Pte({global:!0,bind:!0,forced:Gk.setInterval!==W4},{setInterval:W4});var Nte=nt,Xk=Kt,Rte=Vk,V4=Rte(Xk.setTimeout,!0);Nte({global:!0,bind:!0,forced:Xk.setTimeout!==V4},{setTimeout:V4});var Mte=Yt,Bte=Mte.setTimeout,Fte=Bte,zte=lt(Fte),Kk={exports:{}};(function(r){function t(i){if(i)return e(i);this._callbacks=new Map}function e(i){return Object.assign(i,t.prototype),i._callbacks=new Map,i}t.prototype.on=function(i,n){const a=this._callbacks.get(i)??[];return a.push(n),this._callbacks.set(i,a),this},t.prototype.once=function(i,n){const a=(...s)=>{this.off(i,a),n.apply(this,s)};return a.fn=n,this.on(i,a),this},t.prototype.off=function(i,n){if(i===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(i),this;const a=this._callbacks.get(i);if(a){for(const[s,o]of a.entries())if(o===n||o.fn===n){a.splice(s,1);break}a.length===0?this._callbacks.delete(i):this._callbacks.set(i,a)}return this},t.prototype.emit=function(i,...n){const a=this._callbacks.get(i);if(a){const s=[...a];for(const o of s)o.apply(this,n)}return this},t.prototype.listeners=function(i){return this._callbacks.get(i)??[]},t.prototype.listenerCount=function(i){if(i)return this.listeners(i).length;let n=0;for(const a of this._callbacks.values())n+=a.length;return n},t.prototype.hasListeners=function(i){return this.listenerCount(i)>0},t.prototype.addEventListener=t.prototype.on,t.prototype.removeListener=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,r.exports=t})(Kk);var Lte=Kk.exports,jte=lt(Lte);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Tn(){return Tn=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Tn.apply(this,arguments)}function cn(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function yh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var O1;typeof Object.assign!="function"?O1=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e}:O1=Object.assign;var Fo=O1,G4=["","webkit","Moz","MS","ms","o"],qte=typeof document>"u"?{style:{}}:document.createElement("div"),Ute="function",Ml=Math.round,zo=Math.abs,Dy=Date.now;function Wp(r,t){for(var e,i,n=t[0].toUpperCase()+t.slice(1),a=0;a<G4.length;){if(e=G4[a],i=e?e+n:t,i in r)return i;a++}}var pa;typeof window>"u"?pa={}:pa=window;var Yk=Wp(qte.style,"touchAction"),Jk=Yk!==void 0;function Hte(){if(!Jk)return!1;var r={},t=pa.CSS&&pa.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return r[e]=t?pa.CSS.supports("touch-action",e):!0}),r}var Qk="compute",Zk="auto",A1="manipulation",_o="none",Bf="pan-x",Ff="pan-y",$h=Hte(),Wte=/mobile|tablet|ip(ad|hone|od)|android/i,eT="ontouchstart"in pa,Vte=Wp(pa,"PointerEvent")!==void 0,Gte=eT&&Wte.test(navigator.userAgent),vc="touch",Xte="pen",Ny="mouse",Kte="kinect",Yte=25,oi=1,Zo=2,br=4,Si=8,Rm=1,gc=2,bc=4,yc=8,au=16,Vn=gc|bc,wo=yc|au,tT=Vn|wo,rT=["x","y"],Mm=["clientX","clientY"];function da(r,t,e){var i;if(r)if(r.forEach)r.forEach(t,e);else if(r.length!==void 0)for(i=0;i<r.length;)t.call(e,r[i],i,r),i++;else for(i in r)r.hasOwnProperty(i)&&t.call(e,r[i],i,r)}function Vp(r,t){return typeof r===Ute?r.apply(t&&t[0]||void 0,t):r}function po(r,t){return r.indexOf(t)>-1}function Jte(r){if(po(r,_o))return _o;var t=po(r,Bf),e=po(r,Ff);return t&&e?_o:t||e?t?Bf:Ff:po(r,A1)?A1:Zk}var iT=function(){function r(e,i){this.manager=e,this.set(i)}var t=r.prototype;return t.set=function(i){i===Qk&&(i=this.compute()),Jk&&this.manager.element.style&&$h[i]&&(this.manager.element.style[Yk]=i),this.actions=i.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var i=[];return da(this.manager.recognizers,function(n){Vp(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),Jte(i.join(" "))},t.preventDefaults=function(i){var n=i.srcEvent,a=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,o=po(s,_o)&&!$h[_o],l=po(s,Ff)&&!$h[Ff],u=po(s,Bf)&&!$h[Bf];if(o){var f=i.pointers.length===1,h=i.distance<2,c=i.deltaTime<250;if(f&&h&&c)return}if(!(u&&l)&&(o||l&&a&Vn||u&&a&wo))return this.preventSrc(n)},t.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},r}();function Ry(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}function nT(r){var t=r.length;if(t===1)return{x:Ml(r[0].clientX),y:Ml(r[0].clientY)};for(var e=0,i=0,n=0;n<t;)e+=r[n].clientX,i+=r[n].clientY,n++;return{x:Ml(e/t),y:Ml(i/t)}}function X4(r){for(var t=[],e=0;e<r.pointers.length;)t[e]={clientX:Ml(r.pointers[e].clientX),clientY:Ml(r.pointers[e].clientY)},e++;return{timeStamp:Dy(),pointers:t,center:nT(t),deltaX:r.deltaX,deltaY:r.deltaY}}function Bm(r,t,e){e||(e=rT);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.sqrt(i*i+n*n)}function I1(r,t,e){e||(e=rT);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.atan2(n,i)*180/Math.PI}function aT(r,t){return r===t?Rm:zo(r)>=zo(t)?r<0?gc:bc:t<0?yc:au}function Qte(r,t){var e=t.center,i=r.offsetDelta||{},n=r.prevDelta||{},a=r.prevInput||{};(t.eventType===oi||a.eventType===br)&&(n=r.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=r.offsetDelta={x:e.x,y:e.y}),t.deltaX=n.x+(e.x-i.x),t.deltaY=n.y+(e.y-i.y)}function sT(r,t,e){return{x:t/r||0,y:e/r||0}}function Zte(r,t){return Bm(t[0],t[1],Mm)/Bm(r[0],r[1],Mm)}function ere(r,t){return I1(t[1],t[0],Mm)+I1(r[1],r[0],Mm)}function tre(r,t){var e=r.lastInterval||t,i=t.timeStamp-e.timeStamp,n,a,s,o;if(t.eventType!==Si&&(i>Yte||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,f=sT(i,l,u);a=f.x,s=f.y,n=zo(f.x)>zo(f.y)?f.x:f.y,o=aT(l,u),r.lastInterval=t}else n=e.velocity,a=e.velocityX,s=e.velocityY,o=e.direction;t.velocity=n,t.velocityX=a,t.velocityY=s,t.direction=o}function rre(r,t){var e=r.session,i=t.pointers,n=i.length;e.firstInput||(e.firstInput=X4(t)),n>1&&!e.firstMultiple?e.firstMultiple=X4(t):n===1&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,o=s?s.center:a.center,l=t.center=nT(i);t.timeStamp=Dy(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=I1(o,l),t.distance=Bm(o,l),Qte(e,t),t.offsetDirection=aT(t.deltaX,t.deltaY);var u=sT(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=zo(u.x)>zo(u.y)?u.x:u.y,t.scale=s?Zte(s.pointers,i):1,t.rotation=s?ere(s.pointers,i):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,tre(e,t);var f=r.element,h=t.srcEvent,c;h.composedPath?c=h.composedPath()[0]:h.path?c=h.path[0]:c=h.target,Ry(c,f)&&(f=c),t.target=f}function ire(r,t,e){var i=e.pointers.length,n=e.changedPointers.length,a=t&oi&&i-n===0,s=t&(br|Si)&&i-n===0;e.isFirst=!!a,e.isFinal=!!s,a&&(r.session={}),e.eventType=t,rre(r,e),r.emit("hammer.input",e),r.recognize(e),r.session.prevInput=e}function zf(r){return r.trim().split(/\s+/g)}function cf(r,t,e){da(zf(t),function(i){r.addEventListener(i,e,!1)})}function hf(r,t,e){da(zf(t),function(i){r.removeEventListener(i,e,!1)})}function K4(r){var t=r.ownerDocument||r;return t.defaultView||t.parentWindow||window}var Au=function(){function r(e,i){var n=this;this.manager=e,this.callback=i,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){Vp(e.options.enable,[e])&&n.handler(a)},this.init()}var t=r.prototype;return t.handler=function(){},t.init=function(){this.evEl&&cf(this.element,this.evEl,this.domHandler),this.evTarget&&cf(this.target,this.evTarget,this.domHandler),this.evWin&&cf(K4(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&hf(this.element,this.evEl,this.domHandler),this.evTarget&&hf(this.target,this.evTarget,this.domHandler),this.evWin&&hf(K4(this.element),this.evWin,this.domHandler)},r}();function Lo(r,t,e){if(r.indexOf&&!e)return r.indexOf(t);for(var i=0;i<r.length;){if(e&&r[i][e]==t||!e&&r[i]===t)return i;i++}return-1}var nre={pointerdown:oi,pointermove:Zo,pointerup:br,pointercancel:Si,pointerout:Si},are={2:vc,3:Xte,4:Ny,5:Kte},oT="pointerdown",lT="pointermove pointerup pointercancel";pa.MSPointerEvent&&!pa.PointerEvent&&(oT="MSPointerDown",lT="MSPointerMove MSPointerUp MSPointerCancel");var uT=function(r){cn(t,r);function t(){var i,n=t.prototype;return n.evEl=oT,n.evWin=lT,i=r.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var e=t.prototype;return e.handler=function(n){var a=this.store,s=!1,o=n.type.toLowerCase().replace("ms",""),l=nre[o],u=are[n.pointerType]||n.pointerType,f=u===vc,h=Lo(a,n.pointerId,"pointerId");l&oi&&(n.button===0||f)?h<0&&(a.push(n),h=a.length-1):l&(br|Si)&&(s=!0),!(h<0)&&(a[h]=n,this.callback(this.manager,l,{pointers:a,changedPointers:[n],pointerType:u,srcEvent:n}),s&&a.splice(h,1))},t}(Au);function Lf(r){return Array.prototype.slice.call(r,0)}function My(r,t,e){for(var i=[],n=[],a=0;a<r.length;){var s=t?r[a][t]:r[a];Lo(n,s)<0&&i.push(r[a]),n[a]=s,a++}return e&&(t?i=i.sort(function(o,l){return o[t]>l[t]}):i=i.sort()),i}var sre={touchstart:oi,touchmove:Zo,touchend:br,touchcancel:Si},ore="touchstart touchmove touchend touchcancel",By=function(r){cn(t,r);function t(){var i;return t.prototype.evTarget=ore,i=r.apply(this,arguments)||this,i.targetIds={},i}var e=t.prototype;return e.handler=function(n){var a=sre[n.type],s=lre.call(this,n,a);s&&this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:vc,srcEvent:n})},t}(Au);function lre(r,t){var e=Lf(r.touches),i=this.targetIds;if(t&(oi|Zo)&&e.length===1)return i[e[0].identifier]=!0,[e,e];var n,a,s=Lf(r.changedTouches),o=[],l=this.target;if(a=e.filter(function(u){return Ry(u.target,l)}),t===oi)for(n=0;n<a.length;)i[a[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&o.push(s[n]),t&(br|Si)&&delete i[s[n].identifier],n++;if(o.length)return[My(a.concat(o),"identifier",!0),o]}var ure={mousedown:oi,mousemove:Zo,mouseup:br},fre="mousedown",cre="mousemove mouseup",Fy=function(r){cn(t,r);function t(){var i,n=t.prototype;return n.evEl=fre,n.evWin=cre,i=r.apply(this,arguments)||this,i.pressed=!1,i}var e=t.prototype;return e.handler=function(n){var a=ure[n.type];a&oi&&n.button===0&&(this.pressed=!0),a&Zo&&n.which!==1&&(a=br),this.pressed&&(a&br&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[n],changedPointers:[n],pointerType:Ny,srcEvent:n}))},t}(Au),hre=2500,Y4=25;function J4(r){var t=r.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);var a=function(){var o=n.indexOf(i);o>-1&&n.splice(o,1)};setTimeout(a,hre)}}function mre(r,t){r&oi?(this.primaryTouch=t.changedPointers[0].identifier,J4.call(this,t)):r&(br|Si)&&J4.call(this,t)}function pre(r){for(var t=r.srcEvent.clientX,e=r.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],a=Math.abs(t-n.x),s=Math.abs(e-n.y);if(a<=Y4&&s<=Y4)return!0}return!1}var fT=function(){var r=function(t){cn(e,t);function e(n,a){var s;return s=t.call(this,n,a)||this,s.handler=function(o,l,u){var f=u.pointerType===vc,h=u.pointerType===Ny;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(f)mre.call(yh(yh(s)),l,u);else if(h&&pre.call(yh(yh(s)),u))return;s.callback(o,l,u)}},s.touch=new By(s.manager,s.handler),s.mouse=new Fy(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=e.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Au);return r}();function dre(r){var t,e=r.options.inputClass;return e?t=e:Vte?t=uT:Gte?t=By:eT?t=fT:t=Fy,new t(r,ire)}function Bl(r,t,e){return Array.isArray(r)?(da(r,e[t],e),!0):!1}var im=1,sn=2,su=4,Rs=8,va=Rs,jf=16,qn=32,vre=1;function gre(){return vre++}function _h(r,t){var e=t.manager;return e?e.get(r):r}function Q4(r){return r&jf?"cancel":r&Rs?"end":r&su?"move":r&sn?"start":""}var $c=function(){function r(e){e===void 0&&(e={}),this.options=Tn({enable:!0},e),this.id=gre(),this.manager=null,this.state=im,this.simultaneous={},this.requireFail=[]}var t=r.prototype;return t.set=function(i){return Fo(this.options,i),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(i){if(Bl(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=_h(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},t.dropRecognizeWith=function(i){return Bl(i,"dropRecognizeWith",this)?this:(i=_h(i,this),delete this.simultaneous[i.id],this)},t.requireFailure=function(i){if(Bl(i,"requireFailure",this))return this;var n=this.requireFail;return i=_h(i,this),Lo(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},t.dropRequireFailure=function(i){if(Bl(i,"dropRequireFailure",this))return this;i=_h(i,this);var n=Lo(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},t.emit=function(i){var n=this,a=this.state;function s(o){n.manager.emit(o,i)}a<Rs&&s(n.options.event+Q4(a)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),a>=Rs&&s(n.options.event+Q4(a))},t.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=qn},t.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(qn|im)))return!1;i++}return!0},t.recognize=function(i){var n=Fo({},i);if(!Vp(this.options.enable,[this,n])){this.reset(),this.state=qn;return}this.state&(va|jf|qn)&&(this.state=im),this.state=this.process(n),this.state&(sn|su|Rs|jf)&&this.tryEmit(n)},t.process=function(i){},t.getTouchAction=function(){},t.reset=function(){},r}(),C1=function(r){cn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,Tn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var e=t.prototype;return e.getTouchAction=function(){return[A1]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime<s.time;if(this.reset(),n.eventType&oi&&this.count===0)return this.failTimeout();if(l&&u&&o){if(n.eventType!==br)return this.failTimeout();var f=this.pTime?n.timeStamp-this.pTime<s.interval:!0,h=!this.pCenter||Bm(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!h||!f?this.count=1:this.count+=1,this._input=n;var c=this.count%s.taps;if(c===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=va,a.tryEmit()},s.interval),sn):va}return qn},e.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=qn},this.options.interval),qn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===va&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}($c),ou=function(r){cn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,Tn({pointers:1},i))||this}var e=t.prototype;return e.attrTest=function(n){var a=this.options.pointers;return a===0||n.pointers.length===a},e.process=function(n){var a=this.state,s=n.eventType,o=a&(sn|su),l=this.attrTest(n);return o&&(s&Si||!l)?a|jf:o||l?s&br?a|Rs:a&sn?a|su:sn:qn},t}($c);function cT(r){return r===au?"down":r===yc?"up":r===gc?"left":r===bc?"right":""}var zy=function(r){cn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,Tn({event:"pan",threshold:10,pointers:1,direction:tT},i))||this,n.pX=null,n.pY=null,n}var e=t.prototype;return e.getTouchAction=function(){var n=this.options.direction,a=[];return n&Vn&&a.push(Ff),n&wo&&a.push(Bf),a},e.directionTest=function(n){var a=this.options,s=!0,o=n.distance,l=n.direction,u=n.deltaX,f=n.deltaY;return l&a.direction||(a.direction&Vn?(l=u===0?Rm:u<0?gc:bc,s=u!==this.pX,o=Math.abs(n.deltaX)):(l=f===0?Rm:f<0?yc:au,s=f!==this.pY,o=Math.abs(n.deltaY))),n.direction=l,s&&o>a.threshold&&l&a.direction},e.attrTest=function(n){return ou.prototype.attrTest.call(this,n)&&(this.state&sn||!(this.state&sn)&&this.directionTest(n))},e.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var a=cT(n.direction);a&&(n.additionalEvent=this.options.event+a),r.prototype.emit.call(this,n)},t}(ou),hT=function(r){cn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,Tn({event:"swipe",threshold:10,velocity:.3,direction:Vn|wo,pointers:1},i))||this}var e=t.prototype;return e.getTouchAction=function(){return zy.prototype.getTouchAction.call(this)},e.attrTest=function(n){var a=this.options.direction,s;return a&(Vn|wo)?s=n.overallVelocity:a&Vn?s=n.overallVelocityX:a&wo&&(s=n.overallVelocityY),r.prototype.attrTest.call(this,n)&&a&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&zo(s)>this.options.velocity&&n.eventType&br},e.emit=function(n){var a=cT(n.offsetDirection);a&&this.manager.emit(this.options.event+a,n),this.manager.emit(this.options.event,n)},t}(ou),mT=function(r){cn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,Tn({event:"pinch",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[_o]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&sn)},e.emit=function(n){if(n.scale!==1){var a=n.scale<1?"in":"out";n.additionalEvent=this.options.event+a}r.prototype.emit.call(this,n)},t}(ou),pT=function(r){cn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,Tn({event:"rotate",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[_o]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&sn)},t}(ou),dT=function(r){cn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,Tn({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var e=t.prototype;return e.getTouchAction=function(){return[Zk]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime>s.time;if(this._input=n,!l||!o||n.eventType&(br|Si)&&!u)this.reset();else if(n.eventType&oi)this.reset(),this._timer=setTimeout(function(){a.state=va,a.tryEmit()},s.time);else if(n.eventType&br)return va;return qn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(n){this.state===va&&(n&&n.eventType&br?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Dy(),this.manager.emit(this.options.event,this._input)))},t}($c),vT={domEvents:!1,touchAction:Qk,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Z4=[[pT,{enable:!1}],[mT,{enable:!1},["rotate"]],[hT,{direction:Vn}],[zy,{direction:Vn},["swipe"]],[C1],[C1,{event:"doubletap",taps:2},["tap"]],[dT]],bre=1,e3=2;function t3(r,t){var e=r.element;if(e.style){var i;da(r.options.cssProps,function(n,a){i=Wp(e.style,a),t?(r.oldCssProps[i]=e.style[i],e.style[i]=n):e.style[i]=r.oldCssProps[i]||""}),t||(r.oldCssProps={})}}function yre(r,t){var e=document.createEvent("Event");e.initEvent(r,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var r3=function(){function r(e,i){var n=this;this.options=Fo({},vT,i||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=dre(this),this.touchAction=new iT(this,this.options.touchAction),t3(this,!0),da(this.options.recognizers,function(a){var s=n.add(new a[0](a[1]));a[2]&&s.recognizeWith(a[2]),a[3]&&s.requireFailure(a[3])},this)}var t=r.prototype;return t.set=function(i){return Fo(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},t.stop=function(i){this.session.stopped=i?e3:bre},t.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var a,s=this.recognizers,o=n.curRecognizer;(!o||o&&o.state&va)&&(n.curRecognizer=null,o=null);for(var l=0;l<s.length;)a=s[l],n.stopped!==e3&&(!o||a===o||a.canRecognizeWith(o))?a.recognize(i):a.reset(),!o&&a.state&(sn|su|Rs)&&(n.curRecognizer=a,o=a),l++}},t.get=function(i){if(i instanceof $c)return i;for(var n=this.recognizers,a=0;a<n.length;a++)if(n[a].options.event===i)return n[a];return null},t.add=function(i){if(Bl(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},t.remove=function(i){if(Bl(i,"remove",this))return this;var n=this.get(i);if(i){var a=this.recognizers,s=Lo(a,n);s!==-1&&(a.splice(s,1),this.touchAction.update())}return this},t.on=function(i,n){if(i===void 0||n===void 0)return this;var a=this.handlers;return da(zf(i),function(s){a[s]=a[s]||[],a[s].push(n)}),this},t.off=function(i,n){if(i===void 0)return this;var a=this.handlers;return da(zf(i),function(s){n?a[s]&&a[s].splice(Lo(a[s],n),1):delete a[s]}),this},t.emit=function(i,n){this.options.domEvents&&yre(i,n);var a=this.handlers[i]&&this.handlers[i].slice();if(!(!a||!a.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<a.length;)a[s](n),s++}},t.destroy=function(){this.element&&t3(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),$re={touchstart:oi,touchmove:Zo,touchend:br,touchcancel:Si},_re="touchstart",wre="touchstart touchmove touchend touchcancel",xre=function(r){cn(t,r);function t(){var i,n=t.prototype;return n.evTarget=_re,n.evWin=wre,i=r.apply(this,arguments)||this,i.started=!1,i}var e=t.prototype;return e.handler=function(n){var a=$re[n.type];if(a===oi&&(this.started=!0),!!this.started){var s=Sre.call(this,n,a);a&(br|Si)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:vc,srcEvent:n})}},t}(Au);function Sre(r,t){var e=Lf(r.touches),i=Lf(r.changedTouches);return t&(br|Si)&&(e=My(e.concat(i),"identifier",!0)),[e,i]}function gT(r,t,e){var i="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var n=new Error("get-stack-trace"),a=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,a),r.apply(this,arguments)}}var bT=gT(function(r,t,e){for(var i=Object.keys(t),n=0;n<i.length;)(!e||e&&r[i[n]]===void 0)&&(r[i[n]]=t[i[n]]),n++;return r},"extend","Use `assign`."),Ere=gT(function(r,t){return bT(r,t,!0)},"merge","Use `assign`.");function kre(r,t,e){var i=t.prototype,n;n=r.prototype=Object.create(i),n.constructor=r,n._super=i,e&&Fo(n,e)}function i3(r,t){return function(){return r.apply(t,arguments)}}var Tre=function(){var r=function(e,i){return i===void 0&&(i={}),new r3(e,Tn({recognizers:Z4.concat()},i))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=tT,r.DIRECTION_DOWN=au,r.DIRECTION_LEFT=gc,r.DIRECTION_RIGHT=bc,r.DIRECTION_UP=yc,r.DIRECTION_HORIZONTAL=Vn,r.DIRECTION_VERTICAL=wo,r.DIRECTION_NONE=Rm,r.DIRECTION_DOWN=au,r.INPUT_START=oi,r.INPUT_MOVE=Zo,r.INPUT_END=br,r.INPUT_CANCEL=Si,r.STATE_POSSIBLE=im,r.STATE_BEGAN=sn,r.STATE_CHANGED=su,r.STATE_ENDED=Rs,r.STATE_RECOGNIZED=va,r.STATE_CANCELLED=jf,r.STATE_FAILED=qn,r.Manager=r3,r.Input=Au,r.TouchAction=iT,r.TouchInput=By,r.MouseInput=Fy,r.PointerEventInput=uT,r.TouchMouseInput=fT,r.SingleTouchInput=xre,r.Recognizer=$c,r.AttrRecognizer=ou,r.Tap=C1,r.Pan=zy,r.Swipe=hT,r.Pinch=mT,r.Rotate=pT,r.Press=dT,r.on=cf,r.off=hf,r.each=da,r.merge=Ere,r.extend=bT,r.bindFn=i3,r.assign=Fo,r.inherit=kre,r.bindFn=i3,r.prefixed=Wp,r.toArray=Lf,r.inArray=Lo,r.uniqueArray=My,r.splitStr=zf,r.boolOrFn=Vp,r.hasParent=Ry,r.addEventListeners=cf,r.removeEventListeners=hf,r.defaults=Fo({},vT,{preset:Z4}),r}(),Ore=Tre;function yT(r,t){var e=typeof qp<"u"&&Iy(r)||r["@@iterator"];if(!e){if(Fi(r)||(e=Are(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function Are(r,t){var e;if(r){if(typeof r=="string")return n3(r,t);var i=Hp(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Ay(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n3(r,t)}}function n3(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var $T=qp("DELETE");function Ire(r){for(var t,e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return _T.apply(void 0,Up(t=[{},r]).call(t,i))}function _T(){var r=Fm.apply(void 0,arguments);return xT(r),r}function Fm(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];if(t.length<2)return t[0];if(t.length>2){var i;return Fm.apply(void 0,Up(i=[_T(t[0],t[1])]).call(i,$i(Hp(t).call(t,2))))}var n=t[0],a=t[1];if(n instanceof Date&&a instanceof Date)return n.setTime(a.getTime()),n;var s=yT(IZ(a)),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;Object.prototype.propertyIsEnumerable.call(a,l)&&(a[l]===$T?delete n[l]:n[l]!==null&&a[l]!==null&&typeof n[l]=="object"&&typeof a[l]=="object"&&!Fi(n[l])&&!Fi(a[l])?n[l]=Fm(n[l],a[l]):n[l]=wT(a[l]))}}catch(u){s.e(u)}finally{s.f()}return n}function wT(r){return Fi(r)?$n(r).call(r,function(t){return wT(t)}):typeof r=="object"&&r!==null?r instanceof Date?new Date(r.getTime()):Fm({},r):r}function xT(r){for(var t=0,e=Py(r);t<e.length;t++){var i=e[t];r[i]===$T?delete r[i]:typeof r[i]=="object"&&r[i]!==null&&xT(r[i])}}function Cre(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get(){return{set:r}}}}var Pre=typeof window<"u"?window.Hammer||Ore:function(){return Cre()};function fa(r){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var i=Pre(this._dom.overlay);i.on("tap",yk(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Bo(n).call(n,function(a){i.on(a,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){Dre(a.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&t.deactivate()}}jte(fa.prototype);fa.current=null;fa.prototype.destroy=function(){var r,t;this.deactivate();var e=yT(mee(r=jk(t=this._cleanupQueue).call(t,0)).call(r)),i;try{for(e.s();!(i=e.n()).done;){var n=i.value;n()}}catch(a){e.e(a)}finally{e.f()}};fa.prototype.activate=function(){fa.current&&fa.current.deactivate(),fa.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};fa.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};fa.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function Dre(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}var Nre=Tp,Rre=wu,Mre=TypeError,ST=function(r){if(Nre(r))return r;throw new Mre(Rre(r)+" is not a constructor")},Bre=nt,Fre=fi,lv=bu,zre=gk,a3=ST,Lre=qi,s3=Vr,jre=Jo,ET=Ct,Ly=Fre("Reflect","construct"),qre=Object.prototype,Ure=[].push,kT=ET(function(){function r(){}return!(Ly(function(){},[],r)instanceof r)}),TT=!ET(function(){Ly(function(){})}),o3=kT||TT;Bre({target:"Reflect",stat:!0,forced:o3,sham:o3},{construct:function(t,e){a3(t),Lre(e);var i=arguments.length<3?t:a3(arguments[2]);if(TT&&!kT)return Ly(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return lv(Ure,n,e),new(lv(zre,t,n))}var a=i.prototype,s=jre(s3(a)?a:qre),o=lv(t,s,e);return s3(o)?o:s}});var Hre=Yt,Wre=Hre.Reflect.construct,Vre=Wre,Gre=Vre,Xre=Gre,nm=lt(Xre),Kre=Yt,Yre=Kre.Object.getOwnPropertySymbols,Jre=Yre,Qre=Jre,Zre=Qre,l3=lt(Zre),OT={exports:{}},eie=nt,tie=Ct,rie=ta,AT=Xo.f,IT=Cr,iie=!IT||tie(function(){AT(1)});eie({target:"Object",stat:!0,forced:iie,sham:!IT},{getOwnPropertyDescriptor:function(t,e){return AT(rie(t),e)}});var nie=Yt,CT=nie.Object,aie=OT.exports=function(t,e){return CT.getOwnPropertyDescriptor(t,e)};CT.getOwnPropertyDescriptor.sham&&(aie.sham=!0);var sie=OT.exports,oie=sie,lie=oie,uie=lie,PT=lt(uie),fie=nt,cie=Cr,hie=Cy,mie=ta,pie=Xo,die=Su;fie({target:"Object",stat:!0,sham:!cie},{getOwnPropertyDescriptors:function(t){for(var e=mie(t),i=pie.f,n=hie(e),a={},s=0,o,l;n.length>s;)l=i(e,o=n[s++]),l!==void 0&&die(a,o,l);return a}});var vie=Yt,gie=vie.Object.getOwnPropertyDescriptors,bie=gie,yie=bie,$ie=yie,u3=lt($ie),DT={exports:{}},_ie=nt,wie=Cr,f3=Ap.f;_ie({target:"Object",stat:!0,forced:Object.defineProperties!==f3,sham:!wie},{defineProperties:f3});var xie=Yt,NT=xie.Object,Sie=DT.exports=function(t,e){return NT.defineProperties(t,e)};NT.defineProperties.sham&&(Sie.sham=!0);var Eie=DT.exports,kie=Eie,Tie=kie,Oie=Tie,Aie=lt(Oie),Iie=hE,Cie=lt(Iie);function RT(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var Pie=Uk,Die=Pie,Nie=Die,Rie=Nie,MT=Rie,Mie=lt(MT),Bie=nt,Fie=rk;Bie({target:"Object",stat:!0},{setPrototypeOf:Fie});var zie=Yt,Lie=zie.Object.setPrototypeOf,jie=Lie,qie=jie,Uie=qie,Hie=Uie,Wie=Hie,Vie=Wie,BT=Vie,P1=lt(BT),Gie=bk,Xie=Gie,Kie=Xie,Yie=Kie,Jie=Yie,FT=lt(Jie);function D1(r,t){var e;return D1=P1?FT(e=P1).call(e):function(n,a){return n.__proto__=a,n},D1(r,t)}function Qie(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Mie(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Sp(r,"prototype",{writable:!1}),t&&D1(r,t)}function Zie(r,t){if(t&&(nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RT(r)}var ene=ste,tne=ene,rne=tne,ine=rne,zT=ine,c3=lt(zT);function zm(r){var t;return zm=P1?FT(t=c3).call(t):function(i){return i.__proto__||c3(i)},zm(r)}var LT={exports:{}},jT={exports:{}};(function(r){var t=ky,e=mk;function i(n){"@babel/helpers - typeof";return r.exports=i=typeof t=="function"&&typeof e=="symbol"?function(a){return typeof a}:function(a){return a&&typeof t=="function"&&a.constructor===t&&a!==t.prototype?"symbol":typeof a},r.exports.__esModule=!0,r.exports.default=r.exports,i(n)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports})(jT);var nne=jT.exports,ane=Fk,sne=ane,one=sne,lne=one,une=lne,h3=xr,fne=Cy,cne=Xo,hne=Ii,mne=function(r,t,e){for(var i=fne(t),n=hne.f,a=cne.f,s=0;s<i.length;s++){var o=i[s];!h3(r,o)&&!(e&&h3(e,o))&&n(r,o,a(t,o))}},pne=Vr,dne=Da,vne=function(r,t){pne(t)&&"cause"in t&&dne(r,"cause",t.cause)},gne=Gt,qT=Error,bne=gne("".replace),yne=function(r){return String(new qT(r).stack)}("zxcasd"),UT=/\n\s*at [^:]*:[^\n]*/,$ne=UT.test(yne),_ne=function(r,t){if($ne&&typeof r=="string"&&!qT.prepareStackTrace)for(;t--;)r=bne(r,UT,"");return r},wne=Ct,xne=Ko,Sne=!wne(function(){var r=new Error("a");return"stack"in r?(Object.defineProperty(r,"stack",xne(1,7)),r.stack!==7):!0}),Ene=Da,kne=_ne,Tne=Sne,m3=Error.captureStackTrace,One=function(r,t,e,i){Tne&&(m3?m3(r,t):Ene(r,"stack",kne(e,i)))},Ane=Js,Ine=Pr,Cne=qi,Pne=wu,Dne=wk,Nne=Ui,p3=wr,Rne=Oy,Mne=jp,d3=_k,Bne=TypeError,am=function(r,t){this.stopped=r,this.result=t},v3=am.prototype,el=function(r,t,e){var i=e&&e.that,n=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_RECORD),s=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=Ane(t,i),u,f,h,c,m,v,d,b=function($){return u&&d3(u,"normal",$),new am(!0,$)},g=function($){return n?(Cne($),o?l($[0],$[1],b):l($[0],$[1])):o?l($,b):l($)};if(a)u=r.iterator;else if(s)u=r;else{if(f=Mne(r),!f)throw new Bne(Pne(r)+" is not iterable");if(Dne(f)){for(h=0,c=Nne(r);c>h;h++)if(m=g(r[h]),m&&p3(v3,m))return m;return new am(!1)}u=Rne(r,f)}for(v=a?r.next:u.next;!(d=Ine(v,u)).done;){try{m=g(d.value)}catch($){d3(u,"throw",$)}if(typeof m=="object"&&m&&p3(v3,m))return m}return new am(!1)},Fne=Yo,zne=function(r,t){return r===void 0?arguments.length<2?"":t:Fne(r)},Lne=nt,jne=wr,qne=Fp,Lm=rk,Une=mne,HT=Jo,uv=Da,fv=Ko,Hne=vne,Wne=One,Vne=el,Gne=zne,Xne=er,Kne=Xne("toStringTag"),jm=Error,Yne=[].push,lu=function(t,e){var i=jne(cv,this),n;Lm?n=Lm(new jm,i?qne(this):cv):(n=i?this:HT(cv),uv(n,Kne,"Error")),e!==void 0&&uv(n,"message",Gne(e)),Wne(n,lu,n.stack,1),arguments.length>2&&Hne(n,arguments[2]);var a=[];return Vne(t,Yne,{that:a}),uv(n,"errors",a),n};Lm?Lm(lu,jm):Une(lu,jm,{name:!0});var cv=lu.prototype=HT(jm.prototype,{constructor:fv(1,lu),message:fv(1,""),name:fv(1,"AggregateError")});Lne({global:!0,constructor:!0,arity:2},{AggregateError:lu});var Jne=fi,Qne=gy,Zne=er,eae=Cr,g3=Zne("species"),WT=function(r){var t=Jne(r);eae&&t&&!t[g3]&&Qne(t,g3,{configurable:!0,get:function(){return this}})},tae=wr,rae=TypeError,jy=function(r,t){if(tae(t,r))return r;throw new rae("Incorrect invocation")},b3=qi,iae=ST,nae=yu,aae=er,sae=aae("species"),VT=function(r,t){var e=b3(r).constructor,i;return e===void 0||nae(i=b3(e)[sae])?t:iae(i)},oae=Ys,GT=/(?:ipad|iphone|ipod).*applewebkit/i.test(oae),Li=Kt,lae=bu,uae=Js,y3=sr,fae=xr,XT=Ct,$3=wE,cae=mc,_3=hy,hae=Hk,mae=GT,pae=dc,N1=Li.setImmediate,R1=Li.clearImmediate,dae=Li.process,hv=Li.Dispatch,vae=Li.Function,w3=Li.MessageChannel,gae=Li.String,mv=0,mf={},x3="onreadystatechange",qf,fo,pv,dv;XT(function(){qf=Li.location});var qy=function(r){if(fae(mf,r)){var t=mf[r];delete mf[r],t()}},vv=function(r){return function(){qy(r)}},S3=function(r){qy(r.data)},E3=function(r){Li.postMessage(gae(r),qf.protocol+"//"+qf.host)};(!N1||!R1)&&(N1=function(t){hae(arguments.length,1);var e=y3(t)?t:vae(t),i=cae(arguments,1);return mf[++mv]=function(){lae(e,void 0,i)},fo(mv),mv},R1=function(t){delete mf[t]},pae?fo=function(r){dae.nextTick(vv(r))}:hv&&hv.now?fo=function(r){hv.now(vv(r))}:w3&&!mae?(pv=new w3,dv=pv.port2,pv.port1.onmessage=S3,fo=uae(dv.postMessage,dv)):Li.addEventListener&&y3(Li.postMessage)&&!Li.importScripts&&qf&&qf.protocol!=="file:"&&!XT(E3)?(fo=E3,Li.addEventListener("message",S3,!1)):x3 in _3("script")?fo=function(r){$3.appendChild(_3("script"))[x3]=function(){$3.removeChild(this),qy(r)}}:fo=function(r){setTimeout(vv(r),0)});var KT={set:N1,clear:R1},YT=function(){this.head=null,this.tail=null};YT.prototype={add:function(r){var t={item:r,next:null},e=this.tail;e?e.next=t:this.head=t,this.tail=t},get:function(){var r=this.head;if(r){var t=this.head=r.next;return t===null&&(this.tail=null),r.item}}};var JT=YT,bae=Ys,yae=/ipad|iphone|ipod/i.test(bae)&&typeof Pebble<"u",$ae=Ys,_ae=/web0s(?!.*chrome)/i.test($ae),jo=Kt,k3=Js,wae=Xo.f,gv=KT.set,xae=JT,Sae=GT,Eae=yae,kae=_ae,bv=dc,T3=jo.MutationObserver||jo.WebKitMutationObserver,O3=jo.document,A3=jo.process,wh=jo.Promise,I3=wae(jo,"queueMicrotask"),M1=I3&&I3.value,_l,yv,$v,xh,C3;if(!M1){var Sh=new xae,Eh=function(){var r,t;for(bv&&(r=A3.domain)&&r.exit();t=Sh.get();)try{t()}catch(e){throw Sh.head&&_l(),e}r&&r.enter()};!Sae&&!bv&&!kae&&T3&&O3?(yv=!0,$v=O3.createTextNode(""),new T3(Eh).observe($v,{characterData:!0}),_l=function(){$v.data=yv=!yv}):!Eae&&wh&&wh.resolve?(xh=wh.resolve(void 0),xh.constructor=wh,C3=k3(xh.then,xh),_l=function(){C3(Eh)}):bv?_l=function(){A3.nextTick(Eh)}:(gv=k3(gv,jo),_l=function(){gv(Eh)}),M1=function(r){Sh.head||_l(),Sh.add(r)}}var Tae=M1,Oae=function(r,t){try{arguments.length===1?console.error(r):console.error(r,t)}catch{}},Iu=function(r){try{return{error:!1,value:r()}}catch(t){return{error:!0,value:t}}},Aae=Kt,Cu=Aae.Promise,QT=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",Iae=QT,Cae=dc,Pae=!Iae&&!Cae&&typeof window=="object"&&typeof document=="object",Dae=Kt,pf=Cu,Nae=sr,Rae=uE,Mae=dE,Bae=er,Fae=Pae,zae=QT,_v=$u,P3=pf&&pf.prototype,Lae=Bae("species"),B1=!1,ZT=Nae(Dae.PromiseRejectionEvent),jae=Rae("Promise",function(){var r=Mae(pf),t=r!==String(pf);if(!t&&_v===66||!(P3.catch&&P3.finally))return!0;if(!_v||_v<51||!/native code/.test(r)){var e=new pf(function(a){a(1)}),i=function(a){a(function(){},function(){})},n=e.constructor={};if(n[Lae]=i,B1=e.then(function(){})instanceof i,!B1)return!0}return!t&&(Fae||zae)&&!ZT}),_c={CONSTRUCTOR:jae,REJECTION_EVENT:ZT,SUBCLASSING:B1},ra={},D3=Oi,qae=TypeError,Uae=function(r){var t,e;this.promise=new r(function(i,n){if(t!==void 0||e!==void 0)throw new qae("Bad Promise constructor");t=i,e=n}),this.resolve=D3(t),this.reject=D3(e)};ra.f=function(r){return new Uae(r)};var Hae=nt,qm=dc,Hs=Kt,wc=Pr,Wae=Eu,Vae=Qo,Gae=WT,Xae=Oi,F1=sr,Kae=Vr,Yae=jy,Jae=VT,e9=KT.set,Uy=Tae,Qae=Oae,Zae=Iu,ese=JT,t9=ku,z1=Cu,r9=_c,i9=ra,Gp="Promise",n9=r9.CONSTRUCTOR,tse=r9.REJECTION_EVENT,wv=t9.getterFor(Gp),rse=t9.set,ise=z1&&z1.prototype,Fl=z1,xv=ise,a9=Hs.TypeError,L1=Hs.document,Hy=Hs.process,j1=i9.f,nse=j1,ase=!!(L1&&L1.createEvent&&Hs.dispatchEvent),s9="unhandledrejection",sse="rejectionhandled",N3=0,o9=1,ose=2,Wy=1,l9=2,kh,R3,lse,u9=function(r){var t;return Kae(r)&&F1(t=r.then)?t:!1},f9=function(r,t){var e=t.value,i=t.state===o9,n=i?r.ok:r.fail,a=r.resolve,s=r.reject,o=r.domain,l,u,f;try{n?(i||(t.rejection===l9&&fse(t),t.rejection=Wy),n===!0?l=e:(o&&o.enter(),l=n(e),o&&(o.exit(),f=!0)),l===r.promise?s(new a9("Promise-chain cycle")):(u=u9(l))?wc(u,l,a,s):a(l)):s(e)}catch(h){o&&!f&&o.exit(),s(h)}},c9=function(r,t){r.notified||(r.notified=!0,Uy(function(){for(var e=r.reactions,i;i=e.get();)f9(i,r);r.notified=!1,t&&!r.rejection&&use(r)}))},h9=function(r,t,e){var i,n;ase?(i=L1.createEvent("Event"),i.promise=t,i.reason=e,i.initEvent(r,!1,!0),Hs.dispatchEvent(i)):i={promise:t,reason:e},!tse&&(n=Hs["on"+r])?n(i):r===s9&&Qae("Unhandled promise rejection",e)},use=function(r){wc(e9,Hs,function(){var t=r.facade,e=r.value,i=M3(r),n;if(i&&(n=Zae(function(){qm?Hy.emit("unhandledRejection",e,t):h9(s9,t,e)}),r.rejection=qm||M3(r)?l9:Wy,n.error))throw n.value})},M3=function(r){return r.rejection!==Wy&&!r.parent},fse=function(r){wc(e9,Hs,function(){var t=r.facade;qm?Hy.emit("rejectionHandled",t):h9(sse,t,r.value)})},zl=function(r,t,e){return function(i){r(t,i,e)}},Xl=function(r,t,e){r.done||(r.done=!0,e&&(r=e),r.value=t,r.state=ose,c9(r,!0))},q1=function(r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(r.facade===t)throw new a9("Promise can't be resolved itself");var i=u9(t);i?Uy(function(){var n={done:!1};try{wc(i,t,zl(q1,n,r),zl(Xl,n,r))}catch(a){Xl(n,a,r)}}):(r.value=t,r.state=o9,c9(r,!1))}catch(n){Xl({done:!1},n,r)}}};n9&&(Fl=function(t){Yae(this,xv),Xae(t),wc(kh,this);var e=wv(this);try{t(zl(q1,e),zl(Xl,e))}catch(i){Xl(e,i)}},xv=Fl.prototype,kh=function(t){rse(this,{type:Gp,done:!1,notified:!1,parent:!1,reactions:new ese,rejection:!1,state:N3,value:void 0})},kh.prototype=Wae(xv,"then",function(t,e){var i=wv(this),n=j1(Jae(this,Fl));return i.parent=!0,n.ok=F1(t)?t:!0,n.fail=F1(e)&&e,n.domain=qm?Hy.domain:void 0,i.state===N3?i.reactions.add(n):Uy(function(){f9(n,i)}),n.promise}),R3=function(){var r=new kh,t=wv(r);this.promise=r,this.resolve=zl(q1,t),this.reject=zl(Xl,t)},i9.f=j1=function(r){return r===Fl||r===lse?new R3(r):nse(r)});Hae({global:!0,constructor:!0,wrap:!0,forced:n9},{Promise:Fl});Vae(Fl,Gp,!1,!0);Gae(Gp);var cse=Cu,hse=Ek,mse=_c.CONSTRUCTOR,Xp=mse||!hse(function(r){cse.all(r).then(void 0,function(){})}),pse=nt,dse=Pr,vse=Oi,gse=ra,bse=Iu,yse=el,$se=Xp;pse({target:"Promise",stat:!0,forced:$se},{all:function(t){var e=this,i=gse.f(e),n=i.resolve,a=i.reject,s=bse(function(){var o=vse(e.resolve),l=[],u=0,f=1;yse(t,function(h){var c=u++,m=!1;f++,dse(o,e,h).then(function(v){m||(m=!0,l[c]=v,--f||n(l))},a)}),--f||n(l)});return s.error&&a(s.value),i.promise}});var _se=nt,wse=_c.CONSTRUCTOR,B3=Cu;B3&&B3.prototype;_se({target:"Promise",proto:!0,forced:wse,real:!0},{catch:function(r){return this.then(void 0,r)}});var xse=nt,Sse=Pr,Ese=Oi,kse=ra,Tse=Iu,Ose=el,Ase=Xp;xse({target:"Promise",stat:!0,forced:Ase},{race:function(t){var e=this,i=kse.f(e),n=i.reject,a=Tse(function(){var s=Ese(e.resolve);Ose(t,function(o){Sse(s,e,o).then(i.resolve,n)})});return a.error&&n(a.value),i.promise}});var Ise=nt,Cse=Pr,Pse=ra,Dse=_c.CONSTRUCTOR;Ise({target:"Promise",stat:!0,forced:Dse},{reject:function(t){var e=Pse.f(this);return Cse(e.reject,void 0,t),e.promise}});var Nse=qi,Rse=Vr,Mse=ra,m9=function(r,t){if(Nse(r),Rse(t)&&t.constructor===r)return t;var e=Mse.f(r),i=e.resolve;return i(t),e.promise},Bse=nt,Fse=fi,zse=Xj,Lse=Cu,jse=_c.CONSTRUCTOR,qse=m9,Use=Fse("Promise"),Hse=!jse;Bse({target:"Promise",stat:!0,forced:zse},{resolve:function(t){return qse(Hse&&this===Use?Lse:this,t)}});var Wse=nt,Vse=Pr,Gse=Oi,Xse=ra,Kse=Iu,Yse=el,Jse=Xp;Wse({target:"Promise",stat:!0,forced:Jse},{allSettled:function(t){var e=this,i=Xse.f(e),n=i.resolve,a=i.reject,s=Kse(function(){var o=Gse(e.resolve),l=[],u=0,f=1;Yse(t,function(h){var c=u++,m=!1;f++,Vse(o,e,h).then(function(v){m||(m=!0,l[c]={status:"fulfilled",value:v},--f||n(l))},function(v){m||(m=!0,l[c]={status:"rejected",reason:v},--f||n(l))})}),--f||n(l)});return s.error&&a(s.value),i.promise}});var Qse=nt,Zse=Pr,eoe=Oi,toe=fi,roe=ra,ioe=Iu,noe=el,aoe=Xp,F3="No one promise resolved";Qse({target:"Promise",stat:!0,forced:aoe},{any:function(t){var e=this,i=toe("AggregateError"),n=roe.f(e),a=n.resolve,s=n.reject,o=ioe(function(){var l=eoe(e.resolve),u=[],f=0,h=1,c=!1;noe(t,function(m){var v=f++,d=!1;h++,Zse(l,e,m).then(function(b){d||c||(c=!0,a(b))},function(b){d||c||(d=!0,u[v]=b,--h||s(new i(u,F3)))})}),--h||s(new i(u,F3))});return o.error&&s(o.value),n.promise}});var soe=nt,U1=Cu,ooe=Ct,loe=fi,uoe=sr,foe=VT,z3=m9,coe=U1&&U1.prototype,hoe=!!U1&&ooe(function(){coe.finally.call({then:function(){}},function(){})});soe({target:"Promise",proto:!0,real:!0,forced:hoe},{finally:function(r){var t=foe(this,loe("Promise")),e=uoe(r);return this.then(e?function(i){return z3(t,r()).then(function(){return i})}:r,e?function(i){return z3(t,r()).then(function(){throw i})}:r)}});var moe=Yt,poe=moe.Promise,doe=poe,voe=doe,goe=nt,boe=ra;goe({target:"Promise",stat:!0},{withResolvers:function(){var t=boe.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var yoe=voe,$oe=yoe,_oe=nt,woe=ra,xoe=Iu;_oe({target:"Promise",stat:!0,forced:!0},{try:function(r){var t=woe.f(this),e=xoe(r);return(e.error?t.reject:t.resolve)(e.value),t.promise}});var Soe=$oe,Eoe=Soe,koe=Eoe,Toe=zk,Ooe=Toe,Aoe=Ooe,Ioe=Aoe,Coe=Ioe;(function(r){var t=nne.default,e=mE,i=ky,n=MT,a=zT,s=une,o=Pk,l=BT,u=koe,f=Coe,h=Nk;function c(){r.exports=c=function(){return v},r.exports.__esModule=!0,r.exports.default=r.exports;var m,v={},d=Object.prototype,b=d.hasOwnProperty,g=e||function(ye,_e,X){ye[_e]=X.value},$=typeof i=="function"?i:{},w=$.iterator||"@@iterator",x=$.asyncIterator||"@@asyncIterator",A=$.toStringTag||"@@toStringTag";function I(ye,_e,X){return e(ye,_e,{value:X,enumerable:!0,configurable:!0,writable:!0}),ye[_e]}try{I({},"")}catch{I=function(X,fe,te){return X[fe]=te}}function D(ye,_e,X,fe){var te=_e&&_e.prototype instanceof Q?_e:Q,ve=n(te.prototype),je=new Ae(fe||[]);return g(ve,"_invoke",{value:he(ye,X,je)}),ve}function S(ye,_e,X){try{return{type:"normal",arg:ye.call(_e,X)}}catch(fe){return{type:"throw",arg:fe}}}v.wrap=D;var O="suspendedStart",H="suspendedYield",B="executing",V="completed",K={};function Q(){}function G(){}function q(){}var W={};I(W,w,function(){return this});var ne=a,Z=ne&&ne(ne(Pe([])));Z&&Z!==d&&b.call(Z,w)&&(W=Z);var oe=q.prototype=Q.prototype=n(W);function ie(ye){var _e;s(_e=["next","throw","return"]).call(_e,function(X){I(ye,X,function(fe){return this._invoke(X,fe)})})}function ae(ye,_e){function X(te,ve,je,Y){var P=S(ye[te],ye,ve);if(P.type!=="throw"){var N=P.arg,ee=N.value;return ee&&t(ee)=="object"&&b.call(ee,"__await")?_e.resolve(ee.__await).then(function(be){X("next",be,je,Y)},function(be){X("throw",be,je,Y)}):_e.resolve(ee).then(function(be){N.value=be,je(N)},function(be){return X("throw",be,je,Y)})}Y(P.arg)}var fe;g(this,"_invoke",{value:function(ve,je){function Y(){return new _e(function(P,N){X(ve,je,P,N)})}return fe=fe?fe.then(Y,Y):Y()}})}function he(ye,_e,X){var fe=O;return function(te,ve){if(fe===B)throw new Error("Generator is already running");if(fe===V){if(te==="throw")throw ve;return{value:m,done:!0}}for(X.method=te,X.arg=ve;;){var je=X.delegate;if(je){var Y=Ce(je,X);if(Y){if(Y===K)continue;return Y}}if(X.method==="next")X.sent=X._sent=X.arg;else if(X.method==="throw"){if(fe===O)throw fe=V,X.arg;X.dispatchException(X.arg)}else X.method==="return"&&X.abrupt("return",X.arg);fe=B;var P=S(ye,_e,X);if(P.type==="normal"){if(fe=X.done?V:H,P.arg===K)continue;return{value:P.arg,done:X.done}}P.type==="throw"&&(fe=V,X.method="throw",X.arg=P.arg)}}}function Ce(ye,_e){var X=_e.method,fe=ye.iterator[X];if(fe===m)return _e.delegate=null,X==="throw"&&ye.iterator.return&&(_e.method="return",_e.arg=m,Ce(ye,_e),_e.method==="throw")||X!=="return"&&(_e.method="throw",_e.arg=new TypeError("The iterator does not provide a '"+X+"' method")),K;var te=S(fe,ye.iterator,_e.arg);if(te.type==="throw")return _e.method="throw",_e.arg=te.arg,_e.delegate=null,K;var ve=te.arg;return ve?ve.done?(_e[ye.resultName]=ve.value,_e.next=ye.nextLoc,_e.method!=="return"&&(_e.method="next",_e.arg=m),_e.delegate=null,K):ve:(_e.method="throw",_e.arg=new TypeError("iterator result is not an object"),_e.delegate=null,K)}function ke(ye){var _e,X={tryLoc:ye[0]};1 in ye&&(X.catchLoc=ye[1]),2 in ye&&(X.finallyLoc=ye[2],X.afterLoc=ye[3]),o(_e=this.tryEntries).call(_e,X)}function Te(ye){var _e=ye.completion||{};_e.type="normal",delete _e.arg,ye.completion=_e}function Ae(ye){this.tryEntries=[{tryLoc:"root"}],s(ye).call(ye,ke,this),this.reset(!0)}function Pe(ye){if(ye||ye===""){var _e=ye[w];if(_e)return _e.call(ye);if(typeof ye.next=="function")return ye;if(!isNaN(ye.length)){var X=-1,fe=function te(){for(;++X<ye.length;)if(b.call(ye,X))return te.value=ye[X],te.done=!1,te;return te.value=m,te.done=!0,te};return fe.next=fe}}throw new TypeError(t(ye)+" is not iterable")}return G.prototype=q,g(oe,"constructor",{value:q,configurable:!0}),g(q,"constructor",{value:G,configurable:!0}),G.displayName=I(q,A,"GeneratorFunction"),v.isGeneratorFunction=function(ye){var _e=typeof ye=="function"&&ye.constructor;return!!_e&&(_e===G||(_e.displayName||_e.name)==="GeneratorFunction")},v.mark=function(ye){return l?l(ye,q):(ye.__proto__=q,I(ye,A,"GeneratorFunction")),ye.prototype=n(oe),ye},v.awrap=function(ye){return{__await:ye}},ie(ae.prototype),I(ae.prototype,x,function(){return this}),v.AsyncIterator=ae,v.async=function(ye,_e,X,fe,te){te===void 0&&(te=u);var ve=new ae(D(ye,_e,X,fe),te);return v.isGeneratorFunction(_e)?ve:ve.next().then(function(je){return je.done?je.value:ve.next()})},ie(oe),I(oe,A,"Generator"),I(oe,w,function(){return this}),I(oe,"toString",function(){return"[object Generator]"}),v.keys=function(ye){var _e=Object(ye),X=[];for(var fe in _e)o(X).call(X,fe);return f(X).call(X),function te(){for(;X.length;){var ve=X.pop();if(ve in _e)return te.value=ve,te.done=!1,te}return te.done=!0,te}},v.values=Pe,Ae.prototype={constructor:Ae,reset:function(_e){var X;if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,s(X=this.tryEntries).call(X,Te),!_e)for(var fe in this)fe.charAt(0)==="t"&&b.call(this,fe)&&!isNaN(+h(fe).call(fe,1))&&(this[fe]=m)},stop:function(){this.done=!0;var _e=this.tryEntries[0].completion;if(_e.type==="throw")throw _e.arg;return this.rval},dispatchException:function(_e){if(this.done)throw _e;var X=this;function fe(N,ee){return je.type="throw",je.arg=_e,X.next=N,ee&&(X.method="next",X.arg=m),!!ee}for(var te=this.tryEntries.length-1;te>=0;--te){var ve=this.tryEntries[te],je=ve.completion;if(ve.tryLoc==="root")return fe("end");if(ve.tryLoc<=this.prev){var Y=b.call(ve,"catchLoc"),P=b.call(ve,"finallyLoc");if(Y&&P){if(this.prev<ve.catchLoc)return fe(ve.catchLoc,!0);if(this.prev<ve.finallyLoc)return fe(ve.finallyLoc)}else if(Y){if(this.prev<ve.catchLoc)return fe(ve.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<ve.finallyLoc)return fe(ve.finallyLoc)}}}},abrupt:function(_e,X){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var te=this.tryEntries[fe];if(te.tryLoc<=this.prev&&b.call(te,"finallyLoc")&&this.prev<te.finallyLoc){var ve=te;break}}ve&&(_e==="break"||_e==="continue")&&ve.tryLoc<=X&&X<=ve.finallyLoc&&(ve=null);var je=ve?ve.completion:{};return je.type=_e,je.arg=X,ve?(this.method="next",this.next=ve.finallyLoc,K):this.complete(je)},complete:function(_e,X){if(_e.type==="throw")throw _e.arg;return _e.type==="break"||_e.type==="continue"?this.next=_e.arg:_e.type==="return"?(this.rval=this.arg=_e.arg,this.method="return",this.next="end"):_e.type==="normal"&&X&&(this.next=X),K},finish:function(_e){for(var X=this.tryEntries.length-1;X>=0;--X){var fe=this.tryEntries[X];if(fe.finallyLoc===_e)return this.complete(fe.completion,fe.afterLoc),Te(fe),K}},catch:function(_e){for(var X=this.tryEntries.length-1;X>=0;--X){var fe=this.tryEntries[X];if(fe.tryLoc===_e){var te=fe.completion;if(te.type==="throw"){var ve=te.arg;Te(fe)}return ve}}throw new Error("illegal catch attempt")},delegateYield:function(_e,X,fe){return this.delegate={iterator:Pe(_e),resultName:X,nextLoc:fe},this.method==="next"&&(this.arg=m),K}},v}r.exports=c,r.exports.__esModule=!0,r.exports.default=r.exports})(LT);var Poe=LT.exports,sm=Poe(),Doe=sm;try{regeneratorRuntime=sm}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=sm:Function("r","regeneratorRuntime = r")(sm)}var di=lt(Doe),p9={exports:{}},Noe=Ct,Roe=Noe(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),Moe=Ct,Boe=Vr,Foe=Ks,L3=Roe,om=Object.isExtensible,zoe=Moe(function(){om(1)}),Loe=zoe||L3?function(t){return!Boe(t)||L3&&Foe(t)==="ArrayBuffer"?!1:om?om(t):!0}:om,joe=Ct,qoe=!joe(function(){return Object.isExtensible(Object.preventExtensions({}))}),Uoe=nt,Hoe=Gt,Woe=oc,Voe=Vr,Vy=xr,Goe=Ii.f,j3=lc,Xoe=vy,Gy=Loe,Koe=wp,Yoe=qoe,d9=!1,Ta=Koe("meta"),Joe=0,Xy=function(r){Goe(r,Ta,{value:{objectID:"O"+Joe++,weakData:{}}})},Qoe=function(r,t){if(!Voe(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!Vy(r,Ta)){if(!Gy(r))return"F";if(!t)return"E";Xy(r)}return r[Ta].objectID},Zoe=function(r,t){if(!Vy(r,Ta)){if(!Gy(r))return!0;if(!t)return!1;Xy(r)}return r[Ta].weakData},ele=function(r){return Yoe&&d9&&Gy(r)&&!Vy(r,Ta)&&Xy(r),r},tle=function(){rle.enable=function(){},d9=!0;var r=j3.f,t=Hoe([].splice),e={};e[Ta]=1,r(e).length&&(j3.f=function(i){for(var n=r(i),a=0,s=n.length;a<s;a++)if(n[a]===Ta){t(n,a,1);break}return n},Uoe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Xoe.f}))},rle=p9.exports={enable:tle,fastKey:Qoe,getWeakData:Zoe,onFreeze:ele};Woe[Ta]=!0;var v9=p9.exports,ile=nt,nle=Kt,ale=v9,sle=Ct,ole=Da,lle=el,ule=jy,fle=sr,cle=Vr,hle=yu,mle=Qo,ple=Ii.f,dle=Tu.forEach,vle=Cr,g9=ku,gle=g9.set,ble=g9.getterFor,b9=function(r,t,e){var i=r.indexOf("Map")!==-1,n=r.indexOf("Weak")!==-1,a=i?"set":"add",s=nle[r],o=s&&s.prototype,l={},u;if(!vle||!fle(s)||!(n||o.forEach&&!sle(function(){new s().entries().next()})))u=e.getConstructor(t,r,i,a),ale.enable();else{u=t(function(c,m){gle(ule(c,f),{type:r,collection:new s}),hle(m)||lle(m,c[a],{that:c,AS_ENTRIES:i})});var f=u.prototype,h=ble(r);dle(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(c){var m=c==="add"||c==="set";c in o&&!(n&&c==="clear")&&ole(f,c,function(v,d){var b=h(this).collection;if(!m&&n&&!cle(v))return c==="get"?void 0:!1;var g=b[c](v===0?0:v,d);return m?this:g})}),n||ple(f,"size",{configurable:!0,get:function(){return h(this).collection.size}})}return mle(u,r,!1,!0),l[r]=u,ile({global:!0,forced:!0},l),n||e.setStrong(u,r,i),u},yle=Eu,$le=function(r,t,e){for(var i in t)e&&e.unsafe&&r[i]?r[i]=t[i]:yle(r,i,t[i],e);return r},_le=Jo,wle=gy,q3=$le,xle=Js,Sle=jy,Ele=yu,kle=el,Tle=xy,Th=Sy,Ole=WT,Ju=Cr,U3=v9.fastKey,y9=ku,H3=y9.set,Sv=y9.getterFor,$9={getConstructor:function(r,t,e,i){var n=r(function(u,f){Sle(u,a),H3(u,{type:t,index:_le(null),first:void 0,last:void 0,size:0}),Ju||(u.size=0),Ele(f)||kle(f,u[i],{that:u,AS_ENTRIES:e})}),a=n.prototype,s=Sv(t),o=function(u,f,h){var c=s(u),m=l(u,f),v,d;return m?m.value=h:(c.last=m={index:d=U3(f,!0),key:f,value:h,previous:v=c.last,next:void 0,removed:!1},c.first||(c.first=m),v&&(v.next=m),Ju?c.size++:u.size++,d!=="F"&&(c.index[d]=m)),u},l=function(u,f){var h=s(u),c=U3(f),m;if(c!=="F")return h.index[c];for(m=h.first;m;m=m.next)if(m.key===f)return m};return q3(a,{clear:function(){for(var f=this,h=s(f),c=h.index,m=h.first;m;)m.removed=!0,m.previous&&(m.previous=m.previous.next=void 0),delete c[m.index],m=m.next;h.first=h.last=void 0,Ju?h.size=0:f.size=0},delete:function(u){var f=this,h=s(f),c=l(f,u);if(c){var m=c.next,v=c.previous;delete h.index[c.index],c.removed=!0,v&&(v.next=m),m&&(m.previous=v),h.first===c&&(h.first=m),h.last===c&&(h.last=v),Ju?h.size--:f.size--}return!!c},forEach:function(f){for(var h=s(this),c=xle(f,arguments.length>1?arguments[1]:void 0),m;m=m?m.next:h.first;)for(c(m.value,m.key,this);m&&m.removed;)m=m.previous},has:function(f){return!!l(this,f)}}),q3(a,e?{get:function(f){var h=l(this,f);return h&&h.value},set:function(f,h){return o(this,f===0?0:f,h)}}:{add:function(f){return o(this,f=f===0?0:f,f)}}),Ju&&wle(a,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(r,t,e){var i=t+" Iterator",n=Sv(t),a=Sv(i);Tle(r,t,function(s,o){H3(this,{type:i,target:s,state:n(s),kind:o,last:void 0})},function(){for(var s=a(this),o=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,Th(void 0,!0)):Th(o==="keys"?l.key:o==="values"?l.value:[l.key,l.value],!1)},e?"entries":"values",!e,!0),Ole(t)}},Ale=b9,Ile=$9;Ale("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Ile);var Cle=Yt,Ple=Cle.Map,Dle=Ple,Nle=Dle,Rle=Nle,_9=lt(Rle),Mle=nt,Ble=Tu.some,Fle=Lp,zle=Fle("some");Mle({target:"Array",proto:!0,forced:!zle},{some:function(t){return Ble(this,t,arguments.length>1?arguments[1]:void 0)}});var Lle=Jr,jle=Lle("Array","some"),qle=wr,Ule=jle,Ev=Array.prototype,Hle=function(r){var t=r.some;return r===Ev||qle(Ev,r)&&t===Ev.some?Ule:t},Wle=Hle,Vle=Wle,Gle=Vle,Xle=lt(Gle),Kle=Jr,Yle=Kle("Array","keys"),Jle=Yle,Qle=Jle,Zle=Na,eue=xr,tue=wr,rue=Qle,kv=Array.prototype,iue={DOMTokenList:!0,NodeList:!0},nue=function(r){var t=r.keys;return r===kv||tue(kv,r)&&t===kv.keys||eue(iue,Zle(r))?rue:t},aue=nue,wl=lt(aue),W3=EE,sue=Math.floor,H1=function(r,t){var e=r.length,i=sue(e/2);return e<8?oue(r,t):lue(r,H1(W3(r,0,i),t),H1(W3(r,i),t),t)},oue=function(r,t){for(var e=r.length,i=1,n,a;i<e;){for(a=i,n=r[i];a&&t(r[a-1],n)>0;)r[a]=r[--a];a!==i++&&(r[a]=n)}return r},lue=function(r,t,e,i){for(var n=t.length,a=e.length,s=0,o=0;s<n||o<a;)r[s+o]=s<n&&o<a?i(t[s],e[o])<=0?t[s++]:e[o++]:s<n?t[s++]:e[o++];return r},uue=H1,fue=Ys,V3=fue.match(/firefox\/(\d+)/i),cue=!!V3&&+V3[1],hue=Ys,mue=/MSIE|Trident/.test(hue),pue=Ys,G3=pue.match(/AppleWebKit\/(\d+)\./),due=!!G3&&+G3[1],vue=nt,w9=Gt,gue=Oi,bue=Ai,X3=Ui,yue=Lk,K3=Yo,Ky=Ct,$ue=uue,_ue=Lp,Y3=cue,wue=mue,J3=$u,Q3=due,As=[],Z3=w9(As.sort),xue=w9(As.push),Sue=Ky(function(){As.sort(void 0)}),Eue=Ky(function(){As.sort(null)}),kue=_ue("sort"),x9=!Ky(function(){if(J3)return J3<70;if(!(Y3&&Y3>3)){if(wue)return!0;if(Q3)return Q3<603;var r="",t,e,i,n;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)As.push({k:e+n,v:i})}for(As.sort(function(a,s){return s.v-a.v}),n=0;n<As.length;n++)e=As[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!=="DGBEFHACIJK"}}),Tue=Sue||!Eue||!kue||!x9,Oue=function(r){return function(t,e){return e===void 0?-1:t===void 0?1:r!==void 0?+r(t,e)||0:K3(t)>K3(e)?1:-1}};vue({target:"Array",proto:!0,forced:Tue},{sort:function(t){t!==void 0&&gue(t);var e=bue(this);if(x9)return t===void 0?Z3(e):Z3(e,t);var i=[],n=X3(e),a,s;for(s=0;s<n;s++)s in e&&xue(i,e[s]);for($ue(i,Oue(t)),a=X3(i),s=0;s<a;)e[s]=i[s++];for(;s<n;)yue(e,s++);return e}});var Aue=Jr,Iue=Aue("Array","sort"),Cue=wr,Pue=Iue,Tv=Array.prototype,Due=function(r){var t=r.sort;return r===Tv||Cue(Tv,r)&&t===Tv.sort?Pue:t},Nue=Due,Rue=Nue,Mue=Rue,W1=lt(Mue),Bue=Jr,Fue=Bue("Array","values"),zue=Fue,Lue=zue,jue=Na,que=xr,Uue=wr,Hue=Lue,Ov=Array.prototype,Wue={DOMTokenList:!0,NodeList:!0},Vue=function(r){var t=r.values;return r===Ov||Uue(Ov,r)&&t===Ov.values||que(Wue,jue(r))?Hue:t},Gue=Vue,e5=lt(Gue),Xue=hk,Ll=lt(Xue),Kue=Jr,Yue=Kue("Array","entries"),Jue=Yue,Que=Jue,Zue=Na,efe=xr,tfe=wr,rfe=Que,Av=Array.prototype,ife={DOMTokenList:!0,NodeList:!0},nfe=function(r){var t=r.entries;return r===Av||tfe(Av,r)&&t===Av.entries||efe(ife,Zue(r))?rfe:t},afe=nfe,sfe=lt(afe);let Oh;const ofe=new Uint8Array(16);function lfe(){if(!Oh&&(Oh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Oh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oh(ofe)}const qr=[];for(let r=0;r<256;++r)qr.push((r+256).toString(16).slice(1));function ufe(r,t=0){return qr[r[t+0]]+qr[r[t+1]]+qr[r[t+2]]+qr[r[t+3]]+"-"+qr[r[t+4]]+qr[r[t+5]]+"-"+qr[r[t+6]]+qr[r[t+7]]+"-"+qr[r[t+8]]+qr[r[t+9]]+"-"+qr[r[t+10]]+qr[r[t+11]]+qr[r[t+12]]+qr[r[t+13]]+qr[r[t+14]]+qr[r[t+15]]}const ffe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var t5={randomUUID:ffe};function cfe(r,t,e){if(t5.randomUUID&&!t&&!r)return t5.randomUUID();r=r||{};const i=r.random||(r.rng||lfe)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let n=0;n<16;++n)t[e+n]=i[n];return t}return ufe(i)}function r5(r){return typeof r=="string"||typeof r=="number"}var hfe=function(){function r(t){yp(this,r),Ns(this,"_queue",[]),Ns(this,"_timeout",null),Ns(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}return zp(r,[{key:"setOptions",value:function(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,i=this._extended.methods,n=0;n<i.length;n++){var a=i[n];a.original?e[a.name]=a.original:delete e[a.name]}this._extended=null}}},{key:"replace",value:function(e,i){var n=this,a=e[i];if(!a)throw new Error("Method "+i+" undefined");e[i]=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];n.queue({args:o,fn:a,context:this})}}},{key:"queue",value:function(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=zte(function(){e.flush()},this.delay))}},{key:"flush",value:function(){var e,i;Bo(e=jk(i=this._queue).call(i,0)).call(e,function(n){n.fn.apply(n.context||n.fn,n.args||[])})}}],[{key:"extend",value:function(e,i){var n=new r(i);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var a=[{name:"flush",original:void 0}];if(i&&i.replace)for(var s=0;s<i.replace.length;s++){var o=i.replace[s];a.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:a},n}}]),r}(),mfe=function(){function r(){yp(this,r),Ns(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Ns(this,"subscribe",r.prototype.on),Ns(this,"unsubscribe",r.prototype.off)}return zp(r,[{key:"_trigger",value:function(e,i,n){var a,s;if(e==="*")throw new Error("Cannot trigger event *");Bo(a=Up(s=[]).call(s,$i(this._subscribers[e]),$i(this._subscribers["*"]))).call(a,function(o){o(e,i,n??null)})}},{key:"on",value:function(e,i){typeof i=="function"&&this._subscribers[e].push(i)}},{key:"off",value:function(e,i){var n;this._subscribers[e]=Rl(n=this._subscribers[e]).call(n,function(a){return a!==i})}}]),r}(),pfe=b9,dfe=$9;pfe("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},dfe);var vfe=Yt,gfe=vfe.Set,bfe=gfe,yfe=bfe,$fe=yfe,Iv=lt($fe),_fe=Oy,wfe=_fe,xfe=wfe,Sfe=xfe,Efe=Sfe,kfe=Efe,Tfe=kfe,Ofe=Tfe,Afe=Ofe,Ife=Afe,Cv=lt(Ife);function Rn(r,t){var e=typeof qp<"u"&&Iy(r)||r["@@iterator"];if(!e){if(Fi(r)||(e=Cfe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function Cfe(r,t){var e;if(r){if(typeof r=="string")return i5(r,t);var i=Hp(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Ay(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return i5(r,t)}}function i5(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var n5=function(r){function t(e){yp(this,t),this._pairs=e}return zp(t,[{key:r,value:di.mark(function e(){var i,n,a,s,o;return di.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=Rn(this._pairs),u.prev=1,i.s();case 3:if((n=i.n()).done){u.next=9;break}return a=pi(n.value,2),s=a[0],o=a[1],u.next=7,[s,o];case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),i.e(u.t0);case 14:return u.prev=14,i.f(),u.finish(14);case 17:case"end":return u.stop()}},e,this,[[1,11,14,17]])})},{key:"entries",value:di.mark(function e(){var i,n,a,s,o;return di.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=Rn(this._pairs),u.prev=1,i.s();case 3:if((n=i.n()).done){u.next=9;break}return a=pi(n.value,2),s=a[0],o=a[1],u.next=7,[s,o];case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),i.e(u.t0);case 14:return u.prev=14,i.f(),u.finish(14);case 17:case"end":return u.stop()}},e,this,[[1,11,14,17]])})},{key:"keys",value:di.mark(function e(){var i,n,a,s;return di.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=Rn(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return a=pi(n.value,1),s=a[0],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},e,this,[[1,11,14,17]])})},{key:"values",value:di.mark(function e(){var i,n,a,s;return di.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=Rn(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return a=pi(n.value,2),s=a[1],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},e,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var i;return $n(i=$i(this._pairs)).call(i,function(n){return n[0]})}},{key:"toItemArray",value:function(){var i;return $n(i=$i(this._pairs)).call(i,function(n){return n[1]})}},{key:"toEntryArray",value:function(){return $i(this._pairs)}},{key:"toObjectMap",value:function(){var i=dte(null),n=Rn(this._pairs),a;try{for(n.s();!(a=n.n()).done;){var s=pi(a.value,2),o=s[0],l=s[1];i[o]=l}}catch(u){n.e(u)}finally{n.f()}return i}},{key:"toMap",value:function(){return new _9(this._pairs)}},{key:"toIdSet",value:function(){return new Iv(this.toIdArray())}},{key:"toItemSet",value:function(){return new Iv(this.toItemArray())}},{key:"cache",value:function(){return new t($i(this._pairs))}},{key:"distinct",value:function(i){var n=new Iv,a=Rn(this._pairs),s;try{for(a.s();!(s=a.n()).done;){var o=pi(s.value,2),l=o[0],u=o[1];n.add(i(u,l))}}catch(f){a.e(f)}finally{a.f()}return n}},{key:"filter",value:function(i){var n=this._pairs;return new t({[Ll](){return di.mark(function a(){var s,o,l,u,f;return di.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=Rn(n),c.prev=1,s.s();case 3:if((o=s.n()).done){c.next=10;break}if(l=pi(o.value,2),u=l[0],f=l[1],!i(f,u)){c.next=8;break}return c.next=8,[u,f];case 8:c.next=3;break;case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),s.e(c.t0);case 15:return c.prev=15,s.f(),c.finish(15);case 18:case"end":return c.stop()}},a,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(i){var n=Rn(this._pairs),a;try{for(n.s();!(a=n.n()).done;){var s=pi(a.value,2),o=s[0],l=s[1];i(l,o)}}catch(u){n.e(u)}finally{n.f()}}},{key:"map",value:function(i){var n=this._pairs;return new t({[Ll](){return di.mark(function a(){var s,o,l,u,f;return di.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=Rn(n),c.prev=1,s.s();case 3:if((o=s.n()).done){c.next=9;break}return l=pi(o.value,2),u=l[0],f=l[1],c.next=7,[u,i(f,u)];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),s.e(c.t0);case 14:return c.prev=14,s.f(),c.finish(14);case 17:case"end":return c.stop()}},a,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(i){var n=Cv(this._pairs),a=n.next();if(a.done)return null;for(var s=a.value[1],o=i(a.value[1],a.value[0]);!(a=n.next()).done;){var l=pi(a.value,2),u=l[0],f=l[1],h=i(f,u);h>o&&(o=h,s=f)}return s}},{key:"min",value:function(i){var n=Cv(this._pairs),a=n.next();if(a.done)return null;for(var s=a.value[1],o=i(a.value[1],a.value[0]);!(a=n.next()).done;){var l=pi(a.value,2),u=l[0],f=l[1],h=i(f,u);h<o&&(o=h,s=f)}return s}},{key:"reduce",value:function(i,n){var a=Rn(this._pairs),s;try{for(a.s();!(s=a.n()).done;){var o=pi(s.value,2),l=o[0],u=o[1];n=i(n,u,l)}}catch(f){a.e(f)}finally{a.f()}return n}},{key:"sort",value:function(i){var n=this;return new t({[Ll]:function(){var a;return Cv(W1(a=$i(n._pairs)).call(a,function(s,o){var l=pi(s,2),u=l[0],f=l[1],h=pi(o,2),c=h[0],m=h[1];return i(f,m,u,c)}))}})}}]),t}(Ll);function a5(r,t){var e=Py(r);if(l3){var i=l3(r);t&&(i=Rl(i).call(i,function(n){return PT(r,n).enumerable})),e.push.apply(e,i)}return e}function s5(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Bo(e=a5(Object(n),!0)).call(e,function(a){Ns(r,a,n[a])}):u3?Aie(r,u3(n)):Bo(i=a5(Object(n))).call(i,function(a){Cie(r,a,PT(n,a))})}return r}function Pv(r,t){var e=typeof qp<"u"&&Iy(r)||r["@@iterator"];if(!e){if(Fi(r)||(e=Pfe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function Pfe(r,t){var e;if(r){if(typeof r=="string")return o5(r,t);var i=Hp(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Ay(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o5(r,t)}}function o5(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function Dfe(r){var t=Nfe();return function(){var i=zm(r),n;if(t){var a=zm(this).constructor;n=nm(i,arguments,a)}else n=i.apply(this,arguments);return Zie(this,n)}}function Nfe(){if(typeof Reflect>"u"||!nm||nm.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(nm(Boolean,[],function(){})),!0}catch{return!1}}function Rfe(r,t){return r[t]==null&&(r[t]=cfe()),r}var Um=function(r){Qie(e,r);var t=Dfe(e);function e(i,n){var a;return yp(this,e),a=t.call(this),Ns(RT(a),"_queue",null),i&&!Fi(i)&&(n=i,i=[]),a._options=n||{},a._data=new _9,a.length=0,a._idProp=a._options.fieldId||"id",i&&i.length&&a.add(i),a.setOptions(n),a}return zp(e,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(n){n&&n.queue!==void 0&&(n.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=hfe.extend(this,{replace:["add","update","remove"]})),n.queue&&typeof n.queue=="object"&&this._queue.setOptions(n.queue)))}},{key:"add",value:function(n,a){var s=this,o=[],l;if(Fi(n)){var u=$n(n).call(n,function(c){return c[s._idProp]});if(Xle(u).call(u,function(c){return s._data.has(c)}))throw new Error("A duplicate id was found in the parameter array.");for(var f=0,h=n.length;f<h;f++)l=this._addItem(n[f]),o.push(l)}else if(n&&typeof n=="object")l=this._addItem(n),o.push(l);else throw new Error("Unknown dataType");return o.length&&this._trigger("add",{items:o},a),o}},{key:"update",value:function(n,a){var s=this,o=[],l=[],u=[],f=[],h=this._idProp,c=function(g){var $=g[h];if($!=null&&s._data.has($)){var w=g,x=Jee({},s._data.get($)),A=s._updateItem(w);l.push(A),f.push(w),u.push(x)}else{var I=s._addItem(g);o.push(I)}};if(Fi(n))for(var m=0,v=n.length;m<v;m++)n[m]&&typeof n[m]=="object"?c(n[m]):console.warn("Ignoring input item, which is not an object at index "+m);else if(n&&typeof n=="object")c(n);else throw new Error("Unknown dataType");if(o.length&&this._trigger("add",{items:o},a),l.length){var d={items:l,oldData:u,data:f};this._trigger("update",d,a)}return Up(o).call(o,l)}},{key:"updateOnly",value:function(n,a){var s,o=this;Fi(n)||(n=[n]);var l=$n(s=$n(n).call(n,function(f){var h=o._data.get(f[o._idProp]);if(h==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:h,update:f}})).call(s,function(f){var h=f.oldData,c=f.update,m=h[o._idProp],v=Ire(h,c);return o._data.set(m,v),{id:m,oldData:h,updatedData:v}});if(l.length){var u={items:$n(l).call(l,function(f){return f.id}),oldData:$n(l).call(l,function(f){return f.oldData}),data:$n(l).call(l,function(f){return f.updatedData})};return this._trigger("update",u,a),u.items}else return[]}},{key:"get",value:function(n,a){var s=void 0,o=void 0,l=void 0;r5(n)?(s=n,l=a):Fi(n)?(o=n,l=a):l=n;var u=l&&l.returnType==="Object"?"Object":"Array",f=l&&Rl(l),h=[],c=void 0,m=void 0,v=void 0;if(s!=null)c=this._data.get(s),c&&f&&!f(c)&&(c=void 0);else if(o!=null)for(var d=0,b=o.length;d<b;d++)c=this._data.get(o[d]),c!=null&&(!f||f(c))&&h.push(c);else{var g;m=$i(wl(g=this._data).call(g));for(var $=0,w=m.length;$<w;$++)v=m[$],c=this._data.get(v),c!=null&&(!f||f(c))&&h.push(c)}if(l&&l.order&&s==null&&this._sort(h,l.order),l&&l.fields){var x=l.fields;if(s!=null&&c!=null)c=this._filterFields(c,x);else for(var A=0,I=h.length;A<I;A++)h[A]=this._filterFields(h[A],x)}if(u=="Object"){for(var D={},S=0,O=h.length;S<O;S++){var H=h[S],B=H[this._idProp];D[B]=H}return D}else if(s!=null){var V;return(V=c)!==null&&V!==void 0?V:null}else return h}},{key:"getIds",value:function(n){var a=this._data,s=n&&Rl(n),o=n&&n.order,l=$i(wl(a).call(a)),u=[];if(s)if(o){for(var f=[],h=0,c=l.length;h<c;h++){var m=l[h],v=this._data.get(m);v!=null&&s(v)&&f.push(v)}this._sort(f,o);for(var d=0,b=f.length;d<b;d++)u.push(f[d][this._idProp])}else for(var g=0,$=l.length;g<$;g++){var w=l[g],x=this._data.get(w);x!=null&&s(x)&&u.push(x[this._idProp])}else if(o){for(var A=[],I=0,D=l.length;I<D;I++){var S=l[I];A.push(a.get(S))}this._sort(A,o);for(var O=0,H=A.length;O<H;O++)u.push(A[O][this._idProp])}else for(var B=0,V=l.length;B<V;B++){var K=l[B],Q=a.get(K);Q!=null&&u.push(Q[this._idProp])}return u}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(n,a){var s=a&&Rl(a),o=this._data,l=$i(wl(o).call(o));if(a&&a.order)for(var u=this.get(a),f=0,h=u.length;f<h;f++){var c=u[f],m=c[this._idProp];n(c,m)}else for(var v=0,d=l.length;v<d;v++){var b=l[v],g=this._data.get(b);g!=null&&(!s||s(g))&&n(g,b)}}},{key:"map",value:function(n,a){for(var s=a&&Rl(a),o=[],l=this._data,u=$i(wl(l).call(l)),f=0,h=u.length;f<h;f++){var c=u[f],m=this._data.get(c);m!=null&&(!s||s(m))&&o.push(n(m,c))}return a&&a.order&&this._sort(o,a.order),o}},{key:"_filterFields",value:function(n,a){var s;return n&&mY(s=Fi(a)?a:Py(a)).call(s,function(o,l){return o[l]=n[l],o},{})}},{key:"_sort",value:function(n,a){if(typeof a=="string"){var s=a;W1(n).call(n,function(o,l){var u=o[s],f=l[s];return u>f?1:u<f?-1:0})}else if(typeof a=="function")W1(n).call(n,a);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(n,a){for(var s=[],o=[],l=Fi(n)?n:[n],u=0,f=l.length;u<f;u++){var h=this._remove(l[u]);if(h){var c=h[this._idProp];c!=null&&(s.push(c),o.push(h))}}return s.length&&this._trigger("remove",{items:s,oldData:o},a),s}},{key:"_remove",value:function(n){var a;if(r5(n)?a=n:n&&typeof n=="object"&&(a=n[this._idProp]),a!=null&&this._data.has(a)){var s=this._data.get(a)||null;return this._data.delete(a),--this.length,s}return null}},{key:"clear",value:function(n){for(var a,s=$i(wl(a=this._data).call(a)),o=[],l=0,u=s.length;l<u;l++)o.push(this._data.get(s[l]));return this._data.clear(),this.length=0,this._trigger("remove",{items:s,oldData:o},n),s}},{key:"max",value:function(n){var a,s=null,o=null,l=Pv(e5(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f[n];typeof h=="number"&&(o==null||h>o)&&(s=f,o=h)}}catch(c){l.e(c)}finally{l.f()}return s||null}},{key:"min",value:function(n){var a,s=null,o=null,l=Pv(e5(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f[n];typeof h=="number"&&(o==null||h<o)&&(s=f,o=h)}}catch(c){l.e(c)}finally{l.f()}return s||null}},{key:"distinct",value:function(n){for(var a=this._data,s=$i(wl(a).call(a)),o=[],l=0,u=0,f=s.length;u<f;u++){for(var h=s[u],c=a.get(h),m=c[n],v=!1,d=0;d<l;d++)if(o[d]==m){v=!0;break}!v&&m!==void 0&&(o[l]=m,l++)}return o}},{key:"_addItem",value:function(n){var a=Rfe(n,this._idProp),s=a[this._idProp];if(this._data.has(s))throw new Error("Cannot add item: item with id "+s+" already exists");return this._data.set(s,a),++this.length,s}},{key:"_updateItem",value:function(n){var a=n[this._idProp];if(a==null)throw new Error("Cannot update item: item has no id (item: "+_te(n)+")");var s=this._data.get(a);if(!s)throw new Error("Cannot update item: no item with id "+a+" found");return this._data.set(a,s5(s5({},s),n)),a}},{key:"stream",value:function(n){if(n){var a=this._data;return new n5({[Ll](){return di.mark(function o(){var l,u,f,h;return di.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:l=Pv(n),m.prev=1,l.s();case 3:if((u=l.n()).done){m.next=11;break}if(f=u.value,h=a.get(f),h==null){m.next=9;break}return m.next=9,[f,h];case 9:m.next=3;break;case 11:m.next=16;break;case 13:m.prev=13,m.t0=m.catch(1),l.e(m.t0);case 16:return m.prev=16,l.f(),m.finish(16);case 19:case"end":return m.stop()}},o,null,[[1,13,16,19]])})()}})}else{var s;return new n5({[Ll]:yk(s=sfe(this._data)).call(s,this._data)})}}}]),e}(mfe);function Mfe(r,t){return typeof t=="object"&&t!==null&&r===t.idProp&&typeof t.add=="function"&&typeof t.clear=="function"&&typeof t.distinct=="function"&&typeof Bo(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof $n(t)=="function"&&typeof t.max=="function"&&typeof t.min=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.remove=="function"&&typeof t.setOptions=="function"&&typeof t.stream=="function"&&typeof t.update=="function"&&typeof t.updateOnly=="function"}function S9(r,t){return typeof t=="object"&&t!==null&&r===t.idProp&&typeof Bo(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof $n(t)=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.stream=="function"&&Mfe(r,t.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.9
 * @date    2023-11-03T01:42:27.418Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ah=function(r){return r&&r.Math===Math&&r},lr=Ah(typeof globalThis=="object"&&globalThis)||Ah(typeof window=="object"&&window)||Ah(typeof self=="object"&&self)||Ah(typeof Dv=="object"&&Dv)||function(){return this}()||Dv||Function("return this")(),Tt=function(r){try{return!!r()}catch{return!0}},Bfe=Tt,xc=!Bfe(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),Ffe=xc,E9=Function.prototype,l5=E9.apply,u5=E9.call,Sc=typeof Reflect=="object"&&Reflect.apply||(Ffe?u5.bind(l5):function(){return u5.apply(l5,arguments)}),k9=xc,T9=Function.prototype,V1=T9.call,zfe=k9&&T9.bind.bind(V1,V1),At=k9?zfe:function(r){return function(){return V1.apply(r,arguments)}},O9=At,Lfe=O9({}.toString),jfe=O9("".slice),Ra=function(r){return jfe(Lfe(r),8,-1)},qfe=Ra,Ufe=At,Yy=function(r){if(qfe(r)==="Function")return Ufe(r)},G1=typeof document=="object"&&document.all,Hfe=typeof G1>"u"&&G1!==void 0,A9={all:G1,IS_HTMLDDA:Hfe},I9=A9,Wfe=I9.all,Dr=I9.IS_HTMLDDA?function(r){return typeof r=="function"||r===Wfe}:function(r){return typeof r=="function"},Pu={},Vfe=Tt,Nr=!Vfe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Gfe=xc,Ih=Function.prototype.call,Hi=Gfe?Ih.bind(Ih):function(){return Ih.apply(Ih,arguments)},Kp={},C9={}.propertyIsEnumerable,P9=Object.getOwnPropertyDescriptor,Xfe=P9&&!C9.call({1:2},1);Kp.f=Xfe?function(t){var e=P9(this,t);return!!e&&e.enumerable}:C9;var Ec=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}},Kfe=At,Yfe=Tt,Jfe=Ra,Nv=Object,Qfe=Kfe("".split),Yp=Yfe(function(){return!Nv("z").propertyIsEnumerable(0)})?function(r){return Jfe(r)==="String"?Qfe(r,""):Nv(r)}:Nv,Du=function(r){return r==null},Zfe=Du,ece=TypeError,kc=function(r){if(Zfe(r))throw new ece("Can't call method on "+r);return r},tce=Yp,rce=kc,ia=function(r){return tce(rce(r))},f5=Dr,D9=A9,ice=D9.all,Rr=D9.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:f5(r)||r===ice}:function(r){return typeof r=="object"?r!==null:f5(r)},Ot={},Rv=Ot,Mv=lr,nce=Dr,c5=function(r){return nce(r)?r:void 0},hn=function(r,t){return arguments.length<2?c5(Rv[r])||c5(Mv[r]):Rv[r]&&Rv[r][t]||Mv[r]&&Mv[r][t]},ace=At,dr=ace({}.isPrototypeOf),Tc=typeof navigator<"u"&&String(navigator.userAgent)||"",N9=lr,Bv=Tc,h5=N9.process,m5=N9.Deno,p5=h5&&h5.versions||m5&&m5.version,d5=p5&&p5.v8,_n,Hm;d5&&(_n=d5.split("."),Hm=_n[0]>0&&_n[0]<4?1:+(_n[0]+_n[1]));!Hm&&Bv&&(_n=Bv.match(/Edge\/(\d+)/),(!_n||_n[1]>=74)&&(_n=Bv.match(/Chrome\/(\d+)/),_n&&(Hm=+_n[1])));var Oc=Hm,v5=Oc,sce=Tt,oce=lr,lce=oce.String,Nu=!!Object.getOwnPropertySymbols&&!sce(function(){var r=Symbol("symbol detection");return!lce(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&v5&&v5<41}),uce=Nu,R9=uce&&!Symbol.sham&&typeof Symbol.iterator=="symbol",fce=hn,cce=Dr,hce=dr,mce=R9,pce=Object,Ac=mce?function(r){return typeof r=="symbol"}:function(r){var t=fce("Symbol");return cce(t)&&hce(t.prototype,pce(r))},dce=String,Ru=function(r){try{return dce(r)}catch{return"Object"}},vce=Dr,gce=Ru,bce=TypeError,tl=function(r){if(vce(r))return r;throw new bce(gce(r)+" is not a function")},yce=tl,$ce=Du,Jy=function(r,t){var e=r[t];return $ce(e)?void 0:yce(e)},Fv=Hi,zv=Dr,Lv=Rr,_ce=TypeError,wce=function(r,t){var e,i;if(t==="string"&&zv(e=r.toString)&&!Lv(i=Fv(e,r))||zv(e=r.valueOf)&&!Lv(i=Fv(e,r))||t!=="string"&&zv(e=r.toString)&&!Lv(i=Fv(e,r)))return i;throw new _ce("Can't convert object to primitive value")},M9={exports:{}},g5=lr,xce=Object.defineProperty,Sce=function(r,t){try{xce(g5,r,{value:t,configurable:!0,writable:!0})}catch{g5[r]=t}return t},Ece=lr,kce=Sce,b5="__core-js_shared__",Tce=Ece[b5]||kce(b5,{}),Qy=Tce,y5=Qy;(M9.exports=function(r,t){return y5[r]||(y5[r]=t!==void 0?t:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Mu=M9.exports,Oce=kc,Ace=Object,Ci=function(r){return Ace(Oce(r))},Ice=At,Cce=Ci,Pce=Ice({}.hasOwnProperty),Mr=Object.hasOwn||function(t,e){return Pce(Cce(t),e)},Dce=At,Nce=0,Rce=Math.random(),Mce=Dce(1 .toString),Jp=function(r){return"Symbol("+(r===void 0?"":r)+")_"+Mce(++Nce+Rce,36)},Bce=lr,Fce=Mu,$5=Mr,zce=Jp,Lce=Nu,jce=R9,jl=Bce.Symbol,jv=Fce("wks"),qce=jce?jl.for||jl:jl&&jl.withoutSetter||zce,ur=function(r){return $5(jv,r)||(jv[r]=Lce&&$5(jl,r)?jl[r]:qce("Symbol."+r)),jv[r]},Uce=Hi,_5=Rr,w5=Ac,Hce=Jy,Wce=wce,Vce=ur,Gce=TypeError,Xce=Vce("toPrimitive"),Kce=function(r,t){if(!_5(r)||w5(r))return r;var e=Hce(r,Xce),i;if(e){if(t===void 0&&(t="default"),i=Uce(e,r,t),!_5(i)||w5(i))return i;throw new Gce("Can't convert object to primitive value")}return t===void 0&&(t="number"),Wce(r,t)},Yce=Kce,Jce=Ac,Qp=function(r){var t=Yce(r,"string");return Jce(t)?t:t+""},Qce=lr,x5=Rr,X1=Qce.document,Zce=x5(X1)&&x5(X1.createElement),B9=function(r){return Zce?X1.createElement(r):{}},ehe=Nr,the=Tt,rhe=B9,F9=!ehe&&!the(function(){return Object.defineProperty(rhe("div"),"a",{get:function(){return 7}}).a!==7}),ihe=Nr,nhe=Hi,ahe=Kp,she=Ec,ohe=ia,lhe=Qp,uhe=Mr,fhe=F9,S5=Object.getOwnPropertyDescriptor;Pu.f=ihe?S5:function(t,e){if(t=ohe(t),e=lhe(e),fhe)try{return S5(t,e)}catch{}if(uhe(t,e))return she(!nhe(ahe.f,t,e),t[e])};var che=Tt,hhe=Dr,mhe=/#|\.prototype\./,Ic=function(r,t){var e=dhe[phe(r)];return e===ghe?!0:e===vhe?!1:hhe(t)?che(t):!!t},phe=Ic.normalize=function(r){return String(r).replace(mhe,".").toLowerCase()},dhe=Ic.data={},vhe=Ic.NATIVE="N",ghe=Ic.POLYFILL="P",bhe=Ic,E5=Yy,yhe=tl,$he=xc,_he=E5(E5.bind),Cc=function(r,t){return yhe(r),t===void 0?r:$he?_he(r,t):function(){return r.apply(t,arguments)}},Wi={},whe=Nr,xhe=Tt,z9=whe&&xhe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),She=Rr,Ehe=String,khe=TypeError,Vi=function(r){if(She(r))return r;throw new khe(Ehe(r)+" is not an object")},The=Nr,Ohe=F9,Ahe=z9,Ch=Vi,k5=Qp,Ihe=TypeError,qv=Object.defineProperty,Che=Object.getOwnPropertyDescriptor,Uv="enumerable",Hv="configurable",Wv="writable";Wi.f=The?Ahe?function(t,e,i){if(Ch(t),e=k5(e),Ch(i),typeof t=="function"&&e==="prototype"&&"value"in i&&Wv in i&&!i[Wv]){var n=Che(t,e);n&&n[Wv]&&(t[e]=i.value,i={configurable:Hv in i?i[Hv]:n[Hv],enumerable:Uv in i?i[Uv]:n[Uv],writable:!1})}return qv(t,e,i)}:qv:function(t,e,i){if(Ch(t),e=k5(e),Ch(i),Ohe)try{return qv(t,e,i)}catch{}if("get"in i||"set"in i)throw new Ihe("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var Phe=Nr,Dhe=Wi,Nhe=Ec,Bu=Phe?function(r,t,e){return Dhe.f(r,t,Nhe(1,e))}:function(r,t,e){return r[t]=e,r},Ph=lr,Rhe=Sc,Mhe=Yy,Bhe=Dr,Fhe=Pu.f,zhe=bhe,xl=Ot,Lhe=Cc,Sl=Bu,T5=Mr,jhe=function(r){var t=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,i)}return new r(e,i,n)}return Rhe(r,this,arguments)};return t.prototype=r.prototype,t},ot=function(r,t){var e=r.target,i=r.global,n=r.stat,a=r.proto,s=i?Ph:n?Ph[e]:(Ph[e]||{}).prototype,o=i?xl:xl[e]||Sl(xl,e,{})[e],l=o.prototype,u,f,h,c,m,v,d,b,g;for(c in t)u=zhe(i?c:e+(n?".":"#")+c,r.forced),f=!u&&s&&T5(s,c),v=o[c],f&&(r.dontCallGetSet?(g=Fhe(s,c),d=g&&g.value):d=s[c]),m=f&&d?d:t[c],!(f&&typeof v==typeof m)&&(r.bind&&f?b=Lhe(m,Ph):r.wrap&&f?b=jhe(m):a&&Bhe(m)?b=Mhe(m):b=m,(r.sham||m&&m.sham||v&&v.sham)&&Sl(b,"sham",!0),Sl(o,c,b),a&&(h=e+"Prototype",T5(xl,h)||Sl(xl,h,{}),Sl(xl[h],c,m),r.real&&l&&(u||!l[c])&&Sl(l,c,m)))},qhe=Math.ceil,Uhe=Math.floor,Hhe=Math.trunc||function(t){var e=+t;return(e>0?Uhe:qhe)(e)},Whe=Hhe,Zp=function(r){var t=+r;return t!==t||t===0?0:Whe(t)},Vhe=Zp,Ghe=Math.max,Xhe=Math.min,Pc=function(r,t){var e=Vhe(r);return e<0?Ghe(e+t,0):Xhe(e,t)},Khe=Zp,Yhe=Math.min,Jhe=function(r){return r>0?Yhe(Khe(r),9007199254740991):0},Qhe=Jhe,mn=function(r){return Qhe(r.length)},Zhe=ia,eme=Pc,tme=mn,O5=function(r){return function(t,e,i){var n=Zhe(t),a=tme(n),s=eme(i,a),o;if(r&&e!==e){for(;a>s;)if(o=n[s++],o!==o)return!0}else for(;a>s;s++)if((r||s in n)&&n[s]===e)return r||s||0;return!r&&-1}},Zy={includes:O5(!0),indexOf:O5(!1)},Dc={},rme=At,Vv=Mr,ime=ia,nme=Zy.indexOf,ame=Dc,A5=rme([].push),L9=function(r,t){var e=ime(r),i=0,n=[],a;for(a in e)!Vv(ame,a)&&Vv(e,a)&&A5(n,a);for(;t.length>i;)Vv(e,a=t[i++])&&(~nme(n,a)||A5(n,a));return n},e$=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],sme=L9,ome=e$,ed=Object.keys||function(t){return sme(t,ome)},Nc={};Nc.f=Object.getOwnPropertySymbols;var I5=Nr,lme=At,ume=Hi,fme=Tt,Gv=ed,cme=Nc,hme=Kp,mme=Ci,pme=Yp,El=Object.assign,C5=Object.defineProperty,dme=lme([].concat),vme=!El||fme(function(){if(I5&&El({b:1},El(C5({},"a",{enumerable:!0,get:function(){C5(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},t={},e=Symbol("assign detection"),i="abcdefghijklmnopqrst";return r[e]=7,i.split("").forEach(function(n){t[n]=n}),El({},r)[e]!==7||Gv(El({},t)).join("")!==i})?function(t,e){for(var i=mme(t),n=arguments.length,a=1,s=cme.f,o=hme.f;n>a;)for(var l=pme(arguments[a++]),u=s?dme(Gv(l),s(l)):Gv(l),f=u.length,h=0,c;f>h;)c=u[h++],(!I5||ume(o,l,c))&&(i[c]=l[c]);return i}:El,gme=ot,P5=vme;gme({target:"Object",stat:!0,arity:2,forced:Object.assign!==P5},{assign:P5});var bme=Ot,yme=bme.Object.assign,$me=yme,_me=$me,wme=_me,yr=Qe(wme),xme=At,td=xme([].slice),j9=At,Sme=tl,Eme=Rr,kme=Mr,D5=td,Tme=xc,q9=Function,Ome=j9([].concat),Ame=j9([].join),Xv={},Ime=function(r,t,e){if(!kme(Xv,t)){for(var i=[],n=0;n<t;n++)i[n]="a["+n+"]";Xv[t]=q9("C,a","return new C("+Ame(i,",")+")")}return Xv[t](r,e)},U9=Tme?q9.bind:function(t){var e=Sme(this),i=e.prototype,n=D5(arguments,1),a=function(){var o=Ome(n,D5(arguments));return this instanceof a?Ime(e,o.length,o):e.apply(t,o)};return Eme(i)&&(a.prototype=i),a},Cme=ot,N5=U9;Cme({target:"Function",proto:!0,forced:Function.bind!==N5},{bind:N5});var Pme=Ot,Br=function(r){return Pme[r+"Prototype"]},Dme=Br,Nme=Dme("Function").bind,Rme=dr,Mme=Nme,Kv=Function.prototype,Bme=function(r){var t=r.bind;return r===Kv||Rme(Kv,r)&&t===Kv.bind?Mme:t},Fme=Bme,H9=Fme,zme=H9,Le=Qe(zme);function t$(r,t,e,i){r.beginPath(),r.arc(t,e,i,0,2*Math.PI,!1),r.closePath()}function Lme(r,t,e,i){r.beginPath(),r.rect(t-i,e-i,i*2,i*2),r.closePath()}function jme(r,t,e,i){r.beginPath(),i*=1.15,e+=.275*i;var n=i*2,a=n/2,s=Math.sqrt(3)/6*n,o=Math.sqrt(n*n-a*a);r.moveTo(t,e-(o-s)),r.lineTo(t+a,e+s),r.lineTo(t-a,e+s),r.lineTo(t,e-(o-s)),r.closePath()}function qme(r,t,e,i){r.beginPath(),i*=1.15,e-=.275*i;var n=i*2,a=n/2,s=Math.sqrt(3)/6*n,o=Math.sqrt(n*n-a*a);r.moveTo(t,e+(o-s)),r.lineTo(t+a,e-s),r.lineTo(t-a,e-s),r.lineTo(t,e+(o-s)),r.closePath()}function Ume(r,t,e,i){r.beginPath(),i*=.82,e+=.1*i;for(var n=0;n<10;n++){var a=n%2===0?i*1.3:i*.5;r.lineTo(t+a*Math.sin(n*2*Math.PI/10),e-a*Math.cos(n*2*Math.PI/10))}r.closePath()}function Hme(r,t,e,i){r.beginPath(),r.lineTo(t,e+i),r.lineTo(t+i,e),r.lineTo(t,e-i),r.lineTo(t-i,e),r.closePath()}function W9(r,t,e,i,n,a){var s=Math.PI/180;i-2*a<0&&(a=i/2),n-2*a<0&&(a=n/2),r.beginPath(),r.moveTo(t+a,e),r.lineTo(t+i-a,e),r.arc(t+i-a,e+a,a,s*270,s*360,!1),r.lineTo(t+i,e+n-a),r.arc(t+i-a,e+n-a,a,0,s*90,!1),r.lineTo(t+a,e+n),r.arc(t+a,e+n-a,a,s*90,s*180,!1),r.lineTo(t,e+a),r.arc(t+a,e+a,a,s*180,s*270,!1),r.closePath()}function K1(r,t,e,i,n){var a=.5522848,s=i/2*a,o=n/2*a,l=t+i,u=e+n,f=t+i/2,h=e+n/2;r.beginPath(),r.moveTo(t,h),r.bezierCurveTo(t,h-o,f-s,e,f,e),r.bezierCurveTo(f+s,e,l,h-o,l,h),r.bezierCurveTo(l,h+o,f+s,u,f,u),r.bezierCurveTo(f-s,u,t,h+o,t,h),r.closePath()}function V9(r,t,e,i,n){var a=.3333333333333333,s=i,o=n*a,l=.5522848,u=s/2*l,f=o/2*l,h=t+s,c=e+o,m=t+s/2,v=e+o/2,d=e+(n-o/2),b=e+n;r.beginPath(),r.moveTo(h,v),r.bezierCurveTo(h,v+f,m+u,c,m,c),r.bezierCurveTo(m-u,c,t,v+f,t,v),r.bezierCurveTo(t,v-f,m-u,e,m,e),r.bezierCurveTo(m+u,e,h,v-f,h,v),r.lineTo(h,d),r.bezierCurveTo(h,d+f,m+u,b,m,b),r.bezierCurveTo(m-u,b,t,d+f,t,d),r.lineTo(t,v)}function G9(r,t,e,i,n,a){r.beginPath(),r.moveTo(t,e);for(var s=a.length,o=i-t,l=n-e,u=l/o,f=Math.sqrt(o*o+l*l),h=0,c=!0,m=0,v=+a[0];f>=.1;)v=+a[h++%s],v>f&&(v=f),m=Math.sqrt(v*v/(1+u*u)),m=o<0?-m:m,t+=m,e+=u*m,c===!0?r.lineTo(t,e):r.moveTo(t,e),f-=v,c=!c}function Wme(r,t,e,i){r.beginPath();var n=6,a=Math.PI*2/n;r.moveTo(t+i,e);for(var s=1;s<n;s++)r.lineTo(t+i*Math.cos(a*s),e+i*Math.sin(a*s));r.closePath()}var R5={circle:t$,dashedLine:G9,database:V9,diamond:Hme,ellipse:K1,ellipse_vis:K1,hexagon:Wme,roundRect:W9,square:Lme,star:Ume,triangle:jme,triangleDown:qme};function Vme(r){return Object.prototype.hasOwnProperty.call(R5,r)?R5[r]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[r].call(t,i)}}var X9={exports:{}};(function(r){r.exports=t;function t(i){if(i)return e(i)}function e(i){for(var n in t.prototype)i[n]=t.prototype[n];return i}t.prototype.on=t.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this},t.prototype.once=function(i,n){function a(){this.off(i,a),n.apply(this,arguments)}return a.fn=n,this.on(i,a),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+i];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var s,o=0;o<a.length;o++)if(s=a[o],s===n||s.fn===n){a.splice(o,1);break}return a.length===0&&delete this._callbacks["$"+i],this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),a=this._callbacks["$"+i],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(a){a=a.slice(0);for(var s=0,o=a.length;s<o;++s)a[s].apply(this,n)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(X9);var Gme=X9.exports,K9=Qe(Gme),Xme=ur,Kme=Xme("toStringTag"),Y9={};Y9[Kme]="z";var r$=String(Y9)==="[object z]",Yme=r$,Jme=Dr,lm=Ra,Qme=ur,Zme=Qme("toStringTag"),epe=Object,tpe=lm(function(){return arguments}())==="Arguments",rpe=function(r,t){try{return r[t]}catch{}},rl=Yme?lm:function(r){var t,e,i;return r===void 0?"Undefined":r===null?"Null":typeof(e=rpe(t=epe(r),Zme))=="string"?e:tpe?lm(t):(i=lm(t))==="Object"&&Jme(t.callee)?"Arguments":i},ipe=rl,npe=String,na=function(r){if(ipe(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return npe(r)},i$=At,ape=Zp,spe=na,ope=kc,lpe=i$("".charAt),M5=i$("".charCodeAt),upe=i$("".slice),B5=function(r){return function(t,e){var i=spe(ope(t)),n=ape(e),a=i.length,s,o;return n<0||n>=a?r?"":void 0:(s=M5(i,n),s<55296||s>56319||n+1===a||(o=M5(i,n+1))<56320||o>57343?r?lpe(i,n):s:r?upe(i,n,n+2):(s-55296<<10)+(o-56320)+65536)}},fpe={codeAt:B5(!1),charAt:B5(!0)},cpe=lr,hpe=Dr,F5=cpe.WeakMap,J9=hpe(F5)&&/native code/.test(String(F5)),mpe=Mu,ppe=Jp,z5=mpe("keys"),rd=function(r){return z5[r]||(z5[r]=ppe(r))},dpe=J9,Q9=lr,vpe=Rr,gpe=Bu,Yv=Mr,Jv=Qy,bpe=rd,ype=Dc,L5="Object already initialized",Y1=Q9.TypeError,$pe=Q9.WeakMap,Wm,Uf,Vm,_pe=function(r){return Vm(r)?Uf(r):Wm(r,{})},wpe=function(r){return function(t){var e;if(!vpe(t)||(e=Uf(t)).type!==r)throw new Y1("Incompatible receiver, "+r+" required");return e}};if(dpe||Jv.state){var Mn=Jv.state||(Jv.state=new $pe);Mn.get=Mn.get,Mn.has=Mn.has,Mn.set=Mn.set,Wm=function(r,t){if(Mn.has(r))throw new Y1(L5);return t.facade=r,Mn.set(r,t),t},Uf=function(r){return Mn.get(r)||{}},Vm=function(r){return Mn.has(r)}}else{var kl=bpe("state");ype[kl]=!0,Wm=function(r,t){if(Yv(r,kl))throw new Y1(L5);return t.facade=r,gpe(r,kl,t),t},Uf=function(r){return Yv(r,kl)?r[kl]:{}},Vm=function(r){return Yv(r,kl)}}var il={set:Wm,get:Uf,has:Vm,enforce:_pe,getterFor:wpe},J1=Nr,xpe=Mr,Z9=Function.prototype,Spe=J1&&Object.getOwnPropertyDescriptor,n$=xpe(Z9,"name"),Epe=n$&&(function(){}).name==="something",kpe=n$&&(!J1||J1&&Spe(Z9,"name").configurable),Tpe={EXISTS:n$,PROPER:Epe,CONFIGURABLE:kpe},id={},Ope=Nr,Ape=z9,Ipe=Wi,Cpe=Vi,Ppe=ia,Dpe=ed;id.f=Ope&&!Ape?Object.defineProperties:function(t,e){Cpe(t);for(var i=Ppe(e),n=Dpe(e),a=n.length,s=0,o;a>s;)Ipe.f(t,o=n[s++],i[o]);return t};var Npe=hn,Rpe=Npe("document","documentElement"),Mpe=Vi,Bpe=id,j5=e$,Fpe=Dc,zpe=Rpe,Lpe=B9,jpe=rd,q5=">",U5="<",Q1="prototype",Z1="script",eO=jpe("IE_PROTO"),Qv=function(){},tO=function(r){return U5+Z1+q5+r+U5+"/"+Z1+q5},H5=function(r){r.write(tO("")),r.close();var t=r.parentWindow.Object;return r=null,t},qpe=function(){var r=Lpe("iframe"),t="java"+Z1+":",e;return r.style.display="none",zpe.appendChild(r),r.src=String(t),e=r.contentWindow.document,e.open(),e.write(tO("document.F=Object")),e.close(),e.F},Dh,um=function(){try{Dh=new ActiveXObject("htmlfile")}catch{}um=typeof document<"u"?document.domain&&Dh?H5(Dh):qpe():H5(Dh);for(var r=j5.length;r--;)delete um[Q1][j5[r]];return um()};Fpe[eO]=!0;var Fu=Object.create||function(t,e){var i;return t!==null?(Qv[Q1]=Mpe(t),i=new Qv,Qv[Q1]=null,i[eO]=t):i=um(),e===void 0?i:Bpe.f(i,e)},Upe=Tt,rO=!Upe(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),Hpe=Mr,Wpe=Dr,Vpe=Ci,Gpe=rd,Xpe=rO,W5=Gpe("IE_PROTO"),eb=Object,Kpe=eb.prototype,nd=Xpe?eb.getPrototypeOf:function(r){var t=Vpe(r);if(Hpe(t,W5))return t[W5];var e=t.constructor;return Wpe(e)&&t instanceof e?e.prototype:t instanceof eb?Kpe:null},Ype=Bu,Rc=function(r,t,e,i){return i&&i.enumerable?r[t]=e:Ype(r,t,e),r},Jpe=Tt,Qpe=Dr,Zpe=Rr,ede=Fu,V5=nd,tde=Rc,rde=ur,tb=rde("iterator"),iO=!1,ga,Zv,eg;[].keys&&(eg=[].keys(),"next"in eg?(Zv=V5(V5(eg)),Zv!==Object.prototype&&(ga=Zv)):iO=!0);var ide=!Zpe(ga)||Jpe(function(){var r={};return ga[tb].call(r)!==r});ide?ga={}:ga=ede(ga);Qpe(ga[tb])||tde(ga,tb,function(){return this});var nO={IteratorPrototype:ga,BUGGY_SAFARI_ITERATORS:iO},nde=r$,ade=rl,sde=nde?{}.toString:function(){return"[object "+ade(this)+"]"},ode=r$,lde=Wi.f,ude=Bu,fde=Mr,cde=sde,hde=ur,G5=hde("toStringTag"),zu=function(r,t,e,i){if(r){var n=e?r:r.prototype;fde(n,G5)||lde(n,G5,{configurable:!0,value:t}),i&&!ode&&ude(n,"toString",cde)}},Lu={},mde=nO.IteratorPrototype,pde=Fu,dde=Ec,vde=zu,gde=Lu,bde=function(){return this},yde=function(r,t,e,i){var n=t+" Iterator";return r.prototype=pde(mde,{next:dde(+!i,e)}),vde(r,n,!1,!0),gde[n]=bde,r},$de=At,_de=tl,wde=function(r,t,e){try{return $de(_de(Object.getOwnPropertyDescriptor(r,t)[e]))}catch{}},xde=Dr,Sde=String,Ede=TypeError,kde=function(r){if(typeof r=="object"||xde(r))return r;throw new Ede("Can't set "+Sde(r)+" as a prototype")},Tde=wde,Ode=Vi,Ade=kde,Ide=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,t={},e;try{e=Tde(Object.prototype,"__proto__","set"),e(t,[]),r=t instanceof Array}catch{}return function(n,a){return Ode(n),Ade(a),r?e(n,a):n.__proto__=a,n}}():void 0),Cde=ot,Pde=Hi,Dde=Tpe,Nde=yde,Rde=nd,Mde=zu,X5=Rc,Bde=ur,K5=Lu,Fde=nO,zde=Dde.PROPER,Nh=Fde.BUGGY_SAFARI_ITERATORS,tg=Bde("iterator"),Y5="keys",Rh="values",J5="entries",Lde=function(){return this},a$=function(r,t,e,i,n,a,s){Nde(e,t,i);var o=function(g){if(g===n&&c)return c;if(!Nh&&g&&g in f)return f[g];switch(g){case Y5:return function(){return new e(this,g)};case Rh:return function(){return new e(this,g)};case J5:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,f=r.prototype,h=f[tg]||f["@@iterator"]||n&&f[n],c=!Nh&&h||o(n),m=t==="Array"&&f.entries||h,v,d,b;if(m&&(v=Rde(m.call(new r)),v!==Object.prototype&&v.next&&(Mde(v,l,!0,!0),K5[l]=Lde)),zde&&n===Rh&&h&&h.name!==Rh&&(u=!0,c=function(){return Pde(h,this)}),n)if(d={values:o(Rh),keys:a?c:o(Y5),entries:o(J5)},s)for(b in d)(Nh||u||!(b in f))&&X5(f,b,d[b]);else Cde({target:t,proto:!0,forced:Nh||u},d);return s&&f[tg]!==c&&X5(f,tg,c,{name:n}),K5[t]=c,d},s$=function(r,t){return{value:r,done:t}},jde=fpe.charAt,qde=na,aO=il,Ude=a$,Q5=s$,sO="String Iterator",Hde=aO.set,Wde=aO.getterFor(sO);Ude(String,"String",function(r){Hde(this,{type:sO,string:qde(r),index:0})},function(){var t=Wde(this),e=t.string,i=t.index,n;return i>=e.length?Q5(void 0,!0):(n=jde(e,i),t.index+=n.length,Q5(n,!1))});var Vde=Hi,Z5=Vi,Gde=Jy,oO=function(r,t,e){var i,n;Z5(r);try{if(i=Gde(r,"return"),!i){if(t==="throw")throw e;return e}i=Vde(i,r)}catch(a){n=!0,i=a}if(t==="throw")throw e;if(n)throw i;return Z5(i),e},Xde=Vi,Kde=oO,Yde=function(r,t,e,i){try{return i?t(Xde(e)[0],e[1]):t(e)}catch(n){Kde(r,"throw",n)}},Jde=ur,Qde=Lu,Zde=Jde("iterator"),e0e=Array.prototype,lO=function(r){return r!==void 0&&(Qde.Array===r||e0e[Zde]===r)},t0e=At,r0e=Dr,rb=Qy,i0e=t0e(Function.toString);r0e(rb.inspectSource)||(rb.inspectSource=function(r){return i0e(r)});var n0e=rb.inspectSource,a0e=At,s0e=Tt,uO=Dr,o0e=rl,l0e=hn,u0e=n0e,fO=function(){},f0e=[],cO=l0e("Reflect","construct"),o$=/^\s*(?:class|function)\b/,c0e=a0e(o$.exec),h0e=!o$.test(fO),Qu=function(t){if(!uO(t))return!1;try{return cO(fO,f0e,t),!0}catch{return!1}},hO=function(t){if(!uO(t))return!1;switch(o0e(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h0e||!!c0e(o$,u0e(t))}catch{return!0}};hO.sham=!0;var ad=!cO||s0e(function(){var r;return Qu(Qu.call)||!Qu(Object)||!Qu(function(){r=!0})||r})?hO:Qu,m0e=Qp,p0e=Wi,d0e=Ec,ju=function(r,t,e){var i=m0e(t);i in r?p0e.f(r,i,d0e(0,e)):r[i]=e},v0e=rl,e6=Jy,g0e=Du,b0e=Lu,y0e=ur,$0e=y0e("iterator"),sd=function(r){if(!g0e(r))return e6(r,$0e)||e6(r,"@@iterator")||b0e[v0e(r)]},_0e=Hi,w0e=tl,x0e=Vi,S0e=Ru,E0e=sd,k0e=TypeError,mO=function(r,t){var e=arguments.length<2?E0e(r):t;if(w0e(e))return x0e(_0e(e,r));throw new k0e(S0e(r)+" is not iterable")},T0e=Cc,O0e=Hi,A0e=Ci,I0e=Yde,C0e=lO,P0e=ad,D0e=mn,t6=ju,N0e=mO,R0e=sd,r6=Array,M0e=function(t){var e=A0e(t),i=P0e(this),n=arguments.length,a=n>1?arguments[1]:void 0,s=a!==void 0;s&&(a=T0e(a,n>2?arguments[2]:void 0));var o=R0e(e),l=0,u,f,h,c,m,v;if(o&&!(this===r6&&C0e(o)))for(c=N0e(e,o),m=c.next,f=i?new this:[];!(h=O0e(m,c)).done;l++)v=s?I0e(c,a,[h.value,l],!0):h.value,t6(f,l,v);else for(u=D0e(e),f=i?new this(u):r6(u);u>l;l++)v=s?a(e[l],l):e[l],t6(f,l,v);return f.length=l,f},B0e=ur,pO=B0e("iterator"),dO=!1;try{var F0e=0,i6={next:function(){return{done:!!F0e++}},return:function(){dO=!0}};i6[pO]=function(){return this},Array.from(i6,function(){throw 2})}catch{}var z0e=function(r,t){try{if(!t&&!dO)return!1}catch{return!1}var e=!1;try{var i={};i[pO]=function(){return{next:function(){return{done:e=!0}}}},r(i)}catch{}return e},L0e=ot,j0e=M0e,q0e=z0e,U0e=!q0e(function(r){Array.from(r)});L0e({target:"Array",stat:!0,forced:U0e},{from:j0e});var H0e=Ot,W0e=H0e.Array.from,V0e=W0e,vO=V0e,G0e=vO,nl=Qe(G0e),X0e=ia,n6=Lu,gO=il;Wi.f;var K0e=a$,Mh=s$,bO="Array Iterator",Y0e=gO.set,J0e=gO.getterFor(bO);K0e(Array,"Array",function(r,t){Y0e(this,{type:bO,target:X0e(r),index:0,kind:t})},function(){var r=J0e(this),t=r.target,e=r.kind,i=r.index++;if(!t||i>=t.length)return r.target=void 0,Mh(void 0,!0);switch(e){case"keys":return Mh(i,!1);case"values":return Mh(t[i],!1)}return Mh([i,t[i]],!1)},"values");n6.Arguments=n6.Array;var Q0e=sd,Z0e=Q0e,eve={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},tve=eve,rve=lr,ive=rl,nve=Bu,a6=Lu,ave=ur,s6=ave("toStringTag");for(var rg in tve){var o6=rve[rg],ig=o6&&o6.prototype;ig&&ive(ig)!==s6&&nve(ig,s6,rg),a6[rg]=a6.Array}var sve=Z0e,ove=sve,lve=ove,uve=lve,fve=uve,cve=fve,yO=cve,$O=Qe(yO),hve=yO,al=Qe(hve);function He(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var _O={exports:{}},mve=ot,pve=Nr,l6=Wi.f;mve({target:"Object",stat:!0,forced:Object.defineProperty!==l6,sham:!pve},{defineProperty:l6});var dve=Ot,wO=dve.Object,vve=_O.exports=function(t,e,i){return wO.defineProperty(t,e,i)};wO.defineProperty.sham&&(vve.sham=!0);var gve=_O.exports,bve=gve,xO=bve,yve=xO,$ve=yve,_ve=$ve,wve=_ve,xve=wve,od=Qe(xve),Sve=Ra,sl=Array.isArray||function(t){return Sve(t)==="Array"},Eve=TypeError,kve=9007199254740991,l$=function(r){if(r>kve)throw Eve("Maximum allowed index exceeded");return r},u6=sl,Tve=ad,Ove=Rr,Ave=ur,Ive=Ave("species"),f6=Array,Cve=function(r){var t;return u6(r)&&(t=r.constructor,Tve(t)&&(t===f6||u6(t.prototype))?t=void 0:Ove(t)&&(t=t[Ive],t===null&&(t=void 0))),t===void 0?f6:t},Pve=Cve,u$=function(r,t){return new(Pve(r))(t===0?0:t)},Dve=Tt,Nve=ur,Rve=Oc,Mve=Nve("species"),Mc=function(r){return Rve>=51||!Dve(function(){var t=[],e=t.constructor={};return e[Mve]=function(){return{foo:1}},t[r](Boolean).foo!==1})},Bve=ot,Fve=Tt,zve=sl,Lve=Rr,jve=Ci,qve=mn,c6=l$,h6=ju,Uve=u$,Hve=Mc,Wve=ur,Vve=Oc,SO=Wve("isConcatSpreadable"),Gve=Vve>=51||!Fve(function(){var r=[];return r[SO]=!1,r.concat()[0]!==r}),Xve=function(r){if(!Lve(r))return!1;var t=r[SO];return t!==void 0?!!t:zve(r)},Kve=!Gve||!Hve("concat");Bve({target:"Array",proto:!0,arity:1,forced:Kve},{concat:function(t){var e=jve(this),i=Uve(e,0),n=0,a,s,o,l,u;for(a=-1,o=arguments.length;a<o;a++)if(u=a===-1?e:arguments[a],Xve(u))for(l=qve(u),c6(n+l),s=0;s<l;s++,n++)s in u&&h6(i,n,u[s]);else c6(n+1),h6(i,n++,u);return i.length=n,i}});var Bc={},Yve=L9,Jve=e$,Qve=Jve.concat("length","prototype");Bc.f=Object.getOwnPropertyNames||function(t){return Yve(t,Qve)};var ld={},m6=Pc,Zve=mn,ege=ju,tge=Array,rge=Math.max,EO=function(r,t,e){for(var i=Zve(r),n=m6(t,i),a=m6(e===void 0?i:e,i),s=tge(rge(a-n,0)),o=0;n<a;n++,o++)ege(s,o,r[n]);return s.length=o,s},ige=Ra,nge=ia,kO=Bc.f,age=EO,TO=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],sge=function(r){try{return kO(r)}catch{return age(TO)}};ld.f=function(t){return TO&&ige(t)==="Window"?sge(t):kO(nge(t))};var oge=Wi,f$=function(r,t,e){return oge.f(r,t,e)},Fc={},lge=ur;Fc.f=lge;var p6=Ot,uge=Mr,fge=Fc,cge=Wi.f,fr=function(r){var t=p6.Symbol||(p6.Symbol={});uge(t,r)||cge(t,r,{value:fge.f(r)})},hge=Hi,mge=hn,pge=ur,dge=Rc,OO=function(){var r=mge("Symbol"),t=r&&r.prototype,e=t&&t.valueOf,i=pge("toPrimitive");t&&!t[i]&&dge(t,i,function(n){return hge(e,this)},{arity:1})},vge=Cc,gge=At,bge=Yp,yge=Ci,$ge=mn,_ge=u$,d6=gge([].push),$s=function(r){var t=r===1,e=r===2,i=r===3,n=r===4,a=r===6,s=r===7,o=r===5||a;return function(l,u,f,h){for(var c=yge(l),m=bge(c),v=vge(u,f),d=$ge(m),b=0,g=h||_ge,$=t?g(l,d):e||s?g(l,0):void 0,w,x;d>b;b++)if((o||b in m)&&(w=m[b],x=v(w,b,c),r))if(t)$[b]=x;else if(x)switch(r){case 3:return!0;case 5:return w;case 6:return b;case 2:d6($,w)}else switch(r){case 4:return!1;case 7:d6($,w)}return a?-1:i||n?n:$}},Zs={forEach:$s(0),map:$s(1),filter:$s(2),some:$s(3),every:$s(4),find:$s(5),findIndex:$s(6),filterReject:$s(7)},ud=ot,fd=lr,c$=Hi,wge=At,uu=Nr,fu=Nu,xge=Tt,Ir=Mr,Sge=dr,ib=Vi,cd=ia,h$=Qp,Ege=na,nb=Ec,Hf=Fu,AO=ed,kge=Bc,IO=ld,Tge=Nc,CO=Pu,PO=Wi,Oge=id,DO=Kp,v6=Rc,Age=f$,m$=Mu,Ige=rd,NO=Dc,g6=Jp,Cge=ur,Pge=Fc,Dge=fr,Nge=OO,Rge=zu,RO=il,hd=Zs.forEach,_i=Ige("hidden"),md="Symbol",Wf="prototype",Mge=RO.set,b6=RO.getterFor(md),Sn=Object[Wf],xo=fd.Symbol,sf=xo&&xo[Wf],Bge=fd.RangeError,Fge=fd.TypeError,ng=fd.QObject,MO=CO.f,So=PO.f,BO=IO.f,zge=DO.f,FO=wge([].push),Oa=m$("symbols"),zc=m$("op-symbols"),Lge=m$("wks"),ab=!ng||!ng[Wf]||!ng[Wf].findChild,zO=function(r,t,e){var i=MO(Sn,t);i&&delete Sn[t],So(r,t,e),i&&r!==Sn&&So(Sn,t,i)},sb=uu&&xge(function(){return Hf(So({},"a",{get:function(){return So(this,"a",{value:7}).a}})).a!==7})?zO:So,ag=function(r,t){var e=Oa[r]=Hf(sf);return Mge(e,{type:md,tag:r,description:t}),uu||(e.description=t),e},pd=function(t,e,i){t===Sn&&pd(zc,e,i),ib(t);var n=h$(e);return ib(i),Ir(Oa,n)?(i.enumerable?(Ir(t,_i)&&t[_i][n]&&(t[_i][n]=!1),i=Hf(i,{enumerable:nb(0,!1)})):(Ir(t,_i)||So(t,_i,nb(1,{})),t[_i][n]=!0),sb(t,n,i)):So(t,n,i)},p$=function(t,e){ib(t);var i=cd(e),n=AO(i).concat(UO(i));return hd(n,function(a){(!uu||c$(LO,i,a))&&pd(t,a,i[a])}),t},jge=function(t,e){return e===void 0?Hf(t):p$(Hf(t),e)},LO=function(t){var e=h$(t),i=c$(zge,this,e);return this===Sn&&Ir(Oa,e)&&!Ir(zc,e)?!1:i||!Ir(this,e)||!Ir(Oa,e)||Ir(this,_i)&&this[_i][e]?i:!0},jO=function(t,e){var i=cd(t),n=h$(e);if(!(i===Sn&&Ir(Oa,n)&&!Ir(zc,n))){var a=MO(i,n);return a&&Ir(Oa,n)&&!(Ir(i,_i)&&i[_i][n])&&(a.enumerable=!0),a}},qO=function(t){var e=BO(cd(t)),i=[];return hd(e,function(n){!Ir(Oa,n)&&!Ir(NO,n)&&FO(i,n)}),i},UO=function(r){var t=r===Sn,e=BO(t?zc:cd(r)),i=[];return hd(e,function(n){Ir(Oa,n)&&(!t||Ir(Sn,n))&&FO(i,Oa[n])}),i};fu||(xo=function(){if(Sge(sf,this))throw new Fge("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:Ege(arguments[0]),e=g6(t),i=function(n){this===Sn&&c$(i,zc,n),Ir(this,_i)&&Ir(this[_i],e)&&(this[_i][e]=!1);var a=nb(1,n);try{sb(this,e,a)}catch(s){if(!(s instanceof Bge))throw s;zO(this,e,a)}};return uu&&ab&&sb(Sn,e,{configurable:!0,set:i}),ag(e,t)},sf=xo[Wf],v6(sf,"toString",function(){return b6(this).tag}),v6(xo,"withoutSetter",function(r){return ag(g6(r),r)}),DO.f=LO,PO.f=pd,Oge.f=p$,CO.f=jO,kge.f=IO.f=qO,Tge.f=UO,Pge.f=function(r){return ag(Cge(r),r)},uu&&Age(sf,"description",{configurable:!0,get:function(){return b6(this).description}}));ud({global:!0,constructor:!0,wrap:!0,forced:!fu,sham:!fu},{Symbol:xo});hd(AO(Lge),function(r){Dge(r)});ud({target:md,stat:!0,forced:!fu},{useSetter:function(){ab=!0},useSimple:function(){ab=!1}});ud({target:"Object",stat:!0,forced:!fu,sham:!uu},{create:jge,defineProperty:pd,defineProperties:p$,getOwnPropertyDescriptor:jO});ud({target:"Object",stat:!0,forced:!fu},{getOwnPropertyNames:qO});Nge();Rge(xo,md);NO[_i]=!0;var qge=Nu,HO=qge&&!!Symbol.for&&!!Symbol.keyFor,Uge=ot,Hge=hn,Wge=Mr,Vge=na,WO=Mu,Gge=HO,sg=WO("string-to-symbol-registry"),Xge=WO("symbol-to-string-registry");Uge({target:"Symbol",stat:!0,forced:!Gge},{for:function(r){var t=Vge(r);if(Wge(sg,t))return sg[t];var e=Hge("Symbol")(t);return sg[t]=e,Xge[e]=t,e}});var Kge=ot,Yge=Mr,Jge=Ac,Qge=Ru,Zge=Mu,e1e=HO,y6=Zge("symbol-to-string-registry");Kge({target:"Symbol",stat:!0,forced:!e1e},{keyFor:function(t){if(!Jge(t))throw new TypeError(Qge(t)+" is not a symbol");if(Yge(y6,t))return y6[t]}});var t1e=At,$6=sl,r1e=Dr,_6=Ra,i1e=na,w6=t1e([].push),n1e=function(r){if(r1e(r))return r;if($6(r)){for(var t=r.length,e=[],i=0;i<t;i++){var n=r[i];typeof n=="string"?w6(e,n):(typeof n=="number"||_6(n)==="Number"||_6(n)==="String")&&w6(e,i1e(n))}var a=e.length,s=!0;return function(o,l){if(s)return s=!1,l;if($6(this))return l;for(var u=0;u<a;u++)if(e[u]===o)return l}}},a1e=ot,VO=hn,GO=Sc,s1e=Hi,Lc=At,XO=Tt,x6=Dr,S6=Ac,KO=td,o1e=n1e,l1e=Nu,u1e=String,Ms=VO("JSON","stringify"),Bh=Lc(/./.exec),E6=Lc("".charAt),f1e=Lc("".charCodeAt),c1e=Lc("".replace),h1e=Lc(1 .toString),m1e=/[\uD800-\uDFFF]/g,k6=/^[\uD800-\uDBFF]$/,T6=/^[\uDC00-\uDFFF]$/,O6=!l1e||XO(function(){var r=VO("Symbol")("stringify detection");return Ms([r])!=="[null]"||Ms({a:r})!=="{}"||Ms(Object(r))!=="{}"}),A6=XO(function(){return Ms("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ms("\uDEAD")!=='"\\udead"'}),p1e=function(r,t){var e=KO(arguments),i=o1e(t);if(!(!x6(i)&&(r===void 0||S6(r))))return e[1]=function(n,a){if(x6(i)&&(a=s1e(i,this,u1e(n),a)),!S6(a))return a},GO(Ms,null,e)},d1e=function(r,t,e){var i=E6(e,t-1),n=E6(e,t+1);return Bh(k6,r)&&!Bh(T6,n)||Bh(T6,r)&&!Bh(k6,i)?"\\u"+h1e(f1e(r,0),16):r};Ms&&a1e({target:"JSON",stat:!0,arity:3,forced:O6||A6},{stringify:function(t,e,i){var n=KO(arguments),a=GO(O6?p1e:Ms,null,n);return A6&&typeof a=="string"?c1e(a,m1e,d1e):a}});var v1e=ot,g1e=Nu,b1e=Tt,YO=Nc,y1e=Ci,$1e=!g1e||b1e(function(){YO.f(1)});v1e({target:"Object",stat:!0,forced:$1e},{getOwnPropertySymbols:function(t){var e=YO.f;return e?e(y1e(t)):[]}});var _1e=fr;_1e("asyncIterator");var w1e=fr;w1e("hasInstance");var x1e=fr;x1e("isConcatSpreadable");var S1e=fr;S1e("iterator");var E1e=fr;E1e("match");var k1e=fr;k1e("matchAll");var T1e=fr;T1e("replace");var O1e=fr;O1e("search");var A1e=fr;A1e("species");var I1e=fr;I1e("split");var C1e=fr,P1e=OO;C1e("toPrimitive");P1e();var D1e=hn,N1e=fr,R1e=zu;N1e("toStringTag");R1e(D1e("Symbol"),"Symbol");var M1e=fr;M1e("unscopables");var B1e=lr,F1e=zu;F1e(B1e.JSON,"JSON",!0);var z1e=Ot,L1e=z1e.Symbol,j1e=L1e,JO=j1e,q1e=ur,U1e=Wi.f,I6=q1e("metadata"),C6=Function.prototype;C6[I6]===void 0&&U1e(C6,I6,{value:null});var H1e=fr;H1e("asyncDispose");var W1e=fr;W1e("dispose");var V1e=fr;V1e("metadata");var G1e=JO,X1e=G1e,K1e=hn,Y1e=At,d$=K1e("Symbol"),J1e=d$.keyFor,Q1e=Y1e(d$.prototype.valueOf),QO=d$.isRegisteredSymbol||function(t){try{return J1e(Q1e(t))!==void 0}catch{return!1}},Z1e=ot,ebe=QO;Z1e({target:"Symbol",stat:!0},{isRegisteredSymbol:ebe});var tbe=Mu,ZO=hn,rbe=At,ibe=Ac,nbe=ur,Gm=ZO("Symbol"),P6=Gm.isWellKnownSymbol,eA=ZO("Object","getOwnPropertyNames"),abe=rbe(Gm.prototype.valueOf),D6=tbe("wks");for(var og=0,N6=eA(Gm),sbe=N6.length;og<sbe;og++)try{var R6=N6[og];ibe(Gm[R6])&&nbe(R6)}catch{}var tA=function(t){if(P6&&P6(t))return!0;try{for(var e=abe(t),i=0,n=eA(D6),a=n.length;i<a;i++)if(D6[n[i]]==e)return!0}catch{}return!1},obe=ot,lbe=tA;obe({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:lbe});var ube=fr;ube("matcher");var fbe=fr;fbe("observable");var cbe=ot,hbe=QO;cbe({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:hbe});var mbe=ot,pbe=tA;mbe({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:pbe});var dbe=fr;dbe("metadataKey");var vbe=fr;vbe("patternMatch");var gbe=fr;gbe("replaceAll");var bbe=X1e,ybe=bbe,$be=ybe,ql=Qe($be),_be=Fc,wbe=_be.f("iterator"),xbe=wbe,Sbe=xbe,Ebe=Sbe,kbe=Ebe,Tbe=kbe,Obe=Tbe,Abe=Obe,Ibe=Qe(Abe);function Rt(r){"@babel/helpers - typeof";return Rt=typeof ql=="function"&&typeof Ibe=="symbol"?function(t){return typeof t}:function(t){return t&&typeof ql=="function"&&t.constructor===ql&&t!==ql.prototype?"symbol":typeof t},Rt(r)}var Cbe=Fc,Pbe=Cbe.f("toPrimitive"),Dbe=Pbe,Nbe=Dbe,Rbe=Nbe,Mbe=Rbe,Bbe=Mbe,Fbe=Bbe,zbe=Fbe,Lbe=Qe(zbe);function jbe(r,t){if(Rt(r)!=="object"||r===null)return r;var e=r[Lbe];if(e!==void 0){var i=e.call(r,t||"default");if(Rt(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function rA(r){var t=jbe(r,"string");return Rt(t)==="symbol"?t:String(t)}function M6(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),od(r,rA(i.key),i)}}function We(r,t,e){return t&&M6(r.prototype,t),e&&M6(r,e),od(r,"prototype",{writable:!1}),r}var qbe=ot,Ube=sl;qbe({target:"Array",stat:!0},{isArray:Ube});var Hbe=Ot,Wbe=Hbe.Array.isArray,Vbe=Wbe,iA=Vbe,Gbe=iA,Xbe=Gbe,Kbe=Xbe,Ybe=Kbe,Jbe=Ybe,nA=Qe(Jbe);function Qbe(r){if(nA(r))return r}var Zbe=Nr,eye=sl,tye=TypeError,rye=Object.getOwnPropertyDescriptor,iye=Zbe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}(),aA=iye?function(r,t){if(eye(r)&&!rye(r,"length").writable)throw new tye("Cannot set read only .length");return r.length=t}:function(r,t){return r.length=t},nye=ot,aye=Ci,sye=mn,oye=aA,lye=l$,uye=Tt,fye=uye(function(){return[].push.call({length:4294967296},1)!==4294967297}),cye=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}},hye=fye||!cye();nye({target:"Array",proto:!0,arity:1,forced:hye},{push:function(t){var e=aye(this),i=sye(e),n=arguments.length;lye(i+n);for(var a=0;a<n;a++)e[i]=arguments[a],i++;return oye(e,i),i}});var mye=Br,pye=mye("Array").push,dye=dr,vye=pye,lg=Array.prototype,gye=function(r){var t=r.push;return r===lg||dye(lg,r)&&t===lg.push?vye:t},bye=gye,yye=bye,$ye=yye,_ye=$ye,wye=_ye,xye=wye,Sye=xye,Eye=Qe(Sye);function kye(r,t){var e=r==null?null:typeof ql<"u"&&$O(r)||r["@@iterator"];if(e!=null){var i,n,a,s,o=[],l=!0,u=!1;try{if(a=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=a.call(e)).done)&&(Eye(o).call(o,i.value),o.length!==t);l=!0);}catch(f){u=!0,n=f}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw n}}return o}}var Tye=ot,B6=sl,Oye=ad,Aye=Rr,F6=Pc,Iye=mn,Cye=ia,Pye=ju,Dye=ur,Nye=Mc,Rye=td,Mye=Nye("slice"),Bye=Dye("species"),ug=Array,Fye=Math.max;Tye({target:"Array",proto:!0,forced:!Mye},{slice:function(t,e){var i=Cye(this),n=Iye(i),a=F6(t,n),s=F6(e===void 0?n:e,n),o,l,u;if(B6(i)&&(o=i.constructor,Oye(o)&&(o===ug||B6(o.prototype))?o=void 0:Aye(o)&&(o=o[Bye],o===null&&(o=void 0)),o===ug||o===void 0))return Rye(i,a,s);for(l=new(o===void 0?ug:o)(Fye(s-a,0)),u=0;a<s;a++,u++)a in i&&Pye(l,u,i[a]);return l.length=u,l}});var zye=Br,Lye=zye("Array").slice,jye=dr,qye=Lye,fg=Array.prototype,Uye=function(r){var t=r.slice;return r===fg||jye(fg,r)&&t===fg.slice?qye:t},Hye=Uye,sA=Hye,Wye=sA,Vye=Wye,Gye=Vye,Xye=Gye,Kye=Xye,Yye=Qe(Kye),Jye=vO,Qye=Jye,Zye=Qye,e$e=Zye,t$e=e$e,oA=Qe(t$e);function ob(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function lA(r,t){var e;if(r){if(typeof r=="string")return ob(r,t);var i=Yye(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return oA(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ob(r,t)}}function r$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ar(r,t){return Qbe(r)||kye(r,t)||lA(r,t)||r$e()}function i$e(r){if(nA(r))return ob(r)}function n$e(r){if(typeof ql<"u"&&$O(r)!=null||r["@@iterator"]!=null)return oA(r)}function a$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zn(r){return i$e(r)||n$e(r)||lA(r)||a$e()}var s$e=JO,eo=Qe(s$e),o$e=Br,l$e=o$e("Array").concat,u$e=dr,f$e=l$e,cg=Array.prototype,c$e=function(r){var t=r.concat;return r===cg||u$e(cg,r)&&t===cg.concat?f$e:t},h$e=c$e,m$e=h$e,p$e=m$e,v$=Qe(p$e),d$e=sA,Wr=Qe(d$e),v$e=hn,g$e=At,b$e=Bc,y$e=Nc,$$e=Vi,_$e=g$e([].concat),w$e=v$e("Reflect","ownKeys")||function(t){var e=b$e.f($$e(t)),i=y$e.f;return i?_$e(e,i(t)):e},x$e=iA,Pt=Qe(x$e),S$e=ot,E$e=Zs.map,k$e=Mc,T$e=k$e("map");S$e({target:"Array",proto:!0,forced:!T$e},{map:function(t){return E$e(this,t,arguments.length>1?arguments[1]:void 0)}});var O$e=Br,A$e=O$e("Array").map,I$e=dr,C$e=A$e,hg=Array.prototype,P$e=function(r){var t=r.map;return r===hg||I$e(hg,r)&&t===hg.map?C$e:t},D$e=P$e,N$e=D$e,R$e=N$e,cu=Qe(R$e),M$e=ot,B$e=Ci,uA=ed,F$e=Tt,z$e=F$e(function(){uA(1)});M$e({target:"Object",stat:!0,forced:z$e},{keys:function(t){return uA(B$e(t))}});var L$e=Ot,j$e=L$e.Object.keys,q$e=j$e,U$e=q$e,H$e=U$e,nr=Qe(H$e),W$e=ot,V$e=At,fA=Date,G$e=V$e(fA.prototype.getTime);W$e({target:"Date",stat:!0},{now:function(){return G$e(new fA)}});var X$e=Ot,K$e=X$e.Date.now,Y$e=K$e,J$e=Y$e,Q$e=J$e,Xm=Qe(Q$e),Z$e=Tt,qu=function(r,t){var e=[][r];return!!e&&Z$e(function(){e.call(null,t||function(){return 1},1)})},e_e=Zs.forEach,t_e=qu,r_e=t_e("forEach"),i_e=r_e?[].forEach:function(t){return e_e(this,t,arguments.length>1?arguments[1]:void 0)},n_e=ot,z6=i_e;n_e({target:"Array",proto:!0,forced:[].forEach!==z6},{forEach:z6});var a_e=Br,s_e=a_e("Array").forEach,o_e=s_e,l_e=o_e,u_e=rl,f_e=Mr,c_e=dr,h_e=l_e,mg=Array.prototype,m_e={DOMTokenList:!0,NodeList:!0},p_e=function(r){var t=r.forEach;return r===mg||c_e(mg,r)&&t===mg.forEach||f_e(m_e,u_e(r))?h_e:t},d_e=p_e,Bt=Qe(d_e),v_e=ot,g_e=At,b_e=sl,y_e=g_e([].reverse),L6=[1,2];v_e({target:"Array",proto:!0,forced:String(L6)===String(L6.reverse())},{reverse:function(){return b_e(this)&&(this.length=this.length),y_e(this)}});var $_e=Br,__e=$_e("Array").reverse,w_e=dr,x_e=__e,pg=Array.prototype,S_e=function(r){var t=r.reverse;return r===pg||w_e(pg,r)&&t===pg.reverse?x_e:t},E_e=S_e,k_e=E_e,T_e=k_e,Eo=Qe(T_e),j6=Ru,O_e=TypeError,cA=function(r,t){if(!delete r[t])throw new O_e("Cannot delete property "+j6(t)+" of "+j6(r))},A_e=ot,I_e=Ci,C_e=Pc,P_e=Zp,D_e=mn,N_e=aA,R_e=l$,M_e=u$,B_e=ju,dg=cA,F_e=Mc,z_e=F_e("splice"),L_e=Math.max,j_e=Math.min;A_e({target:"Array",proto:!0,forced:!z_e},{splice:function(t,e){var i=I_e(this),n=D_e(i),a=C_e(t,n),s=arguments.length,o,l,u,f,h,c;for(s===0?o=l=0:s===1?(o=0,l=n-a):(o=s-2,l=j_e(L_e(P_e(e),0),n-a)),R_e(n+o-l),u=M_e(i,l),f=0;f<l;f++)h=a+f,h in i&&B_e(u,f,i[h]);if(u.length=l,o<l){for(f=a;f<n-l;f++)h=f+l,c=f+o,h in i?i[c]=i[h]:dg(i,c);for(f=n;f>n-l+o;f--)dg(i,f-1)}else if(o>l)for(f=n-l;f>a;f--)h=f+l-1,c=f+o-1,h in i?i[c]=i[h]:dg(i,c);for(f=0;f<o;f++)i[f+a]=arguments[f+2];return N_e(i,n-l+o),u}});var q_e=Br,U_e=q_e("Array").splice,H_e=dr,W_e=U_e,vg=Array.prototype,V_e=function(r){var t=r.splice;return r===vg||H_e(vg,r)&&t===vg.splice?W_e:t},G_e=V_e,X_e=G_e,K_e=X_e,ba=Qe(K_e),Y_e=ot,J_e=Zy.includes,Q_e=Tt,Z_e=Q_e(function(){return!Array(1).includes()});Y_e({target:"Array",proto:!0,forced:Z_e},{includes:function(t){return J_e(this,t,arguments.length>1?arguments[1]:void 0)}});var e2e=Br,t2e=e2e("Array").includes,r2e=Rr,i2e=Ra,n2e=ur,a2e=n2e("match"),s2e=function(r){var t;return r2e(r)&&((t=r[a2e])!==void 0?!!t:i2e(r)==="RegExp")},o2e=s2e,l2e=TypeError,u2e=function(r){if(o2e(r))throw new l2e("The method doesn't accept regular expressions");return r},f2e=ur,c2e=f2e("match"),h2e=function(r){var t=/./;try{"/./"[r](t)}catch{try{return t[c2e]=!1,"/./"[r](t)}catch{}}return!1},m2e=ot,p2e=At,d2e=u2e,v2e=kc,q6=na,g2e=h2e,b2e=p2e("".indexOf);m2e({target:"String",proto:!0,forced:!g2e("includes")},{includes:function(t){return!!~b2e(q6(v2e(this)),q6(d2e(t)),arguments.length>1?arguments[1]:void 0)}});var y2e=Br,$2e=y2e("String").includes,U6=dr,_2e=t2e,w2e=$2e,gg=Array.prototype,bg=String.prototype,x2e=function(r){var t=r.includes;return r===gg||U6(gg,r)&&t===gg.includes?_2e:typeof r=="string"||r===bg||U6(bg,r)&&t===bg.includes?w2e:t},S2e=x2e,E2e=S2e,k2e=E2e,Bs=Qe(k2e),T2e=ot,O2e=Tt,A2e=Ci,hA=nd,I2e=rO,C2e=O2e(function(){hA(1)});T2e({target:"Object",stat:!0,forced:C2e,sham:!I2e},{getPrototypeOf:function(t){return hA(A2e(t))}});var P2e=Ot,D2e=P2e.Object.getPrototypeOf,N2e=D2e,mA=N2e,R2e=mA,H6=Qe(R2e),M2e=ot,B2e=Zs.filter,F2e=Mc,z2e=F2e("filter");M2e({target:"Array",proto:!0,forced:!z2e},{filter:function(t){return B2e(this,t,arguments.length>1?arguments[1]:void 0)}});var L2e=Br,j2e=L2e("Array").filter,q2e=dr,U2e=j2e,yg=Array.prototype,H2e=function(r){var t=r.filter;return r===yg||q2e(yg,r)&&t===yg.filter?U2e:t},W2e=H2e,V2e=W2e,G2e=V2e,wi=Qe(G2e),g$=`	
\v\f\r                　\u2028\u2029\uFEFF`,X2e=At,K2e=kc,Y2e=na,lb=g$,W6=X2e("".replace),J2e=RegExp("^["+lb+"]+"),Q2e=RegExp("(^|[^"+lb+"])["+lb+"]+$"),$g=function(r){return function(t){var e=Y2e(K2e(t));return r&1&&(e=W6(e,J2e,"")),r&2&&(e=W6(e,Q2e,"$1")),e}},pA={start:$g(1),end:$g(2),trim:$g(3)},dA=lr,Z2e=Tt,ewe=At,twe=na,rwe=pA.trim,V6=g$,df=dA.parseInt,G6=dA.Symbol,X6=G6&&G6.iterator,vA=/^[+-]?0x/i,iwe=ewe(vA.exec),nwe=df(V6+"08")!==8||df(V6+"0x16")!==22||X6&&!Z2e(function(){df(Object(X6))}),awe=nwe?function(t,e){var i=rwe(twe(t));return df(i,e>>>0||(iwe(vA,i)?16:10))}:df,swe=ot,K6=awe;swe({global:!0,forced:parseInt!==K6},{parseInt:K6});var owe=Ot,lwe=owe.parseInt,uwe=lwe,fwe=uwe,cwe=fwe,wn=Qe(cwe),hwe=ot,mwe=Yy,pwe=Zy.indexOf,dwe=qu,ub=mwe([].indexOf),gA=!!ub&&1/ub([1],1,-0)<0,vwe=gA||!dwe("indexOf");hwe({target:"Array",proto:!0,forced:vwe},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return gA?ub(this,t,e)||0:pwe(this,t,e)}});var gwe=Br,bwe=gwe("Array").indexOf,ywe=dr,$we=bwe,_g=Array.prototype,_we=function(r){var t=r.indexOf;return r===_g||ywe(_g,r)&&t===_g.indexOf?$we:t},wwe=_we,xwe=wwe,Swe=xwe,kt=Qe(Swe),Ewe=ot,kwe=Nr,Twe=Fu;Ewe({target:"Object",stat:!0,sham:!kwe},{create:Twe});var Owe=Ot,Awe=Owe.Object,Iwe=function(t,e){return Awe.create(t,e)},Cwe=Iwe,bA=Cwe,Pwe=bA,ko=Qe(Pwe),fb=Ot,Dwe=Sc;fb.JSON||(fb.JSON={stringify:JSON.stringify});var Nwe=function(t,e,i){return Dwe(fb.JSON.stringify,null,arguments)},Rwe=Nwe,Mwe=Rwe,Bwe=Mwe,jc=Qe(Bwe),Fwe=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",zwe=TypeError,Lwe=function(r,t){if(r<t)throw new zwe("Not enough arguments");return r},yA=lr,jwe=Sc,qwe=Dr,Uwe=Fwe,Hwe=Tc,Wwe=td,Vwe=Lwe,Gwe=yA.Function,Xwe=/MSIE .\./.test(Hwe)||Uwe&&function(){var r=yA.Bun.version.split(".");return r.length<3||r[0]==="0"&&(r[1]<3||r[1]==="3"&&r[2]==="0")}(),$A=function(r,t){var e=t?2:1;return Xwe?function(i,n){var a=Vwe(arguments.length,1)>e,s=qwe(i)?i:Gwe(i),o=a?Wwe(arguments,e):[],l=a?function(){jwe(s,this,o)}:s;return t?r(l,n):r(l)}:r},Kwe=ot,_A=lr,Ywe=$A,Y6=Ywe(_A.setInterval,!0);Kwe({global:!0,bind:!0,forced:_A.setInterval!==Y6},{setInterval:Y6});var Jwe=ot,wA=lr,Qwe=$A,J6=Qwe(wA.setTimeout,!0);Jwe({global:!0,bind:!0,forced:wA.setTimeout!==J6},{setTimeout:J6});var Zwe=Ot,e4e=Zwe.setTimeout,t4e=e4e,Gn=Qe(t4e),r4e=Ci,Q6=Pc,i4e=mn,n4e=function(t){for(var e=r4e(this),i=i4e(e),n=arguments.length,a=Q6(n>1?arguments[1]:void 0,i),s=n>2?arguments[2]:void 0,o=s===void 0?i:Q6(s,i);o>a;)e[a++]=t;return e},a4e=ot,s4e=n4e;a4e({target:"Array",proto:!0},{fill:s4e});var o4e=Br,l4e=o4e("Array").fill,u4e=dr,f4e=l4e,wg=Array.prototype,c4e=function(r){var t=r.fill;return r===wg||u4e(wg,r)&&t===wg.fill?f4e:t},h4e=c4e,m4e=h4e,p4e=m4e,qc=Qe(p4e);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function On(){return On=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},On.apply(this,arguments)}function pn(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function Fh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var cb;typeof Object.assign!="function"?cb=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e}:cb=Object.assign;var qo=cb,Z6=["","webkit","Moz","MS","ms","o"],d4e=typeof document>"u"?{style:{}}:document.createElement("div"),v4e="function",Ul=Math.round,Uo=Math.abs,b$=Date.now;function dd(r,t){for(var e,i,n=t[0].toUpperCase()+t.slice(1),a=0;a<Z6.length;){if(e=Z6[a],i=e?e+n:t,i in r)return i;a++}}var ya;typeof window>"u"?ya={}:ya=window;var xA=dd(d4e.style,"touchAction"),SA=xA!==void 0;function g4e(){if(!SA)return!1;var r={},t=ya.CSS&&ya.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return r[e]=t?ya.CSS.supports("touch-action",e):!0}),r}var EA="compute",kA="auto",hb="manipulation",To="none",Vf="pan-x",Gf="pan-y",zh=g4e(),b4e=/mobile|tablet|ip(ad|hone|od)|android/i,TA="ontouchstart"in ya,y4e=dd(ya,"PointerEvent")!==void 0,$4e=TA&&b4e.test(navigator.userAgent),Uc="touch",_4e="pen",y$="mouse",w4e="kinect",x4e=25,li=1,ol=2,$r=4,Ei=8,Km=1,Hc=2,Wc=4,Vc=8,hu=16,Xn=Hc|Wc,Oo=Vc|hu,OA=Xn|Oo,AA=["x","y"],Ym=["clientX","clientY"];function $a(r,t,e){var i;if(r)if(r.forEach)r.forEach(t,e);else if(r.length!==void 0)for(i=0;i<r.length;)t.call(e,r[i],i,r),i++;else for(i in r)r.hasOwnProperty(i)&&t.call(e,r[i],i,r)}function vd(r,t){return typeof r===v4e?r.apply(t&&t[0]||void 0,t):r}function vo(r,t){return r.indexOf(t)>-1}function S4e(r){if(vo(r,To))return To;var t=vo(r,Vf),e=vo(r,Gf);return t&&e?To:t||e?t?Vf:Gf:vo(r,hb)?hb:kA}var IA=function(){function r(e,i){this.manager=e,this.set(i)}var t=r.prototype;return t.set=function(i){i===EA&&(i=this.compute()),SA&&this.manager.element.style&&zh[i]&&(this.manager.element.style[xA]=i),this.actions=i.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var i=[];return $a(this.manager.recognizers,function(n){vd(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),S4e(i.join(" "))},t.preventDefaults=function(i){var n=i.srcEvent,a=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,o=vo(s,To)&&!zh[To],l=vo(s,Gf)&&!zh[Gf],u=vo(s,Vf)&&!zh[Vf];if(o){var f=i.pointers.length===1,h=i.distance<2,c=i.deltaTime<250;if(f&&h&&c)return}if(!(u&&l)&&(o||l&&a&Xn||u&&a&Oo))return this.preventSrc(n)},t.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},r}();function $$(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}function CA(r){var t=r.length;if(t===1)return{x:Ul(r[0].clientX),y:Ul(r[0].clientY)};for(var e=0,i=0,n=0;n<t;)e+=r[n].clientX,i+=r[n].clientY,n++;return{x:Ul(e/t),y:Ul(i/t)}}function ex(r){for(var t=[],e=0;e<r.pointers.length;)t[e]={clientX:Ul(r.pointers[e].clientX),clientY:Ul(r.pointers[e].clientY)},e++;return{timeStamp:b$(),pointers:t,center:CA(t),deltaX:r.deltaX,deltaY:r.deltaY}}function Jm(r,t,e){e||(e=AA);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.sqrt(i*i+n*n)}function mb(r,t,e){e||(e=AA);var i=t[e[0]]-r[e[0]],n=t[e[1]]-r[e[1]];return Math.atan2(n,i)*180/Math.PI}function PA(r,t){return r===t?Km:Uo(r)>=Uo(t)?r<0?Hc:Wc:t<0?Vc:hu}function E4e(r,t){var e=t.center,i=r.offsetDelta||{},n=r.prevDelta||{},a=r.prevInput||{};(t.eventType===li||a.eventType===$r)&&(n=r.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=r.offsetDelta={x:e.x,y:e.y}),t.deltaX=n.x+(e.x-i.x),t.deltaY=n.y+(e.y-i.y)}function DA(r,t,e){return{x:t/r||0,y:e/r||0}}function k4e(r,t){return Jm(t[0],t[1],Ym)/Jm(r[0],r[1],Ym)}function T4e(r,t){return mb(t[1],t[0],Ym)+mb(r[1],r[0],Ym)}function O4e(r,t){var e=r.lastInterval||t,i=t.timeStamp-e.timeStamp,n,a,s,o;if(t.eventType!==Ei&&(i>x4e||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,f=DA(i,l,u);a=f.x,s=f.y,n=Uo(f.x)>Uo(f.y)?f.x:f.y,o=PA(l,u),r.lastInterval=t}else n=e.velocity,a=e.velocityX,s=e.velocityY,o=e.direction;t.velocity=n,t.velocityX=a,t.velocityY=s,t.direction=o}function A4e(r,t){var e=r.session,i=t.pointers,n=i.length;e.firstInput||(e.firstInput=ex(t)),n>1&&!e.firstMultiple?e.firstMultiple=ex(t):n===1&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,o=s?s.center:a.center,l=t.center=CA(i);t.timeStamp=b$(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=mb(o,l),t.distance=Jm(o,l),E4e(e,t),t.offsetDirection=PA(t.deltaX,t.deltaY);var u=DA(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=Uo(u.x)>Uo(u.y)?u.x:u.y,t.scale=s?k4e(s.pointers,i):1,t.rotation=s?T4e(s.pointers,i):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,O4e(e,t);var f=r.element,h=t.srcEvent,c;h.composedPath?c=h.composedPath()[0]:h.path?c=h.path[0]:c=h.target,$$(c,f)&&(f=c),t.target=f}function I4e(r,t,e){var i=e.pointers.length,n=e.changedPointers.length,a=t&li&&i-n===0,s=t&($r|Ei)&&i-n===0;e.isFirst=!!a,e.isFinal=!!s,a&&(r.session={}),e.eventType=t,A4e(r,e),r.emit("hammer.input",e),r.recognize(e),r.session.prevInput=e}function Xf(r){return r.trim().split(/\s+/g)}function vf(r,t,e){$a(Xf(t),function(i){r.addEventListener(i,e,!1)})}function gf(r,t,e){$a(Xf(t),function(i){r.removeEventListener(i,e,!1)})}function tx(r){var t=r.ownerDocument||r;return t.defaultView||t.parentWindow||window}var Uu=function(){function r(e,i){var n=this;this.manager=e,this.callback=i,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){vd(e.options.enable,[e])&&n.handler(a)},this.init()}var t=r.prototype;return t.handler=function(){},t.init=function(){this.evEl&&vf(this.element,this.evEl,this.domHandler),this.evTarget&&vf(this.target,this.evTarget,this.domHandler),this.evWin&&vf(tx(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&gf(this.element,this.evEl,this.domHandler),this.evTarget&&gf(this.target,this.evTarget,this.domHandler),this.evWin&&gf(tx(this.element),this.evWin,this.domHandler)},r}();function Ho(r,t,e){if(r.indexOf&&!e)return r.indexOf(t);for(var i=0;i<r.length;){if(e&&r[i][e]==t||!e&&r[i]===t)return i;i++}return-1}var C4e={pointerdown:li,pointermove:ol,pointerup:$r,pointercancel:Ei,pointerout:Ei},P4e={2:Uc,3:_4e,4:y$,5:w4e},NA="pointerdown",RA="pointermove pointerup pointercancel";ya.MSPointerEvent&&!ya.PointerEvent&&(NA="MSPointerDown",RA="MSPointerMove MSPointerUp MSPointerCancel");var MA=function(r){pn(t,r);function t(){var i,n=t.prototype;return n.evEl=NA,n.evWin=RA,i=r.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var e=t.prototype;return e.handler=function(n){var a=this.store,s=!1,o=n.type.toLowerCase().replace("ms",""),l=C4e[o],u=P4e[n.pointerType]||n.pointerType,f=u===Uc,h=Ho(a,n.pointerId,"pointerId");l&li&&(n.button===0||f)?h<0&&(a.push(n),h=a.length-1):l&($r|Ei)&&(s=!0),!(h<0)&&(a[h]=n,this.callback(this.manager,l,{pointers:a,changedPointers:[n],pointerType:u,srcEvent:n}),s&&a.splice(h,1))},t}(Uu);function Kf(r){return Array.prototype.slice.call(r,0)}function _$(r,t,e){for(var i=[],n=[],a=0;a<r.length;){var s=t?r[a][t]:r[a];Ho(n,s)<0&&i.push(r[a]),n[a]=s,a++}return e&&(t?i=i.sort(function(o,l){return o[t]>l[t]}):i=i.sort()),i}var D4e={touchstart:li,touchmove:ol,touchend:$r,touchcancel:Ei},N4e="touchstart touchmove touchend touchcancel",w$=function(r){pn(t,r);function t(){var i;return t.prototype.evTarget=N4e,i=r.apply(this,arguments)||this,i.targetIds={},i}var e=t.prototype;return e.handler=function(n){var a=D4e[n.type],s=R4e.call(this,n,a);s&&this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:Uc,srcEvent:n})},t}(Uu);function R4e(r,t){var e=Kf(r.touches),i=this.targetIds;if(t&(li|ol)&&e.length===1)return i[e[0].identifier]=!0,[e,e];var n,a,s=Kf(r.changedTouches),o=[],l=this.target;if(a=e.filter(function(u){return $$(u.target,l)}),t===li)for(n=0;n<a.length;)i[a[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&o.push(s[n]),t&($r|Ei)&&delete i[s[n].identifier],n++;if(o.length)return[_$(a.concat(o),"identifier",!0),o]}var M4e={mousedown:li,mousemove:ol,mouseup:$r},B4e="mousedown",F4e="mousemove mouseup",x$=function(r){pn(t,r);function t(){var i,n=t.prototype;return n.evEl=B4e,n.evWin=F4e,i=r.apply(this,arguments)||this,i.pressed=!1,i}var e=t.prototype;return e.handler=function(n){var a=M4e[n.type];a&li&&n.button===0&&(this.pressed=!0),a&ol&&n.which!==1&&(a=$r),this.pressed&&(a&$r&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[n],changedPointers:[n],pointerType:y$,srcEvent:n}))},t}(Uu),z4e=2500,rx=25;function ix(r){var t=r.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);var a=function(){var o=n.indexOf(i);o>-1&&n.splice(o,1)};setTimeout(a,z4e)}}function L4e(r,t){r&li?(this.primaryTouch=t.changedPointers[0].identifier,ix.call(this,t)):r&($r|Ei)&&ix.call(this,t)}function j4e(r){for(var t=r.srcEvent.clientX,e=r.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],a=Math.abs(t-n.x),s=Math.abs(e-n.y);if(a<=rx&&s<=rx)return!0}return!1}var BA=function(){var r=function(t){pn(e,t);function e(n,a){var s;return s=t.call(this,n,a)||this,s.handler=function(o,l,u){var f=u.pointerType===Uc,h=u.pointerType===y$;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(f)L4e.call(Fh(Fh(s)),l,u);else if(h&&j4e.call(Fh(Fh(s)),u))return;s.callback(o,l,u)}},s.touch=new w$(s.manager,s.handler),s.mouse=new x$(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=e.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Uu);return r}();function q4e(r){var t,e=r.options.inputClass;return e?t=e:y4e?t=MA:$4e?t=w$:TA?t=BA:t=x$,new t(r,I4e)}function Hl(r,t,e){return Array.isArray(r)?($a(r,e[t],e),!0):!1}var fm=1,on=2,mu=4,Fs=8,_a=Fs,Yf=16,Un=32,U4e=1;function H4e(){return U4e++}function Lh(r,t){var e=t.manager;return e?e.get(r):r}function nx(r){return r&Yf?"cancel":r&Fs?"end":r&mu?"move":r&on?"start":""}var Gc=function(){function r(e){e===void 0&&(e={}),this.options=On({enable:!0},e),this.id=H4e(),this.manager=null,this.state=fm,this.simultaneous={},this.requireFail=[]}var t=r.prototype;return t.set=function(i){return qo(this.options,i),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(i){if(Hl(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=Lh(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},t.dropRecognizeWith=function(i){return Hl(i,"dropRecognizeWith",this)?this:(i=Lh(i,this),delete this.simultaneous[i.id],this)},t.requireFailure=function(i){if(Hl(i,"requireFailure",this))return this;var n=this.requireFail;return i=Lh(i,this),Ho(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},t.dropRequireFailure=function(i){if(Hl(i,"dropRequireFailure",this))return this;i=Lh(i,this);var n=Ho(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},t.emit=function(i){var n=this,a=this.state;function s(o){n.manager.emit(o,i)}a<Fs&&s(n.options.event+nx(a)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),a>=Fs&&s(n.options.event+nx(a))},t.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=Un},t.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(Un|fm)))return!1;i++}return!0},t.recognize=function(i){var n=qo({},i);if(!vd(this.options.enable,[this,n])){this.reset(),this.state=Un;return}this.state&(_a|Yf|Un)&&(this.state=fm),this.state=this.process(n),this.state&(on|mu|Fs|Yf)&&this.tryEmit(n)},t.process=function(i){},t.getTouchAction=function(){},t.reset=function(){},r}(),pb=function(r){pn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,On({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var e=t.prototype;return e.getTouchAction=function(){return[hb]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime<s.time;if(this.reset(),n.eventType&li&&this.count===0)return this.failTimeout();if(l&&u&&o){if(n.eventType!==$r)return this.failTimeout();var f=this.pTime?n.timeStamp-this.pTime<s.interval:!0,h=!this.pCenter||Jm(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!h||!f?this.count=1:this.count+=1,this._input=n;var c=this.count%s.taps;if(c===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=_a,a.tryEmit()},s.interval),on):_a}return Un},e.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Un},this.options.interval),Un},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===_a&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Gc),pu=function(r){pn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,On({pointers:1},i))||this}var e=t.prototype;return e.attrTest=function(n){var a=this.options.pointers;return a===0||n.pointers.length===a},e.process=function(n){var a=this.state,s=n.eventType,o=a&(on|mu),l=this.attrTest(n);return o&&(s&Ei||!l)?a|Yf:o||l?s&$r?a|Fs:a&on?a|mu:on:Un},t}(Gc);function FA(r){return r===hu?"down":r===Vc?"up":r===Hc?"left":r===Wc?"right":""}var S$=function(r){pn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,On({event:"pan",threshold:10,pointers:1,direction:OA},i))||this,n.pX=null,n.pY=null,n}var e=t.prototype;return e.getTouchAction=function(){var n=this.options.direction,a=[];return n&Xn&&a.push(Gf),n&Oo&&a.push(Vf),a},e.directionTest=function(n){var a=this.options,s=!0,o=n.distance,l=n.direction,u=n.deltaX,f=n.deltaY;return l&a.direction||(a.direction&Xn?(l=u===0?Km:u<0?Hc:Wc,s=u!==this.pX,o=Math.abs(n.deltaX)):(l=f===0?Km:f<0?Vc:hu,s=f!==this.pY,o=Math.abs(n.deltaY))),n.direction=l,s&&o>a.threshold&&l&a.direction},e.attrTest=function(n){return pu.prototype.attrTest.call(this,n)&&(this.state&on||!(this.state&on)&&this.directionTest(n))},e.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var a=FA(n.direction);a&&(n.additionalEvent=this.options.event+a),r.prototype.emit.call(this,n)},t}(pu),zA=function(r){pn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,On({event:"swipe",threshold:10,velocity:.3,direction:Xn|Oo,pointers:1},i))||this}var e=t.prototype;return e.getTouchAction=function(){return S$.prototype.getTouchAction.call(this)},e.attrTest=function(n){var a=this.options.direction,s;return a&(Xn|Oo)?s=n.overallVelocity:a&Xn?s=n.overallVelocityX:a&Oo&&(s=n.overallVelocityY),r.prototype.attrTest.call(this,n)&&a&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&Uo(s)>this.options.velocity&&n.eventType&$r},e.emit=function(n){var a=FA(n.offsetDirection);a&&this.manager.emit(this.options.event+a,n),this.manager.emit(this.options.event,n)},t}(pu),LA=function(r){pn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,On({event:"pinch",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[To]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&on)},e.emit=function(n){if(n.scale!==1){var a=n.scale<1?"in":"out";n.additionalEvent=this.options.event+a}r.prototype.emit.call(this,n)},t}(pu),jA=function(r){pn(t,r);function t(i){return i===void 0&&(i={}),r.call(this,On({event:"rotate",threshold:0,pointers:2},i))||this}var e=t.prototype;return e.getTouchAction=function(){return[To]},e.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&on)},t}(pu),qA=function(r){pn(t,r);function t(i){var n;return i===void 0&&(i={}),n=r.call(this,On({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var e=t.prototype;return e.getTouchAction=function(){return[kA]},e.process=function(n){var a=this,s=this.options,o=n.pointers.length===s.pointers,l=n.distance<s.threshold,u=n.deltaTime>s.time;if(this._input=n,!l||!o||n.eventType&($r|Ei)&&!u)this.reset();else if(n.eventType&li)this.reset(),this._timer=setTimeout(function(){a.state=_a,a.tryEmit()},s.time);else if(n.eventType&$r)return _a;return Un},e.reset=function(){clearTimeout(this._timer)},e.emit=function(n){this.state===_a&&(n&&n.eventType&$r?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=b$(),this.manager.emit(this.options.event,this._input)))},t}(Gc),UA={domEvents:!1,touchAction:EA,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ax=[[jA,{enable:!1}],[LA,{enable:!1},["rotate"]],[zA,{direction:Xn}],[S$,{direction:Xn},["swipe"]],[pb],[pb,{event:"doubletap",taps:2},["tap"]],[qA]],W4e=1,sx=2;function ox(r,t){var e=r.element;if(e.style){var i;$a(r.options.cssProps,function(n,a){i=dd(e.style,a),t?(r.oldCssProps[i]=e.style[i],e.style[i]=n):e.style[i]=r.oldCssProps[i]||""}),t||(r.oldCssProps={})}}function V4e(r,t){var e=document.createEvent("Event");e.initEvent(r,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var lx=function(){function r(e,i){var n=this;this.options=qo({},UA,i||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=q4e(this),this.touchAction=new IA(this,this.options.touchAction),ox(this,!0),$a(this.options.recognizers,function(a){var s=n.add(new a[0](a[1]));a[2]&&s.recognizeWith(a[2]),a[3]&&s.requireFailure(a[3])},this)}var t=r.prototype;return t.set=function(i){return qo(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},t.stop=function(i){this.session.stopped=i?sx:W4e},t.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var a,s=this.recognizers,o=n.curRecognizer;(!o||o&&o.state&_a)&&(n.curRecognizer=null,o=null);for(var l=0;l<s.length;)a=s[l],n.stopped!==sx&&(!o||a===o||a.canRecognizeWith(o))?a.recognize(i):a.reset(),!o&&a.state&(on|mu|Fs)&&(n.curRecognizer=a,o=a),l++}},t.get=function(i){if(i instanceof Gc)return i;for(var n=this.recognizers,a=0;a<n.length;a++)if(n[a].options.event===i)return n[a];return null},t.add=function(i){if(Hl(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},t.remove=function(i){if(Hl(i,"remove",this))return this;var n=this.get(i);if(i){var a=this.recognizers,s=Ho(a,n);s!==-1&&(a.splice(s,1),this.touchAction.update())}return this},t.on=function(i,n){if(i===void 0||n===void 0)return this;var a=this.handlers;return $a(Xf(i),function(s){a[s]=a[s]||[],a[s].push(n)}),this},t.off=function(i,n){if(i===void 0)return this;var a=this.handlers;return $a(Xf(i),function(s){n?a[s]&&a[s].splice(Ho(a[s],n),1):delete a[s]}),this},t.emit=function(i,n){this.options.domEvents&&V4e(i,n);var a=this.handlers[i]&&this.handlers[i].slice();if(!(!a||!a.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<a.length;)a[s](n),s++}},t.destroy=function(){this.element&&ox(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),G4e={touchstart:li,touchmove:ol,touchend:$r,touchcancel:Ei},X4e="touchstart",K4e="touchstart touchmove touchend touchcancel",Y4e=function(r){pn(t,r);function t(){var i,n=t.prototype;return n.evTarget=X4e,n.evWin=K4e,i=r.apply(this,arguments)||this,i.started=!1,i}var e=t.prototype;return e.handler=function(n){var a=G4e[n.type];if(a===li&&(this.started=!0),!!this.started){var s=J4e.call(this,n,a);a&($r|Ei)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:Uc,srcEvent:n})}},t}(Uu);function J4e(r,t){var e=Kf(r.touches),i=Kf(r.changedTouches);return t&($r|Ei)&&(e=_$(e.concat(i),"identifier",!0)),[e,i]}function HA(r,t,e){var i="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var n=new Error("get-stack-trace"),a=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,a),r.apply(this,arguments)}}var WA=HA(function(r,t,e){for(var i=Object.keys(t),n=0;n<i.length;)(!e||e&&r[i[n]]===void 0)&&(r[i[n]]=t[i[n]]),n++;return r},"extend","Use `assign`."),Q4e=HA(function(r,t){return WA(r,t,!0)},"merge","Use `assign`.");function Z4e(r,t,e){var i=t.prototype,n;n=r.prototype=Object.create(i),n.constructor=r,n._super=i,e&&qo(n,e)}function ux(r,t){return function(){return r.apply(t,arguments)}}var VA=function(){var r=function(e,i){return i===void 0&&(i={}),new lx(e,On({recognizers:ax.concat()},i))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=OA,r.DIRECTION_DOWN=hu,r.DIRECTION_LEFT=Hc,r.DIRECTION_RIGHT=Wc,r.DIRECTION_UP=Vc,r.DIRECTION_HORIZONTAL=Xn,r.DIRECTION_VERTICAL=Oo,r.DIRECTION_NONE=Km,r.DIRECTION_DOWN=hu,r.INPUT_START=li,r.INPUT_MOVE=ol,r.INPUT_END=$r,r.INPUT_CANCEL=Ei,r.STATE_POSSIBLE=fm,r.STATE_BEGAN=on,r.STATE_CHANGED=mu,r.STATE_ENDED=Fs,r.STATE_RECOGNIZED=_a,r.STATE_CANCELLED=Yf,r.STATE_FAILED=Un,r.Manager=lx,r.Input=Uu,r.TouchAction=IA,r.TouchInput=w$,r.MouseInput=x$,r.PointerEventInput=MA,r.TouchMouseInput=BA,r.SingleTouchInput=Y4e,r.Recognizer=Gc,r.AttrRecognizer=pu,r.Tap=pb,r.Pan=S$,r.Swipe=zA,r.Pinch=LA,r.Rotate=jA,r.Press=qA,r.on=vf,r.off=gf,r.each=$a,r.merge=Q4e,r.extend=WA,r.bindFn=ux,r.assign=qo,r.inherit=Z4e,r.bindFn=ux,r.prefixed=dd,r.toArray=Kf,r.inArray=Ho,r.uniqueArray=_$,r.splitStr=Xf,r.boolOrFn=vd,r.hasParent=$$,r.addEventListeners=vf,r.removeEventListeners=gf,r.defaults=qo({},UA,{preset:ax}),r}();VA.defaults;var e3e=VA;function GA(r,t){var e=typeof eo<"u"&&al(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=t3e(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function t3e(r,t){var e;if(r){if(typeof r=="string")return fx(r,t);var i=Wr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return nl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return fx(r,t)}}function fx(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}eo("DELETE");function gd(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return r3e(t.length?t:[Xm()])}function r3e(r){var t=i3e(r),e=ar(t,3),i=e[0],n=e[1],a=e[2],s=1,o=function(){var u=2091639*i+s*23283064365386963e-26;return i=n,n=a,a=u-(s=u|0)};return o.uint32=function(){return o()*4294967296},o.fract53=function(){return o()+(o()*2097152|0)*11102230246251565e-32},o.algorithm="Alea",o.seed=r,o.version="0.9",o}function i3e(){for(var r=n3e(),t=r(" "),e=r(" "),i=r(" "),n=0;n<arguments.length;n++)t-=r(n<0||arguments.length<=n?void 0:arguments[n]),t<0&&(t+=1),e-=r(n<0||arguments.length<=n?void 0:arguments[n]),e<0&&(e+=1),i-=r(n<0||arguments.length<=n?void 0:arguments[n]),i<0&&(i+=1);return[t,e,i]}function n3e(){var r=4022871197;return function(t){for(var e=t.toString(),i=0;i<e.length;i++){r+=e.charCodeAt(i);var n=.02519603282416938*r;r=n>>>0,n-=r,n*=r,r=n>>>0,n-=r,r+=n*4294967296}return(r>>>0)*23283064365386963e-26}}function a3e(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get:function(){return{set:r}}}}var E$=typeof window<"u"?window.Hammer||e3e:function(){return a3e()};function Hn(r){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var i=E$(this._dom.overlay);i.on("tap",Le(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Bt(n).call(n,function(a){i.on(a,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){s3e(a.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&t.deactivate()}}K9(Hn.prototype);Hn.current=null;Hn.prototype.destroy=function(){var r,t;this.deactivate();var e=GA(Eo(r=ba(t=this._cleanupQueue).call(t,0)).call(r)),i;try{for(e.s();!(i=e.n()).done;){var n=i.value;n()}}catch(a){e.e(a)}finally{e.f()}};Hn.prototype.activate=function(){Hn.current&&Hn.current.deactivate(),Hn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Hn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Hn.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function s3e(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}var o3e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,l3e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,u3e=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,f3e=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ss(r){if(r)for(;r.hasChildNodes()===!0;){var t=r.firstChild;t&&(Ss(t),r.removeChild(t))}}function ks(r){return r instanceof String||typeof r=="string"}function cx(r){return Rt(r)==="object"&&r!==null}function Wo(r,t,e,i){var n=!1;i===!0&&(n=t[e]===null&&r[e]!==void 0),n?delete r[e]:r[e]=t[e]}function XA(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var i in r)if(t[i]!==void 0)if(t[i]===null||Rt(t[i])!=="object")Wo(r,t,i,e);else{var n=r[i],a=t[i];cx(n)&&cx(a)&&XA(n,a,e)}}function Hu(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Pt(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<r.length;n++){var a=r[n];if(Object.prototype.hasOwnProperty.call(e,a))if(e[a]&&e[a].constructor===Object)t[a]===void 0&&(t[a]={}),t[a].constructor===Object?Lt(t[a],e[a],!1,i):Wo(t,e,a,i);else{if(Pt(e[a]))throw new TypeError("Arrays are not supported by deepExtend");Wo(t,e,a,i)}}return t}function Qm(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Pt(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!Bs(r).call(r,n))if(e[n]&&e[n].constructor===Object)t[n]===void 0&&(t[n]={}),t[n].constructor===Object?Lt(t[n],e[n]):Wo(t,e,n,i);else if(Pt(e[n])){t[n]=[];for(var a=0;a<e[n].length;a++)t[n].push(e[n][a])}else Wo(t,e,n,i);return t}function Lt(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)||e===!0)if(Rt(t[n])==="object"&&t[n]!==null&&H6(t[n])===Object.prototype)r[n]===void 0?r[n]=Lt({},t[n],e):Rt(r[n])==="object"&&r[n]!==null&&H6(r[n])===Object.prototype?Lt(r[n],t[n],e):Wo(r,t,n,i);else if(Pt(t[n])){var a;r[n]=Wr(a=t[n]).call(a)}else Wo(r,t,n,i);return r}function Zm(r,t){var e;return v$(e=[]).call(e,zn(r),[t])}function c3e(r){return Wr(r).call(r)}function h3e(r){return r.getBoundingClientRect().left}function m3e(r){return r.getBoundingClientRect().top}function gt(r,t){if(Pt(r))for(var e=r.length,i=0;i<e;i++)t(r[i],i,r);else for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(r[n],n,r)}function k$(r){var t;switch(r.length){case 3:case 4:return t=l3e.exec(r),t?{r:wn(t[1]+t[1],16),g:wn(t[2]+t[2],16),b:wn(t[3]+t[3],16)}:null;case 6:case 7:return t=o3e.exec(r),t?{r:wn(t[1],16),g:wn(t[2],16),b:wn(t[3],16)}:null;default:return null}}function tn(r,t){if(Bs(r).call(r,"rgba"))return r;if(Bs(r).call(r,"rgb")){var e=r.substr(kt(r).call(r,"(")+1).replace(")","").split(",");return"rgba("+e[0]+","+e[1]+","+e[2]+","+t+")"}else{var i=k$(r);return i==null?r:"rgba("+i.r+","+i.g+","+i.b+","+t+")"}}function KA(r,t,e){var i;return"#"+Wr(i=((1<<24)+(r<<16)+(t<<8)+e).toString(16)).call(i,1)}function db(r,t){if(ks(r)){var e=r;if(JA(e)){var i,n=cu(i=e.substr(4).substr(0,e.length-5).split(",")).call(i,function(c){return wn(c)});e=KA(n[0],n[1],n[2])}if(YA(e)===!0){var a=p3e(e),s={h:a.h,s:a.s*.8,v:Math.min(1,a.v*1.02)},o={h:a.h,s:Math.min(1,a.s*1.25),v:a.v*.8},l=vb(o.h,o.s,o.v),u=vb(s.h,s.s,s.v);return{background:e,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}else return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else if(t){var f={background:r.background||t.background,border:r.border||t.border,highlight:ks(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||t.highlight.background,border:r.highlight&&r.highlight.border||t.highlight.border},hover:ks(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||t.hover.border,background:r.hover&&r.hover.background||t.hover.background}};return f}else{var h={background:r.background||void 0,border:r.border||void 0,highlight:ks(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||void 0,border:r.highlight&&r.highlight.border||void 0},hover:ks(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||void 0,background:r.hover&&r.hover.background||void 0}};return h}}function of(r,t,e){r=r/255,t=t/255,e=e/255;var i=Math.min(r,Math.min(t,e)),n=Math.max(r,Math.max(t,e));if(i===n)return{h:0,s:0,v:i};var a=r===i?t-e:e===i?r-t:e-r,s=r===i?3:e===i?1:5,o=60*(s-a/(n-i))/360,l=(n-i)/n,u=n;return{h:o,s:l,v:u}}function cm(r,t,e){var i,n,a,s=Math.floor(r*6),o=r*6-s,l=e*(1-t),u=e*(1-o*t),f=e*(1-(1-o)*t);switch(s%6){case 0:i=e,n=f,a=l;break;case 1:i=u,n=e,a=l;break;case 2:i=l,n=e,a=f;break;case 3:i=l,n=u,a=e;break;case 4:i=f,n=l,a=e;break;case 5:i=e,n=l,a=u;break}return{r:Math.floor(i*255),g:Math.floor(n*255),b:Math.floor(a*255)}}function vb(r,t,e){var i=cm(r,t,e);return KA(i.r,i.g,i.b)}function p3e(r){var t=k$(r);if(!t)throw new TypeError("'".concat(r,"' is not a valid color."));return of(t.r,t.g,t.b)}function YA(r){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r);return t}function JA(r){return u3e.test(r)}function d3e(r){return f3e.test(r)}function zs(r){if(r===null||Rt(r)!=="object")return null;if(r instanceof Element)return r;var t=ko(r);for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&Rt(r[e])=="object"&&(t[e]=zs(r[e]));return t}function Zi(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=function(v){return v!=null},a=function(v){return v!==null&&Rt(v)==="object"},s=function(v){for(var d in v)if(Object.prototype.hasOwnProperty.call(v,d))return!1;return!0};if(!a(r))throw new Error("Parameter mergeTarget must be an object");if(!a(t))throw new Error("Parameter options must be an object");if(!n(e))throw new Error("Parameter option must have a value");if(!a(i))throw new Error("Parameter globalOptions must be an object");var o=function(v,d,b){a(v[b])||(v[b]={});var g=d[b],$=v[b];for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&($[w]=g[w])},l=t[e],u=a(i)&&!s(i),f=u?i[e]:void 0,h=f?f.enabled:void 0;if(l!==void 0){if(typeof l=="boolean"){a(r[e])||(r[e]={}),r[e].enabled=l;return}if(l===null&&!a(r[e]))if(n(f))r[e]=ko(f);else return;if(a(l)){var c=!0;l.enabled!==void 0?c=l.enabled:h!==void 0&&(c=f.enabled),o(r,t,e),r[e].enabled=c}}}var v3e={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Es(r,t){var e;Pt(t)||(t=[t]);var i=GA(r),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a){e=a[t[0]];for(var s=1;s<t.length;s++)e&&(e=e[t[s]]);if(typeof e<"u")break}}}catch(o){i.e(o)}finally{i.f()}return e}var g3e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},b3e=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;He(this,r),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return We(r,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(e){if(typeof e=="string")return g3e[e]}},{key:"setColor",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e!=="none"){var n,a=this._isColorString(e);if(a!==void 0&&(e=a),ks(e)===!0){if(JA(e)===!0){var s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(d3e(e)===!0){var o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(YA(e)===!0){var l=k$(e);n={r:l.r,g:l.g,b:l.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var u=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:u}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+jc(e));this._setColor(n,i)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i===!0&&(this.previousColor=yr({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Gn(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i===!0&&(this.initialColor=yr({},e)),this.color=e;var n=of(e.r,e.g,e.b),a=2*Math.PI,s=this.r*n.s,o=this.centerCoordinates.x+s*Math.sin(a*n.h),l=this.centerCoordinates.y+s*Math.cos(a*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var i=of(this.color.r,this.color.g,this.color.b);i.v=e/100;var n=cm(i.h,i.s,i.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,i=of(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var a=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,a,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-i.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),qc(n).call(n),this.brightnessRange.value=100*i.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,i,n,a;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var l=this;this.opacityRange.onchange=function(){l._setOpacity(this.value)},this.opacityRange.oninput=function(){l._setOpacity(this.value)},this.brightnessRange.onchange=function(){l._setBrightness(this.value)},this.brightnessRange.oninput=function(){l._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Le(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Le(i=this._apply).call(i,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Le(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Le(a=this._loadLast).call(a,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new E$(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(i){i.isFirst&&e._moveSelector(i)}),this.hammer.on("tap",function(i){e._moveSelector(i)}),this.hammer.on("panstart",function(i){e._moveSelector(i)}),this.hammer.on("panmove",function(i){e._moveSelector(i)}),this.hammer.on("panend",function(i){e._moveSelector(i)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,i,n);var a,s,o,l;this.centerCoordinates={x:i*.5,y:n*.5},this.r=.49*i;var u=2*Math.PI/360,f=1/360,h=1/this.r,c;for(o=0;o<360;o++)for(l=0;l<this.r;l++)a=this.centerCoordinates.x+l*Math.sin(u*o),s=this.centerCoordinates.y+l*Math.cos(u*o),c=cm(o*f,l*h,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(a-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,i,n)}this.generated=!0}},{key:"_moveSelector",value:function(e){var i=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-i.left,a=e.center.y-i.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,l=n-o,u=a-s,f=Math.atan2(l,u),h=.98*Math.min(Math.sqrt(l*l+u*u),o),c=Math.cos(f)*h+s,m=Math.sin(f)*h+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=m-.5*this.colorPickerSelector.clientWidth+"px";var v=f/(2*Math.PI);v=v<0?v+1:v;var d=h/this.r,b=of(this.color.r,this.color.g,this.color.b);b.h=v,b.s=d;var g=cm(b.h,b.s,b.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),r}();function gb(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];if(t.length<1)throw new TypeError("Invalid arguments.");if(t.length===1)return document.createTextNode(t[0]);var i=document.createElement(t[0]);return i.appendChild(gb.apply(void 0,zn(Wr(t).call(t,1)))),i}var y3e=function(){function r(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};He(this,r),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=a,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},yr(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new b3e(n),this.wrapper=void 0}return We(r,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var i=!0;if(typeof e=="string")this.options.filter=e;else if(Pt(e))this.options.filter=e.join();else if(Rt(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),wi(e)!==void 0&&(this.options.filter=wi(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(i=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,i=e):typeof e=="function"&&(this.options.filter=e,i=!0);wi(this.options)===!1&&(i=!1),this.options.enabled=i}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=wi(this.options),i=0,n=!1;for(var a in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,a)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(a,[]),n=n||this._handleObject(this.configureOptions[a],[a],!0)):(e===!0||kt(e).call(e,a)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(a),this._handleObject(this.configureOptions[a],[a])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var i=this.moduleOptions,n=0;n<e.length;n++)if(i[e[n]]!==void 0)i=i[e[n]];else{i=void 0;break}return i}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var i=document.createElement("div");i.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return Bt(a).call(a,function(o){i.appendChild(o)}),this.domElements.push(i),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var i=document.createElement("div");i.className="vis-configuration vis-config-header",i.innerText=e,this._makeItem([],i)}},{key:"_makeLabel",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=document.createElement("div");if(a.className="vis-configuration vis-config-label vis-config-s"+i.length,n===!0){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(gb("i","b",e))}else a.innerText=e+":";return a}},{key:"_makeDropdown",value:function(e,i,n){var a=document.createElement("select");a.className="vis-configuration vis-config-select";var s=0;i!==void 0&&kt(e).call(e,i)!==-1&&(s=kt(e).call(e,i));for(var o=0;o<e.length;o++){var l=document.createElement("option");l.value=e[o],o===s&&(l.selected="selected"),l.innerText=e[o],a.appendChild(l)}var u=this;a.onchange=function(){u._update(this.value,n)};var f=this._makeLabel(n[n.length-1],n);this._makeItem(n,f,a)}},{key:"_makeRange",value:function(e,i,n){var a=e[0],s=e[1],o=e[2],l=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=l;var f="",h=0;if(i!==void 0){var c=1.2;i<0&&i*c<s?(u.min=Math.ceil(i*c),h=u.min,f="range increased"):i/c<s&&(u.min=Math.ceil(i/c),h=u.min,f="range increased"),i*c>o&&o!==1&&(u.max=Math.ceil(i*c),h=u.max,f="range increased"),u.value=i}else u.value=a;var m=document.createElement("input");m.className="vis-configuration vis-config-rangeinput",m.value=u.value;var v=this;u.onchange=function(){m.value=this.value,v._update(Number(this.value),n)},u.oninput=function(){m.value=this.value};var d=this._makeLabel(n[n.length-1],n),b=this._makeItem(n,d,u,m);f!==""&&this.popupHistory[b]!==h&&(this.popupHistory[b]=h,this._setupPopup(f,b))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var i=document.createElement("div");i.className="vis-configuration vis-config-button",i.innerText="generate options",i.onclick=function(){e._printOptions()},i.onmouseover=function(){i.className="vis-configuration vis-config-button hover"},i.onmouseout=function(){i.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(i)}}},{key:"_setupPopup",value:function(e,i){var n=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var a=document.createElement("div");a.id="vis-configuration-popup",a.className="vis-configuration-popup",a.innerText=e,a.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:a,index:i}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var i=this.domElements[this.popupDiv.index],n=i.getBoundingClientRect();this.popupDiv.html.style.left=n.left+"px",this.popupDiv.html.style.top=n.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Gn(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Gn(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,i,n){var a=document.createElement("input");a.type="checkbox",a.className="vis-configuration vis-config-checkbox",a.checked=e,i!==void 0&&(a.checked=i,i!==e&&(Rt(e)==="object"?i!==e.enabled&&this.changedOptions.push({path:n,value:i}):this.changedOptions.push({path:n,value:i})));var s=this;a.onchange=function(){s._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,a)}},{key:"_makeTextInput",value:function(e,i,n){var a=document.createElement("input");a.type="text",a.className="vis-configuration vis-config-text",a.value=i,i!==e&&this.changedOptions.push({path:n,value:i});var s=this;a.onchange=function(){s._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,a)}},{key:"_makeColorField",value:function(e,i,n){var a=this,s=e[1],o=document.createElement("div");i=i===void 0?s:i,i!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=i):o.className="vis-configuration vis-config-colorBlock none",i=i===void 0?s:i,o.onclick=function(){a._showColorPicker(i,o,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,o)}},{key:"_showColorPicker",value:function(e,i,n){var a=this;i.onclick=function(){},this.colorPicker.insertTo(i),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(s){var o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";i.style.backgroundColor=o,a._update(o,n)}),this.colorPicker.setCloseCallback(function(){i.onclick=function(){a._showColorPicker(e,i,n)}})}},{key:"_handleObject",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=wi(this.options),o=!1;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){a=!0;var u=e[l],f=Zm(i,l);if(typeof s=="function"&&(a=s(l,i),a===!1&&!Pt(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,a=this._handleObject(u,f,!0),this.allowCreation=n===!1)),a!==!1){o=!0;var h=this._getValue(f);if(Pt(u))this._handleArray(u,h,f);else if(typeof u=="string")this._makeTextInput(u,h,f);else if(typeof u=="boolean")this._makeCheckbox(u,h,f);else if(u instanceof Object){if(!this.hideOption(i,l,this.moduleOptions))if(u.enabled!==void 0){var c=Zm(f,"enabled"),m=this._getValue(c);if(m===!0){var v=this._makeLabel(l,f,!0);this._makeItem(f,v),o=this._handleObject(u,f)||o}else this._makeCheckbox(u,m,f)}else{var d=this._makeLabel(l,f,!0);this._makeItem(f,d),o=this._handleObject(u,f)||o}}else console.error("dont know how to handle",u,l,f)}}return o}},{key:"_handleArray",value:function(e,i,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,i,n),e[1]!==i&&this.changedOptions.push({path:n,value:i})):typeof e[0]=="string"?(this._makeDropdown(e,i,n),e[0]!==i&&this.changedOptions.push({path:n,value:i})):typeof e[0]=="number"&&(this._makeRange(e,i,n),e[0]!==i&&this.changedOptions.push({path:n,value:Number(i)}))}},{key:"_update",value:function(e,i){var n=this._constructOptions(e,i);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(var s=0;s<i.length;s++)i[s]!=="global"&&(a[i[s]]===void 0&&(a[i[s]]={}),s!==i.length-1?a=a[i[s]]:a[i[s]]=e);return n}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(gb("pre","const options = "+jc(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},i=0;i<this.changedOptions.length;i++)this._constructOptions(this.changedOptions[i].value,this.changedOptions[i].path,e);return e}}]),r}(),$3e=function(){function r(t,e){He(this,r),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return We(r,[{key:"setPosition",value:function(e,i){this.x=wn(e),this.y=wn(i)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var i=this.frame.clientHeight,n=this.frame.clientWidth,a=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,l=0;if(this.overflowMethod=="flip"){var u=!1,f=!0;this.y-i<this.padding&&(f=!1),this.x+n>s-this.padding&&(u=!0),u?o=this.x-n:o=this.x,f?l=this.y-i:l=this.y}else l=this.y-i,l+i+this.padding>a&&(l=a-i-this.padding),l<this.padding&&(l=this.padding),o=this.x,o+n+this.padding>s&&(o=s-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),r}(),Zu=!1,hx,bb="background: #FFeeee; color: #dd0000",_3e=function(){function r(){He(this,r)}return We(r,null,[{key:"validate",value:function(e,i,n){Zu=!1,hx=i;var a=i;return n!==void 0&&(a=i[n]),r.parse(e,a,[]),Zu}},{key:"parse",value:function(e,i,n){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.check(a,e,i,n)}},{key:"check",value:function(e,i,n,a){if(n[e]===void 0&&n.__any__===void 0){r.getSuggestion(e,n,a);return}var s=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",o=r.getType(i[e])==="object");var l=n[s];o&&l.__type__!==void 0&&(l=l.__type__),r.checkFields(e,i,n,s,l,a)}},{key:"checkFields",value:function(e,i,n,a,s,o){var l=function(c){console.error("%c"+c+r.printLocation(o,e),bb)},u=r.getType(i[e]),f=s[u];f!==void 0?r.getType(f)==="array"&&kt(f).call(f,i[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+r.print(f)+' not "'+i[e]+'". '),Zu=!0):u==="object"&&a!=="__any__"&&(o=Zm(o,e),r.parse(i[e],n[a],o)):s.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+r.print(nr(s))+". Received ["+u+'] "'+i[e]+'"'),Zu=!0)}},{key:"getType",value:function(e){var i=Rt(e);return i==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Pt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":i==="number"?"number":i==="boolean"?"boolean":i==="string"?"string":i===void 0?"undefined":i}},{key:"getSuggestion",value:function(e,i,n){var a=r.findInOptions(e,i,n,!1),s=r.findInOptions(e,hx,[],!0),o=8,l=4,u;a.indexMatch!==void 0?u=" in "+r.printLocation(a.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+a.indexMatch+`"?

`:s.distance<=l&&a.distance>s.distance?u=" in "+r.printLocation(a.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+r.printLocation(s.path,s.closestMatch,""):a.distance<=o?u='. Did you mean "'+a.closestMatch+'"?'+r.printLocation(a.path,e):u=". Did you mean one of these: "+r.print(nr(i))+r.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+u,bb),Zu=!0}},{key:"findInOptions",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",l=[],u=e.toLowerCase(),f=void 0;for(var h in i){var c=void 0;if(i[h].__type__!==void 0&&a===!0){var m=r.findInOptions(e,i[h],Zm(n,h));s>m.distance&&(o=m.closestMatch,l=m.path,s=m.distance,f=m.indexMatch)}else{var v;kt(v=h.toLowerCase()).call(v,u)!==-1&&(f=h),c=r.levenshteinDistance(e,h),s>c&&(o=h,l=c3e(n),s=c)}}return{closestMatch:o,path:l,distance:s,indexMatch:f}}},{key:"printLocation",value:function(e,i){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,a=`

`+n+`options = {
`,s=0;s<e.length;s++){for(var o=0;o<s+1;o++)a+="  ";a+=e[s]+`: {
`}for(var l=0;l<e.length+1;l++)a+="  ";a+=i+`
`;for(var u=0;u<e.length+1;u++){for(var f=0;f<e.length-u;f++)a+="  ";a+=`}
`}return a+`

`}},{key:"print",value:function(e){return jc(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,i){if(e.length===0)return i.length;if(i.length===0)return e.length;var n=[],a;for(a=0;a<=i.length;a++)n[a]=[a];var s;for(s=0;s<=e.length;s++)n[0][s]=s;for(a=1;a<=i.length;a++)for(s=1;s<=e.length;s++)i.charAt(a-1)==e.charAt(s-1)?n[a][s]=n[a-1][s-1]:n[a][s]=Math.min(n[a-1][s-1]+1,Math.min(n[a][s-1]+1,n[a-1][s]+1));return n[i.length][e.length]}}]),r}(),w3e=Hn,x3e=y3e,Kl=E$,S3e=$3e,QA=bb,E3e=_3e;function k3e(r){return Is=r,I3e()}var ZA={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},T$=ko(ZA);T$.color="color.color";T$.style="dashes";var ei={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},mx={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Is="",du=0,vt="",st="",gi=ei.NULL;function T3e(){du=0,vt=Is.charAt(0)}function Tr(){du++,vt=Is.charAt(du)}function Tl(){return Is.charAt(du+1)}function px(r){var t=r.charCodeAt(0);return t<47?t===35||t===46:t<59?t>47:t<91?t>64:t<96?t===95:t<123?t>96:!1}function Ws(r,t){if(r||(r={}),t)for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function O3e(r,t,e){for(var i=t.split("."),n=r;i.length;){var a=i.shift();i.length?(n[a]||(n[a]={}),n=n[a]):n[a]=e}}function eI(r,t){for(var e,i,n=null,a=[r],s=r;s.parent;)a.push(s.parent),s=s.parent;if(s.nodes){for(e=0,i=s.nodes.length;e<i;e++)if(t.id===s.nodes[e].id){n=s.nodes[e];break}}for(n||(n={id:t.id},r.node&&(n.attr=Ws(n.attr,r.node))),e=a.length-1;e>=0;e--){var o,l=a[e];l.nodes||(l.nodes=[]),kt(o=l.nodes).call(o,n)===-1&&l.nodes.push(n)}t.attr&&(n.attr=Ws(n.attr,t.attr))}function A3e(r,t){if(r.edges||(r.edges=[]),r.edges.push(t),r.edge){var e=Ws({},r.edge);t.attr=Ws(e,t.attr)}}function tI(r,t,e,i,n){var a={from:t,to:e,type:i};return r.edge&&(a.attr=Ws({},r.edge)),a.attr=Ws(a.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(a.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),a}function jt(){for(gi=ei.NULL,st="";vt===" "||vt==="	"||vt===`
`||vt==="\r";)Tr();do{var r=!1;if(vt==="#"){for(var t=du-1;Is.charAt(t)===" "||Is.charAt(t)==="	";)t--;if(Is.charAt(t)===`
`||Is.charAt(t)===""){for(;vt!=""&&vt!=`
`;)Tr();r=!0}}if(vt==="/"&&Tl()==="/"){for(;vt!=""&&vt!=`
`;)Tr();r=!0}if(vt==="/"&&Tl()==="*"){for(;vt!="";)if(vt==="*"&&Tl()==="/"){Tr(),Tr();break}else Tr();r=!0}for(;vt===" "||vt==="	"||vt===`
`||vt==="\r";)Tr()}while(r);if(vt===""){gi=ei.DELIMITER;return}var e=vt+Tl();if(mx[e]){gi=ei.DELIMITER,st=e,Tr(),Tr();return}if(mx[vt]){gi=ei.DELIMITER,st=vt,Tr();return}if(px(vt)||vt==="-"){for(st+=vt,Tr();px(vt);)st+=vt,Tr();st==="false"?st=!1:st==="true"?st=!0:isNaN(Number(st))||(st=Number(st)),gi=ei.IDENTIFIER;return}if(vt==='"'){for(Tr();vt!=""&&(vt!='"'||vt==='"'&&Tl()==='"');)vt==='"'?(st+=vt,Tr()):vt==="\\"&&Tl()==="n"?(st+=`
`,Tr()):st+=vt,Tr();if(vt!='"')throw ti('End of string " expected');Tr(),gi=ei.IDENTIFIER;return}for(gi=ei.UNKNOWN;vt!="";)st+=vt,Tr();throw new SyntaxError('Syntax error in part "'+aI(st,30)+'"')}function I3e(){var r={};if(T3e(),jt(),st==="strict"&&(r.strict=!0,jt()),(st==="graph"||st==="digraph")&&(r.type=st,jt()),gi===ei.IDENTIFIER&&(r.id=st,jt()),st!="{")throw ti("Angle bracket { expected");if(jt(),rI(r),st!="}")throw ti("Angle bracket } expected");if(jt(),st!=="")throw ti("End of file expected");return jt(),delete r.node,delete r.edge,delete r.graph,r}function rI(r){for(;st!==""&&st!="}";)C3e(r),st===";"&&jt()}function C3e(r){var t=iI(r);if(t){nI(r,t);return}var e=P3e(r);if(!e){if(gi!=ei.IDENTIFIER)throw ti("Identifier expected");var i=st;if(jt(),st==="="){if(jt(),gi!=ei.IDENTIFIER)throw ti("Identifier expected");r[i]=st,jt()}else D3e(r,i)}}function iI(r){var t=null;if(st==="subgraph"&&(t={},t.type="subgraph",jt(),gi===ei.IDENTIFIER&&(t.id=st,jt())),st==="{"){if(jt(),t||(t={}),t.parent=r,t.node=r.node,t.edge=r.edge,t.graph=r.graph,rI(t),st!="}")throw ti("Angle bracket } expected");jt(),delete t.node,delete t.edge,delete t.graph,delete t.parent,r.subgraphs||(r.subgraphs=[]),r.subgraphs.push(t)}return t}function P3e(r){return st==="node"?(jt(),r.node=bf(),"node"):st==="edge"?(jt(),r.edge=bf(),"edge"):st==="graph"?(jt(),r.graph=bf(),"graph"):null}function D3e(r,t){var e={id:t},i=bf();i&&(e.attr=i),eI(r,e),nI(r,t)}function nI(r,t){for(;st==="->"||st==="--";){var e,i=st;jt();var n=iI(r);if(n)e=n;else{if(gi!=ei.IDENTIFIER)throw ti("Identifier or subgraph expected");e=st,eI(r,{id:e}),jt()}var a=bf(),s=tI(r,t,e,i,a);A3e(r,s),t=e}}function bf(){for(var r,t=null,e={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,a=new Array;st==="[";){for(jt(),t={};st!==""&&st!="]";){if(gi!=ei.IDENTIFIER)throw ti("Attribute name expected");var s=st;if(jt(),st!="=")throw ti("Equal sign = expected");if(jt(),gi!=ei.IDENTIFIER)throw ti("Attribute value expected");var o=st;s==="style"&&(o=e[o]);var l;s==="arrowhead"&&(l=i[o],s="arrows",o={to:{enabled:!0,type:l}}),s==="arrowtail"&&(l=i[o],s="arrows",o={from:{enabled:!0,type:l}}),n.push({attr:t,name:s,value:o}),a.push(s),jt(),st==","&&jt()}if(st!="]")throw ti("Bracket ] expected");jt()}if(Bs(a).call(a,"dir")){var u={};for(u.arrows={},r=0;r<n.length;r++)if(n[r].name==="arrows")if(n[r].value.to!=null)u.arrows.to=r;else if(n[r].value.from!=null)u.arrows.from=r;else throw ti("Invalid value of arrows");else n[r].name==="dir"&&(u.dir=r);var f=n[u.dir].value;if(!Bs(a).call(a,"arrows"))if(f==="both")n.push({attr:n[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=n.length-1,n.push({attr:n[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=n.length-1;else if(f==="forward")n.push({attr:n[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=n.length-1;else if(f==="back")n.push({attr:n[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=n.length-1;else if(f==="none")n.push({attr:n[u.dir].attr,name:"arrows",value:""}),u.arrows.to=n.length-1;else throw ti('Invalid dir type "'+f+'"');var h,c;if(f==="both")u.arrows.to&&u.arrows.from?(c=n[u.arrows.to].value.to.type,h=n[u.arrows.from].value.from.type,n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}},ba(n).call(n,u.arrows.from,1)):u.arrows.to?(c=n[u.arrows.to].value.to.type,h="arrow",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.from&&(c="arrow",h=n[u.arrows.from].value.from.type,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}});else if(f==="back")u.arrows.to&&u.arrows.from?(c="",h=n[u.arrows.from].value.from.type,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.to?(c="",h="arrow",u.arrows.from=u.arrows.to,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.from&&(c="",h=n[u.arrows.from].value.from.type,n[u.arrows.to]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}),n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{from:{enabled:!0,type:n[u.arrows.from].value.from.type}}};else if(f==="none"){var m;u.arrows.to?m=u.arrows.to:m=u.arrows.from,n[m]={attr:n[m].attr,name:n[m].name,value:""}}else if(f==="forward")u.arrows.to&&u.arrows.from?(c=n[u.arrows.to].value.to.type,h="",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.to?(c=n[u.arrows.to].value.to.type,h="",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):u.arrows.from&&(c="arrow",h="",u.arrows.to=u.arrows.from,n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}),n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:n[u.arrows.to].value.to.type}}};else throw ti('Invalid dir type "'+f+'"');ba(n).call(n,u.dir,1)}var v;if(Bs(a).call(a,"penwidth")){var d=[];for(v=n.length,r=0;r<v;r++)n[r].name!=="width"&&(n[r].name==="penwidth"&&(n[r].name="width"),d.push(n[r]));n=d}for(v=n.length,r=0;r<v;r++)O3e(n[r].attr,n[r].name,n[r].value);return t}function ti(r){return new SyntaxError(r+', got "'+aI(st,30)+'" (char '+du+")")}function aI(r,t){return r.length<=t?r:r.substr(0,27)+"..."}function N3e(r,t,e){Pt(r)?Bt(r).call(r,function(i){Pt(t)?Bt(t).call(t,function(n){e(i,n)}):e(i,t)}):Pt(t)?Bt(t).call(t,function(i){e(r,i)}):e(r,t)}function xg(r,t,e){for(var i=t.split("."),n=i.pop(),a=r,s=0;s<i.length;s++){var o=i[s];o in a||(a[o]={}),a=a[o]}return a[n]=e,r}function dx(r,t){var e={};for(var i in r)if(r.hasOwnProperty(i)){var n=t[i];Pt(n)?Bt(n).call(n,function(a){xg(e,a,r[i])}):typeof n=="string"?xg(e,n,r[i]):xg(e,i,r[i])}return e}function R3e(r){var t=k3e(r),e={nodes:[],edges:[],options:{}};if(t.nodes){var i;Bt(i=t.nodes).call(i,function(s){var o={id:s.id,label:String(s.label||s.id)};Ws(o,dx(s.attr,ZA)),o.image&&(o.shape="image"),e.nodes.push(o)})}if(t.edges){var n,a=function(o){var l={from:o.from,to:o.to};return Ws(l,dx(o.attr,T$)),l.arrows==null&&o.type==="->"&&(l.arrows="to"),l};Bt(n=t.edges).call(n,function(s){var o,l;if(s.from instanceof Object?o=s.from.nodes:o={id:s.from},s.to instanceof Object?l=s.to.nodes:l={id:s.to},s.from instanceof Object&&s.from.edges){var u;Bt(u=s.from.edges).call(u,function(h){var c=a(h);e.edges.push(c)})}if(N3e(o,l,function(h,c){var m=tI(e,h.id,c.id,s.type,s.attr),v=a(m);e.edges.push(v)}),s.to instanceof Object&&s.to.edges){var f;Bt(f=s.to.edges).call(f,function(h){var c=a(h);e.edges.push(c)})}})}return t.attr&&(e.options=t.attr),e}function M3e(r,t){var e,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};t!=null&&(t.fixed!=null&&(i.nodes.fixed=t.fixed),t.parseColor!=null&&(i.nodes.parseColor=t.parseColor),t.inheritColor!=null&&(i.edges.inheritColor=t.inheritColor));var n=r.edges,a=cu(n).call(n,function(o){var l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&i.edges.inheritColor===!1&&(l.color=o.color),l}),s=cu(e=r.nodes).call(e,function(o){var l={id:o.id,fixed:i.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(i.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l});return{nodes:s,edges:a}}var B3e={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},F3e={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},z3e={addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},L3e={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},j3e={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},q3e={addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},U3e={addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},H3e={addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},W3e={addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},V3e={addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},G3e={addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},X3e=Object.freeze({__proto__:null,cn:H3e,cs:G3e,de:F3e,en:B3e,es:z3e,fr:V3e,it:L3e,nl:j3e,pt:q3e,ru:U3e,uk:W3e});function K3e(r,t){try{var e=t.split(/[-_ /]/,2),i=ar(e,2),n=i[0],a=i[1],s=n!=null?n.toLowerCase():null,o=a!=null?a.toUpperCase():null;if(s&&o){var l=s+"-"+o;if(Object.prototype.hasOwnProperty.call(r,l))return l;var u;console.warn(v$(u="Unknown variant ".concat(o," of language ")).call(u,s,"."))}if(s){var f=s;if(Object.prototype.hasOwnProperty.call(r,f))return f;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(h){return console.error(h),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}var Y3e=function(){function r(){He(this,r),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return We(r,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,i=this.image.height;this.width=e,this.height=i;var n=Math.floor(i/2),a=Math.floor(i/4),s=Math.floor(i/8),o=Math.floor(i/16),l=Math.floor(e/2),u=Math.floor(e/4),f=Math.floor(e/8),h=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=n,this.coordinates=[[0,0,l,n],[l,0,u,a],[l,a,f,s],[5*f,a,h,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),i=this.coordinates[0];e.drawImage(this.image,i[0],i[1],i[2],i[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var a=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,a[0],a[1],a[2],a[3],s[0],s[1],s[2],s[3])}}},{key:"drawImageAtPosition",value:function(e,i,n,a,s,o){if(this.initialized())if(i>2){i*=.5;for(var l=0;i>2&&l<this.NUM_ITERATIONS;)i*=.5,l+=1;l>=this.NUM_ITERATIONS&&(l=this.NUM_ITERATIONS-1);var u=this.coordinates[l];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],n,a,s,o)}else e.drawImage(this.image,n,a,s,o)}}]),r}(),J3e=function(){function r(t){He(this,r),this.images={},this.imageBroken={},this.callback=t}return We(r,[{key:"_tryloadBrokenUrl",value:function(e,i,n){if(!(e===void 0||n===void 0)){if(i===void 0){console.warn("No broken url image defined");return}n.image.onerror=function(){console.error("Could not load brokenImage:",i)},n.image.src=i}}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,i){var n=this,a=this.images[e];if(a)return a;var s=new Y3e;return this.images[e]=s,s.image.onload=function(){n._fixImageCoordinates(s.image),s.init(),n._redrawWithImage(s)},s.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,i,s)},s.image.src=e,s}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),r}(),sI={exports:{}},Q3e=Tt,Z3e=Q3e(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),e5e=Tt,t5e=Rr,r5e=Ra,vx=Z3e,hm=Object.isExtensible,i5e=e5e(function(){hm(1)}),n5e=i5e||vx?function(t){return!t5e(t)||vx&&r5e(t)==="ArrayBuffer"?!1:hm?hm(t):!0}:hm,a5e=Tt,oI=!a5e(function(){return Object.isExtensible(Object.preventExtensions({}))}),s5e=ot,o5e=At,l5e=Dc,u5e=Rr,O$=Mr,f5e=Wi.f,gx=Bc,c5e=ld,A$=n5e,h5e=Jp,m5e=oI,lI=!1,Aa=h5e("meta"),p5e=0,I$=function(r){f5e(r,Aa,{value:{objectID:"O"+p5e++,weakData:{}}})},d5e=function(r,t){if(!u5e(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!O$(r,Aa)){if(!A$(r))return"F";if(!t)return"E";I$(r)}return r[Aa].objectID},v5e=function(r,t){if(!O$(r,Aa)){if(!A$(r))return!0;if(!t)return!1;I$(r)}return r[Aa].weakData},g5e=function(r){return m5e&&lI&&A$(r)&&!O$(r,Aa)&&I$(r),r},b5e=function(){y5e.enable=function(){},lI=!0;var r=gx.f,t=o5e([].splice),e={};e[Aa]=1,r(e).length&&(gx.f=function(i){for(var n=r(i),a=0,s=n.length;a<s;a++)if(n[a]===Aa){t(n,a,1);break}return n},s5e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c5e.f}))},y5e=sI.exports={enable:b5e,fastKey:d5e,getWeakData:v5e,onFreeze:g5e};l5e[Aa]=!0;var bd=sI.exports,$5e=Cc,_5e=Hi,w5e=Vi,x5e=Ru,S5e=lO,E5e=mn,bx=dr,k5e=mO,T5e=sd,yx=oO,O5e=TypeError,mm=function(r,t){this.stopped=r,this.result=t},$x=mm.prototype,C$=function(r,t,e){var i=e&&e.that,n=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_RECORD),s=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=$5e(t,i),u,f,h,c,m,v,d,b=function($){return u&&yx(u,"normal",$),new mm(!0,$)},g=function($){return n?(w5e($),o?l($[0],$[1],b):l($[0],$[1])):o?l($,b):l($)};if(a)u=r.iterator;else if(s)u=r;else{if(f=T5e(r),!f)throw new O5e(x5e(r)+" is not iterable");if(S5e(f)){for(h=0,c=E5e(r);c>h;h++)if(m=g(r[h]),m&&bx($x,m))return m;return new mm(!1)}u=k5e(r,f)}for(v=a?r.next:u.next;!(d=_5e(v,u)).done;){try{m=g(d.value)}catch($){yx(u,"throw",$)}if(typeof m=="object"&&m&&bx($x,m))return m}return new mm(!1)},A5e=dr,I5e=TypeError,P$=function(r,t){if(A5e(t,r))return r;throw new I5e("Incorrect invocation")},C5e=ot,P5e=lr,D5e=bd,N5e=Tt,R5e=Bu,M5e=C$,B5e=P$,F5e=Dr,z5e=Rr,L5e=Du,j5e=zu,q5e=Wi.f,U5e=Zs.forEach,H5e=Nr,uI=il,W5e=uI.set,V5e=uI.getterFor,D$=function(r,t,e){var i=r.indexOf("Map")!==-1,n=r.indexOf("Weak")!==-1,a=i?"set":"add",s=P5e[r],o=s&&s.prototype,l={},u;if(!H5e||!F5e(s)||!(n||o.forEach&&!N5e(function(){new s().entries().next()})))u=e.getConstructor(t,r,i,a),D5e.enable();else{u=t(function(c,m){W5e(B5e(c,f),{type:r,collection:new s}),L5e(m)||M5e(m,c[a],{that:c,AS_ENTRIES:i})});var f=u.prototype,h=V5e(r);U5e(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(c){var m=c==="add"||c==="set";c in o&&!(n&&c==="clear")&&R5e(f,c,function(v,d){var b=h(this).collection;if(!m&&n&&!z5e(v))return c==="get"?void 0:!1;var g=b[c](v===0?0:v,d);return m?this:g})}),n||q5e(f,"size",{configurable:!0,get:function(){return h(this).collection.size}})}return j5e(u,r,!1,!0),l[r]=u,C5e({global:!0,forced:!0},l),n||e.setStrong(u,r,i),u},G5e=Rc,N$=function(r,t,e){for(var i in t)e&&e.unsafe&&r[i]?r[i]=t[i]:G5e(r,i,t[i],e);return r},X5e=hn,K5e=f$,Y5e=ur,J5e=Nr,_x=Y5e("species"),Q5e=function(r){var t=X5e(r);J5e&&t&&!t[_x]&&K5e(t,_x,{configurable:!0,get:function(){return this}})},Z5e=Fu,e6e=f$,wx=N$,t6e=Cc,r6e=P$,i6e=Du,n6e=C$,a6e=a$,jh=s$,s6e=Q5e,ef=Nr,xx=bd.fastKey,fI=il,Sx=fI.set,Sg=fI.getterFor,cI={getConstructor:function(r,t,e,i){var n=r(function(u,f){r6e(u,a),Sx(u,{type:t,index:Z5e(null),first:void 0,last:void 0,size:0}),ef||(u.size=0),i6e(f)||n6e(f,u[i],{that:u,AS_ENTRIES:e})}),a=n.prototype,s=Sg(t),o=function(u,f,h){var c=s(u),m=l(u,f),v,d;return m?m.value=h:(c.last=m={index:d=xx(f,!0),key:f,value:h,previous:v=c.last,next:void 0,removed:!1},c.first||(c.first=m),v&&(v.next=m),ef?c.size++:u.size++,d!=="F"&&(c.index[d]=m)),u},l=function(u,f){var h=s(u),c=xx(f),m;if(c!=="F")return h.index[c];for(m=h.first;m;m=m.next)if(m.key===f)return m};return wx(a,{clear:function(){for(var f=this,h=s(f),c=h.index,m=h.first;m;)m.removed=!0,m.previous&&(m.previous=m.previous.next=void 0),delete c[m.index],m=m.next;h.first=h.last=void 0,ef?h.size=0:f.size=0},delete:function(u){var f=this,h=s(f),c=l(f,u);if(c){var m=c.next,v=c.previous;delete h.index[c.index],c.removed=!0,v&&(v.next=m),m&&(m.previous=v),h.first===c&&(h.first=m),h.last===c&&(h.last=v),ef?h.size--:f.size--}return!!c},forEach:function(f){for(var h=s(this),c=t6e(f,arguments.length>1?arguments[1]:void 0),m;m=m?m.next:h.first;)for(c(m.value,m.key,this);m&&m.removed;)m=m.previous},has:function(f){return!!l(this,f)}}),wx(a,e?{get:function(f){var h=l(this,f);return h&&h.value},set:function(f,h){return o(this,f===0?0:f,h)}}:{add:function(f){return o(this,f=f===0?0:f,f)}}),ef&&e6e(a,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(r,t,e){var i=t+" Iterator",n=Sg(t),a=Sg(i);a6e(r,t,function(s,o){Sx(this,{type:i,target:s,state:n(s),kind:o,last:void 0})},function(){for(var s=a(this),o=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,jh(void 0,!0)):jh(o==="keys"?l.key:o==="values"?l.value:[l.key,l.value],!1)},e?"entries":"values",!e,!0),s6e(t)}},o6e=D$,l6e=cI;o6e("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},l6e);var u6e=Ot,f6e=u6e.Map,c6e=f6e,h6e=c6e,m6e=h6e,hI=Qe(m6e),p6e=function(){function r(){He(this,r),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},yr(this.options,this.defaultOptions)}return We(r,[{key:"setOptions",value:function(e){var i=["useDefaultGroups"];if(e!==void 0){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&kt(i).call(i,n)===-1){var a=e[n];this.add(n,a)}}}},{key:"clear",value:function(){this._groups=new hI,this._groupNames=[]}},{key:"get",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&i)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var a=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[a]),this._groups.set(e,n)}else{var s=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[s],this._groups.set(e,n)}return n}},{key:"add",value:function(e,i){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,i),i}}]),r}(),d6e=ot;d6e({target:"Number",stat:!0},{isNaN:function(t){return t!==t}});var v6e=Ot,g6e=v6e.Number.isNaN,b6e=g6e,y6e=b6e,$6e=y6e,yb=Qe($6e),_6e=lr,w6e=_6e.isFinite,x6e=Number.isFinite||function(t){return typeof t=="number"&&w6e(t)},S6e=ot,E6e=x6e;S6e({target:"Number",stat:!0},{isFinite:E6e});var k6e=Ot,T6e=k6e.Number.isFinite,O6e=T6e,A6e=O6e,I6e=A6e,go=Qe(I6e),C6e=ot,P6e=Zs.some,D6e=qu,N6e=D6e("some");C6e({target:"Array",proto:!0,forced:!N6e},{some:function(t){return P6e(this,t,arguments.length>1?arguments[1]:void 0)}});var R6e=Br,M6e=R6e("Array").some,B6e=dr,F6e=M6e,Eg=Array.prototype,z6e=function(r){var t=r.some;return r===Eg||B6e(Eg,r)&&t===Eg.some?F6e:t},L6e=z6e,j6e=L6e,q6e=j6e,U6e=Qe(q6e),H6e=Ot,W6e=H6e.Object.getOwnPropertySymbols,V6e=W6e,G6e=V6e,X6e=G6e,Vs=Qe(X6e),mI={exports:{}},K6e=ot,Y6e=Tt,J6e=ia,pI=Pu.f,dI=Nr,Q6e=!dI||Y6e(function(){pI(1)});K6e({target:"Object",stat:!0,forced:Q6e,sham:!dI},{getOwnPropertyDescriptor:function(t,e){return pI(J6e(t),e)}});var Z6e=Ot,vI=Z6e.Object,exe=mI.exports=function(t,e){return vI.getOwnPropertyDescriptor(t,e)};vI.getOwnPropertyDescriptor.sham&&(exe.sham=!0);var txe=mI.exports,rxe=txe,gI=rxe,ixe=gI,to=Qe(ixe),nxe=ot,axe=Nr,sxe=w$e,oxe=ia,lxe=Pu,uxe=ju;nxe({target:"Object",stat:!0,sham:!axe},{getOwnPropertyDescriptors:function(t){for(var e=oxe(t),i=lxe.f,n=sxe(e),a={},s=0,o,l;n.length>s;)l=i(e,o=n[s++]),l!==void 0&&uxe(a,o,l);return a}});var fxe=Ot,cxe=fxe.Object.getOwnPropertyDescriptors,hxe=cxe,mxe=hxe,pxe=mxe,Gs=Qe(pxe),bI={exports:{}},dxe=ot,vxe=Nr,Ex=id.f;dxe({target:"Object",stat:!0,forced:Object.defineProperties!==Ex,sham:!vxe},{defineProperties:Ex});var gxe=Ot,yI=gxe.Object,bxe=bI.exports=function(t,e){return yI.defineProperties(t,e)};yI.defineProperties.sham&&(bxe.sham=!0);var yxe=bI.exports,$xe=yxe,_xe=$xe,wxe=_xe,yd=Qe(wxe),xxe=xO,$d=Qe(xxe);function _d(r,t,e){return t=rA(t),t in r?od(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var $I=lr,Sxe=Tt,Exe=At,kxe=na,Txe=pA.trim,Oxe=g$,Axe=Exe("".charAt),ep=$I.parseFloat,kx=$I.Symbol,Tx=kx&&kx.iterator,Ixe=1/ep(Oxe+"-0")!==-1/0||Tx&&!Sxe(function(){ep(Object(Tx))}),Cxe=Ixe?function(t){var e=Txe(kxe(t)),i=ep(e);return i===0&&Axe(e,0)==="-"?-0:i}:ep,Pxe=ot,Ox=Cxe;Pxe({global:!0,forced:parseFloat!==Ox},{parseFloat:Ox});var Dxe=Ot,Nxe=Dxe.parseFloat,Rxe=Nxe,Mxe=Rxe,Bxe=Mxe,_I=Qe(Bxe),Fxe=ot,zxe=Tt,Lxe=ld.f,jxe=zxe(function(){return!Object.getOwnPropertyNames(1)});Fxe({target:"Object",stat:!0,forced:jxe},{getOwnPropertyNames:Lxe});var qxe=Ot,Uxe=qxe.Object,Hxe=function(t){return Uxe.getOwnPropertyNames(t)},Wxe=Hxe,Vxe=Wxe,Gxe=Vxe,Xxe=Qe(Gxe);function R$(r,t){var e=["node","edge","label"],i=!0,n=Es(t,"chosen");if(typeof n=="boolean")i=n;else if(Rt(n)==="object"){if(kt(e).call(e,r)===-1)throw new Error("choosify: subOption '"+r+"' should be one of '"+e.join("', '")+"'");var a=Es(t,["chosen",r]);(typeof a=="boolean"||typeof a=="function")&&(i=a)}return i}function $b(r,t,e){if(r.width<=0||r.height<=0)return!1;if(e!==void 0){var i={x:t.x-e.x,y:t.y-e.y};if(e.angle!==0){var n=-e.angle,a={x:Math.cos(n)*i.x-Math.sin(n)*i.y,y:Math.sin(n)*i.x+Math.cos(n)*i.y};t=a}else t=i}var s=r.x+r.width,o=r.y+r.width;return r.left<t.x&&s>t.x&&r.top<t.y&&o>t.y}function tp(r){return typeof r=="string"&&r!==""}function wI(r,t,e,i){var n=i.x,a=i.y;if(typeof i.distanceToBorder=="function"){var s=i.distanceToBorder(r,t),o=Math.sin(t)*s,l=Math.cos(t)*s;l===s?(n+=s,a=i.y):o===s?(n=i.x,a-=s):(n+=l,a-=o)}else i.shape.width>i.shape.height?(n=i.x+i.shape.width*.5,a=i.y-e):(n=i.x+e,a=i.y-i.shape.height*.5);return{x:n,y:a}}var Kxe=Br,Yxe=Kxe("Array").values,Jxe=Yxe,Qxe=Jxe,Zxe=rl,e7e=Mr,t7e=dr,r7e=Qxe,kg=Array.prototype,i7e={DOMTokenList:!0,NodeList:!0},n7e=function(r){var t=r.values;return r===kg||t7e(kg,r)&&t===kg.values||e7e(i7e,Zxe(r))?r7e:t},a7e=n7e,xI=Qe(a7e),s7e=function(){function r(t){He(this,r),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return We(r,[{key:"_add",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var a=i;(i===void 0||i==="")&&(a=" ");var s=this.measureText(a,n),o=yr({},xI(s));o.text=i,o.width=s.width,o.mod=n,(i===void 0||i==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,i)}},{key:"newLine",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,i),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var i=this.lines[e],n=0;if(i.blocks!==void 0)for(var a=0;a<i.blocks.length;a++){var s=i.blocks[a];n<s.height&&(n=s.height)}i.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,i=0,n=0;n<this.lines.length;n++){var a=this.lines[n];a.width>e&&(e=a.width),i+=a.height}this.width=e,this.height=i}},{key:"removeEmptyBlocks",value:function(){for(var e=[],i=0;i<this.lines.length;i++){var n=this.lines[i];if(n.blocks.length!==0&&!(i===this.lines.length-1&&n.width===0)){var a={};yr(a,n),a.blocks=[];for(var s=void 0,o=[],l=0;l<n.blocks.length;l++){var u=n.blocks[l];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),a.blocks=o,e.push(a)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),r}(),o7e={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},Ax=function(){function r(t){He(this,r),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return We(r,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,i){return!this.mono&&!this[e]&&this.match(i)?(this.setTag(e),!0):!1}},{key:"match",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.prepareRegExp(e),a=ar(n,2),s=a[0],o=a[1],l=s.test(this.text.substr(this.position,o));return l&&i&&(this.position+=o-1),l}},{key:"parseEndTag",value:function(e,i,n){var a=this.mod()===e;return e==="mono"?a=a&&this.mono:a=a&&!this.mono,a&&this.match(i)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}},{key:"replace",value:function(e,i){return this.match(e)?(this.add(i),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(e){var i,n;if(e instanceof RegExp)n=e,i=1;else{var a=o7e[e];a!==void 0?n=a:n=new RegExp(e),i=e.length}return[n,i]}}]),r}(),l7e=function(){function r(t,e,i,n){var a=this;He(this,r),this.ctx=t,this.parent=e,this.selected=i,this.hover=n;var s=function(l,u){if(l===void 0)return 0;var f=a.parent.getFormattingValues(t,i,n,u),h=0;if(l!==""){var c=a.ctx.measureText(l);h=c.width}return{width:h,values:f}};this.lines=new s7e(s)}return We(r,[{key:"process",value:function(e){if(!tp(e))return this.lines.finalize();var i=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);var n=String(e).split(`
`),a=n.length;if(i.multi)for(var s=0;s<a;s++){var o=this.splitBlocks(n[s],i.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(i.maxWdt>0)for(var l=0;l<o.length;l++){var u=o[l].mod,f=o[l].text;this.splitStringIntoLines(f,u,!0)}else for(var h=0;h<o.length;h++){var c=o[h].mod,m=o[h].text;this.lines.append(m,c)}this.lines.newLine()}}else if(i.maxWdt>0)for(var v=0;v<a;v++)this.splitStringIntoLines(n[v]);else for(var d=0;d<a;d++)this.lines.newLine(n[d]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var i="none";return e==="markdown"||e==="md"?i="markdown":(e===!0||e==="html")&&(i="html"),i}},{key:"splitHtmlBlocks",value:function(e){for(var i=new Ax(e),n=function(l){if(/&/.test(l)){var u=i.replace(i.text,"&lt;","<")||i.replace(i.text,"&amp;","&");return u||i.add("&"),!0}return!1};i.position<i.text.length;){var a=i.text.charAt(i.position),s=i.parseWS(a)||/</.test(a)&&(i.parseStartTag("bold","<b>")||i.parseStartTag("ital","<i>")||i.parseStartTag("mono","<code>")||i.parseEndTag("bold","</b>")||i.parseEndTag("ital","</i>")||i.parseEndTag("mono","</code>"))||n(a);s||i.add(a),i.position++}return i.emitBlock(),i.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var i=this,n=new Ax(e),a=!0,s=function(f){return/\\/.test(f)?(n.position<i.text.length+1&&(n.position++,f=i.text.charAt(n.position),/ \t/.test(f)?n.spacing=!0:(n.add(f),a=!1)),!0):!1};n.position<n.text.length;){var o=n.text.charAt(n.position),l=n.parseWS(o)||s(o)||(a||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono");l||(n.add(o),a=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,i){var n=this.decodeMarkupSystem(i);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}},{key:"overMaxWidth",value:function(e){var i=this.ctx.measureText(e).width;return this.lines.curWidth()+i>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var i="",n=0;n<e.length;){var a=i===""?"":" ",s=i+a+e[n];if(this.overMaxWidth(s))break;i=s,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var i=0;i<e.length&&!this.overMaxWidth(Wr(e).call(e,0,i));)i++;return i}},{key:"splitStringIntoLines",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,i),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var a=e.split("\r");a.length>0;){var s=this.getLongestFit(a);if(s===0){var o=a[0],l=this.getLongestFitWord(o);this.lines.newLine(Wr(o).call(o,0,l),i),a[0]=Wr(o).call(o,l)}else{var u=s;a[s-1]===" "?s--:a[u]===" "&&u++;var f=Wr(a).call(a,0,s).join("");s==a.length&&n?this.lines.append(f,i):this.lines.newLine(f,i),a=Wr(a).call(a,u)}}}}]),r}(),tf=["bold","ital","boldital","mono"],SI=function(){function r(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;He(this,r),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return We(r,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),tp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(Rt(e.font)==="object"){var i=e.font.size;i!==void 0&&(this.baseSize=i)}}}},{key:"initFontOptions",value:function(e){var i=this;if(gt(tf,function(n){i.fontOptions[n]={}}),r.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}gt(e,function(n,a){n!=null&&Rt(n)!=="object"&&(i.fontOptions[a]=n)})}},{key:"constrain",value:function(e){var i={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Es(e,"widthConstraint");if(typeof n=="number")i.maxWdt=Number(n),i.minWdt=Number(n);else if(Rt(n)==="object"){var a=Es(e,["widthConstraint","maximum"]);typeof a=="number"&&(i.maxWdt=Number(a));var s=Es(e,["widthConstraint","minimum"]);typeof s=="number"&&(i.minWdt=Number(s))}var o=Es(e,"heightConstraint");if(typeof o=="number")i.minHgt=Number(o);else if(Rt(o)==="object"){var l=Es(e,["heightConstraint","minimum"]);typeof l=="number"&&(i.minHgt=Number(l));var u=Es(e,["heightConstraint","valign"]);typeof u=="string"&&(u==="top"||u==="bottom")&&(i.valign=u)}return i}},{key:"update",value:function(e,i){this.setOptions(e,!0),this.propagateFonts(i),Lt(this.fontOptions,this.constrain(i)),this.fontOptions.chooser=R$("label",i)}},{key:"adjustSizes",value:function(e){var i=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=i,this.fontOptions.minWdt-=i);var n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(e,i){for(var n=0;n<i.length;++n)this.addFontToPile(e,i[n])}},{key:"addFontToPile",value:function(e,i){if(i!==void 0&&!(i.font===void 0||i.font===null)){var n=i.font;e.push(n)}}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var a=e[n],s={};r.parseFontString(s,a)&&(a=s),gt(a,function(o,l){o!==void 0&&(Object.prototype.hasOwnProperty.call(i,l)||(kt(tf).call(tf,l)!==-1?i[l]={}:i[l]=o))})}return i}},{key:"getFontOption",value:function(e,i,n){for(var a,s=0;s<e.length;++s){var o=e[s];if(Object.prototype.hasOwnProperty.call(o,i)){if(a=o[i],a==null)continue;var l={};if(r.parseFontString(l,a)&&(a=l),Object.prototype.hasOwnProperty.call(a,n))return a[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(e,i){for(var n={},a=["color","size","face","mod","vadjust"],s=0;s<a.length;++s){var o=a[s];n[o]=this.getFontOption(e,i,o)}return n}},{key:"propagateFonts",value:function(e){var i=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var a=function(){var l=tf[s],u=i.fontOptions[l],f=i.getFontOptions(n,l);gt(f,function(h,c){u[c]=h}),u.size=Number(u.size),u.vadjust=Number(u.vadjust)},s=0;s<tf.length;++s)a()}},{key:"draw",value:function(e,i,n,a,s){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var l=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&l<this.elementOptions.scaling.label.drawThreshold-1||(l>=this.elementOptions.scaling.label.maxVisible&&(l=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,a,s,i,n,o),this._drawBackground(e),this._drawText(e,i,this.size.yLine,o,l))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var i=this.getSize();e.fillRect(i.left,i.top,i.width,i.height)}}},{key:"_drawText",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0,o=this._setAlignment(e,i,n,a),l=ar(o,2);i=l[0],n=l[1],e.textAlign="left",i=i-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var f=this.lines[u];if(f&&f.blocks){var h=0;this.isEdgeLabel||this.fontOptions.align==="center"?h+=(this.size.width-f.width)/2:this.fontOptions.align==="right"&&(h+=this.size.width-f.width);for(var c=0;c<f.blocks.length;c++){var m=f.blocks[c];e.font=m.font;var v=this._getColor(m.color,s,m.strokeColor),d=ar(v,2),b=d[0],g=d[1];m.strokeWidth>0&&(e.lineWidth=m.strokeWidth,e.strokeStyle=g,e.lineJoin="round"),e.fillStyle=b,m.strokeWidth>0&&e.strokeText(m.text,i+h,n+m.vadjust),e.fillText(m.text,i+h,n+m.vadjust),h+=m.width}n+=f.height}}}},{key:"_setAlignment",value:function(e,i,n,a){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){i=0,n=0;var s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=a;return[i,n]}},{key:"_getColor",value:function(e,i,n){var a=e||"#000000",s=n||"#ffffff";if(i<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-i)));a=tn(a,o),s=tn(s,o)}return[a,s]}},{key:"getTextSize",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,i,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=2,i=this.size.left,n=this.size.top-.5*e;if(this.isEdgeLabel){var a=-this.size.width*.5;switch(this.fontOptions.align){case"middle":i=a,n=-this.size.height*.5;break;case"top":i=a,n=-(this.size.height+e);break;case"bottom":i=a,n=e;break}}var s={left:i,top:n,width:this.size.width,height:this.size.height};return s}},{key:"calculateLabelSize",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,i,n),this.size.left=a-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,i,n,a){var s=function(f,h,c){return h==="normal"?c==="mod"?"":f[c]:f[h][c]!==void 0?f[h][c]:f[c]},o={color:s(this.fontOptions,a,"color"),size:s(this.fontOptions,a,"size"),face:s(this.fontOptions,a,"face"),mod:s(this.fontOptions,a,"mod"),vadjust:s(this.fontOptions,a,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(i||n)&&(a==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,i,n));var l="";return o.mod!==void 0&&o.mod!==""&&(l+=o.mod+" "),l+=o.size+"px "+o.face,e.font=l.replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,i){return e!==this.selectedState||i!==this.hoverState}},{key:"_processLabelText",value:function(e,i,n,a){var s=new l7e(e,this,i,n);return s.process(a)}},{key:"_processLabel",value:function(e,i,n){if(!(this.labelDirty===!1&&!this.differentState(i,n))){var a=this._processLabelText(e,i,n,this.elementOptions.label);this.fontOptions.minWdt>0&&a.width<this.fontOptions.minWdt&&(a.width=this.fontOptions.minWdt),this.size.labelHeight=a.height,this.fontOptions.minHgt>0&&a.height<this.fontOptions.minHgt&&(a.height=this.fontOptions.minHgt),this.lines=a.lines,this.lineCount=a.lines.length,this.size.width=a.width,this.size.height=a.height,this.selectedState=i,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var e=this.fontOptions.size*this.body.view.scale;return!(e<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,i){if(!i||typeof i!="string")return!1;var n=i.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),r}(),u7e=ad,f7e=Ru,c7e=TypeError,h7e=function(r){if(u7e(r))return r;throw new c7e(f7e(r)+" is not a constructor")},m7e=ot,p7e=hn,Tg=Sc,d7e=U9,Ix=h7e,v7e=Vi,Cx=Rr,g7e=Fu,EI=Tt,M$=p7e("Reflect","construct"),b7e=Object.prototype,y7e=[].push,kI=EI(function(){function r(){}return!(M$(function(){},[],r)instanceof r)}),TI=!EI(function(){M$(function(){})}),Px=kI||TI;m7e({target:"Reflect",stat:!0,forced:Px,sham:Px},{construct:function(t,e){Ix(t),v7e(e);var i=arguments.length<3?t:Ix(arguments[2]);if(TI&&!kI)return M$(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return Tg(y7e,n,e),new(Tg(d7e,t,n))}var a=i.prototype,s=g7e(Cx(a)?a:b7e),o=Tg(t,s,e);return Cx(o)?o:s}});var $7e=Ot,_7e=$7e.Reflect.construct,w7e=_7e,x7e=w7e,S7e=x7e,Ne=Qe(S7e),E7e=bA,k7e=E7e,T7e=k7e,O7e=T7e,A7e=O7e,I7e=Qe(A7e),C7e=ot,P7e=Ide;C7e({target:"Object",stat:!0},{setPrototypeOf:P7e});var D7e=Ot,N7e=D7e.Object.setPrototypeOf,R7e=N7e,M7e=R7e,B7e=M7e,F7e=B7e,z7e=F7e,L7e=z7e,j7e=L7e,_b=Qe(j7e),q7e=H9,U7e=q7e,H7e=U7e,W7e=H7e,V7e=W7e,B$=Qe(V7e);function wb(r,t){var e;return wb=_b?B$(e=_b).call(e):function(n,a){return n.__proto__=a,n},wb(r,t)}function It(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=I7e(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),od(r,"prototype",{writable:!1}),t&&wb(r,t)}function G7e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Dt(r,t){if(t&&(Rt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G7e(r)}var X7e=mA,K7e=X7e,Y7e=K7e,J7e=Y7e,Q7e=J7e,Dx=Qe(Q7e);function Ke(r){var t;return Ke=_b?B$(t=Dx).call(t):function(i){return i.__proto__||Dx(i)},Ke(r)}var ll=function(){function r(t,e,i){He(this,r),this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return We(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(Rt(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,i){var n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+n}},{key:"enableShadow",value:function(e,i){i.shadow&&(e.shadowColor=i.shadowColor,e.shadowBlur=i.shadowSize,e.shadowOffsetX=i.shadowX,e.shadowOffsetY=i.shadowY)}},{key:"disableShadow",value:function(e,i){i.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,i){if(i.borderDashes!==!1)if(e.setLineDash!==void 0){var n=i.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,i.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,i){i.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,i.borderDashes=!1))}},{key:"needsRefresh",value:function(e,i){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,i)}},{key:"initContextForDraw",value:function(e,i){var n=i.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=i.borderColor,e.fillStyle=i.color}},{key:"performStroke",value:function(e,i){var n=i.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,i),e.stroke(),this.disableBorderDashes(e,i)),e.restore()}},{key:"performFill",value:function(e,i){e.save(),e.fillStyle=i.color,this.enableShadow(e,i),qc(e).call(e),this.disableShadow(e,i),e.restore(),this.performStroke(e,i)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,i,n,a,s){n!==void 0&&this.resize(n,a,s),this.left=e-this.width/2,this.top=i-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,i,n,a,s){this._updateBoundingBox(e,i,n,a,s)}},{key:"getDimensionsFromLabel",value:function(e,i,n){this.textSize=this.labelModule.getTextSize(e,i,n);var a=this.textSize.width,s=this.textSize.height,o=14;return a===0&&(a=o,s=o),{width:a,height:s}}}]),r}();function Z7e(r){var t=eSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function eSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var tSe=function(r){It(e,r);var t=Z7e(e);function e(i,n,a){var s;return He(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return We(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s);this.width=o.width+this.margin.right+this.margin.left,this.height=o.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.initContextForDraw(n,u),W9(n,this.left,this.top,this.width,this.height,u.borderRadius),this.performFill(n,u),this.updateBoundingBox(a,s,n,o,l),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"updateBoundingBox",value:function(n,a,s,o,l){this._updateBoundingBox(n,a,s,o,l);var u=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(u)}},{key:"distanceToBorder",value:function(n,a){n&&this.resize(n);var s=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(a)),Math.abs(this.height/2/Math.sin(a)))+s}}]),e}(ll);function rSe(r){var t=iSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function iSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var F$=function(r){It(e,r);var t=rSe(e);function e(i,n,a){var s;return He(this,e),s=t.call(this,i,n,a),s.labelOffset=0,s.selected=!1,s}return We(e,[{key:"setOptions",value:function(n,a,s){this.options=n,a===void 0&&s===void 0||this.setImages(a,s)}},{key:"setImages",value:function(n,a){a&&this.selected?(this.imageObj=a,this.imageObjAlt=n):(this.imageObj=n,this.imageObjAlt=a)}},{key:"switchImages",value:function(n){var a=n&&!this.selected||!n&&this.selected;if(this.selected=n,this.imageObjAlt!==void 0&&a){var s=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=s}}},{key:"_getImagePadding",value:function(){var n={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var a=this.options.imagePadding;Rt(a)=="object"?(n.top=a.top,n.right=a.right,n.bottom=a.bottom,n.left=a.left):(n.top=a,n.right=a,n.bottom=a,n.left=a)}return n}},{key:"_resizeImage",value:function(){var n,a;if(this.options.shapeProperties.useImageSize===!1){var s=1,o=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?s=this.imageObj.width/this.imageObj.height:o=this.imageObj.height/this.imageObj.width),n=this.options.size*2*s,a=this.options.size*2*o}else{var l=this._getImagePadding();n=this.imageObj.width+l.left+l.right,a=this.imageObj.height+l.top+l.bottom}this.width=n,this.height=a,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(n,a,s,o){this.initContextForDraw(n,o),t$(n,a,s,o.size),this.performFill(n,o)}},{key:"_drawImageAtPosition",value:function(n,a){if(this.imageObj.width!=0){n.globalAlpha=a.opacity!==void 0?a.opacity:1,this.enableShadow(n,a);var s=1;this.options.shapeProperties.interpolation===!0&&(s=this.imageObj.width/this.width/this.body.view.scale);var o=this._getImagePadding(),l=this.left+o.left,u=this.top+o.top,f=this.width-o.left-o.right,h=this.height-o.top-o.bottom;this.imageObj.drawImageAtPosition(n,s,l,u,f,h),this.disableShadow(n,a)}}},{key:"_drawImageLabel",value:function(n,a,s,o,l){var u=0;if(this.height!==void 0){u=this.height*.5;var f=this.labelModule.getTextSize(n,o,l);f.lineCount>=1&&(u+=f.height/2)}var h=s+u;this.options.label&&(this.labelOffset=u),this.labelModule.draw(n,a,h,o,l,"hanging")}}]),e}(ll);function nSe(r){var t=aSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function aSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var sSe=function(r){It(e,r);var t=nSe(e);function e(i,n,a){var s;return He(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return We(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s),l=Math.max(o.width+this.margin.right+this.margin.left,o.height+this.margin.top+this.margin.bottom);this.options.size=l/2,this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this._drawRawCircle(n,a,s,u),this.updateBoundingBox(a,s),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,s,o,l)}},{key:"updateBoundingBox",value:function(n,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=a+this.options.size}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.width*.5}}]),e}(F$);function oSe(r){var t=lSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function lSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var uSe=function(r){It(e,r);var t=oSe(e);function e(i,n,a,s,o){var l;return He(this,e),l=t.call(this,i,n,a),l.setImages(s,o),l}return We(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l,this.radius=.5*this.width;return}this.needsRefresh(a,s)&&this._resizeImage()}},{key:"draw",value:function(n,a,s,o,l,u){this.switchImages(o),this.resize();var f=a,h=s;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=s,f+=this.width/2,h+=this.height/2):(this.left=a-this.width/2,this.top=s-this.height/2),this._drawRawCircle(n,f,h,u),n.save(),n.clip(),this._drawImageAtPosition(n,u),n.restore(),this._drawImageLabel(n,f,h,o,l),this.updateBoundingBox(a,s)}},{key:"updateBoundingBox",value:function(n,a){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=a,this.boundingBox.left=n,this.boundingBox.right=n+this.options.size*2,this.boundingBox.bottom=a+this.options.size*2):(this.boundingBox.top=a-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=a+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.width*.5}}]),e}(F$);function fSe(r){var t=cSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function cSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var ro=function(r){It(e,r);var t=fSe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(a,s)){var l,u;this.labelModule.getTextSize(n,a,s);var f=2*o.size;this.width=(l=this.customSizeWidth)!==null&&l!==void 0?l:f,this.height=(u=this.customSizeHeight)!==null&&u!==void 0?u:f,this.radius=.5*this.width}}},{key:"_drawShape",value:function(n,a,s,o,l,u,f,h){var c=this;return this.resize(n,u,f,h),this.left=o-this.width/2,this.top=l-this.height/2,this.initContextForDraw(n,h),Vme(a)(n,o,l,h.size),this.performFill(n,h),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(n.font=(u?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",n.fillText(this.options.icon.code,o,l)),{drawExternalLabel:function(){if(c.options.label!==void 0){c.labelModule.calculateLabelSize(n,u,f,o,l,"hanging");var v=l+.5*c.height+.5*c.labelModule.size.height;c.labelModule.draw(n,o,v,u,f,"hanging")}c.updateBoundingBox(o,l)}}}},{key:"updateBoundingBox",value:function(n,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=a+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(ll);function Nx(r,t){var e=nr(r);if(Vs){var i=Vs(r);t&&(i=wi(i).call(i,function(n){return to(r,n).enumerable})),e.push.apply(e,i)}return e}function hSe(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Bt(e=Nx(Object(n),!0)).call(e,function(a){_d(r,a,n[a])}):Gs?yd(r,Gs(n)):Bt(i=Nx(Object(n))).call(i,function(a){$d(r,a,to(n,a))})}return r}function mSe(r){var t=pSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function pSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var dSe=function(r){It(e,r);var t=mSe(e);function e(i,n,a,s){var o;return He(this,e),o=t.call(this,i,n,a,s),o.ctxRenderer=s,o}return We(e,[{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l,u),this.left=a-this.width/2,this.top=s-this.height/2,n.save();var f=this.ctxRenderer({ctx:n,id:this.options.id,x:a,y:s,state:{selected:o,hover:l},style:hSe({},u),label:this.options.label});if(f.drawNode!=null&&f.drawNode(),n.restore(),f.drawExternalLabel){var h=f.drawExternalLabel;f.drawExternalLabel=function(){n.save(),h(),n.restore()}}return f.nodeDimensions&&(this.customSizeWidth=f.nodeDimensions.width,this.customSizeHeight=f.nodeDimensions.height),f}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ro);function vSe(r){var t=gSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function gSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var bSe=function(r){It(e,r);var t=vSe(e);function e(i,n,a){var s;return He(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return We(e,[{key:"resize",value:function(n,a,s){if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s),l=o.width+this.margin.right+this.margin.left;this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.initContextForDraw(n,u),V9(n,a-this.width/2,s-this.height/2,this.width,this.height),this.performFill(n,u),this.updateBoundingBox(a,s,n,o,l),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ll);function ySe(r){var t=$Se();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function $Se(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var _Se=function(r){It(e,r);var t=ySe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"diamond",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ro);function wSe(r){var t=xSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function xSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var SSe=function(r){It(e,r);var t=wSe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"circle",2,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.options.size}}]),e}(ro);function ESe(r){var t=kSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function kSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var Rx=function(r){It(e,r);var t=ESe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(n,a,s);this.height=o.height*2,this.width=o.width+o.height,this.radius=.5*this.width}}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width*.5,this.top=s-this.height*.5,this.initContextForDraw(n,u),K1(n,this.left,this.top,this.width,this.height),this.performFill(n,u),this.updateBoundingBox(a,s,n,o,l),this.labelModule.draw(n,a,s,o,l)}},{key:"distanceToBorder",value:function(n,a){n&&this.resize(n);var s=this.width*.5,o=this.height*.5,l=Math.sin(a)*s,u=Math.cos(a)*o;return s*o/Math.sqrt(l*l+u*u)}}]),e}(ll);function TSe(r){var t=OSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function OSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var ASe=function(r){It(e,r);var t=TSe(e);function e(i,n,a){var s;return He(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return We(e,[{key:"resize",value:function(n,a,s){this.needsRefresh(a,s)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,a,s,o,l,u){var f=this;return this.resize(n,o,l),this.options.icon.size=this.options.icon.size||50,this.left=a-this.width/2,this.top=s-this.height/2,this._icon(n,a,s,o,l,u),{drawExternalLabel:function(){if(f.options.label!==void 0){var c=5;f.labelModule.draw(n,f.left+f.iconSize.width/2+f.margin.left,s+f.height/2+c,o)}f.updateBoundingBox(a,s)}}}},{key:"updateBoundingBox",value:function(n,a){if(this.boundingBox.top=a-this.options.icon.size*.5,this.boundingBox.left=n-this.options.icon.size*.5,this.boundingBox.right=n+this.options.icon.size*.5,this.boundingBox.bottom=a+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var s=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+s)}}},{key:"_icon",value:function(n,a,s,o,l,u){var f=Number(this.options.icon.size);this.options.icon.code!==void 0?(n.font=[this.options.icon.weight!=null?this.options.icon.weight:o?"bold":"",(this.options.icon.weight!=null&&o?5:0)+f+"px",this.options.icon.face].join(" "),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",this.enableShadow(n,u),n.fillText(this.options.icon.code,a,s),this.disableShadow(n,u)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ll);function ISe(r){var t=CSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function CSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var PSe=function(r){It(e,r);var t=ISe(e);function e(i,n,a,s,o){var l;return He(this,e),l=t.call(this,i,n,a),l.setImages(s,o),l}return We(e,[{key:"resize",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l;return}this.needsRefresh(a,s)&&this._resizeImage()}},{key:"draw",value:function(n,a,s,o,l,u){n.save(),this.switchImages(o),this.resize();var f=a,h=s;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=s,f+=this.width/2,h+=this.height/2):(this.left=a-this.width/2,this.top=s-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var c=this.options.borderWidth,m=this.options.borderWidthSelected||2*this.options.borderWidth,v=(o?m:c)/this.body.view.scale;n.lineWidth=Math.min(this.width,v),n.beginPath();var d=o?this.options.color.highlight.border:l?this.options.color.hover.border:this.options.color.border,b=o?this.options.color.highlight.background:l?this.options.color.hover.background:this.options.color.background;u.opacity!==void 0&&(d=tn(d,u.opacity),b=tn(b,u.opacity)),n.strokeStyle=d,n.fillStyle=b,n.rect(this.left-.5*n.lineWidth,this.top-.5*n.lineWidth,this.width+n.lineWidth,this.height+n.lineWidth),qc(n).call(n),this.performStroke(n,u),n.closePath()}this._drawImageAtPosition(n,u),this._drawImageLabel(n,f,h,o,l),this.updateBoundingBox(a,s),n.restore()}},{key:"updateBoundingBox",value:function(n,a){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=a):(this.left=n-this.width/2,this.top=a-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(F$);function DSe(r){var t=NSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function NSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var RSe=function(r){It(e,r);var t=DSe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"square",2,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ro);function MSe(r){var t=BSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function BSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var FSe=function(r){It(e,r);var t=MSe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"hexagon",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ro);function zSe(r){var t=LSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function LSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var jSe=function(r){It(e,r);var t=zSe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"star",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ro);function qSe(r){var t=USe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function USe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var HSe=function(r){It(e,r);var t=qSe(e);function e(i,n,a){var s;return He(this,e),s=t.call(this,i,n,a),s._setMargins(a),s}return We(e,[{key:"resize",value:function(n,a,s){this.needsRefresh(a,s)&&(this.textSize=this.labelModule.getTextSize(n,a,s),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,a,s,o,l,u){this.resize(n,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.enableShadow(n,u),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l),this.disableShadow(n,u),this.updateBoundingBox(a,s,n,o,l)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ll);function WSe(r){var t=VSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function VSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var GSe=function(r){It(e,r);var t=WSe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"triangle",3,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ro);function XSe(r){var t=KSe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function KSe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var YSe=function(r){It(e,r);var t=XSe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"draw",value:function(n,a,s,o,l,u){return this._drawShape(n,"triangleDown",3,a,s,o,l,u)}},{key:"distanceToBorder",value:function(n,a){return this._distanceToBorder(n,a)}}]),e}(ro);function Mx(r,t){var e=nr(r);if(Vs){var i=Vs(r);t&&(i=wi(i).call(i,function(n){return to(r,n).enumerable})),e.push.apply(e,i)}return e}function Bx(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Bt(e=Mx(Object(n),!0)).call(e,function(a){_d(r,a,n[a])}):Gs?yd(r,Gs(n)):Bt(i=Mx(Object(n))).call(i,function(a){$d(r,a,to(n,a))})}return r}var Mi=function(){function r(t,e,i,n,a,s){He(this,r),this.options=zs(a),this.globalOptions=a,this.defaultOptions=s,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new SI(this.body,this.options,!1),this.setOptions(t)}return We(r,[{key:"attachEdge",value:function(e){var i;kt(i=this.edges).call(i,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var i,n=kt(i=this.edges).call(i,e);if(n!=-1){var a;ba(a=this.edges).call(a,n,1)}}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");r.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=wn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=wn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=_I(e.value)),r.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var n=[e,this.options,this.defaultOptions];return this.chooser=R$("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&r.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(i),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var i=this.options.opacity;e.borderColor=tn(e.borderColor,i),e.color=tn(e.color,i),e.shadowColor=tn(e.shadowColor,i)}return e}},{key:"updateLabelModule",value:function(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),r.updateGroupOptions(this.options,Bx(Bx({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1),n=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new tSe(this.options,this.body,this.labelModule);break;case"circle":this.shape=new sSe(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new uSe(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new dSe(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new bSe(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new _Se(this.options,this.body,this.labelModule);break;case"dot":this.shape=new SSe(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Rx(this.options,this.body,this.labelModule);break;case"icon":this.shape=new ASe(this.options,this.body,this.labelModule);break;case"image":this.shape=new PSe(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new RSe(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new FSe(this.options,this.body,this.labelModule);break;case"star":this.shape=new jSe(this.options,this.body,this.labelModule);break;case"text":this.shape=new HSe(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new GSe(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new YSe(this.options,this.body,this.labelModule);break;default:this.shape=new Rx(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,i){return this.shape.distanceToBorder(e,i)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,i,n){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,i,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*o}this.options.size=this.options.scaling.min+a*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var i=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,i)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var i=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,i)}},{key:"getItemsOnPoint",value:function(e){var i=[];return this.labelModule.visible()&&$b(this.labelModule.getSize(),e)&&i.push({nodeId:this.id,labelId:0}),$b(this.shape.boundingBox,e)&&i.push({nodeId:this.id}),i}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,i,n){var a;if(n!==void 0){var s=e.group;if(i!==void 0&&i.group!==void 0&&s!==i.group)throw new Error("updateGroupOptions: group values in options don't match.");var o=typeof s=="number"||typeof s=="string"&&s!="";if(o){var l=n.get(s);l.opacity!==void 0&&i.opacity===void 0&&(r.checkOpacity(l.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+l.opacity),l.opacity=void 0));var u=wi(a=Xxe(i)).call(a,function(f){return i[f]!=null});u.push("font"),Qm(u,e,l),e.color=db(e.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,o=["color","fixed","shadow"];if(Qm(o,e,i,n),r.checkMass(i),e.opacity!==void 0&&(r.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),i.opacity!==void 0&&(r.checkOpacity(i.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+i.opacity),i.opacity=void 0)),i.shapeProperties&&!r.checkCoordinateOrigin(i.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+i.shapeProperties.coordinateOrigin),Zi(e,i,"shadow",a),i.color!==void 0&&i.color!==null){var l=db(i.color);XA(e.color,l)}else n===!0&&i.color===null&&(e.color=zs(a.color));i.fixed!==void 0&&i.fixed!==null&&(typeof i.fixed=="boolean"?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(i.fixed.x!==void 0&&typeof i.fixed.x=="boolean"&&(e.fixed.x=i.fixed.x),i.fixed.y!==void 0&&typeof i.fixed.y=="boolean"&&(e.fixed.y=i.fixed.y))),n===!0&&i.font===null&&(e.font=zs(a.font)),r.updateGroupOptions(e,i,s),i.scaling!==void 0&&Zi(e.scaling,i.scaling,"label",a.scaling)}},{key:"checkMass",value:function(e,i){if(e.mass!==void 0&&e.mass<=0){var n="";i!==void 0&&(n=" in node id: "+i),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",QA),e.mass=1}}}]),r}();function JSe(r,t){var e=typeof eo<"u"&&al(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=QSe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function QSe(r,t){var e;if(r){if(typeof r=="string")return Fx(r,t);var i=Wr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return nl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Fx(r,t)}}function Fx(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var ZSe=function(){function r(t,e,i,n){var a,s=this;if(He(this,r),this.body=t,this.images=e,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=Le(a=this.create).call(a,this),this.nodesListeners={add:function(l,u){s.add(u.items)},update:function(l,u){s.update(u.items,u.data,u.oldData)},remove:function(l,u){s.remove(u.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(l,u,f,h){if(u===l)return .5;var c=1/(u-l);return Math.max(0,(h-l)*c)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=zs(this.defaultOptions),this.bindEventListeners()}return We(r,[{key:"bindEventListeners",value:function(){var e,i,n=this;this.body.emitter.on("refreshNodes",Le(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Le(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",function(){gt(n.nodesListeners,function(a,s){n.body.data.nodes&&n.body.data.nodes.off(s,a)}),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if(Mi.parseOptions(this.options,e),e.opacity!==void 0&&(yb(e.opacity)||!go(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&this.body.nodes[i].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(var n=0,a=nr(this.body.nodes);n<a.length;n++){var s=a[n];this.body.nodes[s].updateLabelModule(),this.body.nodes[s].needsRefresh()}if(e.size!==void 0)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.data.nodes;if(S9("id",e))this.body.data.nodes=e;else if(Pt(e))this.body.data.nodes=new Um,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Um;else throw new TypeError("Array or DataSet expected");if(n&&gt(this.nodesListeners,function(o,l){n.off(l,o)}),this.body.nodes={},this.body.data.nodes){var a=this;gt(this.nodesListeners,function(o,l){a.body.data.nodes.on(l,o)});var s=this.body.data.nodes.getIds();this.add(s,!0)}i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,a=[],s=0;s<e.length;s++){n=e[s];var o=this.body.data.nodes.get(n),l=this.create(o);a.push(l),this.body.nodes[n]=l}this.layoutEngine.positionInitially(a),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,i,n){for(var a=this.body.nodes,s=!1,o=0;o<e.length;o++){var l=e[o],u=a[l],f=i[o];u!==void 0?u.setOptions(f)&&(s=!0):(s=!0,u=this.create(f),a[l]=u)}!s&&n!==void 0&&(s=U6e(i).call(i,function(h,c){var m=n[c];return m&&m.level!==h.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var i=this.body.nodes,n=0;n<e.length;n++){var a=e[n];delete i[a]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mi;return new i(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;gt(this.body.nodes,function(n,a){var s=e.body.data.nodes.get(a);s!==void 0&&(i===!0&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(s))})}},{key:"getPositions",value:function(e){var i={};if(e!==void 0){if(Pt(e)===!0){for(var n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){var a=this.body.nodes[e[n]];i[e[n]]={x:Math.round(a.x),y:Math.round(a.y)}}}else if(this.body.nodes[e]!==void 0){var s=this.body.nodes[e];i[e]={x:Math.round(s.x),y:Math.round(s.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var l=this.body.nodes[this.body.nodeIndices[o]];i[this.body.nodeIndices[o]]={x:Math.round(l.x),y:Math.round(l.y)}}return i}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e=[],i=this.body.data.nodes.getDataSet(),n=JSe(i.get()),a;try{for(n.s();!(a=n.n()).done;){var s=a.value,o=s.id,l=this.body.nodes[o],u=Math.round(l.x),f=Math.round(l.y);(s.x!==u||s.y!==f)&&e.push({id:o,x:u,y:f})}}catch(h){n.e(h)}finally{n.f()}i.update(e)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,i){var n=[];if(this.body.nodes[e]!==void 0)for(var a=this.body.nodes[e],s={},o=0;o<a.edges.length;o++){var l=a.edges[o];i!=="to"&&l.toId==a.id?s[l.fromId]===void 0&&(n.push(l.fromId),s[l.fromId]=!0):i!=="from"&&l.fromId==a.id&&s[l.toId]===void 0&&(n.push(l.toId),s[l.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(e){var i=[];if(this.body.nodes[e]!==void 0)for(var n=this.body.nodes[e],a=0;a<n.edges.length;a++)i.push(n.edges[a].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return i}},{key:"moveNode",value:function(e,i,n){var a=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(i),this.body.nodes[e].y=Number(n),Gn(function(){a.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),r}(),zx=Mr,e8e=function(r){return r!==void 0&&(zx(r,"value")||zx(r,"writable"))},t8e=ot,r8e=Hi,i8e=Rr,n8e=Vi,a8e=e8e,s8e=Pu,o8e=nd;function OI(r,t){var e=arguments.length<3?r:arguments[2],i,n;if(n8e(r)===e)return r[t];if(i=s8e.f(r,t),i)return a8e(i)?i.value:i.get===void 0?void 0:r8e(i.get,e);if(i8e(n=o8e(r)))return OI(n,t,e)}t8e({target:"Reflect",stat:!0},{get:OI});var l8e=Ot,u8e=l8e.Reflect.get,f8e=u8e,c8e=f8e,h8e=c8e,m8e=h8e,p8e=m8e,d8e=p8e,v8e=d8e,Lx=Qe(v8e),g8e=gI,b8e=g8e,y8e=b8e,$8e=y8e,_8e=$8e,w8e=Qe(_8e);function x8e(r,t){for(;!Object.prototype.hasOwnProperty.call(r,t)&&(r=Ke(r),r!==null););return r}function pm(){if(typeof Reflect<"u"&&Lx){var r;pm=B$(r=Lx).call(r)}else pm=function(e,i,n){var a=x8e(e,i);if(a){var s=w8e(a,i);return s.get?s.get.call(arguments.length<3?e:n):s.value}};return pm.apply(this,arguments)}var S8e=ot,jx=Math.hypot,E8e=Math.abs,k8e=Math.sqrt,T8e=!!jx&&jx(1/0,NaN)!==1/0;S8e({target:"Math",stat:!0,arity:2,forced:T8e},{hypot:function(t,e){for(var i=0,n=0,a=arguments.length,s=0,o,l;n<a;)o=E8e(arguments[n++]),s<o?(l=s/o,i=i*l*l+1,s=o):o>0?(l=o/s,i+=l*l):i+=o;return s===1/0?1/0:s*k8e(i)}});var O8e=Ot,A8e=O8e.Math.hypot,I8e=A8e,C8e=I8e,P8e=C8e,D8e=Qe(P8e);function AI(r){var t=N8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function N8e(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var pr=function(){function r(){He(this,r)}return We(r,null,[{key:"transform",value:function(e,i){Pt(e)||(e=[e]);for(var n=i.point.x,a=i.point.y,s=i.angle,o=i.length,l=0;l<e.length;++l){var u=e[l],f=u.x*Math.cos(s)-u.y*Math.sin(s),h=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=n+o*f,u.y=a+o*h}}},{key:"drawPath",value:function(e,i){e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var n=1;n<i.length;++n)e.lineTo(i[n].x,i[n].y);e.closePath()}}]),r}(),R8e=function(r){It(e,r);var t=AI(e);function e(){return He(this,e),t.apply(this,arguments)}return We(e,null,[{key:"draw",value:function(n,a){if(a.image){n.save(),n.translate(a.point.x,a.point.y),n.rotate(Math.PI/2+a.angle);var s=a.imageWidth!=null?a.imageWidth:a.image.width,o=a.imageHeight!=null?a.imageHeight:a.image.height;a.image.drawImageAtPosition(n,1,-s/2,0,s,o),n.restore()}return!1}}]),e}(pr),M8e=function(r){It(e,r);var t=AI(e);function e(){return He(this,e),t.apply(this,arguments)}return We(e,null,[{key:"draw",value:function(n,a){var s=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return pr.transform(s,a),pr.drawPath(n,s),!0}}]),e}(pr),B8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return pr.transform(n,i),pr.drawPath(e,n),!0}}]),r}(),F8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n={x:-.4,y:0};pr.transform(n,i),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,s=i.angle-a/2,o=i.angle+a/2;return e.beginPath(),e.arc(n.x,n.y,i.length*.4,s,o,!1),e.stroke(),!0}}]),r}(),z8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n={x:-.3,y:0};pr.transform(n,i),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,s=i.angle+a/2,o=i.angle+3*a/2;return e.beginPath(),e.arc(n.x,n.y,i.length*.4,s,o,!1),e.stroke(),!0}}]),r}(),L8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return pr.transform(n,i),pr.drawPath(e,n),!0}}]),r}(),j8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return pr.transform(n,i),pr.drawPath(e,n),!0}}]),r}(),q8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n={x:-.4,y:0};return pr.transform(n,i),t$(e,n.x,n.y,i.length*.4),!0}}]),r}(),U8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return pr.transform(n,i),pr.drawPath(e,n),!0}}]),r}(),H8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return pr.transform(n,i),pr.drawPath(e,n),!0}}]),r}(),W8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return pr.transform(n,i),pr.drawPath(e,n),!0}}]),r}(),V8e=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return pr.transform(n,i),pr.drawPath(e,n),!0}}]),r}(),II=function(){function r(){He(this,r)}return We(r,null,[{key:"draw",value:function(e,i){var n;switch(i.type&&(n=i.type.toLowerCase()),n){case"image":return R8e.draw(e,i);case"circle":return q8e.draw(e,i);case"box":return H8e.draw(e,i);case"crow":return B8e.draw(e,i);case"curve":return F8e.draw(e,i);case"diamond":return W8e.draw(e,i);case"inv_curve":return z8e.draw(e,i);case"triangle":return L8e.draw(e,i);case"inv_triangle":return j8e.draw(e,i);case"bar":return U8e.draw(e,i);case"vee":return V8e.draw(e,i);case"arrow":default:return M8e.draw(e,i)}}}]),r}();function qx(r,t){var e=nr(r);if(Vs){var i=Vs(r);t&&(i=wi(i).call(i,function(n){return to(r,n).enumerable})),e.push.apply(e,i)}return e}function Ux(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Bt(e=qx(Object(n),!0)).call(e,function(a){_d(r,a,n[a])}):Gs?yd(r,Gs(n)):Bt(i=qx(Object(n))).call(i,function(a){$d(r,a,to(n,a))})}return r}var CI=function(){function r(t,e,i){He(this,r),this._body=e,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return We(r,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,i,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,i),e.lineWidth=i.width,i.dashes!==!1?this._drawDashedLine(e,i,s):this._drawLine(e,i,s)}},{key:"_drawLine",value:function(e,i,n,a,s){if(this.from!=this.to)this._line(e,i,n,a,s);else{var o=this._getCircleData(e),l=ar(o,3),u=l[0],f=l[1],h=l[2];this._circle(e,i,u,f,h)}}},{key:"_drawDashedLine",value:function(e,i,n,a,s){e.lineCap="round";var o=Pt(i.dashes)?i.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,i,n);else{var l=this._getCircleData(e),u=ar(l,3),f=u[0],h=u[1],c=u[2];this._circle(e,i,f,h,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)G9(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var m=this._getCircleData(e),v=ar(m,3),d=v[0],b=v[1],g=v[2];this._circle(e,i,d,b,g)}this.enableShadow(e,i),e.stroke(),this.disableShadow(e,i)}}},{key:"findBorderPosition",value:function(e,i,n){return this.from!=this.to?this._findBorderPosition(e,i,n):this._findBorderPositionCircle(e,i,n)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var i,n=Wr(i=this._getCircleData(e)).call(i,0,2),a=ar(n,2),s=a[0],o=a[1];return{from:this._findBorderPositionCircle(this.from,e,{x:s,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:s,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var i=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var n=wI(e,this.options.selfReference.angle,i,this.from);return[n.x,n.y,i]}},{key:"_pointOnCircle",value:function(e,i,n,a){var s=a*2*Math.PI;return{x:e+n*Math.cos(s),y:i-n*Math.sin(s)}}},{key:"_findBorderPositionCircle",value:function(e,i,n){var a=n.x,s=n.y,o=n.low,l=n.high,u=n.direction,f=10,h=this.options.selfReference.size,c=.05,m,v=(o+l)*.5,d=0;this.options.arrowStrikethrough===!0&&(u===-1?d=this.options.endPointOffset.from:u===1&&(d=this.options.endPointOffset.to));var b=0;do{v=(o+l)*.5,m=this._pointOnCircle(a,s,h,v);var g=Math.atan2(e.y-m.y,e.x-m.x),$=e.distanceToBorder(i,g)+d,w=Math.sqrt(Math.pow(m.x-e.x,2)+Math.pow(m.y-e.y,2)),x=$-w;if(Math.abs(x)<c)break;x>0?u>0?o=v:l=v:u>0?l=v:o=v,++b}while(o<=l&&b<f);return Ux(Ux({},m),{},{t:v})}},{key:"getLineWidth",value:function(e,i){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):i===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,i){if(i.inheritsColor!==!1){if(i.inheritsColor==="both"&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),a=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(a=tn(this.from.options.color.border,i.opacity),s=tn(this.to.options.color.border,i.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(a=this.from.options.color.border),n.addColorStop(0,a),n.addColorStop(1,s),n}return i.inheritsColor==="to"?tn(this.to.options.color.border,i.opacity):tn(this.from.options.color.border,i.opacity)}else return tn(i.color,i.opacity)}},{key:"_circle",value:function(e,i,n,a,s){this.enableShadow(e,i);var o=0,l=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var u=this.options.selfReference.angle,f=this.options.selfReference.angle+Math.PI,h=this._findBorderPositionCircle(this.from,e,{x:n,y:a,low:u,high:f,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:n,y:a,low:u,high:f,direction:1});o=Math.atan2(h.y-a,h.x-n),l=Math.atan2(c.y-a,c.x-n)}e.beginPath(),e.arc(n,a,s,o,l,!1),e.stroke(),this.disableShadow(e,i)}},{key:"getDistanceToEdge",value:function(e,i,n,a,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,i,n,a,s,o);var l=this._getCircleData(void 0),u=ar(l,3),f=u[0],h=u[1],c=u[2],m=f-s,v=h-o;return Math.abs(Math.sqrt(m*m+v*v)-c)}},{key:"_getDistanceToLine",value:function(e,i,n,a,s,o){var l=n-e,u=a-i,f=l*l+u*u,h=((s-e)*l+(o-i)*u)/f;h>1?h=1:h<0&&(h=0);var c=e+h*l,m=i+h*u,v=c-s,d=m-o;return Math.sqrt(v*v+d*d)}},{key:"getArrowData",value:function(e,i,n,a,s,o){var l,u,f,h,c,m,v,d=o.width;i==="from"?(f=this.from,h=this.to,c=o.fromArrowScale<0,m=Math.abs(o.fromArrowScale),v=o.fromArrowType):i==="to"?(f=this.to,h=this.from,c=o.toArrowScale<0,m=Math.abs(o.toArrowScale),v=o.toArrowType):(f=this.to,h=this.from,c=o.middleArrowScale<0,m=Math.abs(o.middleArrowScale),v=o.middleArrowType);var b=15*m+3*d;if(f!=h){var g=D8e(f.x-h.x,f.y-h.y),$=b/g;if(i!=="middle")if(this.options.smooth.enabled===!0){var w=this._findBorderPosition(f,e,{via:n}),x=this.getPoint(w.t+$*(i==="from"?1:-1),n);l=Math.atan2(w.y-x.y,w.x-x.x),u=w}else l=Math.atan2(f.y-h.y,f.x-h.x),u=this._findBorderPosition(f,e);else{var A=(c?-$:$)/2,I=this.getPoint(.5+A,n),D=this.getPoint(.5-A,n);l=Math.atan2(I.y-D.y,I.x-D.x),u=this.getPoint(.5,n)}}else{var S=this._getCircleData(e),O=ar(S,3),H=O[0],B=O[1],V=O[2];if(i==="from"){var K=this.options.selfReference.angle,Q=this.options.selfReference.angle+Math.PI,G=this._findBorderPositionCircle(this.from,e,{x:H,y:B,low:K,high:Q,direction:-1});l=G.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=G}else if(i==="to"){var q=this.options.selfReference.angle,W=this.options.selfReference.angle+Math.PI,ne=this._findBorderPositionCircle(this.from,e,{x:H,y:B,low:q,high:W,direction:1});l=ne.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=ne}else{var Z=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(H,B,V,Z),l=Z*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var oe=u.x-b*.9*Math.cos(l),ie=u.y-b*.9*Math.sin(l),ae={x:oe,y:ie};return{point:u,core:ae,angle:l,length:b,type:v}}},{key:"drawArrowHead",value:function(e,i,n,a,s){e.strokeStyle=this.getColor(e,i),e.fillStyle=e.strokeStyle,e.lineWidth=i.width;var o=II.draw(e,s);o&&(this.enableShadow(e,i),qc(e).call(e),this.disableShadow(e,i))}},{key:"enableShadow",value:function(e,i){i.shadow===!0&&(e.shadowColor=i.shadowColor,e.shadowBlur=i.shadowSize,e.shadowOffsetX=i.shadowX,e.shadowOffsetY=i.shadowY)}},{key:"disableShadow",value:function(e,i){i.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,i){if(i.background!==!1){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=i.backgroundColor,e.lineWidth=i.backgroundSize,this.setStrokeDashed(e,i.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,i.dashes)}}},{key:"setStrokeDashed",value:function(e,i){if(i!==!1)if(e.setLineDash!==void 0){var n=Pt(i)?i:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),r}();function Hx(r,t){var e=nr(r);if(Vs){var i=Vs(r);t&&(i=wi(i).call(i,function(n){return to(r,n).enumerable})),e.push.apply(e,i)}return e}function Wx(r){for(var t=1;t<arguments.length;t++){var e,i,n=arguments[t]!=null?arguments[t]:{};t%2?Bt(e=Hx(Object(n),!0)).call(e,function(a){_d(r,a,n[a])}):Gs?yd(r,Gs(n)):Bt(i=Hx(Object(n))).call(i,function(a){$d(r,a,to(n,a))})}return r}function G8e(r){var t=X8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function X8e(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var z$=function(r){It(e,r);var t=G8e(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"_findBorderPositionBezier",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),o=10,l=.2,u=!1,f=1,h=0,c=this.to,m,v,d=this.options.endPointOffset?this.options.endPointOffset.to:0;n.id===this.from.id&&(c=this.from,u=!0,d=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(d=0);var b=0;do{v=(h+f)*.5,m=this.getPoint(v,s);var g=Math.atan2(c.y-m.y,c.x-m.x),$=c.distanceToBorder(a,g)+d,w=Math.sqrt(Math.pow(m.x-c.x,2)+Math.pow(m.y-c.y,2)),x=$-w;if(Math.abs(x)<l)break;x<0?u===!1?h=v:f=v:u===!1?f=v:h=v,++b}while(h<=f&&b<o);return Wx(Wx({},m),{},{t:v})}},{key:"_getDistanceToBezierEdge",value:function(n,a,s,o,l,u,f){var h=1e9,c,m,v,d,b,g=n,$=a;for(m=1;m<10;m++)v=.1*m,d=Math.pow(1-v,2)*n+2*v*(1-v)*f.x+Math.pow(v,2)*s,b=Math.pow(1-v,2)*a+2*v*(1-v)*f.y+Math.pow(v,2)*o,m>0&&(c=this._getDistanceToLine(g,$,d,b,l,u),h=c<h?c:h),g=d,$=b;return h}},{key:"_bezierCurve",value:function(n,a,s,o){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),s!=null&&s.x!=null?o!=null&&o.x!=null?n.bezierCurveTo(s.x,s.y,o.x,o.y,this.toPoint.x,this.toPoint.y):n.quadraticCurveTo(s.x,s.y,this.toPoint.x,this.toPoint.y):n.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(n,a),this.enableShadow(n,a),n.stroke(),this.disableShadow(n,a)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(CI);function K8e(r){var t=Y8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function Y8e(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var Vx=function(r){It(e,r);var t=K8e(e);function e(i,n,a){var s;return He(this,e),s=t.call(this,i,n,a),s.via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return We(e,[{key:"setOptions",value:function(n){pm(Ke(e.prototype),"setOptions",this).call(this,n);var a=!1;this.options.physics!==n.physics&&(a=!0),this.options=n,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),a===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var n="edgeId:"+this.id,a=this._body.functions.createNode({id:n,shape:"circle",physics:!0,hidden:!0});this._body.nodes[n]=a,this.via=a,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(n,a,s){this._bezierCurve(n,a,s)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var s=this._getCircleData(),o=ar(s,3),l=o[0],u=o[1],f=o[2],h=2*Math.PI*(1-n);return{x:l+f*Math.sin(h),y:u+f-f*(1-Math.cos(h))}}else return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*a.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*a.y+Math.pow(n,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,a){return this._findBorderPositionBezier(n,a,this.via)}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){return this._getDistanceToBezierEdge(n,a,s,o,l,u,this.via)}}]),e}(z$);function J8e(r){var t=Q8e();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function Q8e(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var Gx=function(r){It(e,r);var t=J8e(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"_line",value:function(n,a,s){this._bezierCurve(n,a,s)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var n=this.options.smooth.roundness,a=this.options.smooth.type,s=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if(a==="discrete"||a==="diagonalCross"){var l,u;s<=o?l=u=n*o:l=u=n*s,this.from.x>this.to.x&&(l=-l),this.from.y>=this.to.y&&(u=-u);var f=this.from.x+l,h=this.from.y+u;return a==="discrete"&&(s<=o?f=s<n*o?this.from.x:f:h=o<n*s?this.from.y:h),{x:f,y:h}}else if(a==="straightCross"){var c=(1-n)*s,m=(1-n)*o;return s<=o?(c=0,this.from.y<this.to.y&&(m=-m)):(this.from.x<this.to.x&&(c=-c),m=0),{x:this.to.x+c,y:this.to.y+m}}else if(a==="horizontal"){var v=(1-n)*s;return this.from.x<this.to.x&&(v=-v),{x:this.to.x+v,y:this.from.y}}else if(a==="vertical"){var d=(1-n)*o;return this.from.y<this.to.y&&(d=-d),{x:this.from.x,y:this.to.y+d}}else if(a==="curvedCW"){s=this.to.x-this.from.x,o=this.from.y-this.to.y;var b=Math.sqrt(s*s+o*o),g=Math.PI,$=Math.atan2(o,s),w=($+(n*.5+.5)*g)%(2*g);return{x:this.from.x+(n*.5+.5)*b*Math.sin(w),y:this.from.y+(n*.5+.5)*b*Math.cos(w)}}else if(a==="curvedCCW"){s=this.to.x-this.from.x,o=this.from.y-this.to.y;var x=Math.sqrt(s*s+o*o),A=Math.PI,I=Math.atan2(o,s),D=(I+(-n*.5+.5)*A)%(2*A);return{x:this.from.x+(n*.5+.5)*x*Math.sin(D),y:this.from.y+(n*.5+.5)*x*Math.cos(D)}}else{var S,O;s<=o?S=O=n*o:S=O=n*s,this.from.x>this.to.x&&(S=-S),this.from.y>=this.to.y&&(O=-O);var H=this.from.x+S,B=this.from.y+O;return s<=o?this.from.x<=this.to.x?H=this.to.x<H?this.to.x:H:H=this.to.x>H?this.to.x:H:this.from.y>=this.to.y?B=this.to.y>B?this.to.y:B:B=this.to.y<B?this.to.y:B,{x:H,y:B}}}},{key:"_findBorderPosition",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(n,a,s.via)}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){var f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(n,a,s,o,l,u,f)}},{key:"getPoint",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=n,o=Math.pow(1-s,2)*this.fromPoint.x+2*s*(1-s)*a.x+Math.pow(s,2)*this.toPoint.x,l=Math.pow(1-s,2)*this.fromPoint.y+2*s*(1-s)*a.y+Math.pow(s,2)*this.toPoint.y;return{x:o,y:l}}}]),e}(z$);function Z8e(r){var t=eEe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function eEe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var tEe=function(r){It(e,r);var t=Z8e(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"_getDistanceToBezierEdge2",value:function(n,a,s,o,l,u,f,h){for(var c=1e9,m=n,v=a,d=[0,0,0,0],b=1;b<10;b++){var g=.1*b;d[0]=Math.pow(1-g,3),d[1]=3*g*Math.pow(1-g,2),d[2]=3*Math.pow(g,2)*(1-g),d[3]=Math.pow(g,3);var $=d[0]*n+d[1]*f.x+d[2]*h.x+d[3]*s,w=d[0]*a+d[1]*f.y+d[2]*h.y+d[3]*o;if(b>0){var x=this._getDistanceToLine(m,v,$,w,l,u);c=x<c?x:c}m=$,v=w}return c}}]),e}(z$);function rEe(r){var t=iEe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function iEe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var Xx=function(r){It(e,r);var t=rEe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"_line",value:function(n,a,s){var o=s[0],l=s[1];this._bezierCurve(n,a,o,l)}},{key:"_getViaCoordinates",value:function(){var n=this.from.x-this.to.x,a=this.from.y-this.to.y,s,o,l,u,f=this.options.smooth.roundness;return(Math.abs(n)>Math.abs(a)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(o=this.from.y,u=this.to.y,s=this.from.x-f*n,l=this.to.x+f*n):(o=this.from.y-f*a,u=this.to.y+f*a,s=this.from.x,l=this.to.x),[{x:s,y:o},{x:l,y:u}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(n,a){return this._findBorderPositionBezier(n,a)}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){var f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),h=ar(f,2),c=h[0],m=h[1];return this._getDistanceToBezierEdge2(n,a,s,o,l,u,c,m)}},{key:"getPoint",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=ar(a,2),o=s[0],l=s[1],u=n,f=[Math.pow(1-u,3),3*u*Math.pow(1-u,2),3*Math.pow(u,2)*(1-u),Math.pow(u,3)],h=f[0]*this.fromPoint.x+f[1]*o.x+f[2]*l.x+f[3]*this.toPoint.x,c=f[0]*this.fromPoint.y+f[1]*o.y+f[2]*l.y+f[3]*this.toPoint.y;return{x:h,y:c}}}]),e}(tEe);function nEe(r){var t=aEe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function aEe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var Kx=function(r){It(e,r);var t=nEe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"_line",value:function(n,a){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),n.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(n,a),n.stroke(),this.disableShadow(n,a)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(n){return{x:(1-n)*this.fromPoint.x+n*this.toPoint.x,y:(1-n)*this.fromPoint.y+n*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,a){var s=this.to,o=this.from;n.id===this.from.id&&(s=this.from,o=this.to);var l=Math.atan2(s.y-o.y,s.x-o.x),u=s.x-o.x,f=s.y-o.y,h=Math.sqrt(u*u+f*f),c=n.distanceToBorder(a,l),m=(h-c)/h;return{x:(1-m)*o.x+m*s.x,y:(1-m)*o.y+m*s.y,t:0}}},{key:"_getDistanceToEdge",value:function(n,a,s,o,l,u){return this._getDistanceToLine(n,a,s,o,l,u)}}]),e}(CI),Yl=function(){function r(t,e,i,n,a){if(He(this,r),e===void 0)throw new Error("No body provided");this.options=zs(n),this.globalOptions=n,this.defaultOptions=a,this.body=e,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new SI(this.body,this.options,!0),this.setOptions(t)}return We(r,[{key:"setOptions",value:function(e){if(e){var i=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;r.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=_I(e.value));var n=[e,this.options,this.defaultOptions];return this.chooser=R$("edge",n),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,i=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,a=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:i,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:a?void 0:this.options.color.color,inheritsColor:a,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){var l=this.options.hoverWidth;typeof l=="function"?s.width=l(s.width):typeof l=="number"&&(s.width+=l),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}},{key:"updateLabelModule",value:function(e){var i=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,i=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof Vx&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof Xx&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof Gx&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof Kx&&e.type.enabled===!1)&&(n=!1),n===!0&&(i=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(i=!0,this.edgeType=new Vx(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new Xx(this.options,this.body,this.labelModule):this.edgeType=new Gx(this.options,this.body,this.labelModule):this.edgeType=new Kx(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),i}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,i,n){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,i,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*o}this.options.width=this.options.scaling.min+a*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var i=this.getFormattingValues();if(!i.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(e,i,this.selected,this.hover,n),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e){var i=this.getFormattingValues();if(!i.hidden){var n=this.edgeType.getViaNode(),a={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,i.fromArrow&&(a.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,i),i.arrowStrikethrough===!1&&(this.edgeType.fromPoint=a.from.core),i.fromArrowSrc&&(a.from.image=this.imagelist.load(i.fromArrowSrc)),i.fromArrowImageWidth&&(a.from.imageWidth=i.fromArrowImageWidth),i.fromArrowImageHeight&&(a.from.imageHeight=i.fromArrowImageHeight)),i.toArrow&&(a.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,i),i.arrowStrikethrough===!1&&(this.edgeType.toPoint=a.to.core),i.toArrowSrc&&(a.to.image=this.imagelist.load(i.toArrowSrc)),i.toArrowImageWidth&&(a.to.imageWidth=i.toArrowImageWidth),i.toArrowImageHeight&&(a.to.imageHeight=i.toArrowImageHeight)),i.middleArrow&&(a.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,i),i.middleArrowSrc&&(a.middle.image=this.imagelist.load(i.middleArrowSrc)),i.middleArrowImageWidth&&(a.middle.imageWidth=i.middleArrowImageWidth),i.middleArrowImageHeight&&(a.middle.imageHeight=i.middleArrowImageHeight)),i.fromArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,a.from),i.middleArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,a.middle),i.toArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,a.to)}}},{key:"drawLabel",value:function(e,i){if(this.options.label!==void 0){var n=this.from,a=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);var s;if(n.id!=a.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,i),e.save();var o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var l=wI(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(l.x,l.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var i=[];if(this.labelModule.visible()){var n=this._getRotation();$b(this.labelModule.getSize(),e,n)&&i.push({edgeId:this.id,labelId:0})}var a={left:e.x,top:e.y};return this.isOverlappingWith(a)&&i.push({edgeId:this.id}),i}},{key:"isOverlappingWith",value:function(e){if(this.connected){var i=10,n=this.from.x,a=this.from.y,s=this.to.x,o=this.to.y,l=e.left,u=e.top,f=this.edgeType.getDistanceToEdge(n,a,s,o,l,u);return f<i}else return!1}},{key:"_getRotation",value:function(e){var i=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,i);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);var a={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return a;var s=this.from.y-this.to.y,o=this.from.x-this.to.x,l=Math.atan2(s,o);return(l<-1&&o<0||l>0&&o<0)&&(l+=Math.PI),a.angle=l,a}},{key:"_pointOnCircle",value:function(e,i,n,a){return{x:e+n*Math.cos(a),y:i-n*Math.sin(a)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(Hu(o,e,i,n),i.endPointOffset!==void 0&&i.endPointOffset.from!==void 0&&(go(i.endPointOffset.from)?e.endPointOffset.from=i.endPointOffset.from:(e.endPointOffset.from=a.endPointOffset.from!==void 0?a.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),i.endPointOffset!==void 0&&i.endPointOffset.to!==void 0&&(go(i.endPointOffset.to)?e.endPointOffset.to=i.endPointOffset.to:(e.endPointOffset.to=a.endPointOffset.to!==void 0?a.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),tp(i.label)?e.label=i.label:tp(e.label)||(e.label=void 0),Zi(e,i,"smooth",a),Zi(e,i,"shadow",a),Zi(e,i,"background",a),i.dashes!==void 0&&i.dashes!==null?e.dashes=i.dashes:n===!0&&i.dashes===null&&(e.dashes=ko(a.dashes)),i.scaling!==void 0&&i.scaling!==null?(i.scaling.min!==void 0&&(e.scaling.min=i.scaling.min),i.scaling.max!==void 0&&(e.scaling.max=i.scaling.max),Zi(e.scaling,i.scaling,"label",a.scaling)):n===!0&&i.scaling===null&&(e.scaling=ko(a.scaling)),i.arrows!==void 0&&i.arrows!==null)if(typeof i.arrows=="string"){var l=i.arrows.toLowerCase();e.arrows.to.enabled=kt(l).call(l,"to")!=-1,e.arrows.middle.enabled=kt(l).call(l,"middle")!=-1,e.arrows.from.enabled=kt(l).call(l,"from")!=-1}else if(Rt(i.arrows)==="object")Zi(e.arrows,i.arrows,"to",a.arrows),Zi(e.arrows,i.arrows,"middle",a.arrows),Zi(e.arrows,i.arrows,"from",a.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+jc(i.arrows));else n===!0&&i.arrows===null&&(e.arrows=ko(a.arrows));if(i.color!==void 0&&i.color!==null){var u=ks(i.color)?{color:i.color,highlight:i.color,hover:i.color,inherit:!1,opacity:1}:i.color,f=e.color;if(s)Lt(f,a.color,!1,n);else for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&delete f[h];if(ks(f))f.color=f,f.highlight=f,f.hover=f,f.inherit=!1,u.opacity===void 0&&(f.opacity=1);else{var c=!1;u.color!==void 0&&(f.color=u.color,c=!0),u.highlight!==void 0&&(f.highlight=u.highlight,c=!0),u.hover!==void 0&&(f.hover=u.hover,c=!0),u.inherit!==void 0&&(f.inherit=u.inherit),u.opacity!==void 0&&(f.opacity=Math.min(1,Math.max(0,u.opacity))),c===!0?f.inherit=!1:f.inherit===void 0&&(f.inherit="from")}}else n===!0&&i.color===null&&(e.color=zs(a.color));n===!0&&i.font===null&&(e.font=zs(a.font)),Object.prototype.hasOwnProperty.call(i,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=i.selfReferenceSize)}}]),r}(),sEe=function(){function r(t,e,i){var n,a=this;He(this,r),this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=Le(n=this.create).call(n,this),this.edgesListeners={add:function(o,l){a.add(l.items)},update:function(o,l){a.update(l.items)},remove:function(o,l){a.remove(l.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,l,u,f){if(l===o)return .5;var h=1/(l-o);return Math.max(0,(f-o)*h)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Lt(this.options,this.defaultOptions),this.bindEventListeners()}return We(r,[{key:"bindEventListeners",value:function(){var e=this,i,n;this.body.emitter.on("_forceDisableDynamicCurves",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a==="dynamic"&&(a="continuous");var o=!1;for(var l in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,l)){var u=e.body.edges[l],f=e.body.data.edges.get(l);if(f!=null){var h=f.smooth;h!==void 0&&h.enabled===!0&&h.type==="dynamic"&&(a===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:a}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges()}),this.body.emitter.on("refreshEdges",Le(i=this.refresh).call(i,this)),this.body.emitter.on("refresh",Le(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",function(){gt(e.edgesListeners,function(a,s){e.body.data.edges&&e.body.data.edges.off(s,a)}),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){Yl.parseOptions(this.options,e,!0,this.defaultOptions,!0);var i=!1;if(e.smooth!==void 0)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(i=this.body.edges[n].updateEdgeType()||i);if(e.font!==void 0)for(var a in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,a)&&this.body.edges[a].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||i===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.body.data.edges;if(S9("id",e))this.body.data.edges=e;else if(Pt(e))this.body.data.edges=new Um,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Um;else throw new TypeError("Array or DataSet expected");if(a&&gt(this.edgesListeners,function(o,l){a.off(l,o)}),this.body.edges={},this.body.data.edges){gt(this.edgesListeners,function(o,l){i.body.data.edges.on(l,o)});var s=this.body.data.edges.getIds();this.add(s,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.edges,a=this.body.data.edges,s=0;s<e.length;s++){var o=e[s],l=n[o];l&&l.disconnect();var u=a.get(o,{showInternalIds:!0});n[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var i=this.body.edges,n=this.body.data.edges,a=!1,s=0;s<e.length;s++){var o=e[s],l=n.get(o),u=i[o];u!==void 0?(u.disconnect(),a=u.setOptions(l)||a,u.connect()):(this.body.edges[o]=this.create(l),a=!0)}a===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length!==0){var n=this.body.edges;gt(e,function(a){var s=n[a];s!==void 0&&s.remove()}),i&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;gt(this.body.edges,function(i,n){var a=e.body.data.edges.get(n);a!==void 0&&i.setOptions(a)})}},{key:"create",value:function(e){return new Yl(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,i=this.body.nodes,n=this.body.edges;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var a=n[e];a.from=null,a.to=null,a.connect()}}},{key:"getConnectedNodes",value:function(e){var i=[];if(this.body.edges[e]!==void 0){var n=this.body.edges[e];n.fromId!==void 0&&i.push(n.fromId),n.toId!==void 0&&i.push(n.toId)}return i}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,i=[];gt(this.body.edges,function(n,a){var s=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];s!==void 0&&s.isCluster===!0||o!==void 0&&o.isCluster===!0||(s===void 0||o===void 0)&&i.push(a)}),this.remove(i,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var i=this.body.edges,n=[];Bt(e).call(e,function(a,s){var o=i[s];o===void 0&&n.push(s)}),this.add(n,!0)}}}]),r}(),PI=function(){function r(t,e,i){He(this,r),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this._rng=gd("BARNES HUT SOLVER")}return We(r,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,i=this.body.nodes,n=this.physicsBody.physicsNodeIndices,a=n.length,s=this._formBarnesHutTree(i,n);this.barnesHutTree=s;for(var o=0;o<a;o++)e=i[n[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}},{key:"_getForceContributions",value:function(e,i){this._getForceContribution(e.children.NW,i),this._getForceContribution(e.children.NE,i),this._getForceContribution(e.children.SW,i),this._getForceContribution(e.children.SE,i)}},{key:"_getForceContribution",value:function(e,i){if(e.childrenCount>0){var n=e.centerOfMass.x-i.x,a=e.centerOfMass.y-i.y,s=Math.sqrt(n*n+a*a);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,a,i,e):e.childrenCount===4?this._getForceContributions(e,i):e.children.data.id!=i.id&&this._calculateForces(s,n,a,i,e)}}},{key:"_calculateForces",value:function(e,i,n,a,s){e===0&&(e=.1,i=e),this.overlapAvoidanceFactor<1&&a.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*a.shape.radius,e-a.shape.radius));var o=this.options.gravitationalConstant*s.mass*a.options.mass/Math.pow(e,3),l=i*o,u=n*o;this.physicsBody.forces[a.id].x+=l,this.physicsBody.forces[a.id].y+=u}},{key:"_formBarnesHutTree",value:function(e,i){for(var n,a=i.length,s=e[i[0]].x,o=e[i[0]].y,l=e[i[0]].x,u=e[i[0]].y,f=1;f<a;f++){var h=e[i[f]],c=h.x,m=h.y;h.options.mass>0&&(c<s&&(s=c),c>l&&(l=c),m<o&&(o=m),m>u&&(u=m))}var v=Math.abs(l-s)-Math.abs(u-o);v>0?(o-=.5*v,u+=.5*v):(s+=.5*v,l-=.5*v);var d=1e-5,b=Math.max(d,Math.abs(l-s)),g=.5*b,$=.5*(s+l),w=.5*(o+u),x={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:$-g,maxX:$+g,minY:w-g,maxY:w+g},size:b,calcSize:1/b,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(x.root);for(var A=0;A<a;A++)n=e[i[A]],n.options.mass>0&&this._placeInTree(x.root,n);return x}},{key:"_updateBranchMass",value:function(e,i){var n=e.centerOfMass,a=e.mass+i.options.mass,s=1/a;n.x=n.x*e.mass+i.x*i.options.mass,n.x*=s,n.y=n.y*e.mass+i.y*i.options.mass,n.y*=s,e.mass=a;var o=Math.max(Math.max(i.height,i.radius),i.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}},{key:"_placeInTree",value:function(e,i,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,i);var a=e.children.NW.range,s;a.maxX>i.x?a.maxY>i.y?s="NW":s="SW":a.maxY>i.y?s="NE":s="SE",this._placeInRegion(e,i,s)}},{key:"_placeInRegion",value:function(e,i,n){var a=e.children[n];switch(a.childrenCount){case 0:a.children.data=i,a.childrenCount=1,this._updateBranchMass(a,i);break;case 1:a.children.data.x===i.x&&a.children.data.y===i.y?(i.x+=this._rng(),i.y+=this._rng()):(this._splitBranch(a),this._placeInTree(a,i));break;case 4:this._placeInTree(a,i);break}}},{key:"_splitBranch",value:function(e){var i=null;e.childrenCount===1&&(i=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),i!=null&&this._placeInTree(e,i)}},{key:"_insertRegion",value:function(e,i){var n,a,s,o,l=.5*e.size;switch(i){case"NW":n=e.range.minX,a=e.range.minX+l,s=e.range.minY,o=e.range.minY+l;break;case"NE":n=e.range.minX+l,a=e.range.maxX,s=e.range.minY,o=e.range.minY+l;break;case"SW":n=e.range.minX,a=e.range.minX+l,s=e.range.minY+l,o=e.range.maxY;break;case"SE":n=e.range.minX+l,a=e.range.maxX,s=e.range.minY+l,o=e.range.maxY;break}e.children[i]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:a,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,i){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,i))}},{key:"_drawBranch",value:function(e,i,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,i),this._drawBranch(e.children.NE,i),this._drawBranch(e.children.SE,i),this._drawBranch(e.children.SW,i)),i.strokeStyle=n,i.beginPath(),i.moveTo(e.range.minX,e.range.minY),i.lineTo(e.range.maxX,e.range.minY),i.stroke(),i.beginPath(),i.moveTo(e.range.maxX,e.range.minY),i.lineTo(e.range.maxX,e.range.maxY),i.stroke(),i.beginPath(),i.moveTo(e.range.maxX,e.range.maxY),i.lineTo(e.range.minX,e.range.maxY),i.stroke(),i.beginPath(),i.moveTo(e.range.minX,e.range.maxY),i.lineTo(e.range.minX,e.range.minY),i.stroke()}}]),r}(),oEe=function(){function r(t,e,i){He(this,r),this._rng=gd("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(i)}return We(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n,a,s,o,l,u,f=this.body.nodes,h=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,m=this.options.nodeDistance,v=-2/3/m,d=4/3,b=0;b<h.length-1;b++){l=f[h[b]];for(var g=b+1;g<h.length;g++)u=f[h[g]],e=u.x-l.x,i=u.y-l.y,n=Math.sqrt(e*e+i*i),n===0&&(n=.1*this._rng(),e=n),n<2*m&&(n<.5*m?o=1:o=v*n+d,o=o/n,a=e*o,s=i*o,c[l.id].x-=a,c[l.id].y-=s,c[u.id].x+=a,c[u.id].y+=s)}}}]),r}(),lEe=function(){function r(t,e,i){He(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return We(r,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,a=this.options.nodeDistance,s=0;s<i.length-1;s++)for(var o=e[i[s]],l=s+1;l<i.length;l++){var u=e[i[l]];if(o.level===u.level){var f=a+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),h=u.x-o.x,c=u.y-o.y,m=Math.sqrt(h*h+c*c),v=.05,d=void 0;m<f?d=-Math.pow(v*m,2)+Math.pow(v*f,2):d=0,m!==0&&(d=d/m);var b=h*d,g=c*d;n[o.id].x-=b,n[o.id].y-=g,n[u.id].x+=b,n[u.id].y+=g}}}}]),r}(),Og=function(){function r(t,e,i){He(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return We(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n=this.physicsBody.physicsEdgeIndices,a=this.body.edges,s,o,l,u=0;u<n.length;u++)i=a[n[u]],i.connected===!0&&i.toId!==i.fromId&&this.body.nodes[i.toId]!==void 0&&this.body.nodes[i.fromId]!==void 0&&(i.edgeType.via!==void 0?(e=i.options.length===void 0?this.options.springLength:i.options.length,s=i.to,o=i.edgeType.via,l=i.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,l,.5*e)):(e=i.options.length===void 0?this.options.springLength*1.5:i.options.length,this._calculateSpringForce(i.from,i.to,e)))}},{key:"_calculateSpringForce",value:function(e,i,n){var a=e.x-i.x,s=e.y-i.y,o=Math.max(Math.sqrt(a*a+s*s),.01),l=this.options.springConstant*(n-o)/o,u=a*l,f=s*l;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=f),this.physicsBody.forces[i.id]!==void 0&&(this.physicsBody.forces[i.id].x-=u,this.physicsBody.forces[i.id].y-=f)}}]),r}(),uEe=function(){function r(t,e,i){He(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return We(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n,a,s,o,l,u,f=this.body.edges,h=.5,c=this.physicsBody.physicsEdgeIndices,m=this.physicsBody.physicsNodeIndices,v=this.physicsBody.forces,d=0;d<m.length;d++){var b=m[d];v[b].springFx=0,v[b].springFy=0}for(var g=0;g<c.length;g++)i=f[c[g]],i.connected===!0&&(e=i.options.length===void 0?this.options.springLength:i.options.length,n=i.from.x-i.to.x,a=i.from.y-i.to.y,u=Math.sqrt(n*n+a*a),u=u===0?.01:u,l=this.options.springConstant*(e-u)/u,s=n*l,o=a*l,i.to.level!=i.from.level?(v[i.toId]!==void 0&&(v[i.toId].springFx-=s,v[i.toId].springFy-=o),v[i.fromId]!==void 0&&(v[i.fromId].springFx+=s,v[i.fromId].springFy+=o)):(v[i.toId]!==void 0&&(v[i.toId].x-=h*s,v[i.toId].y-=h*o),v[i.fromId]!==void 0&&(v[i.fromId].x+=h*s,v[i.fromId].y+=h*o)));l=1;for(var $,w,x=0;x<m.length;x++){var A=m[x];$=Math.min(l,Math.max(-l,v[A].springFx)),w=Math.min(l,Math.max(-l,v[A].springFy)),v[A].x+=$,v[A].y+=w}for(var I=0,D=0,S=0;S<m.length;S++){var O=m[S];I+=v[O].x,D+=v[O].y}for(var H=I/m.length,B=D/m.length,V=0;V<m.length;V++){var K=m[V];v[K].x-=H,v[K].y-=B}}}]),r}(),dm=function(){function r(t,e,i){He(this,r),this.body=t,this.physicsBody=e,this.setOptions(i)}return We(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,n,a,s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,u=0;u<o.length;u++){var f=o[u];a=s[f],e=-a.x,i=-a.y,n=Math.sqrt(e*e+i*i),this._calculateForces(n,e,i,l,a)}}},{key:"_calculateForces",value:function(e,i,n,a,s){var o=e===0?0:this.options.centralGravity/e;a[s.id].x=i*o,a[s.id].y=n*o}}]),r}();function fEe(r){var t=cEe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function cEe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var hEe=function(r){It(e,r);var t=fEe(e);function e(i,n,a){var s;return He(this,e),s=t.call(this,i,n,a),s._rng=gd("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return We(e,[{key:"_calculateForces",value:function(n,a,s,o,l){n===0&&(n=.1*this._rng(),a=n),this.overlapAvoidanceFactor<1&&o.shape.radius&&(n=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,n-o.shape.radius));var u=o.edges.length+1,f=this.options.gravitationalConstant*l.mass*o.options.mass*u/Math.pow(n,2),h=a*f,c=s*f;this.physicsBody.forces[o.id].x+=h,this.physicsBody.forces[o.id].y+=c}}]),e}(PI);function mEe(r){var t=pEe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function pEe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var dEe=function(r){It(e,r);var t=mEe(e);function e(i,n,a){return He(this,e),t.call(this,i,n,a)}return We(e,[{key:"_calculateForces",value:function(n,a,s,o,l){if(n>0){var u=l.edges.length+1,f=this.options.centralGravity*u*l.options.mass;o[l.id].x=a*f,o[l.id].y=s*f}}}]),e}(dm),vEe=function(){function r(t){He(this,r),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},yr(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return We(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Qm(["stabilization"],this.options,e),Zi(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var i=this.options.wind;i&&((typeof i.x!="number"||yb(i.x))&&(i.x=0),(typeof i.y!="number"||yb(i.y))&&(i.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new hEe(this.body,this.physicsBody,e),this.edgesSolver=new Og(this.body,this.physicsBody,e),this.gravitySolver=new dEe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new oEe(this.body,this.physicsBody,e),this.edgesSolver=new Og(this.body,this.physicsBody,e),this.gravitySolver=new dm(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new lEe(this.body,this.physicsBody,e),this.edgesSolver=new uEe(this.body,this.physicsBody,e),this.gravitySolver=new dm(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new PI(this.body,this.physicsBody,e),this.edgesSolver=new Og(this.body,this.physicsBody,e),this.gravitySolver=new dm(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=Le(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Xm();this.physicsTick();var i=Xm()-e;(i<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Gn(function(){e.body.emitter.emit("stabilized",{iterations:i}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var e=1.2;this._evaluateStepQuality()===!0?this.timestep=e*this.timestep:this.timestep/e<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/e))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var e=this.adaptiveCounter%this.adaptiveInterval===0;e?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,i=this.body.edges;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&i[a].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(i[a].id);for(var s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var o=this.physicsBody.physicsNodeIndices[s];this.physicsBody.forces[o]={x:0,y:0},this.physicsBody.velocities[o]===void 0&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var l in this.physicsBody.velocities)e[l]===void 0&&delete this.physicsBody.velocities[l]}},{key:"revert",value:function(){var e=nr(this.previousStates),i=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var a=0;a<e.length;a++){var s=e[a];i[s]!==void 0?i[s].options.physics===!0&&(this.referenceState[s]={positions:{x:i[s].x,y:i[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,i[s].x=this.previousStates[s].x,i[s].y=this.previousStates[s].y):delete this.previousStates[s]}}},{key:"_evaluateStepQuality",value:function(){var e,i,n,a=this.body.nodes,s=this.referenceState,o=.3;for(var l in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,l)&&a[l]!==void 0&&(e=a[l].x-s[l].positions.x,i=a[l].y-s[l].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),n>o))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,i=0,n=0,a=5,s=0;s<e.length;s++){var o=e[s],l=this._performStep(o);i=Math.max(i,l),n+=l}this.adaptiveTimestepEnabled=n/e.length<a,this.stabilized=i<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,i,n){var a=this.modelOptions.damping*e,s=(i-a)/n;e+=s*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}},{key:"_performStep",value:function(e){var i=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var a=this.physicsBody.velocities[e];this.previousStates[e]={x:i.x,y:i.y,vx:a.x,vy:a.y},i.options.fixed.x===!1?(a.x=this.calculateComponentVelocity(a.x,n.x,i.options.mass),i.x+=a.x*this.timestep):(n.x=0,a.x=0),i.options.fixed.y===!1?(a.y=this.calculateComponentVelocity(a.y,n.y,i.options.mass),i.y+=a.y*this.timestep):(n.y=0,a.y=0);var s=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));return s}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i].x&&e[i].y){var n=e[i].options.fixed;this.freezeCache[i]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&this.freezeCache[i]!==void 0&&(e[i].options.fixed.x=this.freezeCache[i].x,e[i].options.fixed.y=this.freezeCache[i].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof i!="number"&&(i=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",i)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=i,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Gn(function(){return e._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,i=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var a=0;i()&&a<this.options.stabilization.updateInterval;)this.physicsTick(),a++;if(n(),i()){var s;Gn(Le(s=this._stabilizationBatch).call(s,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var i=0;i<this.physicsBody.physicsNodeIndices.length;i++){var n=this.physicsBody.physicsNodeIndices[i],a=this.body.nodes[n],s=this.physicsBody.forces[n],o=20,l=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),f=Math.min(Math.max(5,u),15),h=3*f,c=vb((180-Math.min(1,Math.max(0,l*u))*180)/360,1,1),m={x:a.x+o*s.x,y:a.y+o*s.y};e.lineWidth=f,e.strokeStyle=c,e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(m.x,m.y),e.stroke();var v=Math.atan2(s.y,s.x);e.fillStyle=c,II.draw(e,{type:"arrow",point:m,angle:v,length:h}),qc(e).call(e)}}}]),r}();let qh;const gEe=new Uint8Array(16);function bEe(){if(!qh&&(qh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qh(gEe)}const Ur=[];for(let r=0;r<256;++r)Ur.push((r+256).toString(16).slice(1));function yEe(r,t=0){return Ur[r[t+0]]+Ur[r[t+1]]+Ur[r[t+2]]+Ur[r[t+3]]+"-"+Ur[r[t+4]]+Ur[r[t+5]]+"-"+Ur[r[t+6]]+Ur[r[t+7]]+"-"+Ur[r[t+8]]+Ur[r[t+9]]+"-"+Ur[r[t+10]]+Ur[r[t+11]]+Ur[r[t+12]]+Ur[r[t+13]]+Ur[r[t+14]]+Ur[r[t+15]]}const $Ee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Yx={randomUUID:$Ee};function yf(r,t,e){if(Yx.randomUUID&&!t&&!r)return Yx.randomUUID();r=r||{};const i=r.random||(r.rng||bEe)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let n=0;n<16;++n)t[e+n]=i[n];return t}return yEe(i)}var ri=function(){function r(){He(this,r)}return We(r,null,[{key:"getRange",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,a=-1e9,s=1e9,o=-1e9,l;if(i.length>0)for(var u=0;u<i.length;u++)l=e[i[u]],s>l.shape.boundingBox.left&&(s=l.shape.boundingBox.left),o<l.shape.boundingBox.right&&(o=l.shape.boundingBox.right),n>l.shape.boundingBox.top&&(n=l.shape.boundingBox.top),a<l.shape.boundingBox.bottom&&(a=l.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&n===1e9&&a===-1e9&&(n=0,a=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:a}}},{key:"getRangeCore",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,a=-1e9,s=1e9,o=-1e9,l;if(i.length>0)for(var u=0;u<i.length;u++)l=e[i[u]],s>l.x&&(s=l.x),o<l.x&&(o=l.x),n>l.y&&(n=l.y),a<l.y&&(a=l.y);return s===1e9&&o===-1e9&&n===1e9&&a===-1e9&&(n=0,a=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:a}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,i){var n={};return i===void 0||i==="node"?(Lt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):Lt(n,e.options,!0),n}}]),r}();function _Ee(r){var t=wEe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function wEe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var xEe=function(r){It(e,r);var t=_Ee(e);function e(i,n,a,s,o,l){var u;return He(this,e),u=t.call(this,i,n,a,s,o,l),u.isCluster=!0,u.containedNodes={},u.containedEdges={},u}return We(e,[{key:"_openChildCluster",value:function(n){var a=this,s=this.body.nodes[n];if(this.containedNodes[n]===void 0)throw new Error("node with id: "+n+" not in current cluster");if(!s.isCluster)throw new Error("node with id: "+n+" is not a cluster");delete this.containedNodes[n],gt(s.edges,function(o){delete a.containedEdges[o.id]}),gt(s.containedNodes,function(o,l){a.containedNodes[l]=o}),s.containedNodes={},gt(s.containedEdges,function(o,l){a.containedEdges[l]=o}),s.containedEdges={},gt(s.edges,function(o){gt(a.edges,function(l){var u,f,h=kt(u=l.clusteringEdgeReplacingIds).call(u,o.id);h!==-1&&(gt(o.clusteringEdgeReplacingIds,function(c){l.clusteringEdgeReplacingIds.push(c),a.body.edges[c].edgeReplacedById=l.id}),ba(f=l.clusteringEdgeReplacingIds).call(f,h,1))})}),s.edges=[]}}]),e}(Mi),SEe=function(){function r(t){var e=this;He(this,r),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},yr(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}return We(r,[{key:"clusterByHubsize",value:function(e,i){e===void 0?e=this._getHubSize():Rt(e)==="object"&&(i=this._checkOptions(e),e=this._getHubSize());for(var n=[],a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodes[this.body.nodeIndices[a]];s.edges.length>=e&&n.push(s.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],i,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(i.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");i=this._checkOptions(i);var a={},s={};gt(this.body.nodes,function(o,l){o.options&&i.joinCondition(o.options)===!0&&(a[l]=o,gt(o.edges,function(u){e.clusteredEdges[u.id]===void 0&&(s[u.id]=u)}))}),this._cluster(a,s,i,n)}},{key:"clusterByEdgeCount",value:function(e,i){var n=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;i=this._checkOptions(i);for(var s=[],o={},l,u,f,h=function(){var d={},b={},g=n.body.nodeIndices[c],$=n.body.nodes[g];if(o[g]===void 0){f=0,u=[];for(var w=0;w<$.edges.length;w++)l=$.edges[w],n.clusteredEdges[l.id]===void 0&&(l.toId!==l.fromId&&f++,u.push(l));if(f===e){for(var x=function(K){if(i.joinCondition===void 0||i.joinCondition===null)return!0;var Q=ri.cloneOptions(K);return i.joinCondition(Q)},A=!0,I=0;I<u.length;I++){l=u[I];var D=n._getConnectedId(l,g);if(x($))b[l.id]=l,d[g]=$,d[D]=n.body.nodes[D],o[g]=!0;else{A=!1;break}}if(nr(d).length>0&&nr(b).length>0&&A===!0){var S=function(){for(var K=0;K<s.length;++K)for(var Q in d)if(s[K].nodes[Q]!==void 0)return s[K]},O=S();if(O!==void 0){for(var H in d)O.nodes[H]===void 0&&(O.nodes[H]=d[H]);for(var B in b)O.edges[B]===void 0&&(O.edges[B]=b[B])}else s.push({nodes:d,edges:b})}}}},c=0;c<this.body.nodeIndices.length;c++)h();for(var m=0;m<s.length;m++)this._cluster(s[m].nodes,s[m].edges,i,!1);a===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,i)}},{key:"clusterBridges",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,i)}},{key:"clusterByConnection",value:function(e,i){var n,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var s=this.body.nodes[e];i=this._checkOptions(i,s),i.clusterNodeProperties.x===void 0&&(i.clusterNodeProperties.x=s.x),i.clusterNodeProperties.y===void 0&&(i.clusterNodeProperties.y=s.y),i.clusterNodeProperties.fixed===void 0&&(i.clusterNodeProperties.fixed={},i.clusterNodeProperties.fixed.x=s.options.fixed.x,i.clusterNodeProperties.fixed.y=s.options.fixed.y);var o={},l={},u=s.id,f=ri.cloneOptions(s);o[u]=s;for(var h=0;h<s.edges.length;h++){var c=s.edges[h];if(this.clusteredEdges[c.id]===void 0){var m=this._getConnectedId(c,u);if(this.clusteredNodes[m]===void 0)if(m!==u)if(i.joinCondition===void 0)l[c.id]=c,o[m]=this.body.nodes[m];else{var v=ri.cloneOptions(this.body.nodes[m]);i.joinCondition(f,v)===!0&&(l[c.id]=c,o[m]=this.body.nodes[m])}else l[c.id]=c}}var d=cu(n=nr(o)).call(n,function(x){return o[x].id});for(var b in o)if(Object.prototype.hasOwnProperty.call(o,b))for(var g=o[b],$=0;$<g.edges.length;$++){var w=g.edges[$];kt(d).call(d,this._getConnectedId(w,g.id))>-1&&(l[w.id]=w)}this._cluster(o,l,i,a)}},{key:"_createClusterEdges",value:function(e,i,n,a){for(var s,o,l,u,f,h,c=nr(e),m=[],v=0;v<c.length;v++){o=c[v],l=e[o];for(var d=0;d<l.edges.length;d++)s=l.edges[d],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?i[s.id]=s:s.toId==o?(u=n.id,f=s.fromId,h=f):(u=s.toId,f=n.id,h=u),e[h]===void 0&&m.push({edge:s,fromId:f,toId:u}))}for(var b=[],g=function(D){for(var S=0;S<b.length;S++){var O=b[S],H=D.fromId===O.fromId&&D.toId===O.toId,B=D.fromId===O.toId&&D.toId===O.fromId;if(H||B)return O}return null},$=0;$<m.length;$++){var w=m[$],x=w.edge,A=g(w);A===null?(A=this._createClusteredEdge(w.fromId,w.toId,x,a),b.push(A)):A.clusteringEdgeReplacingIds.push(x.id),this.body.edges[x.id].edgeReplacedById=A.id,this._backupEdgeOptions(x),x.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&this.clusteredNodes[o]!==void 0&&s.push(o);for(var l=0;l<s.length;++l)delete e[s[l]];if(nr(e).length!=0&&!(nr(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)){var u=Lt({},n.clusterNodeProperties);if(n.processProperties!==void 0){var f=[];for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var c=ri.cloneOptions(e[h]);f.push(c)}var m=[];for(var v in i)if(Object.prototype.hasOwnProperty.call(i,v)&&v.substr(0,12)!=="clusterEdge:"){var d=ri.cloneOptions(i[v],"edge");m.push(d)}if(u=n.processProperties(u,f,m),!u)throw new Error("The processProperties function does not return properties!")}u.id===void 0&&(u.id="cluster:"+yf());var b=u.id;u.label===void 0&&(u.label="cluster");var g=void 0;u.x===void 0&&(g=this._getClusterPosition(e),u.x=g.x),u.y===void 0&&(g===void 0&&(g=this._getClusterPosition(e)),u.y=g.y),u.id=b;var $=this.body.functions.createNode(u,xEe);$.containedNodes=e,$.containedEdges=i,$.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[u.id]=$,this._clusterEdges(e,i,u,n.clusterEdgeProperties),u.id=void 0,a===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var i=this.clusteredEdges[e.id];i!==void 0&&(e.setOptions({physics:i.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var i=nr(e),n=e[i[0]].x,a=e[i[0]].x,s=e[i[0]].y,o=e[i[0]].y,l,u=1;u<i.length;u++)l=e[i[u]],n=l.x<n?l.x:n,a=l.x>a?l.x:a,s=l.y<s?l.y:s,o=l.y>o?l.y:o;return{x:.5*(n+a),y:.5*(s+o)}}},{key:"openCluster",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var a=this.body.nodes[e];if(a===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(a.isCluster!==!0||a.containedNodes===void 0||a.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var s=this.findNode(e),o=kt(s).call(s,e)-1;if(o>=0){var l=s[o],u=this.body.nodes[l];u._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}var f=a.containedNodes,h=a.containedEdges;if(i!==void 0&&i.releaseFunction!==void 0&&typeof i.releaseFunction=="function"){var c={},m={x:a.x,y:a.y};for(var v in f)if(Object.prototype.hasOwnProperty.call(f,v)){var d=this.body.nodes[v];c[v]={x:d.x,y:d.y}}var b=i.releaseFunction(m,c);for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)){var $=this.body.nodes[g];b[g]!==void 0&&($.x=b[g].x===void 0?a.x:b[g].x,$.y=b[g].y===void 0?a.y:b[g].y)}}else gt(f,function(ne){ne.options.fixed.x===!1&&(ne.x=a.x),ne.options.fixed.y===!1&&(ne.y=a.y)});for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)){var x=this.body.nodes[w];x.vx=a.vx,x.vy=a.vy,x.setOptions({physics:!0}),delete this.clusteredNodes[w]}for(var A=[],I=0;I<a.edges.length;I++)A.push(a.edges[I]);for(var D=0;D<A.length;D++){for(var S=A[D],O=this._getConnectedId(S,e),H=this.clusteredNodes[O],B=0;B<S.clusteringEdgeReplacingIds.length;B++){var V=S.clusteringEdgeReplacingIds[B],K=this.body.edges[V];if(K!==void 0)if(H!==void 0){var Q=this.body.nodes[H.clusterId];Q.containedEdges[K.id]=K,delete h[K.id];var G=K.fromId,q=K.toId;K.toId==O?q=H.clusterId:G=H.clusterId,this._createClusteredEdge(G,q,K,Q.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(K)}S.remove()}for(var W in h)Object.prototype.hasOwnProperty.call(h,W)&&this._restoreEdge(h[W]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var i=[];if(this.isCluster(e)===!0){var n=this.body.nodes[e].containedNodes;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.push(this.body.nodes[a].id)}return i}},{key:"findNode",value:function(e){for(var i=[],n=100,a=0,s;this.clusteredNodes[e]!==void 0&&a<n;){if(s=this.body.nodes[e],s===void 0)return[];i.push(s.id),e=this.clusteredNodes[e].clusterId,a++}return s=this.body.nodes[e],s===void 0?[]:(i.push(s.id),Eo(i).call(i),i)}},{key:"updateClusteredNode",value:function(e,i){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(i===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(i),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,i){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(i===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),a=0;a<n.length;a++){var s=this.body.edges[n[a]];s.setOptions(i)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var i=[],n=100,a=0;e!==void 0&&this.body.edges[e]!==void 0&&a<n;)i.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,a++;return Eo(i).call(i),i}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var i=[e],n=[],a=[],s=100,o=0;i.length>0&&o<s;){var l=i.pop();if(l!==void 0){var u=this.body.edges[l];if(u!==void 0){o++;var f=u.clusteringEdgeReplacingIds;if(f===void 0)a.push(l);else for(var h=0;h<f.length;++h){var c=f[h];kt(i).call(i,f)!==-1||kt(n).call(n,f)!==-1||i.push(c)}n.push(l)}}}return a}},{key:"_getConnectedId",value:function(e,i){return e.toId!=i?e.toId:(e.fromId!=i,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,i=0,n=0,a=0,s=0;s<this.body.nodeIndices.length;s++){var o=this.body.nodes[this.body.nodeIndices[s]];o.edges.length>a&&(a=o.edges.length),e+=o.edges.length,i+=Math.pow(o.edges.length,2),n+=1}e=e/n,i=i/n;var l=i-Math.pow(e,2),u=Math.sqrt(l),f=Math.floor(e+2*u);return f>a&&(f=a),f}},{key:"_createClusteredEdge",value:function(e,i,n,a,s){var o=ri.cloneOptions(n,"edge");Lt(o,a),o.from=e,o.to=i,o.id="clusterEdge:"+yf(),s!==void 0&&Lt(o,s);var l=this.body.functions.createEdge(o);return l.clusteringEdgeReplacingIds=[n.id],l.connect(),this.body.edges[l.id]=l,l}},{key:"_clusterEdges",value:function(e,i,n,a){if(i instanceof Yl){var s=i,o={};o[s.id]=s,i=o}if(e instanceof Mi){var l=e,u={};u[l.id]=l,e=u}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");a===void 0&&(a=n.clusterEdgeProperties),this._createClusterEdges(e,i,n,a);for(var f in i)if(Object.prototype.hasOwnProperty.call(i,f)&&this.body.edges[f]!==void 0){var h=this.body.edges[f];this._backupEdgeOptions(h),h.setOptions({physics:!1})}for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var i=this.clusteredNodes[e];if(i!==void 0){var n=i.clusterId;if(n!==void 0)return this.body.nodes[n]}}}},{key:"_filter",value:function(e,i){var n=[];return gt(e,function(a){i(a)&&n.push(a)}),n}},{key:"_updateState",value:function(){var e=this,i,n=[],a={},s=function(v){gt(e.body.nodes,function(d){d.isCluster===!0&&v(d)})};for(i in this.clusteredNodes)if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,i)){var o=this.body.nodes[i];o===void 0&&n.push(i)}s(function(m){for(var v=0;v<n.length;v++)delete m.containedNodes[n[v]]});for(var l=0;l<n.length;l++)delete this.clusteredNodes[n[l]];gt(this.clusteredEdges,function(m){var v=e.body.edges[m];(v===void 0||!v.endPointsValid())&&(a[m]=m)}),s(function(m){gt(m.containedEdges,function(v,d){!v.endPointsValid()&&!a[d]&&(a[d]=d)})}),gt(this.body.edges,function(m,v){var d=!0,b=m.clusteringEdgeReplacingIds;if(b!==void 0){var g=0;gt(b,function($){var w=e.body.edges[$];w!==void 0&&w.endPointsValid()&&(g+=1)}),d=g>0}(!m.endPointsValid()||!d)&&(a[v]=v)}),s(function(m){gt(a,function(v){delete m.containedEdges[v],gt(m.edges,function(d,b){if(d.id===v){m.edges[b]=null;return}d.clusteringEdgeReplacingIds=e._filter(d.clusteringEdgeReplacingIds,function(g){return!a[g]})}),m.edges=e._filter(m.edges,function(d){return d!==null})})}),gt(a,function(m){delete e.clusteredEdges[m]}),gt(a,function(m){delete e.body.edges[m]});var u=nr(this.body.edges);gt(u,function(m){var v=e.body.edges[m],d=e._isClusteredNode(v.fromId)||e._isClusteredNode(v.toId);if(d!==e._isClusteredEdge(v.id))if(d){var b=e._getClusterNodeForNode(v.fromId);b!==void 0&&e._clusterEdges(e.body.nodes[v.fromId],v,b);var g=e._getClusterNodeForNode(v.toId);g!==void 0&&e._clusterEdges(e.body.nodes[v.toId],v,g)}else delete e._clusterEdges[m],e._restoreEdge(v)});for(var f=!1,h=!0,c=function(){var v=[];s(function(b){var g=nr(b.containedNodes).length,$=b.options.allowSingleNodeCluster===!0;($&&g<1||!$&&g<2)&&v.push(b.id)});for(var d=0;d<v.length;++d)e.openCluster(v[d],{},!1);h=v.length>0,f=f||h};h;)c();f&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),r}();function EEe(){var r;window!==void 0&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),r===void 0?window.requestAnimationFrame=function(t){t()}:window.requestAnimationFrame=r}var kEe=function(){function r(t,e){He(this,r),EEe(),this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},yr(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return We(r,[{key:"bindEventListeners",value:function(){var e=this,i;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("zoom",function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=Gn(function(){var n;e.zooming=!1,Le(n=e._requestRedraw).call(n,e)()},250)}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Le(i=this._requestRedraw).call(i,this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(e!==void 0){var i=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];Hu(i,this.options,e)}}},{key:"_requestNextFrame",value:function(e,i){if(!(typeof window>"u")){var n,a=window;return this.requiresTimeout===!0?n=Gn(e,i):a.requestAnimationFrame&&(n=a.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var e;this.renderTimer=this._requestNextFrame(Le(e=this._renderStep).call(e,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var i={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),a=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,a,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var o=this._drawNodes(n,e),l=o.drawExternalLabels;i.drawExternalLabels=l}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),i.drawExternalLabels!=null&&i.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,a,s)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var i=this.body.nodes,n;for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n=i[a],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.nodes,a=this.body.nodeIndices,s,o=[],l=[],u=20,f=this.canvas.DOMtoCanvas({x:-u,y:-u}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),c={top:f.y,left:f.x,bottom:h.y,right:h.x},m=[],v=0;v<a.length;v++)if(s=n[a[v]],s.hover)l.push(a[v]);else if(s.isSelected())o.push(a[v]);else if(i===!0){var d=s.draw(e);d.drawExternalLabel!=null&&m.push(d.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){var b=s.draw(e);b.drawExternalLabel!=null&&m.push(b.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);var g,$=o.length,w=l.length;for(g=0;g<$;g++){s=n[o[g]];var x=s.draw(e);x.drawExternalLabel!=null&&m.push(x.drawExternalLabel)}for(g=0;g<w;g++){s=n[l[g]];var A=s.draw(e);A.drawExternalLabel!=null&&m.push(A.drawExternalLabel)}return{drawExternalLabels:function(){for(var D=0,S=m;D<S.length;D++){var O=S[D];O()}}}}},{key:"_drawEdges",value:function(e){for(var i=this.body.edges,n=this.body.edgeIndices,a=0;a<n.length;a++){var s=i[n[a]];s.connected===!0&&s.draw(e)}}},{key:"_drawArrows",value:function(e){for(var i=this.body.edges,n=this.body.edgeIndices,a=0;a<n.length;a++){var s=i[n[a]];s.connected===!0&&s.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,kt(e).call(e,"msie 9.0")!=-1?this.requiresTimeout=!0:kt(e).call(e,"safari")!=-1&&kt(e).call(e,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var i=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,i,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,i,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),r}(),TEe=Ot,OEe=TEe.setInterval,AEe=OEe,IEe=Qe(AEe);function rp(r,t){t.inputHandler=function(e){e.isFirst&&t(e)},r.on("hammer.input",t.inputHandler)}function DI(r,t){return t.inputHandler=function(e){e.isFinal&&t(e)},r.on("hammer.input",t.inputHandler)}var CEe=function(){function r(t){He(this,r),this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},yr(this.options,this.defaultOptions),this.bindEventListeners()}return We(r,[{key:"bindEventListeners",value:function(){var e=this,i;this.body.emitter.once("resize",function(n){n.width!==0&&(e.body.view.translation.x=n.width*.5),n.height!==0&&(e.body.view.translation.y=n.height*.5)}),this.body.emitter.on("setSize",Le(i=this.setSize).call(i,this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var i=this;if(e!==void 0){var n=["width","height","autoResize"];Hu(n,this.options,e)}if(this._cleanUp(),this.options.autoResize===!0){var a;if(window.ResizeObserver){var s=new ResizeObserver(function(){var f=i.setSize();f===!0&&i.body.emitter.emit("_requestRedraw")}),o=this.frame;s.observe(o),this._cleanupCallbacks.push(function(){s.unobserve(o)})}else{var l=IEe(function(){var f=i.setSize();f===!0&&i.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(l)})}var u=Le(a=this._onResize).call(a,this);window.addEventListener("resize",u),this._cleanupCallbacks.push(function(){window.removeEventListener("resize",u)})}}},{key:"_cleanUp",value:function(){var e,i,n;Bt(e=Eo(i=ba(n=this._cleanupCallbacks).call(n,0)).call(i)).call(e,function(a){try{a()}catch(s){console.error(s)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,i=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;e!=1&&i!=1?n=this.cameraState.scale*.5*(e+i):e!=1?n=this.cameraState.scale*e:i!=1&&(n=this.cameraState.scale*i),this.body.view.scale=n;var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:a.x-this.cameraState.position.x,y:a.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(kt(e).call(e,"%")!==-1||kt(e).call(e,"px")!==-1)return e;if(kt(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Kl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Kl.DIRECTION_ALL}),rp(this.hammer,function(i){e.body.eventListeners.onTouch(i)}),this.hammer.on("tap",function(i){e.body.eventListeners.onTap(i)}),this.hammer.on("doubletap",function(i){e.body.eventListeners.onDoubleTap(i)}),this.hammer.on("press",function(i){e.body.eventListeners.onHold(i)}),this.hammer.on("panstart",function(i){e.body.eventListeners.onDragStart(i)}),this.hammer.on("panmove",function(i){e.body.eventListeners.onDrag(i)}),this.hammer.on("panend",function(i){e.body.eventListeners.onDragEnd(i)}),this.hammer.on("pinch",function(i){e.body.eventListeners.onPinch(i)}),this.frame.canvas.addEventListener("wheel",function(i){e.body.eventListeners.onMouseWheel(i)}),this.frame.canvas.addEventListener("mousemove",function(i){e.body.eventListeners.onMouseMove(i)}),this.frame.canvas.addEventListener("contextmenu",function(i){e.body.eventListeners.onContext(i)}),this.hammerFrame=new Kl(this.frame),DI(this.hammerFrame,function(i){e.body.eventListeners.onRelease(i)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),i=this._prepareValue(i);var n=!1,a=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||i!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=i)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=i,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=i,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var l=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==l||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==l&&(this.frame.canvas.width=l,n=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(a/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var i=1;typeof window<"u"&&(i=window.devicePixelRatio||1);var n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return i/n}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),r}();function PEe(r,t){var e=yr({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},r??{});if(!Pt(e.nodes))throw new TypeError("Nodes has to be an array of ids.");if(e.nodes.length===0&&(e.nodes=t),!(typeof e.minZoomLevel=="number"&&e.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof e.maxZoomLevel=="number"&&e.minZoomLevel<=e.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return e}var DEe=function(){function r(t,e){var i,n=this,a;He(this,r),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Le(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Le(a=this.releaseNode).call(a,this))}return We(r,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=PEe(e,this.body.nodeIndices);var n=this.canvas.frame.canvas.clientWidth,a=this.canvas.frame.canvas.clientHeight,s,o;if(n===0||a===0)o=1,s=ri.getRange(this.body.nodes,e.nodes);else if(i===!0){var l=0;for(var u in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,u)){var f=this.body.nodes[u];f.predefinedPosition===!0&&(l+=1)}if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=ri.getRange(this.body.nodes,e.nodes);var h=this.body.nodeIndices.length;o=12.662/(h+7.4147)+.0964822;var c=Math.min(n/600,a/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=ri.getRange(this.body.nodes,e.nodes);var m=Math.abs(s.maxX-s.minX)*1.1,v=Math.abs(s.maxY-s.minY)*1.1,d=n/m,b=a/v;o=d<=b?d:b}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);var g=ri.findCenter(s),$={position:g,scale:o,animation:e.animation};this.moveTo($)}},{key:"focus",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};i.position=n,i.lockedOnNode=e,this.moveTo(i)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!go(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!go(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!go(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!go(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:i.x-e.position.x,y:i.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var a;this.viewFunction=Le(a=this._lockedRedraw).call(a,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Le(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:i.x-e.x,y:i.y-e.y},a=this.body.view.translation,s={x:a.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:a.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var i=v3e[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=Le(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),r}();function Jx(r){var t=r&&r.preventDefault||!1,e=r&&r.container||window,i={},n={keydown:{},keyup:{}},a={},s;for(s=97;s<=122;s++)a[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)a[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)a[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)a["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)a["num"+s]={code:96+s,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var o=function(f){u(f,"keydown")},l=function(f){u(f,"keyup")},u=function(f,h){if(n[h][f.keyCode]!==void 0){for(var c=n[h][f.keyCode],m=0;m<c.length;m++)(c[m].shift===void 0||c[m].shift==!0&&f.shiftKey==!0||c[m].shift==!1&&f.shiftKey==!1)&&c[m].fn(f);t==!0&&f.preventDefault()}};return i.bind=function(f,h,c){if(c===void 0&&(c="keydown"),a[f]===void 0)throw new Error("unsupported key: "+f);n[c][a[f].code]===void 0&&(n[c][a[f].code]=[]),n[c][a[f].code].push({fn:h,shift:a[f].shift})},i.bindAll=function(f,h){h===void 0&&(h="keydown");for(var c in a)a.hasOwnProperty(c)&&i.bind(c,f,h)},i.getKey=function(f){for(var h in a)if(a.hasOwnProperty(h)){if(f.shiftKey==!0&&a[h].shift==!0&&f.keyCode==a[h].code)return h;if(f.shiftKey==!1&&a[h].shift==!1&&f.keyCode==a[h].code)return h;if(f.keyCode==a[h].code&&h=="shift")return h}return"unknown key, currently not supported"},i.unbind=function(f,h,c){if(c===void 0&&(c="keydown"),a[f]===void 0)throw new Error("unsupported key: "+f);if(h!==void 0){var m=[],v=n[c][a[f].code];if(v!==void 0)for(var d=0;d<v.length;d++)v[d].fn==h&&v[d].shift==a[f].shift||m.push(n[c][a[f].code][d]);n[c][a[f].code]=m}else n[c][a[f].code]=[]},i.reset=function(){n={keydown:{},keyup:{}}},i.destroy=function(){n={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",l,!0),i}var NEe=function(){function r(t,e){var i=this;He(this,r),this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){i.keycharm!==void 0&&i.keycharm.destroy()}),this.options={}}return We(r,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var i=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var a=0;a<i.length;a++){this.navigationDOM[i[a]]=document.createElement("div"),this.navigationDOM[i[a]].className="vis-button vis-"+i[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[i[a]]);var s=new Kl(this.navigationDOM[i[a]]);if(n[a]==="_fit"){var o;rp(s,Le(o=this._fit).call(o,this))}else{var l;rp(s,Le(l=this.bindToRedraw).call(l,this,n[a]))}this.navigationHammers.push(s)}var u=new Kl(this.canvas.frame);DI(u,function(){e._stopMovement()}),this.navigationHammers.push(u),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){if(this.boundFunctions[e]===void 0){var i;this.boundFunctions[e]=Le(i=this[e]).call(i,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,i=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,a=i/e,s=(1-a)*this.canvas.canvasViewCenter.x+n.x*a,o=(1-a)*this.canvas.canvasViewCenter.y+n.y*a;this.body.view.scale=i,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,i=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,a=i/e,s=(1-a)*this.canvas.canvasViewCenter.x+n.x*a,o=(1-a)*this.canvas.canvasViewCenter.y+n.y*a;this.body.view.scale=i,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=Jx({container:window,preventDefault:!0}):this.keycharm=Jx({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D,S,O,H;Le(i=this.keycharm).call(i,"up",function(){e.bindToRedraw("_moveUp")},"keydown"),Le(n=this.keycharm).call(n,"down",function(){e.bindToRedraw("_moveDown")},"keydown"),Le(a=this.keycharm).call(a,"left",function(){e.bindToRedraw("_moveLeft")},"keydown"),Le(s=this.keycharm).call(s,"right",function(){e.bindToRedraw("_moveRight")},"keydown"),Le(o=this.keycharm).call(o,"=",function(){e.bindToRedraw("_zoomIn")},"keydown"),Le(l=this.keycharm).call(l,"num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),Le(u=this.keycharm).call(u,"num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),Le(f=this.keycharm).call(f,"-",function(){e.bindToRedraw("_zoomOut")},"keydown"),Le(h=this.keycharm).call(h,"[",function(){e.bindToRedraw("_zoomOut")},"keydown"),Le(c=this.keycharm).call(c,"]",function(){e.bindToRedraw("_zoomIn")},"keydown"),Le(m=this.keycharm).call(m,"pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),Le(v=this.keycharm).call(v,"pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),Le(d=this.keycharm).call(d,"up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),Le(b=this.keycharm).call(b,"down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),Le(g=this.keycharm).call(g,"left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),Le($=this.keycharm).call($,"right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),Le(w=this.keycharm).call(w,"=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Le(x=this.keycharm).call(x,"num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Le(A=this.keycharm).call(A,"num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Le(I=this.keycharm).call(I,"-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Le(D=this.keycharm).call(D,"[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),Le(S=this.keycharm).call(S,"]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Le(O=this.keycharm).call(O,"pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),Le(H=this.keycharm).call(H,"pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")}}}]),r}();function REe(r,t){var e=typeof eo<"u"&&al(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=MEe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function MEe(r,t){var e;if(r){if(typeof r=="string")return Qx(r,t);var i=Wr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return nl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qx(r,t)}}function Qx(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var BEe=function(){function r(t,e,i){var n,a,s,o,l,u,f,h,c,m,v,d,b;He(this,r),this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new NEe(t,e),this.body.eventListeners.onTap=Le(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=Le(a=this.onTouch).call(a,this),this.body.eventListeners.onDoubleTap=Le(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Le(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=Le(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Le(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Le(f=this.onDragEnd).call(f,this),this.body.eventListeners.onMouseWheel=Le(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Le(c=this.onPinch).call(c,this),this.body.eventListeners.onMouseMove=Le(m=this.onMouseMove).call(m,this),this.body.eventListeners.onRelease=Le(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=Le(d=this.onContext).call(d,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Le(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},yr(this.options,this.defaultOptions),this.bindEventListeners()}return We(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(e!==void 0){var i=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];Qm(i,this.options,e),Zi(this.options,e,"keyboard"),e.tooltip&&(yr(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=db(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-h3e(this.canvas.frame.canvas),y:e.y-m3e(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var i=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(i,n),this.selectionHandler.commitAndEmit(i,e),this.selectionHandler.generateClickEvent("click",e,i)}},{key:"onDoubleTap",value:function(e){var i=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,i)}},{key:"onHold",value:function(e){var i=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(i,n),this.selectionHandler.commitAndEmit(i,e),this.selectionHandler.generateClickEvent("click",e,i),this.selectionHandler.generateClickEvent("hold",e,i)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var i=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,i),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var i=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,i)}},{key:"checkSelectionChanges",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,i){var n=function(s,o){for(var l=[],u=0;u<s.length;u++){var f=s[u];kt(o).call(o,f)===-1&&l.push(f)}return l};return{nodes:n(e.nodes,i.nodes),edges:n(e.edges,i.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var i=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=yr({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(i!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=i.id,i.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[i.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var a=REe(this.selectionHandler.getSelectedNodes()),s;try{for(a.s();!(s=a.n()).done;){var o=s.value,l={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(l)}}catch(u){a.e(u)}finally{a.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var i=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),a=this.drag.selection;if(a&&a.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,n);var s=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;Bt(a).call(a,function(f){var h=f.node;f.xFixed===!1&&(h.x=i.canvas._XconvertDOMtoCanvas(i.canvas._XconvertCanvasToDOM(f.x)+s)),f.yFixed===!1&&(h.y=i.canvas._YconvertDOMtoCanvas(i.canvas._YconvertCanvasToDOM(f.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}var l=n.x-this.drag.pointer.x,u=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+l,y:this.drag.translation.y+u},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var i=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var a=this.body.selectionBox.position,s={minX:Math.min(a.start.x,a.end.x),minY:Math.min(a.start.y,a.end.y),maxX:Math.max(a.start.x,a.end.x),maxY:Math.max(a.start.y,a.end.y)},o=wi(n=this.body.nodeIndices).call(n,function(f){var h=i.body.nodes[f];return h.x>=s.minX&&h.x<=s.maxX&&h.y>=s.minY&&h.y<=s.maxY});Bt(o).call(o,function(f){return i.selectionHandler.selectObject(i.body.nodes[f])});var l=this.getPointer(e.center);this.selectionHandler.commitAndEmit(l,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var u=this.drag.selection;u&&u.length?(Bt(u).call(u,function(f){f.node.options.fixed.x=f.xFixed,f.node.options.fixed.y=f.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var i=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,i)}},{key:"zoom",value:function(e,i){if(this.options.zoomView===!0){var n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var a=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(a=this.canvas.DOMtoCanvas(this.drag.pointer));var s=this.body.view.translation,o=e/n,l=(1-o)*i.x+s.x*o,u=(1-o)*i.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:l,y:u},a!=null){var f=this.canvas.canvasToDOM(a);this.drag.pointer.x=f.x,this.drag.pointer.y=f.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:i}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:i})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var i=this.body.view.scale;i*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(i,n)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var i=this,n=this.getPointer({x:e.clientX,y:e.clientY}),a=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(n),this.popup.hidden===!1&&(a=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),a===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Gn(function(){return i._checkShowPopup(n)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var i=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),a={left:i,top:n,right:i,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id,o=!1,l="node";if(this.popupObj===void 0){for(var u=this.body.nodeIndices,f=this.body.nodes,h,c=[],m=0;m<u.length;m++)h=f[u[m]],h.isOverlappingWith(a)===!0&&(o=!0,h.getTitle()!==void 0&&c.push(u[m]));c.length>0&&(this.popupObj=f[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){for(var v=this.body.edgeIndices,d=this.body.edges,b,g=[],$=0;$<v.length;$++)b=d[v[$]],b.isOverlappingWith(a)===!0&&b.connected===!0&&b.getTitle()!==void 0&&g.push(v[$]);g.length>0&&(this.popupObj=d[g[g.length-1]],l="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new S3e(this.canvas.frame)),this.popup.popupTargetType=l,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var i=this.selectionHandler._pointerToPositionObject(e),n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(i),n===!0)){var a=this.selectionHandler.getNodeAt(e);n=a===void 0?!1:a.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(i));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),r}(),FEe=D$,zEe=cI;FEe("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},zEe);var LEe=Ot,jEe=LEe.Set,qEe=jEe,UEe=qEe,HEe=UEe,ho=Qe(HEe),WEe=At,Zx=N$,Uh=bd.getWeakData,VEe=P$,GEe=Vi,XEe=Du,Ag=Rr,KEe=C$,NI=Zs,e7=Mr,RI=il,YEe=RI.set,JEe=RI.getterFor,QEe=NI.find,ZEe=NI.findIndex,eke=WEe([].splice),tke=0,Hh=function(r){return r.frozen||(r.frozen=new MI)},MI=function(){this.entries=[]},Ig=function(r,t){return QEe(r.entries,function(e){return e[0]===t})};MI.prototype={get:function(r){var t=Ig(this,r);if(t)return t[1]},has:function(r){return!!Ig(this,r)},set:function(r,t){var e=Ig(this,r);e?e[1]=t:this.entries.push([r,t])},delete:function(r){var t=ZEe(this.entries,function(e){return e[0]===r});return~t&&eke(this.entries,t,1),!!~t}};var rke={getConstructor:function(r,t,e,i){var n=r(function(l,u){VEe(l,a),YEe(l,{type:t,id:tke++,frozen:void 0}),XEe(u)||KEe(u,l[i],{that:l,AS_ENTRIES:e})}),a=n.prototype,s=JEe(t),o=function(l,u,f){var h=s(l),c=Uh(GEe(u),!0);return c===!0?Hh(h).set(u,f):c[h.id]=f,l};return Zx(a,{delete:function(l){var u=s(this);if(!Ag(l))return!1;var f=Uh(l);return f===!0?Hh(u).delete(l):f&&e7(f,u.id)&&delete f[u.id]},has:function(u){var f=s(this);if(!Ag(u))return!1;var h=Uh(u);return h===!0?Hh(f).has(u):h&&e7(h,f.id)}}),Zx(a,e?{get:function(u){var f=s(this);if(Ag(u)){var h=Uh(u);return h===!0?Hh(f).get(u):h?h[f.id]:void 0}},set:function(u,f){return o(this,u,f)}}:{add:function(u){return o(this,u,!0)}}),n}},ike=oI,t7=lr,vm=At,r7=N$,nke=bd,ake=D$,BI=rke,Wh=Rr,Vh=il.enforce,ske=Tt,oke=J9,Xc=Object,lke=Array.isArray,Gh=Xc.isExtensible,FI=Xc.isFrozen,uke=Xc.isSealed,zI=Xc.freeze,fke=Xc.seal,i7={},n7={},cke=!t7.ActiveXObject&&"ActiveXObject"in t7,rf,LI=function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},jI=ake("WeakMap",LI,BI),Al=jI.prototype,gm=vm(Al.set),hke=function(){return ike&&ske(function(){var r=zI([]);return gm(new jI,r,1),!FI(r)})};if(oke)if(cke){rf=BI.getConstructor(LI,"WeakMap",!0),nke.enable();var a7=vm(Al.delete),Xh=vm(Al.has),s7=vm(Al.get);r7(Al,{delete:function(r){if(Wh(r)&&!Gh(r)){var t=Vh(this);return t.frozen||(t.frozen=new rf),a7(this,r)||t.frozen.delete(r)}return a7(this,r)},has:function(t){if(Wh(t)&&!Gh(t)){var e=Vh(this);return e.frozen||(e.frozen=new rf),Xh(this,t)||e.frozen.has(t)}return Xh(this,t)},get:function(t){if(Wh(t)&&!Gh(t)){var e=Vh(this);return e.frozen||(e.frozen=new rf),Xh(this,t)?s7(this,t):e.frozen.get(t)}return s7(this,t)},set:function(t,e){if(Wh(t)&&!Gh(t)){var i=Vh(this);i.frozen||(i.frozen=new rf),Xh(this,t)?gm(this,t,e):i.frozen.set(t,e)}else gm(this,t,e);return this}})}else hke()&&r7(Al,{set:function(t,e){var i;return lke(t)&&(FI(t)?i=i7:uke(t)&&(i=n7)),gm(this,t,e),i===i7&&zI(t),i===n7&&fke(t),this}});var mke=Ot,pke=mke.WeakMap,dke=pke,vke=dke,gke=vke,$f=Qe(gke);function zt(r,t,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(r):i?i.value:t.get(r)}function xb(r,t,e,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,e):n?n.value=e:t.set(r,e),e}function Sb(r,t){var e=typeof eo<"u"&&al(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=bke(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function bke(r,t){var e;if(r){if(typeof r=="string")return o7(r,t);var i=Wr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return nl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o7(r,t)}}function o7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var co,Ji,ws,xs,bm;function l7(r,t){var e=new ho,i=Sb(t),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;r.has(a)||e.add(a)}}catch(s){i.e(s)}finally{i.f()}return e}var u7=function(){function r(){He(this,r),co.set(this,new ho),Ji.set(this,new ho)}return We(r,[{key:"size",get:function(){return zt(this,Ji,"f").size}},{key:"add",value:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var a=0,s=i;a<s.length;a++){var o=s[a];zt(this,Ji,"f").add(o)}}},{key:"delete",value:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var a=0,s=i;a<s.length;a++){var o=s[a];zt(this,Ji,"f").delete(o)}}},{key:"clear",value:function(){zt(this,Ji,"f").clear()}},{key:"getSelection",value:function(){return zn(zt(this,Ji,"f"))}},{key:"getChanges",value:function(){return{added:zn(l7(zt(this,co,"f"),zt(this,Ji,"f"))),deleted:zn(l7(zt(this,Ji,"f"),zt(this,co,"f"))),previous:zn(new ho(zt(this,co,"f"))),current:zn(new ho(zt(this,Ji,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();xb(this,co,zt(this,Ji,"f"),"f"),xb(this,Ji,new ho(zt(this,co,"f")),"f");var i=Sb(e.added),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;a.select()}}catch(u){i.e(u)}finally{i.f()}var s=Sb(e.deleted),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;l.unselect()}}catch(u){s.e(u)}finally{s.f()}return e}}]),r}();co=new $f,Ji=new $f;var yke=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};He(this,r),ws.set(this,new u7),xs.set(this,new u7),bm.set(this,void 0),xb(this,bm,t,"f")}return We(r,[{key:"sizeNodes",get:function(){return zt(this,ws,"f").size}},{key:"sizeEdges",get:function(){return zt(this,xs,"f").size}},{key:"getNodes",value:function(){return zt(this,ws,"f").getSelection()}},{key:"getEdges",value:function(){return zt(this,xs,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=zt(this,ws,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=zt(this,xs,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){zt(this,ws,"f").delete(e)}},{key:"deleteEdges",value:function(e){zt(this,xs,"f").delete(e)}},{key:"clear",value:function(){zt(this,ws,"f").clear(),zt(this,xs,"f").clear()}},{key:"commit",value:function(){for(var e,i,n={nodes:zt(this,ws,"f").commit(),edges:zt(this,xs,"f").commit()},a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=zt(this,bm,"f")).call.apply(e,v$(i=[this,n]).call(i,s)),n}}]),r}();ws=new $f,xs=new $f,bm=new $f;function f7(r,t){var e=typeof eo<"u"&&al(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=$ke(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function $ke(r,t){var e;if(r){if(typeof r=="string")return c7(r,t);var i=Wr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return nl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c7(r,t)}}function c7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var _ke=function(){function r(t,e){var i=this;He(this,r),this.body=t,this.canvas=e,this._selectionAccumulator=new yke,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},yr(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return We(r,[{key:"setOptions",value:function(e){if(e!==void 0){var i=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];Hu(i,this.options,e)}}},{key:"selectOnPoint",value:function(e){var i=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(i=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return i}},{key:"selectAdditionalOnPoint",value:function(e){var i=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(i=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return i}},{key:"_initBaseEvent",value:function(e,i){var n={};return n.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},n.event=e,n}},{key:"generateClickEvent",value:function(e,i,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=this._initBaseEvent(i,n);if(s===!0)o.nodes=[],o.edges=[];else{var l=this.getSelection();o.nodes=l.nodes,o.edges=l.edges}a!==void 0&&(o.previousSelection=a),e=="click"&&(o.items=this.getClickedItems(n)),i.controlEdge!==void 0&&(o.controlEdge=i.controlEdge),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof Mi){if(i===!0){var n;(n=this._selectionAccumulator).addEdges.apply(n,zn(e.edges))}this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var i=[],n=this.body.nodes,a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodeIndices[a];n[s].isOverlappingWith(e)&&i.push(s)}return i}},{key:"_pointerToPositionObject",value:function(e){var i=this.canvas.DOMtoCanvas(e);return{left:i.x-1,top:i.y+1,right:i.x+1,bottom:i.y-1}}},{key:"getNodeAt",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._pointerToPositionObject(e),a=this._getAllNodesOverlappingWith(n);if(a.length>0)return i===!0?this.body.nodes[a[a.length-1]]:a[a.length-1]}},{key:"_getEdgesOverlappingWith",value:function(e,i){for(var n=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a];n[s].isOverlappingWith(e)&&i.push(s)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var i=[];return this._getEdgesOverlappingWith(e,i),i}},{key:"getEdgeAt",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.canvas.DOMtoCanvas(e),a=10,s=null,o=this.body.edges,l=0;l<this.body.edgeIndices.length;l++){var u=this.body.edgeIndices[l],f=o[u];if(f.connected){var h=f.from.x,c=f.from.y,m=f.to.x,v=f.to.y,d=f.edgeType.getDistanceToEdge(h,c,m,v,n.x,n.y);d<a&&(s=u,a=d)}}if(s!==null)return i===!0?this.body.edges[s]:s}},{key:"_addToHover",value:function(e){e instanceof Mi?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){if(e instanceof Mi){var i;this._selectionAccumulator.deleteNodes(e),(i=this._selectionAccumulator).deleteEdges.apply(i,zn(e.edges))}else this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var i=0;i<e.edges.length;i++){var n=e.edges[i];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(e,i,n){var a=this._initBaseEvent(e,i);n.hover===!0&&(n.hover=!1,n instanceof Mi?(a.node=n.id,this.body.emitter.emit("blurNode",a)):(a.edge=n.id,this.body.emitter.emit("blurEdge",a)))}},{key:"emitHoverEvent",value:function(e,i,n){var a=this._initBaseEvent(e,i),s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof Mi?(a.node=n.id,this.body.emitter.emit("hoverNode",a)):(a.edge=n.id,this.body.emitter.emit("hoverEdge",a))),s}},{key:"hoverObject",value:function(e,i){var n=this.getNodeAt(i);n===void 0&&(n=this.getEdgeAt(i));var a=!1;for(var s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof Mi&&n.id!=s||n instanceof Yl)&&(this.emitBlurEvent(e,i,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],a=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(a===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(n===void 0||n instanceof Yl&&n.id!=o||n instanceof Mi&&!n.hover)&&(this.emitBlurEvent(e,i,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],a=!0));if(n!==void 0){var l=nr(this.hoverObj.edges).length,u=nr(this.hoverObj.nodes).length,f=n instanceof Yl&&l===0&&u===0,h=n instanceof Mi&&l===0&&u===0;(a||f||h)&&(a=this.emitHoverEvent(e,i,n)),n instanceof Mi&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}a===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,i){var n=!1,a=this._selectionAccumulator.commit(),s={nodes:a.nodes.previous,edges:a.edges.previous};a.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",i,e,s),n=!0),a.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",i,e,s),n=!0),a.nodes.added.length>0&&(this.generateClickEvent("selectNode",i,e),n=!0),a.edges.added.length>0&&(this.generateClickEvent("selectEdge",i,e),n=!0),n===!0&&this.generateClickEvent("select",i,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return cu(e=this._selectionAccumulator.getNodes()).call(e,function(i){return i.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return cu(e=this._selectionAccumulator.getEdges()).call(e,function(i){return i.id})}},{key:"setSelection",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((i.unselectAll||i.unselectAll===void 0)&&this.unselectAll(),e.nodes){var n=f7(e.nodes),a;try{for(n.s();!(a=n.n()).done;){var s=a.value,o=this.body.nodes[s];if(!o)throw new RangeError('Node with id "'+s+'" not found');this.selectObject(o,i.highlightEdges)}}catch(c){n.e(c)}finally{n.f()}}if(e.edges){var l=f7(e.edges),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=this.body.edges[f];if(!h)throw new RangeError('Edge with id "'+f+'" not found');this.selectObject(h)}}catch(c){l.e(c)}finally{l.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:i})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var i in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,i.id)||this._selectionAccumulator.deleteEdges(i)}},{key:"getClickedItems",value:function(e){for(var i=this.canvas.DOMtoCanvas(e),n=[],a=this.body.nodeIndices,s=this.body.nodes,o=a.length-1;o>=0;o--){var l=s[a[o]],u=l.getItemsOnPoint(i);n.push.apply(n,u)}for(var f=this.body.edgeIndices,h=this.body.edges,c=f.length-1;c>=0;c--){var m=h[f[c]],v=m.getItemsOnPoint(i);n.push.apply(n,v)}return n}}]),r}(),h7=EO,wke=Math.floor,Eb=function(r,t){var e=r.length,i=wke(e/2);return e<8?xke(r,t):Ske(r,Eb(h7(r,0,i),t),Eb(h7(r,i),t),t)},xke=function(r,t){for(var e=r.length,i=1,n,a;i<e;){for(a=i,n=r[i];a&&t(r[a-1],n)>0;)r[a]=r[--a];a!==i++&&(r[a]=n)}return r},Ske=function(r,t,e,i){for(var n=t.length,a=e.length,s=0,o=0;s<n||o<a;)r[s+o]=s<n&&o<a?i(t[s],e[o])<=0?t[s++]:e[o++]:s<n?t[s++]:e[o++];return r},Eke=Eb,kke=Tc,m7=kke.match(/firefox\/(\d+)/i),Tke=!!m7&&+m7[1],Oke=Tc,Ake=/MSIE|Trident/.test(Oke),Ike=Tc,p7=Ike.match(/AppleWebKit\/(\d+)\./),Cke=!!p7&&+p7[1],Pke=ot,qI=At,Dke=tl,Nke=Ci,d7=mn,Rke=cA,v7=na,L$=Tt,Mke=Eke,Bke=qu,g7=Tke,Fke=Ake,b7=Oc,y7=Cke,Cs=[],$7=qI(Cs.sort),zke=qI(Cs.push),Lke=L$(function(){Cs.sort(void 0)}),jke=L$(function(){Cs.sort(null)}),qke=Bke("sort"),UI=!L$(function(){if(b7)return b7<70;if(!(g7&&g7>3)){if(Fke)return!0;if(y7)return y7<603;var r="",t,e,i,n;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)Cs.push({k:e+n,v:i})}for(Cs.sort(function(a,s){return s.v-a.v}),n=0;n<Cs.length;n++)e=Cs[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!=="DGBEFHACIJK"}}),Uke=Lke||!jke||!qke||!UI,Hke=function(r){return function(t,e){return e===void 0?-1:t===void 0?1:r!==void 0?+r(t,e)||0:v7(t)>v7(e)?1:-1}};Pke({target:"Array",proto:!0,forced:Uke},{sort:function(t){t!==void 0&&Dke(t);var e=Nke(this);if(UI)return t===void 0?$7(e):$7(e,t);var i=[],n=d7(e),a,s;for(s=0;s<n;s++)s in e&&zke(i,e[s]);for(Mke(i,Hke(t)),a=d7(i),s=0;s<a;)e[s]=i[s++];for(;s<n;)Rke(e,s++);return e}});var Wke=Br,Vke=Wke("Array").sort,Gke=dr,Xke=Vke,Cg=Array.prototype,Kke=function(r){var t=r.sort;return r===Cg||Gke(Cg,r)&&t===Cg.sort?Xke:t},Yke=Kke,Jke=Yke,Qke=Jke,_f=Qe(Qke),Zke=tl,eTe=Ci,tTe=Yp,rTe=mn,iTe=TypeError,_7=function(r){return function(t,e,i,n){Zke(e);var a=eTe(t),s=tTe(a),o=rTe(a),l=r?o-1:0,u=r?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=u;break}if(l+=u,r?l<0:o<=l)throw new iTe("Reduce of empty array with no initial value")}for(;r?l>=0:o>l;l+=u)l in s&&(n=e(n,s[l],l,a));return n}},nTe={left:_7(!1),right:_7(!0)},aTe=lr,sTe=Ra,oTe=sTe(aTe.process)==="process",lTe=ot,uTe=nTe.left,fTe=qu,w7=Oc,cTe=oTe,hTe=!cTe&&w7>79&&w7<83,mTe=hTe||!fTe("reduce");lTe({target:"Array",proto:!0,forced:mTe},{reduce:function(t){var e=arguments.length;return uTe(this,t,e,e>1?arguments[1]:void 0)}});var pTe=Br,dTe=pTe("Array").reduce,vTe=dr,gTe=dTe,Pg=Array.prototype,bTe=function(r){var t=r.reduce;return r===Pg||vTe(Pg,r)&&t===Pg.reduce?gTe:t},yTe=bTe,$Te=yTe,_Te=$Te,HI=Qe(_Te);function WI(r){var t=wTe();return function(){var i=Ke(r),n;if(t){var a=Ke(this).constructor;n=Ne(i,arguments,a)}else n=i.apply(this,arguments);return Dt(this,n)}}function wTe(){if(typeof Reflect>"u"||!Ne||Ne.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ne(Boolean,[],function(){})),!0}catch{return!1}}var VI=function(){function r(){He(this,r)}return We(r,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,i,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,i){this.fake_use(e,i),this.abstract()}},{key:"shift",value:function(e,i){this.fake_use(e,i),this.abstract()}}]),r}(),xTe=function(r){It(e,r);var t=WI(e);function e(i){var n;return He(this,e),n=t.call(this),n.layout=i,n}return We(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(n){return n.x}},{key:"setPosition",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(n,s),n.x=a}},{key:"getTreeSize",value:function(n){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:a.min_x,max:a.max_x}}},{key:"sort",value:function(n){_f(n).call(n,function(a,s){return a.x-s.x})}},{key:"fix",value:function(n,a){n.y=this.layout.options.hierarchical.levelSeparation*a,n.options.fixed.y=!0}},{key:"shift",value:function(n,a){this.layout.body.nodes[n].x+=a}}]),e}(VI),STe=function(r){It(e,r);var t=WI(e);function e(i){var n;return He(this,e),n=t.call(this),n.layout=i,n}return We(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(n){return n.y}},{key:"setPosition",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(n,s),n.y=a}},{key:"getTreeSize",value:function(n){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:a.min_y,max:a.max_y}}},{key:"sort",value:function(n){_f(n).call(n,function(a,s){return a.y-s.y})}},{key:"fix",value:function(n,a){n.x=this.layout.options.hierarchical.levelSeparation*a,n.options.fixed.x=!0}},{key:"shift",value:function(n,a){this.layout.body.nodes[n].y+=a}}]),e}(VI),ETe=ot,kTe=Zs.every,TTe=qu,OTe=TTe("every");ETe({target:"Array",proto:!0,forced:!OTe},{every:function(t){return kTe(this,t,arguments.length>1?arguments[1]:void 0)}});var ATe=Br,ITe=ATe("Array").every,CTe=dr,PTe=ITe,Dg=Array.prototype,DTe=function(r){var t=r.every;return r===Dg||CTe(Dg,r)&&t===Dg.every?PTe:t},NTe=DTe,RTe=NTe,MTe=RTe,GI=Qe(MTe);function BTe(r,t){var e=typeof eo<"u"&&al(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=FTe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function FTe(r,t){var e;if(r){if(typeof r=="string")return x7(r,t);var i=Wr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return nl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return x7(r,t)}}function x7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function zTe(r,t){var e=new ho;return Bt(r).call(r,function(i){var n;Bt(n=i.edges).call(n,function(a){a.connected&&e.add(a)})}),Bt(e).call(e,function(i){var n=i.from.id,a=i.to.id;t[n]==null&&(t[n]=0),(t[a]==null||t[n]>=t[a])&&(t[a]=t[n]+1)}),t}function LTe(r){return XI(function(t){var e,i;return GI(e=wi(i=t.edges).call(i,function(n){return r.has(n.toId)})).call(e,function(n){return n.to===t})},function(t,e){return e>t},"from",r)}function jTe(r){return XI(function(t){var e,i;return GI(e=wi(i=t.edges).call(i,function(n){return r.has(n.toId)})).call(e,function(n){return n.from===t})},function(t,e){return e<t},"to",r)}function XI(r,t,e,i){var n,a=ko(null),s=HI(n=zn(xI(i).call(i))).call(n,function(m,v){return m+1+v.edges.length},0),o=e+"Id",l=e==="to"?1:-1,u=BTe(i),f;try{var h=function(){var v=ar(f.value,2),d=v[0],b=v[1];if(!i.has(d)||!r(b))return 0;a[d]=0;for(var g=[b],$=0,w,x=function(){var D,S;if(!i.has(d))return 0;var O=a[w.id]+l;if(Bt(D=wi(S=w.edges).call(S,function(H){return H.connected&&H.to!==H.from&&H[e]!==w&&i.has(H.toId)&&i.has(H.fromId)})).call(D,function(H){var B=H[o],V=a[B];(V==null||t(O,V))&&(a[B]=O,g.push(H[e]))}),$>s)return{v:{v:zTe(i,a)}};++$},A;w=g.pop();)if(A=x(),A!==0&&A)return A.v},c;for(u.s();!(f=u.n()).done;)if(c=h(),c!==0&&c)return c.v}catch(m){u.e(m)}finally{u.f()}return a}var qTe=function(){function r(){He(this,r),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return We(r,[{key:"addRelation",value:function(e,i){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(i),this.parentReference[i]===void 0&&(this.parentReference[i]=[]),this.parentReference[i].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,i){i!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=i,this.treeIndex=Math.max(i,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var i=this,n={},a=function s(o){if(n[o]!==void 0)return n[o];var l=i.levels[o];if(i.childrenReference[o]){var u=i.childrenReference[o];if(u.length>0)for(var f=0;f<u.length;f++)l=Math.max(l,s(u[f]))}return n[o]=l,l};return a(e)}},{key:"levelDownstream",value:function(e,i){this.levels[i.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[i.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var i=1e9;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.levels[n]!==void 0&&(i=Math.min(this.levels[n],i));for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&this.levels[a]!==void 0&&(this.levels[a]-=i)}},{key:"getTreeSize",value:function(e,i){var n=1e9,a=-1e9,s=1e9,o=-1e9;for(var l in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,l)&&this.trees[l]===i){var u=e[l];n=Math.min(u.x,n),a=Math.max(u.x,a),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:n,max_x:a,min_y:s,max_y:o}}},{key:"hasSameParent",value:function(e,i){var n=this.parentReference[e.id],a=this.parentReference[i.id];if(n===void 0||a===void 0)return!1;for(var s=0;s<n.length;s++)for(var o=0;o<a.length;o++)if(n[s]==a[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,i){return this.trees[e.id]===this.trees[i.id]}},{key:"getLevels",value:function(){return nr(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,i){this.distributionOrdering[i]===void 0&&(this.distributionOrdering[i]=[]);var n=!1,a=this.distributionOrdering[i];for(var s in a)if(a[s]===e){n=!0;break}n||(this.distributionOrdering[i].push(e),this.distributionIndex[e.id]=this.distributionOrdering[i].length-1)}}]),r}(),UTe=function(){function r(t){He(this,r),this.body=t,this._resetRNG(Math.random()+":"+Xm()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},yr(this.options,this.defaultOptions),this.bindEventListeners()}return We(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var i=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",i,!1)}})}},{key:"setOptions",value:function(e,i){if(e!==void 0){var n=this.options.hierarchical,a=n.enabled;if(Hu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Zi(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return a===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(i);if(a===!0)return this.body.emitter.emit("refresh"),Lt(i,this.optionsBackup)}return i}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=gd(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var i=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:i.enabled===void 0?!0:i.enabled,solver:"hierarchicalRepulsion"},i.enabled=i.enabled===void 0?!0:i.enabled,i.solver=i.solver||"barnesHut"):Rt(e.physics)==="object"?(i.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,i.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(i.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var a=e.edges.smooth;a.type!==void 0&&a.type!=="dynamic"&&(n=a.type),this.optionsBackup.edges={smooth:{enabled:a.enabled===void 0?!0:a.enabled,type:a.type===void 0?"dynamic":a.type,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}},e.edges.smooth={enabled:a.enabled===void 0?!0:a.enabled,type:n,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var i=e.length+50,n=0;n<e.length;n++){var a=e[n],s=2*Math.PI*this._rng();a.x===void 0&&(a.x=i*Math.cos(s)),a.y===void 0&&(a.y=i*Math.sin(s))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,i=0,n=0;n<e.length;n++){var a=this.body.nodes[e[n]];a.predefinedPosition===!0&&(i+=1)}if(i<.5*e.length){var s=10,o=0,l=this.options.clusterThreshold,u={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>l){for(var f=e.length;e.length>l&&o<=s;){o+=1;var h=e.length;o%3===0?this.body.modules.clustering.clusterBridges(u):this.body.modules.clustering.clusterOutliers(u);var c=e.length;if(h==c&&o%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*f)})}o>s&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var m=70,v=0;v<e.length;v++){var d=this.body.nodes[e[v]];d.predefinedPosition===!1&&(d.x+=(.5-this._rng())*m,d.y+=(.5-this._rng())*m)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=ri.getRangeCore(this.body.nodes,this.body.nodeIndices),i=ri.findCenter(e),n=0;n<this.body.nodeIndices.length;n++){var a=this.body.nodes[this.body.nodeIndices[n]];a.x-=i.x,a.y-=i.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var i=0;i<this.body.nodeIndices.length;i++)this.body.nodes[this.body.nodeIndices[i]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[i],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,i,n=!1,a=!1;this.lastNodeOnLevel={},this.hierarchical=new qTe;for(i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&(e=this.body.nodes[i],e.options.level!==void 0?(n=!0,this.hierarchical.levels[i]=e.options.level):a=!0);if(a===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(a===!0){var s=this.options.hierarchical.sortMethod;s==="hubsize"?this._determineLevelsByHubsize():s==="directed"?this._determineLevelsDirected():s==="custom"&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var l=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(l),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,i=!1,n={},a=function(){for(var w=o(),x=0,A=0;A<w.length-1;A++){var I=w[A].max-w[A+1].min;x+=I+e.options.hierarchical.treeSpacing,s(A+1,x)}},s=function(w,x){var A=e.hierarchical.trees;for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&A[I]===w&&e.direction.shift(I,x)},o=function(){for(var w=[],x=0;x<e.hierarchical.numTrees();x++)w.push(e.direction.getTreeSize(x));return w},l=function $(w,x){if(!x[w.id]&&(x[w.id]=!0,e.hierarchical.childrenReference[w.id])){var A=e.hierarchical.childrenReference[w.id];if(A.length>0)for(var I=0;I<A.length;I++)$(e.body.nodes[A[I]],x)}},u=function(w){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,A=1e9,I=1e9,D=1e9,S=-1e9;for(var O in w)if(Object.prototype.hasOwnProperty.call(w,O)){var H=e.body.nodes[O],B=e.hierarchical.levels[H.id],V=e.direction.getPosition(H),K=e._getSpaceAroundNode(H,w),Q=ar(K,2),G=Q[0],q=Q[1];A=Math.min(G,A),I=Math.min(q,I),B<=x&&(D=Math.min(V,D),S=Math.max(V,S))}return[D,S,A,I]},f=function(w,x){var A=e.hierarchical.getMaxLevel(w.id),I=e.hierarchical.getMaxLevel(x.id);return Math.min(A,I)},h=function(w,x,A){for(var I=e.hierarchical,D=0;D<x.length;D++){var S=x[D],O=I.distributionOrdering[S];if(O.length>1)for(var H=0;H<O.length-1;H++){var B=O[H],V=O[H+1];I.hasSameParent(B,V)&&I.inSameSubNetwork(B,V)&&w(B,V,A)}}},c=function(w,x){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,I=e.direction.getPosition(w),D=e.direction.getPosition(x),S=Math.abs(D-I),O=e.options.hierarchical.nodeSpacing;if(S>O){var H={},B={};l(w,H),l(x,B);var V=f(w,x),K=u(H,V),Q=u(B,V),G=K[1],q=Q[0],W=Q[2],ne=Math.abs(G-q);if(ne>O){var Z=G-q+O;Z<-W+O&&(Z=-W+O),Z<0&&(e._shiftBlock(x.id,Z),i=!0,A===!0&&e._centerParent(x))}}},m=function(w,x){for(var A=x.id,I=x.edges,D=e.hierarchical.levels[x.id],S=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,O={},H=[],B=0;B<I.length;B++){var V=I[B];if(V.toId!=V.fromId){var K=V.toId==A?V.from:V.to;O[I[B].id]=K,e.hierarchical.levels[K.id]<D&&H.push(V)}}var Q=function(ie,ae){for(var he=0,Ce=0;Ce<ae.length;Ce++)if(O[ae[Ce].id]!==void 0){var ke=e.direction.getPosition(O[ae[Ce].id])-ie;he+=ke/Math.sqrt(ke*ke+S)}return he},G=function(ie,ae){for(var he=0,Ce=0;Ce<ae.length;Ce++)if(O[ae[Ce].id]!==void 0){var ke=e.direction.getPosition(O[ae[Ce].id])-ie;he-=S*Math.pow(ke*ke+S,-1.5)}return he},q=function(ie,ae){for(var he=e.direction.getPosition(x),Ce={},ke=0;ke<ie;ke++){var Te=Q(he,ae),Ae=G(he,ae),Pe=40,ye=Math.max(-Pe,Math.min(Pe,Math.round(Te/Ae)));if(he=he-ye,Ce[he]!==void 0)break;Ce[he]=ke}return he},W=function(ie){var ae=e.direction.getPosition(x);if(n[x.id]===void 0){var he={};l(x,he),n[x.id]=he}var Ce=u(n[x.id]),ke=Ce[2],Te=Ce[3],Ae=ie-ae,Pe=0;Ae>0?Pe=Math.min(Ae,Te-e.options.hierarchical.nodeSpacing):Ae<0&&(Pe=-Math.min(-Ae,ke-e.options.hierarchical.nodeSpacing)),Pe!=0&&(e._shiftBlock(x.id,Pe),i=!0)},ne=function(ie){var ae=e.direction.getPosition(x),he=e._getSpaceAroundNode(x),Ce=ar(he,2),ke=Ce[0],Te=Ce[1],Ae=ie-ae,Pe=ae;Ae>0?Pe=Math.min(ae+(Te-e.options.hierarchical.nodeSpacing),ie):Ae<0&&(Pe=Math.max(ae-(ke-e.options.hierarchical.nodeSpacing),ie)),Pe!==ae&&(e.direction.setPosition(x,Pe),i=!0)},Z=q(w,H);W(Z),Z=q(w,I),ne(Z)},v=function(w){var x=e.hierarchical.getLevels();x=Eo(x).call(x);for(var A=0;A<w;A++){i=!1;for(var I=0;I<x.length;I++)for(var D=x[I],S=e.hierarchical.distributionOrdering[D],O=0;O<S.length;O++)m(1e3,S[O]);if(i!==!0)break}},d=function(w){var x=e.hierarchical.getLevels();x=Eo(x).call(x);for(var A=0;A<w&&(i=!1,h(c,x,!0),i===!0);A++);},b=function(){for(var w in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,w)&&e._centerParent(e.body.nodes[w])},g=function(){var w=e.hierarchical.getLevels();w=Eo(w).call(w);for(var x=0;x<w.length;x++)for(var A=w[x],I=e.hierarchical.distributionOrdering[A],D=0;D<I.length;D++)e._centerParent(I[D])};this.options.hierarchical.blockShifting===!0&&(d(5),b()),this.options.hierarchical.edgeMinimization===!0&&v(20),this.options.hierarchical.parentCentralization===!0&&g(),a()}},{key:"_getSpaceAroundNode",value:function(e,i){var n=!0;i===void 0&&(n=!1);var a=this.hierarchical.levels[e.id];if(a!==void 0){var s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),l=this.hierarchical.distributionOrdering[a],u=1e9,f=1e9;if(s!==0){var h=l[s-1];if(n===!0&&i[h.id]===void 0||n===!1){var c=this.direction.getPosition(h);u=o-c}}if(s!=l.length-1){var m=l[s+1];if(n===!0&&i[m.id]===void 0||n===!1){var v=this.direction.getPosition(m);f=Math.min(f,v-o)}}return[u,f]}else return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var i=this.hierarchical.parentReference[e.id],n=0;n<i.length;n++){var a=i[n],s=this.body.nodes[a],o=this.hierarchical.childrenReference[a];if(o!==void 0){var l=this._getCenterPosition(o),u=this.direction.getPosition(s),f=this._getSpaceAroundNode(s),h=ar(f,2),c=h[0],m=h[1],v=u-l;(v<0&&Math.abs(v)<m-this.options.hierarchical.nodeSpacing||v>0&&Math.abs(v)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,l)}}}},{key:"_placeNodesByHierarchy",value:function(e){this.positionedNodes={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n,a=nr(e[i]);a=this._indexArrayToNodes(a),_f(n=this.direction).call(n,a);for(var s=0,o=0;o<a.length;o++){var l=a[o];if(this.positionedNodes[l.id]===void 0){var u=this.options.hierarchical.nodeSpacing,f=u*s;s>0&&(f=this.direction.getPosition(a[o-1])+u),this.direction.setPosition(l,f,i),this._validatePositionAndContinue(l,i,f),s++}}}}},{key:"_placeBranchNodes",value:function(e,i){var n,a=this.hierarchical.childrenReference[e];if(a!==void 0){for(var s=[],o=0;o<a.length;o++)s.push(this.body.nodes[a[o]]);_f(n=this.direction).call(n,s);for(var l=0;l<s.length;l++){var u=s[l],f=this.hierarchical.levels[u.id];if(f>i&&this.positionedNodes[u.id]===void 0){var h=this.options.hierarchical.nodeSpacing,c=void 0;l===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[l-1])+h,this.direction.setPosition(u,c,f),this._validatePositionAndContinue(u,f,c)}else return}var m=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],m,i)}}},{key:"_validatePositionAndContinue",value:function(e,i,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[i]!==void 0){var a=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[i]]);if(n-a<this.options.hierarchical.nodeSpacing){var s=a+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[i],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[i]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,i)}}},{key:"_indexArrayToNodes",value:function(e){for(var i=[],n=0;n<e.length;n++)i.push(this.body.nodes[e[n]]);return i}},{key:"_getDistribution",value:function(){var e={},i,n;for(i in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,i)){n=this.body.nodes[i];var a=this.hierarchical.levels[i]===void 0?0:this.hierarchical.levels[i];this.direction.fix(n,a),e[a]===void 0&&(e[a]={}),e[a][i]=n}return e}},{key:"_getActiveEdges",value:function(e){var i=this,n=[];return gt(e.edges,function(a){var s;kt(s=i.body.edgeIndices).call(s,a.id)!==-1&&n.push(a)}),n}},{key:"_getHubSizes",value:function(){var e=this,i={},n=this.body.nodeIndices;gt(n,function(s){var o=e.body.nodes[s],l=e._getActiveEdges(o).length;i[l]=!0});var a=[];return gt(i,function(s){a.push(Number(s))}),_f(a).call(a,function(s,o){return o-s}),a}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,i=function(l,u){e.hierarchical.levelDownstream(l,u)},n=this._getHubSizes(),a=function(){var l=n[s];if(l===0)return 1;gt(e.body.nodeIndices,function(u){var f=e.body.nodes[u];l===e._getActiveEdges(f).length&&e._crawlNetwork(i,u)})},s=0;s<n.length&&!a();++s);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this,i=1e5,n=function(o,l,u){},a=function(o,l,u){var f=e.hierarchical.levels[o.id];f===void 0&&(f=e.hierarchical.levels[o.id]=i);var h=n(ri.cloneOptions(o,"node"),ri.cloneOptions(l,"node"),ri.cloneOptions(u,"edge"));e.hierarchical.levels[l.id]=f+h};this._crawlNetwork(a),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,i=this,n=HI(e=this.body.nodeIndices).call(e,function(a,s){return a.set(s,i.body.nodes[s]),a},new hI);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=jTe(n):this.hierarchical.levels=LTe(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this,i=function(a,s){e.hierarchical.levels[s.id]>e.hierarchical.levels[a.id]&&e.hierarchical.addRelation(a.id,s.id)};this._crawlNetwork(i),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,a={},s=function c(m,v){if(a[m.id]===void 0){e.hierarchical.setTreeIndex(m,v),a[m.id]=!0;for(var d,b=e._getActiveEdges(m),g=0;g<b.length;g++){var $=b[g];$.connected===!0&&($.toId==m.id?d=$.from:d=$.to,m.id!=d.id&&(i(m,d,$),c(d,v)))}}};if(n===void 0)for(var o=0,l=0;l<this.body.nodeIndices.length;l++){var u=this.body.nodeIndices[l];if(a[u]===void 0){var f=this.body.nodes[u];s(f,o),o+=1}}else{var h=this.body.nodes[n];if(h===void 0){console.error("Node not found:",n);return}s(h)}}},{key:"_shiftBlock",value:function(e,i){var n=this,a={},s=function o(l){if(!a[l]){a[l]=!0,n.direction.shift(l,i);var u=n.hierarchical.childrenReference[l];if(u!==void 0)for(var f=0;f<u.length;f++)o(u[f])}};s(e)}},{key:"_findCommonParent",value:function(e,i){var n=this,a={},s=function l(u,f){var h=n.hierarchical.parentReference[f];if(h!==void 0)for(var c=0;c<h.length;c++){var m=h[c];u[m]=!0,l(u,m)}},o=function l(u,f){var h=n.hierarchical.parentReference[f];if(h!==void 0)for(var c=0;c<h.length;c++){var m=h[c];if(u[m]!==void 0)return{foundParent:m,withChild:f};var v=l(u,m);if(v.foundParent!==null)return v}return{foundParent:null,withChild:f}};return s(a,e),o(a,i)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";e?this.direction=new xTe(this):this.direction=new STe(this)}},{key:"_getCenterPosition",value:function(e){for(var i=1e9,n=-1e9,a=0;a<e.length;a++){var s=void 0;if(e[a].id!==void 0)s=e[a];else{var o=e[a];s=this.body.nodes[o]}var l=this.direction.getPosition(s);i=Math.min(i,l),n=Math.max(n,l)}return .5*(i+n)}}]),r}();function HTe(r,t){var e=typeof eo<"u"&&al(r)||r["@@iterator"];if(!e){if(Pt(r)||(e=WTe(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function WTe(r,t){var e;if(r){if(typeof r=="string")return S7(r,t);var i=Wr(e=Object.prototype.toString.call(r)).call(e,8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return nl(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return S7(r,t)}}function S7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var VTe=function(){function r(t,e,i,n){var a=this,s,o;He(this,r),this.body=t,this.canvas=e,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},yr(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){a._clean()}),this.body.emitter.on("_dataChanged",Le(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",Le(o=this._restore).call(o,this))}return We(r,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,i,n){i!==void 0&&(i.locale!==void 0?this.options.locale=i.locale:this.options.locale=n.locale,i.locales!==void 0?this.options.locales=i.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Lt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,i;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),a=this.selectionHandler.getSelectedEdgeCount(),s=n+a,o=this.options.locales[this.options.locale],l=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),l=!0),this.options.addEdge!==!1&&(l===!0?this._createSeperator(1):l=!0,this._createAddEdgeButton(o)),n===1&&typeof this.options.editNode=="function"?(l===!0?this._createSeperator(2):l=!0,this._createEditNodeButton(o)):a===1&&n===0&&this.options.editEdge!==!1&&(l===!0?this._createSeperator(3):l=!0,this._createEditEdgeButton(o)),s!==0&&(n>0&&this.options.deleteNode!==!1?(l===!0&&this._createSeperator(4),this._createDeleteButton(o)):n===0&&this.options.deleteEdge!==!1&&(l===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,Le(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Le(i=this.showManipulatorToolbar).call(i,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var i,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Le(i=this.toggleEditMode).call(i,this))}this._temporaryBindEvent("click",Le(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var i=this.selectionHandler.getSelectedNodes()[0];if(i!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(i.isCluster!==!0){var n=Lt({},i.options,!1);if(n.x=i.x,n.y=i.y,this.options.editNode.length===2)this.options.editNode(n,function(a){a!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(a),e.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,i,n,a,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Le(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",Le(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Le(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDrag",Le(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Le(a=this._finishConnect).call(a,this)),this._temporaryBindUI("onDragStart",Le(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",Rt(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from.id,e.to.id);return}if(this.guiEnabled===!0){var i,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Le(i=this.toggleEditMode).call(i,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var a,s,o,l,u=this.body.edges[this.edgeBeingEditedId],f=this._getNewTargetNode(u.from.x,u.from.y),h=this._getNewTargetNode(u.to.x,u.to.y);this.temporaryIds.nodes.push(f.id),this.temporaryIds.nodes.push(h.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this._temporaryBindUI("onTouch",Le(a=this._controlNodeTouch).call(a,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",Le(s=this._controlNodeDragStart).call(s,this)),this._temporaryBindUI("onDrag",Le(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",Le(l=this._controlNodeDragEnd).call(l,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(c){var m=u.edgeType.findBorderPositions(c);f.selected===!1&&(f.x=m.from.x,f.y=m.from.y),h.selected===!1&&(h.x=m.to.x,h.y=m.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var i=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),a=void 0;if(i.length>0){for(var s=0;s<i.length;s++)if(this.body.nodes[i[s]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(a=this.options.deleteNode)}else n.length>0&&typeof this.options.deleteEdge=="function"&&(a=this.options.deleteEdge);if(typeof a=="function"){var o={nodes:i,edges:n};if(a.length===2)a(o,function(l){l!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(l.edges),e.body.data.nodes.getDataSet().remove(l.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(i),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,i;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(i=this.options.locales[this.options.locale])===null||i===void 0?void 0:i.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(e,i){var n=Lt({},this.options.controlNodeStyle);n.id="targetNode"+yf(),n.hidden=!1,n.physics=!1,n.x=e,n.y=i;var a=this.body.functions.createNode(n);return a.shape.boundingBox={left:e,right:e,top:i,bottom:i},a}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},Ss(this.editModeDiv);var i=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",i.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Le(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(Ss(this.editModeDiv),Ss(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,i=HTe(ba(e=this._domEventListenerCleanupQueue).call(e,0)),n;try{for(i.s();!(n=i.n()).done;){var a=n.value;a()}}catch(s){i.e(s)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Ss(this.manipulationDiv),Ss(this.editModeDiv),Ss(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var i,n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Le(i=this.addNodeMode).call(i,this))}},{key:"_createAddEdgeButton",value:function(e){var i,n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Le(i=this.addEdgeMode).call(i,this))}},{key:"_createEditNodeButton",value:function(e){var i,n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Le(i=this.editNode).call(i,this))}},{key:"_createEditEdgeButton",value:function(e){var i,n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Le(i=this.editEdgeMode).call(i,this))}},{key:"_createDeleteButton",value:function(e){var i,n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";var a=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,Le(i=this.deleteSelected).call(i,this))}},{key:"_createBackButton",value:function(e){var i,n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Le(i=this.showManipulatorToolbar).call(i,this))}},{key:"_createButton",value:function(e,i,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+i,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=a,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,i){this.temporaryEventFunctions.push({event:e,boundFunction:i}),this.body.emitter.on(e,i)}},{key:"_temporaryBindUI",value:function(e,i){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=i;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+jc(nr(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var i=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(i,n)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,i){var n=new Kl(e,{});rp(n,i),this._domEventListenerCleanupQueue.push(function(){n.destroy()});var a=function(o){var l=o.keyCode,u=o.key;(u==="Enter"||u===" "||l===13||l===32)&&i()};e.addEventListener("keyup",a,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",a,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var i;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var n=kt(i=this.body.edgeIndices).call(i,this.temporaryIds.edges[e]);if(n!==-1){var a;ba(a=this.body.edgeIndices).call(a,n,1)}}for(var s=0;s<this.temporaryIds.nodes.length;s++){var o;delete this.body.nodes[this.temporaryIds.nodes[s]];var l=kt(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[s]);if(l!==-1){var u;ba(u=this.body.nodeIndices).call(u,l,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=yr({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],a=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(i),l=a.isOverlappingWith(i);o===!0?(this.selectedControlNode=n,s.edgeType.from=n):l===!0&&(this.selectedControlNode=a,s.edgeType.to=a),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var i=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(i);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),a=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=s.length-1;l>=0;l--)if(s[l]!==this.selectedControlNode.id){o=this.body.nodes[s[l]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var u=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===u.id?this._performEditEdge(o.id,a.to.id):this._performEditEdge(a.from.id,o.id)}else a.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=yr({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var i=this.lastTouch,n=this.selectionHandler.getNodeAt(i);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this._getNewTargetNode(n.x,n.y);this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id);var s=this.body.functions.createEdge({id:"connectionEdge"+yf(),from:n.id,to:a.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(a.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=s.length-1;l>=0;l--){var u;if(kt(u=this.temporaryIds.nodes).call(u,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:a,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,i),this.temporaryIds.nodes[0]!==void 0){var f=this.body.nodes[this.temporaryIds.nodes[0]];f.x=this.canvas._XconvertDOMtoCanvas(i.x),f.y=this.canvas._YconvertDOMtoCanvas(i.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=s.length-1;l>=0;l--){var u;if(kt(u=this.temporaryIds.nodes).call(u,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[a]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(a,o.id)),e.controlEdge={from:a,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,i),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var i=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,i,void 0,!0)}},{key:"_performAddNode",value:function(e){var i=this,n={id:yf(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(n,function(a){a!=null&&i.inMode==="addNode"&&i.body.data.nodes.getDataSet().add(a),i.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,i){var n=this,a={from:e,to:i};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(a,function(s){s!=null&&n.inMode==="addEdge"&&(n.body.data.edges.getDataSet().add(s),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,i){var n=this,a={id:this.edgeBeingEditedId,from:e,to:i,label:this.body.data.edges.get(this.edgeBeingEditedId).label},s=this.options.editEdge;if(Rt(s)==="object"&&(s=s.editWithoutDrag),typeof s=="function")if(s.length===2)s(a,function(o){o==null||n.inMode!=="editEdge"?(n.body.edges[a.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(o),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),r}(),qe="string",Fe="boolean",Oe="number",lf="array",Je="object",KI="dom",GTe="any",Ng=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Rg={borderWidth:{number:Oe},borderWidthSelected:{number:Oe,undefined:"undefined"},brokenImage:{string:qe,undefined:"undefined"},chosen:{label:{boolean:Fe,function:"function"},node:{boolean:Fe,function:"function"},__type__:{object:Je,boolean:Fe}},color:{border:{string:qe},background:{string:qe},highlight:{border:{string:qe},background:{string:qe},__type__:{object:Je,string:qe}},hover:{border:{string:qe},background:{string:qe},__type__:{object:Je,string:qe}},__type__:{object:Je,string:qe}},opacity:{number:Oe,undefined:"undefined"},fixed:{x:{boolean:Fe},y:{boolean:Fe},__type__:{object:Je,boolean:Fe}},font:{align:{string:qe},color:{string:qe},size:{number:Oe},face:{string:qe},background:{string:qe},strokeWidth:{number:Oe},strokeColor:{string:qe},vadjust:{number:Oe},multi:{boolean:Fe,string:qe},bold:{color:{string:qe},size:{number:Oe},face:{string:qe},mod:{string:qe},vadjust:{number:Oe},__type__:{object:Je,string:qe}},boldital:{color:{string:qe},size:{number:Oe},face:{string:qe},mod:{string:qe},vadjust:{number:Oe},__type__:{object:Je,string:qe}},ital:{color:{string:qe},size:{number:Oe},face:{string:qe},mod:{string:qe},vadjust:{number:Oe},__type__:{object:Je,string:qe}},mono:{color:{string:qe},size:{number:Oe},face:{string:qe},mod:{string:qe},vadjust:{number:Oe},__type__:{object:Je,string:qe}},__type__:{object:Je,string:qe}},group:{string:qe,number:Oe,undefined:"undefined"},heightConstraint:{minimum:{number:Oe},valign:{string:qe},__type__:{object:Je,boolean:Fe,number:Oe}},hidden:{boolean:Fe},icon:{face:{string:qe},code:{string:qe},size:{number:Oe},color:{string:qe},weight:{string:qe,number:Oe},__type__:{object:Je}},id:{string:qe,number:Oe},image:{selected:{string:qe,undefined:"undefined"},unselected:{string:qe,undefined:"undefined"},__type__:{object:Je,string:qe}},imagePadding:{top:{number:Oe},right:{number:Oe},bottom:{number:Oe},left:{number:Oe},__type__:{object:Je,number:Oe}},label:{string:qe,undefined:"undefined"},labelHighlightBold:{boolean:Fe},level:{number:Oe,undefined:"undefined"},margin:{top:{number:Oe},right:{number:Oe},bottom:{number:Oe},left:{number:Oe},__type__:{object:Je,number:Oe}},mass:{number:Oe},physics:{boolean:Fe},scaling:{min:{number:Oe},max:{number:Oe},label:{enabled:{boolean:Fe},min:{number:Oe},max:{number:Oe},maxVisible:{number:Oe},drawThreshold:{number:Oe},__type__:{object:Je,boolean:Fe}},customScalingFunction:{function:"function"},__type__:{object:Je}},shadow:{enabled:{boolean:Fe},color:{string:qe},size:{number:Oe},x:{number:Oe},y:{number:Oe},__type__:{object:Je,boolean:Fe}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Fe,array:lf},borderRadius:{number:Oe},interpolation:{boolean:Fe},useImageSize:{boolean:Fe},useBorderWithImage:{boolean:Fe},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Je}},size:{number:Oe},title:{string:qe,dom:KI,undefined:"undefined"},value:{number:Oe,undefined:"undefined"},widthConstraint:{minimum:{number:Oe},maximum:{number:Oe},__type__:{object:Je,boolean:Fe,number:Oe}},x:{number:Oe},y:{number:Oe},__type__:{object:Je}},XTe={configure:{enabled:{boolean:Fe},filter:{boolean:Fe,string:qe,array:lf,function:"function"},container:{dom:KI},showButton:{boolean:Fe},__type__:{object:Je,boolean:Fe,string:qe,array:lf,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Fe},scaleFactor:{number:Oe},type:{string:Ng},imageHeight:{number:Oe},imageWidth:{number:Oe},src:{string:qe},__type__:{object:Je,boolean:Fe}},middle:{enabled:{boolean:Fe},scaleFactor:{number:Oe},type:{string:Ng},imageWidth:{number:Oe},imageHeight:{number:Oe},src:{string:qe},__type__:{object:Je,boolean:Fe}},from:{enabled:{boolean:Fe},scaleFactor:{number:Oe},type:{string:Ng},imageWidth:{number:Oe},imageHeight:{number:Oe},src:{string:qe},__type__:{object:Je,boolean:Fe}},__type__:{string:["from","to","middle"],object:Je}},endPointOffset:{from:{number:Oe},to:{number:Oe},__type__:{object:Je,number:Oe}},arrowStrikethrough:{boolean:Fe},background:{enabled:{boolean:Fe},color:{string:qe},size:{number:Oe},dashes:{boolean:Fe,array:lf},__type__:{object:Je,boolean:Fe}},chosen:{label:{boolean:Fe,function:"function"},edge:{boolean:Fe,function:"function"},__type__:{object:Je,boolean:Fe}},color:{color:{string:qe},highlight:{string:qe},hover:{string:qe},inherit:{string:["from","to","both"],boolean:Fe},opacity:{number:Oe},__type__:{object:Je,string:qe}},dashes:{boolean:Fe,array:lf},font:{color:{string:qe},size:{number:Oe},face:{string:qe},background:{string:qe},strokeWidth:{number:Oe},strokeColor:{string:qe},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:Oe},multi:{boolean:Fe,string:qe},bold:{color:{string:qe},size:{number:Oe},face:{string:qe},mod:{string:qe},vadjust:{number:Oe},__type__:{object:Je,string:qe}},boldital:{color:{string:qe},size:{number:Oe},face:{string:qe},mod:{string:qe},vadjust:{number:Oe},__type__:{object:Je,string:qe}},ital:{color:{string:qe},size:{number:Oe},face:{string:qe},mod:{string:qe},vadjust:{number:Oe},__type__:{object:Je,string:qe}},mono:{color:{string:qe},size:{number:Oe},face:{string:qe},mod:{string:qe},vadjust:{number:Oe},__type__:{object:Je,string:qe}},__type__:{object:Je,string:qe}},hidden:{boolean:Fe},hoverWidth:{function:"function",number:Oe},label:{string:qe,undefined:"undefined"},labelHighlightBold:{boolean:Fe},length:{number:Oe,undefined:"undefined"},physics:{boolean:Fe},scaling:{min:{number:Oe},max:{number:Oe},label:{enabled:{boolean:Fe},min:{number:Oe},max:{number:Oe},maxVisible:{number:Oe},drawThreshold:{number:Oe},__type__:{object:Je,boolean:Fe}},customScalingFunction:{function:"function"},__type__:{object:Je}},selectionWidth:{function:"function",number:Oe},selfReferenceSize:{number:Oe},selfReference:{size:{number:Oe},angle:{number:Oe},renderBehindTheNode:{boolean:Fe},__type__:{object:Je}},shadow:{enabled:{boolean:Fe},color:{string:qe},size:{number:Oe},x:{number:Oe},y:{number:Oe},__type__:{object:Je,boolean:Fe}},smooth:{enabled:{boolean:Fe},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:Oe},forceDirection:{string:["horizontal","vertical","none"],boolean:Fe},__type__:{object:Je,boolean:Fe}},title:{string:qe,undefined:"undefined"},width:{number:Oe},widthConstraint:{maximum:{number:Oe},__type__:{object:Je,boolean:Fe,number:Oe}},value:{number:Oe,undefined:"undefined"},__type__:{object:Je}},groups:{useDefaultGroups:{boolean:Fe},__any__:Rg,__type__:{object:Je}},interaction:{dragNodes:{boolean:Fe},dragView:{boolean:Fe},hideEdgesOnDrag:{boolean:Fe},hideEdgesOnZoom:{boolean:Fe},hideNodesOnDrag:{boolean:Fe},hover:{boolean:Fe},keyboard:{enabled:{boolean:Fe},speed:{x:{number:Oe},y:{number:Oe},zoom:{number:Oe},__type__:{object:Je}},bindToWindow:{boolean:Fe},autoFocus:{boolean:Fe},__type__:{object:Je,boolean:Fe}},multiselect:{boolean:Fe},navigationButtons:{boolean:Fe},selectable:{boolean:Fe},selectConnectedEdges:{boolean:Fe},hoverConnectedEdges:{boolean:Fe},tooltipDelay:{number:Oe},zoomView:{boolean:Fe},zoomSpeed:{number:Oe},__type__:{object:Je}},layout:{randomSeed:{undefined:"undefined",number:Oe,string:qe},improvedLayout:{boolean:Fe},clusterThreshold:{number:Oe},hierarchical:{enabled:{boolean:Fe},levelSeparation:{number:Oe},nodeSpacing:{number:Oe},treeSpacing:{number:Oe},blockShifting:{boolean:Fe},edgeMinimization:{boolean:Fe},parentCentralization:{boolean:Fe},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Je,boolean:Fe}},__type__:{object:Je}},manipulation:{enabled:{boolean:Fe},initiallyActive:{boolean:Fe},addNode:{boolean:Fe,function:"function"},addEdge:{boolean:Fe,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Je,boolean:Fe,function:"function"}},deleteNode:{boolean:Fe,function:"function"},deleteEdge:{boolean:Fe,function:"function"},controlNodeStyle:Rg,__type__:{object:Je,boolean:Fe}},nodes:Rg,physics:{enabled:{boolean:Fe},barnesHut:{theta:{number:Oe},gravitationalConstant:{number:Oe},centralGravity:{number:Oe},springLength:{number:Oe},springConstant:{number:Oe},damping:{number:Oe},avoidOverlap:{number:Oe},__type__:{object:Je}},forceAtlas2Based:{theta:{number:Oe},gravitationalConstant:{number:Oe},centralGravity:{number:Oe},springLength:{number:Oe},springConstant:{number:Oe},damping:{number:Oe},avoidOverlap:{number:Oe},__type__:{object:Je}},repulsion:{centralGravity:{number:Oe},springLength:{number:Oe},springConstant:{number:Oe},nodeDistance:{number:Oe},damping:{number:Oe},__type__:{object:Je}},hierarchicalRepulsion:{centralGravity:{number:Oe},springLength:{number:Oe},springConstant:{number:Oe},nodeDistance:{number:Oe},damping:{number:Oe},avoidOverlap:{number:Oe},__type__:{object:Je}},maxVelocity:{number:Oe},minVelocity:{number:Oe},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Fe},iterations:{number:Oe},updateInterval:{number:Oe},onlyDynamicEdges:{boolean:Fe},fit:{boolean:Fe},__type__:{object:Je,boolean:Fe}},timestep:{number:Oe},adaptiveTimestep:{boolean:Fe},wind:{x:{number:Oe},y:{number:Oe},__type__:{object:Je}},__type__:{object:Je,boolean:Fe}},autoResize:{boolean:Fe},clickToUse:{boolean:Fe},locale:{string:qe},locales:{__any__:{any:GTe},__type__:{object:Je}},height:{string:qe},width:{string:qe},__type__:{object:Je}},YI={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},KTe=function(t,e,i){var n;return!!(Bs(t).call(t,"physics")&&Bs(n=YI.physics.solver).call(n,e)&&i.physics.solver!==e&&e!=="wind")},YTe=function(){function r(){He(this,r)}return We(r,[{key:"getDistances",value:function(e,i,n){for(var a={},s=e.edges,o=0;o<i.length;o++){var l=i[o],u={};a[l]=u;for(var f=0;f<i.length;f++)u[i[f]]=o==f?0:1e9}for(var h=0;h<n.length;h++){var c=s[n[h]];c.connected===!0&&a[c.fromId]!==void 0&&a[c.toId]!==void 0&&(a[c.fromId][c.toId]=1,a[c.toId][c.fromId]=1)}for(var m=i.length,v=0;v<m;v++)for(var d=i[v],b=a[d],g=0;g<m-1;g++)for(var $=i[g],w=a[$],x=g+1;x<m;x++){var A=i[x],I=a[A],D=Math.min(w[A],w[d]+b[A]);w[A]=D,I[$]=D}return a}}]),r}(),JTe=function(){function r(t,e,i){He(this,r),this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new YTe}return We(r,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.distanceSolver.getDistances(this.body,e,i);this._createL_matrix(a),this._createK_matrix(a),this._createE_matrix();for(var s=.01,o=1,l=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),f=5,h=1e9,c=0,m=0,v=0,d=0,b=0;h>s&&l<u;){l+=1;var g=this._getHighestEnergyNode(n),$=ar(g,4);for(c=$[0],h=$[1],m=$[2],v=$[3],d=h,b=0;d>o&&b<f;){b+=1,this._moveNode(c,m,v);var w=this._getEnergy(c),x=ar(w,3);d=x[0],m=x[1],v=x[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var i=this.body.nodeIndices,n=this.body.nodes,a=0,s=i[0],o=0,l=0,u=0;u<i.length;u++){var f=i[u];if(n[f].predefinedPosition!==!0||n[f].isCluster===!0&&e===!0||n[f].options.fixed.x!==!0||n[f].options.fixed.y!==!0){var h=this._getEnergy(f),c=ar(h,3),m=c[0],v=c[1],d=c[2];a<m&&(a=m,s=f,o=v,l=d)}}return[s,a,o,l]}},{key:"_getEnergy",value:function(e){var i=ar(this.E_sums[e],2),n=i[0],a=i[1],s=Math.sqrt(Math.pow(n,2)+Math.pow(a,2));return[s,n,a]}},{key:"_moveNode",value:function(e,i,n){for(var a=this.body.nodeIndices,s=this.body.nodes,o=0,l=0,u=0,f=s[e].x,h=s[e].y,c=this.K_matrix[e],m=this.L_matrix[e],v=0;v<a.length;v++){var d=a[v];if(d!==e){var b=s[d].x,g=s[d].y,$=c[d],w=m[d],x=1/Math.pow(Math.pow(f-b,2)+Math.pow(h-g,2),1.5);o+=$*(1-w*Math.pow(h-g,2)*x),l+=$*(w*(f-b)*(h-g)*x),u+=$*(1-w*Math.pow(f-b,2)*x)}}var A=o,I=l,D=i,S=u,O=n,H=(D/A+O/I)/(I/A-S/I),B=-(I*H+D)/A;s[e].x+=B,s[e].y+=H,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var i=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var a=0;a<i.length;a++){this.L_matrix[i[a]]={};for(var s=0;s<i.length;s++)this.L_matrix[i[a]][i[s]]=n*e[i[a]][i[s]]}}},{key:"_createK_matrix",value:function(e){var i=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var a=0;a<i.length;a++){this.K_matrix[i[a]]={};for(var s=0;s<i.length;s++)this.K_matrix[i[a]][i[s]]=n*Math.pow(e[i[a]][i[s]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,i=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(var a=0;a<e.length;a++){for(var s=e[a],o=i[s].x,l=i[s].y,u=0,f=0,h=a;h<e.length;h++){var c=e[h];if(c!==s){var m=i[c].x,v=i[c].y,d=1/Math.sqrt(Math.pow(o-m,2)+Math.pow(l-v,2));this.E_matrix[s][h]=[this.K_matrix[s][c]*(o-m-this.L_matrix[s][c]*(o-m)*d),this.K_matrix[s][c]*(l-v-this.L_matrix[s][c]*(l-v)*d)],this.E_matrix[c][a]=this.E_matrix[s][h],u+=this.E_matrix[s][h][0],f+=this.E_matrix[s][h][1]}}this.E_sums[s]=[u,f]}}},{key:"_updateE_matrix",value:function(e){for(var i=this.body.nodeIndices,n=this.body.nodes,a=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],l=n[e].x,u=n[e].y,f=0,h=0,c=0;c<i.length;c++){var m=i[c];if(m!==e){var v=a[c],d=v[0],b=v[1],g=n[m].x,$=n[m].y,w=1/Math.sqrt(Math.pow(l-g,2)+Math.pow(u-$,2)),x=s[m]*(l-g-o[m]*(l-g)*w),A=s[m]*(u-$-o[m]*(u-$)*w);a[c]=[x,A],f+=x,h+=A;var I=this.E_sums[m];I[0]+=x-d,I[1]+=A-b}}this.E_sums[e]=[f,h]}}]),r}();function Ye(r,t,e){var i,n,a,s,o=this;if(!(this instanceof Ye))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:X3e,clickToUse:!1},yr(this.options,this.defaultOptions),this.body={container:r,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Le(i=this.on).call(i,this),off:Le(n=this.off).call(n,this),emit:Le(a=this.emit).call(a,this),once:Le(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new J3e(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new p6e,this.canvas=new CEe(this.body),this.selectionHandler=new _ke(this.body,this.canvas),this.interactionHandler=new BEe(this.body,this.canvas,this.selectionHandler),this.view=new DEe(this.body,this.canvas),this.renderer=new kEe(this.body,this.canvas),this.physics=new vEe(this.body),this.layoutEngine=new UTe(this.body),this.clustering=new SEe(this.body),this.manipulation=new VTe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new ZSe(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new sEe(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new JTe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(e),this.setData(t)}K9(Ye.prototype);Ye.prototype.setOptions=function(r){var t=this;if(r===null&&(r=void 0),r!==void 0){var e=E3e.validate(r,XTe);e===!0&&console.error("%cErrors have been found in the supplied options object.",QA);var i=["locale","locales","clickToUse"];if(Hu(i,this.options,r),r.locale!==void 0&&(r.locale=K3e(r.locales||this.options.locales,r.locale)),r=this.layoutEngine.setOptions(r.layout,r),this.canvas.setOptions(r),this.groups.setOptions(r.groups),this.nodesHandler.setOptions(r.nodes),this.edgesHandler.setOptions(r.edges),this.physics.setOptions(r.physics),this.manipulation.setOptions(r.manipulation,r,this.options),this.interactionHandler.setOptions(r.interaction),this.renderer.setOptions(r.interaction),this.selectionHandler.setOptions(r.interaction),r.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in r&&(this.configurator||(this.configurator=new x3e(this,this.body.container,YI,this.canvas.pixelRatio,KTe)),this.configurator.setOptions(r.configure)),this.configurator&&this.configurator.options.enabled===!0){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Lt(n.nodes,this.nodesHandler.options),Lt(n.edges,this.edgesHandler.options),Lt(n.layout,this.layoutEngine.options),Lt(n.interaction,this.selectionHandler.options),Lt(n.interaction,this.renderer.options),Lt(n.interaction,this.interactionHandler.options),Lt(n.manipulation,this.manipulation.options),Lt(n.physics,this.physics.options),Lt(n.global,this.canvas.options),Lt(n.global,this.options),this.configurator.setModuleOptions(n)}r.clickToUse!==void 0?r.clickToUse===!0?this.activator===void 0&&(this.activator=new w3e(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};Ye.prototype._updateVisibleIndices=function(){var r=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&!this.clustering._isClusteredNode(e)&&r[e].options.hidden===!1&&this.body.nodeIndices.push(r[e].id);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i],a=r[n.fromId],s=r[n.toId],o=a!==void 0&&s!==void 0,l=!this.clustering._isClusteredEdge(i)&&n.options.hidden===!1&&o&&a.options.hidden===!1&&s.options.hidden===!1;l&&this.body.edgeIndices.push(n.id)}};Ye.prototype.bindEventListeners=function(){var r=this;this.body.emitter.on("_dataChanged",function(){r.edgesHandler._updateState(),r.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){r.clustering._updateState(),r._updateVisibleIndices(),r._updateValueRange(r.body.nodes),r._updateValueRange(r.body.edges),r.body.emitter.emit("startSimulation"),r.body.emitter.emit("_requestRedraw")})};Ye.prototype.setData=function(r){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),r&&r.dot&&(r.nodes||r.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(r&&r.options),r&&r.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=R3e(r.dot);this.setData(t);return}else if(r&&r.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var e=M3e(r.gephi);this.setData(e);return}else this.nodesHandler.setData(r&&r.nodes,!0),this.edgesHandler.setData(r&&r.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};Ye.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&delete this.body.nodes[r];for(var t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Ss(this.body.container)};Ye.prototype._updateValueRange=function(r){var t,e=void 0,i=void 0,n=0;for(t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var a=r[t].getValue();a!==void 0&&(e=e===void 0?a:Math.min(a,e),i=i===void 0?a:Math.max(a,i),n+=a)}if(e!==void 0&&i!==void 0)for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&r[t].setValueRange(e,i,n)};Ye.prototype.isActive=function(){return!this.activator||this.activator.active};Ye.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Ye.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Ye.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Ye.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Ye.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Ye.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Ye.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Ye.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Ye.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Ye.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Ye.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Ye.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Ye.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Ye.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Ye.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Ye.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Ye.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Ye.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Ye.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Ye.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Ye.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Ye.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};Ye.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Ye.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Ye.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Ye.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Ye.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Ye.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Ye.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Ye.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Ye.prototype.getConnectedNodes=function(r){return this.body.nodes[r]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};Ye.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Ye.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Ye.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Ye.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Ye.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Ye.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Ye.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Ye.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Ye.prototype.getNodeAt=function(){var r=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Ye.prototype.getEdgeAt=function(){var r=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Ye.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Ye.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Ye.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};Ye.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Ye.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Ye.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Ye.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Ye.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Ye.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Ye.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Ye.prototype.getOptionsFromConfigurator=function(){var r={};return this.configurator&&(r=this.configurator.getOptions.apply(this.configurator)),r};function QTe(r){let t,e;return{c(){t=pe("div"),this.h()},l(i){t=de(i,"DIV",{class:!0,style:!0}),De(t).forEach(y),this.h()},h(){ce(t,"class","fixedNodeGraph canvasBreadcrumb svelte-hrzyxh"),ce(t,"style",e=`width:${r[1]}px;height:${r[0]}px;`)},m(i,n){_(i,t,n),r[15](t)},p(i,[n]){n&3&&e!==(e=`width:${i[1]}px;height:${i[0]}px;`)&&ce(t,"style",e)},i:re,o:re,d(i){i&&y(t),r[15](null)}}}const Ol=30;function ZTe(r,t,e){let i,n,a,s,o,l,u;St(r,Mo,x=>e(14,u=x));let{nodes:f}=t,{edges:h}=t,{boldEdges:c=[]}=t,{directed:m=!1}=t,{width:v=500}=t,{height:d=350}=t,{options:b={}}=t;b={interaction:{zoomView:!1,dragView:!1}};let g={};m&&(b.edges={arrows:"to",font:{size:30,background:"white"}});let $;Vo(()=>{const x={nodes:o,edges:l};new Ye($,x,b)});function w(x){xi[x?"unshift":"push"](()=>{$=x,e(2,$)})}return r.$$set=x=>{"nodes"in x&&e(4,f=x.nodes),"edges"in x&&e(5,h=x.edges),"boldEdges"in x&&e(6,c=x.boldEdges),"directed"in x&&e(7,m=x.directed),"width"in x&&e(8,v=x.width),"height"in x&&e(9,d=x.height),"options"in x&&e(3,b=x.options)},r.$$.update=()=>{if(r.$$.dirty&16640&&e(1,i=Math.min(v,Math.max(.8*u.innerWidth||999999,250))),r.$$.dirty&770&&e(0,n=i*(d/v)),r.$$.dirty&2&&e(13,a=i-Ol),r.$$.dirty&1&&e(12,s=n-Ol),r.$$.dirty&12304&&e(11,o=f.map(x=>(x=JSON.parse(JSON.stringify(x)),x.fixed=!0,x.x=x.x*a,x.y=-x.y*s,x.widthConstraint={minimum:Ol,maximum:Ol},x.heightConstraint={minimum:Ol,maximum:Ol},x.font={size:20},x.label||(x.label=`${x.id}`),x))),r.$$.dirty&2048)for(const x of o)e(10,g[x.label]=x.id,g);r.$$.dirty&1120&&(l=h.map(x=>{const A={};if(typeof x=="string"){c.includes(x)&&(A.width=5);const I=x.split("-"),D=parseInt(I[0])||g[I[0]],S=parseInt(I[1])||g[I[1]];x={from:D,to:S},I.length>2&&(x.label=`${I[2]}`)}return{...x,...A}}))},[n,i,$,b,f,h,c,m,v,d,g,o,s,a,u,w]}class Wu extends $t{constructor(t){super(),_t(this,t,ZTe,QTe,yt,{nodes:4,edges:5,boldEdges:6,directed:7,width:8,height:9,options:3})}}const JI=(r,t,e)=>{t=e+":"+t;const i=`${Gu(Hr).hierarchy.length}`;let n=i;Object.keys(Gu(Hr).dispSecNums).includes(i)&&(n=Gu(Hr).dispSecNums[i]),Object.keys(Gu(r).secCounts).includes(i+"")||r.update(s=>(s.secCounts[i]=0,s)),r.update(s=>(s.secCounts[i]+=1,s));const a=n+"."+Gu(r).secCounts[i];return r.update(s=>(s.numbers[t]=a,s)),t},e9e=r=>({}),E7=r=>({});function k7(r){let t,e,i,n,a;return{c(){t=pe("a"),e=E("↩︎"),this.h()},l(s){t=de(s,"A",{style:!0,href:!0});var o=De(t);e=k(o,"↩︎"),o.forEach(y),this.h()},h(){tt(t,"float","right"),tt(t,"font-size","var(--standardFontSize)"),ce(t,"href",i="#"+r[1])},m(s,o){_(s,t,o),le(t,e),n||(a=xt(t,"click",r[6]),n=!0)},p(s,o){o&2&&i!==(i="#"+s[1])&&ce(t,"href",i)},d(s){s&&y(t),n=!1,a()}}}function t9e(r){let t,e,i,n,a,s,o,l,u,f;const h=r[5].default,c=qt(h,r,r[4],null),m=r[5].caption,v=qt(m,r,r[4],E7);let d=!!r[1]&&k7(r);return{c(){t=pe("div"),c&&c.c(),e=Se(),i=pe("div"),n=pe("b"),a=E("Figure "),s=E(r[2]),o=E(":"),l=Se(),v&&v.c(),u=Se(),d&&d.c(),this.h()},l(b){t=de(b,"DIV",{class:!0,id:!0});var g=De(t);c&&c.l(g),e=Ee(g),i=de(g,"DIV",{class:!0});var $=De(i);n=de($,"B",{});var w=De(n);a=k(w,"Figure "),s=k(w,r[2]),o=k(w,":"),w.forEach(y),l=Ee($),v&&v.l($),$.forEach(y),u=Ee(g),d&&d.l(g),g.forEach(y),this.h()},h(){ce(i,"class","caption svelte-rlxukd"),ce(t,"class","figDiv svelte-rlxukd"),ce(t,"id",r[0])},m(b,g){_(b,t,g),c&&c.m(t,null),le(t,e),le(t,i),le(i,n),le(n,a),le(n,s),le(n,o),le(i,l),v&&v.m(i,null),le(t,u),d&&d.m(t,null),f=!0},p(b,[g]){c&&c.p&&(!f||g&16)&&Ut(c,h,b,b[4],f?Wt(h,b[4],g,null):Ht(b[4]),null),v&&v.p&&(!f||g&16)&&Ut(v,m,b,b[4],f?Wt(m,b[4],g,e9e):Ht(b[4]),E7),b[1]?d?d.p(b,g):(d=k7(b),d.c(),d.m(t,null)):d&&(d.d(1),d=null),(!f||g&1)&&ce(t,"id",b[0])},i(b){f||(R(c,b),R(v,b),f=!0)},o(b){M(c,b),M(v,b),f=!1},d(b){b&&y(t),c&&c.d(b),v&&v.d(b),d&&d.d()}}}function r9e(r,t,e){let i,n;St(r,Wl,f=>e(3,n=f));let{$$slots:a={},$$scope:s}=t,{refId:o}=t;o=JI(Wl,o,"fig");const l=n.numbers[o],u=()=>{Wl.update(f=>(delete f.returnIds[o],f))};return r.$$set=f=>{"refId"in f&&e(0,o=f.refId),"$$scope"in f&&e(4,s=f.$$scope)},r.$$.update=()=>{r.$$.dirty&9&&e(1,i=n.returnIds[o])},[o,i,l,n,s,a,u]}class Il extends $t{constructor(t){super(),_t(this,t,r9e,t9e,yt,{refId:0})}}function i9e(r){var f;let t,e,i,n,a=((f=r[3])==null?void 0:f.numbers[r[0]])+"",s,o,l,u;return t=new cp({props:{show:r[2],divId:r[1]}}),{c(){F(t.$$.fragment),e=Se(),i=pe("span"),n=E("Figure "),s=E(a),this.h()},l(h){z(t.$$.fragment,h),e=Ee(h),i=de(h,"SPAN",{class:!0,id:!0,role:!0,tabindex:!0,"aria-label":!0});var c=De(i);n=k(c,"Figure "),s=k(c,a),c.forEach(y),this.h()},h(){ce(i,"class","eqRef svelte-17atccr"),ce(i,"id",r[1]),ce(i,"role","button"),ce(i,"tabindex","0"),ce(i,"aria-label","Toggle popup")},m(h,c){L(t,h,c),_(h,e,c),_(h,i,c),le(i,n),le(i,s),o=!0,l||(u=[xt(i,"keydown",r[5]),xt(i,"click",r[5])],l=!0)},p(h,c){var v;const m={};c&4&&(m.show=h[2]),c&2&&(m.divId=h[1]),t.$set(m),(!o||c&9)&&a!==(a=((v=h[3])==null?void 0:v.numbers[h[0]])+"")&&Ca(s,a),(!o||c&2)&&ce(i,"id",h[1])},i(h){o||(R(t.$$.fragment,h),o=!0)},o(h){M(t.$$.fragment,h),o=!1},d(h){h&&(y(e),y(i)),j(t,h),l=!1,An(u)}}}function n9e(r){var s;let t,e,i=((s=r[3])==null?void 0:s.numbers[r[0]])+"",n,a;return{c(){t=pe("a"),e=E("Figure "),n=E(i),this.h()},l(o){t=de(o,"A",{class:!0,href:!0});var l=De(t);e=k(l,"Figure "),n=k(l,i),l.forEach(y),this.h()},h(){ce(t,"class","figRef"),ce(t,"href",a=`#${r[0]}`)},m(o,l){_(o,t,l),le(t,e),le(t,n)},p(o,l){var u;l&9&&i!==(i=((u=o[3])==null?void 0:u.numbers[o[0]])+"")&&Ca(n,i),l&1&&a!==(a=`#${o[0]}`)&&ce(t,"href",a)},i:re,o:re,d(o){o&&y(t)}}}function a9e(r){let t,e,i,n;const a=[n9e,i9e],s=[];function o(l,u){return l[4]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ht()},l(l){e.l(l),i=ht()},m(l,u){s[t].m(l,u),_(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(ai(),M(s[f],1,1,()=>{s[f]=null}),si(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),R(e,1),e.m(i.parentNode,i))},i(l){n||(R(e),n=!0)},o(l){M(e),n=!1},d(l){l&&y(i),s[t].d(l)}}}function s9e(r,t,e){let i,n,a,s;St(r,Wl,c=>e(3,a=c)),St(r,nn,c=>e(4,s=c));let{refId:o}=t;o="fig:"+o;const l=(a.numRefs[o]||0)+1;Wl.update(c=>(Object.keys(c.numRefs).includes(o)||(c.numRefs[o]=0),c.numRefs[o]+=1,c));const u=(c,m=[])=>{let v=[];const d=f(c);for(const b of d){const g=m.concat([b[0]]);if(b[1]==="complete")v.push(g);else{const $=c.children[parseInt(b[0])];v=v.concat(u($,g))}}return v},f=c=>{const m=[];for(const v in c.children){const d=c.children[v];if(d.tagName)new Set(d.classList).intersection(new Set(["canvasBreadcrumb","vis-network"])).size>0?m.push([v,"incomplete"]):d.tagName.toLowerCase()==="canvas"&&m.push([v,"complete"]);else continue}return m},h=()=>{e(2,n=!n);const c=document.getElementById(i);if((c==null?void 0:c.childElementCount)===1){let m=0;const v=document.createElement("div");c==null||c.appendChild(v),setTimeout(function(){const d=document.getElementById(o),b=d.cloneNode(!0);b.id=b.id||"",b.id+="Ref"+l;const g=u(d);for(const w of g){let x=d,A=b;for(const D of w)x=x.children[parseInt(D)],A=A.children[parseInt(D)];const I=A.getContext("2d");I==null||I.drawImage(x,0,0)}c==null||c.appendChild(b);const $=document.createElement("a");$.innerHTML="jump to",$.setAttribute("href","#"+o),$.style.fontSize="1.2rem",$.style.float="right",$.onclick=()=>{Wl.update(w=>(w.returnIds[o]=i,w))},c==null||c.appendChild($)},m)}};return r.$$set=c=>{"refId"in c&&e(0,o=c.refId)},r.$$.update=()=>{r.$$.dirty&1&&e(1,i=o+"-ref"+l)},e(2,n=!1),[o,i,n,a,s,h]}class Ia extends $t{constructor(t){super(),_t(this,t,s9e,a9e,yt,{refId:0})}}function o9e(r){let t,e,i="[note]",n,a,s;return t=new cp({props:{show:r[0],$$slots:{default:[u9e]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment),e=pe("span"),e.textContent=i,this.h()},l(o){z(t.$$.fragment,o),e=de(o,"SPAN",{class:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),Xe(e)!=="svelte-15se7qy"&&(e.textContent=i),this.h()},h(){ce(e,"class","footnote svelte-8qyc4p"),ce(e,"role","button"),ce(e,"tabindex","0"),ce(e,"aria-label","Toggle popup")},m(o,l){L(t,o,l),_(o,e,l),n=!0,a||(s=[xt(e,"keydown",r[2]),xt(e,"click",r[2])],a=!0)},p(o,l){const u={};l&1&&(u.show=o[0]),l&16&&(u.$$scope={dirty:l,ctx:o}),t.$set(u)},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){M(t.$$.fragment,o),n=!1},d(o){o&&y(e),j(t,o),a=!1,An(s)}}}function l9e(r){let t;return{c(){t=pe("span")},l(e){t=de(e,"SPAN",{}),De(t).forEach(y)},m(e,i){_(e,t,i)},p:re,i:re,o:re,d(e){e&&y(t)}}}function u9e(r){let t,e;const i=r[3].default,n=qt(i,r,r[4],null);return{c(){n&&n.c(),t=Se()},l(a){n&&n.l(a),t=Ee(a)},m(a,s){n&&n.m(a,s),_(a,t,s),e=!0},p(a,s){n&&n.p&&(!e||s&16)&&Ut(n,i,a,a[4],e?Wt(i,a[4],s,null):Ht(a[4]),null)},i(a){e||(R(n,a),e=!0)},o(a){M(n,a),e=!1},d(a){a&&y(t),n&&n.d(a)}}}function f9e(r){let t,e,i,n;const a=[l9e,o9e],s=[];function o(l,u){return l[1]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ht()},l(l){e.l(l),i=ht()},m(l,u){s[t].m(l,u),_(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(ai(),M(s[f],1,1,()=>{s[f]=null}),si(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),R(e,1),e.m(i.parentNode,i))},i(l){n||(R(e),n=!0)},o(l){M(e),n=!1},d(l){l&&y(i),s[t].d(l)}}}function c9e(r,t,e){let i,n;St(r,nn,l=>e(1,n=l));let{$$slots:a={},$$scope:s}=t;const o=()=>{e(0,i=!i)};return r.$$set=l=>{"$$scope"in l&&e(4,s=l.$$scope)},e(0,i=!1),[i,n,o,a,s]}class Kc extends $t{constructor(t){super(),_t(this,t,c9e,f9e,yt,{})}}function h9e(r){let t;const e=r[9].default,i=qt(e,r,r[11],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&2048)&&Ut(i,e,n,n[11],t?Wt(e,n[11],a,null):Ht(n[11]),null)},i(n){t||(R(i,n),t=!0)},o(n){M(i,n),t=!1},d(n){i&&i.d(n)}}}function T7(r){let t,e,i,n;return{c(){t=pe("div"),e=E("("),i=E(r[3]),n=E(")"),this.h()},l(a){t=de(a,"DIV",{style:!0});var s=De(t);e=k(s,"("),i=k(s,r[3]),n=k(s,")"),s.forEach(y),this.h()},h(){tt(t,"font-size","1.2rem"),tt(t,"margin-left","0.5rem")},m(a,s){_(a,t,s),le(t,e),le(t,i),le(t,n)},p(a,s){s&8&&Ca(i,a[3])},d(a){a&&y(t)}}}function O7(r){let t,e,i,n,a;return{c(){t=pe("a"),e=E("↩︎"),this.h()},l(s){t=de(s,"A",{style:!0,href:!0});var o=De(t);e=k(o,"↩︎"),o.forEach(y),this.h()},h(){tt(t,"float","right"),tt(t,"font-size","var(--standardFontSize)"),ce(t,"href",i="#"+r[4])},m(s,o){_(s,t,o),le(t,e),n||(a=xt(t,"click",r[10]),n=!0)},p(s,o){o&16&&i!==(i="#"+s[4])&&ce(t,"href",i)},d(s){s&&y(t),n=!1,a()}}}function m9e(r){let t,e,i,n,a,s,o,l;i=new G8({props:{options:r[6],fontSize:r[5]?parseFloat(r[2])*.8:r[2],refId:r[0],$$slots:{default:[h9e]},$$scope:{ctx:r}}});let u=r[3]!==""&&T7(r),f=!!r[4]&&O7(r);return{c(){t=pe("div"),e=pe("div"),F(i.$$.fragment),a=Se(),u&&u.c(),s=Se(),f&&f.c(),o=ht(),this.h()},l(h){t=de(h,"DIV",{style:!0});var c=De(t);e=de(c,"DIV",{style:!0,id:!0});var m=De(e);z(i.$$.fragment,m),m.forEach(y),a=Ee(c),u&&u.l(c),c.forEach(y),s=Ee(h),f&&f.l(h),o=ht(),this.h()},h(){ce(e,"style",n="flex-grow:1;"+(r[1]?"":"overflow-x:auto")),ce(e,"id",r[0]),tt(t,"display","flex"),tt(t,"align-items","center")},m(h,c){_(h,t,c),le(t,e),L(i,e,null),le(t,a),u&&u.m(t,null),_(h,s,c),f&&f.m(h,c),_(h,o,c),l=!0},p(h,[c]){const m={};c&36&&(m.fontSize=h[5]?parseFloat(h[2])*.8:h[2]),c&1&&(m.refId=h[0]),c&2048&&(m.$$scope={dirty:c,ctx:h}),i.$set(m),(!l||c&2&&n!==(n="flex-grow:1;"+(h[1]?"":"overflow-x:auto")))&&ce(e,"style",n),(!l||c&1)&&ce(e,"id",h[0]),h[3]!==""?u?u.p(h,c):(u=T7(h),u.c(),u.m(t,null)):u&&(u.d(1),u=null),h[4]?f?f.p(h,c):(f=O7(h),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},i(h){l||(R(i.$$.fragment,h),l=!0)},o(h){M(i.$$.fragment,h),l=!1},d(h){h&&(y(t),y(s),y(o)),j(i),u&&u.d(),f&&f.d(h)}}}function p9e(r,t,e){let i,n,a;St(r,eh,d=>e(8,n=d)),St(r,nn,d=>e(5,a=d));let{$$slots:s={},$$scope:o}=t,{refId:l=""}=t,{ignoreOverflow:u=!1}=t,{fontSize:f="1"}=t,{name:h=""}=t;const c={displayMode:!0,throwOnError:!1};let m="";l!==""&&(l=JI(eh,l,"eqn"),m=n.numbers[l],h!==""&&eh.update(d=>(d.names[l]=h,d)));const v=()=>{eh.update(d=>(delete d.returnIds[l],d))};return r.$$set=d=>{"refId"in d&&e(0,l=d.refId),"ignoreOverflow"in d&&e(1,u=d.ignoreOverflow),"fontSize"in d&&e(2,f=d.fontSize),"name"in d&&e(7,h=d.name),"$$scope"in d&&e(11,o=d.$$scope)},r.$$.update=()=>{r.$$.dirty&257&&e(4,i=n.returnIds[l])},[l,u,f,m,i,a,c,h,n,s,v,o]}class ni extends $t{constructor(t){super(),_t(this,t,p9e,m9e,yt,{refId:0,ignoreOverflow:1,fontSize:2,name:7})}}const d9e=r=>({}),A7=r=>({}),v9e=r=>({}),I7=r=>({}),g9e=r=>({}),C7=r=>({}),b9e=r=>({}),P7=r=>({});function D7(r){let t,e,i,n,a;return{c(){t=pe("a"),e=E("↩︎"),this.h()},l(s){t=de(s,"A",{href:!0,class:!0,title:!0});var o=De(t);e=k(o,"↩︎"),o.forEach(y),this.h()},h(){ce(t,"href",i="#"+(r[0]+":glossaryEntry")),ce(t,"class","glossaryLink svelte-1ylba2d"),ce(t,"title","Return to glossary")},m(s,o){_(s,t,o),le(t,e),n||(a=xt(t,"click",r[11]),n=!0)},p(s,o){o&1&&i!==(i="#"+(s[0]+":glossaryEntry"))&&ce(t,"href",i)},d(s){s&&y(t),n=!1,a()}}}function y9e(r){let t;const e=r[8].default,i=qt(e,r,r[13],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&8192)&&Ut(i,e,n,n[13],t?Wt(e,n[13],a,null):Ht(n[13]),null)},i(n){t||(R(i,n),t=!0)},o(n){M(i,n),t=!1},d(n){i&&i.d(n)}}}function $9e(r){let t;const e=r[8].glossaryDisp,i=qt(e,r,r[13],C7);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&8192)&&Ut(i,e,n,n[13],t?Wt(e,n[13],a,g9e):Ht(n[13]),C7)},i(n){t||(R(i,n),t=!0)},o(n){M(i,n),t=!1},d(n){i&&i.d(n)}}}function N7(r){let t,e,i;const n=r[8].context,a=qt(n,r,r[13],I7);return{c(){t=E(" ("),a&&a.c(),e=E(")")},l(s){t=k(s," ("),a&&a.l(s),e=k(s,")")},m(s,o){_(s,t,o),a&&a.m(s,o),_(s,e,o),i=!0},p(s,o){a&&a.p&&(!i||o&8192)&&Ut(a,n,s,s[13],i?Wt(n,s[13],o,v9e):Ht(s[13]),I7)},i(s){i||(R(a,s),i=!0)},o(s){M(a,s),i=!1},d(s){s&&(y(t),y(e)),a&&a.d(s)}}}function R7(r){let t;const e=r[8].definition,i=qt(e,r,r[13],A7);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&8192)&&Ut(i,e,n,n[13],t?Wt(e,n[13],a,d9e):Ht(n[13]),A7)},i(n){t||(R(i,n),t=!0)},o(n){M(i,n),t=!1},d(n){i&&i.d(n)}}}function _9e(r){let t,e,i,n,a,s,o,l,u,f,h,c;const m=[$9e,y9e],v=[];function d($,w){return $[6].glossaryDisp?0:1}n=d(r),a=v[n]=m[n](r);let b=r[6].context&&N7(r),g=r[6].definition&&R7(r);return{c(){t=pe("div"),e=pe("a"),i=pe("span"),a.c(),s=ht(),b&&b.c(),u=E(`:
            `),g&&g.c(),this.h()},l($){t=de($,"DIV",{style:!0});var w=De(t);e=de(w,"A",{class:!0,href:!0});var x=De(e);i=de(x,"SPAN",{id:!0});var A=De(i);a.l(A),s=ht(),b&&b.l(A),A.forEach(y),x.forEach(y),u=k(w,`:
            `),g&&g.l(w),w.forEach(y),this.h()},h(){ce(i,"id",o=r[0]+":glossaryDisp"),ce(e,"class",kn("inGlossary")+" svelte-1ylba2d"),ce(e,"href",l="#"+r[0]),tt(t,"margin-top","-0.5rem")},m($,w){_($,t,w),le(t,e),le(e,i),v[n].m(i,null),le(i,s),b&&b.m(i,null),le(t,u),g&&g.m(t,null),f=!0,h||(c=xt(e,"click",r[12]),h=!0)},p($,w){let x=n;n=d($),n===x?v[n].p($,w):(ai(),M(v[x],1,1,()=>{v[x]=null}),si(),a=v[n],a?a.p($,w):(a=v[n]=m[n]($),a.c()),R(a,1),a.m(i,s)),$[6].context?b?(b.p($,w),w&64&&R(b,1)):(b=N7($),b.c(),R(b,1),b.m(i,null)):b&&(ai(),M(b,1,1,()=>{b=null}),si()),(!f||w&1&&o!==(o=$[0]+":glossaryDisp"))&&ce(i,"id",o),(!f||w&1&&l!==(l="#"+$[0]))&&ce(e,"href",l),$[6].definition?g?(g.p($,w),w&64&&R(g,1)):(g=R7($),g.c(),R(g,1),g.m(t,null)):g&&(ai(),M(g,1,1,()=>{g=null}),si())},i($){f||(R(a),R(b),R(g),f=!0)},o($){M(a),M(b),M(g),f=!1},d($){$&&y(t),v[n].d(),b&&b.d(),g&&g.d(),h=!1,c()}}}function w9e(r){let t,e,i,n,a,s,o,l,u,f;const h=r[8].default,c=qt(h,r,r[13],null),m=r[8].glossaryDisp,v=qt(m,r,r[13],P7),d=r[8].default,b=qt(d,r,r[13],null);let g=r[3]&&D7(r);return l=new ct({props:{$$slots:{default:[_9e]},$$scope:{ctx:r}}}),{c(){t=pe("span"),c&&c.c(),e=Se(),i=pe("span"),v&&v.c(),n=Se(),a=pe("span"),b&&b.c(),g&&g.c(),s=Se(),o=pe("div"),F(l.$$.fragment),this.h()},l($){t=de($,"SPAN",{style:!0,class:!0});var w=De(t);c&&c.l(w),w.forEach(y),e=Ee($),i=de($,"SPAN",{style:!0});var x=De(i);v&&v.l(x),x.forEach(y),n=Ee($),a=de($,"SPAN",{id:!0,class:!0});var A=De(a);b&&b.l(A),g&&g.l(A),A.forEach(y),s=Ee($),o=de($,"DIV",{id:!0,class:!0,style:!0});var I=De(o);z(l.$$.fragment,I),I.forEach(y),this.h()},h(){tt(t,"display","none"),ce(t,"class","blinkingText svelte-1ylba2d"),tt(i,"display","none"),ce(a,"id",r[0]),ce(a,"class","inText svelte-1ylba2d"),ce(o,"id",u=r[0]+":glossaryEntry"),ce(o,"class","glossaryDisp svelte-1ylba2d"),tt(o,"display","none")},m($,w){_($,t,w),c&&c.m(t,null),r[9](t),_($,e,w),_($,i,w),v&&v.m(i,null),r[10](i),_($,n,w),_($,a,w),b&&b.m(a,null),g&&g.m(a,null),_($,s,w),_($,o,w),L(l,o,null),f=!0},p($,[w]){c&&c.p&&(!f||w&8192)&&Ut(c,h,$,$[13],f?Wt(h,$[13],w,null):Ht($[13]),null),v&&v.p&&(!f||w&8192)&&Ut(v,m,$,$[13],f?Wt(m,$[13],w,b9e):Ht($[13]),P7),b&&b.p&&(!f||w&8192)&&Ut(b,d,$,$[13],f?Wt(d,$[13],w,null):Ht($[13]),null),$[3]?g?g.p($,w):(g=D7($),g.c(),g.m(a,null)):g&&(g.d(1),g=null),(!f||w&1)&&ce(a,"id",$[0]);const x={};w&8265&&(x.$$scope={dirty:w,ctx:$}),l.$set(x),(!f||w&1&&u!==(u=$[0]+":glossaryEntry"))&&ce(o,"id",u)},i($){f||(R(c,$),R(v,$),R(b,$),R(l.$$.fragment,$),f=!0)},o($){M(c,$),M(v,$),M(b,$),M(l.$$.fragment,$),f=!1},d($){$&&(y(t),y(e),y(i),y(n),y(a),y(s),y(o)),c&&c.d($),r[9](null),v&&v.d($),r[10](null),b&&b.d($),g&&g.d(),j(l)}}}function x9e(r,t,e){let{$$slots:i={},$$scope:n}=t;const a=Z7(i);let{refId:s}=t,{plainText:o=""}=t;s="def:"+s;let l,u;Sm.update(g=>(g.plainText[s]=o,g));let f=!1;const h=()=>{const g=document.getElementById(s);g==null||g.classList.add("blinkingText")},c=()=>{const g=document.getElementById(s);g==null||g.classList.remove("blinkingText")};function m(g){xi[g?"unshift":"push"](()=>{l=g,e(1,l)})}function v(g){xi[g?"unshift":"push"](()=>{u=g,e(2,u)})}const d=()=>{e(3,f=!1),c()},b=()=>{e(3,f=!0),h(),setTimeout(()=>{e(3,f=!1),c()},3e5)};return r.$$set=g=>{"refId"in g&&e(0,s=g.refId),"plainText"in g&&e(7,o=g.plainText),"$$scope"in g&&e(13,n=g.$$scope)},r.$$.update=()=>{r.$$.dirty&135&&o===""&&(e(7,o=(u==null?void 0:u.innerText)||(l==null?void 0:l.innerText)||""),Sm.update(g=>(g.plainText[s]=o,g)))},[s,l,u,f,h,c,a,o,i,m,v,d,b,n]}class Kr extends $t{constructor(t){super(),_t(this,t,x9e,w9e,yt,{refId:0,plainText:7})}}function S9e(r){let t,e,i,n,a,s;const o=r[4].default,l=qt(o,r,r[3],null);return{c(){t=pe("div"),l&&l.c(),e=Se(),i=pe("a"),n=new Yn(!1),this.h()},l(u){t=de(u,"DIV",{style:!0});var f=De(t);l&&l.l(f),f.forEach(y),e=Ee(u),i=de(u,"A",{href:!0});var h=De(i);n=Jn(h,!1),h.forEach(y),this.h()},h(){tt(t,"display","none"),n.a=null,ce(i,"href",a="#def:"+r[1]+":InGlossary")},m(u,f){_(u,t,f),l&&l.m(t,null),r[5](t),_(u,e,f),_(u,i,f),n.m(r[0],i),s=!0},p(u,[f]){l&&l.p&&(!s||f&8)&&Ut(l,o,u,u[3],s?Wt(o,u[3],f,null):Ht(u[3]),null),(!s||f&1)&&n.p(u[0]),(!s||f&2&&a!==(a="#def:"+u[1]+":InGlossary"))&&ce(i,"href",a)},i(u){s||(R(l,u),s=!0)},o(u){M(l,u),s=!1},d(u){u&&(y(t),y(e),y(i)),l&&l.d(u),r[5](null)}}}function E9e(r,t,e){let{$$slots:i={},$$scope:n}=t,{refId:a}=t,{linkText:s="_unknown_"}=t,o;function l(u){xi[u?"unshift":"push"](()=>{o=u,e(2,o)})}return r.$$set=u=>{"refId"in u&&e(1,a=u.refId),"linkText"in u&&e(0,s=u.linkText),"$$scope"in u&&e(3,n=u.$$scope)},r.$$.update=()=>{r.$$.dirty&7&&Vo(()=>{if(s==="_unknown_"){const u=document.getElementById("def:"+a+":glossaryDisp");e(0,s=(o==null?void 0:o.innerHTML)||(u==null?void 0:u.innerHTML)||"_unknown_"),e(0,s=s.trim())}})},[s,a,o,n,i,l]}class ki extends $t{constructor(t){super(),_t(this,t,E9e,S9e,yt,{refId:1,linkText:0})}}function k9e(r){let t;return{c(){t=E("Graph theory")},l(e){t=k(e,"Graph theory")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function T9e(r){let t,e="Some basics from graph theory, which are useful for describing several common combinatorial optimization problems.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-117eoas"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function O9e(r){let t,e,i="Graph Theory",n,a,s,o;return a=new zi({props:{refId:"diestel2018"}}),{c(){t=E("Familiarity with graph theory will be useful for this course. You don't need to know too much though, really just the basic definitions should be enough to understand the material. For interested readers, Reinhard Diestel's "),e=pe("em"),e.textContent=i,n=Se(),F(a.$$.fragment),s=E(" is an excellent overview of the topic.")},l(l){t=k(l,"Familiarity with graph theory will be useful for this course. You don't need to know too much though, really just the basic definitions should be enough to understand the material. For interested readers, Reinhard Diestel's "),e=de(l,"EM",{"data-svelte-h":!0}),Xe(e)!=="svelte-1avczrj"&&(e.textContent=i),n=Ee(l),z(a.$$.fragment,l),s=k(l," is an excellent overview of the topic.")},m(l,u){_(l,t,u),_(l,e,u),_(l,n,u),L(a,l,u),_(l,s,u),o=!0},p:re,i(l){o||(R(a.$$.fragment,l),o=!0)},o(l){M(a.$$.fragment,l),o=!1},d(l){l&&(y(t),y(e),y(n),y(s)),j(a,l)}}}function A9e(r){let t;return{c(){t=E("Graph theory")},l(e){t=k(e,"Graph theory")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function I9e(r){let t;return{c(){t=E("graphs")},l(e){t=k(e,"graphs")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function C9e(r){let t,e,i,n,a;return i=new ki({props:{refId:"graph",$$slots:{default:[I9e]},$$scope:{ctx:r}}}),{c(){t=pe("span"),e=E("The branch of mathematics that studies "),F(i.$$.fragment),n=E("."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"The branch of mathematics that studies "),z(i.$$.fragment,o),n=k(o,"."),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p(s,o){const l={};o&128&&(l.$$scope={dirty:o,ctx:s}),i.$set(l)},i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function P9e(r){let t,e="graph theory";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-mn6otu"&&(t.textContent=e),this.h()},h(){ce(t,"slot","glossaryDisp")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function D9e(r){let t;return{c(){t=E("graph")},l(e){t=k(e,"graph")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function N9e(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function R9e(r){let t;return{c(){t=E("vertices")},l(e){t=k(e,"vertices")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function M9e(r){let t=String.raw`V`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function B9e(r){let t;return{c(){t=E("edges")},l(e){t=k(e,"edges")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function F9e(r){let t=String.raw`E`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function z9e(r){let t,e,i,n,a,s,o,l,u,f,h,c,m;return i=new $e({props:{$$slots:{default:[N9e]},$$scope:{ctx:r}}}),a=new ki({props:{refId:"vertex",$$slots:{default:[R9e]},$$scope:{ctx:r}}}),o=new $e({props:{$$slots:{default:[M9e]},$$scope:{ctx:r}}}),u=new ki({props:{refId:"edge",$$slots:{default:[B9e]},$$scope:{ctx:r}}}),h=new $e({props:{$$slots:{default:[F9e]},$$scope:{ctx:r}}}),{c(){t=pe("span"),e=E("A mathematical object "),F(i.$$.fragment),n=E(" consisting of a set of "),F(a.$$.fragment),s=Se(),F(o.$$.fragment),l=E(" and a set of "),F(u.$$.fragment),f=Se(),F(h.$$.fragment),c=E(". Typically the vertices represent some object of interest, and the edges represent some pairwise relationship between two vertices."),this.h()},l(v){t=de(v,"SPAN",{slot:!0});var d=De(t);e=k(d,"A mathematical object "),z(i.$$.fragment,d),n=k(d," consisting of a set of "),z(a.$$.fragment,d),s=Ee(d),z(o.$$.fragment,d),l=k(d," and a set of "),z(u.$$.fragment,d),f=Ee(d),z(h.$$.fragment,d),c=k(d,". Typically the vertices represent some object of interest, and the edges represent some pairwise relationship between two vertices."),d.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(v,d){_(v,t,d),le(t,e),L(i,t,null),le(t,n),L(a,t,null),le(t,s),L(o,t,null),le(t,l),L(u,t,null),le(t,f),L(h,t,null),le(t,c),m=!0},p(v,d){const b={};d&128&&(b.$$scope={dirty:d,ctx:v}),i.$set(b);const g={};d&128&&(g.$$scope={dirty:d,ctx:v}),a.$set(g);const $={};d&128&&($.$$scope={dirty:d,ctx:v}),o.$set($);const w={};d&128&&(w.$$scope={dirty:d,ctx:v}),u.$set(w);const x={};d&128&&(x.$$scope={dirty:d,ctx:v}),h.$set(x)},i(v){m||(R(i.$$.fragment,v),R(a.$$.fragment,v),R(o.$$.fragment,v),R(u.$$.fragment,v),R(h.$$.fragment,v),m=!0)},o(v){M(i.$$.fragment,v),M(a.$$.fragment,v),M(o.$$.fragment,v),M(u.$$.fragment,v),M(h.$$.fragment,v),m=!1},d(v){v&&y(t),j(i),j(a),j(o),j(u),j(h)}}}function L9e(r){let t=String.raw`V`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function j9e(r){let t=String.raw`E`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function q9e(r){let t;return{c(){t=E("vertices")},l(e){t=k(e,"vertices")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function U9e(r){let t,e,i,n,a;return i=new ki({props:{refId:"graph"}}),{c(){t=pe("span"),e=E("Along with the edge, one of two main components of a "),F(i.$$.fragment),n=E(". They're typically the base object of interest in a graph, and visually represented by a circle in a diagram."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"Along with the edge, one of two main components of a "),z(i.$$.fragment,o),n=k(o,". They're typically the base object of interest in a graph, and visually represented by a circle in a diagram."),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function H9e(r){let t,e="vertex";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-9hv9r1"&&(t.textContent=e),this.h()},h(){ce(t,"slot","glossaryDisp")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function W9e(r){let t;return{c(){t=E(`nodes
        
        
    `)},l(e){t=k(e,`nodes
        
        
    `)},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function V9e(r){let t,e,i,n,a;return i=new ki({props:{refId:"vertex"}}),{c(){t=pe("span"),e=E("See "),F(i.$$.fragment),n=E("."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"See "),z(i.$$.fragment,o),n=k(o,"."),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function G9e(r){let t,e="node";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-11jyezr"&&(t.textContent=e),this.h()},h(){ce(t,"slot","glossaryDisp")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function X9e(r){let t;return{c(){t=E("edges")},l(e){t=k(e,"edges")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function K9e(r){let t,e,i,n,a;return i=new ki({props:{refId:"graph"}}),{c(){t=pe("span"),e=E("Along with the vertex, one of two main components of a "),F(i.$$.fragment),n=E(". They typically represent relationships between vertices."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"Along with the vertex, one of two main components of a "),z(i.$$.fragment,o),n=k(o,". They typically represent relationships between vertices."),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function Y9e(r){let t,e="edge";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1nnu80q"&&(t.textContent=e),this.h()},h(){ce(t,"slot","glossaryDisp")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function J9e(r){let t;return{c(){t=E(`arcs
        
        
    `)},l(e){t=k(e,`arcs
        
        
    `)},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function Q9e(r){let t,e,i,n,a;return i=new ki({props:{refId:"edge"}}),{c(){t=pe("span"),e=E("See "),F(i.$$.fragment),n=E(`.
        `),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"See "),z(i.$$.fragment,o),n=k(o,`.
        `),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function Z9e(r){let t,e="arc";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-v8jvmj"&&(t.textContent=e),this.h()},h(){ce(t,"slot","glossaryDisp")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function eOe(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function tOe(r){let t=String.raw`V`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function rOe(r){let t=String.raw`E`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function iOe(r){let t=String.raw`V`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function nOe(r){let t=String.raw`E`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function aOe(r){let t=String.raw`(v{:underscore:}1,v{:underscore:}2)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function sOe(r){let t=String.raw`v{:underscore:}1, v{:underscore:}2\in V`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function oOe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D,S,O,H,B,V,K,Q,G;return t=new Kr({props:{refId:"graphTheory",$$slots:{glossaryDisp:[P9e],definition:[C9e],default:[A9e]},$$scope:{ctx:r}}}),i=new Kr({props:{refId:"graph",$$slots:{definition:[z9e],default:[D9e]},$$scope:{ctx:r}}}),a=new $e({props:{$$slots:{default:[L9e]},$$scope:{ctx:r}}}),o=new $e({props:{$$slots:{default:[j9e]},$$scope:{ctx:r}}}),u=new Kr({props:{refId:"vertex",$$slots:{glossaryDisp:[H9e],definition:[U9e],default:[q9e]},$$scope:{ctx:r}}}),h=new Kr({props:{refId:"node",$$slots:{glossaryDisp:[G9e],definition:[V9e],default:[W9e]},$$scope:{ctx:r}}}),m=new Kr({props:{refId:"edge",$$slots:{glossaryDisp:[Y9e],definition:[K9e],default:[X9e]},$$scope:{ctx:r}}}),d=new Kr({props:{refId:"arc",$$slots:{glossaryDisp:[Z9e],definition:[Q9e],default:[J9e]},$$scope:{ctx:r}}}),g=new $e({props:{$$slots:{default:[eOe]},$$scope:{ctx:r}}}),w=new $e({props:{$$slots:{default:[tOe]},$$scope:{ctx:r}}}),A=new $e({props:{$$slots:{default:[rOe]},$$scope:{ctx:r}}}),D=new $e({props:{$$slots:{default:[iOe]},$$scope:{ctx:r}}}),O=new $e({props:{$$slots:{default:[nOe]},$$scope:{ctx:r}}}),B=new $e({props:{$$slots:{default:[aOe]},$$scope:{ctx:r}}}),K=new $e({props:{$$slots:{default:[sOe]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment),e=E(" is a branch of mathematics that studies a certain type of object called a graph. A "),F(i.$$.fragment),n=E(" is composed of two sets "),F(a.$$.fragment),s=E(" and "),F(o.$$.fragment),l=E(" called the "),F(u.$$.fragment),f=E(" (also called "),F(h.$$.fragment),c=E(") and "),F(m.$$.fragment),v=E(" (also called "),F(d.$$.fragment),b=E("), respectively. Graphs are used to model relationships (denoted by the edges) between pairs of entities (represented by the vertices). More concretely, let a graph "),F(g.$$.fragment),$=E(" be defined by the pair of sets "),F(w.$$.fragment),x=E(" and "),F(A.$$.fragment),I=E(". "),F(D.$$.fragment),S=E(" is the set of vertices, and the elements of "),F(O.$$.fragment),H=E(" are pairs of vertices "),F(B.$$.fragment),V=E(", with "),F(K.$$.fragment),Q=E(".")},l(q){z(t.$$.fragment,q),e=k(q," is a branch of mathematics that studies a certain type of object called a graph. A "),z(i.$$.fragment,q),n=k(q," is composed of two sets "),z(a.$$.fragment,q),s=k(q," and "),z(o.$$.fragment,q),l=k(q," called the "),z(u.$$.fragment,q),f=k(q," (also called "),z(h.$$.fragment,q),c=k(q,") and "),z(m.$$.fragment,q),v=k(q," (also called "),z(d.$$.fragment,q),b=k(q,"), respectively. Graphs are used to model relationships (denoted by the edges) between pairs of entities (represented by the vertices). More concretely, let a graph "),z(g.$$.fragment,q),$=k(q," be defined by the pair of sets "),z(w.$$.fragment,q),x=k(q," and "),z(A.$$.fragment,q),I=k(q,". "),z(D.$$.fragment,q),S=k(q," is the set of vertices, and the elements of "),z(O.$$.fragment,q),H=k(q," are pairs of vertices "),z(B.$$.fragment,q),V=k(q,", with "),z(K.$$.fragment,q),Q=k(q,".")},m(q,W){L(t,q,W),_(q,e,W),L(i,q,W),_(q,n,W),L(a,q,W),_(q,s,W),L(o,q,W),_(q,l,W),L(u,q,W),_(q,f,W),L(h,q,W),_(q,c,W),L(m,q,W),_(q,v,W),L(d,q,W),_(q,b,W),L(g,q,W),_(q,$,W),L(w,q,W),_(q,x,W),L(A,q,W),_(q,I,W),L(D,q,W),_(q,S,W),L(O,q,W),_(q,H,W),L(B,q,W),_(q,V,W),L(K,q,W),_(q,Q,W),G=!0},p(q,W){const ne={};W&128&&(ne.$$scope={dirty:W,ctx:q}),t.$set(ne);const Z={};W&128&&(Z.$$scope={dirty:W,ctx:q}),i.$set(Z);const oe={};W&128&&(oe.$$scope={dirty:W,ctx:q}),a.$set(oe);const ie={};W&128&&(ie.$$scope={dirty:W,ctx:q}),o.$set(ie);const ae={};W&128&&(ae.$$scope={dirty:W,ctx:q}),u.$set(ae);const he={};W&128&&(he.$$scope={dirty:W,ctx:q}),h.$set(he);const Ce={};W&128&&(Ce.$$scope={dirty:W,ctx:q}),m.$set(Ce);const ke={};W&128&&(ke.$$scope={dirty:W,ctx:q}),d.$set(ke);const Te={};W&128&&(Te.$$scope={dirty:W,ctx:q}),g.$set(Te);const Ae={};W&128&&(Ae.$$scope={dirty:W,ctx:q}),w.$set(Ae);const Pe={};W&128&&(Pe.$$scope={dirty:W,ctx:q}),A.$set(Pe);const ye={};W&128&&(ye.$$scope={dirty:W,ctx:q}),D.$set(ye);const _e={};W&128&&(_e.$$scope={dirty:W,ctx:q}),O.$set(_e);const X={};W&128&&(X.$$scope={dirty:W,ctx:q}),B.$set(X);const fe={};W&128&&(fe.$$scope={dirty:W,ctx:q}),K.$set(fe)},i(q){G||(R(t.$$.fragment,q),R(i.$$.fragment,q),R(a.$$.fragment,q),R(o.$$.fragment,q),R(u.$$.fragment,q),R(h.$$.fragment,q),R(m.$$.fragment,q),R(d.$$.fragment,q),R(g.$$.fragment,q),R(w.$$.fragment,q),R(A.$$.fragment,q),R(D.$$.fragment,q),R(O.$$.fragment,q),R(B.$$.fragment,q),R(K.$$.fragment,q),G=!0)},o(q){M(t.$$.fragment,q),M(i.$$.fragment,q),M(a.$$.fragment,q),M(o.$$.fragment,q),M(u.$$.fragment,q),M(h.$$.fragment,q),M(m.$$.fragment,q),M(d.$$.fragment,q),M(g.$$.fragment,q),M(w.$$.fragment,q),M(A.$$.fragment,q),M(D.$$.fragment,q),M(O.$$.fragment,q),M(B.$$.fragment,q),M(K.$$.fragment,q),G=!1},d(q){q&&(y(e),y(n),y(s),y(l),y(f),y(c),y(v),y(b),y($),y(x),y(I),y(S),y(H),y(V),y(Q)),j(t,q),j(i,q),j(a,q),j(o,q),j(u,q),j(h,q),j(m,q),j(d,q),j(g,q),j(w,q),j(A,q),j(D,q),j(O,q),j(B,q),j(K,q)}}}function lOe(r){let t=String.raw`d{:underscore:}e`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function uOe(r){let t=String.raw`e\in E`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function fOe(r){let t,e,i,n,a,s;return e=new $e({props:{$$slots:{default:[lOe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[uOe]},$$scope:{ctx:r}}}),{c(){t=E("Initially, these definitions feel rather abstract. But in practice graphs often have very natural interpretations. Generally they are used to model relationships between entities, e.g. the nodes are people signed up for some social network, and an edge is drawn between two people if they are friends. Another common interpretation is as a road network, when the vertices are cities on a map, and an edge is drawn between two cities if it is possible to drive from one city to the other. In this case, there is often a distance "),F(e.$$.fragment),i=E(" associated with each "),F(n.$$.fragment),a=E(" that denotes the distance between two cities, and you are perhaps trying to find the shortest route that lets you get from one place to another.")},l(o){t=k(o,"Initially, these definitions feel rather abstract. But in practice graphs often have very natural interpretations. Generally they are used to model relationships between entities, e.g. the nodes are people signed up for some social network, and an edge is drawn between two people if they are friends. Another common interpretation is as a road network, when the vertices are cities on a map, and an edge is drawn between two cities if it is possible to drive from one city to the other. In this case, there is often a distance "),z(e.$$.fragment,o),i=k(o," associated with each "),z(n.$$.fragment,o),a=k(o," that denotes the distance between two cities, and you are perhaps trying to find the shortest route that lets you get from one place to another.")},m(o,l){_(o,t,l),L(e,o,l),_(o,i,l),L(n,o,l),_(o,a,l),s=!0},p(o,l){const u={};l&128&&(u.$$scope={dirty:l,ctx:o}),e.$set(u);const f={};l&128&&(f.$$scope={dirty:l,ctx:o}),n.$set(f)},i(o){s||(R(e.$$.fragment,o),R(n.$$.fragment,o),s=!0)},o(o){M(e.$$.fragment,o),M(n.$$.fragment,o),s=!1},d(o){o&&(y(t),y(i),y(a)),j(e,o),j(n,o)}}}function cOe(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function hOe(r){let t=String.raw`V=\{1,2,3,4,5\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function mOe(r){let t=String.raw`E=\{(1,2), (1,3), (2,3), (2,4), (2,5), (3,5), (4,5)\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function pOe(r){let t,e,i,n,a,s,o,l,u,f,h;return e=new Ia({props:{refId:"exampleGraph"}}),n=new Ia({props:{refId:"exampleGraph"}}),s=new $e({props:{$$slots:{default:[cOe]},$$scope:{ctx:r}}}),l=new ni({props:{$$slots:{default:[hOe]},$$scope:{ctx:r}}}),f=new ni({props:{$$slots:{default:[mOe]},$$scope:{ctx:r}}}),{c(){t=E("Graphs are typically represented visually as in "),F(e.$$.fragment),i=E(": Each vertex/node is represented as a circle in the diagram, while edges/arcs are denoted by lines between the circles. In the case of "),F(n.$$.fragment),a=E(", the graph being represented is the graph "),F(s.$$.fragment),o=E(` with vertices:
    `),F(l.$$.fragment),u=E(`
    and edges:
    `),F(f.$$.fragment)},l(c){t=k(c,"Graphs are typically represented visually as in "),z(e.$$.fragment,c),i=k(c,": Each vertex/node is represented as a circle in the diagram, while edges/arcs are denoted by lines between the circles. In the case of "),z(n.$$.fragment,c),a=k(c,", the graph being represented is the graph "),z(s.$$.fragment,c),o=k(c,` with vertices:
    `),z(l.$$.fragment,c),u=k(c,`
    and edges:
    `),z(f.$$.fragment,c)},m(c,m){_(c,t,m),L(e,c,m),_(c,i,m),L(n,c,m),_(c,a,m),L(s,c,m),_(c,o,m),L(l,c,m),_(c,u,m),L(f,c,m),h=!0},p(c,m){const v={};m&128&&(v.$$scope={dirty:m,ctx:c}),s.$set(v);const d={};m&128&&(d.$$scope={dirty:m,ctx:c}),l.$set(d);const b={};m&128&&(b.$$scope={dirty:m,ctx:c}),f.$set(b)},i(c){h||(R(e.$$.fragment,c),R(n.$$.fragment,c),R(s.$$.fragment,c),R(l.$$.fragment,c),R(f.$$.fragment,c),h=!0)},o(c){M(e.$$.fragment,c),M(n.$$.fragment,c),M(s.$$.fragment,c),M(l.$$.fragment,c),M(f.$$.fragment,c),h=!1},d(c){c&&(y(t),y(i),y(a),y(o),y(u)),j(e,c),j(n,c),j(s,c),j(l,c),j(f,c)}}}function dOe(r){let t,e;return t=new Wu({props:{nodes:r[0],edges:r[1]}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p:re,i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function vOe(r){let t,e="Visualization of a graph.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1yxrrm1"&&(t.textContent=e),this.h()},h(){ce(t,"slot","caption")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function gOe(r){let t;return{c(){t=E(`directed graphs
        
        
    `)},l(e){t=k(e,`directed graphs
        
        
    `)},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function bOe(r){let t=String.raw`v{:underscore:}1, v{:underscore:}2\in V`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function yOe(r){let t=String.raw`(v{:underscore:}1,v{:underscore:}2)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function $Oe(r){let t=String.raw`(v{:underscore:}2,v{:underscore:}1)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function _Oe(r){let t,e,i,n,a,s,o,l,u,f,h;return i=new ki({props:{refId:"graph"}}),a=new $e({props:{$$slots:{default:[bOe]},$$scope:{ctx:r}}}),o=new $e({props:{$$slots:{default:[yOe]},$$scope:{ctx:r}}}),u=new $e({props:{$$slots:{default:[$Oe]},$$scope:{ctx:r}}}),{c(){t=pe("span"),e=E("A "),F(i.$$.fragment),n=E(" whose edges are directed, so that for two vertices "),F(a.$$.fragment),s=E(" there is a difference between the edges "),F(o.$$.fragment),l=E(" and "),F(u.$$.fragment),f=E(`.
        `),this.h()},l(c){t=de(c,"SPAN",{slot:!0});var m=De(t);e=k(m,"A "),z(i.$$.fragment,m),n=k(m," whose edges are directed, so that for two vertices "),z(a.$$.fragment,m),s=k(m," there is a difference between the edges "),z(o.$$.fragment,m),l=k(m," and "),z(u.$$.fragment,m),f=k(m,`.
        `),m.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(c,m){_(c,t,m),le(t,e),L(i,t,null),le(t,n),L(a,t,null),le(t,s),L(o,t,null),le(t,l),L(u,t,null),le(t,f),h=!0},p(c,m){const v={};m&128&&(v.$$scope={dirty:m,ctx:c}),a.$set(v);const d={};m&128&&(d.$$scope={dirty:m,ctx:c}),o.$set(d);const b={};m&128&&(b.$$scope={dirty:m,ctx:c}),u.$set(b)},i(c){h||(R(i.$$.fragment,c),R(a.$$.fragment,c),R(o.$$.fragment,c),R(u.$$.fragment,c),h=!0)},o(c){M(i.$$.fragment,c),M(a.$$.fragment,c),M(o.$$.fragment,c),M(u.$$.fragment,c),h=!1},d(c){c&&y(t),j(i),j(a),j(o),j(u)}}}function wOe(r){let t,e="directed graph";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-refhwn"&&(t.textContent=e),this.h()},h(){ce(t,"slot","glossaryDisp")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function xOe(r){let t;return{c(){t=E("digraphs")},l(e){t=k(e,"digraphs")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function SOe(r){let t,e,i,n,a;return i=new ki({props:{refId:"directedGraph"}}),{c(){t=pe("span"),e=E("See "),F(i.$$.fragment),n=E("."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"See "),z(i.$$.fragment,o),n=k(o,"."),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function EOe(r){let t,e="digraph";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-7eo76g"&&(t.textContent=e),this.h()},h(){ce(t,"slot","glossaryDisp")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function kOe(r){let t=String.raw`(v{:underscore:}1,v{:underscore:}2)\in E`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function TOe(r){let t=String.raw`v{:underscore:}1`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function OOe(r){let t=String.raw`v{:underscore:}2`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function AOe(r){let t=String.raw`(4,5)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function IOe(r){let t=String.raw`(5,4)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function COe(r){let t,e,i,n,a,s,o,l,u="from",f,h,c,m,v="to",d,b,g,$,w,x,A,I,D,S;return e=new Kr({props:{refId:"directedGraph",$$slots:{glossaryDisp:[wOe],definition:[_Oe],default:[gOe]},$$scope:{ctx:r}}}),n=new Kr({props:{refId:"digraph",$$slots:{glossaryDisp:[EOe],definition:[SOe],default:[xOe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[kOe]},$$scope:{ctx:r}}}),h=new $e({props:{$$slots:{default:[TOe]},$$scope:{ctx:r}}}),b=new $e({props:{$$slots:{default:[OOe]},$$scope:{ctx:r}}}),$=new Ia({props:{refId:"exampleDirectedGraph"}}),x=new $e({props:{$$slots:{default:[AOe]},$$scope:{ctx:r}}}),I=new $e({props:{$$slots:{default:[IOe]},$$scope:{ctx:r}}}),{c(){t=E(`Sometimes it makes sense for the edges to be directional. For example, we might want to represent a road network with some one-way streets. Or perhaps we'd like to model teams from a sports league that have played each other, with the edges drawn "from" the winning team "to" the losing team. Such a graph with directed edges are called `),F(e.$$.fragment),i=E(", or "),F(n.$$.fragment),a=E(" for short. In these cases, the ordering of the vertices in each edge "),F(s.$$.fragment),o=E(" matters, and we'd say that the edge goes "),l=pe("em"),l.textContent=u,f=Se(),F(h.$$.fragment),c=Se(),m=pe("em"),m.textContent=v,d=Se(),F(b.$$.fragment),g=E(". "),F($.$$.fragment),w=E(" shows an example visualization of a directed graph. Note that it is entirely possible for digraph edges to exist in both directions between a pair of vertices, as we see with both "),F(x.$$.fragment),A=E(" and "),F(I.$$.fragment),D=E(" existing in the figure.")},l(O){t=k(O,`Sometimes it makes sense for the edges to be directional. For example, we might want to represent a road network with some one-way streets. Or perhaps we'd like to model teams from a sports league that have played each other, with the edges drawn "from" the winning team "to" the losing team. Such a graph with directed edges are called `),z(e.$$.fragment,O),i=k(O,", or "),z(n.$$.fragment,O),a=k(O," for short. In these cases, the ordering of the vertices in each edge "),z(s.$$.fragment,O),o=k(O," matters, and we'd say that the edge goes "),l=de(O,"EM",{"data-svelte-h":!0}),Xe(l)!=="svelte-yvfinu"&&(l.textContent=u),f=Ee(O),z(h.$$.fragment,O),c=Ee(O),m=de(O,"EM",{"data-svelte-h":!0}),Xe(m)!=="svelte-1wkmrfv"&&(m.textContent=v),d=Ee(O),z(b.$$.fragment,O),g=k(O,". "),z($.$$.fragment,O),w=k(O," shows an example visualization of a directed graph. Note that it is entirely possible for digraph edges to exist in both directions between a pair of vertices, as we see with both "),z(x.$$.fragment,O),A=k(O," and "),z(I.$$.fragment,O),D=k(O," existing in the figure.")},m(O,H){_(O,t,H),L(e,O,H),_(O,i,H),L(n,O,H),_(O,a,H),L(s,O,H),_(O,o,H),_(O,l,H),_(O,f,H),L(h,O,H),_(O,c,H),_(O,m,H),_(O,d,H),L(b,O,H),_(O,g,H),L($,O,H),_(O,w,H),L(x,O,H),_(O,A,H),L(I,O,H),_(O,D,H),S=!0},p(O,H){const B={};H&128&&(B.$$scope={dirty:H,ctx:O}),e.$set(B);const V={};H&128&&(V.$$scope={dirty:H,ctx:O}),n.$set(V);const K={};H&128&&(K.$$scope={dirty:H,ctx:O}),s.$set(K);const Q={};H&128&&(Q.$$scope={dirty:H,ctx:O}),h.$set(Q);const G={};H&128&&(G.$$scope={dirty:H,ctx:O}),b.$set(G);const q={};H&128&&(q.$$scope={dirty:H,ctx:O}),x.$set(q);const W={};H&128&&(W.$$scope={dirty:H,ctx:O}),I.$set(W)},i(O){S||(R(e.$$.fragment,O),R(n.$$.fragment,O),R(s.$$.fragment,O),R(h.$$.fragment,O),R(b.$$.fragment,O),R($.$$.fragment,O),R(x.$$.fragment,O),R(I.$$.fragment,O),S=!0)},o(O){M(e.$$.fragment,O),M(n.$$.fragment,O),M(s.$$.fragment,O),M(h.$$.fragment,O),M(b.$$.fragment,O),M($.$$.fragment,O),M(x.$$.fragment,O),M(I.$$.fragment,O),S=!1},d(O){O&&(y(t),y(i),y(a),y(o),y(l),y(f),y(c),y(m),y(d),y(g),y(w),y(A),y(D)),j(e,O),j(n,O),j(s,O),j(h,O),j(b,O),j($,O),j(x,O),j(I,O)}}}function POe(r){let t,e;return t=new Wu({props:{nodes:r[0],edges:r[2],directed:!0}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p:re,i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function DOe(r){let t,e="Visualization of a directed graph.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-c459dl"&&(t.textContent=e),this.h()},h(){ce(t,"slot","caption")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function NOe(r){let t=String.raw`D=(V,A)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function ROe(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function MOe(r){let t=String.raw`D`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function BOe(r){let t=String.raw`G`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function FOe(r){let t=String.raw`A`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function zOe(r){let t=String.raw`E`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function LOe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b;return e=new $e({props:{$$slots:{default:[NOe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[ROe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[MOe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[BOe]},$$scope:{ctx:r}}}),f=new $e({props:{$$slots:{default:[FOe]},$$scope:{ctx:r}}}),c=new $e({props:{$$slots:{default:[zOe]},$$scope:{ctx:r}}}),v=new zi({props:{refId:"wolsey2020"}}),{c(){t=E("In the context of digraphs, it is sometimes customary to denote the graph by "),F(e.$$.fragment),i=E(" instead of "),F(n.$$.fragment),a=E(", using "),F(s.$$.fragment),o=E(" (for digraph) in place of "),F(l.$$.fragment),u=E(" for the graph and "),F(f.$$.fragment),h=E(" (for arc) in place of "),F(c.$$.fragment),m=E(" for the edge set. Indeed, this is the convention Wolsey takes in "),F(v.$$.fragment),d=E(" and so we will try to follow that practice here.")},l(g){t=k(g,"In the context of digraphs, it is sometimes customary to denote the graph by "),z(e.$$.fragment,g),i=k(g," instead of "),z(n.$$.fragment,g),a=k(g,", using "),z(s.$$.fragment,g),o=k(g," (for digraph) in place of "),z(l.$$.fragment,g),u=k(g," for the graph and "),z(f.$$.fragment,g),h=k(g," (for arc) in place of "),z(c.$$.fragment,g),m=k(g," for the edge set. Indeed, this is the convention Wolsey takes in "),z(v.$$.fragment,g),d=k(g," and so we will try to follow that practice here.")},m(g,$){_(g,t,$),L(e,g,$),_(g,i,$),L(n,g,$),_(g,a,$),L(s,g,$),_(g,o,$),L(l,g,$),_(g,u,$),L(f,g,$),_(g,h,$),L(c,g,$),_(g,m,$),L(v,g,$),_(g,d,$),b=!0},p(g,$){const w={};$&128&&(w.$$scope={dirty:$,ctx:g}),e.$set(w);const x={};$&128&&(x.$$scope={dirty:$,ctx:g}),n.$set(x);const A={};$&128&&(A.$$scope={dirty:$,ctx:g}),s.$set(A);const I={};$&128&&(I.$$scope={dirty:$,ctx:g}),l.$set(I);const D={};$&128&&(D.$$scope={dirty:$,ctx:g}),f.$set(D);const S={};$&128&&(S.$$scope={dirty:$,ctx:g}),c.$set(S)},i(g){b||(R(e.$$.fragment,g),R(n.$$.fragment,g),R(s.$$.fragment,g),R(l.$$.fragment,g),R(f.$$.fragment,g),R(c.$$.fragment,g),R(v.$$.fragment,g),b=!0)},o(g){M(e.$$.fragment,g),M(n.$$.fragment,g),M(s.$$.fragment,g),M(l.$$.fragment,g),M(f.$$.fragment,g),M(c.$$.fragment,g),M(v.$$.fragment,g),b=!1},d(g){g&&(y(t),y(i),y(a),y(o),y(u),y(h),y(m),y(d)),j(e,g),j(n,g),j(s,g),j(l,g),j(f,g),j(c,g),j(v,g)}}}function jOe(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function qOe(r){let t;return{c(){t=E("bipartite")},l(e){t=k(e,"bipartite")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function UOe(r){let t=String.raw`G=(V,E)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function HOe(r){let t=String.raw`V`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function WOe(r){let t=String.raw`V{:underscore:}1`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function VOe(r){let t=String.raw`V{:underscore:}2`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function GOe(r){let t=String.raw`E`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function XOe(r){let t=String.raw`V{:underscore:}1`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function KOe(r){let t=String.raw`V{:underscore:}2`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function YOe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w;return i=new $e({props:{$$slots:{default:[UOe]},$$scope:{ctx:r}}}),a=new $e({props:{$$slots:{default:[HOe]},$$scope:{ctx:r}}}),o=new $e({props:{$$slots:{default:[WOe]},$$scope:{ctx:r}}}),u=new $e({props:{$$slots:{default:[VOe]},$$scope:{ctx:r}}}),h=new $e({props:{$$slots:{default:[GOe]},$$scope:{ctx:r}}}),m=new $e({props:{$$slots:{default:[XOe]},$$scope:{ctx:r}}}),d=new $e({props:{$$slots:{default:[KOe]},$$scope:{ctx:r}}}),g=new Ia({props:{refId:"exampleBipartiteGraph"}}),{c(){t=pe("span"),e=E("A graph "),F(i.$$.fragment),n=E(" where the vertex set "),F(a.$$.fragment),s=E(" can be divided into two sets "),F(o.$$.fragment),l=E(" and "),F(u.$$.fragment),f=E(" such that every edge in "),F(h.$$.fragment),c=E(" connects a vertex in "),F(m.$$.fragment),v=E(" to a vertex in "),F(d.$$.fragment),b=E(" (as in "),F(g.$$.fragment),$=E(")."),this.h()},l(x){t=de(x,"SPAN",{slot:!0});var A=De(t);e=k(A,"A graph "),z(i.$$.fragment,A),n=k(A," where the vertex set "),z(a.$$.fragment,A),s=k(A," can be divided into two sets "),z(o.$$.fragment,A),l=k(A," and "),z(u.$$.fragment,A),f=k(A," such that every edge in "),z(h.$$.fragment,A),c=k(A," connects a vertex in "),z(m.$$.fragment,A),v=k(A," to a vertex in "),z(d.$$.fragment,A),b=k(A," (as in "),z(g.$$.fragment,A),$=k(A,")."),A.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(x,A){_(x,t,A),le(t,e),L(i,t,null),le(t,n),L(a,t,null),le(t,s),L(o,t,null),le(t,l),L(u,t,null),le(t,f),L(h,t,null),le(t,c),L(m,t,null),le(t,v),L(d,t,null),le(t,b),L(g,t,null),le(t,$),w=!0},p(x,A){const I={};A&128&&(I.$$scope={dirty:A,ctx:x}),i.$set(I);const D={};A&128&&(D.$$scope={dirty:A,ctx:x}),a.$set(D);const S={};A&128&&(S.$$scope={dirty:A,ctx:x}),o.$set(S);const O={};A&128&&(O.$$scope={dirty:A,ctx:x}),u.$set(O);const H={};A&128&&(H.$$scope={dirty:A,ctx:x}),h.$set(H);const B={};A&128&&(B.$$scope={dirty:A,ctx:x}),m.$set(B);const V={};A&128&&(V.$$scope={dirty:A,ctx:x}),d.$set(V)},i(x){w||(R(i.$$.fragment,x),R(a.$$.fragment,x),R(o.$$.fragment,x),R(u.$$.fragment,x),R(h.$$.fragment,x),R(m.$$.fragment,x),R(d.$$.fragment,x),R(g.$$.fragment,x),w=!0)},o(x){M(i.$$.fragment,x),M(a.$$.fragment,x),M(o.$$.fragment,x),M(u.$$.fragment,x),M(h.$$.fragment,x),M(m.$$.fragment,x),M(d.$$.fragment,x),M(g.$$.fragment,x),w=!1},d(x){x&&y(t),j(i),j(a),j(o),j(u),j(h),j(m),j(d),j(g)}}}function JOe(r){let t,e="bipartite graph";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1fsudt7"&&(t.textContent=e),this.h()},h(){ce(t,"slot","glossaryDisp")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function QOe(r){let t=String.raw`V`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function ZOe(r){let t=String.raw`V{:underscore:}1`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function eAe(r){let t=String.raw`V{:underscore:}2`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function tAe(r){let t=String.raw`E`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function rAe(r){let t=String.raw`V{:underscore:}1`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function iAe(r){let t=String.raw`V{:underscore:}2`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function nAe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x;return e=new $e({props:{$$slots:{default:[jOe]},$$scope:{ctx:r}}}),n=new Kr({props:{refId:"bipartite",$$slots:{glossaryDisp:[JOe],definition:[YOe],default:[qOe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[QOe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[ZOe]},$$scope:{ctx:r}}}),f=new $e({props:{$$slots:{default:[eAe]},$$scope:{ctx:r}}}),c=new $e({props:{$$slots:{default:[tAe]},$$scope:{ctx:r}}}),v=new $e({props:{$$slots:{default:[rAe]},$$scope:{ctx:r}}}),b=new $e({props:{$$slots:{default:[iAe]},$$scope:{ctx:r}}}),$=new Ia({props:{refId:"exampleBipartiteGraph"}}),{c(){t=E("A graph "),F(e.$$.fragment),i=E(" is called "),F(n.$$.fragment),a=E(" if its vertex set "),F(s.$$.fragment),o=E(" can be divided into two sets "),F(l.$$.fragment),u=E(" and "),F(f.$$.fragment),h=E(" such that every edge in "),F(c.$$.fragment),m=E(" connects a vertex in "),F(v.$$.fragment),d=E(" to a vertex in "),F(b.$$.fragment),g=E(". An example of such a graph is shown in "),F($.$$.fragment),w=E(".")},l(A){t=k(A,"A graph "),z(e.$$.fragment,A),i=k(A," is called "),z(n.$$.fragment,A),a=k(A," if its vertex set "),z(s.$$.fragment,A),o=k(A," can be divided into two sets "),z(l.$$.fragment,A),u=k(A," and "),z(f.$$.fragment,A),h=k(A," such that every edge in "),z(c.$$.fragment,A),m=k(A," connects a vertex in "),z(v.$$.fragment,A),d=k(A," to a vertex in "),z(b.$$.fragment,A),g=k(A,". An example of such a graph is shown in "),z($.$$.fragment,A),w=k(A,".")},m(A,I){_(A,t,I),L(e,A,I),_(A,i,I),L(n,A,I),_(A,a,I),L(s,A,I),_(A,o,I),L(l,A,I),_(A,u,I),L(f,A,I),_(A,h,I),L(c,A,I),_(A,m,I),L(v,A,I),_(A,d,I),L(b,A,I),_(A,g,I),L($,A,I),_(A,w,I),x=!0},p(A,I){const D={};I&128&&(D.$$scope={dirty:I,ctx:A}),e.$set(D);const S={};I&128&&(S.$$scope={dirty:I,ctx:A}),n.$set(S);const O={};I&128&&(O.$$scope={dirty:I,ctx:A}),s.$set(O);const H={};I&128&&(H.$$scope={dirty:I,ctx:A}),l.$set(H);const B={};I&128&&(B.$$scope={dirty:I,ctx:A}),f.$set(B);const V={};I&128&&(V.$$scope={dirty:I,ctx:A}),c.$set(V);const K={};I&128&&(K.$$scope={dirty:I,ctx:A}),v.$set(K);const Q={};I&128&&(Q.$$scope={dirty:I,ctx:A}),b.$set(Q)},i(A){x||(R(e.$$.fragment,A),R(n.$$.fragment,A),R(s.$$.fragment,A),R(l.$$.fragment,A),R(f.$$.fragment,A),R(c.$$.fragment,A),R(v.$$.fragment,A),R(b.$$.fragment,A),R($.$$.fragment,A),x=!0)},o(A){M(e.$$.fragment,A),M(n.$$.fragment,A),M(s.$$.fragment,A),M(l.$$.fragment,A),M(f.$$.fragment,A),M(c.$$.fragment,A),M(v.$$.fragment,A),M(b.$$.fragment,A),M($.$$.fragment,A),x=!1},d(A){A&&(y(t),y(i),y(a),y(o),y(u),y(h),y(m),y(d),y(g),y(w)),j(e,A),j(n,A),j(s,A),j(l,A),j(f,A),j(c,A),j(v,A),j(b,A),j($,A)}}}function aAe(r){let t,e;return t=new Wu({props:{nodes:r[5],edges:r[6],width:300}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p:re,i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function sAe(r){let t=String.raw`V{:underscore:}1=\{1,2,3\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function oAe(r){let t=String.raw`V{:underscore:}2=\{4,5,6,7\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function lAe(r){let t,e,i,n,a,s;return i=new $e({props:{$$slots:{default:[sAe]},$$scope:{ctx:r}}}),a=new $e({props:{$$slots:{default:[oAe]},$$scope:{ctx:r}}}),{c(){t=pe("span"),e=E("Visualization of a bipartite graph, with "),F(i.$$.fragment),n=E(" and "),F(a.$$.fragment),this.h()},l(o){t=de(o,"SPAN",{slot:!0});var l=De(t);e=k(l,"Visualization of a bipartite graph, with "),z(i.$$.fragment,l),n=k(l," and "),z(a.$$.fragment,l),l.forEach(y),this.h()},h(){ce(t,"slot","caption")},m(o,l){_(o,t,l),le(t,e),L(i,t,null),le(t,n),L(a,t,null),s=!0},p(o,l){const u={};l&128&&(u.$$scope={dirty:l,ctx:o}),i.$set(u);const f={};l&128&&(f.$$scope={dirty:l,ctx:o}),a.$set(f)},i(o){s||(R(i.$$.fragment,o),R(a.$$.fragment,o),s=!0)},o(o){M(i.$$.fragment,o),M(a.$$.fragment,o),s=!1},d(o){o&&y(t),j(i),j(a)}}}function uAe(r){let t=String.raw`G`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function fAe(r){let t;return{c(){t=E("walk")},l(e){t=k(e,"walk")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function cAe(r){let t,e='In graph theory, a sequence of edges which joins a sequence of vertices, such that it denotes a way to "walk" from vertex to vertex using the edges of the graph.';return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1tpp3ue"&&(t.textContent=e),this.h()},h(){ce(t,"slot","definition")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function hAe(r){let t=String.raw`
        W=((1, 2), (2, 5), (4, 5), (2, 4), (2, 3))
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function mAe(r){let t=String.raw`
        1\rightarrow 2\rightarrow 5\rightarrow 4\rightarrow 2\rightarrow 3
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function pAe(r){let t,e,i,n,a,s,o,l,u,f,h;return e=new $e({props:{$$slots:{default:[uAe]},$$scope:{ctx:r}}}),n=new Kr({props:{refId:"walk",$$slots:{definition:[cAe],default:[fAe]},$$scope:{ctx:r}}}),s=new ni({props:{$$slots:{default:[hAe]},$$scope:{ctx:r}}}),l=new Ia({props:{refId:"exampleGraph"}}),f=new ni({props:{$$slots:{default:[mAe]},$$scope:{ctx:r}}}),{c(){t=E("On a given graph "),F(e.$$.fragment),i=E(", a "),F(n.$$.fragment),a=E(` is a sequence of edges which joins a sequence of vertices, such that it denotes a way to "walk" from vertex to vertex using the edges of the graph. So
    `),F(s.$$.fragment),o=E(`
    is a walk in the graph shown in `),F(l.$$.fragment),u=E(`, which represents traveling the sequence of vertices:
    `),F(f.$$.fragment)},l(c){t=k(c,"On a given graph "),z(e.$$.fragment,c),i=k(c,", a "),z(n.$$.fragment,c),a=k(c,` is a sequence of edges which joins a sequence of vertices, such that it denotes a way to "walk" from vertex to vertex using the edges of the graph. So
    `),z(s.$$.fragment,c),o=k(c,`
    is a walk in the graph shown in `),z(l.$$.fragment,c),u=k(c,`, which represents traveling the sequence of vertices:
    `),z(f.$$.fragment,c)},m(c,m){_(c,t,m),L(e,c,m),_(c,i,m),L(n,c,m),_(c,a,m),L(s,c,m),_(c,o,m),L(l,c,m),_(c,u,m),L(f,c,m),h=!0},p(c,m){const v={};m&128&&(v.$$scope={dirty:m,ctx:c}),e.$set(v);const d={};m&128&&(d.$$scope={dirty:m,ctx:c}),n.$set(d);const b={};m&128&&(b.$$scope={dirty:m,ctx:c}),s.$set(b);const g={};m&128&&(g.$$scope={dirty:m,ctx:c}),f.$set(g)},i(c){h||(R(e.$$.fragment,c),R(n.$$.fragment,c),R(s.$$.fragment,c),R(l.$$.fragment,c),R(f.$$.fragment,c),h=!0)},o(c){M(e.$$.fragment,c),M(n.$$.fragment,c),M(s.$$.fragment,c),M(l.$$.fragment,c),M(f.$$.fragment,c),h=!1},d(c){c&&(y(t),y(i),y(a),y(o),y(u)),j(e,c),j(n,c),j(s,c),j(l,c),j(f,c)}}}function dAe(r){let t;return{c(){t=E(`trail
        
    `)},l(e){t=k(e,`trail
        
    `)},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function vAe(r){let t,e,i,n,a;return i=new ki({props:{refId:"walk"}}),{c(){t=pe("span"),e=E("A "),F(i.$$.fragment),n=E(` in which all the edges are distinct.
        `),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"A "),z(i.$$.fragment,o),n=k(o,` in which all the edges are distinct.
        `),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function gAe(r){let t=String.raw`W`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function bAe(r){let t;return{c(){t=E("path")},l(e){t=k(e,"path")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function yAe(r){let t,e,i,n,a;return i=new ki({props:{refId:"walk"}}),{c(){t=pe("span"),e=E("A "),F(i.$$.fragment),n=E(" in which all the vertices are distinct."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"A "),z(i.$$.fragment,o),n=k(o," in which all the vertices are distinct."),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function $Ae(r){let t=String.raw`W`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function _Ae(r){let t=String.raw`2`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function wAe(r){let t=String.raw`
        P=((1, 2), (2, 5), (4, 5))
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function xAe(r){let t,e,i,n,a,s,o,l,u,f,h="not",c,m,v,d,b,g,$="is",w,x,A,I;return e=new Kr({props:{refId:"trail",$$slots:{definition:[vAe],default:[dAe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[gAe]},$$scope:{ctx:r}}}),s=new Kr({props:{refId:"path",$$slots:{definition:[yAe],default:[bAe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[$Ae]},$$scope:{ctx:r}}}),m=new $e({props:{$$slots:{default:[_Ae]},$$scope:{ctx:r}}}),d=new ni({props:{$$slots:{default:[wAe]},$$scope:{ctx:r}}}),x=new Ia({props:{refId:"examplePath"}}),{c(){t=E("A very similar notion is that of a "),F(e.$$.fragment),i=E(", which is a walk in which all the edges are distinct. Note that the walk "),F(n.$$.fragment),a=E(" from the previous paragraph is also a trail, since it does not repeat any edges. Meanwhile, a walk is called a "),F(s.$$.fragment),o=E(" if all its vertices (and, therefore also it edges) are distinct. So "),F(l.$$.fragment),u=E(" is "),f=pe("em"),f.textContent=h,c=E(" a path, since it travels to vertex "),F(m.$$.fragment),v=E(` twice. But something like
    `),F(d.$$.fragment),b=Se(),g=pe("em"),g.textContent=$,w=E(" a path, which we can visualize as in "),F(x.$$.fragment),A=E(".")},l(D){t=k(D,"A very similar notion is that of a "),z(e.$$.fragment,D),i=k(D,", which is a walk in which all the edges are distinct. Note that the walk "),z(n.$$.fragment,D),a=k(D," from the previous paragraph is also a trail, since it does not repeat any edges. Meanwhile, a walk is called a "),z(s.$$.fragment,D),o=k(D," if all its vertices (and, therefore also it edges) are distinct. So "),z(l.$$.fragment,D),u=k(D," is "),f=de(D,"EM",{"data-svelte-h":!0}),Xe(f)!=="svelte-r5iszh"&&(f.textContent=h),c=k(D," a path, since it travels to vertex "),z(m.$$.fragment,D),v=k(D,` twice. But something like
    `),z(d.$$.fragment,D),b=Ee(D),g=de(D,"EM",{"data-svelte-h":!0}),Xe(g)!=="svelte-1yh91nu"&&(g.textContent=$),w=k(D," a path, which we can visualize as in "),z(x.$$.fragment,D),A=k(D,".")},m(D,S){_(D,t,S),L(e,D,S),_(D,i,S),L(n,D,S),_(D,a,S),L(s,D,S),_(D,o,S),L(l,D,S),_(D,u,S),_(D,f,S),_(D,c,S),L(m,D,S),_(D,v,S),L(d,D,S),_(D,b,S),_(D,g,S),_(D,w,S),L(x,D,S),_(D,A,S),I=!0},p(D,S){const O={};S&128&&(O.$$scope={dirty:S,ctx:D}),e.$set(O);const H={};S&128&&(H.$$scope={dirty:S,ctx:D}),n.$set(H);const B={};S&128&&(B.$$scope={dirty:S,ctx:D}),s.$set(B);const V={};S&128&&(V.$$scope={dirty:S,ctx:D}),l.$set(V);const K={};S&128&&(K.$$scope={dirty:S,ctx:D}),m.$set(K);const Q={};S&128&&(Q.$$scope={dirty:S,ctx:D}),d.$set(Q)},i(D){I||(R(e.$$.fragment,D),R(n.$$.fragment,D),R(s.$$.fragment,D),R(l.$$.fragment,D),R(m.$$.fragment,D),R(d.$$.fragment,D),R(x.$$.fragment,D),I=!0)},o(D){M(e.$$.fragment,D),M(n.$$.fragment,D),M(s.$$.fragment,D),M(l.$$.fragment,D),M(m.$$.fragment,D),M(d.$$.fragment,D),M(x.$$.fragment,D),I=!1},d(D){D&&(y(t),y(i),y(a),y(o),y(u),y(f),y(c),y(v),y(b),y(g),y(w),y(A)),j(e,D),j(n,D),j(s,D),j(l,D),j(m,D),j(d,D),j(x,D)}}}function SAe(r){let t,e;return t=new Wu({props:{nodes:r[0],edges:r[1],boldEdges:r[3]}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p:re,i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function EAe(r){let t=String.raw`P=((1, 2), (2, 5), (4, 5))`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function kAe(r){let t,e,i,n,a;return i=new $e({props:{$$slots:{default:[EAe]},$$scope:{ctx:r}}}),{c(){t=pe("span"),e=E("Visualization of a path "),F(i.$$.fragment),n=E("."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"Visualization of a path "),z(i.$$.fragment,o),n=k(o,"."),o.forEach(y),this.h()},h(){ce(t,"slot","caption")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p(s,o){const l={};o&128&&(l.$$scope={dirty:o,ctx:s}),i.$set(l)},i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function TAe(r){let t;return{c(){t=E("circuit")},l(e){t=k(e,"circuit")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function OAe(r){let t,e,i,n,a;return i=new ki({props:{refId:"trail"}}),{c(){t=pe("span"),e=E("A "),F(i.$$.fragment),n=E(" that starts and ends at the same vertex."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"A "),z(i.$$.fragment,o),n=k(o," that starts and ends at the same vertex."),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function AAe(r){let t;return{c(){t=E(`cycle
        
    `)},l(e){t=k(e,`cycle
        
    `)},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function IAe(r){let t,e,i,n,a;return i=new ki({props:{refId:"path"}}),{c(){t=pe("span"),e=E("A "),F(i.$$.fragment),n=E(` that begins and ends at the same vertex.
        `),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"A "),z(i.$$.fragment,o),n=k(o,` that begins and ends at the same vertex.
        `),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function CAe(r){let t;return{c(){t=E("Hamiltonian cycle")},l(e){t=k(e,"Hamiltonian cycle")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function PAe(r){let t,e,i,n,a;return i=new ki({props:{refId:"cycle"}}),{c(){t=pe("span"),e=E("A "),F(i.$$.fragment),n=E(" in which every vertex is visited exactly once."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"A "),z(i.$$.fragment,o),n=k(o," in which every vertex is visited exactly once."),o.forEach(y),this.h()},h(){ce(t,"slot","definition")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function DAe(r){let t,e,i,n,a="trail",s,o,l="can",u,f,h,c,m,v,d,b;return e=new Kr({props:{refId:"circuit",$$slots:{definition:[OAe],default:[TAe]},$$scope:{ctx:r}}}),f=new Kr({props:{refId:"cycle",$$slots:{definition:[IAe],default:[AAe]},$$scope:{ctx:r}}}),c=new Kr({props:{refId:"hamCycle",$$slots:{definition:[PAe],default:[CAe]},$$scope:{ctx:r}}}),v=new Ia({props:{refId:"exampleHamCycle"}}),{c(){t=E("A "),F(e.$$.fragment),i=E(" is a trail that starts and ends at the vertex. Note that the circuit is defined based on a "),n=pe("em"),n.textContent=a,s=E(", so therefore edges cannot be repeated in a circuit, though vertices "),o=pe("em"),o.textContent=l,u=E(" repeat. A similar notion is the "),F(f.$$.fragment),h=E(", which is a path that begins and ends at the same vertex. A cycle is called a "),F(c.$$.fragment),m=E(" if it visits every vertex exactly once. An example Hamiltonian cycle is shown in "),F(v.$$.fragment),d=E(".")},l(g){t=k(g,"A "),z(e.$$.fragment,g),i=k(g," is a trail that starts and ends at the vertex. Note that the circuit is defined based on a "),n=de(g,"EM",{"data-svelte-h":!0}),Xe(n)!=="svelte-1g8d8mi"&&(n.textContent=a),s=k(g,", so therefore edges cannot be repeated in a circuit, though vertices "),o=de(g,"EM",{"data-svelte-h":!0}),Xe(o)!=="svelte-gt6eco"&&(o.textContent=l),u=k(g," repeat. A similar notion is the "),z(f.$$.fragment,g),h=k(g,", which is a path that begins and ends at the same vertex. A cycle is called a "),z(c.$$.fragment,g),m=k(g," if it visits every vertex exactly once. An example Hamiltonian cycle is shown in "),z(v.$$.fragment,g),d=k(g,".")},m(g,$){_(g,t,$),L(e,g,$),_(g,i,$),_(g,n,$),_(g,s,$),_(g,o,$),_(g,u,$),L(f,g,$),_(g,h,$),L(c,g,$),_(g,m,$),L(v,g,$),_(g,d,$),b=!0},p(g,$){const w={};$&128&&(w.$$scope={dirty:$,ctx:g}),e.$set(w);const x={};$&128&&(x.$$scope={dirty:$,ctx:g}),f.$set(x);const A={};$&128&&(A.$$scope={dirty:$,ctx:g}),c.$set(A)},i(g){b||(R(e.$$.fragment,g),R(f.$$.fragment,g),R(c.$$.fragment,g),R(v.$$.fragment,g),b=!0)},o(g){M(e.$$.fragment,g),M(f.$$.fragment,g),M(c.$$.fragment,g),M(v.$$.fragment,g),b=!1},d(g){g&&(y(t),y(i),y(n),y(s),y(o),y(u),y(h),y(m),y(d)),j(e,g),j(f,g),j(c,g),j(v,g)}}}function NAe(r){let t,e;return t=new Wu({props:{nodes:r[0],edges:r[1],boldEdges:r[4]}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p:re,i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function RAe(r){let t,e="Visualization of a Hamiltonian cycle.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1qzt00f"&&(t.textContent=e),this.h()},h(){ce(t,"slot","caption")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function MAe(r){let t;return{c(){t=E("Note that walks, trails, paths, circuits, and cycles can all exist on directed graphs as well, with the natural restriction that the underlying walk must travel in the direction of the edges.")},l(e){t=k(e,"Note that walks, trails, paths, circuits, and cycles can all exist on directed graphs as well, with the natural restriction that the underlying walk must travel in the direction of the edges.")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function BAe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D,S,O,H,B,V,K,Q,G,q,W,ne;return t=new Yr({props:{level:"2",refId:"graphTheory",$$slots:{context:[T9e],default:[k9e]},$$scope:{ctx:r}}}),i=new ct({props:{$$slots:{default:[O9e]},$$scope:{ctx:r}}}),a=new ct({props:{$$slots:{default:[oOe]},$$scope:{ctx:r}}}),o=new ct({props:{$$slots:{default:[fOe]},$$scope:{ctx:r}}}),u=new ct({props:{$$slots:{default:[pOe]},$$scope:{ctx:r}}}),h=new Il({props:{refId:"exampleGraph",$$slots:{caption:[vOe],default:[dOe]},$$scope:{ctx:r}}}),m=new ct({props:{$$slots:{default:[COe]},$$scope:{ctx:r}}}),d=new Il({props:{refId:"exampleDirectedGraph",$$slots:{caption:[DOe],default:[POe]},$$scope:{ctx:r}}}),g=new ct({props:{$$slots:{default:[LOe]},$$scope:{ctx:r}}}),w=new ct({props:{$$slots:{default:[nAe]},$$scope:{ctx:r}}}),A=new Il({props:{refId:"exampleBipartiteGraph",$$slots:{caption:[lAe],default:[aAe]},$$scope:{ctx:r}}}),D=new ct({props:{$$slots:{default:[pAe]},$$scope:{ctx:r}}}),O=new ct({props:{$$slots:{default:[xAe]},$$scope:{ctx:r}}}),B=new Il({props:{refId:"examplePath",$$slots:{caption:[kAe],default:[SAe]},$$scope:{ctx:r}}}),K=new ct({props:{$$slots:{default:[DAe]},$$scope:{ctx:r}}}),G=new Il({props:{refId:"exampleHamCycle",$$slots:{caption:[RAe],default:[NAe]},$$scope:{ctx:r}}}),W=new ct({props:{$$slots:{default:[MAe]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment),e=Se(),F(i.$$.fragment),n=Se(),F(a.$$.fragment),s=Se(),F(o.$$.fragment),l=Se(),F(u.$$.fragment),f=Se(),F(h.$$.fragment),c=Se(),F(m.$$.fragment),v=Se(),F(d.$$.fragment),b=Se(),F(g.$$.fragment),$=Se(),F(w.$$.fragment),x=Se(),F(A.$$.fragment),I=Se(),F(D.$$.fragment),S=Se(),F(O.$$.fragment),H=Se(),F(B.$$.fragment),V=Se(),F(K.$$.fragment),Q=Se(),F(G.$$.fragment),q=Se(),F(W.$$.fragment)},l(Z){z(t.$$.fragment,Z),e=Ee(Z),z(i.$$.fragment,Z),n=Ee(Z),z(a.$$.fragment,Z),s=Ee(Z),z(o.$$.fragment,Z),l=Ee(Z),z(u.$$.fragment,Z),f=Ee(Z),z(h.$$.fragment,Z),c=Ee(Z),z(m.$$.fragment,Z),v=Ee(Z),z(d.$$.fragment,Z),b=Ee(Z),z(g.$$.fragment,Z),$=Ee(Z),z(w.$$.fragment,Z),x=Ee(Z),z(A.$$.fragment,Z),I=Ee(Z),z(D.$$.fragment,Z),S=Ee(Z),z(O.$$.fragment,Z),H=Ee(Z),z(B.$$.fragment,Z),V=Ee(Z),z(K.$$.fragment,Z),Q=Ee(Z),z(G.$$.fragment,Z),q=Ee(Z),z(W.$$.fragment,Z)},m(Z,oe){L(t,Z,oe),_(Z,e,oe),L(i,Z,oe),_(Z,n,oe),L(a,Z,oe),_(Z,s,oe),L(o,Z,oe),_(Z,l,oe),L(u,Z,oe),_(Z,f,oe),L(h,Z,oe),_(Z,c,oe),L(m,Z,oe),_(Z,v,oe),L(d,Z,oe),_(Z,b,oe),L(g,Z,oe),_(Z,$,oe),L(w,Z,oe),_(Z,x,oe),L(A,Z,oe),_(Z,I,oe),L(D,Z,oe),_(Z,S,oe),L(O,Z,oe),_(Z,H,oe),L(B,Z,oe),_(Z,V,oe),L(K,Z,oe),_(Z,Q,oe),L(G,Z,oe),_(Z,q,oe),L(W,Z,oe),ne=!0},p(Z,[oe]){const ie={};oe&128&&(ie.$$scope={dirty:oe,ctx:Z}),t.$set(ie);const ae={};oe&128&&(ae.$$scope={dirty:oe,ctx:Z}),i.$set(ae);const he={};oe&128&&(he.$$scope={dirty:oe,ctx:Z}),a.$set(he);const Ce={};oe&128&&(Ce.$$scope={dirty:oe,ctx:Z}),o.$set(Ce);const ke={};oe&128&&(ke.$$scope={dirty:oe,ctx:Z}),u.$set(ke);const Te={};oe&128&&(Te.$$scope={dirty:oe,ctx:Z}),h.$set(Te);const Ae={};oe&128&&(Ae.$$scope={dirty:oe,ctx:Z}),m.$set(Ae);const Pe={};oe&128&&(Pe.$$scope={dirty:oe,ctx:Z}),d.$set(Pe);const ye={};oe&128&&(ye.$$scope={dirty:oe,ctx:Z}),g.$set(ye);const _e={};oe&128&&(_e.$$scope={dirty:oe,ctx:Z}),w.$set(_e);const X={};oe&128&&(X.$$scope={dirty:oe,ctx:Z}),A.$set(X);const fe={};oe&128&&(fe.$$scope={dirty:oe,ctx:Z}),D.$set(fe);const te={};oe&128&&(te.$$scope={dirty:oe,ctx:Z}),O.$set(te);const ve={};oe&128&&(ve.$$scope={dirty:oe,ctx:Z}),B.$set(ve);const je={};oe&128&&(je.$$scope={dirty:oe,ctx:Z}),K.$set(je);const Y={};oe&128&&(Y.$$scope={dirty:oe,ctx:Z}),G.$set(Y);const P={};oe&128&&(P.$$scope={dirty:oe,ctx:Z}),W.$set(P)},i(Z){ne||(R(t.$$.fragment,Z),R(i.$$.fragment,Z),R(a.$$.fragment,Z),R(o.$$.fragment,Z),R(u.$$.fragment,Z),R(h.$$.fragment,Z),R(m.$$.fragment,Z),R(d.$$.fragment,Z),R(g.$$.fragment,Z),R(w.$$.fragment,Z),R(A.$$.fragment,Z),R(D.$$.fragment,Z),R(O.$$.fragment,Z),R(B.$$.fragment,Z),R(K.$$.fragment,Z),R(G.$$.fragment,Z),R(W.$$.fragment,Z),ne=!0)},o(Z){M(t.$$.fragment,Z),M(i.$$.fragment,Z),M(a.$$.fragment,Z),M(o.$$.fragment,Z),M(u.$$.fragment,Z),M(h.$$.fragment,Z),M(m.$$.fragment,Z),M(d.$$.fragment,Z),M(g.$$.fragment,Z),M(w.$$.fragment,Z),M(A.$$.fragment,Z),M(D.$$.fragment,Z),M(O.$$.fragment,Z),M(B.$$.fragment,Z),M(K.$$.fragment,Z),M(G.$$.fragment,Z),M(W.$$.fragment,Z),ne=!1},d(Z){Z&&(y(e),y(n),y(s),y(l),y(f),y(c),y(v),y(b),y($),y(x),y(I),y(S),y(H),y(V),y(Q),y(q)),j(t,Z),j(i,Z),j(a,Z),j(o,Z),j(u,Z),j(h,Z),j(m,Z),j(d,Z),j(g,Z),j(w,Z),j(A,Z),j(D,Z),j(O,Z),j(B,Z),j(K,Z),j(G,Z),j(W,Z)}}}function FAe(r){const t=[{id:1,x:0,y:.5},{id:2,x:.5,y:1},{id:3,x:.5,y:0},{id:4,x:1,y:1},{id:5,x:1,y:0}],e=["1-2","1-3","2-3","2-4","2-5","4-5","3-5"],i=e.concat(["5-4"]);return[t,e,i,["1-2","2-5","4-5"],["1-2","2-4","4-5","3-5","1-3"],[{id:1,x:0,y:.9},{id:2,x:0,y:.5},{id:3,x:0,y:.1},{id:4,x:1,y:1},{id:5,x:1,y:.67},{id:6,x:1,y:.33},{id:7,x:1,y:0}],["1-4","1-5","1-7","2-4","2-6","3-5","3-7"]]}class zAe extends $t{constructor(t){super(),_t(this,t,FAe,BAe,yt,{})}}function LAe(r){let t;return{c(){t=E("Special symbols")},l(e){t=k(e,"Special symbols")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function jAe(r){let t,e="A list of mathematical symbols and their usages.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-jdu0qk"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function qAe(r){let t=String.raw`\{\cdots\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function UAe(r){let t=String.raw`\{0,1\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function HAe(r){let t=String.raw`\R`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function WAe(r){let t=String.raw`-\infty`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function VAe(r){let t=String.raw`\infty`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function GAe(r){let t=String.raw`\R{:underscore:}+`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function XAe(r){let t=String.raw`\R`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function KAe(r){let t=String.raw`\Z`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function YAe(r){let t=String.raw`\R`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function JAe(r){let t=String.raw`\Z{:underscore:}+`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function QAe(r){let t=String.raw`\Z`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function ZAe(r){let t=String.raw`\in`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function eIe(r){let t=String.raw`x\in S`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function tIe(r){let t=String.raw`x`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function rIe(r){let t=String.raw`S`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function iIe(r){let t=String.raw`\pi\in\R`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function nIe(r){let t=String.raw`\pi`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function aIe(r){let t=String.raw`\subseteq`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function sIe(r){let t=String.raw`S, S'`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function oIe(r){let t=String.raw`S'\subseteq S`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function lIe(r){let t=String.raw`S'`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function uIe(r){let t=String.raw`S`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function fIe(r){let t=String.raw`S'`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function cIe(r){let t=String.raw`S`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function hIe(r){let t=String.raw`|S|`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function mIe(r){let t=String.raw`|\{1,5,7,12\}|=4`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function pIe(r){let t=String.raw`\emptyset`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function dIe(r){let t=String.raw`\forall`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function vIe(r){let t=String.raw`x{:underscore:}j\geq 0\ \forall\ j\in\{1, 2, \cdots, n\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function gIe(r){let t=String.raw`x{:underscore:}1, x{:underscore:}2, \cdots, x{:underscore:}n`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function bIe(r){let t=String.raw`\{x: x\textit{ satisfies some condition}\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function yIe(r){let t=String.raw`x`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function $Ie(r){let t=String.raw`x`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function _Ie(r){let t=String.raw`\{n\in\Z:5\leq n\leq 10\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function wIe(r){let t=String.raw`\{5,6,7,8,9,10\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function xIe(r){let t=String.raw`S^m`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function SIe(r){let t=String.raw`m`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function EIe(r){let t=String.raw`S`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function kIe(r){let t=String.raw`\R^3`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function TIe(r){let t=String.raw`
                \begin{bmatrix}1 \\ 2.64 \\ -3\end{bmatrix}\in\R^3.
            `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function OIe(r){let t=String.raw`S^{m\times n}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function AIe(r){let t=String.raw`m`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function IIe(r){let t=String.raw`n`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function CIe(r){let t=String.raw`S`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function PIe(r){let t=String.raw`\Z^{m\times n}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function DIe(r){let t=String.raw`m\times n`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function NIe(r){let t=String.raw`
            \begin{bmatrix}4 & 3 & 9 & 6\\ 0 & 4 & 8 & 5\\ 7 & 7 & 2 & 1\end{bmatrix} \in \Z^{3\times 4}.
            `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function RIe(r){let t=String.raw`\zeros`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function MIe(r){let t=String.raw`\identity`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function BIe(r){let t=String.raw`
                \begin{bmatrix}
                1 & 0 & \cdots & 0 \\
                0 & 1 & \cdots & 0 \\
                \vdots & \vdots & \ddots & \vdots \\
                0 & 0 & \cdots & 1 \\
                \end{bmatrix}
            `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function FIe(r){let t=String.raw`\Leftrightarrow`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function zIe(r){let t=String.raw`a > b \Leftrightarrow -a < -b`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function LIe(r){let t=String.raw`\floor{x}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function jIe(r){let t=String.raw`x\in\R`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function qIe(r){let t=String.raw`x`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function UIe(r){let t=String.raw`\floor{1.3}=1`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function HIe(r){let t=String.raw`\ceil{x}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function WIe(r){let t=String.raw`x\in\R`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function VIe(r){let t=String.raw`x`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function GIe(r){let t=String.raw`\ceil{1.3}=2`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function XIe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D,S,O,H,B,V,K,Q,G,q,W,ne,Z,oe,ie,ae,he,Ce,ke,Te,Ae,Pe,ye,_e,X,fe,te,ve,je,Y,P,N,ee,be,Ie,Re,at,dt,mt,Nt,wt,Jt,vr,tr,cr,rr,dn,Pi,ci,aa,sa,Qr,In,vn,Er,io,Fr,no,Vu,zr,hi,ul,Cn,mi,hr,Ma,gn,wd,Ba,xd,Di,Fa,Sd,za,Ed,La,kd,ja,Td,qa,Od,Lr,Ua,Ad,Ha,Id,Wa,Cd,Va,Pd,Ga,Dd,Xa,Nd,Ka,Rd,fl,Ya,Md,Bd,ao,Ja,Fd,Qa,zd,Za,es,Ld,ts,jd,qd,Gi,rs,Ud,is,Hd,ns,Wd,as,Vd,Gd,Xi,ss,Xd,os,Kd,ls,Yd,us,Jd,Yc;return i=new $e({props:{$$slots:{default:[qAe]},$$scope:{ctx:r}}}),a=new $e({props:{$$slots:{default:[UAe]},$$scope:{ctx:r}}}),u=new $e({props:{$$slots:{default:[HAe]},$$scope:{ctx:r}}}),h=new $e({props:{$$slots:{default:[WAe]},$$scope:{ctx:r}}}),m=new $e({props:{$$slots:{default:[VAe]},$$scope:{ctx:r}}}),g=new $e({props:{$$slots:{default:[GAe]},$$scope:{ctx:r}}}),w=new $e({props:{$$slots:{default:[XAe]},$$scope:{ctx:r}}}),D=new $e({props:{$$slots:{default:[KAe]},$$scope:{ctx:r}}}),O=new $e({props:{$$slots:{default:[YAe]},$$scope:{ctx:r}}}),K=new $e({props:{$$slots:{default:[JAe]},$$scope:{ctx:r}}}),G=new $e({props:{$$slots:{default:[QAe]},$$scope:{ctx:r}}}),Z=new $e({props:{$$slots:{default:[ZAe]},$$scope:{ctx:r}}}),ie=new $e({props:{$$slots:{default:[eIe]},$$scope:{ctx:r}}}),he=new $e({props:{$$slots:{default:[tIe]},$$scope:{ctx:r}}}),ke=new $e({props:{$$slots:{default:[rIe]},$$scope:{ctx:r}}}),Ae=new $e({props:{$$slots:{default:[iIe]},$$scope:{ctx:r}}}),ye=new $e({props:{$$slots:{default:[nIe]},$$scope:{ctx:r}}}),te=new $e({props:{$$slots:{default:[aIe]},$$scope:{ctx:r}}}),je=new $e({props:{$$slots:{default:[sIe]},$$scope:{ctx:r}}}),P=new $e({props:{$$slots:{default:[oIe]},$$scope:{ctx:r}}}),ee=new $e({props:{$$slots:{default:[lIe]},$$scope:{ctx:r}}}),Ie=new $e({props:{$$slots:{default:[uIe]},$$scope:{ctx:r}}}),at=new $e({props:{$$slots:{default:[fIe]},$$scope:{ctx:r}}}),mt=new $e({props:{$$slots:{default:[cIe]},$$scope:{ctx:r}}}),vr=new $e({props:{$$slots:{default:[hIe]},$$scope:{ctx:r}}}),cr=new $e({props:{$$slots:{default:[mIe]},$$scope:{ctx:r}}}),ci=new $e({props:{$$slots:{default:[pIe]},$$scope:{ctx:r}}}),In=new $e({props:{$$slots:{default:[dIe]},$$scope:{ctx:r}}}),Er=new $e({props:{$$slots:{default:[vIe]},$$scope:{ctx:r}}}),Fr=new $e({props:{$$slots:{default:[gIe]},$$scope:{ctx:r}}}),hi=new $e({props:{$$slots:{default:[bIe]},$$scope:{ctx:r}}}),Cn=new $e({props:{$$slots:{default:[yIe]},$$scope:{ctx:r}}}),hr=new $e({props:{$$slots:{default:[$Ie]},$$scope:{ctx:r}}}),gn=new $e({props:{$$slots:{default:[_Ie]},$$scope:{ctx:r}}}),Ba=new $e({props:{$$slots:{default:[wIe]},$$scope:{ctx:r}}}),Fa=new $e({props:{$$slots:{default:[xIe]},$$scope:{ctx:r}}}),za=new $e({props:{$$slots:{default:[SIe]},$$scope:{ctx:r}}}),La=new $e({props:{$$slots:{default:[EIe]},$$scope:{ctx:r}}}),ja=new $e({props:{$$slots:{default:[kIe]},$$scope:{ctx:r}}}),qa=new ni({props:{$$slots:{default:[TIe]},$$scope:{ctx:r}}}),Ua=new $e({props:{$$slots:{default:[OIe]},$$scope:{ctx:r}}}),Ha=new $e({props:{$$slots:{default:[AIe]},$$scope:{ctx:r}}}),Wa=new $e({props:{$$slots:{default:[IIe]},$$scope:{ctx:r}}}),Va=new $e({props:{$$slots:{default:[CIe]},$$scope:{ctx:r}}}),Ga=new $e({props:{$$slots:{default:[PIe]},$$scope:{ctx:r}}}),Xa=new $e({props:{$$slots:{default:[DIe]},$$scope:{ctx:r}}}),Ka=new ni({props:{$$slots:{default:[NIe]},$$scope:{ctx:r}}}),Ya=new $e({props:{$$slots:{default:[RIe]},$$scope:{ctx:r}}}),Ja=new $e({props:{$$slots:{default:[MIe]},$$scope:{ctx:r}}}),Qa=new ni({props:{$$slots:{default:[BIe]},$$scope:{ctx:r}}}),es=new $e({props:{$$slots:{default:[FIe]},$$scope:{ctx:r}}}),ts=new $e({props:{$$slots:{default:[zIe]},$$scope:{ctx:r}}}),rs=new $e({props:{$$slots:{default:[LIe]},$$scope:{ctx:r}}}),is=new $e({props:{$$slots:{default:[jIe]},$$scope:{ctx:r}}}),ns=new $e({props:{$$slots:{default:[qIe]},$$scope:{ctx:r}}}),as=new $e({props:{$$slots:{default:[UIe]},$$scope:{ctx:r}}}),ss=new $e({props:{$$slots:{default:[HIe]},$$scope:{ctx:r}}}),os=new $e({props:{$$slots:{default:[WIe]},$$scope:{ctx:r}}}),ls=new $e({props:{$$slots:{default:[VIe]},$$scope:{ctx:r}}}),us=new $e({props:{$$slots:{default:[GIe]},$$scope:{ctx:r}}}),{c(){t=pe("ul"),e=pe("li"),F(i.$$.fragment),n=E(": Set notation. Items inside the curly brackets are the elements of the set, so "),F(a.$$.fragment),s=E(" is the 2-element set consisting of just the numbers 0 and 1."),o=Se(),l=pe("li"),F(u.$$.fragment),f=E(": The set of real numbers, i.e. anything on the number line between (though not including!) "),F(h.$$.fragment),c=E(" and "),F(m.$$.fragment),v=E("."),d=Se(),b=pe("li"),F(g.$$.fragment),$=E(": The set of non-negative real numbers, i.e. anything in "),F(w.$$.fragment),x=E(" that is greater than or equal to 0."),A=Se(),I=pe("li"),F(D.$$.fragment),S=E(": The set of integer numbers, i.e. whole numbers from the set "),F(O.$$.fragment),H=E("."),B=Se(),V=pe("li"),F(K.$$.fragment),Q=E(": The set of non-negative integer numbers, i.e. anything in "),F(G.$$.fragment),q=E(" that is greater than or equal to 0."),W=Se(),ne=pe("li"),F(Z.$$.fragment),oe=E(": Set inclusion. When we write "),F(ie.$$.fragment),ae=E(", we mean that "),F(he.$$.fragment),Ce=E(" is an element of the set "),F(ke.$$.fragment),Te=E(". For example, we could write "),F(Ae.$$.fragment),Pe=E(", meaning the number "),F(ye.$$.fragment),_e=E(" is a real number."),X=Se(),fe=pe("li"),F(te.$$.fragment),ve=E(": Subset. For two sets "),F(je.$$.fragment),Y=E(", we say "),F(P.$$.fragment),N=E(' (said "'),F(ee.$$.fragment),be=E(" is a subset of "),F(Ie.$$.fragment),Re=E('") if every element of '),F(at.$$.fragment),dt=E(" is also an element of "),F(mt.$$.fragment),Nt=E("."),wt=Se(),Jt=pe("li"),F(vr.$$.fragment),tr=E(": Size of a set. This denotes the number of elements in a set, so e.g. "),F(cr.$$.fragment),rr=E("."),dn=Se(),Pi=pe("li"),F(ci.$$.fragment),aa=E(": Empty set. A set with no elements."),sa=Se(),Qr=pe("li"),F(In.$$.fragment),vn=E(": For all. We use this symbol when we want to specify that something should be done for all elements in some set. So if we're writing out the constraints for some model and we say "),F(Er.$$.fragment),io=E(" we're just saying that each of "),F(Fr.$$.fragment),no=E(" should be non-negative."),Vu=Se(),zr=pe("li"),F(hi.$$.fragment),ul=E(": Conditional set. This represents the set of all "),F(Cn.$$.fragment),mi=E(" such that "),F(hr.$$.fragment),Ma=E(" satisfies the condition to the right of the colon (:). For example, "),F(gn.$$.fragment),wd=E(" is the set of all integers between 5 and 10, i.e. "),F(Ba.$$.fragment),xd=Se(),Di=pe("li"),F(Fa.$$.fragment),Sd=E(": The set of vectors with "),F(za.$$.fragment),Ed=E(" elements, all of which are from some set "),F(La.$$.fragment),kd=E(". For example, "),F(ja.$$.fragment),Td=E(` is the set of 3-element, real number vectors. So we could say
            `),F(qa.$$.fragment),Od=Se(),Lr=pe("li"),F(Ua.$$.fragment),Ad=E(": The set of matrices with "),F(Ha.$$.fragment),Id=E(" rows and "),F(Wa.$$.fragment),Cd=E(" columns, whose elements are from some set "),F(Va.$$.fragment),Pd=E(". For example, "),F(Ga.$$.fragment),Dd=E(" is the set of "),F(Xa.$$.fragment),Nd=E(` matrices whose entries are all integers. So we could say
            `),F(Ka.$$.fragment),Rd=Se(),fl=pe("li"),F(Ya.$$.fragment),Md=E(": A matrix (or vector) with all entries equal to 0 (the size of the matrix is usually clear by context)."),Bd=Se(),ao=pe("li"),F(Ja.$$.fragment),Fd=E(`: A square matrix with all entries equal to 0, except the diagonal where all entries equal 1 (the size of the matrix is usually clear by context). This looks like:
            `),F(Qa.$$.fragment),zd=Se(),Za=pe("li"),F(es.$$.fragment),Ld=E(": If and only if. It indicates the the statement to the left is logically equivalent to the statement on the right, e.g. "),F(ts.$$.fragment),jd=E("."),qd=Se(),Gi=pe("li"),F(rs.$$.fragment),Ud=E(': The "floor" of the number '),F(is.$$.fragment),Hd=E(", i.e. the value resulting from rounding "),F(ns.$$.fragment),Wd=E(" down to the nearest integer. So "),F(as.$$.fragment),Vd=E("."),Gd=Se(),Xi=pe("li"),F(ss.$$.fragment),Xd=E(': The "ceiling" of the number '),F(os.$$.fragment),Kd=E(", i.e. the value resulting from rounding "),F(ls.$$.fragment),Yd=E(" up to the nearest integer. So "),F(us.$$.fragment),Jd=E(".")},l(ge){t=de(ge,"UL",{});var we=De(t);e=de(we,"LI",{});var fs=De(e);z(i.$$.fragment,fs),n=k(fs,": Set notation. Items inside the curly brackets are the elements of the set, so "),z(a.$$.fragment,fs),s=k(fs," is the 2-element set consisting of just the numbers 0 and 1."),fs.forEach(y),o=Ee(we),l=de(we,"LI",{});var Pn=De(l);z(u.$$.fragment,Pn),f=k(Pn,": The set of real numbers, i.e. anything on the number line between (though not including!) "),z(h.$$.fragment,Pn),c=k(Pn," and "),z(m.$$.fragment,Pn),v=k(Pn,"."),Pn.forEach(y),d=Ee(we),b=de(we,"LI",{});var cs=De(b);z(g.$$.fragment,cs),$=k(cs,": The set of non-negative real numbers, i.e. anything in "),z(w.$$.fragment,cs),x=k(cs," that is greater than or equal to 0."),cs.forEach(y),A=Ee(we),I=de(we,"LI",{});var hs=De(I);z(D.$$.fragment,hs),S=k(hs,": The set of integer numbers, i.e. whole numbers from the set "),z(O.$$.fragment,hs),H=k(hs,"."),hs.forEach(y),B=Ee(we),V=de(we,"LI",{});var ms=De(V);z(K.$$.fragment,ms),Q=k(ms,": The set of non-negative integer numbers, i.e. anything in "),z(G.$$.fragment,ms),q=k(ms," that is greater than or equal to 0."),ms.forEach(y),W=Ee(we),ne=de(we,"LI",{});var Gr=De(ne);z(Z.$$.fragment,Gr),oe=k(Gr,": Set inclusion. When we write "),z(ie.$$.fragment,Gr),ae=k(Gr,", we mean that "),z(he.$$.fragment,Gr),Ce=k(Gr," is an element of the set "),z(ke.$$.fragment,Gr),Te=k(Gr,". For example, we could write "),z(Ae.$$.fragment,Gr),Pe=k(Gr,", meaning the number "),z(ye.$$.fragment,Gr),_e=k(Gr," is a real number."),Gr.forEach(y),X=Ee(we),fe=de(we,"LI",{});var kr=De(fe);z(te.$$.fragment,kr),ve=k(kr,": Subset. For two sets "),z(je.$$.fragment,kr),Y=k(kr,", we say "),z(P.$$.fragment,kr),N=k(kr,' (said "'),z(ee.$$.fragment,kr),be=k(kr," is a subset of "),z(Ie.$$.fragment,kr),Re=k(kr,'") if every element of '),z(at.$$.fragment,kr),dt=k(kr," is also an element of "),z(mt.$$.fragment,kr),Nt=k(kr,"."),kr.forEach(y),wt=Ee(we),Jt=de(we,"LI",{});var ps=De(Jt);z(vr.$$.fragment,ps),tr=k(ps,": Size of a set. This denotes the number of elements in a set, so e.g. "),z(cr.$$.fragment,ps),rr=k(ps,"."),ps.forEach(y),dn=Ee(we),Pi=de(we,"LI",{});var cl=De(Pi);z(ci.$$.fragment,cl),aa=k(cl,": Empty set. A set with no elements."),cl.forEach(y),sa=Ee(we),Qr=de(we,"LI",{});var Dn=De(Qr);z(In.$$.fragment,Dn),vn=k(Dn,": For all. We use this symbol when we want to specify that something should be done for all elements in some set. So if we're writing out the constraints for some model and we say "),z(Er.$$.fragment,Dn),io=k(Dn," we're just saying that each of "),z(Fr.$$.fragment,Dn),no=k(Dn," should be non-negative."),Dn.forEach(y),Vu=Ee(we),zr=de(we,"LI",{});var Ni=De(zr);z(hi.$$.fragment,Ni),ul=k(Ni,": Conditional set. This represents the set of all "),z(Cn.$$.fragment,Ni),mi=k(Ni," such that "),z(hr.$$.fragment,Ni),Ma=k(Ni," satisfies the condition to the right of the colon (:). For example, "),z(gn.$$.fragment,Ni),wd=k(Ni," is the set of all integers between 5 and 10, i.e. "),z(Ba.$$.fragment,Ni),Ni.forEach(y),xd=Ee(we),Di=de(we,"LI",{});var Ri=De(Di);z(Fa.$$.fragment,Ri),Sd=k(Ri,": The set of vectors with "),z(za.$$.fragment,Ri),Ed=k(Ri," elements, all of which are from some set "),z(La.$$.fragment,Ri),kd=k(Ri,". For example, "),z(ja.$$.fragment,Ri),Td=k(Ri,` is the set of 3-element, real number vectors. So we could say
            `),z(qa.$$.fragment,Ri),Ri.forEach(y),Od=Ee(we),Lr=de(we,"LI",{});var jr=De(Lr);z(Ua.$$.fragment,jr),Ad=k(jr,": The set of matrices with "),z(Ha.$$.fragment,jr),Id=k(jr," rows and "),z(Wa.$$.fragment,jr),Cd=k(jr," columns, whose elements are from some set "),z(Va.$$.fragment,jr),Pd=k(jr,". For example, "),z(Ga.$$.fragment,jr),Dd=k(jr," is the set of "),z(Xa.$$.fragment,jr),Nd=k(jr,` matrices whose entries are all integers. So we could say
            `),z(Ka.$$.fragment,jr),jr.forEach(y),Rd=Ee(we),fl=de(we,"LI",{});var hl=De(fl);z(Ya.$$.fragment,hl),Md=k(hl,": A matrix (or vector) with all entries equal to 0 (the size of the matrix is usually clear by context)."),hl.forEach(y),Bd=Ee(we),ao=de(we,"LI",{});var so=De(ao);z(Ja.$$.fragment,so),Fd=k(so,`: A square matrix with all entries equal to 0, except the diagonal where all entries equal 1 (the size of the matrix is usually clear by context). This looks like:
            `),z(Qa.$$.fragment,so),so.forEach(y),zd=Ee(we),Za=de(we,"LI",{});var ds=De(Za);z(es.$$.fragment,ds),Ld=k(ds,": If and only if. It indicates the the statement to the left is logically equivalent to the statement on the right, e.g. "),z(ts.$$.fragment,ds),jd=k(ds,"."),ds.forEach(y),qd=Ee(we),Gi=de(we,"LI",{});var Ki=De(Gi);z(rs.$$.fragment,Ki),Ud=k(Ki,': The "floor" of the number '),z(is.$$.fragment,Ki),Hd=k(Ki,", i.e. the value resulting from rounding "),z(ns.$$.fragment,Ki),Wd=k(Ki," down to the nearest integer. So "),z(as.$$.fragment,Ki),Vd=k(Ki,"."),Ki.forEach(y),Gd=Ee(we),Xi=de(we,"LI",{});var Yi=De(Xi);z(ss.$$.fragment,Yi),Xd=k(Yi,': The "ceiling" of the number '),z(os.$$.fragment,Yi),Kd=k(Yi,", i.e. the value resulting from rounding "),z(ls.$$.fragment,Yi),Yd=k(Yi," up to the nearest integer. So "),z(us.$$.fragment,Yi),Jd=k(Yi,"."),Yi.forEach(y),we.forEach(y)},m(ge,we){_(ge,t,we),le(t,e),L(i,e,null),le(e,n),L(a,e,null),le(e,s),le(t,o),le(t,l),L(u,l,null),le(l,f),L(h,l,null),le(l,c),L(m,l,null),le(l,v),le(t,d),le(t,b),L(g,b,null),le(b,$),L(w,b,null),le(b,x),le(t,A),le(t,I),L(D,I,null),le(I,S),L(O,I,null),le(I,H),le(t,B),le(t,V),L(K,V,null),le(V,Q),L(G,V,null),le(V,q),le(t,W),le(t,ne),L(Z,ne,null),le(ne,oe),L(ie,ne,null),le(ne,ae),L(he,ne,null),le(ne,Ce),L(ke,ne,null),le(ne,Te),L(Ae,ne,null),le(ne,Pe),L(ye,ne,null),le(ne,_e),le(t,X),le(t,fe),L(te,fe,null),le(fe,ve),L(je,fe,null),le(fe,Y),L(P,fe,null),le(fe,N),L(ee,fe,null),le(fe,be),L(Ie,fe,null),le(fe,Re),L(at,fe,null),le(fe,dt),L(mt,fe,null),le(fe,Nt),le(t,wt),le(t,Jt),L(vr,Jt,null),le(Jt,tr),L(cr,Jt,null),le(Jt,rr),le(t,dn),le(t,Pi),L(ci,Pi,null),le(Pi,aa),le(t,sa),le(t,Qr),L(In,Qr,null),le(Qr,vn),L(Er,Qr,null),le(Qr,io),L(Fr,Qr,null),le(Qr,no),le(t,Vu),le(t,zr),L(hi,zr,null),le(zr,ul),L(Cn,zr,null),le(zr,mi),L(hr,zr,null),le(zr,Ma),L(gn,zr,null),le(zr,wd),L(Ba,zr,null),le(t,xd),le(t,Di),L(Fa,Di,null),le(Di,Sd),L(za,Di,null),le(Di,Ed),L(La,Di,null),le(Di,kd),L(ja,Di,null),le(Di,Td),L(qa,Di,null),le(t,Od),le(t,Lr),L(Ua,Lr,null),le(Lr,Ad),L(Ha,Lr,null),le(Lr,Id),L(Wa,Lr,null),le(Lr,Cd),L(Va,Lr,null),le(Lr,Pd),L(Ga,Lr,null),le(Lr,Dd),L(Xa,Lr,null),le(Lr,Nd),L(Ka,Lr,null),le(t,Rd),le(t,fl),L(Ya,fl,null),le(fl,Md),le(t,Bd),le(t,ao),L(Ja,ao,null),le(ao,Fd),L(Qa,ao,null),le(t,zd),le(t,Za),L(es,Za,null),le(Za,Ld),L(ts,Za,null),le(Za,jd),le(t,qd),le(t,Gi),L(rs,Gi,null),le(Gi,Ud),L(is,Gi,null),le(Gi,Hd),L(ns,Gi,null),le(Gi,Wd),L(as,Gi,null),le(Gi,Vd),le(t,Gd),le(t,Xi),L(ss,Xi,null),le(Xi,Xd),L(os,Xi,null),le(Xi,Kd),L(ls,Xi,null),le(Xi,Yd),L(us,Xi,null),le(Xi,Jd),Yc=!0},p(ge,we){const fs={};we&1&&(fs.$$scope={dirty:we,ctx:ge}),i.$set(fs);const Pn={};we&1&&(Pn.$$scope={dirty:we,ctx:ge}),a.$set(Pn);const cs={};we&1&&(cs.$$scope={dirty:we,ctx:ge}),u.$set(cs);const hs={};we&1&&(hs.$$scope={dirty:we,ctx:ge}),h.$set(hs);const ms={};we&1&&(ms.$$scope={dirty:we,ctx:ge}),m.$set(ms);const Gr={};we&1&&(Gr.$$scope={dirty:we,ctx:ge}),g.$set(Gr);const kr={};we&1&&(kr.$$scope={dirty:we,ctx:ge}),w.$set(kr);const ps={};we&1&&(ps.$$scope={dirty:we,ctx:ge}),D.$set(ps);const cl={};we&1&&(cl.$$scope={dirty:we,ctx:ge}),O.$set(cl);const Dn={};we&1&&(Dn.$$scope={dirty:we,ctx:ge}),K.$set(Dn);const Ni={};we&1&&(Ni.$$scope={dirty:we,ctx:ge}),G.$set(Ni);const Ri={};we&1&&(Ri.$$scope={dirty:we,ctx:ge}),Z.$set(Ri);const jr={};we&1&&(jr.$$scope={dirty:we,ctx:ge}),ie.$set(jr);const hl={};we&1&&(hl.$$scope={dirty:we,ctx:ge}),he.$set(hl);const so={};we&1&&(so.$$scope={dirty:we,ctx:ge}),ke.$set(so);const ds={};we&1&&(ds.$$scope={dirty:we,ctx:ge}),Ae.$set(ds);const Ki={};we&1&&(Ki.$$scope={dirty:we,ctx:ge}),ye.$set(Ki);const Yi={};we&1&&(Yi.$$scope={dirty:we,ctx:ge}),te.$set(Yi);const q$={};we&1&&(q$.$$scope={dirty:we,ctx:ge}),je.$set(q$);const U$={};we&1&&(U$.$$scope={dirty:we,ctx:ge}),P.$set(U$);const H$={};we&1&&(H$.$$scope={dirty:we,ctx:ge}),ee.$set(H$);const W$={};we&1&&(W$.$$scope={dirty:we,ctx:ge}),Ie.$set(W$);const V$={};we&1&&(V$.$$scope={dirty:we,ctx:ge}),at.$set(V$);const G$={};we&1&&(G$.$$scope={dirty:we,ctx:ge}),mt.$set(G$);const X$={};we&1&&(X$.$$scope={dirty:we,ctx:ge}),vr.$set(X$);const K$={};we&1&&(K$.$$scope={dirty:we,ctx:ge}),cr.$set(K$);const Y$={};we&1&&(Y$.$$scope={dirty:we,ctx:ge}),ci.$set(Y$);const J$={};we&1&&(J$.$$scope={dirty:we,ctx:ge}),In.$set(J$);const Q$={};we&1&&(Q$.$$scope={dirty:we,ctx:ge}),Er.$set(Q$);const Z$={};we&1&&(Z$.$$scope={dirty:we,ctx:ge}),Fr.$set(Z$);const e_={};we&1&&(e_.$$scope={dirty:we,ctx:ge}),hi.$set(e_);const t_={};we&1&&(t_.$$scope={dirty:we,ctx:ge}),Cn.$set(t_);const r_={};we&1&&(r_.$$scope={dirty:we,ctx:ge}),hr.$set(r_);const i_={};we&1&&(i_.$$scope={dirty:we,ctx:ge}),gn.$set(i_);const n_={};we&1&&(n_.$$scope={dirty:we,ctx:ge}),Ba.$set(n_);const a_={};we&1&&(a_.$$scope={dirty:we,ctx:ge}),Fa.$set(a_);const s_={};we&1&&(s_.$$scope={dirty:we,ctx:ge}),za.$set(s_);const o_={};we&1&&(o_.$$scope={dirty:we,ctx:ge}),La.$set(o_);const l_={};we&1&&(l_.$$scope={dirty:we,ctx:ge}),ja.$set(l_);const u_={};we&1&&(u_.$$scope={dirty:we,ctx:ge}),qa.$set(u_);const f_={};we&1&&(f_.$$scope={dirty:we,ctx:ge}),Ua.$set(f_);const c_={};we&1&&(c_.$$scope={dirty:we,ctx:ge}),Ha.$set(c_);const h_={};we&1&&(h_.$$scope={dirty:we,ctx:ge}),Wa.$set(h_);const m_={};we&1&&(m_.$$scope={dirty:we,ctx:ge}),Va.$set(m_);const p_={};we&1&&(p_.$$scope={dirty:we,ctx:ge}),Ga.$set(p_);const d_={};we&1&&(d_.$$scope={dirty:we,ctx:ge}),Xa.$set(d_);const v_={};we&1&&(v_.$$scope={dirty:we,ctx:ge}),Ka.$set(v_);const g_={};we&1&&(g_.$$scope={dirty:we,ctx:ge}),Ya.$set(g_);const b_={};we&1&&(b_.$$scope={dirty:we,ctx:ge}),Ja.$set(b_);const y_={};we&1&&(y_.$$scope={dirty:we,ctx:ge}),Qa.$set(y_);const $_={};we&1&&($_.$$scope={dirty:we,ctx:ge}),es.$set($_);const __={};we&1&&(__.$$scope={dirty:we,ctx:ge}),ts.$set(__);const w_={};we&1&&(w_.$$scope={dirty:we,ctx:ge}),rs.$set(w_);const x_={};we&1&&(x_.$$scope={dirty:we,ctx:ge}),is.$set(x_);const S_={};we&1&&(S_.$$scope={dirty:we,ctx:ge}),ns.$set(S_);const E_={};we&1&&(E_.$$scope={dirty:we,ctx:ge}),as.$set(E_);const k_={};we&1&&(k_.$$scope={dirty:we,ctx:ge}),ss.$set(k_);const T_={};we&1&&(T_.$$scope={dirty:we,ctx:ge}),os.$set(T_);const O_={};we&1&&(O_.$$scope={dirty:we,ctx:ge}),ls.$set(O_);const A_={};we&1&&(A_.$$scope={dirty:we,ctx:ge}),us.$set(A_)},i(ge){Yc||(R(i.$$.fragment,ge),R(a.$$.fragment,ge),R(u.$$.fragment,ge),R(h.$$.fragment,ge),R(m.$$.fragment,ge),R(g.$$.fragment,ge),R(w.$$.fragment,ge),R(D.$$.fragment,ge),R(O.$$.fragment,ge),R(K.$$.fragment,ge),R(G.$$.fragment,ge),R(Z.$$.fragment,ge),R(ie.$$.fragment,ge),R(he.$$.fragment,ge),R(ke.$$.fragment,ge),R(Ae.$$.fragment,ge),R(ye.$$.fragment,ge),R(te.$$.fragment,ge),R(je.$$.fragment,ge),R(P.$$.fragment,ge),R(ee.$$.fragment,ge),R(Ie.$$.fragment,ge),R(at.$$.fragment,ge),R(mt.$$.fragment,ge),R(vr.$$.fragment,ge),R(cr.$$.fragment,ge),R(ci.$$.fragment,ge),R(In.$$.fragment,ge),R(Er.$$.fragment,ge),R(Fr.$$.fragment,ge),R(hi.$$.fragment,ge),R(Cn.$$.fragment,ge),R(hr.$$.fragment,ge),R(gn.$$.fragment,ge),R(Ba.$$.fragment,ge),R(Fa.$$.fragment,ge),R(za.$$.fragment,ge),R(La.$$.fragment,ge),R(ja.$$.fragment,ge),R(qa.$$.fragment,ge),R(Ua.$$.fragment,ge),R(Ha.$$.fragment,ge),R(Wa.$$.fragment,ge),R(Va.$$.fragment,ge),R(Ga.$$.fragment,ge),R(Xa.$$.fragment,ge),R(Ka.$$.fragment,ge),R(Ya.$$.fragment,ge),R(Ja.$$.fragment,ge),R(Qa.$$.fragment,ge),R(es.$$.fragment,ge),R(ts.$$.fragment,ge),R(rs.$$.fragment,ge),R(is.$$.fragment,ge),R(ns.$$.fragment,ge),R(as.$$.fragment,ge),R(ss.$$.fragment,ge),R(os.$$.fragment,ge),R(ls.$$.fragment,ge),R(us.$$.fragment,ge),Yc=!0)},o(ge){M(i.$$.fragment,ge),M(a.$$.fragment,ge),M(u.$$.fragment,ge),M(h.$$.fragment,ge),M(m.$$.fragment,ge),M(g.$$.fragment,ge),M(w.$$.fragment,ge),M(D.$$.fragment,ge),M(O.$$.fragment,ge),M(K.$$.fragment,ge),M(G.$$.fragment,ge),M(Z.$$.fragment,ge),M(ie.$$.fragment,ge),M(he.$$.fragment,ge),M(ke.$$.fragment,ge),M(Ae.$$.fragment,ge),M(ye.$$.fragment,ge),M(te.$$.fragment,ge),M(je.$$.fragment,ge),M(P.$$.fragment,ge),M(ee.$$.fragment,ge),M(Ie.$$.fragment,ge),M(at.$$.fragment,ge),M(mt.$$.fragment,ge),M(vr.$$.fragment,ge),M(cr.$$.fragment,ge),M(ci.$$.fragment,ge),M(In.$$.fragment,ge),M(Er.$$.fragment,ge),M(Fr.$$.fragment,ge),M(hi.$$.fragment,ge),M(Cn.$$.fragment,ge),M(hr.$$.fragment,ge),M(gn.$$.fragment,ge),M(Ba.$$.fragment,ge),M(Fa.$$.fragment,ge),M(za.$$.fragment,ge),M(La.$$.fragment,ge),M(ja.$$.fragment,ge),M(qa.$$.fragment,ge),M(Ua.$$.fragment,ge),M(Ha.$$.fragment,ge),M(Wa.$$.fragment,ge),M(Va.$$.fragment,ge),M(Ga.$$.fragment,ge),M(Xa.$$.fragment,ge),M(Ka.$$.fragment,ge),M(Ya.$$.fragment,ge),M(Ja.$$.fragment,ge),M(Qa.$$.fragment,ge),M(es.$$.fragment,ge),M(ts.$$.fragment,ge),M(rs.$$.fragment,ge),M(is.$$.fragment,ge),M(ns.$$.fragment,ge),M(as.$$.fragment,ge),M(ss.$$.fragment,ge),M(os.$$.fragment,ge),M(ls.$$.fragment,ge),M(us.$$.fragment,ge),Yc=!1},d(ge){ge&&y(t),j(i),j(a),j(u),j(h),j(m),j(g),j(w),j(D),j(O),j(K),j(G),j(Z),j(ie),j(he),j(ke),j(Ae),j(ye),j(te),j(je),j(P),j(ee),j(Ie),j(at),j(mt),j(vr),j(cr),j(ci),j(In),j(Er),j(Fr),j(hi),j(Cn),j(hr),j(gn),j(Ba),j(Fa),j(za),j(La),j(ja),j(qa),j(Ua),j(Ha),j(Wa),j(Va),j(Ga),j(Xa),j(Ka),j(Ya),j(Ja),j(Qa),j(es),j(ts),j(rs),j(is),j(ns),j(as),j(ss),j(os),j(ls),j(us)}}}function KIe(r){let t,e,i,n;return t=new Yr({props:{level:"2",refId:"symbols",$$slots:{context:[jAe],default:[LAe]},$$scope:{ctx:r}}}),i=new ct({props:{$$slots:{default:[XIe]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment),e=Se(),F(i.$$.fragment)},l(a){z(t.$$.fragment,a),e=Ee(a),z(i.$$.fragment,a)},m(a,s){L(t,a,s),_(a,e,s),L(i,a,s),n=!0},p(a,[s]){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const l={};s&1&&(l.$$scope={dirty:s,ctx:a}),i.$set(l)},i(a){n||(R(t.$$.fragment,a),R(i.$$.fragment,a),n=!0)},o(a){M(t.$$.fragment,a),M(i.$$.fragment,a),n=!1},d(a){a&&y(e),j(t,a),j(i,a)}}}class YIe extends $t{constructor(t){super(),_t(this,t,null,KIe,yt,{})}}function JIe(r){let t;return{c(){t=E("Appendix")},l(e){t=k(e,"Appendix")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function QIe(r){let t,e="Extra content you may find useful for this course.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-15cnuce"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function ZIe(r){let t,e,i,n,a,s;return t=new Yr({props:{refId:"appendix",level:"1",dispSecNum:"A",includeDispSecNum:!1,$$slots:{context:[QIe],default:[JIe]},$$scope:{ctx:r}}}),i=new zAe({}),a=new YIe({}),{c(){F(t.$$.fragment),e=Se(),F(i.$$.fragment),n=Se(),F(a.$$.fragment)},l(o){z(t.$$.fragment,o),e=Ee(o),z(i.$$.fragment,o),n=Ee(o),z(a.$$.fragment,o)},m(o,l){L(t,o,l),_(o,e,l),L(i,o,l),_(o,n,l),L(a,o,l),s=!0},p(o,[l]){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),t.$set(u)},i(o){s||(R(t.$$.fragment,o),R(i.$$.fragment,o),R(a.$$.fragment,o),s=!0)},o(o){M(t.$$.fragment,o),M(i.$$.fragment,o),M(a.$$.fragment,o),s=!1},d(o){o&&(y(e),y(n)),j(t,o),j(i,o),j(a,o)}}}class eCe extends $t{constructor(t){super(),_t(this,t,null,ZIe,yt,{})}}function tCe(r){var n;let t,e=((n=r[2])==null?void 0:n.innerHTML)+"",i;return{c(){t=new Yn(!1),i=ht(),this.h()},l(a){t=Jn(a,!1),i=ht(),this.h()},h(){t.a=i},m(a,s){t.m(e,a,s),_(a,i,s)},p(a,s){var o;s&4&&e!==(e=((o=a[2])==null?void 0:o.innerHTML)+"")&&t.p(e)},i:re,o:re,d(a){a&&(y(i),t.d())}}}function rCe(r){var u;let t,e,i,n,a=((u=r[2])==null?void 0:u.innerHTML)+"",s,o,l;return t=new cp({props:{show:r[4],divId:r[3]}}),{c(){F(t.$$.fragment),e=Se(),i=pe("span"),n=new Yn(!1),this.h()},l(f){z(t.$$.fragment,f),e=Ee(f),i=de(f,"SPAN",{class:!0,id:!0,role:!0,tabindex:!0,"aria-label":!0});var h=De(i);n=Jn(h,!1),h.forEach(y),this.h()},h(){n.a=null,ce(i,"class","eqRef svelte-17atccr"),ce(i,"id",r[3]),ce(i,"role","button"),ce(i,"tabindex","0"),ce(i,"aria-label","Toggle popup")},m(f,h){L(t,f,h),_(f,e,h),_(f,i,h),n.m(a,i),s=!0,o||(l=[xt(i,"keydown",r[6]),xt(i,"click",r[6])],o=!0)},p(f,h){var m;const c={};h&16&&(c.show=f[4]),h&8&&(c.divId=f[3]),t.$set(c),(!s||h&4)&&a!==(a=((m=f[2])==null?void 0:m.innerHTML)+"")&&n.p(a),(!s||h&8)&&ce(i,"id",f[3])},i(f){s||(R(t.$$.fragment,f),s=!0)},o(f){M(t.$$.fragment,f),s=!1},d(f){f&&(y(e),y(i)),j(t,f),o=!1,An(l)}}}function iCe(r){let t=r[1]?"a":"span",e,i=(r[1]?"a":"span")&&Mg(r);return{c(){i&&i.c(),e=ht()},l(n){i&&i.l(n),e=ht()},m(n,a){i&&i.m(n,a),_(n,e,a)},p(n,a){n[1],t?yt(t,n[1]?"a":"span")?(i.d(1),i=Mg(n),t=n[1]?"a":"span",i.c(),i.m(e.parentNode,e)):i.p(n,a):(i=Mg(n),t=n[1]?"a":"span",i.c(),i.m(e.parentNode,e))},i:re,o:re,d(n){n&&y(e),i&&i.d(n)}}}function Mg(r){var l;let t,e,i=((l=r[2])==null?void 0:l.innerHTML)+"",n,a,s=[{class:n=kn(r[1]?"eqRef":"")+" svelte-17atccr"},{href:a=`#${r[0]}`}],o={};for(let u=0;u<s.length;u+=1)o=Q7(o,s[u]);return{c(){t=pe(r[1]?"a":"span"),e=new Yn(!1),this.h()},l(u){t=de(u,((r[1]?"a":"span")||"null").toUpperCase(),{class:!0,href:!0});var f=De(t);e=Jn(f,!1),f.forEach(y),this.h()},h(){e.a=null,_m(r[1]?"a":"span")(t,o)},m(u,f){_(u,t,f),e.m(i,t)},p(u,f){var h;f&4&&i!==(i=((h=u[2])==null?void 0:h.innerHTML)+"")&&e.p(i),_m(u[1]?"a":"span")(t,o=eS(s,[f&2&&n!==(n=kn(u[1]?"eqRef":"")+" svelte-17atccr")&&{class:n},f&1&&a!==(a=`#${u[0]}`)&&{href:a}]))},d(u){u&&y(t)}}}function nCe(r){let t,e,i,n;const a=[iCe,rCe,tCe],s=[];function o(l,u){return l[5]?0:l[1]?1:2}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ht()},l(l){e.l(l),i=ht()},m(l,u){s[t].m(l,u),_(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(ai(),M(s[f],1,1,()=>{s[f]=null}),si(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),R(e,1),e.m(i.parentNode,i))},i(l){n||(R(e),n=!0)},o(l){M(e),n=!1},d(l){l&&y(i),s[t].d(l)}}}function aCe(r,t,e){let i,n,a,s,o,l;St(r,Vl,v=>e(9,o=v)),St(r,nn,v=>e(5,l=v));let{refId:u}=t,{desiredRefStyle:f="abbrev"}=t,{link:h=!0}=t;u="prob:"+u;const c=(o.numRefs[u]||0)+1;Vl.update(v=>(Object.keys(v.numRefs).includes(u)||(v.numRefs[u]=0),v.numRefs[u]+=1,v));const m=()=>{e(4,n=!n);const v=document.getElementById(i);if((v==null?void 0:v.childElementCount)===1){let d=0;const b=document.createElement("div");v==null||v.appendChild(b),setTimeout(function(){const $=document.getElementById(u).cloneNode(!0);$.id=$.id||"",$.id+="Ref"+c,v==null||v.appendChild($);const w=document.createElement("a");w.innerHTML="jump to",w.setAttribute("href","#"+u),w.style.fontSize="1.2rem",w.style.float="right",w.onclick=()=>{Vl.update(x=>(x.returnIds[u]=i,x))},v==null||v.appendChild(w)},d)}};return r.$$set=v=>{"refId"in v&&e(0,u=v.refId),"desiredRefStyle"in v&&e(7,f=v.desiredRefStyle),"link"in v&&e(1,h=v.link)},r.$$.update=()=>{r.$$.dirty&1&&e(3,i=u+"-ref"+c),r.$$.dirty&641&&e(8,a=o.abbrevs[u]?f:"name"),r.$$.dirty&769&&e(2,s=a==="name"?o.names[u]:o.abbrevs[u])},e(4,n=!1),[u,h,s,i,n,l,m,f,a,o]}class gr extends $t{constructor(t){super(),_t(this,t,aCe,nCe,yt,{refId:0,desiredRefStyle:7,link:1})}}function sCe(r){let t,e,i,n;return e=new gr({props:{refId:"combOpt",link:!1}}),{c(){t=E("Some "),F(e.$$.fragment),i=E(" algorithms")},l(a){t=k(a,"Some "),z(e.$$.fragment,a),i=k(a," algorithms")},m(a,s){_(a,t,s),L(e,a,s),_(a,i,s),n=!0},p:re,i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){M(e.$$.fragment,a),n=!1},d(a){a&&(y(t),y(i)),j(e,a)}}}function oCe(r){let t,e,i,n,a;return i=new gr({props:{refId:"combOpt",link:!1}}),{c(){t=pe("span"),e=E("Exploring special-purpose algorithms for some of our example "),F(i.$$.fragment),n=E("s"),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"Exploring special-purpose algorithms for some of our example "),z(i.$$.fragment,o),n=k(o,"s"),o.forEach(y),this.h()},h(){ce(t,"slot","context")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function lCe(r){let t,e;return t=new Yr({props:{refId:"compOptAlgos",level:"2",$$slots:{context:[oCe],default:[sCe]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p(i,[n]){const a={};n&1&&(a.$$scope={dirty:n,ctx:i}),t.$set(a)},i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}class uCe extends $t{constructor(t){super(),_t(this,t,null,lCe,yt,{})}}function M7(r,t,e){const i=r.slice();return i[3]=t[e],i}function fCe(r){let t;return{c(){t=E("References")},l(e){t=k(e,"References")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function cCe(r){let t,e=r[3].biblio+"",i;return{c(){t=new Yn(!1),i=ht(),this.h()},l(n){t=Jn(n,!1),i=ht(),this.h()},h(){t.a=i},m(n,a){t.m(e,n,a),_(n,i,a)},p:re,d(n){n&&(y(i),t.d())}}}function hCe(r){let t,e,i,n,a,s,o=r[3].biblio+"",l,u=!!r[3].libLink&&mCe(r);return{c(){t=pe("div"),e=pe("img"),n=Se(),a=pe("div"),s=new Yn(!1),l=Se(),u&&u.c(),this.h()},l(f){t=de(f,"DIV",{style:!0});var h=De(t);e=de(h,"IMG",{style:!0,src:!0,alt:!0}),n=Ee(h),a=de(h,"DIV",{});var c=De(a);s=Jn(c,!1),l=Ee(c),u&&u.l(c),c.forEach(y),h.forEach(y),this.h()},h(){tt(e,"max-height","5rem"),tt(e,"margin-right","1rem"),tC(e.src,i=r[3].image)||ce(e,"src",i),ce(e,"alt","Book cover"),s.a=l,tt(t,"display","flex"),tt(t,"flex-direction","row")},m(f,h){_(f,t,h),le(t,e),le(t,n),le(t,a),s.m(o,a),le(a,l),u&&u.m(a,null)},p(f,h){f[3].libLink&&u.p(f,h)},d(f){f&&y(t),u&&u.d()}}}function mCe(r){let t,e,i,n;return{c(){t=pe("div"),e=E("Available online from the "),i=pe("a"),n=E("K-State library"),this.h()},l(a){t=de(a,"DIV",{class:!0});var s=De(t);e=k(s,"Available online from the "),i=de(s,"A",{href:!0,target:!0});var o=De(i);n=k(o,"K-State library"),o.forEach(y),s.forEach(y),this.h()},h(){ce(i,"href",r[3].libLink),ce(i,"target","_blank"),ce(t,"class","libLink svelte-16uit1g")},m(a,s){_(a,t,s),le(t,e),le(t,i),le(i,n)},p:re,d(a){a&&y(t)}}}function B7(r){let t,e,i;function n(o,l){return o[3].image?hCe:cCe}let s=n(r)(r);return{c(){t=pe("div"),s.c(),e=Se(),this.h()},l(o){t=de(o,"DIV",{class:!0,id:!0});var l=De(t);s.l(l),e=Ee(l),l.forEach(y),this.h()},h(){ce(t,"class",i=kn("bibline"+(r[0]?" biblinePrintMode":""))+" svelte-16uit1g"),ce(t,"id",r[3].citeId)},m(o,l){_(o,t,l),s.m(t,null),le(t,e)},p(o,l){s.p(o,l),l&1&&i!==(i=kn("bibline"+(o[0]?" biblinePrintMode":""))+" svelte-16uit1g")&&ce(t,"class",i)},d(o){o&&y(t),s.d()}}}function pCe(r){let t,e,i,n;t=new Yr({props:{refId:"bibliography",level:"1",includeDispSecNum:!1,$$slots:{default:[fCe]},$$scope:{ctx:r}}});let a=Kn(r[1].sort()),s=[];for(let o=0;o<a.length;o+=1)s[o]=B7(M7(r,a,o));return{c(){F(t.$$.fragment),e=Se(),i=pe("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){z(t.$$.fragment,o),e=Ee(o),i=de(o,"DIV",{class:!0});var l=De(i);for(let u=0;u<s.length;u+=1)s[u].l(l);l.forEach(y),this.h()},h(){ce(i,"class","bib svelte-16uit1g")},m(o,l){L(t,o,l),_(o,e,l),_(o,i,l);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);n=!0},p(o,[l]){const u={};if(l&64&&(u.$$scope={dirty:l,ctx:o}),t.$set(u),l&3){a=Kn(o[1].sort());let f;for(f=0;f<a.length;f+=1){const h=M7(o,a,f);s[f]?s[f].p(h,l):(s[f]=B7(h),s[f].c(),s[f].m(i,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=a.length}},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){M(t.$$.fragment,o),n=!1},d(o){o&&(y(e),y(i)),j(t,o),Jf(s,o)}}}function dCe(r,t,e){let i,n;St(r,t1,s=>e(2,i=s)),St(r,nn,s=>e(0,n=s));let a=[];for(const s of Object.keys(i)){const o=i[s];o.referenced&&a.push({citeId:s,...o})}return[n,a]}class vCe extends $t{constructor(t){super(),_t(this,t,dCe,pCe,yt,{})}}function gCe(r){let t;const e=r[2].default,i=qt(e,r,r[1],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&2)&&Ut(i,e,n,n[1],t?Wt(e,n[1],a,null):Ht(n[1]),null)},i(n){t||(R(i,n),t=!0)},o(n){M(i,n),t=!1},d(n){i&&i.d(n)}}}function bCe(r){let t,e;const i=r[2].default,n=qt(i,r,r[1],null);return{c(){t=pe("span"),n&&n.c(),this.h()},l(a){t=de(a,"SPAN",{class:!0});var s=De(t);n&&n.l(s),s.forEach(y),this.h()},h(){ce(t,"class","keyPoint svelte-1gh7i88")},m(a,s){_(a,t,s),n&&n.m(t,null),e=!0},p(a,s){n&&n.p&&(!e||s&2)&&Ut(n,i,a,a[1],e?Wt(i,a[1],s,null):Ht(a[1]),null)},i(a){e||(R(n,a),e=!0)},o(a){M(n,a),e=!1},d(a){a&&y(t),n&&n.d(a)}}}function yCe(r){let t,e,i,n;const a=[bCe,gCe],s=[];function o(l,u){return l[0]?0:1}return t=o(r),e=s[t]=a[t](r),{c(){e.c(),i=ht()},l(l){e.l(l),i=ht()},m(l,u){s[t].m(l,u),_(l,i,u),n=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(ai(),M(s[f],1,1,()=>{s[f]=null}),si(),e=s[t],e?e.p(l,u):(e=s[t]=a[t](l),e.c()),R(e,1),e.m(i.parentNode,i))},i(l){n||(R(e),n=!0)},o(l){M(e),n=!1},d(l){l&&y(i),s[t].d(l)}}}function $Ce(r,t,e){let i;St(r,r1,s=>e(0,i=s));let{$$slots:n={},$$scope:a}=t;return r.$$set=s=>{"$$scope"in s&&e(1,a=s.$$scope)},[i,a,n]}class bt extends $t{constructor(t){super(),_t(this,t,$Ce,yCe,yt,{})}}function _Ce(r){let t;return{c(){t=E("Welcome!")},l(e){t=k(e,"Welcome!")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function wCe(r){let t,e="Where we discuss what to expect in this class and these notes.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1t10p2l"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function xCe(r){let t,e,i="IMSE 884: Integer Programming and Combinatorial Optimization",n;return{c(){t=E("You're reading the class notes for "),e=pe("em"),e.textContent=i,n=E(", taught at Kansas State University during the Spring 2025 semester.")},l(a){t=k(a,"You're reading the class notes for "),e=de(a,"EM",{"data-svelte-h":!0}),Xe(e)!=="svelte-34fi29"&&(e.textContent=i),n=k(a,", taught at Kansas State University during the Spring 2025 semester.")},m(a,s){_(a,t,s),_(a,e,s),_(a,n,s)},p:re,d(a){a&&(y(t),y(e),y(n))}}}function SCe(r){let t;return{c(){t=E("About the course")},l(e){t=k(e,"About the course")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function ECe(r){let t,e="Discussing topics and particulars of the course.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-y4e6li"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function kCe(r){let t;return{c(){t=E("overview of the related fields of integer programming and combinatorial optimization")},l(e){t=k(e,"overview of the related fields of integer programming and combinatorial optimization")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function TCe(r){let t;return{c(){t=E("best-studied and most widely-applicable problems")},l(e){t=k(e,"best-studied and most widely-applicable problems")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function OCe(r){let t;return{c(){t=E("We will lean more heavily on the theoretical aspects")},l(e){t=k(e,"We will lean more heavily on the theoretical aspects")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function ACe(r){let t,e,i,n,a,s,o,l;return e=new bt({props:{$$slots:{default:[kCe]},$$scope:{ctx:r}}}),n=new bt({props:{$$slots:{default:[TCe]},$$scope:{ctx:r}}}),s=new bt({props:{$$slots:{default:[OCe]},$$scope:{ctx:r}}}),{c(){t=E("As the name suggests, the aim of this course is to give an "),F(e.$$.fragment),i=E(", which together comprise a large portion of the "),F(n.$$.fragment),a=E(" in optimization and mathematical programming. "),F(s.$$.fragment),o=E(" of the subject, spending most of our time on theory and algorithms that allow solutions to be found to these important problems. We will devote a relatively smaller amount of time to building and solving these types of models in practice.")},l(u){t=k(u,"As the name suggests, the aim of this course is to give an "),z(e.$$.fragment,u),i=k(u,", which together comprise a large portion of the "),z(n.$$.fragment,u),a=k(u," in optimization and mathematical programming. "),z(s.$$.fragment,u),o=k(u," of the subject, spending most of our time on theory and algorithms that allow solutions to be found to these important problems. We will devote a relatively smaller amount of time to building and solving these types of models in practice.")},m(u,f){_(u,t,f),L(e,u,f),_(u,i,f),L(n,u,f),_(u,a,f),L(s,u,f),_(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&1&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){l||(R(e.$$.fragment,u),R(n.$$.fragment,u),R(s.$$.fragment,u),l=!0)},o(u){M(e.$$.fragment,u),M(n.$$.fragment,u),M(s.$$.fragment,u),l=!1},d(u){u&&(y(t),y(i),y(a),y(o)),j(e,u),j(n,u),j(s,u)}}}function ICe(r){let t;return{c(){t=E("familiarity with linear algebra")},l(e){t=k(e,"familiarity with linear algebra")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function CCe(r){let t;return{c(){t=E("matrix math (addition/multiplication)")},l(e){t=k(e,"matrix math (addition/multiplication)")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function PCe(r){let t;return{c(){t=E("linear programming")},l(e){t=k(e,"linear programming")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function DCe(r){let t,e,i,n,a,s,o,l;return e=new bt({props:{$$slots:{default:[ICe]},$$scope:{ctx:r}}}),n=new bt({props:{$$slots:{default:[CCe]},$$scope:{ctx:r}}}),s=new bt({props:{$$slots:{default:[PCe]},$$scope:{ctx:r}}}),{c(){t=E("As far as prerequisites, you should have some "),F(e.$$.fragment),i=E(", at a minimum the basic mechanics of "),F(n.$$.fragment),a=E(". Topics such as linear rank and determinants with surface as well. Some familiarity with other optimization topics, especially "),F(s.$$.fragment),o=E(", will also prove helpful.")},l(u){t=k(u,"As far as prerequisites, you should have some "),z(e.$$.fragment,u),i=k(u,", at a minimum the basic mechanics of "),z(n.$$.fragment,u),a=k(u,". Topics such as linear rank and determinants with surface as well. Some familiarity with other optimization topics, especially "),z(s.$$.fragment,u),o=k(u,", will also prove helpful.")},m(u,f){_(u,t,f),L(e,u,f),_(u,i,f),L(n,u,f),_(u,a,f),L(s,u,f),_(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&1&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){l||(R(e.$$.fragment,u),R(n.$$.fragment,u),R(s.$$.fragment,u),l=!0)},o(u){M(e.$$.fragment,u),M(n.$$.fragment,u),M(s.$$.fragment,u),l=!1},d(u){u&&(y(t),y(i),y(a),y(o)),j(e,u),j(n,u),j(s,u)}}}function NCe(r){let t;return{c(){t=E("exploring a selection of different combinatorial optimization problems")},l(e){t=k(e,"exploring a selection of different combinatorial optimization problems")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function RCe(r){let t;return{c(){t=E("preliminaries on integer programming")},l(e){t=k(e,"preliminaries on integer programming")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function MCe(r){let t,e,i,n,a,s;return e=new bt({props:{$$slots:{default:[NCe]},$$scope:{ctx:r}}}),n=new bt({props:{$$slots:{default:[RCe]},$$scope:{ctx:r}}}),{c(){t=E("We will begin the class by by "),F(e.$$.fragment),i=E(" and specialized algorithms for solving them. We'll then discuss "),F(n.$$.fragment),a=E(", which we will see can itself be used as a tool for combinatorial optimization (as well as other types of problems).")},l(o){t=k(o,"We will begin the class by by "),z(e.$$.fragment,o),i=k(o," and specialized algorithms for solving them. We'll then discuss "),z(n.$$.fragment,o),a=k(o,", which we will see can itself be used as a tool for combinatorial optimization (as well as other types of problems).")},m(o,l){_(o,t,l),L(e,o,l),_(o,i,l),L(n,o,l),_(o,a,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),e.$set(u);const f={};l&1&&(f.$$scope={dirty:l,ctx:o}),n.$set(f)},i(o){s||(R(e.$$.fragment,o),R(n.$$.fragment,o),s=!0)},o(o){M(e.$$.fragment,o),M(n.$$.fragment,o),s=!1},d(o){o&&(y(t),y(i),y(a)),j(e,o),j(n,o)}}}function BCe(r){let t;return{c(){t=E("some problems seem to require more resources")},l(e){t=k(e,"some problems seem to require more resources")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function FCe(r){let t;return{c(){t=E("discussion on computational complexity")},l(e){t=k(e,"discussion on computational complexity")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function zCe(r){let t,e,i,n,a,s;return e=new bt({props:{$$slots:{default:[BCe]},$$scope:{ctx:r}}}),n=new bt({props:{$$slots:{default:[FCe]},$$scope:{ctx:r}}}),{c(){t=E("In these discussions, we'll begin to notice how "),F(e.$$.fragment),i=E(" than others while modeling and solving them. This will motivate a "),F(n.$$.fragment),a=E(". We will not develop this topic completely formally, but at least at enough depth to help frame our discussions on what problems may be easier to solve than others.")},l(o){t=k(o,"In these discussions, we'll begin to notice how "),z(e.$$.fragment,o),i=k(o," than others while modeling and solving them. This will motivate a "),z(n.$$.fragment,o),a=k(o,". We will not develop this topic completely formally, but at least at enough depth to help frame our discussions on what problems may be easier to solve than others.")},m(o,l){_(o,t,l),L(e,o,l),_(o,i,l),L(n,o,l),_(o,a,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),e.$set(u);const f={};l&1&&(f.$$scope={dirty:l,ctx:o}),n.$set(f)},i(o){s||(R(e.$$.fragment,o),R(n.$$.fragment,o),s=!0)},o(o){M(e.$$.fragment,o),M(n.$$.fragment,o),s=!1},d(o){o&&(y(t),y(i),y(a)),j(e,o),j(n,o)}}}function LCe(r){let t;return{c(){t=E("theory of solving integer programs")},l(e){t=k(e,"theory of solving integer programs")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function jCe(r){let t;return{c(){t=E("I expect that most of you taking this course have studied linear programming before. But don't worry too much of that's not the case, as we'll touch on all the theory we need during the review.")},l(e){t=k(e,"I expect that most of you taking this course have studied linear programming before. But don't worry too much of that's not the case, as we'll touch on all the theory we need during the review.")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function qCe(r){let t,e,i,n;return e=new Kc({props:{$$slots:{default:[jCe]},$$scope:{ctx:r}}}),{c(){t=E("review"),F(e.$$.fragment),i=E(" of linear programming")},l(a){t=k(a,"review"),z(e.$$.fragment,a),i=k(a," of linear programming")},m(a,s){_(a,t,s),L(e,a,s),_(a,i,s),n=!0},p(a,s){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){M(e.$$.fragment,a),n=!1},d(a){a&&(y(t),y(i)),j(e,a)}}}function UCe(r){let t;return{c(){t=E("cutting planes and branch-and-bound")},l(e){t=k(e,"cutting planes and branch-and-bound")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function HCe(r){let t;return{c(){t=E("specialized solving techniques")},l(e){t=k(e,"specialized solving techniques")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function WCe(r){let t;return{c(){t=E("solving integer programs in real-life")},l(e){t=k(e,"solving integer programs in real-life")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function VCe(r){let t,e,i,n,a,s,o,l,u,f,h,c;return e=new bt({props:{$$slots:{default:[LCe]},$$scope:{ctx:r}}}),n=new bt({props:{$$slots:{default:[qCe]},$$scope:{ctx:r}}}),s=new bt({props:{$$slots:{default:[UCe]},$$scope:{ctx:r}}}),l=new bt({props:{$$slots:{default:[HCe]},$$scope:{ctx:r}}}),f=new bt({props:{$$slots:{default:[WCe]},$$scope:{ctx:r}}}),{c(){t=E("From there, we'll take a deep dive into the "),F(e.$$.fragment),i=E(". We'll need to start with a "),F(n.$$.fragment),a=E(" and polyhedra. This will allow us to discuss the main integer programming techniques of "),F(s.$$.fragment),o=E(". From there we will cover some more "),F(l.$$.fragment),u=E(", and spend some time discussing practical matters of "),F(f.$$.fragment),h=E(" applications.")},l(m){t=k(m,"From there, we'll take a deep dive into the "),z(e.$$.fragment,m),i=k(m,". We'll need to start with a "),z(n.$$.fragment,m),a=k(m," and polyhedra. This will allow us to discuss the main integer programming techniques of "),z(s.$$.fragment,m),o=k(m,". From there we will cover some more "),z(l.$$.fragment,m),u=k(m,", and spend some time discussing practical matters of "),z(f.$$.fragment,m),h=k(m," applications.")},m(m,v){_(m,t,v),L(e,m,v),_(m,i,v),L(n,m,v),_(m,a,v),L(s,m,v),_(m,o,v),L(l,m,v),_(m,u,v),L(f,m,v),_(m,h,v),c=!0},p(m,v){const d={};v&1&&(d.$$scope={dirty:v,ctx:m}),e.$set(d);const b={};v&1&&(b.$$scope={dirty:v,ctx:m}),n.$set(b);const g={};v&1&&(g.$$scope={dirty:v,ctx:m}),s.$set(g);const $={};v&1&&($.$$scope={dirty:v,ctx:m}),l.$set($);const w={};v&1&&(w.$$scope={dirty:v,ctx:m}),f.$set(w)},i(m){c||(R(e.$$.fragment,m),R(n.$$.fragment,m),R(s.$$.fragment,m),R(l.$$.fragment,m),R(f.$$.fragment,m),c=!0)},o(m){M(e.$$.fragment,m),M(n.$$.fragment,m),M(s.$$.fragment,m),M(l.$$.fragment,m),M(f.$$.fragment,m),c=!1},d(m){m&&(y(t),y(i),y(a),y(o),y(u),y(h)),j(e,m),j(n,m),j(s,m),j(l,m),j(f,m)}}}function GCe(r){let t;return{c(){t=E("Textbooks")},l(e){t=k(e,"Textbooks")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function XCe(r){let t,e="Useful resources for students.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1baz3ta"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function KCe(r){let t;return{c(){t=E("this course will be taught from these notes")},l(e){t=k(e,"this course will be taught from these notes")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function YCe(r){let t;return{c(){t=E("not strictly required to obtain a separate textbook")},l(e){t=k(e,"not strictly required to obtain a separate textbook")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function JCe(r){let t,e="Integer Programming",i,n,a,s;return n=new zi({props:{refId:"wolsey2020"}}),{c(){t=pe("em"),t.textContent=e,i=Se(),F(n.$$.fragment),a=E(". A large portion of this course")},l(o){t=de(o,"EM",{"data-svelte-h":!0}),Xe(t)!=="svelte-1pcnffb"&&(t.textContent=e),i=Ee(o),z(n.$$.fragment,o),a=k(o,". A large portion of this course")},m(o,l){_(o,t,l),_(o,i,l),L(n,o,l),_(o,a,l),s=!0},p:re,i(o){s||(R(n.$$.fragment,o),s=!0)},o(o){M(n.$$.fragment,o),s=!1},d(o){o&&(y(t),y(i),y(a)),j(n,o)}}}function QCe(r){let t,e,i,n,a,s,o,l;return e=new bt({props:{$$slots:{default:[KCe]},$$scope:{ctx:r}}}),n=new bt({props:{$$slots:{default:[YCe]},$$scope:{ctx:r}}}),s=new bt({props:{$$slots:{default:[JCe]},$$scope:{ctx:r}}}),{c(){t=E("The core of "),F(e.$$.fragment),i=E(", thus students are "),F(n.$$.fragment),a=E(". But I will strongly suggest anyone taking the course find a copy of the second edition to Laurence Wolsey's book "),F(s.$$.fragment),o=E("'s content is derived from this book (although we'll present things in a slightly different order), and you'll find further details there not covered in the notes.")},l(u){t=k(u,"The core of "),z(e.$$.fragment,u),i=k(u,", thus students are "),z(n.$$.fragment,u),a=k(u,". But I will strongly suggest anyone taking the course find a copy of the second edition to Laurence Wolsey's book "),z(s.$$.fragment,u),o=k(u,"'s content is derived from this book (although we'll present things in a slightly different order), and you'll find further details there not covered in the notes.")},m(u,f){_(u,t,f),L(e,u,f),_(u,i,f),L(n,u,f),_(u,a,f),L(s,u,f),_(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const m={};f&1&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){l||(R(e.$$.fragment,u),R(n.$$.fragment,u),R(s.$$.fragment,u),l=!0)},o(u){M(e.$$.fragment,u),M(n.$$.fragment,u),M(s.$$.fragment,u),l=!1},d(u){u&&(y(t),y(i),y(a),y(o)),j(e,u),j(n,u),j(s,u)}}}function ZCe(r){let t,e="Integer and Combinatorial Optimization",i,n,a;return n=new zi({props:{refId:"nemWol2014"}}),{c(){t=pe("em"),t.textContent=e,i=Se(),F(n.$$.fragment)},l(s){t=de(s,"EM",{"data-svelte-h":!0}),Xe(t)!=="svelte-1n6swei"&&(t.textContent=e),i=Ee(s),z(n.$$.fragment,s)},m(s,o){_(s,t,o),_(s,i,o),L(n,s,o),a=!0},p:re,i(s){a||(R(n.$$.fragment,s),a=!0)},o(s){M(n.$$.fragment,s),a=!1},d(s){s&&(y(t),y(i)),j(n,s)}}}function ePe(r){let t,e,i,n,a,s,o,l,u,f;return e=new zi({props:{refId:"nemWol2014"}}),n=new zi({props:{refId:"wolsey2020"}}),s=new zi({props:{refId:"nemWol2014"}}),l=new zi({props:{refId:"wolsey2020"}}),{c(){t=E("Why didn't I choose "),F(e.$$.fragment),i=E(" as the course text? I think the presentation and level of "),F(n.$$.fragment),a=E(" is a little better suited for this course. It's also a bit newer, and although the theory found in "),F(s.$$.fragment),o=E(" is evergreen, "),F(l.$$.fragment),u=E(` contains a bit more updated information on techniques used by solvers in practice today.
    `)},l(h){t=k(h,"Why didn't I choose "),z(e.$$.fragment,h),i=k(h," as the course text? I think the presentation and level of "),z(n.$$.fragment,h),a=k(h," is a little better suited for this course. It's also a bit newer, and although the theory found in "),z(s.$$.fragment,h),o=k(h," is evergreen, "),z(l.$$.fragment,h),u=k(h,` contains a bit more updated information on techniques used by solvers in practice today.
    `)},m(h,c){_(h,t,c),L(e,h,c),_(h,i,c),L(n,h,c),_(h,a,c),L(s,h,c),_(h,o,c),L(l,h,c),_(h,u,c),f=!0},p:re,i(h){f||(R(e.$$.fragment,h),R(n.$$.fragment,h),R(s.$$.fragment,h),R(l.$$.fragment,h),f=!0)},o(h){M(e.$$.fragment,h),M(n.$$.fragment,h),M(s.$$.fragment,h),M(l.$$.fragment,h),f=!1},d(h){h&&(y(t),y(i),y(a),y(o),y(u)),j(e,h),j(n,h),j(s,h),j(l,h)}}}function tPe(r){let t,e,i="the",n,a,s;return a=new Kc({props:{$$slots:{default:[ePe]},$$scope:{ctx:r}}}),{c(){t=E("potentially "),e=pe("em"),e.textContent=i,n=E(" reference for this subject"),F(a.$$.fragment)},l(o){t=k(o,"potentially "),e=de(o,"EM",{"data-svelte-h":!0}),Xe(e)!=="svelte-1qknu73"&&(e.textContent=i),n=k(o," reference for this subject"),z(a.$$.fragment,o)},m(o,l){_(o,t,l),_(o,e,l),_(o,n,l),L(a,o,l),s=!0},p(o,l){const u={};l&1&&(u.$$scope={dirty:l,ctx:o}),a.$set(u)},i(o){s||(R(a.$$.fragment,o),s=!0)},o(o){M(a.$$.fragment,o),s=!1},d(o){o&&(y(t),y(e),y(n)),j(a,o)}}}function rPe(r){let t,e,i,n,a,s,o="Theory of Linear and Integer Programming",l,u,f,h,c="Combinatorial Optimization: Polyhedra and Efficiency",m,v,d,b,g="Model Building in Mathematical Programming",$,w,x,A;return e=new bt({props:{$$slots:{default:[ZCe]},$$scope:{ctx:r}}}),n=new bt({props:{$$slots:{default:[tPe]},$$scope:{ctx:r}}}),u=new zi({props:{refId:"schrijver1998theory"}}),v=new zi({props:{refId:"schrijver2003combOpt"}}),w=new zi({props:{refId:"williams2013model"}}),{c(){t=E("There are a few other sources that I recommend, whose contents is woven into this course. I have to start with the book "),F(e.$$.fragment),i=E(", written by Wolsey along with George Nemhauser, which is "),F(n.$$.fragment),a=E(". Two books written by Alexander Schrijver, "),s=pe("em"),s.textContent=o,l=Se(),F(u.$$.fragment),f=E(" and "),h=pe("em"),h.textContent=c,m=Se(),F(v.$$.fragment),d=E(", are excellect resources and cover the subject at an impressive depth (though the writing style is rather terse, and can be a little challenging for readers that are new to the subject). On the less theoretical, more practical side is Williams' book "),b=pe("em"),b.textContent=g,$=Se(),F(w.$$.fragment),x=E(", which gives several examples of taking real-world problems and modeling them to be solved as integer programs (as well as other types of optimization problesm).")},l(I){t=k(I,"There are a few other sources that I recommend, whose contents is woven into this course. I have to start with the book "),z(e.$$.fragment,I),i=k(I,", written by Wolsey along with George Nemhauser, which is "),z(n.$$.fragment,I),a=k(I,". Two books written by Alexander Schrijver, "),s=de(I,"EM",{"data-svelte-h":!0}),Xe(s)!=="svelte-1csca4f"&&(s.textContent=o),l=Ee(I),z(u.$$.fragment,I),f=k(I," and "),h=de(I,"EM",{"data-svelte-h":!0}),Xe(h)!=="svelte-bsx7f1"&&(h.textContent=c),m=Ee(I),z(v.$$.fragment,I),d=k(I,", are excellect resources and cover the subject at an impressive depth (though the writing style is rather terse, and can be a little challenging for readers that are new to the subject). On the less theoretical, more practical side is Williams' book "),b=de(I,"EM",{"data-svelte-h":!0}),Xe(b)!=="svelte-84924t"&&(b.textContent=g),$=Ee(I),z(w.$$.fragment,I),x=k(I,", which gives several examples of taking real-world problems and modeling them to be solved as integer programs (as well as other types of optimization problesm).")},m(I,D){_(I,t,D),L(e,I,D),_(I,i,D),L(n,I,D),_(I,a,D),_(I,s,D),_(I,l,D),L(u,I,D),_(I,f,D),_(I,h,D),_(I,m,D),L(v,I,D),_(I,d,D),_(I,b,D),_(I,$,D),L(w,I,D),_(I,x,D),A=!0},p(I,D){const S={};D&1&&(S.$$scope={dirty:D,ctx:I}),e.$set(S);const O={};D&1&&(O.$$scope={dirty:D,ctx:I}),n.$set(O)},i(I){A||(R(e.$$.fragment,I),R(n.$$.fragment,I),R(u.$$.fragment,I),R(v.$$.fragment,I),R(w.$$.fragment,I),A=!0)},o(I){M(e.$$.fragment,I),M(n.$$.fragment,I),M(u.$$.fragment,I),M(v.$$.fragment,I),M(w.$$.fragment,I),A=!1},d(I){I&&(y(t),y(i),y(a),y(s),y(l),y(f),y(h),y(m),y(d),y(b),y($),y(x)),j(e,I),j(n,I),j(u,I),j(v,I),j(w,I)}}}function iPe(r){let t;return{c(){t=E("About the notes")},l(e){t=k(e,"About the notes")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function nPe(r){let t,e="Discussing how to use this site.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1vim3mb"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function aPe(r){let t;return{c(){t=E("couldn't find a digital note-creating system that had the features I wanted, so I built my own")},l(e){t=k(e,"couldn't find a digital note-creating system that had the features I wanted, so I built my own")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function sPe(r){let t;return{c(){t=E("better on wider screens")},l(e){t=k(e,"better on wider screens")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function oPe(r){let t;return{c(){t=E("print these notes from your browser")},l(e){t=k(e,"print these notes from your browser")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function lPe(r){let t;return{c(){t=E("Your mileage may vary")},l(e){t=k(e,"Your mileage may vary")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function uPe(r){let t,e,i,n,a,s,o,l,u,f;return e=new bt({props:{$$slots:{default:[aPe]},$$scope:{ctx:r}}}),n=new bt({props:{$$slots:{default:[sPe]},$$scope:{ctx:r}}}),s=new bt({props:{$$slots:{default:[oPe]},$$scope:{ctx:r}}}),l=new bt({props:{$$slots:{default:[lPe]},$$scope:{ctx:r}}}),{c(){t=E("I have an irrational aversion to paper and think digital formats have so much more to offer. But I "),F(e.$$.fragment),i=E(". The result is what you're seeing now. These notes will display and generally work "),F(n.$$.fragment),a=E(" (e.g. a computer monitor/laptop/tablet as opposed to your phone), but can be accessed by anything with a web browser. If physical copies are your thing, you can "),F(s.$$.fragment),o=E(". From what I've seen, Chrome and Edge will create a decent PDF through their default print utility, while Firefox was lacking. "),F(l.$$.fragment),u=E(".")},l(h){t=k(h,"I have an irrational aversion to paper and think digital formats have so much more to offer. But I "),z(e.$$.fragment,h),i=k(h,". The result is what you're seeing now. These notes will display and generally work "),z(n.$$.fragment,h),a=k(h," (e.g. a computer monitor/laptop/tablet as opposed to your phone), but can be accessed by anything with a web browser. If physical copies are your thing, you can "),z(s.$$.fragment,h),o=k(h,". From what I've seen, Chrome and Edge will create a decent PDF through their default print utility, while Firefox was lacking. "),z(l.$$.fragment,h),u=k(h,".")},m(h,c){_(h,t,c),L(e,h,c),_(h,i,c),L(n,h,c),_(h,a,c),L(s,h,c),_(h,o,c),L(l,h,c),_(h,u,c),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),e.$set(m);const v={};c&1&&(v.$$scope={dirty:c,ctx:h}),n.$set(v);const d={};c&1&&(d.$$scope={dirty:c,ctx:h}),s.$set(d);const b={};c&1&&(b.$$scope={dirty:c,ctx:h}),l.$set(b)},i(h){f||(R(e.$$.fragment,h),R(n.$$.fragment,h),R(s.$$.fragment,h),R(l.$$.fragment,h),f=!0)},o(h){M(e.$$.fragment,h),M(n.$$.fragment,h),M(s.$$.fragment,h),M(l.$$.fragment,h),f=!1},d(h){h&&(y(t),y(i),y(a),y(o),y(u)),j(e,h),j(n,h),j(s,h),j(l,h)}}}function fPe(r){let t;return{c(){t=E("I'd love to hear your feedback on the notes!")},l(e){t=k(e,"I'd love to hear your feedback on the notes!")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function cPe(r){let t,e,i,n;return e=new bt({props:{$$slots:{default:[fPe]},$$scope:{ctx:r}}}),{c(){t=E("Additionally, "),F(e.$$.fragment),i=E(" That means both content (the notes are almost surely littered with typos and unclear wordings) and user experience. If you find mistakes or have any ideas for how to make the notes better, I'd love to hear about them! (Though I'm only a hack of a web developer, so my ability to deliver on any of your technical suggestions may be limited.) I will be keeping track of who has contributed to improving these notes, and will have a prize at the end of the semester for the student(s) responsible for the most/best improvements.")},l(a){t=k(a,"Additionally, "),z(e.$$.fragment,a),i=k(a," That means both content (the notes are almost surely littered with typos and unclear wordings) and user experience. If you find mistakes or have any ideas for how to make the notes better, I'd love to hear about them! (Though I'm only a hack of a web developer, so my ability to deliver on any of your technical suggestions may be limited.) I will be keeping track of who has contributed to improving these notes, and will have a prize at the end of the semester for the student(s) responsible for the most/best improvements.")},m(a,s){_(a,t,s),L(e,a,s),_(a,i,s),n=!0},p(a,s){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){M(e.$$.fragment,a),n=!1},d(a){a&&(y(t),y(i)),j(e,a)}}}function hPe(r){let t;return{c(){t=E(`These notes were created for educational use. With proper attribution,
    readers may freely copy, distribute, or produce derivative work from this
    content, in whole or in part, for any non-commercial use.`)},l(e){t=k(e,`These notes were created for educational use. With proper attribution,
    readers may freely copy, distribute, or produce derivative work from this
    content, in whole or in part, for any non-commercial use.`)},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function mPe(r){let t,e;return t=new bt({props:{$$slots:{default:[hPe]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p(i,n){const a={};n&1&&(a.$$scope={dirty:n,ctx:i}),t.$set(a)},i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function pPe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D,S,O,H,B,V,K,Q;return t=new Yr({props:{level:"1",refId:"welcome",$$slots:{context:[wCe],default:[_Ce]},$$scope:{ctx:r}}}),i=new ct({props:{$$slots:{default:[xCe]},$$scope:{ctx:r}}}),a=new Yr({props:{level:"2",refId:"aboutTheCourse",$$slots:{context:[ECe],default:[SCe]},$$scope:{ctx:r}}}),o=new ct({props:{$$slots:{default:[ACe]},$$scope:{ctx:r}}}),u=new ct({props:{$$slots:{default:[DCe]},$$scope:{ctx:r}}}),h=new ct({props:{$$slots:{default:[MCe]},$$scope:{ctx:r}}}),m=new ct({props:{$$slots:{default:[zCe]},$$scope:{ctx:r}}}),d=new ct({props:{$$slots:{default:[VCe]},$$scope:{ctx:r}}}),g=new Yr({props:{level:"3",refId:"textbooks",$$slots:{context:[XCe],default:[GCe]},$$scope:{ctx:r}}}),w=new ct({props:{$$slots:{default:[QCe]},$$scope:{ctx:r}}}),A=new ct({props:{$$slots:{default:[rPe]},$$scope:{ctx:r}}}),D=new Yr({props:{level:"2",refId:"aboutTheNotes",$$slots:{context:[nPe],default:[iPe]},$$scope:{ctx:r}}}),O=new ct({props:{$$slots:{default:[uPe]},$$scope:{ctx:r}}}),B=new ct({props:{$$slots:{default:[cPe]},$$scope:{ctx:r}}}),K=new ct({props:{$$slots:{default:[mPe]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment),e=Se(),F(i.$$.fragment),n=Se(),F(a.$$.fragment),s=Se(),F(o.$$.fragment),l=Se(),F(u.$$.fragment),f=Se(),F(h.$$.fragment),c=Se(),F(m.$$.fragment),v=Se(),F(d.$$.fragment),b=Se(),F(g.$$.fragment),$=Se(),F(w.$$.fragment),x=Se(),F(A.$$.fragment),I=Se(),F(D.$$.fragment),S=Se(),F(O.$$.fragment),H=Se(),F(B.$$.fragment),V=Se(),F(K.$$.fragment)},l(G){z(t.$$.fragment,G),e=Ee(G),z(i.$$.fragment,G),n=Ee(G),z(a.$$.fragment,G),s=Ee(G),z(o.$$.fragment,G),l=Ee(G),z(u.$$.fragment,G),f=Ee(G),z(h.$$.fragment,G),c=Ee(G),z(m.$$.fragment,G),v=Ee(G),z(d.$$.fragment,G),b=Ee(G),z(g.$$.fragment,G),$=Ee(G),z(w.$$.fragment,G),x=Ee(G),z(A.$$.fragment,G),I=Ee(G),z(D.$$.fragment,G),S=Ee(G),z(O.$$.fragment,G),H=Ee(G),z(B.$$.fragment,G),V=Ee(G),z(K.$$.fragment,G)},m(G,q){L(t,G,q),_(G,e,q),L(i,G,q),_(G,n,q),L(a,G,q),_(G,s,q),L(o,G,q),_(G,l,q),L(u,G,q),_(G,f,q),L(h,G,q),_(G,c,q),L(m,G,q),_(G,v,q),L(d,G,q),_(G,b,q),L(g,G,q),_(G,$,q),L(w,G,q),_(G,x,q),L(A,G,q),_(G,I,q),L(D,G,q),_(G,S,q),L(O,G,q),_(G,H,q),L(B,G,q),_(G,V,q),L(K,G,q),Q=!0},p(G,[q]){const W={};q&1&&(W.$$scope={dirty:q,ctx:G}),t.$set(W);const ne={};q&1&&(ne.$$scope={dirty:q,ctx:G}),i.$set(ne);const Z={};q&1&&(Z.$$scope={dirty:q,ctx:G}),a.$set(Z);const oe={};q&1&&(oe.$$scope={dirty:q,ctx:G}),o.$set(oe);const ie={};q&1&&(ie.$$scope={dirty:q,ctx:G}),u.$set(ie);const ae={};q&1&&(ae.$$scope={dirty:q,ctx:G}),h.$set(ae);const he={};q&1&&(he.$$scope={dirty:q,ctx:G}),m.$set(he);const Ce={};q&1&&(Ce.$$scope={dirty:q,ctx:G}),d.$set(Ce);const ke={};q&1&&(ke.$$scope={dirty:q,ctx:G}),g.$set(ke);const Te={};q&1&&(Te.$$scope={dirty:q,ctx:G}),w.$set(Te);const Ae={};q&1&&(Ae.$$scope={dirty:q,ctx:G}),A.$set(Ae);const Pe={};q&1&&(Pe.$$scope={dirty:q,ctx:G}),D.$set(Pe);const ye={};q&1&&(ye.$$scope={dirty:q,ctx:G}),O.$set(ye);const _e={};q&1&&(_e.$$scope={dirty:q,ctx:G}),B.$set(_e);const X={};q&1&&(X.$$scope={dirty:q,ctx:G}),K.$set(X)},i(G){Q||(R(t.$$.fragment,G),R(i.$$.fragment,G),R(a.$$.fragment,G),R(o.$$.fragment,G),R(u.$$.fragment,G),R(h.$$.fragment,G),R(m.$$.fragment,G),R(d.$$.fragment,G),R(g.$$.fragment,G),R(w.$$.fragment,G),R(A.$$.fragment,G),R(D.$$.fragment,G),R(O.$$.fragment,G),R(B.$$.fragment,G),R(K.$$.fragment,G),Q=!0)},o(G){M(t.$$.fragment,G),M(i.$$.fragment,G),M(a.$$.fragment,G),M(o.$$.fragment,G),M(u.$$.fragment,G),M(h.$$.fragment,G),M(m.$$.fragment,G),M(d.$$.fragment,G),M(g.$$.fragment,G),M(w.$$.fragment,G),M(A.$$.fragment,G),M(D.$$.fragment,G),M(O.$$.fragment,G),M(B.$$.fragment,G),M(K.$$.fragment,G),Q=!1},d(G){G&&(y(e),y(n),y(s),y(l),y(f),y(c),y(v),y(b),y($),y(x),y(I),y(S),y(H),y(V)),j(t,G),j(i,G),j(a,G),j(o,G),j(u,G),j(h,G),j(m,G),j(d,G),j(g,G),j(w,G),j(A,G),j(D,G),j(O,G),j(B,G),j(K,G)}}}class dPe extends $t{constructor(t){super(),_t(this,t,null,pPe,yt,{})}}function vPe(r){let t,e,i;const n=r[1].default,a=qt(n,r,r[0],null);return{c(){t=pe("blockquote"),e=pe("div"),a&&a.c(),this.h()},l(s){t=de(s,"BLOCKQUOTE",{class:!0});var o=De(t);e=de(o,"DIV",{class:!0});var l=De(e);a&&a.l(l),l.forEach(y),o.forEach(y),this.h()},h(){ce(e,"class","svelte-4acvjz"),ce(t,"class","svelte-4acvjz")},m(s,o){_(s,t,o),le(t,e),a&&a.m(e,null),i=!0},p(s,[o]){a&&a.p&&(!i||o&1)&&Ut(a,n,s,s[0],i?Wt(n,s[0],o,null):Ht(s[0]),null)},i(s){i||(R(a,s),i=!0)},o(s){M(a,s),i=!1},d(s){s&&y(t),a&&a.d(s)}}}function gPe(r,t,e){let{$$slots:i={},$$scope:n}=t;return r.$$set=a=>{"$$scope"in a&&e(0,n=a.$$scope)},[n,i]}class j$ extends $t{constructor(t){super(),_t(this,t,gPe,vPe,yt,{})}}const bPe=r=>({}),F7=r=>({}),yPe=r=>({}),z7=r=>({}),$Pe=r=>({}),L7=r=>({}),_Pe=r=>({}),j7=r=>({});function q7(r){let t,e,i;const n=r[6].abbrev,a=qt(n,r,r[10],F7);return{c(){t=E("("),a&&a.c(),e=E(")")},l(s){t=k(s,"("),a&&a.l(s),e=k(s,")")},m(s,o){_(s,t,o),a&&a.m(s,o),_(s,e,o),i=!0},p(s,o){a&&a.p&&(!i||o&1024)&&Ut(a,n,s,s[10],i?Wt(n,s[10],o,bPe):Ht(s[10]),F7)},i(s){i||(R(a,s),i=!0)},o(s){M(a,s),i=!1},d(s){s&&(y(t),y(e)),a&&a.d(s)}}}function U7(r){let t,e,i,n,a;return{c(){t=pe("a"),e=E("↩︎"),this.h()},l(s){t=de(s,"A",{style:!0,href:!0});var o=De(t);e=k(o,"↩︎"),o.forEach(y),this.h()},h(){tt(t,"font-size","var(--standardFontSize)"),ce(t,"href",i="#"+r[3])},m(s,o){_(s,t,o),le(t,e),n||(a=xt(t,"click",r[9]),n=!0)},p(s,o){o&8&&i!==(i="#"+s[3])&&ce(t,"href",i)},d(s){s&&y(t),n=!1,a()}}}function wPe(r){let t,e,i,n;const a=r[6].name,s=qt(a,r,r[10],z7);let o=r[4].abbrev&&q7(r),l=!!r[3]&&U7(r);return{c(){s&&s.c(),t=Se(),o&&o.c(),e=Se(),l&&l.c(),i=ht()},l(u){s&&s.l(u),t=Ee(u),o&&o.l(u),e=Ee(u),l&&l.l(u),i=ht()},m(u,f){s&&s.m(u,f),_(u,t,f),o&&o.m(u,f),_(u,e,f),l&&l.m(u,f),_(u,i,f),n=!0},p(u,f){s&&s.p&&(!n||f&1024)&&Ut(s,a,u,u[10],n?Wt(a,u[10],f,yPe):Ht(u[10]),z7),u[4].abbrev?o?(o.p(u,f),f&16&&R(o,1)):(o=q7(u),o.c(),R(o,1),o.m(e.parentNode,e)):o&&(ai(),M(o,1,1,()=>{o=null}),si()),u[3]?l?l.p(u,f):(l=U7(u),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i(u){n||(R(s,u),R(o),n=!0)},o(u){M(s,u),M(o),n=!1},d(u){u&&(y(t),y(e),y(i)),s&&s.d(u),o&&o.d(u),l&&l.d(u)}}}function xPe(r){let t;const e=r[6].default,i=qt(e,r,r[10],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,a){i&&i.m(n,a),t=!0},p(n,a){i&&i.p&&(!t||a&1024)&&Ut(i,e,n,n[10],t?Wt(e,n[10],a,null):Ht(n[10]),null)},i(n){t||(R(i,n),t=!0)},o(n){M(i,n),t=!1},d(n){i&&i.d(n)}}}function SPe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m;const v=r[6].name,d=qt(v,r,r[10],j7),b=r[6].abbrev,g=qt(b,r,r[10],L7);return f=new ct({props:{$$slots:{default:[wPe]},$$scope:{ctx:r}}}),c=new ct({props:{$$slots:{default:[xPe]},$$scope:{ctx:r}}}),{c(){t=pe("span"),d&&d.c(),i=Se(),n=pe("span"),g&&g.c(),s=Se(),o=pe("div"),l=pe("div"),u=pe("div"),F(f.$$.fragment),h=Se(),F(c.$$.fragment),this.h()},l($){t=de($,"SPAN",{id:!0,style:!0});var w=De(t);d&&d.l(w),w.forEach(y),i=Ee($),n=de($,"SPAN",{id:!0,style:!0});var x=De(n);g&&g.l(x),x.forEach(y),s=Ee($),o=de($,"DIV",{class:!0});var A=De(o);l=de(A,"DIV",{id:!0});var I=De(l);u=de(I,"DIV",{class:!0});var D=De(u);z(f.$$.fragment,D),D.forEach(y),h=Ee(I),z(c.$$.fragment,I),I.forEach(y),A.forEach(y),this.h()},h(){ce(t,"id",e=r[0]+":nameSlot"),tt(t,"display","none"),ce(n,"id",a=r[0]+":abbrevSlot"),tt(n,"display","none"),ce(u,"class","problemTitle svelte-1l1pya5"),ce(l,"id",r[0]),ce(o,"class","problemContainer svelte-1l1pya5")},m($,w){_($,t,w),d&&d.m(t,null),r[7](t),_($,i,w),_($,n,w),g&&g.m(n,null),r[8](n),_($,s,w),_($,o,w),le(o,l),le(l,u),L(f,u,null),le(l,h),L(c,l,null),m=!0},p($,[w]){d&&d.p&&(!m||w&1024)&&Ut(d,v,$,$[10],m?Wt(v,$[10],w,_Pe):Ht($[10]),j7),(!m||w&1&&e!==(e=$[0]+":nameSlot"))&&ce(t,"id",e),g&&g.p&&(!m||w&1024)&&Ut(g,b,$,$[10],m?Wt(b,$[10],w,$Pe):Ht($[10]),L7),(!m||w&1&&a!==(a=$[0]+":abbrevSlot"))&&ce(n,"id",a);const x={};w&1049&&(x.$$scope={dirty:w,ctx:$}),f.$set(x);const A={};w&1024&&(A.$$scope={dirty:w,ctx:$}),c.$set(A),(!m||w&1)&&ce(l,"id",$[0])},i($){m||(R(d,$),R(g,$),R(f.$$.fragment,$),R(c.$$.fragment,$),m=!0)},o($){M(d,$),M(g,$),M(f.$$.fragment,$),M(c.$$.fragment,$),m=!1},d($){$&&(y(t),y(i),y(n),y(s),y(o)),d&&d.d($),r[7](null),g&&g.d($),r[8](null),j(f),j(c)}}}function EPe(r,t,e){let i,n;St(r,Vl,v=>e(5,n=v));let{$$slots:a={},$$scope:s}=t;const o=Z7(a);let{refId:l}=t,u,f;l="prob:"+l;function h(v){xi[v?"unshift":"push"](()=>{u=v,e(1,u)})}function c(v){xi[v?"unshift":"push"](()=>{f=v,e(2,f)})}const m=()=>{Vl.update(v=>(delete v.returnIds[l],v))};return r.$$set=v=>{"refId"in v&&e(0,l=v.refId),"$$scope"in v&&e(10,s=v.$$scope)},r.$$.update=()=>{r.$$.dirty&7&&Vl.update(v=>(v.names[l]=u==null?void 0:u.firstChild,v.abbrevs[l]=f==null?void 0:f.firstChild,v)),r.$$.dirty&33&&e(3,i=n.returnIds[l])},[l,u,f,i,o,n,a,h,c,m,s]}class Cl extends $t{constructor(t){super(),_t(this,t,EPe,SPe,yt,{refId:0})}}function kPe(r){let t,e,i=r[2].numbers[r[0]]+"",n,a,s,o;return{c(){t=pe("a"),e=E("Section "),n=E(i),this.h()},l(l){t=de(l,"A",{id:!0,href:!0});var u=De(t);e=k(u,"Section "),n=k(u,i),u.forEach(y),this.h()},h(){ce(t,"id",r[1]),ce(t,"href",a="#"+r[0])},m(l,u){_(l,t,u),le(t,e),le(t,n),s||(o=xt(t,"click",r[3]),s=!0)},p(l,[u]){u&5&&i!==(i=l[2].numbers[l[0]]+"")&&Ca(n,i),u&2&&ce(t,"id",l[1]),u&1&&a!==(a="#"+l[0])&&ce(t,"href",a)},i:re,o:re,d(l){l&&y(t),s=!1,o()}}}function TPe(r,t,e){let i,n;St(r,Hr,l=>e(2,n=l));let{refId:a}=t;const s=n.numRefs[a]||1;Hr.update(l=>(Object.keys(l.numRefs).includes(a)||(l.numRefs[a]=0),l.numRefs[a]+=1,l));const o=()=>{Hr.update(l=>(l.returnIds[a]=i,l))};return r.$$set=l=>{"refId"in l&&e(0,a=l.refId)},r.$$.update=()=>{r.$$.dirty&1&&e(0,a="sec:"+a),r.$$.dirty&1&&e(1,i=a+"-ref"+s)},[a,i,n,o]}class QI extends $t{constructor(t){super(),_t(this,t,TPe,kPe,yt,{refId:0})}}function OPe(r){let t;return{c(){t=E("Definitions")},l(e){t=k(e,"Definitions")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function APe(r){let t,e="What is combinatorial optimization anyway?";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1bmw5sv"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function IPe(r){let t;return{c(){t=E("what is combinatorial optimization?")},l(e){t=k(e,"what is combinatorial optimization?")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function CPe(r){let t;return{c(){t=E('definition of "optimization"')},l(e){t=k(e,'definition of "optimization"')},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function PPe(r){let t;return{c(){t=E("Mathematics. a mathematical technique for finding a maximum or minimum value of a function of several variables subject to a set of constraints, as linear programming or systems analysis.")},l(e){t=k(e,"Mathematics. a mathematical technique for finding a maximum or minimum value of a function of several variables subject to a set of constraints, as linear programming or systems analysis.")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function DPe(r){let t,e,i="the fact of optimizing; making the best of anything.",n,a,s="the condition of being optimized.",o,l,u,f;return u=new bt({props:{$$slots:{default:[PPe]},$$scope:{ctx:r}}}),{c(){t=pe("ol"),e=pe("li"),e.textContent=i,n=Se(),a=pe("li"),a.textContent=s,o=Se(),l=pe("li"),F(u.$$.fragment)},l(h){t=de(h,"OL",{});var c=De(t);e=de(c,"LI",{"data-svelte-h":!0}),Xe(e)!=="svelte-13p2ae2"&&(e.textContent=i),n=Ee(c),a=de(c,"LI",{"data-svelte-h":!0}),Xe(a)!=="svelte-62xkzt"&&(a.textContent=s),o=Ee(c),l=de(c,"LI",{});var m=De(l);z(u.$$.fragment,m),m.forEach(y),c.forEach(y)},m(h,c){_(h,t,c),le(t,e),le(t,n),le(t,a),le(t,o),le(t,l),L(u,l,null),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),u.$set(m)},i(h){f||(R(u.$$.fragment,h),f=!0)},o(h){M(u.$$.fragment,h),f=!1},d(h){h&&y(t),j(u)}}}function NPe(r){let t;return{c(){t=E("shipping company determining how to deliver packages")},l(e){t=k(e,"shipping company determining how to deliver packages")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function RPe(r){let t;return{c(){t=E("airline determining what flights to offer")},l(e){t=k(e,"airline determining what flights to offer")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function MPe(r){let t,e,i,n,a="dictionary.com",s,o,l,u,f,h,c,m,v,d;return e=new bt({props:{$$slots:{default:[IPe]},$$scope:{ctx:r}}}),o=new bt({props:{$$slots:{default:[CPe]},$$scope:{ctx:r}}}),u=new j$({props:{$$slots:{default:[DPe]},$$scope:{ctx:r}}}),h=new bt({props:{$$slots:{default:[NPe]},$$scope:{ctx:r}}}),m=new bt({props:{$$slots:{default:[RPe]},$$scope:{ctx:r}}}),{c(){t=E("So, "),F(e.$$.fragment),i=E(" Maybe we should break it down into parts. As of the time of writing, the "),n=pe("a"),n.textContent=a,s=Se(),F(o.$$.fragment),l=E(` is:
    `),F(u.$$.fragment),f=E(`
    Definition number 3 matches perfectly with what we mean in this course. Abstractly, we're talking about maximizing or minimizing a function over some set of feasible solutions. Concretely, it could be something like a `),F(h.$$.fragment),c=E(" with the least overall cost. Or an "),F(m.$$.fragment),v=E(", considering crew/fuel/airport costs, subject to meeting projected customer demand."),this.h()},l(b){t=k(b,"So, "),z(e.$$.fragment,b),i=k(b," Maybe we should break it down into parts. As of the time of writing, the "),n=de(b,"A",{href:!0,"data-svelte-h":!0}),Xe(n)!=="svelte-cbklv7"&&(n.textContent=a),s=Ee(b),z(o.$$.fragment,b),l=k(b,` is:
    `),z(u.$$.fragment,b),f=k(b,`
    Definition number 3 matches perfectly with what we mean in this course. Abstractly, we're talking about maximizing or minimizing a function over some set of feasible solutions. Concretely, it could be something like a `),z(h.$$.fragment,b),c=k(b," with the least overall cost. Or an "),z(m.$$.fragment,b),v=k(b,", considering crew/fuel/airport costs, subject to meeting projected customer demand."),this.h()},h(){ce(n,"href","https://www.dictionary.com/browse/optimization")},m(b,g){_(b,t,g),L(e,b,g),_(b,i,g),_(b,n,g),_(b,s,g),L(o,b,g),_(b,l,g),L(u,b,g),_(b,f,g),L(h,b,g),_(b,c,g),L(m,b,g),_(b,v,g),d=!0},p(b,g){const $={};g&1&&($.$$scope={dirty:g,ctx:b}),e.$set($);const w={};g&1&&(w.$$scope={dirty:g,ctx:b}),o.$set(w);const x={};g&1&&(x.$$scope={dirty:g,ctx:b}),u.$set(x);const A={};g&1&&(A.$$scope={dirty:g,ctx:b}),h.$set(A);const I={};g&1&&(I.$$scope={dirty:g,ctx:b}),m.$set(I)},i(b){d||(R(e.$$.fragment,b),R(o.$$.fragment,b),R(u.$$.fragment,b),R(h.$$.fragment,b),R(m.$$.fragment,b),d=!0)},o(b){M(e.$$.fragment,b),M(o.$$.fragment,b),M(u.$$.fragment,b),M(h.$$.fragment,b),M(m.$$.fragment,b),d=!1},d(b){b&&(y(t),y(i),y(n),y(s),y(l),y(f),y(c),y(v)),j(e,b),j(o,b),j(u,b),j(h,b),j(m,b)}}}function BPe(r){let t;return{c(){t=E('definition of "combinatorial"')},l(e){t=k(e,'definition of "combinatorial"')},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function FPe(r){let t;return{c(){t=E("of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration.")},l(e){t=k(e,"of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration.")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function zPe(r){let t,e,i="of, relating to, or involving the combination of elements, as in phonetics or music.",n,a,s,o,l,u="Mathematics. of or relating to combination, or the modes, properties, etc., of combinations.",f;return s=new bt({props:{$$slots:{default:[FPe]},$$scope:{ctx:r}}}),{c(){t=pe("ol"),e=pe("li"),e.textContent=i,n=Se(),a=pe("li"),F(s.$$.fragment),o=Se(),l=pe("li"),l.textContent=u},l(h){t=de(h,"OL",{});var c=De(t);e=de(c,"LI",{"data-svelte-h":!0}),Xe(e)!=="svelte-1mo51td"&&(e.textContent=i),n=Ee(c),a=de(c,"LI",{});var m=De(a);z(s.$$.fragment,m),m.forEach(y),o=Ee(c),l=de(c,"LI",{"data-svelte-h":!0}),Xe(l)!=="svelte-1kqpjdy"&&(l.textContent=u),c.forEach(y)},m(h,c){_(h,t,c),le(t,e),le(t,n),le(t,a),L(s,a,null),le(t,o),le(t,l),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),s.$set(m)},i(h){f||(R(s.$$.fragment,h),f=!0)},o(h){M(s.$$.fragment,h),f=!1},d(h){h&&y(t),j(s)}}}function LPe(r){let t;return{c(){t=E('"combinatorial" describes the set of feasible solutions')},l(e){t=k(e,'"combinatorial" describes the set of feasible solutions')},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function jPe(r){let t,e,i,n,a="dictionary.com",s,o,l,u,f,h;return e=new bt({props:{$$slots:{default:[BPe]},$$scope:{ctx:r}}}),o=new j$({props:{$$slots:{default:[zPe]},$$scope:{ctx:r}}}),u=new bt({props:{$$slots:{default:[LPe]},$$scope:{ctx:r}}}),{c(){t=E("Meanwhile, the "),F(e.$$.fragment),i=E(" (also from "),n=pe("a"),n.textContent=a,s=E(`) is:
    `),F(o.$$.fragment),l=E(`
    Most useful for us is definition number 2, "of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration." We will see that `),F(u.$$.fragment),f=E(" in the problems we are about to study."),this.h()},l(c){t=k(c,"Meanwhile, the "),z(e.$$.fragment,c),i=k(c," (also from "),n=de(c,"A",{href:!0,"data-svelte-h":!0}),Xe(n)!=="svelte-1gvq6s2"&&(n.textContent=a),s=k(c,`) is:
    `),z(o.$$.fragment,c),l=k(c,`
    Most useful for us is definition number 2, "of or relating to the enumeration of the number of ways of doing some specific task or of arranging items in a specific configuration." We will see that `),z(u.$$.fragment,c),f=k(c," in the problems we are about to study."),this.h()},h(){ce(n,"href","https://www.dictionary.com/browse/combinatorial")},m(c,m){_(c,t,m),L(e,c,m),_(c,i,m),_(c,n,m),_(c,s,m),L(o,c,m),_(c,l,m),L(u,c,m),_(c,f,m),h=!0},p(c,m){const v={};m&1&&(v.$$scope={dirty:m,ctx:c}),e.$set(v);const d={};m&1&&(d.$$scope={dirty:m,ctx:c}),o.$set(d);const b={};m&1&&(b.$$scope={dirty:m,ctx:c}),u.$set(b)},i(c){h||(R(e.$$.fragment,c),R(o.$$.fragment,c),R(u.$$.fragment,c),h=!0)},o(c){M(e.$$.fragment,c),M(o.$$.fragment,c),M(u.$$.fragment,c),h=!1},d(c){c&&(y(t),y(i),y(n),y(s),y(l),y(f)),j(e,c),j(o,c),j(u,c)}}}function qPe(r){let t;return{c(){t=E("combinatorial optimization")},l(e){t=k(e,"combinatorial optimization")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function UPe(r){let t,e="A subfield of mathematical optimization that consists of finding an optimal object from a finite set of objects, where the set of feasible solutions is discrete or can be reduced to a discrete set.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1rgbx2d"&&(t.textContent=e),this.h()},h(){ce(t,"slot","definition")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function HPe(r){let t;return{c(){t=E("a subfield of mathematical optimization that consists of finding an optimal object from a finite set of objects, where the set of feasible solutions is discrete or can be reduced to a discrete set")},l(e){t=k(e,"a subfield of mathematical optimization that consists of finding an optimal object from a finite set of objects, where the set of feasible solutions is discrete or can be reduced to a discrete set")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function WPe(r){let t,e;return t=new ct({props:{$$slots:{default:[HPe]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p(i,n){const a={};n&1&&(a.$$scope={dirty:n,ctx:i}),t.$set(a)},i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function VPe(r){let t,e,i="Wikipedia page",n,a,s,o,l;return a=new Kr({props:{refId:"combinatorialOptimization",$$slots:{definition:[UPe],default:[qPe]},$$scope:{ctx:r}}}),o=new j$({props:{$$slots:{default:[WPe]},$$scope:{ctx:r}}}),{c(){t=E("Time to bring it all together. The "),e=pe("a"),e.textContent=i,n=E(" on "),F(a.$$.fragment),s=E(` describes it as:
    `),F(o.$$.fragment),this.h()},l(u){t=k(u,"Time to bring it all together. The "),e=de(u,"A",{href:!0,"data-svelte-h":!0}),Xe(e)!=="svelte-1xuusl"&&(e.textContent=i),n=k(u," on "),z(a.$$.fragment,u),s=k(u,` describes it as:
    `),z(o.$$.fragment,u),this.h()},h(){ce(e,"href","https://en.wikipedia.org/wiki/Combinatorial_optimization")},m(u,f){_(u,t,f),_(u,e,f),_(u,n,f),L(a,u,f),_(u,s,f),L(o,u,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),a.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),o.$set(c)},i(u){l||(R(a.$$.fragment,u),R(o.$$.fragment,u),l=!0)},o(u){M(a.$$.fragment,u),M(o.$$.fragment,u),l=!1},d(u){u&&(y(t),y(e),y(n),y(s)),j(a,u),j(o,u)}}}function GPe(r){let t;return{c(){t=E("define a combinatorial optimization problem as")},l(e){t=k(e,"define a combinatorial optimization problem as")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function XPe(r){let t,e,i,n;return e=new QI({props:{refId:"symbols"}}),{c(){t=E("Notation alert! We'll be using lots of mathematical notation like this in the course. Most if it is standard, and you might already be familiar with it if you've taken some higher-level math course. I'll try to point out new notation in class as we go along, but you can always check "),F(e.$$.fragment),i=E(` in the appendix for information on the symbols used.
    `)},l(a){t=k(a,"Notation alert! We'll be using lots of mathematical notation like this in the course. Most if it is standard, and you might already be familiar with it if you've taken some higher-level math course. I'll try to point out new notation in class as we go along, but you can always check "),z(e.$$.fragment,a),i=k(a,` in the appendix for information on the symbols used.
    `)},m(a,s){_(a,t,s),L(e,a,s),_(a,i,s),n=!0},p:re,i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){M(e.$$.fragment,a),n=!1},d(a){a&&(y(t),y(i)),j(e,a)}}}function KPe(r){let t,e,i,n,a,s,o;return e=new zi({props:{refId:"wolsey2020"}}),n=new bt({props:{$$slots:{default:[GPe]},$$scope:{ctx:r}}}),a=new Kc({props:{$$slots:{default:[XPe]},$$scope:{ctx:r}}}),{c(){t=E("For this class, we will adopt the formalism of "),F(e.$$.fragment),i=E(" and "),F(n.$$.fragment),F(a.$$.fragment),s=E(":")},l(l){t=k(l,"For this class, we will adopt the formalism of "),z(e.$$.fragment,l),i=k(l," and "),z(n.$$.fragment,l),z(a.$$.fragment,l),s=k(l,":")},m(l,u){_(l,t,u),L(e,l,u),_(l,i,u),L(n,l,u),L(a,l,u),_(l,s,u),o=!0},p(l,u){const f={};u&1&&(f.$$scope={dirty:u,ctx:l}),n.$set(f);const h={};u&1&&(h.$$scope={dirty:u,ctx:l}),a.$set(h)},i(l){o||(R(e.$$.fragment,l),R(n.$$.fragment,l),R(a.$$.fragment,l),o=!0)},o(l){M(e.$$.fragment,l),M(n.$$.fragment,l),M(a.$$.fragment,l),o=!1},d(l){l&&(y(t),y(i),y(s)),j(e,l),j(n,l),j(a,l)}}}function YPe(r){let t=String.raw`N=\{1,\dots,n\}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function JPe(r){let t=String.raw`c{:underscore:}j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function QPe(r){let t=String.raw`j\in N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function ZPe(r){let t=String.raw`\mathcal{F}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function eDe(r){let t=String.raw`N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function tDe(r){let t=String.raw`
        \min{:underscore:}{S\subseteq N}\left\{\sum{:underscore:}{j\in S}c{:underscore:}j:S\in\mathcal{F}\right\}
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function rDe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m;return e=new $e({props:{$$slots:{default:[YPe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[JPe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[QPe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[ZPe]},$$scope:{ctx:r}}}),f=new $e({props:{$$slots:{default:[eDe]},$$scope:{ctx:r}}}),c=new ni({props:{$$slots:{default:[tDe]},$$scope:{ctx:r}}}),{c(){t=E("Given a finite set "),F(e.$$.fragment),i=E(", weights "),F(n.$$.fragment),a=E(" for each "),F(s.$$.fragment),o=E(", and a set "),F(l.$$.fragment),u=E(" of feasible subsets of "),F(f.$$.fragment),h=E(`, find a minimum weight feasible subset, i.e.
    `),F(c.$$.fragment)},l(v){t=k(v,"Given a finite set "),z(e.$$.fragment,v),i=k(v,", weights "),z(n.$$.fragment,v),a=k(v," for each "),z(s.$$.fragment,v),o=k(v,", and a set "),z(l.$$.fragment,v),u=k(v," of feasible subsets of "),z(f.$$.fragment,v),h=k(v,`, find a minimum weight feasible subset, i.e.
    `),z(c.$$.fragment,v)},m(v,d){_(v,t,d),L(e,v,d),_(v,i,d),L(n,v,d),_(v,a,d),L(s,v,d),_(v,o,d),L(l,v,d),_(v,u,d),L(f,v,d),_(v,h,d),L(c,v,d),m=!0},p(v,d){const b={};d&1&&(b.$$scope={dirty:d,ctx:v}),e.$set(b);const g={};d&1&&(g.$$scope={dirty:d,ctx:v}),n.$set(g);const $={};d&1&&($.$$scope={dirty:d,ctx:v}),s.$set($);const w={};d&1&&(w.$$scope={dirty:d,ctx:v}),l.$set(w);const x={};d&1&&(x.$$scope={dirty:d,ctx:v}),f.$set(x);const A={};d&1&&(A.$$scope={dirty:d,ctx:v}),c.$set(A)},i(v){m||(R(e.$$.fragment,v),R(n.$$.fragment,v),R(s.$$.fragment,v),R(l.$$.fragment,v),R(f.$$.fragment,v),R(c.$$.fragment,v),m=!0)},o(v){M(e.$$.fragment,v),M(n.$$.fragment,v),M(s.$$.fragment,v),M(l.$$.fragment,v),M(f.$$.fragment,v),M(c.$$.fragment,v),m=!1},d(v){v&&(y(t),y(i),y(a),y(o),y(u),y(h)),j(e,v),j(n,v),j(s,v),j(l,v),j(f,v),j(c,v)}}}function iDe(r){let t,e="Combinatorial Optimization Problem";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1hl8dok"&&(t.textContent=e),this.h()},h(){ce(t,"slot","name")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function nDe(r){let t,e="COP";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-jwiro9"&&(t.textContent=e),this.h()},h(){ce(t,"slot","abbrev")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function aDe(r){let t,e,i,n,a,s,o,l,u,f,h,c;return t=new Yr({props:{level:"2",refId:"combOptDefs",$$slots:{context:[APe],default:[OPe]},$$scope:{ctx:r}}}),i=new ct({props:{$$slots:{default:[MPe]},$$scope:{ctx:r}}}),a=new ct({props:{$$slots:{default:[jPe]},$$scope:{ctx:r}}}),o=new ct({props:{$$slots:{default:[VPe]},$$scope:{ctx:r}}}),u=new ct({props:{$$slots:{default:[KPe]},$$scope:{ctx:r}}}),h=new Cl({props:{refId:"combOpt",$$slots:{abbrev:[nDe],name:[iDe],default:[rDe]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment),e=Se(),F(i.$$.fragment),n=Se(),F(a.$$.fragment),s=Se(),F(o.$$.fragment),l=Se(),F(u.$$.fragment),f=Se(),F(h.$$.fragment)},l(m){z(t.$$.fragment,m),e=Ee(m),z(i.$$.fragment,m),n=Ee(m),z(a.$$.fragment,m),s=Ee(m),z(o.$$.fragment,m),l=Ee(m),z(u.$$.fragment,m),f=Ee(m),z(h.$$.fragment,m)},m(m,v){L(t,m,v),_(m,e,v),L(i,m,v),_(m,n,v),L(a,m,v),_(m,s,v),L(o,m,v),_(m,l,v),L(u,m,v),_(m,f,v),L(h,m,v),c=!0},p(m,[v]){const d={};v&1&&(d.$$scope={dirty:v,ctx:m}),t.$set(d);const b={};v&1&&(b.$$scope={dirty:v,ctx:m}),i.$set(b);const g={};v&1&&(g.$$scope={dirty:v,ctx:m}),a.$set(g);const $={};v&1&&($.$$scope={dirty:v,ctx:m}),o.$set($);const w={};v&1&&(w.$$scope={dirty:v,ctx:m}),u.$set(w);const x={};v&1&&(x.$$scope={dirty:v,ctx:m}),h.$set(x)},i(m){c||(R(t.$$.fragment,m),R(i.$$.fragment,m),R(a.$$.fragment,m),R(o.$$.fragment,m),R(u.$$.fragment,m),R(h.$$.fragment,m),c=!0)},o(m){M(t.$$.fragment,m),M(i.$$.fragment,m),M(a.$$.fragment,m),M(o.$$.fragment,m),M(u.$$.fragment,m),M(h.$$.fragment,m),c=!1},d(m){m&&(y(e),y(n),y(s),y(l),y(f)),j(t,m),j(i,m),j(a,m),j(o,m),j(u,m),j(h,m)}}}class sDe extends $t{constructor(t){super(),_t(this,t,null,aDe,yt,{})}}function oDe(r){let t,e,i,n;return e=new gr({props:{refId:"combOpt",link:!1}}),{c(){t=E("Example "),F(e.$$.fragment),i=E("s")},l(a){t=k(a,"Example "),z(e.$$.fragment,a),i=k(a,"s")},m(a,s){_(a,t,s),L(e,a,s),_(a,i,s),n=!0},p:re,i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){M(e.$$.fragment,a),n=!1},d(a){a&&(y(t),y(i)),j(e,a)}}}function lDe(r){let t,e,i,n,a;return i=new gr({props:{refId:"combOpt",link:!1}}),{c(){t=pe("span"),e=E("Presenting a few example "),F(i.$$.fragment),n=E("s to help make sense of the definition."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"Presenting a few example "),z(i.$$.fragment,o),n=k(o,"s to help make sense of the definition."),o.forEach(y),this.h()},h(){ce(t,"slot","context")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function uDe(r){let t,e,i,n;return e=new gr({props:{refId:"combOpt"}}),{c(){t=E("present a few "),F(e.$$.fragment),i=E("s and examine how they fit the framework")},l(a){t=k(a,"present a few "),z(e.$$.fragment,a),i=k(a,"s and examine how they fit the framework")},m(a,s){_(a,t,s),L(e,a,s),_(a,i,s),n=!0},p:re,i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){M(e.$$.fragment,a),n=!1},d(a){a&&(y(t),y(i)),j(e,a)}}}function fDe(r){let t;return{c(){t=E("graph theory")},l(e){t=k(e,"graph theory")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function cDe(r){let t,e,i,n,a,s,o,l;return e=new bt({props:{$$slots:{default:[uDe]},$$scope:{ctx:r}}}),n=new bt({props:{$$slots:{default:[fDe]},$$scope:{ctx:r}}}),s=new QI({props:{refId:"graphTheory"}}),{c(){t=E("It might take a few examples to really internalize the definition. So, let's go ahead and "),F(e.$$.fragment),i=E(". Several of these are most convenient to define in the language of "),F(n.$$.fragment),a=E(". If you've seen graphs before, then great! If not, you can brush up on the preliminaries in the appendix, "),F(s.$$.fragment),o=E(".")},l(u){t=k(u,"It might take a few examples to really internalize the definition. So, let's go ahead and "),z(e.$$.fragment,u),i=k(u,". Several of these are most convenient to define in the language of "),z(n.$$.fragment,u),a=k(u,". If you've seen graphs before, then great! If not, you can brush up on the preliminaries in the appendix, "),z(s.$$.fragment,u),o=k(u,".")},m(u,f){_(u,t,f),L(e,u,f),_(u,i,f),L(n,u,f),_(u,a,f),L(s,u,f),_(u,o,f),l=!0},p(u,f){const h={};f&1&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c={};f&1&&(c.$$scope={dirty:f,ctx:u}),n.$set(c)},i(u){l||(R(e.$$.fragment,u),R(n.$$.fragment,u),R(s.$$.fragment,u),l=!0)},o(u){M(e.$$.fragment,u),M(n.$$.fragment,u),M(s.$$.fragment,u),l=!1},d(u){u&&(y(t),y(i),y(a),y(o)),j(e,u),j(n,u),j(s,u)}}}function hDe(r){let t;return{c(){t=E("Shortest paths")},l(e){t=k(e,"Shortest paths")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function mDe(r){let t,e,i,n,a;return i=new gr({props:{refId:"combOpt",link:!1}}),{c(){t=pe("span"),e=E("Showing how a simple problem fits into the "),F(i.$$.fragment),n=E(" framework"),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"Showing how a simple problem fits into the "),z(i.$$.fragment,o),n=k(o," framework"),o.forEach(y),this.h()},h(){ce(t,"slot","context")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function pDe(r){let t;return{c(){t=E("We'll start with a basic one:")},l(e){t=k(e,"We'll start with a basic one:")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function dDe(r){let t=String.raw`D=(V,A)`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function vDe(r){let t=String.raw`s,t\in V`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function gDe(r){let t=String.raw`c{:underscore:}{ij}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function bDe(r){let t=String.raw`i,j\in A`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function yDe(r){let t=String.raw`s`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function $De(r){let t=String.raw`t`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function _De(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v;return e=new $e({props:{$$slots:{default:[dDe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[vDe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[gDe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[bDe]},$$scope:{ctx:r}}}),f=new $e({props:{$$slots:{default:[yDe]},$$scope:{ctx:r}}}),c=new $e({props:{$$slots:{default:[$De]},$$scope:{ctx:r}}}),{c(){t=E("Given a digraph "),F(e.$$.fragment),i=E(", two nodes "),F(n.$$.fragment),a=E(", and non-negative arc costs "),F(s.$$.fragment),o=E(" for each "),F(l.$$.fragment),u=E(", find a minimum-cost path from "),F(f.$$.fragment),h=E(" to "),F(c.$$.fragment),m=E(".")},l(d){t=k(d,"Given a digraph "),z(e.$$.fragment,d),i=k(d,", two nodes "),z(n.$$.fragment,d),a=k(d,", and non-negative arc costs "),z(s.$$.fragment,d),o=k(d," for each "),z(l.$$.fragment,d),u=k(d,", find a minimum-cost path from "),z(f.$$.fragment,d),h=k(d," to "),z(c.$$.fragment,d),m=k(d,".")},m(d,b){_(d,t,b),L(e,d,b),_(d,i,b),L(n,d,b),_(d,a,b),L(s,d,b),_(d,o,b),L(l,d,b),_(d,u,b),L(f,d,b),_(d,h,b),L(c,d,b),_(d,m,b),v=!0},p(d,b){const g={};b&1&&(g.$$scope={dirty:b,ctx:d}),e.$set(g);const $={};b&1&&($.$$scope={dirty:b,ctx:d}),n.$set($);const w={};b&1&&(w.$$scope={dirty:b,ctx:d}),s.$set(w);const x={};b&1&&(x.$$scope={dirty:b,ctx:d}),l.$set(x);const A={};b&1&&(A.$$scope={dirty:b,ctx:d}),f.$set(A);const I={};b&1&&(I.$$scope={dirty:b,ctx:d}),c.$set(I)},i(d){v||(R(e.$$.fragment,d),R(n.$$.fragment,d),R(s.$$.fragment,d),R(l.$$.fragment,d),R(f.$$.fragment,d),R(c.$$.fragment,d),v=!0)},o(d){M(e.$$.fragment,d),M(n.$$.fragment,d),M(s.$$.fragment,d),M(l.$$.fragment,d),M(f.$$.fragment,d),M(c.$$.fragment,d),v=!1},d(d){d&&(y(t),y(i),y(a),y(o),y(u),y(h),y(m)),j(e,d),j(n,d),j(s,d),j(l,d),j(f,d),j(c,d)}}}function wDe(r){let t,e="Shortest Path Problem";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-lm1nek"&&(t.textContent=e),this.h()},h(){ce(t,"slot","name")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function xDe(r){let t=String.raw`s`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function SDe(r){let t=String.raw`t`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function EDe(r){let t;return{c(){t=E("Why don't you go ahead and try to figure it out the best path by visual inspection. We'll come back and solve this example later.")},l(e){t=k(e,"Why don't you go ahead and try to figure it out the best path by visual inspection. We'll come back and solve this example later.")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function kDe(r){let t,e,i,n,a,s,o,l,u,f;return e=new Ia({props:{refId:"shortestPathFirstExample"}}),n=new $e({props:{$$slots:{default:[xDe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[SDe]},$$scope:{ctx:r}}}),l=new Kc({props:{$$slots:{default:[EDe]},$$scope:{ctx:r}}}),{c(){t=E("Pretty simple setup. We have some directed graph, maybe like the one below in "),F(e.$$.fragment),i=E(". We want to find the lowest-cost path from node "),F(n.$$.fragment),a=E(" on the left of the graph to node "),F(s.$$.fragment),o=E(" on the right, where arc costs are written directly on each arc in the figure"),F(l.$$.fragment),u=E(".")},l(h){t=k(h,"Pretty simple setup. We have some directed graph, maybe like the one below in "),z(e.$$.fragment,h),i=k(h,". We want to find the lowest-cost path from node "),z(n.$$.fragment,h),a=k(h," on the left of the graph to node "),z(s.$$.fragment,h),o=k(h," on the right, where arc costs are written directly on each arc in the figure"),z(l.$$.fragment,h),u=k(h,".")},m(h,c){_(h,t,c),L(e,h,c),_(h,i,c),L(n,h,c),_(h,a,c),L(s,h,c),_(h,o,c),L(l,h,c),_(h,u,c),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),n.$set(m);const v={};c&1&&(v.$$scope={dirty:c,ctx:h}),s.$set(v);const d={};c&1&&(d.$$scope={dirty:c,ctx:h}),l.$set(d)},i(h){f||(R(e.$$.fragment,h),R(n.$$.fragment,h),R(s.$$.fragment,h),R(l.$$.fragment,h),f=!0)},o(h){M(e.$$.fragment,h),M(n.$$.fragment,h),M(s.$$.fragment,h),M(l.$$.fragment,h),f=!1},d(h){h&&(y(t),y(i),y(a),y(o),y(u)),j(e,h),j(n,h),j(s,h),j(l,h)}}}function TDe(r){let t,e;return t=new Wu({props:{nodes:[{id:1,label:"s",x:0,y:.5},{id:2,label:"a",x:.3,y:1},{id:3,label:"b",x:.3,y:0},{id:4,label:"c",x:.7,y:1},{id:5,label:"d",x:.7,y:0},{id:6,label:"t",x:1,y:.5}],edges:["s-a-3","s-b-4","a-c-5","a-d-2","b-d-2","d-c-2","c-t-2","d-t-6"],directed:!0}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p:re,i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function ODe(r){let t,e="An example shortest path problem.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1odllme"&&(t.textContent=e),this.h()},h(){ce(t,"slot","caption")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function ADe(r){let t=String.raw`N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function IDe(r){let t=String.raw`
        \begin{align*}
        N = \{&(s,a), (s,b), (a,d), (a,c),\\
              &(b,d), (c,t), (d,c), (d,t) \}
        \end{align*}
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function CDe(r){let t=String.raw`c{:underscore:}j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function PDe(r){let t=String.raw`j\in N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function DDe(r){let t=String.raw`c{:underscore:}{sa}=3`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function NDe(r){let t=String.raw`c{:underscore:}{sb}=4`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function RDe(r){let t=String.raw`\mathcal{F}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function MDe(r){let t=String.raw`N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function BDe(r){let t=String.raw`s`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function FDe(r){let t=String.raw`t`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function zDe(r){let t=String.raw`
        \begin{align*}
        \{(s,b),(b,d),(d,t)\}&\in\mathcal{F},\\
        \{(s,a),(a,d),(d,c),(c,t)\}&\in\mathcal{F}
        \end{align*}
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function LDe(r){let t=String.raw`s`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function jDe(r){let t=String.raw`t`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function qDe(r){let t=String.raw`
        \{(s,a),(a,c)\}\not\in\mathcal{F}
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function UDe(r){let t=String.raw`t`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function HDe(r){let t=String.raw`s-t`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function WDe(r){let t=String.raw`
        \min{:underscore:}{S\subseteq N}\left\{\sum{:underscore:}{j\in S}c{:underscore:}j:S\in\mathcal{F}\right\}
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function VDe(r){let t=String.raw`N,c`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function GDe(r){let t=String.raw`\mathcal{F}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function XDe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D,S,O,H,B,V,K,Q,G,q,W,ne,Z,oe,ie,ae,he,Ce,ke,Te,Ae,Pe,ye,_e;return e=new gr({props:{refId:"combOpt"}}),n=new $e({props:{$$slots:{default:[ADe]},$$scope:{ctx:r}}}),s=new ni({props:{$$slots:{default:[IDe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[CDe]},$$scope:{ctx:r}}}),f=new $e({props:{$$slots:{default:[PDe]},$$scope:{ctx:r}}}),c=new $e({props:{$$slots:{default:[DDe]},$$scope:{ctx:r}}}),v=new $e({props:{$$slots:{default:[NDe]},$$scope:{ctx:r}}}),b=new $e({props:{$$slots:{default:[RDe]},$$scope:{ctx:r}}}),$=new $e({props:{$$slots:{default:[MDe]},$$scope:{ctx:r}}}),x=new $e({props:{$$slots:{default:[BDe]},$$scope:{ctx:r}}}),I=new $e({props:{$$slots:{default:[FDe]},$$scope:{ctx:r}}}),S=new ni({props:{$$slots:{default:[zDe]},$$scope:{ctx:r}}}),H=new $e({props:{$$slots:{default:[LDe]},$$scope:{ctx:r}}}),V=new $e({props:{$$slots:{default:[jDe]},$$scope:{ctx:r}}}),Q=new ni({props:{$$slots:{default:[qDe]},$$scope:{ctx:r}}}),q=new $e({props:{$$slots:{default:[UDe]},$$scope:{ctx:r}}}),ne=new gr({props:{refId:"shortestPath"}}),oe=new gr({props:{refId:"combOpt"}}),ae=new $e({props:{$$slots:{default:[HDe]},$$scope:{ctx:r}}}),Ce=new ni({props:{$$slots:{default:[WDe]},$$scope:{ctx:r}}}),Te=new $e({props:{$$slots:{default:[VDe]},$$scope:{ctx:r}}}),Pe=new $e({props:{$$slots:{default:[GDe]},$$scope:{ctx:r}}}),{c(){t=E("How does this fit into our definition of a "),F(e.$$.fragment),i=E("? Well, our finite set "),F(n.$$.fragment),a=E(` is the set of arcs in the network, so
    `),F(s.$$.fragment),o=E(`
    The weights `),F(l.$$.fragment),u=E(" for each "),F(f.$$.fragment),h=E(" are the arc costs displayed in the diagram, so "),F(c.$$.fragment),m=E(", "),F(v.$$.fragment),d=E(", and so on. And the set "),F(b.$$.fragment),g=E(" of feasible subsets of "),F($.$$.fragment),w=E(" are sets of arcs that create a valid path from "),F(x.$$.fragment),A=E(" to "),F(I.$$.fragment),D=E(`. So for example we have
    `),F(S.$$.fragment),O=E(`
    since they all denote paths from `),F(H.$$.fragment),B=E(" to "),F(V.$$.fragment),K=E(`, but 
    `),F(Q.$$.fragment),G=E(`
    since that path doesn't end at `),F(q.$$.fragment),W=E(". So we can see that the "),F(ne.$$.fragment),Z=E(" indeed fits the "),F(oe.$$.fragment),ie=E(" framework, since finding the minimum-cost "),F(ae.$$.fragment),he=E(` path corresponds to finding
    `),F(Ce.$$.fragment),ke=E(`
    with `),F(Te.$$.fragment),Ae=E(", and "),F(Pe.$$.fragment),ye=E(" as we've just defined them.")},l(X){t=k(X,"How does this fit into our definition of a "),z(e.$$.fragment,X),i=k(X,"? Well, our finite set "),z(n.$$.fragment,X),a=k(X,` is the set of arcs in the network, so
    `),z(s.$$.fragment,X),o=k(X,`
    The weights `),z(l.$$.fragment,X),u=k(X," for each "),z(f.$$.fragment,X),h=k(X," are the arc costs displayed in the diagram, so "),z(c.$$.fragment,X),m=k(X,", "),z(v.$$.fragment,X),d=k(X,", and so on. And the set "),z(b.$$.fragment,X),g=k(X," of feasible subsets of "),z($.$$.fragment,X),w=k(X," are sets of arcs that create a valid path from "),z(x.$$.fragment,X),A=k(X," to "),z(I.$$.fragment,X),D=k(X,`. So for example we have
    `),z(S.$$.fragment,X),O=k(X,`
    since they all denote paths from `),z(H.$$.fragment,X),B=k(X," to "),z(V.$$.fragment,X),K=k(X,`, but 
    `),z(Q.$$.fragment,X),G=k(X,`
    since that path doesn't end at `),z(q.$$.fragment,X),W=k(X,". So we can see that the "),z(ne.$$.fragment,X),Z=k(X," indeed fits the "),z(oe.$$.fragment,X),ie=k(X," framework, since finding the minimum-cost "),z(ae.$$.fragment,X),he=k(X,` path corresponds to finding
    `),z(Ce.$$.fragment,X),ke=k(X,`
    with `),z(Te.$$.fragment,X),Ae=k(X,", and "),z(Pe.$$.fragment,X),ye=k(X," as we've just defined them.")},m(X,fe){_(X,t,fe),L(e,X,fe),_(X,i,fe),L(n,X,fe),_(X,a,fe),L(s,X,fe),_(X,o,fe),L(l,X,fe),_(X,u,fe),L(f,X,fe),_(X,h,fe),L(c,X,fe),_(X,m,fe),L(v,X,fe),_(X,d,fe),L(b,X,fe),_(X,g,fe),L($,X,fe),_(X,w,fe),L(x,X,fe),_(X,A,fe),L(I,X,fe),_(X,D,fe),L(S,X,fe),_(X,O,fe),L(H,X,fe),_(X,B,fe),L(V,X,fe),_(X,K,fe),L(Q,X,fe),_(X,G,fe),L(q,X,fe),_(X,W,fe),L(ne,X,fe),_(X,Z,fe),L(oe,X,fe),_(X,ie,fe),L(ae,X,fe),_(X,he,fe),L(Ce,X,fe),_(X,ke,fe),L(Te,X,fe),_(X,Ae,fe),L(Pe,X,fe),_(X,ye,fe),_e=!0},p(X,fe){const te={};fe&1&&(te.$$scope={dirty:fe,ctx:X}),n.$set(te);const ve={};fe&1&&(ve.$$scope={dirty:fe,ctx:X}),s.$set(ve);const je={};fe&1&&(je.$$scope={dirty:fe,ctx:X}),l.$set(je);const Y={};fe&1&&(Y.$$scope={dirty:fe,ctx:X}),f.$set(Y);const P={};fe&1&&(P.$$scope={dirty:fe,ctx:X}),c.$set(P);const N={};fe&1&&(N.$$scope={dirty:fe,ctx:X}),v.$set(N);const ee={};fe&1&&(ee.$$scope={dirty:fe,ctx:X}),b.$set(ee);const be={};fe&1&&(be.$$scope={dirty:fe,ctx:X}),$.$set(be);const Ie={};fe&1&&(Ie.$$scope={dirty:fe,ctx:X}),x.$set(Ie);const Re={};fe&1&&(Re.$$scope={dirty:fe,ctx:X}),I.$set(Re);const at={};fe&1&&(at.$$scope={dirty:fe,ctx:X}),S.$set(at);const dt={};fe&1&&(dt.$$scope={dirty:fe,ctx:X}),H.$set(dt);const mt={};fe&1&&(mt.$$scope={dirty:fe,ctx:X}),V.$set(mt);const Nt={};fe&1&&(Nt.$$scope={dirty:fe,ctx:X}),Q.$set(Nt);const wt={};fe&1&&(wt.$$scope={dirty:fe,ctx:X}),q.$set(wt);const Jt={};fe&1&&(Jt.$$scope={dirty:fe,ctx:X}),ae.$set(Jt);const vr={};fe&1&&(vr.$$scope={dirty:fe,ctx:X}),Ce.$set(vr);const tr={};fe&1&&(tr.$$scope={dirty:fe,ctx:X}),Te.$set(tr);const cr={};fe&1&&(cr.$$scope={dirty:fe,ctx:X}),Pe.$set(cr)},i(X){_e||(R(e.$$.fragment,X),R(n.$$.fragment,X),R(s.$$.fragment,X),R(l.$$.fragment,X),R(f.$$.fragment,X),R(c.$$.fragment,X),R(v.$$.fragment,X),R(b.$$.fragment,X),R($.$$.fragment,X),R(x.$$.fragment,X),R(I.$$.fragment,X),R(S.$$.fragment,X),R(H.$$.fragment,X),R(V.$$.fragment,X),R(Q.$$.fragment,X),R(q.$$.fragment,X),R(ne.$$.fragment,X),R(oe.$$.fragment,X),R(ae.$$.fragment,X),R(Ce.$$.fragment,X),R(Te.$$.fragment,X),R(Pe.$$.fragment,X),_e=!0)},o(X){M(e.$$.fragment,X),M(n.$$.fragment,X),M(s.$$.fragment,X),M(l.$$.fragment,X),M(f.$$.fragment,X),M(c.$$.fragment,X),M(v.$$.fragment,X),M(b.$$.fragment,X),M($.$$.fragment,X),M(x.$$.fragment,X),M(I.$$.fragment,X),M(S.$$.fragment,X),M(H.$$.fragment,X),M(V.$$.fragment,X),M(Q.$$.fragment,X),M(q.$$.fragment,X),M(ne.$$.fragment,X),M(oe.$$.fragment,X),M(ae.$$.fragment,X),M(Ce.$$.fragment,X),M(Te.$$.fragment,X),M(Pe.$$.fragment,X),_e=!1},d(X){X&&(y(t),y(i),y(a),y(o),y(u),y(h),y(m),y(d),y(g),y(w),y(A),y(D),y(O),y(B),y(K),y(G),y(W),y(Z),y(ie),y(he),y(ke),y(Ae),y(ye)),j(e,X),j(n,X),j(s,X),j(l,X),j(f,X),j(c,X),j(v,X),j(b,X),j($,X),j(x,X),j(I,X),j(S,X),j(H,X),j(V,X),j(Q,X),j(q,X),j(ne,X),j(oe,X),j(ae,X),j(Ce,X),j(Te,X),j(Pe,X)}}}function KDe(r){let t,e,i,n,a="several applications",s,o;return e=new gr({props:{refId:"shortestPath"}}),{c(){t=E("While it may not be obvious from the graph theory framing, the "),F(e.$$.fragment),i=E(" has "),n=pe("a"),n.textContent=a,s=E(". For example, if you were to model a road network as a graph with arc costs representing travel times or distances, a shortest path problem can be used by a navigation app to decide how to route you from one location to another."),this.h()},l(l){t=k(l,"While it may not be obvious from the graph theory framing, the "),z(e.$$.fragment,l),i=k(l," has "),n=de(l,"A",{href:!0,target:!0,"data-svelte-h":!0}),Xe(n)!=="svelte-hez6jh"&&(n.textContent=a),s=k(l,". For example, if you were to model a road network as a graph with arc costs representing travel times or distances, a shortest path problem can be used by a navigation app to decide how to route you from one location to another."),this.h()},h(){ce(n,"href","https://en.wikipedia.org/wiki/Shortest_path_problem#Applications"),ce(n,"target","_blank")},m(l,u){_(l,t,u),L(e,l,u),_(l,i,u),_(l,n,u),_(l,s,u),o=!0},p:re,i(l){o||(R(e.$$.fragment,l),o=!0)},o(l){M(e.$$.fragment,l),o=!1},d(l){l&&(y(t),y(i),y(n),y(s)),j(e,l)}}}function YDe(r){let t;return{c(){t=E("Knapsack")},l(e){t=k(e,"Knapsack")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function JDe(r){let t,e,i,n,a;return i=new gr({props:{refId:"combOpt",link:!1}}),{c(){t=pe("span"),e=E("Another example problem that fits the "),F(i.$$.fragment),n=E(" framework"),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"Another example problem that fits the "),z(i.$$.fragment,o),n=k(o," framework"),o.forEach(y),this.h()},h(){ce(t,"slot","context")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function QDe(r){let t,e,i,n;return e=new gr({props:{refId:"combOpt"}}),{c(){t=E("Here's another inuitive problem that fits the "),F(e.$$.fragment),i=E(" framework:")},l(a){t=k(a,"Here's another inuitive problem that fits the "),z(e.$$.fragment,a),i=k(a," framework:")},m(a,s){_(a,t,s),L(e,a,s),_(a,i,s),n=!0},p:re,i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){M(e.$$.fragment,a),n=!1},d(a){a&&(y(t),y(i)),j(e,a)}}}function ZDe(r){let t=String.raw`J`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function eNe(r){let t=String.raw`n`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function tNe(r){let t=String.raw`w{:underscore:}j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function rNe(r){let t=String.raw`v{:underscore:}j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function iNe(r){let t=String.raw`j\in J`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function nNe(r){let t=String.raw`b`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function aNe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v;return e=new $e({props:{$$slots:{default:[ZDe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[eNe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[tNe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[rNe]},$$scope:{ctx:r}}}),f=new $e({props:{$$slots:{default:[iNe]},$$scope:{ctx:r}}}),c=new $e({props:{$$slots:{default:[nNe]},$$scope:{ctx:r}}}),{c(){t=E("You are given a set "),F(e.$$.fragment),i=E(" of "),F(n.$$.fragment),a=E(" objects, a weight "),F(s.$$.fragment),o=E(" and a value "),F(l.$$.fragment),u=E(" for each "),F(f.$$.fragment),h=E(", and an overall weight limit "),F(c.$$.fragment),m=E(". Select a set of objects whose combined weight is below the weight limit, such that the sum of their values is maximized.")},l(d){t=k(d,"You are given a set "),z(e.$$.fragment,d),i=k(d," of "),z(n.$$.fragment,d),a=k(d," objects, a weight "),z(s.$$.fragment,d),o=k(d," and a value "),z(l.$$.fragment,d),u=k(d," for each "),z(f.$$.fragment,d),h=k(d,", and an overall weight limit "),z(c.$$.fragment,d),m=k(d,". Select a set of objects whose combined weight is below the weight limit, such that the sum of their values is maximized.")},m(d,b){_(d,t,b),L(e,d,b),_(d,i,b),L(n,d,b),_(d,a,b),L(s,d,b),_(d,o,b),L(l,d,b),_(d,u,b),L(f,d,b),_(d,h,b),L(c,d,b),_(d,m,b),v=!0},p(d,b){const g={};b&1&&(g.$$scope={dirty:b,ctx:d}),e.$set(g);const $={};b&1&&($.$$scope={dirty:b,ctx:d}),n.$set($);const w={};b&1&&(w.$$scope={dirty:b,ctx:d}),s.$set(w);const x={};b&1&&(x.$$scope={dirty:b,ctx:d}),l.$set(x);const A={};b&1&&(A.$$scope={dirty:b,ctx:d}),f.$set(A);const I={};b&1&&(I.$$scope={dirty:b,ctx:d}),c.$set(I)},i(d){v||(R(e.$$.fragment,d),R(n.$$.fragment,d),R(s.$$.fragment,d),R(l.$$.fragment,d),R(f.$$.fragment,d),R(c.$$.fragment,d),v=!0)},o(d){M(e.$$.fragment,d),M(n.$$.fragment,d),M(s.$$.fragment,d),M(l.$$.fragment,d),M(f.$$.fragment,d),M(c.$$.fragment,d),v=!1},d(d){d&&(y(t),y(i),y(a),y(o),y(u),y(h),y(m)),j(e,d),j(n,d),j(s,d),j(l,d),j(f,d),j(c,d)}}}function sNe(r){let t,e="Knapsack Problem";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1d4c9nn"&&(t.textContent=e),this.h()},h(){ce(t,"slot","name")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function oNe(r){let t=String.raw`N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function lNe(r){let t=String.raw`J`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function uNe(r){let t=String.raw`c{:underscore:}j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function fNe(r){let t=String.raw`v{:underscore:}j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function cNe(r){let t=String.raw`c{:underscore:}j=-v{:underscore:}j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function hNe(r){let t=String.raw`\mathcal{F}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function mNe(r){let t=String.raw`
        \mathcal{F} = \left\{S\subseteq J: \sum{:underscore:}{j\in S}w{:underscore:}j\leq b\right\}
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function pNe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D;return e=new $e({props:{$$slots:{default:[oNe]},$$scope:{ctx:r}}}),n=new gr({props:{refId:"combOpt"}}),s=new $e({props:{$$slots:{default:[lNe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[uNe]},$$scope:{ctx:r}}}),f=new gr({props:{refId:"combOpt"}}),c=new $e({props:{$$slots:{default:[fNe]},$$scope:{ctx:r}}}),v=new gr({props:{refId:"knapsack"}}),b=new gr({props:{refId:"combOpt"}}),$=new $e({props:{$$slots:{default:[cNe]},$$scope:{ctx:r}}}),x=new $e({props:{$$slots:{default:[hNe]},$$scope:{ctx:r}}}),I=new ni({props:{$$slots:{default:[mNe]},$$scope:{ctx:r}}}),{c(){t=E("The fit here is pretty natural. The set "),F(e.$$.fragment),i=E(" from the "),F(n.$$.fragment),a=E(" definition is simply the set of objects "),F(s.$$.fragment),o=E(". The weights "),F(l.$$.fragment),u=E(" for the "),F(f.$$.fragment),h=E(" are the values "),F(c.$$.fragment),m=E(", although since "),F(v.$$.fragment),d=E(" is a maximization problem and "),F(b.$$.fragment),g=E(" is defined as minimization, we have "),F($.$$.fragment),w=E(". The feasible subsets "),F(x.$$.fragment),A=E(` are simply the subsets of objects which together do not exceed the weight limit, i.e.
    `),F(I.$$.fragment)},l(S){t=k(S,"The fit here is pretty natural. The set "),z(e.$$.fragment,S),i=k(S," from the "),z(n.$$.fragment,S),a=k(S," definition is simply the set of objects "),z(s.$$.fragment,S),o=k(S,". The weights "),z(l.$$.fragment,S),u=k(S," for the "),z(f.$$.fragment,S),h=k(S," are the values "),z(c.$$.fragment,S),m=k(S,", although since "),z(v.$$.fragment,S),d=k(S," is a maximization problem and "),z(b.$$.fragment,S),g=k(S," is defined as minimization, we have "),z($.$$.fragment,S),w=k(S,". The feasible subsets "),z(x.$$.fragment,S),A=k(S,` are simply the subsets of objects which together do not exceed the weight limit, i.e.
    `),z(I.$$.fragment,S)},m(S,O){_(S,t,O),L(e,S,O),_(S,i,O),L(n,S,O),_(S,a,O),L(s,S,O),_(S,o,O),L(l,S,O),_(S,u,O),L(f,S,O),_(S,h,O),L(c,S,O),_(S,m,O),L(v,S,O),_(S,d,O),L(b,S,O),_(S,g,O),L($,S,O),_(S,w,O),L(x,S,O),_(S,A,O),L(I,S,O),D=!0},p(S,O){const H={};O&1&&(H.$$scope={dirty:O,ctx:S}),e.$set(H);const B={};O&1&&(B.$$scope={dirty:O,ctx:S}),s.$set(B);const V={};O&1&&(V.$$scope={dirty:O,ctx:S}),l.$set(V);const K={};O&1&&(K.$$scope={dirty:O,ctx:S}),c.$set(K);const Q={};O&1&&(Q.$$scope={dirty:O,ctx:S}),$.$set(Q);const G={};O&1&&(G.$$scope={dirty:O,ctx:S}),x.$set(G);const q={};O&1&&(q.$$scope={dirty:O,ctx:S}),I.$set(q)},i(S){D||(R(e.$$.fragment,S),R(n.$$.fragment,S),R(s.$$.fragment,S),R(l.$$.fragment,S),R(f.$$.fragment,S),R(c.$$.fragment,S),R(v.$$.fragment,S),R(b.$$.fragment,S),R($.$$.fragment,S),R(x.$$.fragment,S),R(I.$$.fragment,S),D=!0)},o(S){M(e.$$.fragment,S),M(n.$$.fragment,S),M(s.$$.fragment,S),M(l.$$.fragment,S),M(f.$$.fragment,S),M(c.$$.fragment,S),M(v.$$.fragment,S),M(b.$$.fragment,S),M($.$$.fragment,S),M(x.$$.fragment,S),M(I.$$.fragment,S),D=!1},d(S){S&&(y(t),y(i),y(a),y(o),y(u),y(h),y(m),y(d),y(g),y(w),y(A)),j(e,S),j(n,S),j(s,S),j(l,S),j(f,S),j(c,S),j(v,S),j(b,S),j($,S),j(x,S),j(I,S)}}}function dNe(r){let t,e,i,n,a="applications",s,o;return e=new gr({props:{refId:"knapsack"}}),{c(){t=E("The stereotypical framing for the "),F(e.$$.fragment),i=E(" is that of a hiker trying to decide what items be bring along on a trip. But the "),n=pe("a"),n.textContent=a,s=E(" are numerous, with of course most not involving any type of backpack at all 😊."),this.h()},l(l){t=k(l,"The stereotypical framing for the "),z(e.$$.fragment,l),i=k(l," is that of a hiker trying to decide what items be bring along on a trip. But the "),n=de(l,"A",{href:!0,"data-svelte-h":!0}),Xe(n)!=="svelte-dhx9hi"&&(n.textContent=a),s=k(l," are numerous, with of course most not involving any type of backpack at all 😊."),this.h()},h(){ce(n,"href","https://en.wikipedia.org/wiki/Knapsack_problem#Applications")},m(l,u){_(l,t,u),L(e,l,u),_(l,i,u),_(l,n,u),_(l,s,u),o=!0},p:re,i(l){o||(R(e.$$.fragment,l),o=!0)},o(l){M(e.$$.fragment,l),o=!1},d(l){l&&(y(t),y(i),y(n),y(s)),j(e,l)}}}function vNe(r){let t;return{c(){t=E("Other examples")},l(e){t=k(e,"Other examples")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function gNe(r){let t,e,i,n,a;return i=new gr({props:{refId:"combOpt"}}),{c(){t=pe("span"),e=E("Defining more sample "),F(i.$$.fragment),n=E("s, to give a sense of the breadth of problems available."),this.h()},l(s){t=de(s,"SPAN",{slot:!0});var o=De(t);e=k(o,"Defining more sample "),z(i.$$.fragment,o),n=k(o,"s, to give a sense of the breadth of problems available."),o.forEach(y),this.h()},h(){ce(t,"slot","context")},m(s,o){_(s,t,o),le(t,e),L(i,t,null),le(t,n),a=!0},p:re,i(s){a||(R(i.$$.fragment,s),a=!0)},o(s){M(i.$$.fragment,s),a=!1},d(s){s&&y(t),j(i)}}}function bNe(r){let t=String.raw`N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function yNe(r){let t=String.raw`\mathcal{F}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function $Ne(r){let t=String.raw`c`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function _Ne(r){let t;return{c(){t=E(`In fact, I'd say the formal specifications were never really the point. What we have is a collection of problems that feel similar, in that the possible solutions are "combinatorial" in some sense. The definition was developed post-hoc because mathematicians like definitions.`)},l(e){t=k(e,`In fact, I'd say the formal specifications were never really the point. What we have is a collection of problems that feel similar, in that the possible solutions are "combinatorial" in some sense. The definition was developed post-hoc because mathematicians like definitions.`)},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function wNe(r){let t,e,i,n,a,s,o,l,u,f;return e=new $e({props:{$$slots:{default:[bNe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[yNe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[$Ne]},$$scope:{ctx:r}}}),l=new Kc({props:{$$slots:{default:[_Ne]},$$scope:{ctx:r}}}),{c(){t=E("Now that we've worked through it on a few examples, we'll skip formally specifying "),F(e.$$.fragment),i=E(", "),F(n.$$.fragment),a=E(", and "),F(s.$$.fragment),o=E(" for the next set of problems"),F(l.$$.fragment),u=E(".")},l(h){t=k(h,"Now that we've worked through it on a few examples, we'll skip formally specifying "),z(e.$$.fragment,h),i=k(h,", "),z(n.$$.fragment,h),a=k(h,", and "),z(s.$$.fragment,h),o=k(h," for the next set of problems"),z(l.$$.fragment,h),u=k(h,".")},m(h,c){_(h,t,c),L(e,h,c),_(h,i,c),L(n,h,c),_(h,a,c),L(s,h,c),_(h,o,c),L(l,h,c),_(h,u,c),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),e.$set(m);const v={};c&1&&(v.$$scope={dirty:c,ctx:h}),n.$set(v);const d={};c&1&&(d.$$scope={dirty:c,ctx:h}),s.$set(d);const b={};c&1&&(b.$$scope={dirty:c,ctx:h}),l.$set(b)},i(h){f||(R(e.$$.fragment,h),R(n.$$.fragment,h),R(s.$$.fragment,h),R(l.$$.fragment,h),f=!0)},o(h){M(e.$$.fragment,h),M(n.$$.fragment,h),M(s.$$.fragment,h),M(l.$$.fragment,h),f=!1},d(h){h&&(y(t),y(i),y(a),y(o),y(u)),j(e,h),j(n,h),j(s,h),j(l,h)}}}function xNe(r){let t=String.raw`n`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function SNe(r){let t=String.raw`n`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function ENe(r){let t=String.raw`c{:underscore:}{ij}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function kNe(r){let t=String.raw`i`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function TNe(r){let t=String.raw`j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function ONe(r){let t,e,i,n,a,s,o,l,u,f,h,c;return e=new $e({props:{$$slots:{default:[xNe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[SNe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[ENe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[kNe]},$$scope:{ctx:r}}}),f=new $e({props:{$$slots:{default:[TNe]},$$scope:{ctx:r}}}),{c(){t=E("There are "),F(e.$$.fragment),i=E(" people available to carry out "),F(n.$$.fragment),a=E(" jobs. Each person is assigned to carry out exactly one job. Some individuals are better suited to particular jobs than others, so there is an estimated cost "),F(s.$$.fragment),o=E(" if person "),F(l.$$.fragment),u=E(" is assigned to job "),F(f.$$.fragment),h=E(".")},l(m){t=k(m,"There are "),z(e.$$.fragment,m),i=k(m," people available to carry out "),z(n.$$.fragment,m),a=k(m," jobs. Each person is assigned to carry out exactly one job. Some individuals are better suited to particular jobs than others, so there is an estimated cost "),z(s.$$.fragment,m),o=k(m," if person "),z(l.$$.fragment,m),u=k(m," is assigned to job "),z(f.$$.fragment,m),h=k(m,".")},m(m,v){_(m,t,v),L(e,m,v),_(m,i,v),L(n,m,v),_(m,a,v),L(s,m,v),_(m,o,v),L(l,m,v),_(m,u,v),L(f,m,v),_(m,h,v),c=!0},p(m,v){const d={};v&1&&(d.$$scope={dirty:v,ctx:m}),e.$set(d);const b={};v&1&&(b.$$scope={dirty:v,ctx:m}),n.$set(b);const g={};v&1&&(g.$$scope={dirty:v,ctx:m}),s.$set(g);const $={};v&1&&($.$$scope={dirty:v,ctx:m}),l.$set($);const w={};v&1&&(w.$$scope={dirty:v,ctx:m}),f.$set(w)},i(m){c||(R(e.$$.fragment,m),R(n.$$.fragment,m),R(s.$$.fragment,m),R(l.$$.fragment,m),R(f.$$.fragment,m),c=!0)},o(m){M(e.$$.fragment,m),M(n.$$.fragment,m),M(s.$$.fragment,m),M(l.$$.fragment,m),M(f.$$.fragment,m),c=!1},d(m){m&&(y(t),y(i),y(a),y(o),y(u),y(h)),j(e,m),j(n,m),j(s,m),j(l,m),j(f,m)}}}function ANe(r){let t,e="Assignment Problem";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-s8k3ks"&&(t.textContent=e),this.h()},h(){ce(t,"slot","name")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function INe(r){let t;return{c(){t=E('An example where this might come up: Suppose a ride-hailing app has recently received four ride requests, and there are currently five drivers in the area that can pick them up. The app may decide to assign drivers to riders (with the fifth driver "assigned" to do nothing) by pairing them up so that the sum of distances the drivers travel to pick up their riders is minimized.')},l(e){t=k(e,'An example where this might come up: Suppose a ride-hailing app has recently received four ride requests, and there are currently five drivers in the area that can pick them up. The app may decide to assign drivers to riders (with the fifth driver "assigned" to do nothing) by pairing them up so that the sum of distances the drivers travel to pick up their riders is minimized.')},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function CNe(r){let t;return{c(){t=E("Here's another common problem. It's a little harder to parse initially, but example that follows should help you work through it.")},l(e){t=k(e,"Here's another common problem. It's a little harder to parse initially, but example that follows should help you work through it.")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function PNe(r){let t=String.raw`M`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function DNe(r){let t=String.raw`N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function NNe(r){let t=String.raw`j\in N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function RNe(r){let t=String.raw`S{:underscore:}j\subseteq M`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function MNe(r){let t=String.raw`c{:underscore:}j\in\R`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function BNe(r){let t=String.raw`C\subseteq N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function FNe(r){let t=String.raw`M`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function zNe(r){let t=String.raw`S{:underscore:}j,j\in C`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function LNe(r){let t=String.raw`
        \min{:underscore:}{C\subseteq N}\left\{\sum{:underscore:}{j\in C}c{:underscore:}j: \bigcup{:underscore:}{j\in C}S{:underscore:}j=M\right\}
    `+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function jNe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m="cover",v,d,b,g,$,w,x,A,I;return e=new $e({props:{$$slots:{default:[PNe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[DNe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[NNe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[RNe]},$$scope:{ctx:r}}}),f=new $e({props:{$$slots:{default:[MNe]},$$scope:{ctx:r}}}),d=new $e({props:{$$slots:{default:[BNe]},$$scope:{ctx:r}}}),g=new $e({props:{$$slots:{default:[FNe]},$$scope:{ctx:r}}}),w=new $e({props:{$$slots:{default:[zNe]},$$scope:{ctx:r}}}),A=new ni({props:{$$slots:{default:[LNe]},$$scope:{ctx:r}}}),{c(){t=E("Let "),F(e.$$.fragment),i=E(" and "),F(n.$$.fragment),a=E(" be two sets. For each "),F(s.$$.fragment),o=E(", there is a set "),F(l.$$.fragment),u=E(" and a cost "),F(f.$$.fragment),h=E(". Let a "),c=pe("em"),c.textContent=m,v=E(" be a set "),F(d.$$.fragment),b=E(" such each element of "),F(g.$$.fragment),$=E(" exists in at least one "),F(w.$$.fragment),x=E(`. The problem is to find minimum-cost cover, i.e.
    `),F(A.$$.fragment)},l(D){t=k(D,"Let "),z(e.$$.fragment,D),i=k(D," and "),z(n.$$.fragment,D),a=k(D," be two sets. For each "),z(s.$$.fragment,D),o=k(D,", there is a set "),z(l.$$.fragment,D),u=k(D," and a cost "),z(f.$$.fragment,D),h=k(D,". Let a "),c=de(D,"EM",{"data-svelte-h":!0}),Xe(c)!=="svelte-1qje197"&&(c.textContent=m),v=k(D," be a set "),z(d.$$.fragment,D),b=k(D," such each element of "),z(g.$$.fragment,D),$=k(D," exists in at least one "),z(w.$$.fragment,D),x=k(D,`. The problem is to find minimum-cost cover, i.e.
    `),z(A.$$.fragment,D)},m(D,S){_(D,t,S),L(e,D,S),_(D,i,S),L(n,D,S),_(D,a,S),L(s,D,S),_(D,o,S),L(l,D,S),_(D,u,S),L(f,D,S),_(D,h,S),_(D,c,S),_(D,v,S),L(d,D,S),_(D,b,S),L(g,D,S),_(D,$,S),L(w,D,S),_(D,x,S),L(A,D,S),I=!0},p(D,S){const O={};S&1&&(O.$$scope={dirty:S,ctx:D}),e.$set(O);const H={};S&1&&(H.$$scope={dirty:S,ctx:D}),n.$set(H);const B={};S&1&&(B.$$scope={dirty:S,ctx:D}),s.$set(B);const V={};S&1&&(V.$$scope={dirty:S,ctx:D}),l.$set(V);const K={};S&1&&(K.$$scope={dirty:S,ctx:D}),f.$set(K);const Q={};S&1&&(Q.$$scope={dirty:S,ctx:D}),d.$set(Q);const G={};S&1&&(G.$$scope={dirty:S,ctx:D}),g.$set(G);const q={};S&1&&(q.$$scope={dirty:S,ctx:D}),w.$set(q);const W={};S&1&&(W.$$scope={dirty:S,ctx:D}),A.$set(W)},i(D){I||(R(e.$$.fragment,D),R(n.$$.fragment,D),R(s.$$.fragment,D),R(l.$$.fragment,D),R(f.$$.fragment,D),R(d.$$.fragment,D),R(g.$$.fragment,D),R(w.$$.fragment,D),R(A.$$.fragment,D),I=!0)},o(D){M(e.$$.fragment,D),M(n.$$.fragment,D),M(s.$$.fragment,D),M(l.$$.fragment,D),M(f.$$.fragment,D),M(d.$$.fragment,D),M(g.$$.fragment,D),M(w.$$.fragment,D),M(A.$$.fragment,D),I=!1},d(D){D&&(y(t),y(i),y(a),y(o),y(u),y(h),y(c),y(v),y(b),y($),y(x)),j(e,D),j(n,D),j(s,D),j(l,D),j(f,D),j(d,D),j(g,D),j(w,D),j(A,D)}}}function qNe(r){let t,e="Set Covering Problem";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-64jy60"&&(t.textContent=e),this.h()},h(){ce(t,"slot","name")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function UNe(r){let t=String.raw`M`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function HNe(r){let t=String.raw`N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function WNe(r){let t=String.raw`j\in N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function VNe(r){let t=String.raw`S{:underscore:}j\subseteq N`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function GNe(r){let t=String.raw`c{:underscore:}j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function XNe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v;return e=new $e({props:{$$slots:{default:[UNe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[HNe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[WNe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[VNe]},$$scope:{ctx:r}}}),f=new $e({props:{$$slots:{default:[GNe]},$$scope:{ctx:r}}}),c=new gr({props:{refId:"setCover"}}),{c(){t=E("An example application may be a telecommunications company deciding where to build cell towers in a rural area. The set "),F(e.$$.fragment),i=E(" is the set of cities that require service, and the set "),F(n.$$.fragment),a=E(" is a set of potential tower locations. For each location "),F(s.$$.fragment),o=E(", there is a set of cities "),F(l.$$.fragment),u=E(" that can be served by a tower in that location. There is also a cost associated with building in that location, "),F(f.$$.fragment),h=E(". In this case, solving the "),F(c.$$.fragment),m=E(" corresponds to finding the minimum-cost collection of towers to build, subject to each city getting service.")},l(d){t=k(d,"An example application may be a telecommunications company deciding where to build cell towers in a rural area. The set "),z(e.$$.fragment,d),i=k(d," is the set of cities that require service, and the set "),z(n.$$.fragment,d),a=k(d," is a set of potential tower locations. For each location "),z(s.$$.fragment,d),o=k(d,", there is a set of cities "),z(l.$$.fragment,d),u=k(d," that can be served by a tower in that location. There is also a cost associated with building in that location, "),z(f.$$.fragment,d),h=k(d,". In this case, solving the "),z(c.$$.fragment,d),m=k(d," corresponds to finding the minimum-cost collection of towers to build, subject to each city getting service.")},m(d,b){_(d,t,b),L(e,d,b),_(d,i,b),L(n,d,b),_(d,a,b),L(s,d,b),_(d,o,b),L(l,d,b),_(d,u,b),L(f,d,b),_(d,h,b),L(c,d,b),_(d,m,b),v=!0},p(d,b){const g={};b&1&&(g.$$scope={dirty:b,ctx:d}),e.$set(g);const $={};b&1&&($.$$scope={dirty:b,ctx:d}),n.$set($);const w={};b&1&&(w.$$scope={dirty:b,ctx:d}),s.$set(w);const x={};b&1&&(x.$$scope={dirty:b,ctx:d}),l.$set(x);const A={};b&1&&(A.$$scope={dirty:b,ctx:d}),f.$set(A)},i(d){v||(R(e.$$.fragment,d),R(n.$$.fragment,d),R(s.$$.fragment,d),R(l.$$.fragment,d),R(f.$$.fragment,d),R(c.$$.fragment,d),v=!0)},o(d){M(e.$$.fragment,d),M(n.$$.fragment,d),M(s.$$.fragment,d),M(l.$$.fragment,d),M(f.$$.fragment,d),M(c.$$.fragment,d),v=!1},d(d){d&&(y(t),y(i),y(a),y(o),y(u),y(h),y(m)),j(e,d),j(n,d),j(s,d),j(l,d),j(f,d),j(c,d)}}}function KNe(r){let t,e,i,n,a,s;return e=new gr({props:{refId:"combOpt"}}),n=new zi({props:{refId:"wolsey2020"}}),{c(){t=E("We'll wrap up this section with perhaps the most famous "),F(e.$$.fragment),i=E(" of all. The description here is lifted verbatim from "),F(n.$$.fragment),a=E(".")},l(o){t=k(o,"We'll wrap up this section with perhaps the most famous "),z(e.$$.fragment,o),i=k(o," of all. The description here is lifted verbatim from "),z(n.$$.fragment,o),a=k(o,".")},m(o,l){_(o,t,l),L(e,o,l),_(o,i,l),L(n,o,l),_(o,a,l),s=!0},p:re,i(o){s||(R(e.$$.fragment,o),R(n.$$.fragment,o),s=!0)},o(o){M(e.$$.fragment,o),M(n.$$.fragment,o),s=!1},d(o){o&&(y(t),y(i),y(a)),j(e,o),j(n,o)}}}function YNe(r){let t=String.raw`n`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function JNe(r){let t=String.raw`i`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function QNe(r){let t=String.raw`j`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function ZNe(r){let t=String.raw`c{:underscore:}{ij}`+"",e;return{c(){e=E(t)},l(i){e=k(i,t)},m(i,n){_(i,e,n)},p:re,d(i){i&&y(e)}}}function eRe(r){let t,e,i,n,a,s,o,l,u,f;return e=new $e({props:{$$slots:{default:[YNe]},$$scope:{ctx:r}}}),n=new $e({props:{$$slots:{default:[JNe]},$$scope:{ctx:r}}}),s=new $e({props:{$$slots:{default:[QNe]},$$scope:{ctx:r}}}),l=new $e({props:{$$slots:{default:[ZNe]},$$scope:{ctx:r}}}),{c(){t=E("A salesman must visit each of "),F(e.$$.fragment),i=E(" cities exactly once and then return to his starting point. The time taken to travel from city "),F(n.$$.fragment),a=E(" to city "),F(s.$$.fragment),o=E(" is "),F(l.$$.fragment),u=E(". Find the order in which he should make his tour so as to finish as quickly as possible.")},l(h){t=k(h,"A salesman must visit each of "),z(e.$$.fragment,h),i=k(h," cities exactly once and then return to his starting point. The time taken to travel from city "),z(n.$$.fragment,h),a=k(h," to city "),z(s.$$.fragment,h),o=k(h," is "),z(l.$$.fragment,h),u=k(h,". Find the order in which he should make his tour so as to finish as quickly as possible.")},m(h,c){_(h,t,c),L(e,h,c),_(h,i,c),L(n,h,c),_(h,a,c),L(s,h,c),_(h,o,c),L(l,h,c),_(h,u,c),f=!0},p(h,c){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),e.$set(m);const v={};c&1&&(v.$$scope={dirty:c,ctx:h}),n.$set(v);const d={};c&1&&(d.$$scope={dirty:c,ctx:h}),s.$set(d);const b={};c&1&&(b.$$scope={dirty:c,ctx:h}),l.$set(b)},i(h){f||(R(e.$$.fragment,h),R(n.$$.fragment,h),R(s.$$.fragment,h),R(l.$$.fragment,h),f=!0)},o(h){M(e.$$.fragment,h),M(n.$$.fragment,h),M(s.$$.fragment,h),M(l.$$.fragment,h),f=!1},d(h){h&&(y(t),y(i),y(a),y(o),y(u)),j(e,h),j(n,h),j(s,h),j(l,h)}}}function tRe(r){let t,e="Traveling Salesman Problem";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1k7axap"&&(t.textContent=e),this.h()},h(){ce(t,"slot","name")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function rRe(r){let t,e="TSP";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-t1j4ae"&&(t.textContent=e),this.h()},h(){ce(t,"slot","abbrev")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function iRe(r){let t;return{c(){t=E("This intuitive problem, with obvious applications to e.g. routing delivery drivers, has a long and storied history in the world of optimization. We'll revisit it (as well as all the problems we've discussed so far) several times this course.")},l(e){t=k(e,"This intuitive problem, with obvious applications to e.g. routing delivery drivers, has a long and storied history in the world of optimization. We'll revisit it (as well as all the problems we've discussed so far) several times this course.")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function nRe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D,S,O,H,B,V,K,Q,G,q,W,ne,Z,oe,ie,ae,he,Ce,ke,Te,Ae,Pe,ye,_e,X,fe;return t=new Yr({props:{level:"2",refId:"exampleCOPs",$$slots:{context:[lDe],default:[oDe]},$$scope:{ctx:r}}}),i=new ct({props:{$$slots:{default:[cDe]},$$scope:{ctx:r}}}),a=new Yr({props:{level:"3",refId:"shortestPathDef",$$slots:{context:[mDe],default:[hDe]},$$scope:{ctx:r}}}),o=new ct({props:{$$slots:{default:[pDe]},$$scope:{ctx:r}}}),u=new Cl({props:{refId:"shortestPath",$$slots:{name:[wDe],default:[_De]},$$scope:{ctx:r}}}),h=new ct({props:{$$slots:{default:[kDe]},$$scope:{ctx:r}}}),m=new Il({props:{refId:"shortestPathFirstExample",$$slots:{caption:[ODe],default:[TDe]},$$scope:{ctx:r}}}),d=new ct({props:{$$slots:{default:[XDe]},$$scope:{ctx:r}}}),g=new ct({props:{$$slots:{default:[KDe]},$$scope:{ctx:r}}}),w=new Yr({props:{level:"3",refId:"knapsackDef",$$slots:{context:[JDe],default:[YDe]},$$scope:{ctx:r}}}),A=new ct({props:{$$slots:{default:[QDe]},$$scope:{ctx:r}}}),D=new Cl({props:{refId:"knapsack",$$slots:{name:[sNe],default:[aNe]},$$scope:{ctx:r}}}),O=new ct({props:{$$slots:{default:[pNe]},$$scope:{ctx:r}}}),B=new ct({props:{$$slots:{default:[dNe]},$$scope:{ctx:r}}}),K=new Yr({props:{level:"3",refId:"otherExampleDefs",$$slots:{context:[gNe],default:[vNe]},$$scope:{ctx:r}}}),G=new ct({props:{$$slots:{default:[wNe]},$$scope:{ctx:r}}}),W=new Cl({props:{refId:"assignment",$$slots:{name:[ANe],default:[ONe]},$$scope:{ctx:r}}}),Z=new ct({props:{$$slots:{default:[INe]},$$scope:{ctx:r}}}),ie=new ct({props:{$$slots:{default:[CNe]},$$scope:{ctx:r}}}),he=new Cl({props:{refId:"setCover",$$slots:{name:[qNe],default:[jNe]},$$scope:{ctx:r}}}),ke=new ct({props:{$$slots:{default:[XNe]},$$scope:{ctx:r}}}),Ae=new ct({props:{$$slots:{default:[KNe]},$$scope:{ctx:r}}}),ye=new Cl({props:{refId:"tsp",$$slots:{abbrev:[rRe],name:[tRe],default:[eRe]},$$scope:{ctx:r}}}),X=new ct({props:{$$slots:{default:[iRe]},$$scope:{ctx:r}}}),{c(){F(t.$$.fragment),e=Se(),F(i.$$.fragment),n=Se(),F(a.$$.fragment),s=Se(),F(o.$$.fragment),l=Se(),F(u.$$.fragment),f=Se(),F(h.$$.fragment),c=Se(),F(m.$$.fragment),v=Se(),F(d.$$.fragment),b=Se(),F(g.$$.fragment),$=Se(),F(w.$$.fragment),x=Se(),F(A.$$.fragment),I=Se(),F(D.$$.fragment),S=Se(),F(O.$$.fragment),H=Se(),F(B.$$.fragment),V=Se(),F(K.$$.fragment),Q=Se(),F(G.$$.fragment),q=Se(),F(W.$$.fragment),ne=Se(),F(Z.$$.fragment),oe=Se(),F(ie.$$.fragment),ae=Se(),F(he.$$.fragment),Ce=Se(),F(ke.$$.fragment),Te=Se(),F(Ae.$$.fragment),Pe=Se(),F(ye.$$.fragment),_e=Se(),F(X.$$.fragment)},l(te){z(t.$$.fragment,te),e=Ee(te),z(i.$$.fragment,te),n=Ee(te),z(a.$$.fragment,te),s=Ee(te),z(o.$$.fragment,te),l=Ee(te),z(u.$$.fragment,te),f=Ee(te),z(h.$$.fragment,te),c=Ee(te),z(m.$$.fragment,te),v=Ee(te),z(d.$$.fragment,te),b=Ee(te),z(g.$$.fragment,te),$=Ee(te),z(w.$$.fragment,te),x=Ee(te),z(A.$$.fragment,te),I=Ee(te),z(D.$$.fragment,te),S=Ee(te),z(O.$$.fragment,te),H=Ee(te),z(B.$$.fragment,te),V=Ee(te),z(K.$$.fragment,te),Q=Ee(te),z(G.$$.fragment,te),q=Ee(te),z(W.$$.fragment,te),ne=Ee(te),z(Z.$$.fragment,te),oe=Ee(te),z(ie.$$.fragment,te),ae=Ee(te),z(he.$$.fragment,te),Ce=Ee(te),z(ke.$$.fragment,te),Te=Ee(te),z(Ae.$$.fragment,te),Pe=Ee(te),z(ye.$$.fragment,te),_e=Ee(te),z(X.$$.fragment,te)},m(te,ve){L(t,te,ve),_(te,e,ve),L(i,te,ve),_(te,n,ve),L(a,te,ve),_(te,s,ve),L(o,te,ve),_(te,l,ve),L(u,te,ve),_(te,f,ve),L(h,te,ve),_(te,c,ve),L(m,te,ve),_(te,v,ve),L(d,te,ve),_(te,b,ve),L(g,te,ve),_(te,$,ve),L(w,te,ve),_(te,x,ve),L(A,te,ve),_(te,I,ve),L(D,te,ve),_(te,S,ve),L(O,te,ve),_(te,H,ve),L(B,te,ve),_(te,V,ve),L(K,te,ve),_(te,Q,ve),L(G,te,ve),_(te,q,ve),L(W,te,ve),_(te,ne,ve),L(Z,te,ve),_(te,oe,ve),L(ie,te,ve),_(te,ae,ve),L(he,te,ve),_(te,Ce,ve),L(ke,te,ve),_(te,Te,ve),L(Ae,te,ve),_(te,Pe,ve),L(ye,te,ve),_(te,_e,ve),L(X,te,ve),fe=!0},p(te,[ve]){const je={};ve&1&&(je.$$scope={dirty:ve,ctx:te}),t.$set(je);const Y={};ve&1&&(Y.$$scope={dirty:ve,ctx:te}),i.$set(Y);const P={};ve&1&&(P.$$scope={dirty:ve,ctx:te}),a.$set(P);const N={};ve&1&&(N.$$scope={dirty:ve,ctx:te}),o.$set(N);const ee={};ve&1&&(ee.$$scope={dirty:ve,ctx:te}),u.$set(ee);const be={};ve&1&&(be.$$scope={dirty:ve,ctx:te}),h.$set(be);const Ie={};ve&1&&(Ie.$$scope={dirty:ve,ctx:te}),m.$set(Ie);const Re={};ve&1&&(Re.$$scope={dirty:ve,ctx:te}),d.$set(Re);const at={};ve&1&&(at.$$scope={dirty:ve,ctx:te}),g.$set(at);const dt={};ve&1&&(dt.$$scope={dirty:ve,ctx:te}),w.$set(dt);const mt={};ve&1&&(mt.$$scope={dirty:ve,ctx:te}),A.$set(mt);const Nt={};ve&1&&(Nt.$$scope={dirty:ve,ctx:te}),D.$set(Nt);const wt={};ve&1&&(wt.$$scope={dirty:ve,ctx:te}),O.$set(wt);const Jt={};ve&1&&(Jt.$$scope={dirty:ve,ctx:te}),B.$set(Jt);const vr={};ve&1&&(vr.$$scope={dirty:ve,ctx:te}),K.$set(vr);const tr={};ve&1&&(tr.$$scope={dirty:ve,ctx:te}),G.$set(tr);const cr={};ve&1&&(cr.$$scope={dirty:ve,ctx:te}),W.$set(cr);const rr={};ve&1&&(rr.$$scope={dirty:ve,ctx:te}),Z.$set(rr);const dn={};ve&1&&(dn.$$scope={dirty:ve,ctx:te}),ie.$set(dn);const Pi={};ve&1&&(Pi.$$scope={dirty:ve,ctx:te}),he.$set(Pi);const ci={};ve&1&&(ci.$$scope={dirty:ve,ctx:te}),ke.$set(ci);const aa={};ve&1&&(aa.$$scope={dirty:ve,ctx:te}),Ae.$set(aa);const sa={};ve&1&&(sa.$$scope={dirty:ve,ctx:te}),ye.$set(sa);const Qr={};ve&1&&(Qr.$$scope={dirty:ve,ctx:te}),X.$set(Qr)},i(te){fe||(R(t.$$.fragment,te),R(i.$$.fragment,te),R(a.$$.fragment,te),R(o.$$.fragment,te),R(u.$$.fragment,te),R(h.$$.fragment,te),R(m.$$.fragment,te),R(d.$$.fragment,te),R(g.$$.fragment,te),R(w.$$.fragment,te),R(A.$$.fragment,te),R(D.$$.fragment,te),R(O.$$.fragment,te),R(B.$$.fragment,te),R(K.$$.fragment,te),R(G.$$.fragment,te),R(W.$$.fragment,te),R(Z.$$.fragment,te),R(ie.$$.fragment,te),R(he.$$.fragment,te),R(ke.$$.fragment,te),R(Ae.$$.fragment,te),R(ye.$$.fragment,te),R(X.$$.fragment,te),fe=!0)},o(te){M(t.$$.fragment,te),M(i.$$.fragment,te),M(a.$$.fragment,te),M(o.$$.fragment,te),M(u.$$.fragment,te),M(h.$$.fragment,te),M(m.$$.fragment,te),M(d.$$.fragment,te),M(g.$$.fragment,te),M(w.$$.fragment,te),M(A.$$.fragment,te),M(D.$$.fragment,te),M(O.$$.fragment,te),M(B.$$.fragment,te),M(K.$$.fragment,te),M(G.$$.fragment,te),M(W.$$.fragment,te),M(Z.$$.fragment,te),M(ie.$$.fragment,te),M(he.$$.fragment,te),M(ke.$$.fragment,te),M(Ae.$$.fragment,te),M(ye.$$.fragment,te),M(X.$$.fragment,te),fe=!1},d(te){te&&(y(e),y(n),y(s),y(l),y(f),y(c),y(v),y(b),y($),y(x),y(I),y(S),y(H),y(V),y(Q),y(q),y(ne),y(oe),y(ae),y(Ce),y(Te),y(Pe),y(_e)),j(t,te),j(i,te),j(a,te),j(o,te),j(u,te),j(h,te),j(m,te),j(d,te),j(g,te),j(w,te),j(A,te),j(D,te),j(O,te),j(B,te),j(K,te),j(G,te),j(W,te),j(Z,te),j(ie,te),j(he,te),j(ke,te),j(Ae,te),j(ye,te),j(X,te)}}}class aRe extends $t{constructor(t){super(),_t(this,t,null,nRe,yt,{})}}function sRe(r){let t;return{c(){t=E("Intro to combinatorial optimization")},l(e){t=k(e,"Intro to combinatorial optimization")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function oRe(r){let t,e="Presenting the basics of the field of combinatorial optimization.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-pcgmef"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function lRe(r){let t;return{c(){t=E("introduce the field of combinatorial optimization")},l(e){t=k(e,"introduce the field of combinatorial optimization")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function uRe(r){let t,e,i,n;return e=new bt({props:{$$slots:{default:[lRe]},$$scope:{ctx:r}}}),{c(){t=E("In this section, we'll "),F(e.$$.fragment),i=E(". We'll describe several common problems that fall under the combinatorial optimization umbrella. For a few of these problems, we'll also present special-case algorithms used to solve them.")},l(a){t=k(a,"In this section, we'll "),z(e.$$.fragment,a),i=k(a,". We'll describe several common problems that fall under the combinatorial optimization umbrella. For a few of these problems, we'll also present special-case algorithms used to solve them.")},m(a,s){_(a,t,s),L(e,a,s),_(a,i,s),n=!0},p(a,s){const o={};s&1&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){M(e.$$.fragment,a),n=!1},d(a){a&&(y(t),y(i)),j(e,a)}}}function fRe(r){let t,e,i,n,a,s,o,l,u,f;return t=new Yr({props:{level:"1",refId:"combOptIntro",$$slots:{context:[oRe],default:[sRe]},$$scope:{ctx:r}}}),i=new ct({props:{$$slots:{default:[uRe]},$$scope:{ctx:r}}}),a=new sDe({}),o=new aRe({}),u=new uCe({}),{c(){F(t.$$.fragment),e=Se(),F(i.$$.fragment),n=Se(),F(a.$$.fragment),s=Se(),F(o.$$.fragment),l=Se(),F(u.$$.fragment)},l(h){z(t.$$.fragment,h),e=Ee(h),z(i.$$.fragment,h),n=Ee(h),z(a.$$.fragment,h),s=Ee(h),z(o.$$.fragment,h),l=Ee(h),z(u.$$.fragment,h)},m(h,c){L(t,h,c),_(h,e,c),L(i,h,c),_(h,n,c),L(a,h,c),_(h,s,c),L(o,h,c),_(h,l,c),L(u,h,c),f=!0},p(h,[c]){const m={};c&1&&(m.$$scope={dirty:c,ctx:h}),t.$set(m);const v={};c&1&&(v.$$scope={dirty:c,ctx:h}),i.$set(v)},i(h){f||(R(t.$$.fragment,h),R(i.$$.fragment,h),R(a.$$.fragment,h),R(o.$$.fragment,h),R(u.$$.fragment,h),f=!0)},o(h){M(t.$$.fragment,h),M(i.$$.fragment,h),M(a.$$.fragment,h),M(o.$$.fragment,h),M(u.$$.fragment,h),f=!1},d(h){h&&(y(e),y(n),y(s),y(l)),j(t,h),j(i,h),j(a,h),j(o,h),j(u,h)}}}class cRe extends $t{constructor(t){super(),_t(this,t,null,fRe,yt,{})}}function H7(r,t,e){const i=r.slice();return i[2]=t[e],i}function hRe(r){let t;return{c(){t=E("Glossary")},l(e){t=k(e,"Glossary")},m(e,i){_(e,t,i)},d(e){e&&y(t)}}}function mRe(r){let t,e="Definitions of key terms.";return{c(){t=pe("span"),t.textContent=e,this.h()},l(i){t=de(i,"SPAN",{slot:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-13rw5b"&&(t.textContent=e),this.h()},h(){ce(t,"slot","context")},m(i,n){_(i,t,n)},p:re,d(i){i&&y(t)}}}function W7(r){let t,e;return t=new YS({props:{refId:r[2]}}),{c(){F(t.$$.fragment)},l(i){z(t.$$.fragment,i)},m(i,n){L(t,i,n),e=!0},p(i,n){const a={};n&1&&(a.refId=i[2]),t.$set(a)},i(i){e||(R(t.$$.fragment,i),e=!0)},o(i){M(t.$$.fragment,i),e=!1},d(i){j(t,i)}}}function pRe(r){let t,e,i,n,a,s;t=new Yr({props:{level:"1",refId:"glossary",includeDispSecNum:!1,$$slots:{context:[mRe],default:[hRe]},$$scope:{ctx:r}}});let o=Kn(r[0]),l=[];for(let f=0;f<o.length;f+=1)l[f]=W7(H7(r,o,f));const u=f=>M(l[f],1,1,()=>{l[f]=null});return{c(){F(t.$$.fragment),e=Se(),i=pe("div"),n=Se();for(let f=0;f<l.length;f+=1)l[f].c();a=ht(),this.h()},l(f){z(t.$$.fragment,f),e=Ee(f),i=de(f,"DIV",{style:!0}),De(i).forEach(y),n=Ee(f);for(let h=0;h<l.length;h+=1)l[h].l(f);a=ht(),this.h()},h(){tt(i,"border-top","1pt solid #ddd")},m(f,h){L(t,f,h),_(f,e,h),_(f,i,h),_(f,n,h);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(f,h);_(f,a,h),s=!0},p(f,[h]){const c={};if(h&32&&(c.$$scope={dirty:h,ctx:f}),t.$set(c),h&1){o=Kn(f[0]);let m;for(m=0;m<o.length;m+=1){const v=H7(f,o,m);l[m]?(l[m].p(v,h),R(l[m],1)):(l[m]=W7(v),l[m].c(),R(l[m],1),l[m].m(a.parentNode,a))}for(ai(),m=o.length;m<l.length;m+=1)u(m);si()}},i(f){if(!s){R(t.$$.fragment,f);for(let h=0;h<o.length;h+=1)R(l[h]);s=!0}},o(f){M(t.$$.fragment,f),l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)M(l[h]);s=!1},d(f){f&&(y(e),y(i),y(n),y(a)),j(t,f),Jf(l,f)}}}function dRe(r,t,e){let i,n;return St(r,Sm,a=>e(1,n=a)),r.$$.update=()=>{r.$$.dirty&2&&e(0,i=Object.keys(n.plainText).sort((a,s)=>n.plainText[a].toLowerCase()<n.plainText[s].toLocaleLowerCase()?-1:1))},[i,n]}class vRe extends $t{constructor(t){super(),_t(this,t,dRe,pRe,yt,{})}}function gRe(r){let t,e,i,n,a,s,o,l,u,f;return t=new dPe({}),i=new cRe({}),a=new eCe({}),o=new vRe({}),u=new vCe({}),{c(){F(t.$$.fragment),e=Se(),F(i.$$.fragment),n=Se(),F(a.$$.fragment),s=Se(),F(o.$$.fragment),l=Se(),F(u.$$.fragment)},l(h){z(t.$$.fragment,h),e=Ee(h),z(i.$$.fragment,h),n=Ee(h),z(a.$$.fragment,h),s=Ee(h),z(o.$$.fragment,h),l=Ee(h),z(u.$$.fragment,h)},m(h,c){L(t,h,c),_(h,e,c),L(i,h,c),_(h,n,c),L(a,h,c),_(h,s,c),L(o,h,c),_(h,l,c),L(u,h,c),f=!0},p:re,i(h){f||(R(t.$$.fragment,h),R(i.$$.fragment,h),R(a.$$.fragment,h),R(o.$$.fragment,h),R(u.$$.fragment,h),f=!0)},o(h){M(t.$$.fragment,h),M(i.$$.fragment,h),M(a.$$.fragment,h),M(o.$$.fragment,h),M(u.$$.fragment,h),f=!1},d(h){h&&(y(e),y(n),y(s),y(l)),j(t,h),j(i,h),j(a,h),j(o,h),j(u,h)}}}class bRe extends $t{constructor(t){super(),_t(this,t,null,gRe,yt,{})}}function V7(r,t,e){const i=r.slice();return i[12]=t[e],i}function yRe(r){let t,e,i,n,a,s,o,l,u,f,h,c,m=Kn(r[0]),v=[];for(let d=0;d<m.length;d+=1)v[d]=X7(V7(r,m,d));return{c(){t=pe("div"),e=pe("div"),i=pe("br"),n=Se();for(let d=0;d<v.length;d+=1)v[d].c();a=Se(),s=pe("div"),o=Se(),l=pe("br"),u=Se(),f=pe("br"),this.h()},l(d){t=de(d,"DIV",{class:!0,role:!0});var b=De(t);e=de(b,"DIV",{class:!0});var g=De(e);i=de(g,"BR",{}),n=Ee(g);for(let $=0;$<v.length;$+=1)v[$].l(g);g.forEach(y),a=Ee(b),s=de(b,"DIV",{id:!0,style:!0}),De(s).forEach(y),b.forEach(y),o=Ee(d),l=de(d,"BR",{}),u=Ee(d),f=de(d,"BR",{}),this.h()},h(){ce(e,"class","sectionDisp"),ce(s,"id","sectionContextDisplay"),tt(s,"display","none"),tt(s,"margin-top","0.5rem"),ce(t,"class","sectionDispContainer svelte-13t11d"),ce(t,"role","tooltip")},m(d,b){_(d,t,b),le(t,e),le(e,i),le(e,n);for(let g=0;g<v.length;g+=1)v[g]&&v[g].m(e,null);le(t,a),le(t,s),_(d,o,b),_(d,l,b),_(d,u,b),_(d,f,b),h||(c=xt(t,"mouseleave",r[5]),h=!0)},p(d,b){if(b&27){m=Kn(d[0]);let g;for(g=0;g<m.length;g+=1){const $=V7(d,m,g);v[g]?v[g].p($,b):(v[g]=X7($),v[g].c(),v[g].m(e,null))}for(;g<v.length;g+=1)v[g].d(1);v.length=m.length}},d(d){d&&(y(t),y(o),y(l),y(u),y(f)),Jf(v,d),h=!1,c()}}}function $Re(r){let t;return{c(){t=pe("span")},l(e){t=de(e,"SPAN",{}),De(t).forEach(y)},m(e,i){_(e,t,i)},p:re,d(e){e&&y(t)}}}function G7(r){let t,e="❯",i;return{c(){t=pe("span"),t.textContent=e,i=E(" "),this.h()},l(n){t=de(n,"SPAN",{style:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1ivmefi"&&(t.textContent=e),i=k(n," "),this.h()},h(){tt(t,"font-size","0.8rem")},m(n,a){_(n,t,a),_(n,i,a)},d(n){n&&(y(t),y(i))}}}function X7(r){let t,e,i=r[3].headingTexts[r[12]]+"",n,a,s,o,l;function u(){return r[8](r[12])}function f(){return r[9](r[12])}function h(){return r[10](r[12])}function c(){return r[11](r[12])}let m=r[12]!==r[0][r[0].length-1]&&G7();return{c(){t=pe("span"),e=new Yn(!1),a=Se(),m&&m.c(),s=ht(),this.h()},l(v){t=de(v,"SPAN",{class:!0,style:!0,role:!0,tabindex:!0});var d=De(t);e=Jn(d,!1),d.forEach(y),a=Ee(v),m&&m.l(v),s=ht(),this.h()},h(){e.a=null,ce(t,"class","sectionDispText svelte-13t11d"),ce(t,"style",n=r[1]===r[12]?"font-weight:bold;":""),ce(t,"role","button"),ce(t,"tabindex","0")},m(v,d){_(v,t,d),e.m(i,t),_(v,a,d),m&&m.m(v,d),_(v,s,d),o||(l=[xt(t,"click",u),xt(t,"keydown",f),xt(t,"mouseover",h),xt(t,"focus",c)],o=!0)},p(v,d){r=v,d&9&&i!==(i=r[3].headingTexts[r[12]]+"")&&e.p(i),d&3&&n!==(n=r[1]===r[12]?"font-weight:bold;":"")&&ce(t,"style",n),r[12]!==r[0][r[0].length-1]?m||(m=G7(),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},d(v){v&&(y(t),y(a),y(s)),m&&m.d(v),o=!1,An(l)}}}function _Re(r){let t;function e(a,s){return a[2]?$Re:yRe}let i=e(r),n=i(r);return{c(){n.c(),t=ht()},l(a){n.l(a),t=ht()},m(a,s){n.m(a,s),_(a,t,s)},p(a,[s]){i===(i=e(a))&&n?n.p(a,s):(n.d(1),n=i(a),n&&(n.c(),n.m(t.parentNode,t)))},i:re,o:re,d(a){a&&y(t),n.d(a)}}}const wRe=700;function xRe(r,t,e){let i,n,a,s,o;St(r,Hr,d=>e(3,a=d)),St(r,Mo,d=>e(6,s=d)),St(r,nn,d=>e(7,o=d));let l=[];const u=d=>{e(1,n=d);const b=document.getElementById(d+"Context"),g=document.getElementById("sectionContextDisplay");g.innerHTML=`<a href=#${d} style=color:blue;>Link</a>: `,(b==null?void 0:b.innerHTML)!==""?g.innerHTML+=b==null?void 0:b.innerHTML:g.innerHTML+="<span style=color:gray;font-style:italic;>Section description not available<span>",g.style.display="block"},f=()=>{const d=document.getElementById("sectionContextDisplay");d.style.display="none",e(1,n="")},h=d=>u(d),c=d=>u(d),m=d=>u(d),v=d=>u(d);return r.$$.update=()=>{if(r.$$.dirty&192&&e(2,i=o||(s.innerWidth||0)<wRe),r.$$.dirty&77&&!i){const d=Object.keys(a.numbers).map(g=>{try{}catch{return[g,-1]}const $=document.getElementById(g);return[g,s.scrollY+.3*s.innerHeight-($==null?void 0:$.offsetTop)]}).filter(g=>g[1]>=0).sort((g,$)=>g[1]>$[1]?1:-1);let b;if(d.length>0){b=d[0][0],e(0,l=[b]);let g=a.numbers[b];for(;g.split(".").length>1;)g=g.split(".").slice(0,g.split(".").length-1).join("."),e(0,l=Object.keys(a.numbers).filter($=>a.numbers[$]===g).concat(l))}}if(r.$$.dirty&3&&n!==""&&!l.includes(n)){e(1,n="");const d=document.getElementById("sectionContextDisplay");d.style.display="none"}},e(1,n=""),[l,n,i,a,u,f,s,o,h,c,m,v]}class SRe extends $t{constructor(t){super(),_t(this,t,xRe,_Re,yt,{})}}const{setTimeout:K7,window:Jl}=aC;function Y7(r){let t,e='<div>Your notes are loading.</div> <div>Hang in there, this can take some time.</div> <div class="loader svelte-35du2a"></div>';return{c(){t=pe("div"),t.innerHTML=e,this.h()},l(i){t=de(i,"DIV",{class:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-qsacpj"&&(t.innerHTML=e),this.h()},h(){ce(t,"class","loading svelte-35du2a")},m(i,n){_(i,t,n)},d(i){i&&y(t)}}}function J7(r){let t,e="© Copyright 2025, Jeffrey Pavelka";return{c(){t=pe("div"),t.textContent=e,this.h()},l(i){t=de(i,"DIV",{class:!0,"data-svelte-h":!0}),Xe(t)!=="svelte-1eqhd3i"&&(t.textContent=e),this.h()},h(){ce(t,"class","footer svelte-35du2a")},m(i,n){_(i,t,n)},d(i){i&&y(t)}}}function ERe(r){let t=!1,e=()=>{t=!1},i,n,a,s,o,l,u,f,h,c,m,v,d,b,g,$,w,x,A,I,D,S,O;ym(r[8]),ym(r[9]);let H=r[3]&&Y7();l=new AF({}),h=new UF({}),m=new SRe({}),b=new bRe({});let B=!r[7]&&J7();return{c(){n=pe("div"),a=pe("div"),H&&H.c(),s=Se(),o=pe("div"),F(l.$$.fragment),u=Se(),f=pe("div"),F(h.$$.fragment),c=Se(),F(m.$$.fragment),v=Se(),d=pe("div"),F(b.$$.fragment),g=Se(),$=pe("div"),A=Se(),B&&B.c(),this.h()},l(V){n=de(V,"DIV",{style:!0});var K=De(n);a=de(K,"DIV",{class:!0});var Q=De(a);H&&H.l(Q),s=Ee(Q),o=de(Q,"DIV",{style:!0});var G=De(o);z(l.$$.fragment,G),u=Ee(G),f=de(G,"DIV",{class:!0,style:!0});var q=De(f);z(h.$$.fragment,q),c=Ee(q),z(m.$$.fragment,q),v=Ee(q),d=de(q,"DIV",{class:!0});var W=De(d);z(b.$$.fragment,W),g=Ee(W),$=de(W,"DIV",{class:!0}),De($).forEach(y),W.forEach(y),q.forEach(y),A=Ee(G),B&&B.l(G),G.forEach(y),Q.forEach(y),K.forEach(y),this.h()},h(){ce($,"class","afterNotes svelte-35du2a"),ce(d,"class",w=kn("notesContent"+(r[7]?" notesPrint":""))+" svelte-35du2a"),ce(f,"class","underBar svelte-35du2a"),ce(f,"style",x="visibility:"+(r[4]?"hidden":"visible")),ce(o,"style",I="display:"+(r[3]?"none":"block")),ce(a,"class","allContent svelte-35du2a"),tt(n,"--totalWidth",r[6].innerWidth),tt(n,"--notesWidth",r[5].notesWidth),tt(n,"--menuWidth",r[5].menuWidth),tt(n,"--marginWidth",r[5].marginWidth),tt(n,"--notesLeft",r[5].notesLeft),tt(n,"--popupWidth",r[5].popupWidth),tt(n,"--popupLeft",r[5].popupLeft),tt(n,"--popupPadding",r[5].popupPadding),tt(n,"--standardFontSize","1.4rem")},m(V,K){_(V,n,K),le(n,a),H&&H.m(a,null),le(a,s),le(a,o),L(l,o,null),le(o,u),le(o,f),L(h,f,null),le(f,c),L(m,f,null),le(f,v),le(f,d),L(b,d,null),le(d,g),le(d,$),le(o,A),B&&B.m(o,null),D=!0,S||(O=[xt(Jl,"resize",r[8]),xt(Jl,"scroll",()=>{t=!0,clearTimeout(i),i=K7(e,100),r[9]()})],S=!0)},p(V,[K]){K&4&&!t&&(t=!0,clearTimeout(i),scrollTo(Jl.pageXOffset,V[2]),i=K7(e,100)),V[3]?H||(H=Y7(),H.c(),H.m(a,s)):H&&(H.d(1),H=null),(!D||K&128&&w!==(w=kn("notesContent"+(V[7]?" notesPrint":""))+" svelte-35du2a"))&&ce(d,"class",w),(!D||K&16&&x!==(x="visibility:"+(V[4]?"hidden":"visible")))&&ce(f,"style",x),V[7]?B&&(B.d(1),B=null):B||(B=J7(),B.c(),B.m(o,null)),(!D||K&8&&I!==(I="display:"+(V[3]?"none":"block")))&&ce(o,"style",I),(!D||K&64)&&tt(n,"--totalWidth",V[6].innerWidth),(!D||K&32)&&tt(n,"--notesWidth",V[5].notesWidth),(!D||K&32)&&tt(n,"--menuWidth",V[5].menuWidth),(!D||K&32)&&tt(n,"--marginWidth",V[5].marginWidth),(!D||K&32)&&tt(n,"--notesLeft",V[5].notesLeft),(!D||K&32)&&tt(n,"--popupWidth",V[5].popupWidth),(!D||K&32)&&tt(n,"--popupLeft",V[5].popupLeft),(!D||K&32)&&tt(n,"--popupPadding",V[5].popupPadding)},i(V){D||(R(l.$$.fragment,V),R(h.$$.fragment,V),R(m.$$.fragment,V),R(b.$$.fragment,V),D=!0)},o(V){M(l.$$.fragment,V),M(h.$$.fragment,V),M(m.$$.fragment,V),M(b.$$.fragment,V),D=!1},d(V){V&&y(n),H&&H.d(),j(l),j(h),j(m),j(b),B&&B.d(),S=!1,An(O)}}}function kRe(r,t,e){let i,n,a,s;St(r,KS,d=>e(5,i=d)),St(r,Cf,d=>e(10,n=d)),St(r,Mo,d=>e(6,a=d)),St(r,nn,d=>e(7,s=d));let o=!0,l=!0;const u=d=>{let b=d.target;if(n&&(b==null?void 0:b.id)!=="menuClick"&&i.notesLeft<i.menuWidth){for(;!["BODY","HTML"].includes(b.tagName);){if([...b.classList].includes("menu"))return;b=b==null?void 0:b.parentNode}Cf.update(()=>!1)}};Vo(()=>{const{hash:d}=document.location,b=d&&document.getElementById(d.slice(1));e(3,o=!1),setTimeout(()=>{b&&b.scrollIntoView(),e(4,l=!1)},100),window.onbeforeprint=()=>nn.update(()=>!0),window.onafterprint=()=>nn.update(()=>!1)});try{document.onclick=u}catch{}let f=0,h=0,c=0;function m(){e(0,f=Jl.innerWidth),e(1,h=Jl.innerHeight)}function v(){e(2,c=Jl.pageYOffset)}return r.$$.update=()=>{r.$$.dirty&7&&Mo.update(d=>(d.innerWidth=f,d.innerHeight=h,d.scrollY=c,d))},[f,h,c,o,l,i,a,s,m,v]}class CRe extends $t{constructor(t){super(),_t(this,t,kRe,ERe,yt,{})}}export{CRe as component};
